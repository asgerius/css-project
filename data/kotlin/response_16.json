[{"tags": ["android", "testing", "android-espresso", "kotlin"], "comments": [{"owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 4, "creation_date": 1430317235, "post_id": 29945087, "comment_id": 48013855, "body": "Currently, Kotlin does not support making fields that are backing properties public, but we are working on it"}, {"owner": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "reply_to_user": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 0, "creation_date": 1430317746, "post_id": 29945087, "comment_id": 48014304, "body": "Is there a bug tracking this?"}, {"owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 3, "creation_date": 1430493235, "post_id": 29945087, "comment_id": 48098414, "body": "<a href=\"https://youtrack.jetbrains.com/issue/KT-3441\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-3441</a>"}], "answers": [{"comments": [{"owner": {"reputation": 10489, "user_id": 346741, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a6d0a3771b08d19c92ca8c8edb262fb0?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/346741/rob"}, "edited": false, "score": 1, "creation_date": 1459121482, "post_id": 32815999, "comment_id": 60137508, "body": "And it solved the problem of the lint tool complaining that the public was qualifier on the rule was redundant."}, {"owner": {"reputation": 7138, "user_id": 4415642, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/253d1dc6571ed728099ff96b693f5b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Ziobro", "link": "https://stackoverflow.com/users/4415642/micha%c5%82-ziobro"}, "edited": false, "score": 0, "creation_date": 1547463504, "post_id": 32815999, "comment_id": 95188652, "body": "Yes \\@JvmField  is crucial or use rather \\@get:Rule"}, {"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1552545198, "post_id": 32815999, "comment_id": 97052034, "body": "Only works on final fields. Won&#39;t work for a rule like <code>var wireMockRule = WireMockRule(wireMockConfig().dynamicPort())</code>."}], "tags": [], "owner": {"reputation": 23746, "user_id": 510017, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/acdea246313ec67505a196fff761e514?s=128&d=identicon&r=PG", "display_name": "jkschneider", "link": "https://stackoverflow.com/users/510017/jkschneider"}, "is_accepted": false, "score": 258, "last_activity_date": 1478281800, "last_edit_date": 1478281800, "creation_date": 1443416739, "answer_id": 32815999, "question_id": 29945087, "link": "https://stackoverflow.com/questions/29945087/kotlin-and-new-activitytestrule-the-rule-must-be-public/32815999#32815999", "title": "Kotlin and new ActivityTestRule : The @Rule must be public", "body": "<p>With Kotlin 1.0.0+, this works:</p>\n\n<pre><code>@Rule @JvmField \nval mActivityRule = ActivityTestRule(MainActivity::class.java)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "edited": false, "score": 0, "creation_date": 1444488506, "post_id": 32827600, "comment_id": 53930544, "body": "Does it? I still get the error and it is public with M14 (0.14.449)"}, {"owner": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "edited": false, "score": 0, "creation_date": 1444488856, "post_id": 32827600, "comment_id": 53930685, "body": "seems to need @publicField, but it is deprecated, so I tried lateinit as suggested by IDE, but then it barks at me saying lateinit can be applied only on mutable (the blog&#39;s article says otherwise\u2026)"}, {"owner": {"reputation": 7068, "user_id": 3055345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4be9ac800479c9373ed751f85fbe79e7?s=128&d=identicon&r=PG&f=1", "display_name": "desseim", "link": "https://stackoverflow.com/users/3055345/desseim"}, "reply_to_user": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "edited": false, "score": 1, "creation_date": 1444490948, "post_id": 32827600, "comment_id": 53931389, "body": "Updated my answer ;) As for <code>lateinit val</code>, it has been removed in M14 since it didn&#39;t fully enforce the immutability of the field, see the [M14 release blog post](blog.jetbrains.com/kotlin/2015/10/kotlin-m14-is-out/)."}, {"owner": {"reputation": 1267, "user_id": 6026222, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/uvycL.jpg?s=128&g=1", "display_name": "aleksandrbel", "link": "https://stackoverflow.com/users/6026222/aleksandrbel"}, "edited": false, "score": 0, "creation_date": 1537424586, "post_id": 32827600, "comment_id": 91780695, "body": "What is @get: annotation? It also does not work in my situation."}], "tags": [], "owner": {"reputation": 7068, "user_id": 3055345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4be9ac800479c9373ed751f85fbe79e7?s=128&d=identicon&r=PG&f=1", "display_name": "desseim", "link": "https://stackoverflow.com/users/3055345/desseim"}, "is_accepted": true, "score": 344, "last_activity_date": 1557066475, "last_edit_date": 1557066475, "creation_date": 1443457366, "answer_id": 32827600, "question_id": 29945087, "link": "https://stackoverflow.com/questions/29945087/kotlin-and-new-activitytestrule-the-rule-must-be-public/32827600#32827600", "title": "Kotlin and new ActivityTestRule : The @Rule must be public", "body": "<p>JUnit allows providing rules through a test class field or a getter method.</p>\n\n<p>What you annotated is in Kotlin a <em>property</em> though, which JUnit won't recognize.</p>\n\n<p>Here are the possible ways to specify a JUnit rule in Kotlin:</p>\n\n<h2>Through an annotated getter method</h2>\n\n<p><a href=\"http://blog.jetbrains.com/kotlin/2015/09/kotlin-m13-is-out/\" rel=\"noreferrer\">From M13</a>, the annotation processor <a href=\"https://kotlinlang.org/docs/reference/annotations.html\" rel=\"noreferrer\">supports annotation targets</a>.\nWhen you write</p>\n\n<pre><code>@Rule\npublic val mActivityRule: ActivityTestRule&lt;MainActivity&gt; = ActivityTestRule(javaClass&lt;MainActivity&gt;())\n</code></pre>\n\n<p>though, the annotation will use the <code>property</code> target by default (not visible to Java).</p>\n\n<p>You can annotate the property getter however, which is also public and thus satisfies JUnit requirements for a rule getter:</p>\n\n<pre><code>@get:Rule\npublic val mActivityRule: ActivityTestRule&lt;MainActivity&gt; = ActivityTestRule(javaClass&lt;MainActivity&gt;())\n</code></pre>\n\n<p>Alternatively, you can define the rule with a function instead of a property (achieving manually the same result as with <code>@get:Rule</code>).</p>\n\n<h2>Through an annotated public field</h2>\n\n<p>Kotlin also allows <a href=\"http://blog.jetbrains.com/kotlin/2015/10/kotlin-1-0-beta-candidate-is-out/\" rel=\"noreferrer\">since the beta candidate</a> to deterministically compile properties to fields on the JVM, in which case the annotations and modifiers apply to the generated field. This is done using Kotlin's <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-field/\" rel=\"noreferrer\"><code>@JvmField</code></a> property annotation as <a href=\"https://stackoverflow.com/a/32815999/3055345\">answered by @jkschneider</a>.</p>\n\n<hr>\n\n<p>Side note: be sure to prefix the <code>Rule</code> annotation with an <code>@</code> character as it is now <a href=\"http://blog.jetbrains.com/kotlin/2015/09/kotlin-m13-is-out/\" rel=\"noreferrer\">the only supported syntax for annotations</a>, and avoid <code>@publicField</code> as it <a href=\"http://blog.jetbrains.com/kotlin/2015/09/call-for-feedback-upcoming-changes-in-kotlin/\" rel=\"noreferrer\">will soon be dropped</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 11593, "user_id": 795554, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/yWK9F.jpg?s=128&g=1", "display_name": "Jignesh Ansodariya", "link": "https://stackoverflow.com/users/795554/jignesh-ansodariya"}, "edited": false, "score": 0, "creation_date": 1476077923, "post_id": 39941830, "comment_id": 67183617, "body": "This does not provide an answer to the question. Once you have sufficient <a href=\"http://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"http://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"http://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/low-quality-posts/13929314\">From Review</a>"}, {"owner": {"reputation": 3690, "user_id": 1137789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2218f21b85cbbe41f351bf762db08352?s=128&d=identicon&r=PG", "display_name": "Praveer Gupta", "link": "https://stackoverflow.com/users/1137789/praveer-gupta"}, "reply_to_user": {"reputation": 11593, "user_id": 795554, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/yWK9F.jpg?s=128&g=1", "display_name": "Jignesh Ansodariya", "link": "https://stackoverflow.com/users/795554/jignesh-ansodariya"}, "edited": false, "score": 10, "creation_date": 1478281600, "post_id": 39941830, "comment_id": 68106160, "body": "@JigneshAnsodariya - I did a check and this answer provides an answer to what has been asked. More information on how this is working can be found at the following link - <a href=\"https://kotlinlang.org/docs/reference/properties.html#getters-and-setters\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 4770, "user_id": 1552622, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0DBwH.jpg?s=128&g=1", "display_name": "makovkastar", "link": "https://stackoverflow.com/users/1552622/makovkastar"}, "edited": false, "score": 0, "creation_date": 1509351655, "post_id": 39941830, "comment_id": 80967731, "body": "There is a problem with this approach. If you want to access the activity under test (for example: assertTrue(activityRule.activity.isFinishing)), the property getter will be called, thus creating a new rule. In this case activityRule.activity will be null."}], "tags": [], "owner": {"reputation": 129, "user_id": 6944304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc33ebc68b0dad77bec35df7042a119b?s=128&d=identicon&r=PG", "display_name": "janin", "link": "https://stackoverflow.com/users/6944304/janin"}, "is_accepted": false, "score": 12, "last_activity_date": 1476003866, "creation_date": 1476003866, "answer_id": 39941830, "question_id": 29945087, "link": "https://stackoverflow.com/questions/29945087/kotlin-and-new-activitytestrule-the-rule-must-be-public/39941830#39941830", "title": "Kotlin and new ActivityTestRule : The @Rule must be public", "body": "<p>With Kotlin 1.0.4:</p>\n\n<pre><code>val mActivityRule: ...\n    @Rule get\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2676, "user_id": 4187541, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bef02774dcdbacad792e3b7850710bcc?s=128&d=identicon&r=PG", "display_name": "peterchaula", "link": "https://stackoverflow.com/users/4187541/peterchaula"}, "edited": false, "score": 1, "creation_date": 1555706732, "post_id": 50959484, "comment_id": 98209621, "body": "Care to add an explanation?"}], "tags": [], "owner": {"reputation": 610, "user_id": 1412425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N61qp.png?s=128&g=1", "display_name": "Zahidur Rahman Faisal", "link": "https://stackoverflow.com/users/1412425/zahidur-rahman-faisal"}, "is_accepted": false, "score": 21, "last_activity_date": 1529547966, "creation_date": 1529547966, "answer_id": 50959484, "question_id": 29945087, "link": "https://stackoverflow.com/questions/29945087/kotlin-and-new-activitytestrule-the-rule-must-be-public/50959484#50959484", "title": "Kotlin and new ActivityTestRule : The @Rule must be public", "body": "<p>Use this:</p>\n\n<pre><code>@get:Rule\nvar mActivityRule: ActivityTestRule&lt;MainActivity&gt; = ActivityTestRule(MainActivity::class.java)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 366, "user_id": 11211963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a82a0c2fab8d0a5658658c67649aeb8?s=128&d=identicon&r=PG&f=1", "display_name": "Marci", "link": "https://stackoverflow.com/users/11211963/marci"}, "is_accepted": false, "score": 3, "last_activity_date": 1586251229, "creation_date": 1586251229, "answer_id": 61076685, "question_id": 29945087, "link": "https://stackoverflow.com/questions/29945087/kotlin-and-new-activitytestrule-the-rule-must-be-public/61076685#61076685", "title": "Kotlin and new ActivityTestRule : The @Rule must be public", "body": "<p>Instead of <code>@Rule</code> , you should use <code>@get:Rule</code>.</p>\n"}], "owner": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38482, "favorite_count": 33, "accepted_answer_id": 32827600, "answer_count": 5, "score": 277, "last_activity_date": 1586251229, "creation_date": 1430313732, "last_edit_date": 1557068692, "question_id": 29945087, "link": "https://stackoverflow.com/questions/29945087/kotlin-and-new-activitytestrule-the-rule-must-be-public", "title": "Kotlin and new ActivityTestRule : The @Rule must be public", "body": "<p>I'm trying to make UI test for my android app in Kotlin. Since the new system using ActivityTestRule, I can't make it work: it compiles correctly, and at runtime, I get:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.Exception: The @Rule 'mActivityRule' must be public.\n    at org.junit.internal.runners.rules.RuleFieldValidator.addError(RuleFieldValidator.java:90)\n    at org.junit.internal.runners.rules.RuleFieldValidator.validatePublic(RuleFieldValidator.java:67)\n    at org.junit.internal.runners.rules.RuleFieldValidator.validateField(RuleFieldValidator.java:55)\n    at org.junit.internal.runners.rules.RuleFieldValidator.validate(RuleFieldValidator.java:50)\n    at org.junit.runners.BlockJUnit4ClassRunner.validateFields(BlockJUnit4ClassRunner.java:170)\n    at org.junit.runners.BlockJUnit4ClassRunner.collectInitializationErrors(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.ParentRunner.validate(ParentRunner.java:344)\n    at org.junit.runners.ParentRunner.&lt;init&gt;(ParentRunner.java:74)\n    at org.junit.runners.BlockJUnit4ClassRunner.&lt;init&gt;(BlockJUnit4ClassRunner.java:55)\n    at android.support.test.internal.runner.junit4.AndroidJUnit4ClassRunner.&lt;init&gt;(AndroidJUnit4ClassRunner.java:38)\n    at android.support.test.runner.AndroidJUnit4.&lt;init&gt;(AndroidJUnit4.java:36)\n    at java.lang.reflect.Constructor.constructNative(Native Method)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:417)\n    at android.support.test.internal.runner.junit4.AndroidAnnotatedBuilder.buildAndroidRunner(AndroidAnnotatedBuilder.java:57)\n    at android.support.test.internal.runner.junit4.AndroidAnnotatedBuilder.runnerForClass(AndroidAnnotatedBuilder.java:45)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\n    at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:29)\n    at org.junit.runner.Computer.getRunner(Computer.java:38)\n    at org.junit.runner.Computer$1.runnerForClass(Computer.java:29)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\n    at org.junit.runners.model.RunnerBuilder.runners(RunnerBuilder.java:98)\n    at org.junit.runners.model.RunnerBuilder.runners(RunnerBuilder.java:84)\n    at org.junit.runners.Suite.&lt;init&gt;(Suite.java:79)\n    at org.junit.runner.Computer.getSuite(Computer.java:26)\n    at android.support.test.internal.runner.TestRequestBuilder.classes(TestRequestBuilder.java:691)\n    at android.support.test.internal.runner.TestRequestBuilder.build(TestRequestBuilder.java:654)\n    at android.support.test.runner.AndroidJUnitRunner.buildRequest(AndroidJUnitRunner.java:329)\n    at android.support.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:226)\n    at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:1584)\n</code></pre>\n\n<p>Here is how I declared mActivityRule:</p>\n\n<pre><code>RunWith(javaClass&lt;AndroidJUnit4&gt;())\nLargeTest\npublic class RadisTest {\n\n    Rule\n    public val mActivityRule: ActivityTestRule&lt;MainActivity&gt; = ActivityTestRule(javaClass&lt;MainActivity&gt;())\n\n   ...\n}\n</code></pre>\n\n<p>It is already public :/</p>\n"}, {"tags": ["interface", "delegates", "decorator", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1893, "user_id": 1544278, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/1c50978c4d6b53d68b225457c68c20bc?s=128&d=identicon&r=PG", "display_name": "Turin", "link": "https://stackoverflow.com/users/1544278/turin"}, "edited": false, "score": 0, "creation_date": 1431092122, "post_id": 30118237, "comment_id": 48359988, "body": "Nice, I haven&#39;t even heard about XTend before and  Swift suddenly seems more interesting than just &#39;me too&#39; I&#39;ll have to think of a project to code it in it. As for others, I was primarily interested in strongly statically typed languages and implementing in a declarative sense rather than just delegating, but it&#39;s nice to be remembered about the advantages of script languages, too."}], "tags": [], "owner": {"reputation": 3910, "user_id": 4103854, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EUnmsdTd6P4/AAAAAAAAAAI/AAAAAAAAAGI/TBEWqWgj0wo/photo.jpg?sz=128", "display_name": "Logain", "link": "https://stackoverflow.com/users/4103854/logain"}, "is_accepted": true, "score": 1, "last_activity_date": 1431070210, "creation_date": 1431070210, "answer_id": 30118237, "question_id": 29893073, "link": "https://stackoverflow.com/questions/29893073/what-programming-languages-support-implicit-interface-implementation-by-delegati/30118237#30118237", "title": "What programming languages support implicit interface implementation by delegation?", "body": "<p>Some languages with Delegates :</p>\n\n<ul>\n<li><p><a href=\"http://download.eclipse.org/modeling/tmf/xtext/javadoc/2.8/org/eclipse/xtend/lib/annotations/Delegate.html\" rel=\"nofollow\">Xtend</a></p></li>\n<li><p><a href=\"https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/Protocols.html\" rel=\"nofollow\">Swift</a> </p></li>\n<li><p><a href=\"http://docs.groovy-lang.org/latest/html/gapi/groovy/lang/Delegate.html\" rel=\"nofollow\">Groovy</a></p></li>\n<li><p>All languages that allow overwriting some sort of Missing Method, can easily implement delegation (using what is normally called <code>missing method proxy</code>): i.e.: Ruby, Python, JavaScript es6, Smalltalk</p></li>\n</ul>\n\n<p>An example of missing method proxy using Ruby ( taken from <a href=\"http://www.railstips.org/blog/archives/2009/08/07/patterns-are-not-scary-method-missing-proxy/\" rel=\"nofollow\">here</a> ):</p>\n\n<pre><code>class Proxy\n      def initialize(subject)\n    @subject = subject\n  end\n\n  private\n    def method_missing(method, *args, &amp;block)\n      @subject.send(method, *args, &amp;block)\n    end\nend\n\nproxied_array = Proxy.new([1,2,3])\nputs proxied_array.size # 3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 180, "user_id": 4175039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d73cf66f6bd23980e79d6fa0a96b6d46?s=128&d=identicon&r=PG&f=1", "display_name": "\u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u0421\u0430\u0432\u0438\u043d", "link": "https://stackoverflow.com/users/4175039/%d0%95%d0%b2%d0%b3%d0%b5%d0%bd%d0%b8%d0%b9-%d0%a1%d0%b0%d0%b2%d0%b8%d0%bd"}, "is_accepted": false, "score": 0, "last_activity_date": 1432494439, "creation_date": 1432494439, "answer_id": 30427248, "question_id": 29893073, "link": "https://stackoverflow.com/questions/29893073/what-programming-languages-support-implicit-interface-implementation-by-delegati/30427248#30427248", "title": "What programming languages support implicit interface implementation by delegation?", "body": "<p>Delphi <a href=\"http://docwiki.embarcadero.com/RADStudio/XE6/en/Using_Implements_for_Delegation\" rel=\"nofollow\">has implements keyword</a></p>\n\n<pre><code>  IMyIntf = interface\n     procedure DoWork1();\n     procedure DoWork2();\n     ...\n  end;\n\n  TMyClass = class(TInterfacedObject, IMyIntf)\n  private\n    FIntf: IMyIntf;\n  public\n    property Prop: IMyIntf read FIntf implements IMyIntf;\n  end;\n</code></pre>\n"}], "owner": {"reputation": 1893, "user_id": 1544278, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/1c50978c4d6b53d68b225457c68c20bc?s=128&d=identicon&r=PG", "display_name": "Turin", "link": "https://stackoverflow.com/users/1544278/turin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "accepted_answer_id": 30118237, "answer_count": 2, "score": 0, "last_activity_date": 1432494439, "creation_date": 1430130146, "last_edit_date": 1430293518, "question_id": 29893073, "link": "https://stackoverflow.com/questions/29893073/what-programming-languages-support-implicit-interface-implementation-by-delegati", "title": "What programming languages support implicit interface implementation by delegation?", "body": "<p>Kotlin can do this very neat trick:</p>\n\n<pre><code> class Derived(b: Base) : Base by b\n</code></pre>\n\n<p>which makes your class <code>Derived</code> implement <code>Base</code>, and all methods of <code>Base</code> not implemented explicitly in <code>Derived</code> are automatically delegated to member <code>b</code>. I don't program in Kotlin and losing <code>'this'</code> pointer may be quite limiting, but it looks like such a simple thing that can mean tons for maintainability that every language should have it.</p>\n"}, {"tags": ["oop", "inheritance", "access-modifiers", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "is_accepted": true, "score": 1, "last_activity_date": 1430214345, "creation_date": 1430214345, "answer_id": 29915881, "question_id": 29891495, "link": "https://stackoverflow.com/questions/29891495/do-kotlins-access-modifiers-mean-the-same-thing-as-in-java/29915881#29915881", "title": "Do Kotlin&#39;s access modifiers mean the same thing as in Java?", "body": "<p>Kotlin's access modifiers <em>do not</em> always mean the same thing as in Java. For example, Kotlin allows <code>protected</code> members in interfaces while Java does not. </p>\n\n<p>Modules are compile-time only entities. They group source files and declare dependencies for them (binary libraries and other modules). A module is a unit of compilation, i.e. all of its files are compiled together (in fact there is file-by-file incremental compilation, but its effect must be the same as re-compiling the whole module).</p>\n\n<p>For example, each Maven <code>pom</code> implicitly declares a module, and IDE has modules in the Project View and Project Structure.</p>\n"}], "owner": {"reputation": 235985, "user_id": 252000, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/082b8ee2b0aebb430b8d4d98e6a5c32f?s=128&d=identicon&r=PG", "display_name": "fredoverflow", "link": "https://stackoverflow.com/users/252000/fredoverflow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 29915881, "answer_count": 1, "score": 0, "last_activity_date": 1430214345, "creation_date": 1430125925, "last_edit_date": 1430126232, "question_id": 29891495, "link": "https://stackoverflow.com/questions/29891495/do-kotlins-access-modifiers-mean-the-same-thing-as-in-java", "title": "Do Kotlin&#39;s access modifiers mean the same thing as in Java?", "body": "<p>Kotlin has 3 keywords for access: <code>public</code>, <code>private</code> and <code>protected</code>. Do they mean the same thing as in Java, or are there differences? Also, is <code>internal</code> the same as <code>package private</code>? I keep reading about \"modules\" in Kotlin, and I'm not sure if that's just another word for \"package\".</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 2, "creation_date": 1430154297, "post_id": 29886982, "comment_id": 47926283, "body": "This is not supported at the moment"}, {"owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "edited": false, "score": 1, "creation_date": 1430230068, "post_id": 29886982, "comment_id": 47965036, "body": "Same applies to a Kotlin-Class, which doesn&#39;t have a Companion-object."}, {"owner": {"reputation": 667, "user_id": 5209185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb523e6233de789cd2c9bf757578f30a?s=128&d=identicon&r=PG&f=1", "display_name": "kyay10", "link": "https://stackoverflow.com/users/5209185/kyay10"}, "edited": false, "score": 0, "creation_date": 1560312920, "post_id": 29886982, "comment_id": 99690130, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/28210188/static-extension-methods-in-kotlin\">Static extension methods in Kotlin</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2117, "user_id": 1290995, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e1279e000be24ac05c1743783572b6be?s=128&d=identicon&r=PG", "display_name": "Behnam", "link": "https://stackoverflow.com/users/1290995/behnam"}, "edited": false, "score": 0, "creation_date": 1535959646, "post_id": 32925416, "comment_id": 91239669, "body": "Vote Down: Irrelevant answer"}, {"owner": {"reputation": 62518, "user_id": 469300, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f8256aabf1f8938bc2356b1fbeb227f4?s=128&d=identicon&r=PG", "display_name": "slezica", "link": "https://stackoverflow.com/users/469300/slezica"}, "edited": false, "score": 1, "creation_date": 1588945754, "post_id": 32925416, "comment_id": 109103096, "body": "Vote up: very relevant and informative. The correct answer with the correct link."}], "tags": [], "owner": {"reputation": 1552, "user_id": 1816338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de44d593ee64fb9a09eb8b9c567ff49b?s=128&d=identicon&r=PG", "display_name": "Artyom Krivolapov", "link": "https://stackoverflow.com/users/1816338/artyom-krivolapov"}, "is_accepted": false, "score": 8, "last_activity_date": 1563752976, "last_edit_date": 1563752976, "creation_date": 1443893253, "answer_id": 32925416, "question_id": 29886982, "link": "https://stackoverflow.com/questions/29886982/static-extension-function-on-a-java-class/32925416#32925416", "title": "Static Extension Function on a Java Class", "body": "<p>Short answer: <strong>It is not possible at this moment.</strong> But <a href=\"https://youtrack.jetbrains.com/issue/KT-11968\" rel=\"nofollow noreferrer\">could be supported</a> in the future.</p>\n\n<p>You are right, Java classes don't have companion objects.\nYou can add extensions only to classes (will show on instances of the class) or to declared companion objects (will look like static on the class):</p>\n\n<pre><code>class A { companion object }\nclass B { companion object Test }\n\nfun A.Companion.foo() { println(\"Test A.foo\") }\nfun B.Test.foo() { println(\"Test B.foo\") }\n\nfun main(args: Array&lt;String&gt;) {\n    A.foo() // prints \u00abTest A.foo\u00bb\n    B.foo() // prints \u00abTest B.foo\u00bb\n}\n</code></pre>\n"}], "owner": {"reputation": 247, "user_id": 1368947, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7585909b0ee2e2db6eb7d06b8f553cb5?s=128&d=identicon&r=PG", "display_name": "sublixt", "link": "https://stackoverflow.com/users/1368947/sublixt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1695, "favorite_count": 0, "answer_count": 1, "score": 13, "last_activity_date": 1563752976, "creation_date": 1430107390, "question_id": 29886982, "link": "https://stackoverflow.com/questions/29886982/static-extension-function-on-a-java-class", "title": "Static Extension Function on a Java Class", "body": "<p>Is it possible to add a static extension function similar to a adding an extension function to a companion object. I tried</p>\n\n<pre><code>public fun ByteBuffer.Companion.invoke(capacity: Int): ByteBuffer\n</code></pre>\n\n<p>but it caused Unresolved referenced: Companion. I would only assume this is because Companion is not defined in the java code.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "rx-android", "rx-kotlin"], "answers": [{"tags": [], "owner": {"reputation": 12295, "user_id": 231417, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/55e0b4a18e369a46aa2798b024b15a2e?s=128&d=identicon&r=PG", "display_name": "tbruyelle", "link": "https://stackoverflow.com/users/231417/tbruyelle"}, "is_accepted": true, "score": 1, "last_activity_date": 1430298301, "creation_date": 1430298301, "answer_id": 29939049, "question_id": 29882922, "link": "https://stackoverflow.com/questions/29882922/kotlin-library-rxkotlin-0-21-0-jar-has-an-unsupported-format-please-update-th/29939049#29939049", "title": "Kotlin library &#39;rxkotlin-0.21.0.jar&#39; has an unsupported format. Please update the library or the plugin", "body": "<p>I think they wrongly packaged this version. There is an issue about that on github :</p>\n\n<p><a href=\"https://github.com/ReactiveX/RxKotlin/issues/18\" rel=\"nofollow\">https://github.com/ReactiveX/RxKotlin/issues/18</a></p>\n\n<p>Maybe you should ping it.</p>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 1, "last_activity_date": 1451932765, "creation_date": 1451932765, "answer_id": 34597629, "question_id": 29882922, "link": "https://stackoverflow.com/questions/29882922/kotlin-library-rxkotlin-0-21-0-jar-has-an-unsupported-format-please-update-th/34597629#34597629", "title": "Kotlin library &#39;rxkotlin-0.21.0.jar&#39; has an unsupported format. Please update the library or the plugin", "body": "<p>This issue was resolved with the RxKotlin release for Kotlin M12.  And it is no longer a problem.  </p>\n\n<p><strong>About the error message...</strong></p>\n\n<p>The \"unsupported format\" error comes when the ABI version number of the class files created by Kotlin does not match the expected used by the Kotlin compiler.  This is no longer an issue with Kotlin 1.0 Betas since the ABI number will not change again for 1.0.  But, there will be one forced recompile at 1.0 release candidate to ensure no old compiler bugs affect libraries or code and everything is rebuilt clean.  Afterwards no issues such as this will exist.</p>\n\n<p>Therefore if a library is not up to date with the same ABI, or hits this last \"1.0 recompile\" you may run into a similar error.  The solution is always to find the updated library.</p>\n\n<p>More about this in the <a href=\"http://blog.jetbrains.com/kotlin/2015/12/kotlin-1-0-beta-4-is-out/\" rel=\"nofollow\">Kotlin 1.0 Beta 4 announcement</a> \"What's Next\" section:</p>\n\n<blockquote>\n  <p>After the Beta period is over, there will an RC and then 1.0.</p>\n  \n  <p>We would really like to make sure that no code compiled with\n  pre-release versions of Kotlin are kept around after 1.0, so the RC\n  compiler will force recompilation of all the old code. We will\n  coordinate with library maintainers outside JetBrains to make sure\n  that all the widely-used libraries will be recompiled in time.</p>\n  \n  <p>We\u2019ll also take the opportunity to remove some legacy at this point:</p>\n  \n  <ul>\n  <li>remove all the deprecations that we have accumulated in the process of evolving our libraries, </li>\n  <li>remove all the deprecations from the generated code (you might not have heard of those, but they exist!),</li>\n  <li>get rid of some legacy bytecode peculiarities that were found during the beta,</li>\n  <li>move some of the stdlib code around so that the packages there have\n  more structure. </li>\n  </ul>\n  \n  <p>After that point, the only compatible changes to the\n  standard library are deprecations and additions (this does not include\n  reflection APIs). We are running an open review for the library API to\n  make sure we haven\u2019t missed anything important.</p>\n</blockquote>\n"}], "owner": {"reputation": 1741, "user_id": 137081, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b8cb77eb2ae73c55003a0c9c7a5785d0?s=128&d=identicon&r=PG", "display_name": "Amandeep Grewal", "link": "https://stackoverflow.com/users/137081/amandeep-grewal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 576, "favorite_count": 0, "accepted_answer_id": 29939049, "answer_count": 2, "score": 1, "last_activity_date": 1451932765, "creation_date": 1430078923, "question_id": 29882922, "link": "https://stackoverflow.com/questions/29882922/kotlin-library-rxkotlin-0-21-0-jar-has-an-unsupported-format-please-update-th", "title": "Kotlin library &#39;rxkotlin-0.21.0.jar&#39; has an unsupported format. Please update the library or the plugin", "body": "<p>The error in the title appears in Android Studio as a warning bar above all my code: <img src=\"https://i.stack.imgur.com/JVvo5.png\" alt=\"Error\"></p>\n\n<p>Android Studio version: <code>1.1.0</code><br>\nKotlin plugin version for Android Studio: <code>0.11.91.AndroidStudio.4</code><br>\n<code>build.gradle</code> file that seems to be using all the most recent versions of the Kotlin libraries:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\nandroid {\n    compileSdkVersion 22\n    buildToolsVersion \"22.0.1\"\n\n    defaultConfig {\n        applicationId \"ca.amandeep.simpletransit\"\n        minSdkVersion 16\n        targetSdkVersion 22\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.android.support:appcompat-v7:22.0.0'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    compile 'com.squareup.retrofit:retrofit:1.9.0'\n    compile('com.squareup.retrofit:converter-simplexml:1.9.0') {\n        exclude module: 'stax'\n        exclude module: 'stax-api'\n        exclude module: 'xpp3'\n    }\n    compile 'com.squareup.okhttp:okhttp:2.3.0'\n    compile 'com.squareup.okhttp:okhttp-urlconnection:2.3.0'\n    compile 'com.google.guava:guava:18.0'\n    compile 'com.facebook.stetho:stetho:1.0.1'\n    compile 'com.facebook.stetho:stetho-okhttp:1.0.1'\n    compile 'com.jakewharton.timber:timber:2.7.1'\n    compile 'io.reactivex:rxkotlin:0.21.0'\n    compile 'io.reactivex:rxandroid:0.24.0'\n    compile 'com.github.techfreak:wizardpager:1.0.0'\n}\nbuildscript {\n    ext.kotlin_version = '0.11.91.1'\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n        classpath 'com.jakewharton.hugo:hugo-plugin:1.2.1'\n    }\n}\nrepositories {\n    mavenCentral()\n}\n\napply plugin: 'com.jakewharton.hugo'\n</code></pre>\n"}, {"tags": ["android", "reflection", "parcelable", "kotlin"], "comments": [{"owner": {"reputation": 139, "user_id": 1814483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617a8100b60178cda88f2e02c74fd955?s=128&d=identicon&r=PG", "display_name": "Totoo", "link": "https://stackoverflow.com/users/1814483/totoo"}, "edited": false, "score": 0, "creation_date": 1430045608, "post_id": 29876631, "comment_id": 47877659, "body": "Hi. Try this: <a href=\"http://stackoverflow.com/questions/5849154/can-we-write-our-own-iterator-in-java\" title=\"can we write our own iterator in java\">stackoverflow.com/questions/5849154/&hellip;</a>     ( implement your own iterator: <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/util/Iterator.html</a> )"}, {"owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "edited": false, "score": 0, "creation_date": 1430046614, "post_id": 29876631, "comment_id": 47877953, "body": "You could create your own Iterator as an Extension-Method to List&lt;&gt;, e.g. forMutableEach { }"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1451985076, "post_id": 29876631, "comment_id": 56960821, "body": "This would be better if you wrote the question as a unit test with assertions so the intent is clear.  Are you trying to update <code>b1</code>, <code>b2</code>, <code>b3</code> via their references in the list?  Or are you just trying to updated the list values in <code>parcelBooleans</code> to new values.  If the first, then the answer from Bashor.  If the second, then the answer from me.  You should update your question to be clear (I think reading every comment below helps, but that isn&#39;t very friendly)"}], "answers": [{"comments": [{"owner": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "edited": false, "score": 0, "creation_date": 1430047305, "post_id": 29876945, "comment_id": 47878128, "body": "My point is that my list is not mutable, the elements inside are. Elements are my properties.   But I&#39;m realizing that maybe, listOf is making a value copy of my properties\u2026 so either I must rely on reflection, or wrapping basic type into an class to allow change to their value."}, {"owner": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "edited": false, "score": 0, "creation_date": 1430047665, "post_id": 29876945, "comment_id": 47878231, "body": "Just done a quick test:      fun main(args: Array&lt;String&gt;) {         var b1: Boolean = false         var b2: Boolean = false              val bList = listOf(b1, b2)              b1 = true              println(bList)         }"}, {"owner": {"reputation": 14074, "user_id": 1348215, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/iEZX8.jpg?s=128&g=1", "display_name": "Egor Neliuba", "link": "https://stackoverflow.com/users/1348215/egor-neliuba"}, "reply_to_user": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "edited": false, "score": 0, "creation_date": 1430047797, "post_id": 29876945, "comment_id": 47878270, "body": "@Geobert, you are right about <code>listOf</code> making a copy of your properties. This is true for pure Java too."}, {"owner": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "edited": false, "score": 0, "creation_date": 1430048592, "post_id": 29876945, "comment_id": 47878511, "body": "Yes, not enough coffee this morning ^^;  I&#39;m going to wrap the needed basic types in a class with get/set method"}], "tags": [], "owner": {"reputation": 14074, "user_id": 1348215, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/iEZX8.jpg?s=128&g=1", "display_name": "Egor Neliuba", "link": "https://stackoverflow.com/users/1348215/egor-neliuba"}, "is_accepted": false, "score": -1, "last_activity_date": 1430047335, "last_edit_date": 1430047335, "creation_date": 1430047174, "answer_id": 29876945, "question_id": 29876631, "link": "https://stackoverflow.com/questions/29876631/kotlin-assignable-it/29876945#29876945", "title": "Kotlin:&#160;assignable &quot;it&quot;?", "body": "<p>A way to do it is to map each value:</p>\n\n<pre><code>parcelBooleans = parcelBooleans.map{ p.readBoolean() }\n</code></pre>\n\n<p>You have to make <code>parcelBooleans</code> a mutable variable, though.</p>\n"}, {"comments": [{"owner": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "edited": false, "score": 0, "creation_date": 1430047460, "post_id": 29876954, "comment_id": 47878165, "body": "But this will not change my properties&#39; value (see my comment on Egor N answer)"}, {"owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "reply_to_user": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "edited": false, "score": 0, "creation_date": 1430069501, "post_id": 29876954, "comment_id": 47886096, "body": "What is this class used for?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1451935621, "post_id": 29876954, "comment_id": 56942201, "body": "this makes a copy of the values, not in-place mutation."}], "tags": [], "owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "is_accepted": false, "score": -1, "last_activity_date": 1430047241, "creation_date": 1430047241, "answer_id": 29876954, "question_id": 29876631, "link": "https://stackoverflow.com/questions/29876631/kotlin-assignable-it/29876954#29876954", "title": "Kotlin:&#160;assignable &quot;it&quot;?", "body": "<p>Creating your own Iterator would be the OOP way to do it.</p>\n\n<p>If you want to go the more functional way, you can use map(), e.g.</p>\n\n<pre><code>private fun readFromParcel(p: Parcel) {\n     val mappedBooleans = parcelBooleans.map{ p.readBoolean() }\n}\n</code></pre>\n\n<p>map() is similar to forEach, it uses the return value of each lambda execution to create a new List&lt;></p>\n"}, {"comments": [{"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1430073239, "post_id": 29877187, "comment_id": 47887607, "body": "I think You can simplify it to <code>class Box&lt;T&gt;(var value: T)</code>"}, {"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 1, "creation_date": 1430073685, "post_id": 29877187, "comment_id": 47887793, "body": "Other remarks: # instead to have two constructors You can use default arguments in primary constructor. # You can declare fields in primary constructors(see previous comment). # The making properties public is safe in Kotlin because it&#39;s not field like in Java and you can any time declare custom getters and setters."}, {"owner": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "reply_to_user": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1430147275, "post_id": 29877187, "comment_id": 47921496, "body": "I&#39;ve done a generic MType yeah, but change all for the mapVar delegation solution"}], "tags": [], "owner": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "is_accepted": false, "score": -2, "last_activity_date": 1430048745, "creation_date": 1430048745, "answer_id": 29877187, "question_id": 29876631, "link": "https://stackoverflow.com/questions/29876631/kotlin-assignable-it/29877187#29877187", "title": "Kotlin:&#160;assignable &quot;it&quot;?", "body": "<p>Found out that my code at first can't work as the listOf makes a copy of the properties' value. </p>\n\n<p>So I wrap the basic types in a simple class with get/set method:</p>\n\n<pre><code>public class MBoolean() {\nvar internal: Boolean = false\n\nconstructor(b: Boolean) : this() {\n    internal = b\n}\n\nfun set(b: Boolean) {\n    internal = b\n}\n\nfun get(): Boolean {\n    return internal\n}\n}\n\npublic class MInt() {\nprivate var internal: Int = 0\n\nconstructor(i: Int) : this() {\n    set(i)\n}\n\npublic fun set(i: Int) {\n    internal = i\n}\n\npublic fun get(): Int {\n    return internal\n}\n}\n\noverride fun writeToParcel(p: Parcel, flags: Int) {\n    parcelBooleans.forEach { p.writeBoolean(it.get()) }\n    parcelInts.forEach { p.writeInt(it.get()) }\n}\n\nprivate fun readFromParcel(p: Parcel) {\n    parcelBooleans.forEach { it.set(p.readBoolean()) }\n    parcelInts.forEach { it.set(p.readInt()) }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "edited": false, "score": 0, "creation_date": 1430136151, "post_id": 29881764, "comment_id": 47913046, "body": "I didn&#39;t know of mapVar delegate, this is neat :D I want to avoid the jar, as it is for Android."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "edited": false, "score": 0, "creation_date": 1451985836, "post_id": 29881764, "comment_id": 56961257, "body": "@Geobert -- This is indeed the best answer, <a href=\"https://youtrack.jetbrains.com/issue/KT-7033\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-7033</a> was fixed so reflection jar should not be needed anymore."}], "tags": [], "owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "is_accepted": true, "score": 3, "last_activity_date": 1452006591, "last_edit_date": 1452006591, "creation_date": 1430073086, "answer_id": 29881764, "question_id": 29876631, "link": "https://stackoverflow.com/questions/29876631/kotlin-assignable-it/29881764#29881764", "title": "Kotlin:&#160;assignable &quot;it&quot;?", "body": "<p><strong><em>Update:</em></strong> <em>KT-7033 has been fixed, this answer now works without requiring the kotlin-reflect.jar</em></p>\n\n<p>I think simple way to achieve your wants is the using <a href=\"http://kotlinlang.org/docs/reference/reflection.html#property-references\" rel=\"nofollow\">property references</a>, but note that than you should provide kotlin-reflect.jar in classpath (until <a href=\"https://youtrack.jetbrains.com/issue/KT-7033\" rel=\"nofollow\">KT-7033</a> not fixed). Additionally it may be simplified after <a href=\"https://youtrack.jetbrains.com/issue/KT-6947\" rel=\"nofollow\">KT-6947</a> will be fixed.</p>\n\n<pre><code>public class C_by_Reflection() : Parcelable {\n    var b1: Boolean = false\n    var b2: Boolean = false\n    var b3: Boolean = false\n\n    var i1: Int = 0\n    var i2: Int = 0\n    val parcelBooleans = listOf(::b1, ::b2, ::b3)\n    val parcelInts = listOf(::i1, ::i2)\n\n    override fun writeToParcel(p: Parcel, flags: Int) {\n        parcelBooleans.forEach { p.writeBoolean(it.get(this)) }\n        parcelInts.forEach { p.writeInt(it.get(this)) }\n    }\n\n    private fun readFromParcel(p: Parcel) {\n         parcelBooleans.forEach{ it.set(this, p.readBoolean()) }\n    }\n    // ... parcel creator bla bla\n}\n</code></pre>\n\n<p>Another simple solution is using <a href=\"http://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow\">delegated properties</a>:</p>\n\n<pre><code>public class C_by_Delgates() : Parcelable {\n    val mapBooleans = hashMapOf&lt;String, Any?&gt;()\n    var b1: Boolean by mapBooleans \n    var b2: Boolean by mapBooleans \n    var b3: Boolean by mapBooleans \n\n    val mapInts = hashMapOf&lt;String, Boolean&gt;()\n    var i1: Int by mapInts \n    var i2: Int by mapInts \n\n    override fun writeToParcel(p: Parcel, flags: Int) {\n        mapBooleans.forEach { p.writeBoolean(it.value as Boolean) }\n        mapInts.forEach { p.writeInt(it.value as Int) }\n    }\n\n    private fun readFromParcel(p: Parcel) {\n        mapBooleans.forEach { mapBooleans[it.key] = p.readBoolean() }\n    }\n    // ... parcel creator bla bla\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 0, "last_activity_date": 1451987452, "last_edit_date": 1495540756, "creation_date": 1451935413, "answer_id": 34598326, "question_id": 29876631, "link": "https://stackoverflow.com/questions/29876631/kotlin-assignable-it/34598326#34598326", "title": "Kotlin:&#160;assignable &quot;it&quot;?", "body": "<p><strong><em>NOTE:</em></strong>  <em>The question is not clear if the author is trying to mutate properties <code>b1</code>, <code>b2</code>, <code>b3</code> via a reference within the list.  Or if he is trying to modify the contents of list <code>parcelBooleans</code> which is a copy of the values from the properties.  If the first, see answer from @Bashor (or just make the values of the list something who's sub-contents is mutable), if second, this answer is correct.</em></p>\n\n<p>Given the extension functions defined in this other Stack Overflow question <a href=\"https://stackoverflow.com/questions/34608551/in-kotlin-how-do-you-modify-the-contents-of-a-list-while-iterating\">\"how do you modify the contents of a list while iterating\"</a> you can change your code to simply:</p>\n\n\n\n<pre><code>public class C() : Parcelable {\n    var b1: Boolean = false\n    var b2: Boolean = false\n    var b3: Boolean = false\n\n    var i1: Int = 0\n    var i2: Int = 0\n\n    // CHANGED:  use mutable list, array, or primitive array\n    val parcelBooleans = arrayListOf(b1, b2, b3) \n\n    val parcelInts = listOf(i1, i2)\n\n    override fun writeToParcel(p: Parcel, flags: Int) {\n        parcelBooleans.forEach { p.writeBoolean(it) }\n        parcelInts.forEach { p.writeInt(it) }\n    }\n\n    private fun readFromParcel(p: Parcel) {\n        // CHANGED:  using the extension function\n        parcelBooleans.mapInPlace { p.readBoolean() }\n    }\n    // ... parcel creator bla bla\n}\n</code></pre>\n"}], "owner": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 532, "favorite_count": 0, "accepted_answer_id": 29881764, "answer_count": 5, "score": 0, "last_activity_date": 1452006591, "creation_date": 1430045081, "last_edit_date": 1451989476, "question_id": 29876631, "link": "https://stackoverflow.com/questions/29876631/kotlin-assignable-it", "title": "Kotlin:&#160;assignable &quot;it&quot;?", "body": "<p>I'm trying to simplify Parcelable code in Kotlin: </p>\n\n<pre><code>public class C() : Parcelable {\n    var b1: Boolean = false\n    var b2: Boolean = false\n    var b3: Boolean = false\n\n    var i1: Int = 0\n    var i2: Int = 0\n    val parcelBooleans = listOf(b1, b2, b3)\n    val parcelInts = listOf(i1, i2)\n\n    override fun writeToParcel(p: Parcel, flags: Int) {\n        parcelBooleans.forEach { p.writeBoolean(it) }\n        parcelInts.forEach { p.writeInt(it) }\n    }\n\n    private fun readFromParcel(p: Parcel) {\n         parcelBooleans.forEach{ it = p.readBoolean() } // does not compile as \"it\" is a \"val\"\n    }\n    // ... parcel creator bla bla\n}\n</code></pre>\n\n<p>writeBoolean() and readBoolean() are extension functions.</p>\n\n<p>Is there a way to have a forEach on list with an assignable \"it\"?</p>\n\n<p><strong><em>Update:</em></strong> <em>in a comment to one of the answers the author clarifies this question as:</em></p>\n\n<blockquote>\n  <p>My point is that my list is not mutable, the elements inside are. Elements are my properties. But I'm realizing that maybe, listOf is making a value copy of my properties\u2026 so either I must rely on reflection, or wrapping basic type into an class to allow change to their value.</p>\n</blockquote>\n\n<p>The intent is via the readonly list <code>parcelBooleans</code> which holds references to <code>b1</code>, <code>b2</code>, and <code>b3</code> modify the values of <code>b1</code>, <code>b2</code>, and <code>b3</code>; but not mutating the list itself.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "is_accepted": false, "score": 1, "last_activity_date": 1430071086, "last_edit_date": 1430071086, "creation_date": 1430070756, "answer_id": 29881251, "question_id": 29872956, "link": "https://stackoverflow.com/questions/29872956/kotlin-object-expression-not-working-as-expected/29881251#29881251", "title": "Kotlin object expression not working as expected", "body": "<p>In most case curly braces means lambda declaration (when it's not part of other declaration). I.e. second example pass to <code>task10</code> lambda which returns lambda.</p>\n\n<p>You can find more information in <a href=\"http://kotlinlang.org/docs/reference/lambdas.html#function-literal-syntax\" rel=\"nofollow\">the reference</a></p>\n\n<p>Note: you should get warning on inner lambda from IDE and compiler.</p>\n"}, {"tags": [], "owner": {"reputation": 917, "user_id": 995960, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/2b5a6fe33acb0733af0ba6bbee1fcfc4?s=128&d=identicon&r=PG", "display_name": "Derek Liang", "link": "https://stackoverflow.com/users/995960/derek-liang"}, "is_accepted": false, "score": 1, "last_activity_date": 1430246371, "creation_date": 1430246371, "answer_id": 29927350, "question_id": 29872956, "link": "https://stackoverflow.com/questions/29872956/kotlin-object-expression-not-working-as-expected/29927350#29927350", "title": "Kotlin object expression not working as expected", "body": "<p>It actually is called type safe builder in Kotlin. See the detailed explanation here.</p>\n\n<p><a href=\"http://kotlinlang.org/docs/reference/type-safe-builders.html\" rel=\"nofollow\">http://kotlinlang.org/docs/reference/type-safe-builders.html</a></p>\n\n<p>The relevant  paragraph I cut and paste it below</p>\n\n<blockquote>\n  <p>... So, what does this call do? Let\u2019s look at the body of html function as defined above. It creates a new instance of HTML, then it initializes it by calling the function that is passed as an argument (in our example this boils down to calling head and body on the HTML instance), and then it returns this instance. This is exactly what a builder should do. ...</p>\n</blockquote>\n\n<p>That is exactly what it does in the code that calls task10 function.</p>\n"}], "owner": {"reputation": 917, "user_id": 995960, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/2b5a6fe33acb0733af0ba6bbee1fcfc4?s=128&d=identicon&r=PG", "display_name": "Derek Liang", "link": "https://stackoverflow.com/users/995960/derek-liang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 509, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1430246371, "creation_date": 1430014796, "last_edit_date": 1430048331, "question_id": 29872956, "link": "https://stackoverflow.com/questions/29872956/kotlin-object-expression-not-working-as-expected", "title": "Kotlin object expression not working as expected", "body": "<p>I am going through the Kotlin exercises on GitHub (see link below).</p>\n\n<p>I don't quite understand the following code. </p>\n\n<p>Specifically</p>\n\n<ol>\n<li><p>Where is the mouse listener created?</p></li>\n<li><p>How does <code>mouseListener</code> get invoked? It is invoked 4 times. I didn't see this syntax before. It will be great if you could point to the documentation.</p></li>\n</ol>\n\n<pre>\n// this code is on the github and is working\nval result = task10 { mouseListener ->\n    mouseListener.mouseClicked(mouseEvent)\n    mouseListener.mouseClicked(mouseEvent)\n    mouseListener.mouseClicked(mouseEvent)\n    mouseListener.mouseClicked(mouseEvent)\n}\n</pre>\n\n<p>I am thinking the code should be written like the following. However if I ran, no event gets triggered.</p>\n\n<pre><code>// this is not working\nval result = task10 {\n    mouseListener  -&gt;\n    {\n        mouseListener.mouseClicked(mouseEvent)\n        mouseListener.mouseClicked(mouseEvent)\n        mouseListener.mouseClicked(mouseEvent)\n        mouseListener.mouseClicked(mouseEvent)\n    }\n}\n</code></pre>\n\n<p>The full declaration of the method is:</p>\n\n<pre><code>fun task10(handleMouse: (MouseListener) -&gt; Unit): Int {\n    var mouseClicks = 0\n    handleMouse(todoTask10())\n    return mouseClicks\n }\n</code></pre>\n\n<p>Full source code is <a href=\"https://github.com/JetBrains/workshop-jb/blob/resolutions/test/i_introduction/_10_Object_Expressions/_10_Object_Expressions.kt\" rel=\"nofollow\">here</a> and <a href=\"https://github.com/JetBrains/workshop-jb/blob/master/src/i_introduction/_10_Object_Expressions/ObjectExpressions.kt\" rel=\"nofollow\">here</a>.</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4580, "user_id": 662618, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/485a36e2fb0e89238446e0789d7094a9?s=128&d=identicon&r=PG", "display_name": "loloof64", "link": "https://stackoverflow.com/users/662618/loloof64"}, "edited": false, "score": 0, "creation_date": 1429881126, "post_id": 29847207, "comment_id": 47822748, "body": "Yes, I forgot to look at the page &quot;Extensions&quot; word. Also, I forgot that the File class is not a Reader subclass."}], "tags": [], "owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "is_accepted": false, "score": 3, "last_activity_date": 1429877386, "creation_date": 1429877386, "answer_id": 29847207, "question_id": 29846861, "link": "https://stackoverflow.com/questions/29846861/why-kotlin-file-class-has-no-close-method/29847207#29847207", "title": "Why kotlin File class has no close method?", "body": "<p>This is not a real class, this is a list of Extension-Methods for the java.io.File class.</p>\n\n<p>See: <a href=\"http://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow\">Extensions</a></p>\n"}, {"comments": [{"owner": {"reputation": 4580, "user_id": 662618, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/485a36e2fb0e89238446e0789d7094a9?s=128&d=identicon&r=PG", "display_name": "loloof64", "link": "https://stackoverflow.com/users/662618/loloof64"}, "edited": false, "score": 0, "creation_date": 1429880985, "post_id": 29847760, "comment_id": 47822649, "body": "Thanks. Indeed, as I was used to direct java, I forgot that Kotlin simplifies us the life by reading content directly from File class, and not a Reader subclass. BTW, what is happening over the hood when I use the extension File.writeText() extension : does it creates a Reader instance and handle closing for us ?"}, {"owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "reply_to_user": {"reputation": 4580, "user_id": 662618, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/485a36e2fb0e89238446e0789d7094a9?s=128&d=identicon&r=PG", "display_name": "loloof64", "link": "https://stackoverflow.com/users/662618/loloof64"}, "edited": false, "score": 2, "creation_date": 1429881794, "post_id": 29847760, "comment_id": 47823200, "body": "Yes. You can look it up in the sources: there&#39;s a link on this page <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/-file/write-text.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/-file/&hellip;</a>."}], "tags": [], "owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "is_accepted": true, "score": 5, "last_activity_date": 1429879108, "creation_date": 1429879108, "answer_id": 29847760, "question_id": 29846861, "link": "https://stackoverflow.com/questions/29846861/why-kotlin-file-class-has-no-close-method/29847760#29847760", "title": "Why kotlin File class has no close method?", "body": "<p><code>java.io.File</code> (there is no <code>kolin.io.File</code> at the moment) is not something you can close. See official docs: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/File.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/io/File.html</a></p>\n"}], "owner": {"reputation": 4580, "user_id": 662618, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/485a36e2fb0e89238446e0789d7094a9?s=128&d=identicon&r=PG", "display_name": "loloof64", "link": "https://stackoverflow.com/users/662618/loloof64"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2204, "favorite_count": 0, "accepted_answer_id": 29847760, "answer_count": 2, "score": 2, "last_activity_date": 1429879108, "creation_date": 1429876421, "question_id": 29846861, "link": "https://stackoverflow.com/questions/29846861/why-kotlin-file-class-has-no-close-method", "title": "Why kotlin File class has no close method?", "body": "<p>I've been reading <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/-file/\" rel=\"nofollow\">KotlinDoc for the stdlib/kotlin.io.File class</a>. But I can't see any mention of a close() method nor an autocloseable feature : so what is really happening when a File instance get garbage collected ?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1451941323, "post_id": 29831764, "comment_id": 56945117, "body": "Your specific case is not longer an issue in current Kotlin, the compiler can determine the opportunity of the variable to mutate or not.  See answer: <a href=\"http://stackoverflow.com/a/34599753/3679676\">stackoverflow.com/a/34599753/3679676</a>, or this other question that covers all aspects of nullability and Kotlin&#39;s operators: <a href=\"http://stackoverflow.com/a/34498563/3679676\">stackoverflow.com/a/34498563/3679676</a>"}, {"owner": {"reputation": 1254, "user_id": 3362350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4500858d24434055bd01b57bdc734f?s=128&d=identicon&r=PG", "display_name": "Jacob Zimmerman", "link": "https://stackoverflow.com/users/3362350/jacob-zimmerman"}, "edited": false, "score": 0, "creation_date": 1451993937, "post_id": 29831764, "comment_id": 56966607, "body": "Also, if you run into one of the situations where the compiler (rightly) can&#39;t assume that it&#39;s non-null, you can always add the !! to the end of the variable name to tell Kotlin that you trust that it&#39;s not null."}], "answers": [{"comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1429822814, "post_id": 29832280, "comment_id": 47795074, "body": "The last part is the important one. If your &quot;stuff&quot; consists of a conditional logic you can write val num = if (condition) stuff else null"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1451941439, "post_id": 29832280, "comment_id": 56945187, "body": "This can be simplified, first it is no longer an issue in current Kotlin since local variables mutation can be tracked by the compiler.  Please add a note to the top of this answer to that affect.  It is also now more complicated which cases work and do not; with more being added as the compiler matures."}], "tags": [], "owner": {"reputation": 4459, "user_id": 319698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qij9S.jpg?s=128&g=1", "display_name": "npostavs", "link": "https://stackoverflow.com/users/319698/npostavs"}, "is_accepted": true, "score": 5, "last_activity_date": 1451946902, "last_edit_date": 1495542658, "creation_date": 1429816068, "answer_id": 29832280, "question_id": 29831764, "link": "https://stackoverflow.com/questions/29831764/how-to-pass-nullable-type-into-function-that-takes-a-non-null-type/29832280#29832280", "title": "How to pass nullable type into function that takes a non null type?", "body": "<h3>NOTE: starting from compiler version 1.0 beta the code in question works as is</h3>\n\n<p>The compiler can tell if the variable is mutated between check and use, at least in case of local variables like in this question, and in some other cases.  See <a href=\"https://stackoverflow.com/a/34599753/319698\">Jayson's answer</a> for details.</p>\n\n<hr>\n\n<p><a href=\"http://kotlinlang.org/docs/reference/null-safety.html#checking-for-null-keyword--in-conditions\" rel=\"nofollow noreferrer\">http://kotlinlang.org/docs/reference/null-safety.html#checking-for-null-keyword--in-conditions</a> says</p>\n\n<blockquote>\n  <p>The compiler tracks the information about the [null] check ... this only works where b is immutable (i.e. a local val or a member val which has a backing field and is not overridable), because otherwise it might happen that b changes to null after the check.</p>\n</blockquote>\n\n<p>So something like this should work:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    var num: Int? = null\n    // Stuff happens that might make num not null\n    ...\n    val numVal: Int? = num\n    if (numVal != null) doSomething(numVal)\n}\n\nfun doSomething(number: Int) {\n    ...\n}\n</code></pre>\n\n<p>Of course, it would be nicer to rewrite \"stuff happens\" in such a way that you could make <code>num</code> into a <code>val</code> in the first place.</p>\n"}, {"comments": [{"owner": {"reputation": 338, "user_id": 1453345, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/48cba601d02383b98c71c6c1e24e86a8?s=128&d=identicon&r=PG", "display_name": "user1453345", "link": "https://stackoverflow.com/users/1453345/user1453345"}, "edited": false, "score": 0, "creation_date": 1451968929, "post_id": 34599753, "comment_id": 56954145, "body": "days ago I write this code, the ide asked me to add null check: if (a=null) {a = initA()} invokeA(a) // here ide thinks a is nullable, although initA() returns a non-null value"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 338, "user_id": 1453345, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/48cba601d02383b98c71c6c1e24e86a8?s=128&d=identicon&r=PG", "display_name": "user1453345", "link": "https://stackoverflow.com/users/1453345/user1453345"}, "edited": false, "score": 0, "creation_date": 1451980396, "post_id": 34599753, "comment_id": 56958556, "body": "Comments are not a good place to ask new variations of questions @user1453345.  There is missing detail in your question, and a comment doesn&#39;t allow for what is required.  The information to solve your question is above.  You likely have some variation of the 2nd to last example (obviously <code>a</code> could mutate or flow analysis can&#39;t determine if possible).  If that isn&#39;t clear, then you are wanting more interactive support in understanding why, try the <a href=\"https://kotlinlang.org/community.html\" rel=\"nofollow noreferrer\">Kotlin community on Slack</a>"}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 2, "last_activity_date": 1451941232, "last_edit_date": 1495542214, "creation_date": 1451941232, "answer_id": 34599753, "question_id": 29831764, "link": "https://stackoverflow.com/questions/29831764/how-to-pass-nullable-type-into-function-that-takes-a-non-null-type/34599753#34599753", "title": "How to pass nullable type into function that takes a non null type?", "body": "<p>In current Kotlin (1.0 beta or newer) you do not have this issue anymore.  Your code would compile.  A local variable that is <code>val</code> or <code>var</code> can safely <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#smart-casts\" rel=\"nofollow noreferrer\">Smart Cast</a> since the compiler can determine if the value could have mutated or not (on another thread for example).  </p>\n\n<p>Here is an excerpt from <a href=\"https://stackoverflow.com/a/34498563/3679676\">another Stack Overflow question</a> that covers more aspects of nullability and Kotlin's operators for dealing with them.</p>\n\n<h2>More about <code>null</code> Checking and Smart Casts</h2>\n\n<p>If you protect access to a nullable type with a <code>null</code> check, the compiler will <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#smart-casts\" rel=\"nofollow noreferrer\">smart cast</a> the value within the body of the statement to be non nullable.  There are some complicated flows where this cannot happen, but for common cases works fine.</p>\n\n<pre><code>val possibleXyz: Xyz? = ...\nif (possibleXyz != null) {\n   // allowed to reference members:\n   possiblyXyz.foo()\n   // or also assign as non-nullable type:\n   val surelyXyz: Xyz = possibleXyz\n}\n</code></pre>\n\n<p>Or if you do a <code>is</code> check for a non nullable type:</p>\n\n<pre><code>if (possibleXyz is Xyz) {\n   // allowed to reference members:\n   possiblyXyz.foo()\n}\n</code></pre>\n\n<p>And the same for 'when' expressions that also safe cast:</p>\n\n<pre><code>when (possibleXyz) {\n    null -&gt; doSomething()\n    else -&gt; possibleXyz.foo()\n}\n\n// or\n\nwhen (possibleXyz) {\n    is Xyz -&gt; possibleXyz.foo()\n    is Alpha -&gt; possibleXyz.dominate()\n    is Fish -&gt; possibleXyz.swim() \n}\n</code></pre>\n\n<p>Some things do not allow the <code>null</code> check to <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#smart-casts\" rel=\"nofollow noreferrer\">smart cast</a> for the later use of the variable.  The example above uses a local variable that in no way could have mutated in the flow of the application, whether <code>val</code> or <code>var</code> this variable had no opportunity to mutate into a <code>null</code>.  But, in other cases where the compiler cannot guarantee the flow analysis, this would be an error:</p>\n\n<pre><code>var nullableInt: Int? = ...\n\npublic fun foo() {\n    if (nullableInt != null) {\n        // Error: \"Smart cast to 'kotlin.Int' is impossible, because 'nullableInt' is a mutable property that could have been changed by this time\"\n        val nonNullableInt: Int = nullableInt\n    }\n}\n</code></pre>\n\n<p>The lifecycle of the variable <code>nullableInt</code> is not completely visible and may be assigned from other threads, the <code>null</code> check cannot be <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#smart-casts\" rel=\"nofollow noreferrer\">smart cast</a> into a non nullable value. See the  \"Safe Calls\" topic below for a workaround.</p>\n\n<p>Another case that cannot be trusted by a <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#smart-casts\" rel=\"nofollow noreferrer\">smart cast</a> to not mutate is a <code>val</code> property on an object that has a custom getter.  In this case the compiler has no visibility into what mutates the value and therefore you will get an error message:</p>\n\n<pre><code>class MyThing {\n    val possibleXyz: Xyz? \n        get() { ... }\n}\n\n// now when referencing this class...\n\nval thing = MyThing()\nif (thing.possibleXyz != null) {\n   // error: \"Kotlin: Smart cast to 'kotlin.Int' is impossible, because 'p.x' is a property that has open or custom getter\"\n   thing.possiblyXyz.foo()\n}\n</code></pre>\n\n<p><em>read more: <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#checking-for-null-keyword--in-conditions\" rel=\"nofollow noreferrer\">Checking for null in conditions</a></em></p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 10827627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FeGS7.jpg?s=128&g=1", "display_name": "Ray Lee", "link": "https://stackoverflow.com/users/10827627/ray-lee"}, "is_accepted": false, "score": 1, "last_activity_date": 1572255254, "creation_date": 1572255254, "answer_id": 58588518, "question_id": 29831764, "link": "https://stackoverflow.com/questions/29831764/how-to-pass-nullable-type-into-function-that-takes-a-non-null-type/58588518#58588518", "title": "How to pass nullable type into function that takes a non null type?", "body": "<p>You can use <code>let</code> to simplify the code. The kotlin scope function introduces a local variable in the context of \"num\". No need to declare temporary variable <code>numVal</code>.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    var num: Int? = null\n    // Stuff happens that might make num not null\n    ...\n    num?.let{\n        doSomething(it)\n    }\n}\n</code></pre>\n\n<p>Which works same as below but simpler and cleaner.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    var num: Int? = null\n    // Stuff happens that might make num not null\n    ...\n    val numVal: Int? = num\n    if (numVal != null) doSomething(numVal)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1387, "user_id": 651377, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/537563472e02359f184f0d4a5da446a5?s=128&d=identicon&r=PG", "display_name": "Alok Gupta", "link": "https://stackoverflow.com/users/651377/alok-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1573993489, "creation_date": 1573993489, "answer_id": 58900413, "question_id": 29831764, "link": "https://stackoverflow.com/questions/29831764/how-to-pass-nullable-type-into-function-that-takes-a-non-null-type/58900413#58900413", "title": "How to pass nullable type into function that takes a non null type?", "body": "<p>Use can use Scoping function let or apply along with null safe operator ?. </p>\n\n<pre><code> fragmentManager?.let{\n        viewPager.adapter = TasksPagerAdapter(it)\n    }\n</code></pre>\n\n<p>This way you can pass a nullable type to a non-nullable type parameter</p>\n"}], "owner": {"reputation": 285, "user_id": 3307102, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/28ae672af562b5f2d79d2e28361b4dc8?s=128&d=identicon&r=PG&f=1", "display_name": "user3307102", "link": "https://stackoverflow.com/users/3307102/user3307102"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6313, "favorite_count": 0, "accepted_answer_id": 29832280, "answer_count": 4, "score": 6, "last_activity_date": 1573993489, "creation_date": 1429814392, "question_id": 29831764, "link": "https://stackoverflow.com/questions/29831764/how-to-pass-nullable-type-into-function-that-takes-a-non-null-type", "title": "How to pass nullable type into function that takes a non null type?", "body": "<p>Is this possible if I do a null check before passing? For example:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    var num: Int? = null\n    // Stuff happens that might make num not null\n    ...\n    if (num != null) doSomething(num)\n}\n\nfun doSomething(number: Int) {\n    ...\n}\n</code></pre>\n\n<p>I don't understand why the compiler won't allow me to pass a nullable even though I check that it's not null first. Can anyone explain?</p>\n"}, {"tags": ["android", "classpath", "kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1451941754, "post_id": 29830715, "comment_id": 56945343, "body": "I don&#39;t think this is a current issue with current Kotlin."}], "answers": [{"tags": [], "owner": {"reputation": 93, "user_id": 581460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceee5bc9a935d78f37a76407c86aeeb7?s=128&d=identicon&r=PG", "display_name": "Robert Peacock", "link": "https://stackoverflow.com/users/581460/robert-peacock"}, "is_accepted": false, "score": 0, "last_activity_date": 1429896180, "creation_date": 1429896180, "answer_id": 29853750, "question_id": 29830715, "link": "https://stackoverflow.com/questions/29830715/kotlin-illegalstateexception-resource-not-found-in-classpath-kotlin-kotlin-st/29853750#29853750", "title": "Kotlin IllegalStateException: Resource not found in classpath: kotlin/.kotlin_string_table", "body": "<p>I just encountered this as well when upgrading to Kotlin version 0.11.91.2. There is apparently an issue where the Android toolset does not pack a file prepended with a dot into resources. (note that the file the exception references, .kotlin_string_table, is prepended with a dot).</p>\n\n<p><a href=\"https://github.com/JetBrains/kotlin/commit/20cd360b077b558f7b1af0a2063e7ea908b64efd\" rel=\"nofollow\">A fix</a> has been written but not yet released. You can try using the snapshot release of Kotlin in order to take advantage of it, or otherwise just wait for the next update.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4129993"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1901, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1429896180, "creation_date": 1429810928, "last_edit_date": 1429822656, "question_id": 29830715, "link": "https://stackoverflow.com/questions/29830715/kotlin-illegalstateexception-resource-not-found-in-classpath-kotlin-kotlin-st", "title": "Kotlin IllegalStateException: Resource not found in classpath: kotlin/.kotlin_string_table", "body": "<p>I'm trying to play around with Kotlin a bit in my Android app and am having trouble calling extension functions. The app crashes immediately with the following stack trace:</p>\n\n<pre><code>04-23 13:31:22.415  32606-32606/com.example.kotlin.test E/AndroidRuntime\ufe55 FATAL EXCEPTION: main\n    Process: com.example.kotlin.test, PID: 32606\n    java.lang.ExceptionInInitializerError\n            at org.jetbrains.kotlin.load.kotlin.reflect.RuntimeModuleData$Companion.create(RuntimeModuleData.kt:34)\n            at kotlin.reflect.jvm.internal.InternalPackage$moduleByClassLoader$cff17278.getOrCreateModule(moduleByClassLoader.kt:54)\n            at kotlin.reflect.jvm.internal.KClassImpl$descriptor$1.invoke(KClassImpl.kt:31)\n            at kotlin.reflect.jvm.internal.KClassImpl$descriptor$1.invoke(KClassImpl.kt:26)\n            at kotlin.reflect.jvm.internal.ReflectProperties$LazySoftVal.get(ReflectProperties.java:84)\n            at kotlin.reflect.jvm.internal.KClassImpl.getDescriptor(KClassImpl.kt)\n            at kotlin.reflect.jvm.internal.KClassImpl.getScope(KClassImpl.kt:43)\n            at kotlin.reflect.jvm.internal.KClassImpl.getProperties(KClassImpl.kt:84)\n            at kotlin.reflect.jvm.internal.KClassImpl.getProperties(KClassImpl.kt:72)\n            at kotlin.reflect.ReflectPackage$KClassExtensions$6beb0f9b.getDeclaredProperties(KClassExtensions.kt:25)\n            at kotlin.reflect.ReflectPackage.getDeclaredProperties(KClassExtensions.kt:1)\n            at com.example.test.kotlin.api.model.DatabaseObject$$TImpl.deflate(DatabaseObject.kt:40)\n            at com.example.test.kotlin.api.model.impl.Model.deflate(Model.kt)\n            at com.example.test.kotlin.api.model.impl.Model.&lt;init&gt;(Model.kt:28)\n            at com.example.test.kotlin.api.model.impl.TestModel.&lt;init&gt;(TestModel.kt:23)\n            at com.example.app.TestModelIndexFragment.onCreate(TestModelIndexFragment.java:122)\n            at android.support.v4.app.Fragment.performCreate(Fragment.java:1763)\n            at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:915)\n            at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1136)\n            at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:739)\n            at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1499)\n            at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:548)\n            at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1220)\n            at android.app.Activity.performStart(Activity.java:5949)\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2292)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2389)\n            at android.app.ActivityThread.access$900(ActivityThread.java:147)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1296)\n            at android.os.Handler.dispatchMessage(Handler.java:102)\n            at android.os.Looper.loop(Looper.java:135)\n            at android.app.ActivityThread.main(ActivityThread.java:5254)\n            at java.lang.reflect.Method.invoke(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:372)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:898)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:693)\n     Caused by: java.lang.IllegalStateException: Built-in library initialization failed. Please ensure you have kotlin-runtime.jar in the classpath:     java.lang.IllegalStateException: Resource not found in classpath: kotlin/.kotlin_string_table\n            at org.jetbrains.kotlin.builtins.KotlinBuiltIns.initialize(KotlinBuiltIns.java:75)\n            at org.jetbrains.kotlin.builtins.KotlinBuiltIns.getInstance(KotlinBuiltIns.java:93)\n            at org.jetbrains.kotlin.platform.JavaToKotlinClassMapBuilder.init(JavaToKotlinClassMapBuilder.java:35)\n            at org.jetbrains.kotlin.platform.JavaToKotlinClassMap.&lt;init&gt;(JavaToKotlinClassMap.java:44)\n            at org.jetbrains.kotlin.platform.JavaToKotlinClassMap.&lt;clinit&gt;(JavaToKotlinClassMap.java:35)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at org.jetbrains.kotlin.load.kotlin.reflect.RuntimeModuleData$Companion.create(RuntimeModuleData.kt:34)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at kotlin.reflect.jvm.internal.InternalPackage$moduleByClassLoader$cff17278.getOrCreateModule(moduleByClassLoader.kt:54)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at kotlin.reflect.jvm.internal.KClassImpl$descriptor$1.invoke(KClassImpl.kt:31)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at kotlin.reflect.jvm.internal.KClassImpl$descriptor$1.invoke(KClassImpl.kt:26)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at kotlin.reflect.jvm.internal.ReflectProperties$LazySoftVal.get(ReflectProperties.java:84)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at kotlin.reflect.jvm.internal.KClassImpl.getDescriptor(KClassImpl.kt)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at kotlin.reflect.jvm.internal.KClassImpl.getScope(KClassImpl.kt:43)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at kotlin.reflect.jvm.internal.KClassImpl.getProperties(KClassImpl.kt:84)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at kotlin.reflect.jvm.internal.KClassImpl.getProperties(KClassImpl.kt:72)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at kotlin.reflect.ReflectPackage$KClassExtensions$6beb0f9b.getDeclaredProperties(KClassExtensions.kt:25)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at kotlin.reflect.ReflectPackage.getDeclaredProperties(KClassExtensions.kt:1)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.example.test.kotlin.api.model.DatabaseObject$$TImpl.deflate(DatabaseObject.kt:40)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.example.test.kotlin.api.model.impl.Model.deflate(Model.kt)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.example.test.kotlin.api.model.impl.Model.&lt;init&gt;(Model.kt:28)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.example.test.kotlin.api.model.impl.TestModel.&lt;init&gt;(TestModel.kt:23)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.example.app.TestModelIndexFragment.onCreate(TestModelIndexFragment.java:122)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.support.v4.app.Fragment.performCreate(Fragment.java:1763)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:915)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1136)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:739)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1499)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:548)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1220)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.app.Activity.performStart(Activity.java:5949)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2292)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2389)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.app.ActivityThread.access$900(ActivityThread.java:147)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1296)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.os.Handler.dispatchMessage(Handler.java:102)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.os.Looper.loop(Looper.java:135)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.app.ActivityThread.main(ActivityThread.java:5254)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at java.lang.reflect.Method.invoke(Native Method)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at java.lang.reflect.Method.invoke(Method.java:372)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:898)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:693)\n     Caused by: java.lang.IllegalStateException: Resource not found in classpath: kotlin/.kotlin_string_table\n            at org.jetbrains.kotlin.builtins.BuiltinsPackageFragment.getStream(BuiltinsPackageFragment.kt:86)\n            at org.jetbrains.kotlin.builtins.BuiltinsPackageFragment.&lt;init&gt;(BuiltinsPackageFragment.kt:55)\n            at org.jetbrains.kotlin.builtins.KotlinBuiltIns.&lt;init&gt;(KotlinBuiltIns.java:114)\n            at org.jetbrains.kotlin.builtins.KotlinBuiltIns.initialize(KotlinBuiltIns.java:70)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at org.jetbrains.kotlin.builtins.KotlinBuiltIns.getInstance(KotlinBuiltIns.java:93)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at org.jetbrains.kotlin.platform.JavaToKotlinClassMapBuilder.init(JavaToKotlinClassMapBuilder.java:35)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at org.jetbrains.kotlin.platform.JavaToKotlinClassMap.&lt;init&gt;(JavaToKotlinClassMap.java:44)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at org.jetbrains.kotlin.platform.JavaToKotlinClassMap.&lt;clinit&gt;(JavaToKotlinClassMap.java:35)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at org.jetbrains.kotlin.load.kotlin.reflect.RuntimeModuleData$Companion.create(RuntimeModuleData.kt:34)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at kotlin.reflect.jvm.internal.InternalPackage$moduleByClassLoader$cff17278.getOrCreateModule(moduleByClassLoader.kt:54)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at kotlin.reflect.jvm.internal.KClassImpl$descriptor$1.invoke(KClassImpl.kt:31)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at kotlin.reflect.jvm.internal.KClassImpl$descriptor$1.invoke(KClassImpl.kt:26)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at kotlin.reflect.jvm.internal.ReflectProperties$LazySoftVal.get(ReflectProperties.java:84)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at kotlin.reflect.jvm.internal.KClassImpl.getDescriptor(KClassImpl.kt)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at kotlin.reflect.jvm.internal.KClassImpl.getScope(KClassImpl.kt:43)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at kotlin.reflect.jvm.internal.KClassImpl.getProperties(KClassImpl.kt:84)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at kotlin.reflect.jvm.internal.KClassImpl.getProperties(KClassImpl.kt:72)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at kotlin.reflect.ReflectPackage$KClassExtensions$6beb0f9b.getDeclaredProperties(KClassExtensions.kt:25)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at kotlin.reflect.ReflectPackage.getDeclaredProperties(KClassExtensions.kt:1)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.example.test.kotlin.api.model.DatabaseObject$$TImpl.deflate(DatabaseObject.kt:40)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.example.test.kotlin.api.model.impl.Model.deflate(Model.kt)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.example.test.kotlin.api.model.impl.Model.&lt;init&gt;(Model.kt:28)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.example.test.kotlin.api.model.impl.TestModel.&lt;init&gt;(TestModel.kt:23)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.example.app.TestModelIndexFragment.onCreate(TestModelIndexFragment.java:122)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.support.v4.app.Fragment.performCreate(Fragment.java:1763)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:915)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1136)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:739)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1499)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:548)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1220)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.app.Activity.performStart(Activity.java:5949)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2292)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2389)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.app.ActivityThread.access$900(ActivityThread.java:147)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1296)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.os.Handler.dispatchMessage(Handler.java:102)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.os.Looper.loop(Looper.java:135)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at android.app.ActivityThread.main(ActivityThread.java:5254)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at java.lang.reflect.Method.invoke(Native Method)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at java.lang.reflect.Method.invoke(Method.java:372)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:898)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:693)\n</code></pre>\n\n<p>My project is composed of two modules, <code>test-kt</code> and <code>app</code>, for the new Kotlin stuff and existing Java code respectively. <code>test-kt/build.gradle</code> has the following:</p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\n\nandroid {\n  compileSdkVersion 22\n  buildToolsVersion \"22.0.1\"\n\n  defaultConfig {\n    minSdkVersion 9\n    targetSdkVersion 22\n    versionCode 1\n    versionName \"1.0\"\n  }\n  buildTypes {\n    release {\n      minifyEnabled false\n      proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n  }\n  sourceSets {\n    main.kotlin.srcDirs += 'src/main/kotlin'\n    main.java.srcDirs += 'src/main/kotlin'\n  }\n}\n\ndependencies {\n  compile fileTree(dir: 'libs', include: ['*.jar'])\n  compile 'com.android.support:appcompat-v7:22.0.0'\n  compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n  compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n}\n\nbuildscript {\n  ext.kotlin_version = '0.11.91.2'\n  repositories {\n    mavenCentral()\n  }\n  dependencies {\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    classpath 'com.android.tools.build:gradle:1.1.0'\n  }\n}\n\nrepositories {\n  mavenCentral()\n}\n</code></pre>\n\n<p>I've tried adding the Kotlin libs as dependencies within <code>app</code> as well with no luck. Is there something I'm missing?</p>\n\n<p>EDIT: Upon further investigation, it looks like this only happens whenever I use property references (such as <code>::x</code>) and not when I use extension methods. I definitely have included <code>kotlin-reflect</code>... any ideas?</p>\n"}, {"tags": ["switch-statement", "constants", "lookup", "kotlin"], "comments": [{"owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 2, "creation_date": 1429872486, "post_id": 29829496, "comment_id": 47816652, "body": "This is a piculiarity of the implementation in the compiler. Not exactly a bug, but we&#39;ll likely fix it soon (one way or the other)."}, {"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1429890708, "post_id": 29829496, "comment_id": 47829927, "body": "Related issue: <a href=\"https://youtrack.jetbrains.com/issue/KT-7579\" rel=\"nofollow noreferrer\">KT-7579</a>"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1451941871, "post_id": 29829496, "comment_id": 56945400, "body": "This is more of a bug or feature request than a SO question.  It works best as an issue in <a href=\"https://youtrack.jetbrains.com\" rel=\"nofollow noreferrer\">YouTrack</a>, and was nice of @bashor to create an issue tracking it for you."}, {"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1452023049, "post_id": 29829496, "comment_id": 56985439, "body": "to be fair, I&#39;m not creator of the issue :)"}], "answers": [{"tags": [], "owner": {"reputation": 414, "user_id": 377971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b10f6c2a3cbcec394422bfa0177245c?s=128&d=identicon&r=PG", "display_name": "Beholder", "link": "https://stackoverflow.com/users/377971/beholder"}, "is_accepted": false, "score": 0, "last_activity_date": 1493204728, "creation_date": 1493204728, "answer_id": 43632393, "question_id": 29829496, "link": "https://stackoverflow.com/questions/29829496/efficient-switch-needs-self-qualification/43632393#43632393", "title": "Efficient switch needs self-qualification?", "body": "<p>You should mark each constant with <code>const</code> modifier, then optimization will happen.</p>\n\n<p>By the way, in latest Kotlin version, bytecode for both functions is identical.</p>\n"}], "owner": {"reputation": 235985, "user_id": 252000, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/082b8ee2b0aebb430b8d4d98e6a5c32f?s=128&d=identicon&r=PG", "display_name": "fredoverflow", "link": "https://stackoverflow.com/users/252000/fredoverflow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 219, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1493204728, "creation_date": 1429806934, "last_edit_date": 1460563154, "question_id": 29829496, "link": "https://stackoverflow.com/questions/29829496/efficient-switch-needs-self-qualification", "title": "Efficient switch needs self-qualification?", "body": "<p>Apparently, <code>when</code> expressions are compiled differently depending on how one denotes constants:</p>\n\n<pre><code>object SwitchOverConstants {\n    val foo = 1\n    val bar = 2\n    val baz = 3\n\n    fun one(x: Int) = when (x) {\n        foo -&gt; \"foo\"\n        bar -&gt; \"bar\"\n        baz -&gt; \"baz\"\n        else -&gt; \"else\"\n    }\n\n    fun two(x: Int) = when (x) {\n        SwitchOverConstants.foo -&gt; \"foo\"\n        SwitchOverConstants.bar -&gt; \"bar\"\n        SwitchOverConstants.baz -&gt; \"baz\"\n        else -&gt; \"else\"\n    }\n}\n</code></pre>\n\n<p>Here is the byte code for <code>one</code>:</p>\n\n<pre><code>   0: iload_1       \n   1: istore_2      \n   2: iload_2       \n   3: getstatic     #15                 // Field foo:I\n   6: if_icmpne     14\n   9: ldc           #34                 // String foo\n  11: goto          40\n  14: iload_2       \n  15: getstatic     #22                 // Field bar:I\n  18: if_icmpne     26\n  21: ldc           #35                 // String bar\n  23: goto          40\n  26: iload_2       \n  27: getstatic     #27                 // Field baz:I\n  30: if_icmpne     38\n  33: ldc           #36                 // String baz\n  35: goto          40\n  38: ldc           #38                 // String else\n  40: areturn       \n</code></pre>\n\n<p>And here is the byte code for <code>two</code>:</p>\n\n<pre><code>   0: iload_1       \n   1: tableswitch   { // 1 to 3\n                 1: 28\n                 2: 33\n                 3: 38\n           default: 43\n      }\n  28: ldc           #34                 // String foo\n  30: goto          45\n  33: ldc           #35                 // String bar\n  35: goto          45\n  38: ldc           #36                 // String baz\n  40: goto          45\n  43: ldc           #38                 // String else\n  45: areturn       \n</code></pre>\n\n<p>How come I need to qualify the constants with the class name to get an efficient table lookup?</p>\n"}]