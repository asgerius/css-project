[{"tags": ["java", "cucumber", "bdd"], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 8985460, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/1sDTl.jpg?s=128&g=1", "display_name": "SymboCoder", "link": "https://stackoverflow.com/users/8985460/symbocoder"}, "is_accepted": false, "score": 1, "last_activity_date": 1566437349, "creation_date": 1566437349, "answer_id": 57600958, "question_id": 57600492, "link": "https://stackoverflow.com/questions/57600492/accessing-global-variable-across-multiple-objects-in-java/57600958#57600958", "title": "Accessing global variable across multiple objects in Java", "body": "<p>I did a bit of digging around and found its quite simple. </p>\n\n<pre><code>public class FeatureStepDefinitions{\n\npublic Static String globalUserType = null;\n\n@Given(\"I want to login to system as (.+)$\")\npublic void iWantToLoginToSystemAs(String userType)\n{\n  globalUserType = userType;\n  //some logic\n}\n@When(\"I send a request for user type (.+)$\")\n public void iSendRequestForUserType(String userType)\n{\n  //some logic\n }\n@Then(\"I should be able to see the right response$\")\n public void iShouldBeAbleToSeeTheRightResponse()\n {\n  if(globalUserType.equalsIgnoreCase(\"xyz\")\n   {\n     //verify this logic\n   }\n\n   else if(globalUserType.equalsIgnoreCase(\"abc\")\n   {\n    //verify that logic\n    }\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2164, "user_id": 7121619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e413a729d8325c52d4861a97a928959?s=128&d=identicon&r=PG&f=1", "display_name": "Marit", "link": "https://stackoverflow.com/users/7121619/marit"}, "is_accepted": false, "score": 3, "last_activity_date": 1566477509, "creation_date": 1566477509, "answer_id": 57609540, "question_id": 57600492, "link": "https://stackoverflow.com/questions/57600492/accessing-global-variable-across-multiple-objects-in-java/57609540#57609540", "title": "Accessing global variable across multiple objects in Java", "body": "<p>The recommended way to share state between steps in cucumber-jvm is to use Dependency Injection. \nFrom the <a href=\"https://cucumber.io/docs/cucumber/state/#dependency-injection\" rel=\"nofollow noreferrer\">Cucumber docs</a>:</p>\n\n<p>\"If your programming language is Java, you will be writing glue code (step definitions and hooks) in plain old Java classes.</p>\n\n<p>Cucumber will create a new instance of each of your glue code classes before each scenario.</p>\n\n<p>If all of your glue code classes have an empty constructor, you don\u2019t need anything else. However, most projects will benefit from a dependency injection (DI) module to organize your code better and to share state between step definitions.</p>\n\n<p>The available dependency injection modules are:</p>\n\n<p>PicoContainer (The recommended one if your application doesn\u2019t use another DI module)\nSpring\nGuice\nOpenEJB\nWeld\nNeedle\"</p>\n\n<p>While you <strong>can</strong> declare a variable in your step definitions class to share state between the step definitions, this will only allow you to share between step definitions declared in <strong>the same file</strong>, and not between files. \nAs the number of step definition grows, you'll want to group them in some meaningful way, and this approach will no longer suffice.</p>\n"}], "owner": {"reputation": 121, "user_id": 8985460, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/1sDTl.jpg?s=128&g=1", "display_name": "SymboCoder", "link": "https://stackoverflow.com/users/8985460/symbocoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 241, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566477509, "creation_date": 1566431869, "question_id": 57600492, "link": "https://stackoverflow.com/questions/57600492/accessing-global-variable-across-multiple-objects-in-java", "title": "Accessing global variable across multiple objects in Java", "body": "<p>I got a very basic question (new to Java) and which goes as below. To give a bit of background, I am using BDD driven test automation framework, working with CUCUMBER and JAVA. </p>\n\n<p>I want to set a global variable in my main class object depending on the parameter/value in one of my step definitions and then access the same variable across the test in other step definitions (or objects)</p>\n\n<p>Let's say my class is </p>\n\n<pre><code>public class FeatureStepDefinitions{\n\n@Given(\"I want to login to system as (.+)$\")\npublic void iWantToLoginToSystemAs(String userType)\n{\n  //some logic\n }\n@When(\"I send a request for user type (.+)$\")\npublic void iSendRequestForUserType(String userType)\n{\n //some logic\n}\n@Then(\"I should be able to see the right response$\")\npublic void iShouldBeAbleToSeeTheRightResponse()\n{\n  if(userType.equalsIgnoreCase(\"xyz\")\n {\n  //verify this logic\n }\n\n else if(userType.equalsIgnoreCase(\"abc\")\n {\n  //verify that logic\n  }\n}\n</code></pre>\n\n<p>I know I can use the parameter <strong>\"userType\"</strong> in my THEN statement and perform this, but my question is if I do not want to refactor an existing then and still want to verify different behaviours depending on <em>userType</em> set in previous steps. \nAny help/direction is appreciated</p>\n"}, {"tags": ["java", "android", "kotlin", "dialogfragment"], "comments": [{"owner": {"reputation": 161, "user_id": 4456038, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b14d7dc0ac7af1a85f5a13feede6e11b?s=128&d=identicon&r=PG&f=1", "display_name": "asdcvf", "link": "https://stackoverflow.com/users/4456038/asdcvf"}, "edited": false, "score": 0, "creation_date": 1566447426, "post_id": 57600487, "comment_id": 101660561, "body": "you can get FragmentManager object from an FragmentActivity object, should make activity object in your Application class"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11874447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a358fe67016b8e09fee656a75602ff?s=128&d=identicon&r=PG&f=1", "display_name": "Alexsius", "link": "https://stackoverflow.com/users/11874447/alexsius"}, "edited": false, "score": 0, "creation_date": 1566545514, "post_id": 57603619, "comment_id": 101697367, "body": "Sorry but this didn&#39;t work, at compile time it was ok but not at runtime. There were other null references. I found out that i can setDialogInterface even from an activity getting the WebService instance. I did so in a parent activity and now it works out."}], "tags": [], "owner": {"reputation": 1694, "user_id": 10172915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dgRVP.png?s=128&g=1", "display_name": "Akaki Kapanadze", "link": "https://stackoverflow.com/users/10172915/akaki-kapanadze"}, "is_accepted": false, "score": 0, "last_activity_date": 1566457033, "creation_date": 1566457033, "answer_id": 57603619, "question_id": 57600487, "link": "https://stackoverflow.com/questions/57600487/bind-custom-dialogfragment-to-service-intialized-into-application-scope/57603619#57603619", "title": "Bind custom DialogFragment to service intialized into Application scope", "body": "<p>You can register an <code>ActivityLifecycleCallbacks</code> in the <code>Application</code> class to know which activity is currently running, and get the <code>FragmentManager</code>:</p>\n\n<pre><code>class MyApplication : Application() {\n\n    private var currentActivityRef : WeakReference&lt;FragmentActivity?&gt;? = null\n\n    private val supportFragmentManager : FragmentManager? \n        get() = currentActivityRef?.get()?.supportFragmentManager\n\n    override fun onCreate() {\n        super.onCreate()\n\n        registerActivityLifecycleCallbacks(object : ActivityLifecycleCallbacks {\n\n            override fun onActivityStarted(activity: Activity?) {\n                currentActivityRef = WeakReference(activity as? FragmentActivity)\n            }\n\n            override fun onActivityStopped(activity: Activity?) {\n                currentActivityRef = null\n            }\n\n            override fun onActivityPaused(activity: Activity?) {}\n\n            override fun onActivityResumed(activity: Activity?) {}\n\n            override fun onActivityDestroyed(activity: Activity?) {}\n\n            override fun onActivitySaveInstanceState(activity: Activity?,\n                                                     outState: Bundle?) {\n            }\n\n            override fun onActivityCreated(activity: Activity?,\n                                           savedInstanceState: Bundle?) {\n            }\n        })\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11874447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a358fe67016b8e09fee656a75602ff?s=128&d=identicon&r=PG&f=1", "display_name": "Alexsius", "link": "https://stackoverflow.com/users/11874447/alexsius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566457033, "creation_date": 1566431836, "question_id": 57600487, "link": "https://stackoverflow.com/questions/57600487/bind-custom-dialogfragment-to-service-intialized-into-application-scope", "title": "Bind custom DialogFragment to service intialized into Application scope", "body": "<p>I'm working to an application that makes some webcalls and i want to add a DialogFragment (with a ProgressBar at the center) that shows when i'm waiting for the call to complete.</p>\n\n<p>Webcalls are extended from AsyncTask with a private library that gives an interface (<em>DialogInterface</em>) to set what to do when the dialog it's shown and hidden.\nFor the DialogFragment i've found some nice code from here:<br>\n<a href=\"https://code.luasoftware.com/tutorials/android/android-show-loading-and-prevent-touch/\" rel=\"nofollow noreferrer\">https://code.luasoftware.com/tutorials/android/android-show-loading-and-prevent-touch/</a></p>\n\n<p>It works without problems from an Activity class, but the DialogInterface has to be set to the WebService builder wich is initialized into the Application class</p>\n\n<p>This is the init sequence in the Application class</p>\n\n<pre><code>WebService.init(\n    WebServiceBuilder(this)\n        .setBaseUrlTest(\"http://google.it/\")\n        .setUrlType(UrlType.TEST)\n        .setDialogInterface(object : DialogInterface {\n            override fun showDialog(context: Context?) {\n                if (context != null)\n\n                val busyDialog = BusyDialogFragment.show(supportFragmentManager)\n\n            }\n            override fun hideDialog() {\n                //code that hide the DialogFragment\n            }\n        })\n</code></pre>\n\n<p>Obviously in the Application class i cannot get the FragmentManager so this code doesn't works.</p>\n"}, {"tags": ["java", "android", "onclick", "crash", "android-mediaplayer"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1566449799, "post_id": 57600476, "comment_id": 101661056, "body": "you are using <code>MainActivity.this</code> out of any method. You can use <code>this</code> only after <code>onCreate</code> of Activity is called."}], "answers": [{"comments": [{"owner": {"reputation": 205, "user_id": 11936196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea103ac03caf06ca158108ce85bdde89?s=128&d=identicon&r=PG&f=1", "display_name": "Seif El-Din Sweilam", "link": "https://stackoverflow.com/users/11936196/seif-el-din-sweilam"}, "edited": false, "score": 0, "creation_date": 1566485660, "post_id": 57606709, "comment_id": 101679419, "body": "How can I make other functions access it?"}], "tags": [], "owner": {"reputation": 249, "user_id": 9406446, "user_type": "registered", "profile_image": "https://graph.facebook.com/1449624645167268/picture?type=large", "display_name": "Vibhanshu Sharma", "link": "https://stackoverflow.com/users/9406446/vibhanshu-sharma"}, "is_accepted": true, "score": 0, "last_activity_date": 1566467886, "creation_date": 1566467886, "answer_id": 57606709, "question_id": 57600476, "link": "https://stackoverflow.com/questions/57600476/why-the-application-crashes-when-i-add-methods-to-run-audio-using-mediaplayer-cl/57606709#57606709", "title": "Why the application crashes when I add methods to run audio using MediaPlayer Class?", "body": "<p>Initialize the media player object in onCreate() Method , you are initializing MediaPlayer object outside on Create (). This will work because you are using MainActivty.this and Main activity is created only after onCreate() method has ran .</p>\n"}, {"tags": [], "owner": {"reputation": 205, "user_id": 11936196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea103ac03caf06ca158108ce85bdde89?s=128&d=identicon&r=PG&f=1", "display_name": "Seif El-Din Sweilam", "link": "https://stackoverflow.com/users/11936196/seif-el-din-sweilam"}, "is_accepted": false, "score": 0, "last_activity_date": 1566486472, "creation_date": 1566486472, "answer_id": 57612365, "question_id": 57600476, "link": "https://stackoverflow.com/questions/57600476/why-the-application-crashes-when-i-add-methods-to-run-audio-using-mediaplayer-cl/57612365#57612365", "title": "Why the application crashes when I add methods to run audio using MediaPlayer Class?", "body": "<p>initializing the media player object inside the <code>onCreate()</code> method worked </p>\n\n<pre><code>MediaPlayer mediaPlayer;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Define the Media file player with MediaPlayer Object\n        mediaPlayer= MediaPlayer.create(MainActivity.this,R.raw.mine);\n    }\n</code></pre>\n"}], "owner": {"reputation": 205, "user_id": 11936196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea103ac03caf06ca158108ce85bdde89?s=128&d=identicon&r=PG&f=1", "display_name": "Seif El-Din Sweilam", "link": "https://stackoverflow.com/users/11936196/seif-el-din-sweilam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 57606709, "answer_count": 2, "score": 0, "last_activity_date": 1566486472, "creation_date": 1566431708, "question_id": 57600476, "link": "https://stackoverflow.com/questions/57600476/why-the-application-crashes-when-i-add-methods-to-run-audio-using-mediaplayer-cl", "title": "Why the application crashes when I add methods to run audio using MediaPlayer Class?", "body": "<p>I've added an mp3 file to the resource \"raw\" directory in order to have a button that plays the audio file and another one that pauses it, but when I try to run it, it crashes</p>\n\n<p>This is the MainAcitvity class file:- </p>\n\n<pre><code>package com.sefonia.mediaplayer;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.media.MediaPlayer;\nimport android.os.Bundle;\nimport android.view.View;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    // Define the Media file player with MediaPlayer Object\n    MediaPlayer mediaPlayer= MediaPlayer.create(MainActivity.this,R.raw.mine);\n\n    /**\n     * Starts playing the music file\n     */\n    public void playButton(View view) {\n        mediaPlayer.start();\n    }\n\n    /**\n     * Pauses the music file\n     */\n    public void pauseButton(View view) {\n        mediaPlayer.pause();\n    }\n}\n\n</code></pre>\n\n<p>And that's the xml file associated</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;Button\n        android:id=\"@+id/button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginLeft=\"8dp\"\n        android:layout_marginTop=\"28dp\"\n        android:onClick=\"playButton\"\n        android:padding=\"16sp\"\n        android:text=\"Play\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/button2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginLeft=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginRight=\"8dp\"\n        android:onClick=\"pauseButton\"\n        android:padding=\"16sp\"\n        android:text=\"Pause\"\n        app:layout_constraintEnd_toEndOf=\"@+id/button\"\n        app:layout_constraintHorizontal_bias=\"0.0\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/button\" /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>That's the message printed to log:</p>\n\n<pre><code>E/ActivityThread: Exception when newActivity r=ActivityRecord{267cffd9 token=android.os.BinderProxy@34033d9e {com.sefonia.mediaplayer/com.sefonia.mediaplayer.MainActivity}} token=android.os.BinderProxy@34033d9e\nD/ActivityThread: Dump mRelaunchingActivities:\n    Dump mActivities:\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.sefonia.mediaplayer, PID: 13318\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.sefonia.mediaplayer/com.sefonia.mediaplayer.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.res.Resources android.content.Context.getResources()' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2531)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2706)\n        at android.app.ActivityThread.access$800(ActivityThread.java:178)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1544)\n        at android.os.Handler.dispatchMessage(Handler.java:111)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:6102)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1028)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:823)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.res.Resources android.content.Context.getResources()' on a null object reference\n        at android.content.ContextWrapper.getResources(ContextWrapper.java:86)\n        at android.view.ContextThemeWrapper.getResources(ContextThemeWrapper.java:74)\n        at androidx.appcompat.app.AppCompatActivity.getResources(AppCompatActivity.java:543)\n        at android.media.MediaPlayer.create(MediaPlayer.java:960)\n        at android.media.MediaPlayer.create(MediaPlayer.java:943)\n        at com.sefonia.mediaplayer.MainActivity.&lt;init&gt;(MainActivity.java:20)\n        at java.lang.reflect.Constructor.newInstance(Native Method)\n        at java.lang.Class.newInstance(Class.java:1606)\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1089)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2508)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2706)\u00a0\n        at android.app.ActivityThread.access$800(ActivityThread.java:178)\u00a0\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1544)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:111)\u00a0\n        at android.os.Looper.loop(Looper.java:214)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:6102)\u00a0\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at java.lang.reflect.Method.invoke(Method.java:372)\u00a0\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1028)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:823)\u00a0\nApplication terminated.\n</code></pre>\n\n<p>Could anyone tell me where the problem is exactly?</p>\n"}, {"tags": ["java", "amazon-web-services", "aws-sdk", "amazon-cloudfront"], "answers": [{"comments": [{"owner": {"reputation": 4075, "user_id": 3167238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6223f140425286e05c24670e3f8843?s=128&d=identicon&r=PG", "display_name": "hephalump", "link": "https://stackoverflow.com/users/3167238/hephalump"}, "edited": false, "score": 0, "creation_date": 1566443527, "post_id": 57601143, "comment_id": 101659948, "body": "I hadn&#39;t thought about using the Cost &amp; Usage report for this... Interesting approach."}, {"owner": {"reputation": 57, "user_id": 1026897, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bf2813523ae0da38c6aa95528cd6957b?s=128&d=identicon&r=PG&f=1", "display_name": "solaechea", "link": "https://stackoverflow.com/users/1026897/solaechea"}, "edited": false, "score": 0, "creation_date": 1566490760, "post_id": 57601143, "comment_id": 101682048, "body": "Thank you! this was useful, i was able to find the number of invalidations for a period of time by filtering the &quot;Cost &amp; Usage Report&quot; (AWS console) by service=&quot;CloudFront&quot; and usageType=&quot;Invalidations&quot;."}], "tags": [], "owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "is_accepted": false, "score": 1, "last_activity_date": 1566439213, "creation_date": 1566439213, "answer_id": 57601143, "question_id": 57600318, "link": "https://stackoverflow.com/questions/57600318/get-aws-cloundfront-invalidations-usage-last-month/57601143#57601143", "title": "Get AWS CloundFront Invalidations usage (last month)", "body": "<p>This isn't exposed through an API.</p>\n\n<p>You can find it in the <a href=\"https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/billing-reports-costusage-details.html\" rel=\"nofollow noreferrer\">Cost &amp; Usage Report</a>.</p>\n\n<p>Remember that invalidation requests support wildcards, so it's often possible to invalidate everything you need with a single request and a single path.  You may invalidate more than you need using this approach, but that is sometimes an acceptable tradeoff.</p>\n"}, {"tags": [], "owner": {"reputation": 4075, "user_id": 3167238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6223f140425286e05c24670e3f8843?s=128&d=identicon&r=PG", "display_name": "hephalump", "link": "https://stackoverflow.com/users/3167238/hephalump"}, "is_accepted": true, "score": 1, "last_activity_date": 1566441895, "last_edit_date": 1566441895, "creation_date": 1566441213, "answer_id": 57601337, "question_id": 57600318, "link": "https://stackoverflow.com/questions/57600318/get-aws-cloundfront-invalidations-usage-last-month/57601337#57601337", "title": "Get AWS CloundFront Invalidations usage (last month)", "body": "<p>There is no direct way to get this in the SDK, however, you can monitor CloudFront Invalidations in CloudTrail and get the data you need there.</p>\n\n<p>I would post a code sample, however, while AWS is firmly in my skillset, JAVA is not.  Nonetheless, I checked the JAVA SDK and it appears that the methods to accomplish this are available.  At a high level, you will enable CloudTrail on your account, and then use the <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/cloudtrail/AbstractAWSCloudTrail.html#lookupEvents--\" rel=\"nofollow noreferrer\">lookupEvents</a> method of the CloudTrail API in the JAVA SDK to find events named <code>CreateInvalidation</code>.  </p>\n\n<p>Although its not a direct example in JAVA, you can also do this from the CLI:</p>\n\n<p><code>aws cloudtrail lookup-events --lookup-attributes AttributeKey=EventName,AttributeValue=CreateInvalidation</code></p>\n\n<p>Which will return an array of events:</p>\n\n<pre><code>{\n    \"Events\": [\n        {\n            \"EventId\": \"9a999999-9999-9aaa-aa99-a9999a9aa9aa\",\n            \"EventName\": \"CreateInvalidation\",\n            \"ReadOnly\": \"false\",\n            \"AccessKeyId\": \"ASXXXXXXXXXXXXXXXXXX\",\n            \"EventTime\": 1566438448.0,\n            \"EventSource\": \"cloudtrail.amazonaws.com\",\n            \"Username\": \"user.name\",\n            \"Resources\": [],\n            \"CloudTrailEvent\": \"{FULL-CLOUDTRAIL-EVENT-DATA-HERE}\"\n        }\n    ]\n}\n</code></pre>\n\n<p>As you can see each event has a timestamp, <code>EventTime</code>.  Iterate over the array, check if the timestamp is in your required time range, if it's outside of your time range you can simply remove it from the array and then when that's done simply count the remaining items in the array.</p>\n\n<p>Note that the API responses may be paginated, so you'll have to watch for a <code>NextToken</code> in the response which indicates there are more events to be fetched.</p>\n\n<p><strong>EDIT:</strong> Also, it's worth noting that CloudFront is a Global service. As a global service CloudFront events are logged in CloudTrail in the <code>us-east-1</code> region (<a href=\"https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/logging_using_cloudtrail.html\" rel=\"nofollow noreferrer\">see here</a>).</p>\n"}], "owner": {"reputation": 57, "user_id": 1026897, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bf2813523ae0da38c6aa95528cd6957b?s=128&d=identicon&r=PG&f=1", "display_name": "solaechea", "link": "https://stackoverflow.com/users/1026897/solaechea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 57601337, "answer_count": 2, "score": 0, "last_activity_date": 1566441895, "creation_date": 1566430116, "question_id": 57600318, "link": "https://stackoverflow.com/questions/57600318/get-aws-cloundfront-invalidations-usage-last-month", "title": "Get AWS CloundFront Invalidations usage (last month)", "body": "<p>I am using AWS Cloudfront Java SDK to automate some tasks, one of those is to invalidate distributions. I have read that the first 1000 invalidation requests (paths actually) are free, after that they <a href=\"https://aws.amazon.com/cloudfront/pricing/\" rel=\"nofollow noreferrer\">are billed</a>.</p>\n\n<p>I don't see any functionality in the <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/cloudfront/AmazonCloudFrontClient.html\" rel=\"nofollow noreferrer\">SDK</a> to get the total number of invlidation requests executed in the last month for the account (not the distribution). Is there any way to get it?</p>\n\n<p>If there is no way to get it using the SDK, i think that i will create a local record of the invalidation requests usage.</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 120, "user_id": 11667657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f02ddf7af6533ccb6e5e0281b20b4aa?s=128&d=identicon&r=PG&f=1", "display_name": "Foster", "link": "https://stackoverflow.com/users/11667657/foster"}, "edited": false, "score": 0, "creation_date": 1566435189, "post_id": 57600314, "comment_id": 101658602, "body": "Now that i&#39;m reading through the Logcat, I see a lot of it is VR related. The repo didn&#39;t have any VR content in it as far as I could tell. I think it was calling on oculus and youtube VR and things like that. Im also seeing things like failed sensor readings maybe (?), and call on, not facebook.com, but acebook.com"}, {"owner": {"reputation": 2172, "user_id": 8043806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gX8NW.jpg?s=128&g=1", "display_name": "Giddy Naya", "link": "https://stackoverflow.com/users/8043806/giddy-naya"}, "edited": false, "score": 2, "creation_date": 1566438039, "post_id": 57600314, "comment_id": 101659088, "body": "<code>Manifest merger failed with multiple errors</code> simply means there is a conflict between the <code>attribute values</code> of your <code>project manifest</code> and another from <code>a referenced library</code>. To see your actual error follow <a href=\"https://stackoverflow.com/a/42023614/8043806\">this reply</a>"}, {"owner": {"reputation": 120, "user_id": 11667657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f02ddf7af6533ccb6e5e0281b20b4aa?s=128&d=identicon&r=PG&f=1", "display_name": "Foster", "link": "https://stackoverflow.com/users/11667657/foster"}, "reply_to_user": {"reputation": 2172, "user_id": 8043806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gX8NW.jpg?s=128&g=1", "display_name": "Giddy Naya", "link": "https://stackoverflow.com/users/8043806/giddy-naya"}, "edited": false, "score": 0, "creation_date": 1566514769, "post_id": 57600314, "comment_id": 101690641, "body": "@GiddyNaya - I get this error:  &#39;Error: tools:replace specified at line:17 for attribute android:appComponentFactory, but no new value specified Android-Instagram-Clone-master-app main manifest (this file), line 16&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 120, "user_id": 11667657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f02ddf7af6533ccb6e5e0281b20b4aa?s=128&d=identicon&r=PG&f=1", "display_name": "Foster", "link": "https://stackoverflow.com/users/11667657/foster"}, "is_accepted": true, "score": 1, "last_activity_date": 1566514983, "creation_date": 1566514983, "answer_id": 57617967, "question_id": 57600314, "link": "https://stackoverflow.com/questions/57600314/reviving-an-old-project-but-the-manifest-merger-failed/57617967#57617967", "title": "Reviving an old project but the manifest merger failed?", "body": "<p>SOLVED:</p>\n\n<p>All I had to do was add</p>\n\n<pre><code>android:appComponentFactory=\"android.support.v4.app.CoreComponentFactory\"\n</code></pre>\n\n<p>in the application tag in my AndroidManifest.xml</p>\n"}], "owner": {"reputation": 120, "user_id": 11667657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f02ddf7af6533ccb6e5e0281b20b4aa?s=128&d=identicon&r=PG&f=1", "display_name": "Foster", "link": "https://stackoverflow.com/users/11667657/foster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 57617967, "answer_count": 1, "score": 2, "last_activity_date": 1566514983, "creation_date": 1566430105, "last_edit_date": 1566514861, "question_id": 57600314, "link": "https://stackoverflow.com/questions/57600314/reviving-an-old-project-but-the-manifest-merger-failed", "title": "Reviving an old project but the manifest merger failed?", "body": "<p>I am reviving an <a href=\"https://github.com/mitchtabian/Android-Instagram-Clone\" rel=\"nofollow noreferrer\">old github repo</a> of an instagram clone. The problem is, the manifest merger keeps failing. </p>\n\n<p>I have tried updating, adding overrides, downgrading, removing then syncing then re-adding but nothing works.</p>\n\n<p>I end up with the error:</p>\n\n<pre><code>Manifest merger failed with multiple errors, see logs\n</code></pre>\n\n<p>I think it has something to do with firebase starting because one of the error is as follows</p>\n\n<pre><code>2019-08-21 19:24:34.311 32240-32240/? E/FirebaseInstanceId: Failed to start service while in background: java.lang.IllegalStateException: Not allowed to start service Intent { act=com.google.firebase.INSTANCE_ID_EVENT pkg=com.facebook.orca cmp=com.facebook.orca/com.facebook.push.fcm.FcmInstanceIDListenerService (has extras) }: app is in background uid UidRecord{c44bfd u0a246 TRNB idle change:uncached procs:1 proclist:32240, seq(0,0,0)}\n</code></pre>\n\n<p>Then again I get hundreds of other errors thrown at me upon running.</p>\n\n<p><a href=\"https://pastebin.com/TMsesZUX\" rel=\"nofollow noreferrer\">https://pastebin.com/TMsesZUX</a> &lt;- The full logcat</p>\n\n<p>EDIT:</p>\n\n<p>The error I get is:</p>\n\n<pre><code>Error: tools:replace specified at line:17 for attribute android:appComponentFactory, but no new value specified Android-Instagram-Clone-master-app main manifest (this file), line 16\n</code></pre>\n"}, {"tags": ["java", "solr", "solrj", "solrcloud"], "comments": [{"owner": {"reputation": 7288, "user_id": 3636071, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1b7000644323fa83abdc1860381e953?s=128&d=identicon&r=PG&f=1", "display_name": "Abhijit Bashetti", "link": "https://stackoverflow.com/users/3636071/abhijit-bashetti"}, "edited": false, "score": 0, "creation_date": 1566434167, "post_id": 57600290, "comment_id": 101658461, "body": "How did you configure the zkhost? What are the values for it?"}, {"owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "edited": false, "score": 0, "creation_date": 1566472061, "post_id": 57600290, "comment_id": 101671330, "body": "What is <code>zkUrl</code> in the example above? A connection to a zookeeper ensemble should never have <code>http</code> in front of it. The <code>Builder()</code> example also seems to require different parameters depending on the version of Solr. How you&#39;re using it now makes it attempt to connect through http and not through zk."}, {"owner": {"reputation": 21, "user_id": 4665901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c442f83a4f45c19e54f8c486434e85?s=128&d=identicon&r=PG&f=1", "display_name": "Shrinivas Kopparam Ramanath", "link": "https://stackoverflow.com/users/4665901/shrinivas-kopparam-ramanath"}, "reply_to_user": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "edited": false, "score": 0, "creation_date": 1566495767, "post_id": 57600290, "comment_id": 101684134, "body": "@MatsLindh For my successful <code>echo stat | nc</code> command, the zkUrl is just the host (no http) I had 4 different formats for my zkUrl. When I don&#39;t use http, I get the error Couldn&#39;t initialize a HttpClusterStateProvider (is/are the Solr server(s), [host:2181], down?)] with root cause org.apache.http.client.ClientProtocolException: URI does not specify a valid host name.   I have also tried directly using the ipv4 address and using the zk:// prefix which resulted in zk protocol not supported"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 4665901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c442f83a4f45c19e54f8c486434e85?s=128&d=identicon&r=PG&f=1", "display_name": "Shrinivas Kopparam Ramanath", "link": "https://stackoverflow.com/users/4665901/shrinivas-kopparam-ramanath"}, "is_accepted": false, "score": 1, "last_activity_date": 1566498607, "creation_date": 1566498607, "answer_id": 57615230, "question_id": 57600290, "link": "https://stackoverflow.com/questions/57600290/errors-connecting-to-solrcloud-using-cloudsolrclient/57615230#57615230", "title": "Errors connecting to solrcloud using CloudSolrClient", "body": "<p>It turns out that both solrurls and zkurls can be provided to the <code>CloudSolrClient.Builder</code>. I was able to get past the previous issue by using the <code>SolrClient solrClient = new CloudSolrClient.Builder(hosts, Optional.empty()).build();</code>which accepts zkUrls whereas <code>CloudSolrClient.Builder(hosts).build()</code> accepts solr Urls</p>\n"}, {"tags": [], "owner": {"reputation": 1559, "user_id": 8198203, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6570af0c9b22f739dc2e6136a0f6a6c7?s=128&d=identicon&r=PG&f=1", "display_name": "Frischling", "link": "https://stackoverflow.com/users/8198203/frischling"}, "is_accepted": false, "score": 0, "last_activity_date": 1569919398, "creation_date": 1569919398, "answer_id": 58181074, "question_id": 57600290, "link": "https://stackoverflow.com/questions/57600290/errors-connecting-to-solrcloud-using-cloudsolrclient/58181074#58181074", "title": "Errors connecting to solrcloud using CloudSolrClient", "body": "<p>I also got this ClientProtocolException when the configuration itme clusterprops.json was not available in zookeeper /\nContents:</p>\n\n<pre><code>{\"urlScheme\":\"https\"}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4665901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c442f83a4f45c19e54f8c486434e85?s=128&d=identicon&r=PG&f=1", "display_name": "Shrinivas Kopparam Ramanath", "link": "https://stackoverflow.com/users/4665901/shrinivas-kopparam-ramanath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1569919398, "creation_date": 1566429823, "last_edit_date": 1566450335, "question_id": 57600290, "link": "https://stackoverflow.com/questions/57600290/errors-connecting-to-solrcloud-using-cloudsolrclient", "title": "Errors connecting to solrcloud using CloudSolrClient", "body": "<p>I'm trying to connect to solrCloud using solrj CloudSolrClient, but am getting errors.</p>\n\n<p>Used to directly call a single solr node, now switching to solrcloud. I have tried various different url formats as specified from documentation online.</p>\n\n<pre><code>SolrClient solrClient = new CloudSolrClient.Builder(zkUrl).build();\nSolrQuery solrQuery = new SolrQuery();\n\nsolrQuery.setRequestHandler(FIELD_LIST_HANDLER);\nQueryRequest req = new QueryRequest(solrQuery);\nreq.setBasicAuthCredentials(zkUser, zkPassword);\nQueryResponse response = req.process(solrClient, core);\n</code></pre>\n\n<p>When using the following zkHost strings I get the various errors.</p>\n\n<p>host:2181</p>\n\n<blockquote>\n  <p>2019-08-21 15:53:17 - ERROR o.a.c.c.C.[.[.[.[.a.d.n.s.JerseyConfiguration] [http-nio-8080-exec-1] Servlet.service() for servlet [com.att.dplr.nextgen.search.JerseyConfiguration] in context with path [] threw exception [java.lang.RuntimeException: Couldn't init\n  ialize a HttpClusterStateProvider (is/are the Solr server(s), [host:2181], down?)] with root cause\n  org.apache.http.client.ClientProtocolException: URI does not specify a valid host name: host:2181/admin/collections?action=CLUSTERSTATUS&amp;wt=javabin&amp;version=2</p>\n</blockquote>\n\n<p><a href=\"http://host:2181\" rel=\"nofollow noreferrer\">http://host:2181</a></p>\n\n<blockquote>\n  <p>2019-08-21 15:55:53 - ERROR o.a.c.c.C.[.[.[.[.a.d.n.s.JerseyConfiguration] [http-nio-8080-exec-1] Servlet.service() for servlet [com.att.dplr.nextgen.search.JerseyConfiguration] in context with path [] threw exception [java.lang.RuntimeException: Couldn't init\n  ialize a HttpClusterStateProvider (is/are the Solr server(s), [<a href=\"http://host:2181]\" rel=\"nofollow noreferrer\">http://host:2181]</a>, down?)] with root cause\n  org.apache.http.NoHttpResponseException: host:2181 failed to respond\n      at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:141)</p>\n</blockquote>\n\n<p>host:2181/solr</p>\n\n<blockquote>\n  <p>2019-08-21 16:00:11 - ERROR o.a.c.c.C.[.[.[.[.a.d.n.s.JerseyConfiguration] [http-nio-8080-exec-1] Servlet.service() for servlet [com.att.dplr.nextgen.search.JerseyConfiguration] in context with path [] threw exception [java.lang.RuntimeException: Couldn't init\n  ialize a HttpClusterStateProvider (is/are the Solr server(s), [host:2181/solr], down?)] with root cause\n  org.apache.http.client.ClientProtocolException: URI does not specify a valid host name: host:2181/solr/admin/collections?action=CLUSTERSTATUS&amp;wt=javabin&amp;version=2\n      at org.apache.http.impl.client.CloseableHttpClient.determineTarget(CloseableHttpClient.java:95)</p>\n</blockquote>\n\n<p><a href=\"http://host:2181/solr\" rel=\"nofollow noreferrer\">http://host:2181/solr</a></p>\n\n<blockquote>\n  <p>2019-08-21 15:57:23 - ERROR o.a.c.c.C.[.[.[.[.a.d.n.s.JerseyConfiguration] [http-nio-8080-exec-1] Servlet.service() for servlet [com.att.dplr.nextgen.search.JerseyConfiguration] in context with path [] threw exception [java.lang.RuntimeException: Couldn't init\n  ialize a HttpClusterStateProvider (is/are the Solr server(s), [<a href=\"http://host:2181/solr]\" rel=\"nofollow noreferrer\">http://host:2181/solr]</a>, down?)] with root cause\n  org.apache.http.NoHttpResponseException: host:2181 failed to respond\n      at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:141)</p>\n</blockquote>\n\n<p>What do I need to change to successfully query solr through zookeeper using solrj CloudSolrClient?</p>\n\n<p>I have successfully communicated with the zookeeper instance from terminal.</p>\n\n<pre><code>$ echo stat | nc host 2181\nZookeeper version: 3.4.14-4c25d480e66aadd371de8bd2fd8da255ac140bcf, built on 03/06/2019 16:18 GMT\nClients:\n /130.10.31.81:60381[0](queued=0,recved=1,sent=0)\n /135.40.74.31:48984[1](queued=0,recved=817933,sent=817933)\n\nLatency min/avg/max: 0/0/80\nReceived: 1893410\nSent: 1893706\nConnections: 2\nOutstanding: 0\nZxid: 0xa00000636\nMode: follower\nNode count: 214\n</code></pre>\n"}, {"tags": ["java", "json"], "comments": [{"owner": {"reputation": 68467, "user_id": 1081110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fp4Pm.jpg?s=128&g=1", "display_name": "Dawood ibn Kareem", "link": "https://stackoverflow.com/users/1081110/dawood-ibn-kareem"}, "edited": false, "score": 3, "creation_date": 1566429973, "post_id": 57600266, "comment_id": 101657771, "body": "So what value would you prefer the <code>id</code> to be set to, if it&#39;s not in the JSON?"}, {"owner": {"reputation": 312, "user_id": 7305307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aOkVz.jpg?s=128&g=1", "display_name": "Yash Bansal", "link": "https://stackoverflow.com/users/7305307/yash-bansal"}, "reply_to_user": {"reputation": 68467, "user_id": 1081110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fp4Pm.jpg?s=128&g=1", "display_name": "Dawood ibn Kareem", "link": "https://stackoverflow.com/users/1081110/dawood-ibn-kareem"}, "edited": false, "score": 0, "creation_date": 1566430090, "post_id": 57600266, "comment_id": 101657792, "body": "it will be great if the parameter is ignored all together, but if it is not possible then null, but I think null will also not be possible. Adding any other value breaks the code"}, {"owner": {"reputation": 68467, "user_id": 1081110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fp4Pm.jpg?s=128&g=1", "display_name": "Dawood ibn Kareem", "link": "https://stackoverflow.com/users/1081110/dawood-ibn-kareem"}, "edited": false, "score": 2, "creation_date": 1566430223, "post_id": 57600266, "comment_id": 101657815, "body": "OK, let me ask that a different way.  Which of the <code>2^32</code> possible <code>int</code> values would you like to have assigned to that <code>int</code> field?  <code>Null</code> is not an <code>int</code> value.  <code>Ignored</code> is not an <code>int</code> value.  Perhaps <code>int</code> is not the data type you&#39;re looking for."}, {"owner": {"reputation": 447, "user_id": 4194293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cz0qH.png?s=128&g=1", "display_name": "Jose Nuno", "link": "https://stackoverflow.com/users/4194293/jose-nuno"}, "reply_to_user": {"reputation": 68467, "user_id": 1081110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fp4Pm.jpg?s=128&g=1", "display_name": "Dawood ibn Kareem", "link": "https://stackoverflow.com/users/1081110/dawood-ibn-kareem"}, "edited": false, "score": 0, "creation_date": 1566430284, "post_id": 57600266, "comment_id": 101657833, "body": "Null would be possible if you use the <code>Integer</code> type instead of <code>int</code> on your id field, otherwise as @DawoodibnKareem says the id field has to have some value"}, {"owner": {"reputation": 312, "user_id": 7305307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aOkVz.jpg?s=128&g=1", "display_name": "Yash Bansal", "link": "https://stackoverflow.com/users/7305307/yash-bansal"}, "edited": false, "score": 0, "creation_date": 1566430351, "post_id": 57600266, "comment_id": 101657848, "body": "yeah, now I realized int should not be used, but its been used and I cannot change that now. So, there is no way, we can just ignore to set the value, if it is not present in the json?"}, {"owner": {"reputation": 68467, "user_id": 1081110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fp4Pm.jpg?s=128&g=1", "display_name": "Dawood ibn Kareem", "link": "https://stackoverflow.com/users/1081110/dawood-ibn-kareem"}, "edited": false, "score": 0, "creation_date": 1566435061, "post_id": 57600266, "comment_id": 101658590, "body": "No, if it has to be <code>int</code>, you&#39;ll need to set it to <i>something</i>.  The word <code>int</code> means &quot;set aside four bytes of memory, and interpret those bytes as a number, according to certain well-understood rules&quot;.  So as soon as you say <code>int</code>, there&#39;ll always be a number in there."}], "answers": [{"comments": [{"owner": {"reputation": 312, "user_id": 7305307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aOkVz.jpg?s=128&g=1", "display_name": "Yash Bansal", "link": "https://stackoverflow.com/users/7305307/yash-bansal"}, "edited": false, "score": 0, "creation_date": 1566430558, "post_id": 57600346, "comment_id": 101657884, "body": "Thanks a lot, so can we do it in other way. After getting the Java object, I have to convert it into xml. Is it possible to have some annotations on the field which ignores the parameter to be included in the xml if a certain value is assigned to the field."}, {"owner": {"reputation": 3336, "user_id": 7859515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9dbe73058d23754227cad2f8ad4ff12d?s=128&d=identicon&r=PG&f=1", "display_name": "MyStackRunnethOver", "link": "https://stackoverflow.com/users/7859515/mystackrunnethover"}, "reply_to_user": {"reputation": 312, "user_id": 7305307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aOkVz.jpg?s=128&g=1", "display_name": "Yash Bansal", "link": "https://stackoverflow.com/users/7305307/yash-bansal"}, "edited": false, "score": 0, "creation_date": 1566430823, "post_id": 57600346, "comment_id": 101657942, "body": "It depends. Basically any framework will allow you to ignore <code>null</code> values when serializing. If you want to ignore <i>other</i> values then you will probably need to use a <code>getter</code> method to serialize (look up how to do this), and make the getter return null when you want the actual value to be ignored."}, {"owner": {"reputation": 3336, "user_id": 7859515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9dbe73058d23754227cad2f8ad4ff12d?s=128&d=identicon&r=PG&f=1", "display_name": "MyStackRunnethOver", "link": "https://stackoverflow.com/users/7859515/mystackrunnethover"}, "reply_to_user": {"reputation": 312, "user_id": 7305307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aOkVz.jpg?s=128&g=1", "display_name": "Yash Bansal", "link": "https://stackoverflow.com/users/7305307/yash-bansal"}, "edited": false, "score": 0, "creation_date": 1566430943, "post_id": 57600346, "comment_id": 101657968, "body": "And also, watch out: if you want to keep your <code>int</code> but not deserialize it to XML when it was null in the input json, <b>checking if it is 0</b> could introduce a bug: you won&#39;t know whether the input json had a null int, or it had an int that was <b>actually 0</b>"}, {"owner": {"reputation": 312, "user_id": 7305307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aOkVz.jpg?s=128&g=1", "display_name": "Yash Bansal", "link": "https://stackoverflow.com/users/7305307/yash-bansal"}, "edited": false, "score": 0, "creation_date": 1566431178, "post_id": 57600346, "comment_id": 101658010, "body": "yeah, in that case I will probably go for a negative value. Thanks for the info, so what should i look/read for to return null, I am not much familiar with Gson library, can you please suggest some good link"}], "tags": [], "owner": {"reputation": 3336, "user_id": 7859515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9dbe73058d23754227cad2f8ad4ff12d?s=128&d=identicon&r=PG&f=1", "display_name": "MyStackRunnethOver", "link": "https://stackoverflow.com/users/7859515/mystackrunnethover"}, "is_accepted": false, "score": 1, "last_activity_date": 1566430397, "creation_date": 1566430397, "answer_id": 57600346, "question_id": 57600266, "link": "https://stackoverflow.com/questions/57600266/conversion-from-json-to-java-object-the-int-variable-is-by-default-assigned-val/57600346#57600346", "title": "Conversion from Json to Java Object, the int variable is by default assigned value 0, if not passed in JSON", "body": "<blockquote>\n  <p>It will be great if the parameter is ignored all together, but if it is not possible then null, but I think null will also not be possible</p>\n</blockquote>\n\n<p>It's not possible to ignore the parameter because the object is defined as having the field - unlike when serializing, when you can simply not write null fields into the output JSON, deserializing requires that you <em>create the object</em>, and the object will have its fields, because they're what define that object. I.e., in order to <strong>ignore</strong> <code>id</code> if it's not present, you'd have to deserialize to a different object, without an <code>id</code>.</p>\n\n<p>To solve your problem:</p>\n\n<p><code>int</code> cannot be null. It's a primitive. <a href=\"https://stackoverflow.com/questions/11047276/why-cant-primitive-data-types-be-null-in-java\">Primitives cannot be null</a>.</p>\n\n<p><code>Integer</code> <strong>can</strong> be null. Because <code>Integer</code> is an Object. Change <code>int id;</code> to <code>Integer id;</code>, and if necessary <a href=\"https://stackoverflow.com/questions/33435683/deserialize-with-gson-and-null-values\">edit your GSON config to get the behavior you want</a>.</p>\n"}], "owner": {"reputation": 312, "user_id": 7305307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aOkVz.jpg?s=128&g=1", "display_name": "Yash Bansal", "link": "https://stackoverflow.com/users/7305307/yash-bansal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1566430724, "creation_date": 1566429533, "last_edit_date": 1566430724, "question_id": 57600266, "link": "https://stackoverflow.com/questions/57600266/conversion-from-json-to-java-object-the-int-variable-is-by-default-assigned-val", "title": "Conversion from Json to Java Object, the int variable is by default assigned value 0, if not passed in JSON", "body": "<p>I am using <code>gson.fromJson(json,class)</code> to convert json into a Java Object.\nIf I do not pass a parameter (other than an <code>int</code>) in the json, it is deserialized as <code>null</code>, but the <code>int</code> variable in the object is deserialized as 0.</p>\n\n<p>So my question is, is there any annotation or any way I can use, so that if I do not pass the <code>int</code> parameter in the json, it is not deserialized as 0. Ideally, it would not show up at all in the object, but at the very least it would be <code>null</code>.</p>\n\n<p>For example, the following json: <code>{\"name\":\"asas\"}</code></p>\n\n<p>If I have the above json, then using <code>gson.fromJson()</code>, will automatically deserialized <code>id</code> as 0.</p>\n\n<p>Is there a way to eliminate that?</p>\n\n<pre><code>public class Student{\n\n    String name;\n    int id;\n\n    //getters and setters\n}\n</code></pre>\n"}, {"tags": ["java", "spring", "mongodb", "spring-boot", "spring-data-mongodb"], "comments": [{"owner": {"reputation": 12873, "user_id": 3641067, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/fhMde.png?s=128&g=1", "display_name": "bur&#230;quete", "link": "https://stackoverflow.com/users/3641067/bur%c3%a6quete"}, "edited": false, "score": 0, "creation_date": 1566433413, "post_id": 57600245, "comment_id": 101658348, "body": "This might be a configuration issue. Maybe your timeouts are too small? Also, check <a href=\"https://stackoverflow.com/questions/39703240/how-to-keep-the-connection-pool-from-closing-with-a-java-driver-on-a-mongodb\">this</a>"}, {"owner": {"reputation": 85, "user_id": 10729742, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WJR5P9WD1x0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gttX3SSmyLG4HyDnh6LOg_K45KDw/mo/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10729742/daniel"}, "reply_to_user": {"reputation": 12873, "user_id": 3641067, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/fhMde.png?s=128&g=1", "display_name": "bur&#230;quete", "link": "https://stackoverflow.com/users/3641067/bur%c3%a6quete"}, "edited": false, "score": 0, "creation_date": 1566433990, "post_id": 57600245, "comment_id": 101658435, "body": "I just tried the solution in that question, and it didn&#39;t work, still the same log messages"}, {"owner": {"reputation": 12873, "user_id": 3641067, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/fhMde.png?s=128&g=1", "display_name": "bur&#230;quete", "link": "https://stackoverflow.com/users/3641067/bur%c3%a6quete"}, "edited": false, "score": 0, "creation_date": 1566436832, "post_id": 57600245, "comment_id": 101658885, "body": "How about <a href=\"https://stackoverflow.com/a/39851184/3641067\">this</a>? Are you using such a configuration in your code? If you do, please include it in your question!"}, {"owner": {"reputation": 465, "user_id": 6236250, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a4_n31hT25M/AAAAAAAAAAI/AAAAAAAAAAA/xy9DUMPmC9Y/photo.jpg?sz=128", "display_name": "Rob Scully", "link": "https://stackoverflow.com/users/6236250/rob-scully"}, "edited": false, "score": 0, "creation_date": 1566455271, "post_id": 57600245, "comment_id": 101662736, "body": "Have you a customer configuration file? Can you please post your entire pom.xml file and all related configuration files ?"}, {"owner": {"reputation": 85, "user_id": 10729742, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WJR5P9WD1x0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gttX3SSmyLG4HyDnh6LOg_K45KDw/mo/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10729742/daniel"}, "edited": false, "score": 0, "creation_date": 1566471756, "post_id": 57600245, "comment_id": 101671156, "body": "I&#39;ve posted all the relevant files, I have no external configuration apart from what I&#39;ve already put in the question. The only other files I have is a User model, repository and Rest Controller and a Command Line Runner to inject 3 Users into the database"}], "owner": {"reputation": 85, "user_id": 10729742, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WJR5P9WD1x0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gttX3SSmyLG4HyDnh6LOg_K45KDw/mo/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10729742/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 447, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566432980, "creation_date": 1566429317, "last_edit_date": 1566432980, "question_id": 57600245, "link": "https://stackoverflow.com/questions/57600245/spring-mongodb-server-instantly-closing-connection-after-starting", "title": "Spring MongoDB: Server instantly closing connection after starting", "body": "<p>This is my first time using MongoDB with Spring, and all I'm trying to do is start the Spring server however the connection closes straight away after it's opened. </p>\n\n<p>After looking around on similar scenarios, there were suggestions about removing the Spring Data JPA dependency which I did but did not help. Another suggestion said to add h2 as a dependency to as Spring Starter needed it before a few things, which did help as previous the connection didn't even open. I've also edited the properties file, but nothing seems to work. </p>\n\n<p>Gradle file:</p>\n\n<pre><code>group = 'com.danielturato'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-mongodb'\n    implementation 'org.springframework.boot:spring-boot-starter-mail'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    runtimeOnly 'com.h2database:h2'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n}\n</code></pre>\n\n<p>application.properties:</p>\n\n<pre><code>spring.data.mongodb.host=localhost\nspring.data.mongodb.port=27017\nspring.data.mongodb.database=mongo\nserver.port=8095\n</code></pre>\n\n<p>The logs:</p>\n\n<pre><code>2019-08-22 00:04:13.109  INFO 16376 --- [           main] com.danielturato.esports.Application     : Starting Application on DESKTOP-E2MJ251 with PID 16376 (started by danie in D:\\Projects\\eSports Project)\n2019-08-22 00:04:13.111  INFO 16376 --- [           main] com.danielturato.esports.Application     : No active profile set, falling back to default profiles: default\n2019-08-22 00:04:13.368  INFO 16376 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.\n2019-08-22 00:04:13.411  INFO 16376 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39ms. Found 1 repository interfaces.\n2019-08-22 00:04:14.117  INFO 16376 --- [           main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}\n2019-08-22 00:04:14.117  INFO 16376 --- [           main] org.mongodb.driver.cluster               : Adding discovered server localhost:27017 to client view of cluster\n2019-08-22 00:04:14.150  INFO 16376 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:14}] to localhost:27017\n2019-08-22 00:04:14.153  INFO 16376 --- [localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 0]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1950400}\n2019-08-22 00:04:14.154  INFO 16376 --- [localhost:27017] org.mongodb.driver.cluster               : Discovered cluster type of STANDALONE\n2019-08-22 00:04:14.378  INFO 16376 --- [           main] com.danielturato.esports.Application     : Started Application in 1.482 seconds (JVM running for 1.99)\n2019-08-22 00:04:14.414  INFO 16376 --- [           main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:15}] to localhost:27017\n2019-08-22 00:04:14.429  INFO 16376 --- [       Thread-2] org.mongodb.driver.connection            : Closed connection [connectionId{localValue:2, serverValue:15}] to localhost:27017 because the pool has been closed.\n</code></pre>\n\n<p>If anyone has anymore suggestions, that would be appreciated !</p>\n"}, {"tags": ["java", "spring", "spring-boot"], "comments": [{"owner": {"reputation": 13032, "user_id": 4216641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVLIh.jpg?s=128&g=1", "display_name": "Turing85", "link": "https://stackoverflow.com/users/4216641/turing85"}, "edited": false, "score": 0, "creation_date": 1566429461, "post_id": 57600233, "comment_id": 101657640, "body": "&quot;<i>...because properties file can exist on different locations or with different names but always same properties.</i>&quot; - Normally, your deployment pipeline should take care of this. Your deployment pipeline should provision the property file to some path in the file system and then start the application, passing along the location of the property file."}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 4295716, "user_type": "registered", "profile_image": "https://graph.facebook.com/657269063/picture?type=large", "display_name": "Diego Pati&#241;o", "link": "https://stackoverflow.com/users/4295716/diego-pati%c3%b1o"}, "is_accepted": false, "score": 4, "last_activity_date": 1566429942, "creation_date": 1566429942, "answer_id": 57600299, "question_id": 57600233, "link": "https://stackoverflow.com/questions/57600233/load-external-file-properties-with-spring-boot/57600299#57600299", "title": "Load external file properties with Spring Boot", "body": "<p>You can use:</p>\n\n<pre><code>java -jar app.jar --spring.config.location=file:///Users/home/config/jdbc.properties\n</code></pre>\n\n<p>More information here: <a href=\"https://www.baeldung.com/spring-properties-file-outside-jar\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-properties-file-outside-jar</a></p>\n"}], "owner": {"reputation": 92, "user_id": 9435449, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VNBeK-kAYMw/AAAAAAAAAAI/AAAAAAAAJ9o/fnzMMj20tU0/photo.jpg?sz=128", "display_name": "Alan Aranda", "link": "https://stackoverflow.com/users/9435449/alan-aranda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566484606, "creation_date": 1566429168, "last_edit_date": 1566442857, "question_id": 57600233, "link": "https://stackoverflow.com/questions/57600233/load-external-file-properties-with-spring-boot", "title": "Load external file properties with Spring Boot", "body": "<p>I\u2019m executing a jar and passing a properties file in args</p>\n\n<pre><code>java - jar file.jar props.properties\n</code></pre>\n\n<p>To read the properties file I\u2019m using <code>java.util.Properties.load</code>. I want to know if there is a better way to do this with spring boot because properties file can exist in different locations or with different names but always the same properties.</p>\n\n<p>I tried with <code>PropertySource</code> but I couldn\u2019t find a way to set properties file dynamically </p>\n"}, {"tags": ["java", "aws-sdk", "aws-kms"], "comments": [{"owner": {"reputation": 1087, "user_id": 276166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e6a115f26a4d3775393e6e58dfd1456?s=128&d=identicon&r=PG", "display_name": "uaraven", "link": "https://stackoverflow.com/users/276166/uaraven"}, "edited": false, "score": 0, "creation_date": 1566441047, "post_id": 57600185, "comment_id": 101659558, "body": "Check what&#39;s in your <code>clientConfiguration</code>. It looks like you&#39;re using proxy and it doesn&#39;t allow/know how to connect to AWS KMS endpoint."}, {"owner": {"reputation": 1167, "user_id": 3799695, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/100004017129043/picture?type=large", "display_name": "Sandoval0992", "link": "https://stackoverflow.com/users/3799695/sandoval0992"}, "reply_to_user": {"reputation": 1087, "user_id": 276166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e6a115f26a4d3775393e6e58dfd1456?s=128&d=identicon&r=PG", "display_name": "uaraven", "link": "https://stackoverflow.com/users/276166/uaraven"}, "edited": false, "score": 0, "creation_date": 1566489672, "post_id": 57600185, "comment_id": 101681542, "body": "I set up a proxy via the ClientConfiguration object for connecting to S3 service using the SDK and it worked well. So, it&#39;s the same configuration I&#39;m trying to use for KMS."}], "owner": {"reputation": 1167, "user_id": 3799695, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/100004017129043/picture?type=large", "display_name": "Sandoval0992", "link": "https://stackoverflow.com/users/3799695/sandoval0992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 278, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566428752, "creation_date": 1566428752, "question_id": 57600185, "link": "https://stackoverflow.com/questions/57600185/aws-kms-create-cmk-with-sdk-for-java", "title": "AWS KMS, Create CMK with SDK for Java", "body": "<p>I'm starting to work with the AWS SDK for Java, specifically to make use of the KMS service. </p>\n\n<p>The first thing I need to do is creating a CMK key so I'm following the examples on the developer guide provided by the official documentation.</p>\n\n<pre><code>AWSKMS kmsClient = AWSKMSClientBuilder.standard().withClientConfiguration(clientConfiguration).build();\n\nString desc = \"Key for protecting critical data\";\nCreateKeyRequest req = new CreateKeyRequest().withDescription(desc);\nCreateKeyResult keyResult = kmsClient.createKey(req);\n</code></pre>\n\n<p>However if a run the application for trying to create the CMK key, I get the following error which I don't know how to solve.</p>\n\n<pre><code>com.fasterxml.jackson.core.JsonParseException: Unexpected character ('&lt;' (code 60)): expected a valid value (number, String, array, object, 'true', 'false' or 'null')\n at [Source: (byte[])\"&lt;html&gt;&lt;head&gt;&lt;title&gt;404 Not Found&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;&lt;h1&gt;Host Not Found&lt;/h1&gt;\n&lt;p&gt;DNS error (the host name of the page you are looking for does not exist) or Server did not accept the connection.&lt;br&gt;&lt;br&gt;Please check that the host name has been spelled correctly.&lt;br&gt;&lt;/p&gt;\n&lt;!--Zscaler/5.7--&gt;&lt;/body&gt;&lt;/html&gt;\n\"; line: 1, column: 2]\n    at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1804)\n    at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:693)\n    at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:591)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._handleUnexpectedValue(UTF8StreamJsonParser.java:2630)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._nextTokenNotInObject(UTF8StreamJsonParser.java:832)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:729)\n    at com.fasterxml.jackson.databind.ObjectMapper._readTreeAndClose(ObjectMapper.java:4042)\n    at com.fasterxml.jackson.databind.ObjectMapper.readTree(ObjectMapper.java:2571)\n    at com.amazonaws.protocol.json.JsonContent.parseJsonContent(JsonContent.java:72)\n    at com.amazonaws.protocol.json.JsonContent.&lt;init&gt;(JsonContent.java:64)\n    at com.amazonaws.protocol.json.JsonContent.createJsonContent(JsonContent.java:54)\n    at com.amazonaws.http.JsonErrorResponseHandler.handle(JsonErrorResponseHandler.java:61)\n    at com.amazonaws.http.JsonErrorResponseHandler.handle(JsonErrorResponseHandler.java:33)\n    at com.amazonaws.http.AwsErrorResponseHandler.handleAse(AwsErrorResponseHandler.java:53)\n    at com.amazonaws.http.AwsErrorResponseHandler.handle(AwsErrorResponseHandler.java:41)\n    at com.amazonaws.http.AwsErrorResponseHandler.handle(AwsErrorResponseHandler.java:26)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1642)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1324)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1074)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:745)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:719)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:701)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:669)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:651)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:515)\n    at com.amazonaws.services.kms.AWSKMSClient.doInvoke(AWSKMSClient.java:3506)\n    at com.amazonaws.services.kms.AWSKMSClient.invoke(AWSKMSClient.java:3475)\n    at com.amazonaws.services.kms.AWSKMSClient.invoke(AWSKMSClient.java:3464)\n    at com.amazonaws.services.kms.AWSKMSClient.executeDescribeKey(AWSKMSClient.java:1126)\n    at com.amazonaws.services.kms.AWSKMSClient.describeKey(AWSKMSClient.java:1097)\n    at com.thalesgroup.aws.kms.KmsServiceTest.getCMKInformation(KmsServiceTest.java:51)\n    at com.thalesgroup.aws.kms.KmsServiceTest.main(KmsServiceTest.java:16)\n17:38:32.994 [main] DEBUG com.amazonaws.request - Received error response: com.amazonaws.services.kms.model.AWSKMSException: null (Service: AWSKMS; Status Code: 404; Error Code: null; Request ID: null)\nException in thread \"main\" com.amazonaws.services.kms.model.AWSKMSException: null (Service: AWSKMS; Status Code: 404; Error Code: null; Request ID: null)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1660)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1324)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1074)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:745)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:719)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:701)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:669)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:651)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:515)\n    at com.amazonaws.services.kms.AWSKMSClient.doInvoke(AWSKMSClient.java:3506)\n    at com.amazonaws.services.kms.AWSKMSClient.invoke(AWSKMSClient.java:3475)\n    at com.amazonaws.services.kms.AWSKMSClient.invoke(AWSKMSClient.java:3464)\n    at com.amazonaws.services.kms.AWSKMSClient.executeDescribeKey(AWSKMSClient.java:1126)\n    at com.amazonaws.services.kms.AWSKMSClient.describeKey(AWSKMSClient.java:1097)\n    at com.thalesgroup.aws.kms.KmsServiceTest.getCMKInformation(KmsServiceTest.java:51)\n    at com.thalesgroup.aws.kms.KmsServiceTest.main(KmsServiceTest.java:16)\n</code></pre>\n\n<p>It seems to be like two errors, one is a JsonParseException and in other hand a 404 error code is printed as part of the response that can not be parsed.</p>\n\n<pre><code>com.fasterxml.jackson.core.JsonParseException: Unexpected character ('&lt;' (code 60)): expected a valid value (number, String, array, object, 'true', 'false' or 'null')\n at [Source: (byte[])\"&lt;html&gt;&lt;head&gt;&lt;title&gt;404 Not Found&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;&lt;h1&gt;Host Not Found&lt;/h1&gt;\n&lt;p&gt;DNS error (the host name of the page you are looking for does not exist) or Server did not accept the connection.&lt;br&gt;&lt;br&gt;Please check that the host name has been spelled correctly.&lt;br&gt;&lt;/p&gt;\n&lt;!--Zscaler/5.7--&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>Can somebody help me please? </p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["java", "multithreading"], "comments": [{"owner": {"reputation": 13032, "user_id": 4216641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVLIh.jpg?s=128&g=1", "display_name": "Turing85", "link": "https://stackoverflow.com/users/4216641/turing85"}, "edited": false, "score": 0, "creation_date": 1566428872, "post_id": 57600156, "comment_id": 101657504, "body": "&quot;<i>If 2 or more threads were to call this method simultaneously, is it thread safe?</i>&quot; - Yes."}, {"owner": {"reputation": 4963, "user_id": 1420941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fe6f564d60a7b48e02f22181ad24912?s=128&d=identicon&r=PG", "display_name": "stringy05", "link": "https://stackoverflow.com/users/1420941/stringy05"}, "edited": false, "score": 0, "creation_date": 1566428945, "post_id": 57600156, "comment_id": 101657523, "body": "this has a question and answer already: <a href=\"https://stackoverflow.com/questions/13910976/how-to-ensure-thread-safety-of-utility-static-method#targetText=It%20is%20well%20known%20that,and%20mutable%20objects%20are%20not.&amp;targetText=But%20that&#39;s%20a%20different%20matter,operates%20only%20on%20its%20arguments\" title=\"how to ensure thread safety of utility static method%23targetText%3dIt%2520is%2520well%2520known%2520that%2cand%2520mutable%2520objects%2520are%2520not.%26amp%3btargetText%3dBut%2520that%26%2339%3bs%2520a%2520different%2520matter%2coperates%2520only%2520on%2520its%2520arguments\">stackoverflow.com/questions/13910976/&hellip;</a>."}, {"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1566428986, "post_id": 57600156, "comment_id": 101657534, "body": "There&#39;s no shared state, so yes."}, {"owner": {"reputation": 4832, "user_id": 4828463, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/jTteZ.jpg?s=128&g=1", "display_name": "Faraz", "link": "https://stackoverflow.com/users/4828463/faraz"}, "edited": false, "score": 1, "creation_date": 1566429416, "post_id": 57600156, "comment_id": 101657634, "body": "Thank you for sharing that link. It gave a clear and concise answer. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 766, "user_id": 9217609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa066678695c56e5bd95bc07dd9954f0?s=128&d=identicon&r=PG&f=1", "display_name": "Aiyuni", "link": "https://stackoverflow.com/users/9217609/aiyuni"}, "is_accepted": true, "score": 3, "last_activity_date": 1566428865, "creation_date": 1566428865, "answer_id": 57600199, "question_id": 57600156, "link": "https://stackoverflow.com/questions/57600156/static-methods-and-thread-safety-in-java/57600199#57600199", "title": "Static methods and thread safety in Java", "body": "<p>Yes, that method is thread-safe.  The issue with thread-safety occurs is when the static method tries to do something more complex, like sharing data.</p>\n\n<p>Going in more detail, </p>\n\n<pre><code>public static String convertToString(int i) {\n    return String.valueOf(i);\n}\n</code></pre>\n\n<p>the above method operates only on the parameter <code>i</code>, which resides on the stack.  Stack is local to the thread, so it is perfectly thread-safe.</p>\n"}, {"comments": [{"owner": {"reputation": 13032, "user_id": 4216641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVLIh.jpg?s=128&g=1", "display_name": "Turing85", "link": "https://stackoverflow.com/users/4216641/turing85"}, "edited": false, "score": 0, "creation_date": 1566429003, "post_id": 57600205, "comment_id": 101657538, "body": "Your wording on this part is a little bit ambiguous. One could read it as: &quot;<code>i++</code> is an atomic operation&quot;."}], "tags": [], "owner": {"reputation": 11536, "user_id": 4153426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c31a74eb097f59d849583fb59ed3616a?s=128&d=identicon&r=PG&f=1", "display_name": "m.antkowicz", "link": "https://stackoverflow.com/users/4153426/m-antkowicz"}, "is_accepted": false, "score": 2, "last_activity_date": 1566428910, "creation_date": 1566428910, "answer_id": 57600205, "question_id": 57600156, "link": "https://stackoverflow.com/questions/57600156/static-methods-and-thread-safety-in-java/57600205#57600205", "title": "Static methods and thread safety in Java", "body": "<p>Basically you need synchronization when you are performing <a href=\"https://www.vogella.com/tutorials/JavaConcurrency/article.html#atomic-operation\" rel=\"nofollow noreferrer\">non atomic operations</a> like incrementing variable (<code>i++</code>) - update it's value, then read etc.</p>\n\n<p>Such operation like reading value (be careful with <code>double</code> and <code>long</code>) is an atomic operation by definition so it's thread-safe</p>\n"}, {"tags": [], "owner": {"reputation": 363, "user_id": 5653406, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207173054541471/picture?type=large", "display_name": "Awan Biru", "link": "https://stackoverflow.com/users/5653406/awan-biru"}, "is_accepted": false, "score": 3, "last_activity_date": 1566429338, "creation_date": 1566429338, "answer_id": 57600248, "question_id": 57600156, "link": "https://stackoverflow.com/questions/57600156/static-methods-and-thread-safety-in-java/57600248#57600248", "title": "Static methods and thread safety in Java", "body": "<p>Yes it is thread safe. As long as static method above does not read/modify shared mutable reference or value. For example:-</p>\n\n<pre><code>private static int counter = 0;\n\npublic static String convertToString(int i) {\n\n    //this has race conditions.\n    counter++;\n\n    return String.valueOf(i);\n}\n</code></pre>\n"}], "owner": {"reputation": 4832, "user_id": 4828463, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/jTteZ.jpg?s=128&g=1", "display_name": "Faraz", "link": "https://stackoverflow.com/users/4828463/faraz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "closed_date": 1566429510, "accepted_answer_id": 57600199, "answer_count": 3, "score": 0, "last_activity_date": 1566429338, "creation_date": 1566428589, "question_id": 57600156, "link": "https://stackoverflow.com/questions/57600156/static-methods-and-thread-safety-in-java", "closed_reason": "Duplicate", "title": "Static methods and thread safety in Java", "body": "<p>I understand that static method does not guarantee thread safety. Because even though there is a single class method in the entire application, that method  can be called simultaneously and could cause thread safety issues if you are not careful. But what happens when that class method doesn't affect any global variable? Is is still Thread Safe? For example, I have this code:</p>\n\n<pre><code>public static String convertToString(int i) {\n    return String.valueOf(i);\n}\n</code></pre>\n\n<p>If 2 or more threads were to call this method simultaneously, is it thread safe? </p>\n"}, {"tags": ["java", "spring-boot"], "answers": [{"tags": [], "owner": {"reputation": 341, "user_id": 11937696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f830e8c015c55163d1bf70660d173662?s=128&d=identicon&r=PG&f=1", "display_name": "B. Wasnie", "link": "https://stackoverflow.com/users/11937696/b-wasnie"}, "is_accepted": false, "score": -1, "last_activity_date": 1566428755, "creation_date": 1566428755, "answer_id": 57600187, "question_id": 57600116, "link": "https://stackoverflow.com/questions/57600116/how-do-i-go-from-getcookies-to-a-string-in-java/57600187#57600187", "title": "How do I go from getCookies() to a string in Java?", "body": "<pre><code>HttpURLConnection connection = (HttpURLConnection) url.openConnection();\nString cookie = request.getHeader(\"Cookie\");\nconnection.setRequestProperty(\"Cookie\", cookie);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 580, "user_id": 2474133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/022aee0a512664ce9ceb72b586e7beea?s=128&d=identicon&r=PG", "display_name": "tcharaf", "link": "https://stackoverflow.com/users/2474133/tcharaf"}, "is_accepted": false, "score": -1, "last_activity_date": 1566428799, "creation_date": 1566428799, "answer_id": 57600190, "question_id": 57600116, "link": "https://stackoverflow.com/questions/57600116/how-do-i-go-from-getcookies-to-a-string-in-java/57600190#57600190", "title": "How do I go from getCookies() to a string in Java?", "body": "<p>You can use the getHeader() method to get the Cookie header string:</p>\n\n<pre><code>String cookie = request.getHeader(\"Cookie\");\n</code></pre>\n"}], "owner": {"reputation": 341, "user_id": 11937696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f830e8c015c55163d1bf70660d173662?s=128&d=identicon&r=PG&f=1", "display_name": "B. Wasnie", "link": "https://stackoverflow.com/users/11937696/b-wasnie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566438046, "creation_date": 1566428289, "question_id": 57600116, "link": "https://stackoverflow.com/questions/57600116/how-do-i-go-from-getcookies-to-a-string-in-java", "title": "How do I go from getCookies() to a string in Java?", "body": "<p>Input: I use <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html\" rel=\"nofollow noreferrer\">HttpServletRequest</a> class in Java that has <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getCookies()\" rel=\"nofollow noreferrer\"><code>getCookies()</code></a>.</p>\n\n<p>Output: I need to set request's cookie field as a string:</p>\n\n<pre><code>// foo=123123;bar=222\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\nString cookie = \"foo=123123;bar=222\"\nconnection.setRequestProperty(\"Cookie\", cookie);\n</code></pre>\n\n<p>Is there a built in method to convert the output of <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getCookies()\" rel=\"nofollow noreferrer\"><code>getCookies()</code></a> to string?</p>\n\n<p>I do realize I can probably iterate over all cookies and create such a string manually, but it looks like I'm missing something.</p>\n"}, {"tags": ["java", "blockchain", "aion", "oan"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 11673775, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-v0Q09y1pvmY/AAAAAAAAAAI/AAAAAAAAABg/RPjfuyLvBkw/photo.jpg?sz=128", "display_name": "Wade Abel", "link": "https://stackoverflow.com/users/11673775/wade-abel"}, "edited": false, "score": 1, "creation_date": 1566684011, "post_id": 57629217, "comment_id": 101735291, "body": "Excellent. The link above of the repository <a href=\"https://avm-api.aion.network/avm/blockchain#create%28java.math.BigInteger,byte%5B%5D,long%29\" rel=\"nofollow noreferrer\">here</a>  was exactly what I was looking for."}, {"owner": {"reputation": 776, "user_id": 2878626, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ec8edce958b15622491089fea9cd110?s=128&d=identicon&r=PG", "display_name": "reelyard", "link": "https://stackoverflow.com/users/2878626/reelyard"}, "reply_to_user": {"reputation": 31, "user_id": 11673775, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-v0Q09y1pvmY/AAAAAAAAAAI/AAAAAAAAABg/RPjfuyLvBkw/photo.jpg?sz=128", "display_name": "Wade Abel", "link": "https://stackoverflow.com/users/11673775/wade-abel"}, "edited": false, "score": 0, "creation_date": 1566826181, "post_id": 57629217, "comment_id": 101767218, "body": "Glad to have helped. But just to reiterate: that <code>Blockchain.create</code> function cannot be used to create a user&#39;s account, i.e. a wallet. <code>Blockchain.create</code> can only ever be used to create a <i>contract</i> account since the <code>byte[] data</code> cannont be <code>null</code>."}], "tags": [], "owner": {"reputation": 776, "user_id": 2878626, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ec8edce958b15622491089fea9cd110?s=128&d=identicon&r=PG", "display_name": "reelyard", "link": "https://stackoverflow.com/users/2878626/reelyard"}, "is_accepted": false, "score": 0, "last_activity_date": 1566574158, "creation_date": 1566574158, "answer_id": 57629217, "question_id": 57600098, "link": "https://stackoverflow.com/questions/57600098/creating-aion-accounts-with-the-intellij-maven-plugins/57629217#57629217", "title": "Creating Aion accounts with the intelliJ Maven plugins", "body": "<p>Welcome to StackOverflow!</p>\n\n<p>There is currently no way to programmatically create an account from within a Java contract. There is the <a href=\"https://avm-api.aion.network/avm/blockchain#create%28java.math.BigInteger,byte[],long%29\" rel=\"nofollow noreferrer\"><code>Blockchain.create()</code></a> function, but that is specifically for creating Java contracts.</p>\n\n<p>There is <a href=\"https://github.com/aion-kelvin/AionAccountMaker\" rel=\"nofollow noreferrer\">this repo</a> that you can use to create a private and public key using Java.</p>\n\n<p>If you're creating a frontend however, you should use something like Web3.js to create an account object:</p>\n\n<pre><code>async function createAccount() {\n    const account = web3.eth.accounts.create(web3.utils.randomHex(32));\n    return account;\n}\n</code></pre>\n\n<p>Then you could have a button in your HTML that calls <code>createAccount()</code>.</p>\n"}], "owner": {"reputation": 31, "user_id": 11673775, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-v0Q09y1pvmY/AAAAAAAAAAI/AAAAAAAAABg/RPjfuyLvBkw/photo.jpg?sz=128", "display_name": "Wade Abel", "link": "https://stackoverflow.com/users/11673775/wade-abel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1572816476, "creation_date": 1566428190, "last_edit_date": 1572816476, "question_id": 57600098, "link": "https://stackoverflow.com/questions/57600098/creating-aion-accounts-with-the-intellij-maven-plugins", "title": "Creating Aion accounts with the intelliJ Maven plugins", "body": "<p>I'm looking to create an Aion account/address when a user creates a new account on a website. The only way I have found is via the web3 API. Is there a way to do it on the backend with using the Java plugins? </p>\n\n<p>Or is there a third party API that can facilitate this?</p>\n\n<p>Or what is the best practice for creating user accounts that are relatively seamless and the user does not need to know much about the interactions?</p>\n\n<p>I have checked the <a href=\"https://docs.aion.network\" rel=\"nofollow noreferrer\">https://docs.aion.network</a> page but there does not seem to be any relevant information.</p>\n"}, {"tags": ["java", "jooq"], "answers": [{"tags": [], "owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "is_accepted": true, "score": 2, "last_activity_date": 1566463387, "creation_date": 1566463387, "answer_id": 57605359, "question_id": 57599913, "link": "https://stackoverflow.com/questions/57599913/how-do-you-add-jsonb-functions-in-from-subqueries-using-jooq/57605359#57605359", "title": "How do you add jsonb functions in FROM subqueries using JOOQ", "body": "<p>Whenever you're missing API support for vendor specific SQL features, you can resort to using the <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\" rel=\"nofollow noreferrer\">plain SQL templating API</a>. I.e. write</p>\n\n<pre><code>Table&lt;?&gt; s = DSL.table(\"jsonb_array_elements({0})\", T.KEYS_AND_VALUES).as(\"s\");\nTable&lt;?&gt; s1 = DSL.table(\"jsonb_object_keys({0})\", s).as(\"s1\");\n</code></pre>\n\n<p>And then, in order to form a predicate, you can write:</p>\n\n<pre><code>DSL.condition(\"{0} = {1}\", s1, DSL.val(\"key\"));\n</code></pre>\n\n<p>There are many other approaches, all using the plain SQL templating API, depending on how much you want to reuse some vendor specific function expressions, etc.</p>\n"}], "owner": {"reputation": 1639, "user_id": 992706, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c4157893cac7f2758cdce7f48120828e?s=128&d=identicon&r=PG", "display_name": "Bharath", "link": "https://stackoverflow.com/users/992706/bharath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 57605359, "answer_count": 1, "score": 1, "last_activity_date": 1566463387, "creation_date": 1566426614, "last_edit_date": 1566427013, "question_id": 57599913, "link": "https://stackoverflow.com/questions/57599913/how-do-you-add-jsonb-functions-in-from-subqueries-using-jooq", "title": "How do you add jsonb functions in FROM subqueries using JOOQ", "body": "<p>How do you build this query using jooq?</p>\n\n<pre><code>select et.id \nfrom t, et, \n    jsonb_array_elements(t.keys_and_values) as s, jsonb_object_keys(s) as s1\nwhere et.id = t.id\nand s1 = 'key'\n</code></pre>\n"}, {"tags": ["java", "equals", "hashcode"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 1, "creation_date": 1566426783, "post_id": 57599910, "comment_id": 101657062, "body": "Sorry, asking for tool recommendations is off-topic. See the <a href=\"https://stackoverflow.com/help\">help center</a> and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 3, "creation_date": 1566426788, "post_id": 57599910, "comment_id": 101657064, "body": "I&#39;m not sure I quite understand the underlying reasoning here: hashCode and equals are not required to rely on every single object field. Mandating that this be the case is your choice, not an inherent quality of java code? Why would you put this restriction in place? And how would you even guarantee that code that <i>does</i> use every field, does so meaningfully?"}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "reply_to_user": {"reputation": 11536, "user_id": 4153426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c31a74eb097f59d849583fb59ed3616a?s=128&d=identicon&r=PG&f=1", "display_name": "m.antkowicz", "link": "https://stackoverflow.com/users/4153426/m-antkowicz"}, "edited": false, "score": 0, "creation_date": 1566427347, "post_id": 57599910, "comment_id": 101657208, "body": "@m.antkowicz Which part of Jim&#39;s comment is nasty? It is a very nice comment, simply informing OP of the site rules."}, {"owner": {"reputation": 632, "user_id": 1353058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48723ee52417e96245b9b1aaf4e31fa6?s=128&d=identicon&r=PG", "display_name": "tenedor", "link": "https://stackoverflow.com/users/1353058/tenedor"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1566427604, "post_id": 57599910, "comment_id": 101657255, "body": "@Mike&#39;Pomax&#39;Kamermans in practice using all the fields is frequently the correct behavior, and the cost of being wrong can be high and hard to discover. If a developer intentionally leaves out certain fields, they can annotate this at low cost. What I&#39;ve described is a static analysis that makes it possible to avoid the most likely accidents. I agree that it remains possible to non-meaningfully use a field, but that&#39;s a much rarer failure mode. A solution to 99% of the problem is more useful than no solution."}, {"owner": {"reputation": 632, "user_id": 1353058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48723ee52417e96245b9b1aaf4e31fa6?s=128&d=identicon&r=PG", "display_name": "tenedor", "link": "https://stackoverflow.com/users/1353058/tenedor"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1566427661, "post_id": 57599910, "comment_id": 101657269, "body": "And @JimGarrison and others - apologies for asking this in the wrong forum. I&#39;ll keep this in mind going forward. Thanks to those who have written back anyway."}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "reply_to_user": {"reputation": 11536, "user_id": 4153426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c31a74eb097f59d849583fb59ed3616a?s=128&d=identicon&r=PG&f=1", "display_name": "m.antkowicz", "link": "https://stackoverflow.com/users/4153426/m-antkowicz"}, "edited": false, "score": 0, "creation_date": 1566429256, "post_id": 57599910, "comment_id": 101657600, "body": "@m.antkowicz The <i>&quot;Is there an automated tool ...&quot;</i> in the question <i>is</i> an ask for a tool recommendation, so teaching a relatively new user (500 rep) of SO about some of the rules of the site is <i>helpful</i>, not nasty and useless. Or don&#39;t you think it&#39;s helpful to guide users to <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask better questions</a>, so they are more likely to get good useful answers? I do. --- Also, it was done as a <i>comment</i>, not as an answer."}], "answers": [{"comments": [{"owner": {"reputation": 632, "user_id": 1353058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48723ee52417e96245b9b1aaf4e31fa6?s=128&d=identicon&r=PG", "display_name": "tenedor", "link": "https://stackoverflow.com/users/1353058/tenedor"}, "edited": false, "score": 0, "creation_date": 1566427959, "post_id": 57599940, "comment_id": 101657339, "body": "This looks useful. From Lombok&#39;s documentation: Any class definition may be annotated with EqualsAndHashCode to let lombok generate implementations of the equals(Object other) and hashCode() methods. By default, it&#39;ll use all non-static, non-transient fields, but you can modify which fields are used (and even specify that the output of various methods is to be used) by marking type members with EqualsAndHashCode.Include or EqualsAndHashCode.Exclude. Alternatively, you can specify exactly which fields or methods you wish to be used by marking them with EqualsAndHashCode.Include..."}], "tags": [], "owner": {"reputation": 11536, "user_id": 4153426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c31a74eb097f59d849583fb59ed3616a?s=128&d=identicon&r=PG&f=1", "display_name": "m.antkowicz", "link": "https://stackoverflow.com/users/4153426/m-antkowicz"}, "is_accepted": true, "score": 3, "last_activity_date": 1566427220, "last_edit_date": 1566427220, "creation_date": 1566426805, "answer_id": 57599940, "question_id": 57599910, "link": "https://stackoverflow.com/questions/57599910/how-to-detect-if-equals-and-hashcode-have-gotten-out-of-sync-with-a-classs/57599940#57599940", "title": "How to detect if equals() and hashCode() have gotten out of sync with a class&#39;s fields?", "body": "<blockquote>\n  <p>Is there an automated tool that can analyze a codebase and produce a list of classes whose equals and hashCode methods are not in sync with their fields</p>\n</blockquote>\n\n<p>You can use <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Lombok</a> - java library that is automatically genereting boiler plate code for your java classes. You are adding this as dependency, putting <a href=\"https://projectlombok.org/features/EqualsAndHashCode\" rel=\"nofollow noreferrer\">special annotation</a> to your class and that's all - with every change it will regenerate proper methods for you</p>\n\n<pre><code>@EqualsAndHashCode\npublic class MyComplicatedClass {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 632, "user_id": 1353058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48723ee52417e96245b9b1aaf4e31fa6?s=128&d=identicon&r=PG", "display_name": "tenedor", "link": "https://stackoverflow.com/users/1353058/tenedor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "closed_date": 1566427745, "accepted_answer_id": 57599940, "answer_count": 1, "score": 0, "last_activity_date": 1566428082, "creation_date": 1566426605, "last_edit_date": 1566428082, "question_id": 57599910, "link": "https://stackoverflow.com/questions/57599910/how-to-detect-if-equals-and-hashcode-have-gotten-out-of-sync-with-a-classs", "closed_reason": "Not suitable for this site", "title": "How to detect if equals() and hashCode() have gotten out of sync with a class&#39;s fields?", "body": "<p>I have a codebase where in almost every case, a class that implements <code>equals</code> and <code>hashCode</code> should include comparisons and hashes of every field the class contains. For instance, the default <code>equals</code> and <code>hashCode</code> methods that an IDE will auto-generate are appropriate. Creating these methods is easy, but maintaining them over time is hard. Is there an automated tool that can analyze a codebase and produce a list of classes whose <code>equals</code> and <code>hashCode</code> methods are not in sync with their fields?</p>\n\n<p>In the best case, it would have each of the following features, but a tool that just does #1 is already useful:</p>\n\n<ol>\n<li>List <code>classes</code> that have <code>equals</code> and <code>hashCode</code> implementations that use a different set of fields from each other or from the fields defined on the class.</li>\n<li>Allow a way to specify that certain fields on a class are intentionally excluded from <code>equals</code>/<code>hashCode</code>, and should therefore <em>not</em> appear in <code>equals</code>/<code>hashCode</code>.</li>\n<li><p>Also list classes that have a mismatch between their fields and their <code>equals</code>/<code>hashCode</code> due to inheritance. These are classes that define fields and that either </p>\n\n<ul>\n<li><p>override equals and hashCode from a <code>superclass</code> but fail to include <code>super.equals</code>/<code>super.hashCode</code> in the overrides, </p></li>\n<li><p>override <code>equals</code>/<code>hashCode</code> and call super, but the <code>superclass</code> defines fields and does not override its own <code>equals</code> and <code>hashCode</code>, or </p></li>\n<li><p>inherit a custom <code>equals</code> and <code>hashCode</code> from a <code>superclass</code> without overriding it.</p></li>\n</ul></li>\n</ol>\n"}, {"tags": ["java", "oop"], "answers": [{"comments": [{"owner": {"reputation": 13032, "user_id": 4216641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVLIh.jpg?s=128&g=1", "display_name": "Turing85", "link": "https://stackoverflow.com/users/4216641/turing85"}, "edited": false, "score": 0, "creation_date": 1566425610, "post_id": 57599690, "comment_id": 101656753, "body": "You can actually neglect the generic parameter and just demand a <code>Person person</code> as argument =)"}], "tags": [], "owner": {"reputation": 11536, "user_id": 4153426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c31a74eb097f59d849583fb59ed3616a?s=128&d=identicon&r=PG&f=1", "display_name": "m.antkowicz", "link": "https://stackoverflow.com/users/4153426/m-antkowicz"}, "is_accepted": false, "score": 0, "last_activity_date": 1566425682, "last_edit_date": 1566425682, "creation_date": 1566425091, "answer_id": 57599690, "question_id": 57599593, "link": "https://stackoverflow.com/questions/57599593/extract-a-method-used-by-two-types/57599690#57599690", "title": "Extract a method used by two types", "body": "<p>Do not use <code>instanceof</code> like this - it is violating <a href=\"https://en.wikipedia.org/wiki/Open%E2%80%93closed_principle\" rel=\"nofollow noreferrer\">Open Closed principle</a> and will make this code harder to maintain (not only if you'll decide to change <code>Teacher</code> or <code>Student</code> but also when you will add another <code>Person</code> implementation)</p>\n\n<p>What you can do is to either change <code>Person</code> interface or create new (then of course your classes needs to implement it) with proper methods</p>\n\n<pre><code>void setName(String name);\nvoid setSurname(String surname);\nvoid setAge(String age);\n</code></pre>\n\n<p>and create proper <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/methods.html\" rel=\"nofollow noreferrer\">generic method</a> like</p>\n\n<pre><code>private static &lt;T extends Person&gt; void setNameAndSurname(T person) {\n    person.setName(\"tom\");\n    person.setSurname(\"jenkins\");\n    person.setAge(\"50\");\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1566426759, "post_id": 57599761, "comment_id": 101657056, "body": "Mocking static methods hasn&#39;t been difficult for some time now, and bytecode manipulation exists throughout most Java stacks anyway. Presenting statements like that without any reasons does a disservice, IMO."}, {"owner": {"reputation": 13032, "user_id": 4216641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVLIh.jpg?s=128&g=1", "display_name": "Turing85", "link": "https://stackoverflow.com/users/4216641/turing85"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1566426980, "post_id": 57599761, "comment_id": 101657111, "body": "That was not the only point I gave. The other point was about isolation. My last information was that especially JaCoCo and PowerMock do not like each other (due to the fact that both manipulate the bytecode). And before I throw away my coverage, I rather let go of static methods. If this has changed, I gladly remove the paragraph though =)"}, {"owner": {"reputation": 13032, "user_id": 4216641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVLIh.jpg?s=128&g=1", "display_name": "Turing85", "link": "https://stackoverflow.com/users/4216641/turing85"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1566427919, "post_id": 57599761, "comment_id": 101657329, "body": "Hmm... yeah I thnk I see your point. Agreed, will remove the paragraph."}], "tags": [], "owner": {"reputation": 13032, "user_id": 4216641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVLIh.jpg?s=128&g=1", "display_name": "Turing85", "link": "https://stackoverflow.com/users/4216641/turing85"}, "is_accepted": true, "score": 1, "last_activity_date": 1566428404, "last_edit_date": 1566428404, "creation_date": 1566425550, "answer_id": 57599761, "question_id": 57599593, "link": "https://stackoverflow.com/questions/57599593/extract-a-method-used-by-two-types/57599761#57599761", "title": "Extract a method used by two types", "body": "<p>As you have already nonticed, <code>Student</code> and <code>Teacher</code> are structurally very similar, and already implement the same interface <code>Person</code>. This interface forces both classes to implement the methods <code>String getName()</code>, <code>String getSurname()</code> and <code>String getAge()</code>. In order to reuse the code within <code>Scratch#setNameAndSurname(...)</code>, however, the setter methods are required aswell. Without changing the interface <code>Person</code> or adding another interface, e.g. <code>ModifiablePerson</code>, I am afraid your solution is one of only a few solutions possible. I would only resort to this solution, if no other option is possible. The solution is problematic since it is not extensible. What if there will be a class <code>Child extends Person</code> in the future? You would have to add another <code>instanceof</code>-check. Normally, those checks tend to appear in more than one place. Over the time, someone will forget to update one of the checks. This is a violation of the <a href=\"https://en.wikipedia.org/wiki/Open%E2%80%93closed_principle\" rel=\"nofollow noreferrer\">Open-closed principle</a>.</p>\n\n<p>If, on the other hand, it is possible to either add a new interface or edit the existing interface <code>Person</code>, you can do the following:</p>\n\n<pre><code>interface Person {\n    String getName();\n    String getSurname();\n    String getAge();\n    void setName(final String name);\n    void setSurname(final String surname);\n    void setAge(final String age);\n}\n</code></pre>\n\n<p>This then allows to simplify the <code>Scratch</code>-implementation:</p>\n\n<pre><code>class Scratch {\n    public static void main(String[] args) {\n        Student student = new Student();\n        Teacher teacher = new Teacher();\n\n         setNameAndSurname(teacher);\n    }\n\n    private static void setNameAndSurname(final Person person) {\n        person.setName(\"artemas\");\n        person.setSurname(\"prime\");\n        person.setAge(\"20\");\n    }\n}\n</code></pre>\n\n<p><a href=\"http://ideone.com/z6bJFO\" rel=\"nofollow noreferrer\"><kbd>Ideone example</kbd></a></p>\n\n<p>This is one application of <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow noreferrer\">Liskov's substitution law</a>.</p>\n\n<hr>\n\n<p>A remark on the method name <code>setNameAndSurname()</code>: the method implies that the name and surname are set, but it actually has no parameters for name and surname to pass along. Thus, a more descriptive name would be <code>setNameAndSurnameToDefaultValues(...)</code>. Furthermore, the method also sets the age, which should be reflected by the method name aswell. This would result in something like <code>setNameAndSurnameAndAgeToDefaultValues(...)</code>, which is long and unhandy and why not do this through the constructor if default values are needed (after all, that is what constructor overloading and constructor forwarding can be used for)?</p>\n"}, {"tags": [], "owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "is_accepted": false, "score": 1, "last_activity_date": 1566426725, "last_edit_date": 1566426725, "creation_date": 1566426358, "answer_id": 57599880, "question_id": 57599593, "link": "https://stackoverflow.com/questions/57599593/extract-a-method-used-by-two-types/57599880#57599880", "title": "Extract a method used by two types", "body": "<p>First of all, the existence of a static <code>setNameAndSurname</code> method is really bad code smell.  What do you do when you are asked to add a new <code>VolunteerAide extends Person</code>?</p>\n\n<p>More important, since <code>Teacher</code> and <code>Student</code> have common state (<code>name</code> and <code>surname</code> at least, probably more), it makes more sense for <code>Person</code> to be an abstract superclass instead of an interface.  Consider this instead:</p>\n\n<pre><code>public class PersonTest\n{\n\n    public static abstract class Person\n    {\n        private String name;\n        private String surname;\n        public void setName(String name) {\n            this.name = name;\n        }\n        public void setSurname(String surname) {\n            this.surname = surname;\n        }\n        public void setNameAndSurname(String name, String surname) {\n            setName(name);\n            setSurname(surname);\n        }\n    }\n\n    public static class Student extends Person {\n        // Student-only state and methods\n    }\n\n    public static class Teacher extends Person {\n        // Teacher-only state and methods\n    }\n\n    public static void main(String[] args) {\n        Student s = new Student();\n        s.setNameAndSurname(\"John\", \"Smith\");\n        Teacher t = new Teacher();\n        t.setNameAndSurname(\"Fred\", \"Bloggs\");\n    }\n}\n</code></pre>\n\n<p>Now if you need to add a new <code>Person</code> subclass there's no extra work to do.</p>\n\n<p>If <code>Person</code> absolutely <em>must</em> be an interface, consider using a default interface method:</p>\n\n<pre><code>public interface Person\n{\n    public  void setName(String name);\n    public  void setSurname(String surname);\n    default void setNameAndSurname(String name, String surname)\n    {\n        setName(name);\n        setSurname(surname);\n    }\n}\n</code></pre>\n\n<p>This is sub-optimal because it still forces you to provide separate implementations for <code>setName()</code> and <code>setSurname()</code> in each implementing class when clearly the state is shared and you need only one implementation.</p>\n"}], "owner": {"reputation": 749, "user_id": 3069566, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3fbf8a4efa84a93e2e6a3e426a012880?s=128&d=identicon&r=PG", "display_name": "Arty", "link": "https://stackoverflow.com/users/3069566/arty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 1, "accepted_answer_id": 57599761, "answer_count": 3, "score": 0, "last_activity_date": 1566428404, "creation_date": 1566424555, "question_id": 57599593, "link": "https://stackoverflow.com/questions/57599593/extract-a-method-used-by-two-types", "title": "Extract a method used by two types", "body": "<p>So I've been working on some legacy code and this one caught me out. How can I reuse the <code>setNameAndSurname()</code> method passing in either the <code>Teacher</code> or <code>Student</code> object?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n\nclass Scratch {\n    public static void main(String[] args) {\n        Student student = new Student();\n        Teacher teacher = new Teacher();\n\n        // How can make both teacher and student to use the same setNameAndSurname() method?\n        setNameAndSurname(teacher);\n    }\n\n    private static void setNameAndSurname(Teacher teacher) {\n        teacher.setName(\"tom\");\n        teacher.setSurname(\"jenkins\");\n        teacher.setAge(\"50\");\n    }\n\n    private static void setNameAndSurname(Student student) {\n        student.setName(\"artemas\");\n        student.setSurname(\"prime\");\n        student.setAge(\"20\");\n    }\n}\n\ninterface Person {\n    String getName();\n    String getSurname();\n    String getAge();\n}\n\nclass Student implements Person {\n    private String name;\n    private String surname;\n    private List&lt;String&gt; modules;\n    private String age;\n\n    public Student() {\n    }\n\n    public Student(String name, String surname, List&lt;String&gt; modules, String age) {\n        this.name = name;\n        this.surname = surname;\n        this.modules = modules;\n        this.age = age;\n    }\n\n    @Override\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String getSurname() {\n        return surname;\n    }\n\n    public void setSurname(String surname) {\n        this.surname = surname;\n    }\n\n    public List&lt;String&gt; getModules() {\n        return modules;\n    }\n\n    public void setModules(List&lt;String&gt; modules) {\n        this.modules = modules;\n    }\n\n    @Override\n    public String getAge() {\n        return age;\n    }\n\n    public void setAge(String age) {\n        this.age = age;\n    }\n}\n\nclass Teacher implements Person {\n    private String name;\n    private String surname;\n    private String subject;\n    private String age;\n\n\n    public Teacher() {\n    }\n\n    public Teacher(String name, String surname, String subject, String age) {\n        this.name = name;\n        this.surname = surname;\n        this.subject = subject;\n        this.age = age;\n    }\n\n    @Override\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String getSurname() {\n        return surname;\n    }\n\n    public void setSurname(String surname) {\n        this.surname = surname;\n    }\n\n    public String getSubject() {\n        return subject;\n    }\n\n    public void setSubject(String subject) {\n        this.subject = subject;\n    }\n\n    @Override\n    public String getAge() {\n        return age;\n    }\n\n    public void setAge(String age) {\n        this.age = age;\n    }\n}\n</code></pre>\n\n<ul>\n<li>Notice the instantiation of the objects in the <code>main()</code>. That means I cannot use the typical solution:</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>if (teacher == null) {\n    // use student\n}\n</code></pre>\n\n<p>One approach I thought of using in this scenario was using the <code>instanceof</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        Student student = new Student();\n        Teacher teacher = new Teacher();\n}\n\nprivate static void setNameAndSurname(Person person) {\n    if (person instanceof Teacher) {\n        person = teacher;\n    } else {\n        person = student;\n    }\n\n    person.setName(\"artemas\");\n    person.setSurname(\"prime\");\n    person.setAge(\"20\");\n}\n</code></pre>\n\n<p>However, I'm not really happy with this approach as it is not very strict. For example, if I want to change <code>Teacher</code> or <code>Student</code> in the future, the <code>instanceof</code> approach might catch me off guard.</p>\n"}, {"tags": ["java", "spring-boot", "vaadin", "vaadin-flow"], "answers": [{"comments": [{"owner": {"reputation": 29543, "user_id": 3181392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIgPs.png?s=128&g=1", "display_name": "cfrick", "link": "https://stackoverflow.com/users/3181392/cfrick"}, "edited": false, "score": 2, "creation_date": 1566454991, "post_id": 57600117, "comment_id": 101662635, "body": "If this enum is <i>only</i> used for UI purposes, this is an OK workaround.  If the enum is from somewhere else it a) might not be possible and b) you usually want your toString() for &quot;developer consumption&quot;"}, {"owner": {"reputation": 155, "user_id": 618849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f222295e171bcb70f03432d4336f7d?s=128&d=identicon&r=PG", "display_name": "ansjob", "link": "https://stackoverflow.com/users/618849/ansjob"}, "reply_to_user": {"reputation": 29543, "user_id": 3181392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIgPs.png?s=128&g=1", "display_name": "cfrick", "link": "https://stackoverflow.com/users/3181392/cfrick"}, "edited": false, "score": 1, "creation_date": 1566488174, "post_id": 57600117, "comment_id": 101680770, "body": "exactly, which is why I added the comments in the code snippets."}], "tags": [], "owner": {"reputation": 155, "user_id": 618849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f222295e171bcb70f03432d4336f7d?s=128&d=identicon&r=PG", "display_name": "ansjob", "link": "https://stackoverflow.com/users/618849/ansjob"}, "is_accepted": false, "score": 2, "last_activity_date": 1566428290, "creation_date": 1566428290, "answer_id": 57600117, "question_id": 57599558, "link": "https://stackoverflow.com/questions/57599558/how-to-set-labels-of-radiobuttongroup-with-bound-enum/57600117#57600117", "title": "How to set Labels of RadioButtonGroup with bound Enum", "body": "<p>The default behaviour is to do <code>toString</code> on the objects in a <code>ComboBox</code>. So why not make <code>toString</code> return what you expect, or set a label property with a getter?</p>\n\n<pre><code>enum MyOptions {\n    OPT1(\"Option 1\"),\n    OPT2(\"Option 2\"),\n    OPT3(\"Option 3\");\n\n    private final String label;\n\n    MyOptions(String label) {\n        this.label = label;\n    }\n\n    // either use getLabel as your item label generator...\n    public String getLabel() {\n        return this.label;\n    }\n\n    // ...or if you don't care about printing in logs etc. \n    //    just override the default toString implementation\n    public String toString() {\n        return this.label;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3865, "user_id": 2376954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d224ac3a2d1a260c5193bcf436cfdca0?s=128&d=identicon&r=PG", "display_name": "Leif &#197;strand", "link": "https://stackoverflow.com/users/2376954/leif-%c3%85strand"}, "edited": false, "score": 2, "creation_date": 1566454801, "post_id": 57602733, "comment_id": 101662557, "body": "For the record, <a href=\"https://github.com/vaadin/vaadin-radio-button-flow/issues/107\" rel=\"nofollow noreferrer\">github.com/vaadin/vaadin-radio-button-flow/issues/107</a> suggest adding a <code>setItemLabelGenerator</code> shorthand method."}, {"owner": {"reputation": 439, "user_id": 11601529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/578hx.png?s=128&g=1", "display_name": "tigu", "link": "https://stackoverflow.com/users/11601529/tigu"}, "edited": false, "score": 0, "creation_date": 1566561196, "post_id": 57602733, "comment_id": 101705084, "body": "Thanks for opening that issue, I was just thinking about doing the same"}], "tags": [], "owner": {"reputation": 3543, "user_id": 3358029, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d0509ce95288cd70c6c2a400bdf471e9?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Lumme", "link": "https://stackoverflow.com/users/3358029/erik-lumme"}, "is_accepted": true, "score": 3, "last_activity_date": 1566452900, "creation_date": 1566452900, "answer_id": 57602733, "question_id": 57599558, "link": "https://stackoverflow.com/questions/57599558/how-to-set-labels-of-radiobuttongroup-with-bound-enum/57602733#57602733", "title": "How to set Labels of RadioButtonGroup with bound Enum", "body": "<p><code>RadioButtonGroup</code> does not have <code>setItemLabelGenerator(...)</code>, but you can achieve the same with <code>setRenderer(new TextRenderer&lt;&gt;(...))</code>.</p>\n\n<p>So in this case</p>\n\n<pre><code>myBox.setRenderer(new TextRenderer&lt;&gt;(MyEnum::getText));\n</code></pre>\n"}], "owner": {"reputation": 439, "user_id": 11601529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/578hx.png?s=128&g=1", "display_name": "tigu", "link": "https://stackoverflow.com/users/11601529/tigu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 57602733, "answer_count": 2, "score": 0, "last_activity_date": 1566452900, "creation_date": 1566424312, "question_id": 57599558, "link": "https://stackoverflow.com/questions/57599558/how-to-set-labels-of-radiobuttongroup-with-bound-enum", "title": "How to set Labels of RadioButtonGroup with bound Enum", "body": "<p>I have a <code>RadioButtonGroup&lt;MyEnum&gt;</code> and I set the items with an Enum. The labels of the single items are now the elements of my Enum. Because of code conventions, my Enum elements are written big. I added a <code>public String getText(MyEnum e)</code> method to my Enum and I want the labels of the RadioButtonGroup to be these texts.</p>\n\n<p>I also have several ComboBoxes and their elements come from Enums, too. The ComboBoxes have a method <code>setItemLabelGenerator()</code> which I can use to set my Enum elements text presentations as labels.</p>\n\n<p>My Enum</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public enum MyEnum{\n    OPT1, OPT2, OPT3;\n\n    public static String getText(MyEnum e) {\n        switch(e) {\n            case OPT1:  return \"Option 1\";\n            case OPT2:  return \"Option 2\";\n            case OPT3:  return \"Option 3\";\n        }\n        return \"\";\n    }\n\n    public static Collection&lt;MyEnum &gt; getValues(){\n        Collection&lt;MyEnum &gt; resultList = new ArrayList&lt;MyEnum &gt;();\n        resultList.add(OPT1);\n        resultList.add(OPT2);\n        resultList.add(OPT3);\n    }\n}\n</code></pre>\n\n<p>In my UI class, I have my RadioButtonGroup with the Enum elements as items:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>RadioButtonGroup&lt;MyEnum&gt; myRadioGroup= new RadioButtonGroup&lt;MyEnum&gt;();\nmyRadioGroup.setItems(MyEnum.getValues());\n</code></pre>\n\n<p>Unfortunately, the labels of the items are \"OPT1\", \"OPT2\" and \"OPT3\" but I would like them to be \"Option 1\", \"Option 2\" and \"Option 3\".</p>\n\n<p>For my ComboBoxes I can use <code>setItemLabelGenerator()</code> method to get nice labels:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ComboBox&lt;MyEnum&gt; myBox= new ComboBox&lt;MyEnum&gt;();\nmyBox.setItems(MyEnum.getValues());\nmyBox.setItemLabelGenerator(MyEnum::getText);\n</code></pre>\n\n<p>The iteams inmy ComboBox are then \"Option 1\", \"Option 2\" and \"Option 3\".</p>\n\n<p>Can someone tell me, how to get a result like with the ComboBoxes for RadioButtonGroups? I want my users to see nice labels in the UI :-)</p>\n"}, {"tags": ["java", "for-loop", "drawing"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 1904911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E7iqk.png?s=128&g=1", "display_name": "bobbins", "link": "https://stackoverflow.com/users/1904911/bobbins"}, "is_accepted": false, "score": 0, "last_activity_date": 1566423986, "creation_date": 1566423986, "answer_id": 57599516, "question_id": 57599408, "link": "https://stackoverflow.com/questions/57599408/java-trying-to-draw-an-image-on-each-iteration-of-this-forloop/57599516#57599516", "title": "Java - Trying to draw an image on each iteration of this forLoop", "body": "<p>Time for some drawing refreshers!</p>\n\n<p>Android:\n<a href=\"https://developer.android.com/training/custom-views/custom-drawing#java\" rel=\"nofollow noreferrer\">https://developer.android.com/training/custom-views/custom-drawing#java</a></p>\n\n<p>AWT:\n<a href=\"https://youtu.be/2l5-5PMUc5Y\" rel=\"nofollow noreferrer\">https://youtu.be/2l5-5PMUc5Y</a></p>\n\n<p>You will need to add a way of controlling the drawing iteration, either by adding a button or using a thread containing a repaint call or similar. </p>\n"}], "owner": {"reputation": 23, "user_id": 9376011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R2Nl8.jpg?s=128&g=1", "display_name": "MegaDude", "link": "https://stackoverflow.com/users/9376011/megadude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566423986, "creation_date": 1566423250, "question_id": 57599408, "link": "https://stackoverflow.com/questions/57599408/java-trying-to-draw-an-image-on-each-iteration-of-this-forloop", "title": "Java - Trying to draw an image on each iteration of this forLoop", "body": "<p>So I have this forLoop that populates the screen with NavCells. I want to set a background color to each one as they are populated. The main problem is I can't figure out what to set the canvas to for the draw function, if this is even the correct way to go about this. </p>\n\n<p>Cell creating loop:</p>\n\n<pre><code>    // creates cells\n    mCells = new NavCell[mCellRows][mCellCols];\n    //System.out.println( \"Rows \" + mCellRows + \" and Cols: \" + mCellCols);\n    for (int j = 0; j &lt; mCellRows; j++) {\n        System.out.println(\"inside rows           \" + j);\n     //   if (mCells[j] != null) {\n            for (int i = 0; i &lt; mCellCols; i++) {\n                System.out.println(\"inside columns      \" + i);\n\n                mCells[j][i] = new NavCell();\n                drawCells(null, j, i);\n                mCells[j][i].setBounds(\n                        i * CELL_SIZE,\n                        j * CELL_SIZE,\n                        (i * CELL_SIZE) + CELL_SIZE,\n                        (i * CELL_SIZE) + CELL_SIZE);\n\n\n                System.out.println(\"Hello Matt\" + j);\n\n\n\n\n                System.out.println(\"Lazer-2 \" + mCells);\n            }\n            }\n</code></pre>\n\n<p>Draw method (currently set for an image because setBackground wasn't working)</p>\n\n<pre><code>     public void drawCells(Canvas canvas, int X, int Y) {\n    mBMPStart = BitmapFactory.decodeResource(getResources(), R.drawable.start);\n    canvas.drawBitmap(mBMPStart, X, Y, null);\n}\n</code></pre>\n"}, {"tags": ["java", "file"], "comments": [{"owner": {"reputation": 1708, "user_id": 10515734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tfrpy.jpg?s=128&g=1", "display_name": "Butiri Dan", "link": "https://stackoverflow.com/users/10515734/butiri-dan"}, "edited": false, "score": 1, "creation_date": 1566423183, "post_id": 57599388, "comment_id": 101656066, "body": "Can you post the code?"}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 1, "creation_date": 1566423209, "post_id": 57599388, "comment_id": 101656074, "body": "Sounds like you have some code already. Maybe if you post it someone can suggest an improvement."}, {"owner": {"reputation": 33, "user_id": 10688221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89e32574f541eec48f08083e061dea0b?s=128&d=identicon&r=PG&f=1", "display_name": "JingJangle", "link": "https://stackoverflow.com/users/10688221/jingjangle"}, "edited": false, "score": 0, "creation_date": 1566423448, "post_id": 57599388, "comment_id": 101656155, "body": "I have added some code, I was fighting with the formatter."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1566423525, "post_id": 57599388, "comment_id": 101656183, "body": "So change the code of FileFilterDateIntervalUtils so that it not only checks that the file modification date is between the two dates, but also that its named ends with .zip. It&#39;s just a matter of combining two conditions with  <code>&amp;&amp;</code>."}, {"owner": {"reputation": 33, "user_id": 10688221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89e32574f541eec48f08083e061dea0b?s=128&d=identicon&r=PG&f=1", "display_name": "JingJangle", "link": "https://stackoverflow.com/users/10688221/jingjangle"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1566423578, "post_id": 57599388, "comment_id": 101656197, "body": "@JBNizet I have been trying to do that, I have added that code now, but I am not sure how to add that filter to the &#39;walk&#39; stream."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1566423811, "post_id": 57599388, "comment_id": 101656261, "body": "To filter a Stream&lt;Path&gt;, you need a Predicate&lt;Path&gt;, i.e. a function that takes a Path as argument and returns true or false. Refactor your <code>accept</code> method to take a Path as argument instead of a File and a String."}, {"owner": {"reputation": 33, "user_id": 10688221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89e32574f541eec48f08083e061dea0b?s=128&d=identicon&r=PG&f=1", "display_name": "JingJangle", "link": "https://stackoverflow.com/users/10688221/jingjangle"}, "edited": false, "score": 0, "creation_date": 1566434103, "post_id": 57599388, "comment_id": 101658455, "body": "So I will need to take the path and then loop through the path for all the files in that path to see if they meet the criteria?"}], "answers": [{"tags": [], "owner": {"reputation": 7903, "user_id": 4851565, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c6e6414810d11199754a0fb801dff7d7?s=128&d=identicon&r=PG&f=1", "display_name": "entpnerd", "link": "https://stackoverflow.com/users/4851565/entpnerd"}, "is_accepted": false, "score": 1, "last_activity_date": 1566430664, "last_edit_date": 1566430664, "creation_date": 1566429897, "answer_id": 57600296, "question_id": 57599388, "link": "https://stackoverflow.com/questions/57599388/java-recursively-find-all-files-with-an-extension-with-a-modified-date-between/57600296#57600296", "title": "Java - recursively find all files with an extension with a modified date between two dates", "body": "<p>This is what Apache's <code>IOUtils</code> class is for. Rework your code so that it calls <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#listFiles(java.io.File,%20org.apache.commons.io.filefilter.IOFileFilter,%20org.apache.commons.io.filefilter.IOFileFilter)\" rel=\"nofollow noreferrer\"><code>IOUtils.listFiles()</code></a>. This method lists files in a directory. Make use of Apache's <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/filefilter/IOFileFilter.html\" rel=\"nofollow noreferrer\"><code>IOFileFilter</code></a> so that it filters out files based on the <code>lastModified()</code> date criteria that you desire. This should get you what you need.</p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 10688221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89e32574f541eec48f08083e061dea0b?s=128&d=identicon&r=PG&f=1", "display_name": "JingJangle", "link": "https://stackoverflow.com/users/10688221/jingjangle"}, "edited": false, "score": 0, "creation_date": 1566433981, "post_id": 57600356, "comment_id": 101658430, "body": "Agreed I have seen a lot of literature on this but I cannot find the correct implementation."}, {"owner": {"reputation": 33, "user_id": 10688221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89e32574f541eec48f08083e061dea0b?s=128&d=identicon&r=PG&f=1", "display_name": "JingJangle", "link": "https://stackoverflow.com/users/10688221/jingjangle"}, "edited": false, "score": 0, "creation_date": 1566496763, "post_id": 57600356, "comment_id": 101684588, "body": "I am not sure what is going on but \tthe following line gives me two errors:  Files.walkFileTree(Path.of(&quot;.&quot;), new FileVisitor&lt;&gt;() {   &#39;&lt;&gt;&#39; cannot be used with anonymous classes\tExample.java\t The method of(String) is undefined for the type Path"}, {"owner": {"reputation": 999, "user_id": 1720112, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbc11036d0422925ac831b5f6825c2ae?s=128&d=identicon&r=PG&f=1", "display_name": "Danilo Radenovic", "link": "https://stackoverflow.com/users/1720112/danilo-radenovic"}, "reply_to_user": {"reputation": 33, "user_id": 10688221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89e32574f541eec48f08083e061dea0b?s=128&d=identicon&r=PG&f=1", "display_name": "JingJangle", "link": "https://stackoverflow.com/users/10688221/jingjangle"}, "edited": false, "score": 0, "creation_date": 1566509010, "post_id": 57600356, "comment_id": 101689302, "body": "Probably the IDE is complaining about the &quot;Diamond Operator&quot;, i.e. &quot;&lt;&gt;&quot;. Try setting language level to Java 7 (or higher) or try the updated code from above."}], "tags": [], "owner": {"reputation": 999, "user_id": 1720112, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbc11036d0422925ac831b5f6825c2ae?s=128&d=identicon&r=PG&f=1", "display_name": "Danilo Radenovic", "link": "https://stackoverflow.com/users/1720112/danilo-radenovic"}, "is_accepted": false, "score": 3, "last_activity_date": 1566509044, "last_edit_date": 1566509044, "creation_date": 1566430496, "answer_id": 57600356, "question_id": 57599388, "link": "https://stackoverflow.com/questions/57599388/java-recursively-find-all-files-with-an-extension-with-a-modified-date-between/57600356#57600356", "title": "Java - recursively find all files with an extension with a modified date between two dates", "body": "<p>You can use a built-in mechanism in Java for \"walking\" the file tree, called <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/walk.html#filevisitor\" rel=\"nofollow noreferrer\">FileVisitor</a>. It does all the walking and recursive traversal - you only need to provide the logic for what to do when each file is visited.</p>\n\n<p>As an added bonus, it has an implicit performance optimization in a sense that it doesn't load all the paths into memory, but \"walks\" files/directories one by one, useful for directories with many files/directories inside.</p>\n\n<p>Here's a working example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.IOException;\nimport java.nio.file.FileVisitResult;\nimport java.nio.file.FileVisitor;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.nio.file.Path;\nimport java.nio.file.attribute.BasicFileAttributes;\n\npublic class Example {\n\n  public static void main(String[] args) throws IOException {\n\n    // walks the file tree starting from current directory '.', using an \n    // instance of anonymous class that implements FileVisitor interface\n    Files.walkFileTree(Paths.get(\".\"), new FileVisitor&lt;Path&gt;() {\n\n      @Override\n      public FileVisitResult visitFile(Path path,\n                                       BasicFileAttributes attrs) {\n\n        // some starting date\n        Date start = new Date();\n        // some ending date\n        Date end = new Date();\n\n        if (path.endsWith(\".zip\") &amp;&amp; \n            (attrs.creationTime().toMillis() &gt;= start.getTime() &amp;&amp; \n             attrs.creationTime().toMillis() &lt;= end.getTime())) {\n\n          // if you use Java 8 or later, you can work with Instant, like this\n          // attrs.creationTime().toInstant().isAfter(start.toInstant())\n\n          System.out.println(path);\n\n          // or optionally convert to File and do something with it\n          File file = path.toFile();\n        }\n\n        return FileVisitResult.CONTINUE;\n      }\n\n      @Override\n      public FileVisitResult visitFileFailed(Path file,\n                                             IOException exc) {\n        // unused\n        return FileVisitResult.CONTINUE;\n      }\n\n      @Override\n      public FileVisitResult postVisitDirectory(Path dir,\n                                                IOException exc) {\n        // unused\n        return FileVisitResult.CONTINUE;\n      }\n\n      @Override\n      public FileVisitResult preVisitDirectory(Path dir,\n                                               BasicFileAttributes attrs) {\n        // unused\n        return FileVisitResult.CONTINUE;\n      }\n    });\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 10688221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89e32574f541eec48f08083e061dea0b?s=128&d=identicon&r=PG&f=1", "display_name": "JingJangle", "link": "https://stackoverflow.com/users/10688221/jingjangle"}, "is_accepted": false, "score": 0, "last_activity_date": 1566496612, "creation_date": 1566496612, "answer_id": 57614775, "question_id": 57599388, "link": "https://stackoverflow.com/questions/57599388/java-recursively-find-all-files-with-an-extension-with-a-modified-date-between/57614775#57614775", "title": "Java - recursively find all files with an extension with a modified date between two dates", "body": "<p>I was able to perform what I would like to do in my question above. I still want to test the answer provided by Danilo Radenovic. I do need to add parameters for dates.... not difficult. I also need to clean up: FileFilterDateIntervalUtils.java</p>\n\n<pre><code>public class App {\n\npublic static void main(String[] args) {\n    String dirName = \"\";\n    String extension = \"\";\n    Finder find = new Finder();\n    System.out.println(\"Args Length: \" + args.length);\n    if (args.length != 2) {\n        System.out.println(\"You need to include two arguments, the root directory and the extension to search\");\n    } else {\n        dirName = args[0];\n        extension = args[1];\n    }\n    System.out.println(\"Using starting directory \" + dirName);\n    System.out.println(\"Using extension \" + extension);\n    find.finder_walkFileTree(dirName, extension);\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>public class Finder {\n\n\npublic void finder_walkFileTree(String dirName, String extension) {\n    try {\n        Path p1 = Paths.get(dirName);\n        System.out.println(\"Path: \" + p1.toString());\n        FileFilterDateIntervalUtils filter_date = new FileFilterDateIntervalUtils(\"2019-08-17 00:00:00 AM\",\n                \"2019-08-22 12:00:00 PM\");\n        Files.walkFileTree(p1, new SimpleFileVisitor&lt;Path&gt;() {\n\n            @Override\n            public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n                String fileString = file.toAbsolutePath().toString();\n                if (filter_date.accept(dirName, fileString, extension)) {\n                    System.out.println(\"file found at path: \" + file.toAbsolutePath());\n                    return FileVisitResult.CONTINUE;\n                }\n                return FileVisitResult.CONTINUE;\n            }\n        });\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>public class FileFilterDateIntervalUtils implements FilenameFilter {\nString dateStart;\nString dateEnd;\nSimpleDateFormat sdf;\n\npublic FileFilterDateIntervalUtils(String dateStart, String dateEnd) {\n    this.dateStart = dateStart;\n    this.dateEnd = dateEnd;\n    sdf = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss a\");\n}\n\npublic boolean accept(String dir, String name, String extension) {\n\n\n    Date d = new Date(new File(name).lastModified());\n    String current = sdf.format(d);\n    if (!name.endsWith(extension)) {\n        return false;\n    } else {\n        System.out.println(\"found zip \" + name);\n        System.out.println(\"Current date: \" + current);\n        System.out.println(\"Start date: \" + dateStart);\n        System.out.println(\"End date: \" + dateEnd);\n        if((dateStart.compareTo(current) &lt; 0 &amp;&amp; (dateEnd.compareTo(current) &gt;= 0))) {\n            System.out.println(\"We are within the date range!\");\n            return true;\n        }\n        return false;\n    }\n}\n\npublic Predicate&lt;? super Path&gt; accept(Stream&lt;Path&gt; paths) {\n    // TODO Auto-generated method stub\n    return null;\n}\n\n@Override\npublic boolean accept(File dir, String name) {\n    // TODO Auto-generated method stub\n    return false;\n}\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 33, "user_id": 10688221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89e32574f541eec48f08083e061dea0b?s=128&d=identicon&r=PG&f=1", "display_name": "JingJangle", "link": "https://stackoverflow.com/users/10688221/jingjangle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1566509044, "creation_date": 1566423089, "last_edit_date": 1566435178, "question_id": 57599388, "link": "https://stackoverflow.com/questions/57599388/java-recursively-find-all-files-with-an-extension-with-a-modified-date-between", "title": "Java - recursively find all files with an extension with a modified date between two dates", "body": "<p>I am able to find all the files I would like that end with an extension recursively with an extension such as .zip.</p>\n\n<p>But I would love to filter that further between two dates based off modify date.</p>\n\n<p>I've searched around and have found ways to do it just for .zip or just for the dates. I have been able to do both but not recursively down the directories and subdirectories</p>\n\n<p>As you can see below I created a <code>FileFilterDateIntervalUtils</code> (which I have added later on) which I want to do the filtering of .zip (or others, to be configured) and a time range as an <code>accept</code>. I would like to add that to the walk somehow but I am new to this.</p>\n\n<pre><code>public void finder(String dirName) {\n    System.out.println(\"Using directory: \" + dirName);\n\n    SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss a\");\n    FileFilterDateIntervalUtils filter_date = new FileFilterDateIntervalUtils(\"2019-08-17 00:00:00 AM\",\n            \"2019-08-22 12:00:00 PM\");\n\n    try (Stream&lt;Path&gt; paths = Files.walk(Paths.get(dirName))) {\n        paths.filter(Files::isRegularFile).forEach(System.out::println);\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n\npublic FileFilterDateIntervalUtils(String dateStart, String dateEnd) {\n    this.dateStart = dateStart;\n    this.dateEnd = dateEnd;\n    sdf = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss a\");\n}\n\npublic boolean accept(File dir, String name) {\n    Date d = new Date(new File(dir, name).lastModified());\n    String current = sdf.format(d);\n    if(!name.endsWith(\".zip\")) {\n        return false;\n    }\n    return ((dateStart.compareTo(current) &lt; 0 &amp;&amp; (dateEnd.compareTo(current) &gt;= 0)));\n}\n</code></pre>\n"}, {"tags": ["java", "android", "android-instrumentation", "soot"], "answers": [{"comments": [{"owner": {"reputation": 379, "user_id": 2681272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0d18fe8aaecbf7b757023957dc8c32?s=128&d=identicon&r=PG&f=1", "display_name": "noidsirius", "link": "https://stackoverflow.com/users/2681272/noidsirius"}, "edited": false, "score": 0, "creation_date": 1566494001, "post_id": 57599486, "comment_id": 101683405, "body": "Thanks. But I&#39;ve already followed the steps from the blog post. It works fine when there is no extra class: after running the app, it will print a log whenever I perform one of the callbacks. However, I&#39;m interested to add a new class (<code>StaticCounter</code>) to the package. I think there should be a way to change the configurations of APK itself to let the newly introduced class will be visible for all the methods."}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "reply_to_user": {"reputation": 379, "user_id": 2681272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0d18fe8aaecbf7b757023957dc8c32?s=128&d=identicon&r=PG&f=1", "display_name": "noidsirius", "link": "https://stackoverflow.com/users/2681272/noidsirius"}, "edited": false, "score": 0, "creation_date": 1566498070, "post_id": 57599486, "comment_id": 101685166, "body": "@noidsirius you could possibly add it into the test-application by adding it into the <code>androidTest</code> source-set, or use a <code>TestSuite</code> and add it into there... <code>Soot</code> seems rather specialized for desktop Java, which is a whole other animal - and therefore there might be certain limitations."}], "tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": false, "score": 1, "last_activity_date": 1566426108, "last_edit_date": 1566426108, "creation_date": 1566423806, "answer_id": 57599486, "question_id": 57599380, "link": "https://stackoverflow.com/questions/57599380/how-to-create-and-add-a-java-class-in-an-apk-using-soot/57599486#57599486", "title": "How to create and add a Java class in an APK using Soot?", "body": "<p>You might need to provide the dependency it demands:</p>\n\n<pre><code>android {\n    useLibrary \"org.apache.http.legacy\"\n}\n</code></pre>\n\n<p>The reason why it won't build might be, that <code>StaticCounter</code> is unknown at compile time - because it likely should <strong>not</strong> be referenced from within the application package, which does not know it. Check out this <a href=\"https://www.bodden.de/2013/01/08/soot-android-instrumentation/\" rel=\"nofollow noreferrer\">blog post</a>, apparently from the <code>Soot</code> author... the driver class might be key to success:</p>\n\n<pre><code>//prefer Android APK files// -src-prec apk\nOptions.v().set_src_prec(Options.src_prec_apk);\n\n//output as APK, too//-f J\nOptions.v().set_output_format(Options.output_format_dex);\n\n// resolve the PrintStream and System soot-classes\nScene.v().addBasicClass(\"java.io.PrintStream\", SootClass.SIGNATURES);\nScene.v().addBasicClass(\"java.lang.System\", SootClass.SIGNATURES);\n</code></pre>\n\n<p>here's the whole example: <a href=\"http://www.bodden.de/wordpress/wp-content/uploads/2013/01/AndroidInstrument.java_.txt\" rel=\"nofollow noreferrer\">AndroidInstrument.java</a></p>\n"}, {"comments": [{"owner": {"reputation": 379, "user_id": 2681272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0d18fe8aaecbf7b757023957dc8c32?s=128&d=identicon&r=PG&f=1", "display_name": "noidsirius", "link": "https://stackoverflow.com/users/2681272/noidsirius"}, "edited": false, "score": 0, "creation_date": 1567007970, "post_id": 57678157, "comment_id": 101836708, "body": "I did that, thanks though. It seems the problem was because of the package of the class."}], "tags": [], "owner": {"reputation": 1227, "user_id": 598445, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4f336fba5ac58362d0135bf69006296f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/598445/eric"}, "is_accepted": false, "score": 0, "last_activity_date": 1566920416, "creation_date": 1566920416, "answer_id": 57678157, "question_id": 57599380, "link": "https://stackoverflow.com/questions/57599380/how-to-create-and-add-a-java-class-in-an-apk-using-soot/57678157#57678157", "title": "How to create and add a Java class in an APK using Soot?", "body": "<p>Soot will not emit the class unless you have flagged it as application class. Can you try that?</p>\n"}, {"tags": [], "owner": {"reputation": 379, "user_id": 2681272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0d18fe8aaecbf7b757023957dc8c32?s=128&d=identicon&r=PG&f=1", "display_name": "noidsirius", "link": "https://stackoverflow.com/users/2681272/noidsirius"}, "is_accepted": true, "score": 0, "last_activity_date": 1567007888, "creation_date": 1567007888, "answer_id": 57696235, "question_id": 57599380, "link": "https://stackoverflow.com/questions/57599380/how-to-create-and-add-a-java-class-in-an-apk-using-soot/57696235#57696235", "title": "How to create and add a Java class in an APK using Soot?", "body": "<p>I guess I found why the newly generated class was unknown to the app thanks to <a href=\"https://stackoverflow.com/a/57599486/2681272\">Martin Zitler</a>'s hint. The generated class must be in the package of the APK. Soot handles the package of a class by looking at the signatures of the class. As a result, the <code>StaticCounter</code> class must have a signature like </p>\n\n<pre><code>com.example.app.StaticCounter\n</code></pre>\n\n<p>which indicates that <code>StaticCounter</code> is in the package <code>com.example.app</code>.</p>\n\n<p>It is possible to find the package name using <code>ProcessManifest</code> class which can be found in FlowDroid:</p>\n\n<pre><code>new ProcessManifest(apkPath).getPackageName();\n</code></pre>\n\n<p>I simplified the working code and put it <a href=\"https://gist.github.com/noidsirius/1ba0493694e79299b74994c8ac70dfb1\" rel=\"nofollow noreferrer\">here</a>. It creates a new class from scratch and adds a static integer field and a method that the field is the times that the static method is called, and the method prints this value. Then using a transformation pack, every method in the app will call this static method.</p>\n"}], "owner": {"reputation": 379, "user_id": 2681272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0d18fe8aaecbf7b757023957dc8c32?s=128&d=identicon&r=PG&f=1", "display_name": "noidsirius", "link": "https://stackoverflow.com/users/2681272/noidsirius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 57696235, "answer_count": 3, "score": 1, "last_activity_date": 1567007888, "creation_date": 1566423006, "last_edit_date": 1566424898, "question_id": 57599380, "link": "https://stackoverflow.com/questions/57599380/how-to-create-and-add-a-java-class-in-an-apk-using-soot", "title": "How to create and add a Java class in an APK using Soot?", "body": "<p>I want to instrument an APK to count the number of executions of its callback methods (similar to this <a href=\"https://stackoverflow.com/questions/23950888/instrumenting-android-apps-with-soot-using-a-helper-class/24190528#24190528\">SO post</a>).</p>\n\n<p>To do so, I want to create a static class from scratch (similar to this <a href=\"https://github.com/Sable/soot/wiki/Creating-a-class-from-scratch\" rel=\"nofollow noreferrer\">link</a>) which keeps the counting numbers. Then add this class to the APK, and finally instrument the beginning of callback methods to call a method of this static class (similar to this <a href=\"https://github.com/Sable/soot/wiki/Instrumenting-Android-Apps-with-Soot\" rel=\"nofollow noreferrer\">link</a>).</p>\n\n<p>I was able to do a similar thing with a Java application but I couldn't do it for an APK. Here is the part of the code that generates a new SootClass and adds it to <code>Scene</code>:</p>\n\n<pre><code>SootClass staticCls = generateClass(\"StaticCounter\");\nScene.v().addClass(staticCls);\nScene.v().addBasicClass(\"StaticCounter\", SootClass.SIGNATURES);\nScene.v().loadNecessaryClasses();\n</code></pre>\n\n<p><code>generateClass</code> is adapted from <a href=\"https://github.com/Sable/soot/wiki/Creating-a-class-from-scratch\" rel=\"nofollow noreferrer\">here</a>. But when I examined the modified APK, there was no sign of <code>StaticCounter</code> class. Moreover, I installed and ran the modified APK and got this error:</p>\n\n<pre><code>08-21 14:15:45.936 19917 19917 E AndroidRuntime:\n Caused by: java.lang.ClassNotFoundException:\n  Didn't find class \"StaticCounter\" on path:\n   DexPathList[[zip file \"/system/framework/org.apache.http.legacy.boot.jar\", zip file \"/data/app/APKNAME-RdhHiJzxKyyUHh_KCi6RUA==/base.apk\"],nativeLibraryDirectories=[/data/app/APKNAME-RdhHiJzxKyyUHh_KCi6RUA==/lib/x86, /system/lib]]\n</code></pre>\n\n<p>Which simply shows the generated class is not inside the APK. </p>\n\n<p>Any solution to this problem?</p>\n"}, {"tags": ["java", "maven", "javadoc", "maven-javadoc-plugin"], "answers": [{"tags": [], "owner": {"reputation": 3289, "user_id": 458157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/41e194596f58b1836093c10a42a41647?s=128&d=identicon&r=PG", "display_name": "gouessej", "link": "https://stackoverflow.com/users/458157/gouessej"}, "is_accepted": false, "score": 0, "last_activity_date": 1566426868, "last_edit_date": 1566426868, "creation_date": 1566425187, "answer_id": 57599709, "question_id": 57599378, "link": "https://stackoverflow.com/questions/57599378/maven-compile-plugin-finds-the-dependencies-but-maven-javadoc-plugin-doesnt/57599709#57599709", "title": "Maven Compile Plugin finds the dependencies but Maven Javadoc Plugin doesn&#39;t", "body": "<p>Replacing <code>&lt;release&gt;8&lt;/release&gt;</code> by <code>&lt;source&gt;1.8&lt;/source&gt;&lt;target&gt;1.8&lt;/target&gt;</code> and using Java 8 instead of Java 11 solve the problem. It's probably a bug of maven-javadoc-plugin with Java 11. This bug has been reported <a href=\"https://issues.apache.org/jira/browse/MJAVADOC-620\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 3289, "user_id": 458157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/41e194596f58b1836093c10a42a41647?s=128&d=identicon&r=PG", "display_name": "gouessej", "link": "https://stackoverflow.com/users/458157/gouessej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 194, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566426868, "creation_date": 1566422985, "last_edit_date": 1566424022, "question_id": 57599378, "link": "https://stackoverflow.com/questions/57599378/maven-compile-plugin-finds-the-dependencies-but-maven-javadoc-plugin-doesnt", "title": "Maven Compile Plugin finds the dependencies but Maven Javadoc Plugin doesn&#39;t", "body": "<p>I try to generate the Java API documentation of a project composed of multiple sub-modules with <code>mvn site</code> but it doesn't work whereas <code>mvn install</code> works, it resolves all dependencies and it compiles successfully. <code>mvn site</code> resolves neither the dependencies that are inherited by all sub-modules in the parent pom file (including easymock) nor the dependencies specific to some sub-modules (including SWT).</p>\n\n<p>I obtain the following error message:\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.7.1:site (default-site) on project ardor3d: Error generating maven-javadoc-plugin:3.1.1:aggregate report: \n[ERROR] Exit code: 1 - /home/gouessej/Documents/programming/java/workspace/Ardor3D/ardor3d-swt/src/test/java/com/ardor3d/input/swt/TestSwtMouseWrapper.java:23: error: package org.eclipse.swt.events does not exist</p>\n\n<p>I use Maven 3.6.1 with OpenJDK 11. This problem concerns the open source project <a href=\"https://jogamp.org/cgit/ardor3d.git/tree/\" rel=\"nofollow noreferrer\">JogAmp's Ardor3D Continuation</a> and is reproducible with the latest source code.</p>\n\n<p>I saw a similar question <a href=\"https://stackoverflow.com/questions/14122648/maven-javadoc-plugin-aggregate-dependencies\">here</a> but I don't think that the accepted answer helps in my case.</p>\n\n<p>It worked with Java 8 but I'm not sure that it's the culprit.</p>\n\n<p>P.S: Reverting <a href=\"https://jogamp.org/cgit/ardor3d.git/commit/pom.xml?id=463865beedc88817922f65f573a27ef3fe2bc0ac\" rel=\"nofollow noreferrer\">this change</a> and using Java 8 work around this bug.</p>\n"}, {"tags": ["java", "lambda", "java-8", "java-stream"], "comments": [{"owner": {"reputation": 13032, "user_id": 4216641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVLIh.jpg?s=128&g=1", "display_name": "Turing85", "link": "https://stackoverflow.com/users/4216641/turing85"}, "edited": false, "score": 2, "creation_date": 1566421032, "post_id": 57599018, "comment_id": 101655398, "body": "&quot;<i>Modify a map using stream</i>&quot; - Don&#39;t do/try this. You cannot modify streams. Streams are designed to be functional: if you have used them, they are gone. Furthermore, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">side-effects in streams are discouraged (See paragraph &quot;<i>side-effects</i>&quot;)</a>, so you should not try to modify the stream&#39;s underlying data structure."}, {"owner": {"reputation": 7720, "user_id": 8921755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dec518adc2024784cc770596a0aa200?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/8921755/ivan"}, "edited": false, "score": 0, "creation_date": 1566421240, "post_id": 57599018, "comment_id": 101655462, "body": "You can create new map with updated entries as a result of your stream. But I;m not sure that it will be more readable then for-loop."}, {"owner": {"reputation": 3849, "user_id": 3385595, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e9a71c4eca3015d6084599f9ff60796e?s=128&d=identicon&r=PG", "display_name": "purring pigeon", "link": "https://stackoverflow.com/users/3385595/purring-pigeon"}, "edited": false, "score": 0, "creation_date": 1566421302, "post_id": 57599018, "comment_id": 101655482, "body": "You can technically do this, but shouldn&#39;t alter the collection you are streaming through as this can cause unexpected behaviors.  You can use stream().map().collect() to build a new map."}, {"owner": {"reputation": 248566, "user_id": 3474, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ffbf4e85b8ffbae4e9039b9c0cf07bc8?s=128&d=identicon&r=PG", "display_name": "erickson", "link": "https://stackoverflow.com/users/3474/erickson"}, "edited": false, "score": 1, "creation_date": 1566424835, "post_id": 57599018, "comment_id": 101656527, "body": "The question is ambiguous. The code you show doesn&#39;t create a new map; it modifies the values of the old map. Do you want to alter the <code>MyObject</code> instances or not? Do you want to modify the map so that new objects are associated with its keys? Do you want a new map with old values that have been modified? Or a new map with new values?"}], "answers": [{"comments": [{"owner": {"reputation": 1287, "user_id": 2245234, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/b06efac0f46a8918137c715ab72c92ee?s=128&d=identicon&r=PG", "display_name": "Jeeppp", "link": "https://stackoverflow.com/users/2245234/jeeppp"}, "edited": false, "score": 0, "creation_date": 1566422012, "post_id": 57599138, "comment_id": 101655712, "body": "Can you provide the code example with my code for this?"}], "tags": [], "owner": {"reputation": 1258, "user_id": 3657460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y26Py.jpg?s=128&g=1", "display_name": "Ihor Patsian", "link": "https://stackoverflow.com/users/3657460/ihor-patsian"}, "is_accepted": false, "score": 0, "last_activity_date": 1566426290, "last_edit_date": 1566426290, "creation_date": 1566421375, "answer_id": 57599138, "question_id": 57599018, "link": "https://stackoverflow.com/questions/57599018/modify-a-map-using-stream/57599138#57599138", "title": "Modify a map using stream", "body": "<p>You can just get a new <a href=\"https://jrebel.com/rebellabs/java-8-streams-cheat-sheet/\" rel=\"nofollow noreferrer\"><code>Stream</code></a> or a new <code>Map</code> as a result of stream operations but <code>Stream</code> cannot mutate data (but you can create a lambda that do anything you want). For instance, using your code example:</p>\n\n<pre><code>Map&lt;String, MyObject&gt; myMap = getResultMap();\nMap&lt;String, MyObject&gt; newMap = myMap.entrySet().stream()\n            .collect(Collectors.toMap(Map.Entry::getKey, entry -&gt;\n            {\n                entry.getValue().setName(getName());\n                entry.getValue().setId(getId());\n                entry.getValue().setDept(getDept());\n                entry.getValue().setValid(isValid());\n                entry.getValue().setPipeLine(getPipeLine());\n                return entry.getValue();\n            }\n            ));\n</code></pre>\n\n<p>But do not update shared mutable variables inside <code>Stream</code>! It can produce many problems.</p>\n\n<p>It would be better to create new instances of <code>MyObject</code> class instead of modifying <code>myMap</code>:</p>\n\n<pre><code>Map&lt;String, MyObject&gt; newMap = myMap.entrySet().stream()\n                .collect(Collectors.toMap(Map.Entry::getKey, entry -&gt;\n                        {\n                            MyObject myObject = new MyObject();\n                            myObject.setName(getName());\n                            myObject.setId(getId());\n                            myObject.setDept(getDept());\n                            myObject.setValid(isValid();\n                            myObject.setPipeLine(getPipeLine());\n                            return myObject;\n                        }\n                ));\n</code></pre>\n"}], "owner": {"reputation": 1287, "user_id": 2245234, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/b06efac0f46a8918137c715ab72c92ee?s=128&d=identicon&r=PG", "display_name": "Jeeppp", "link": "https://stackoverflow.com/users/2245234/jeeppp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566426586, "creation_date": 1566420597, "last_edit_date": 1566426586, "question_id": 57599018, "link": "https://stackoverflow.com/questions/57599018/modify-a-map-using-stream", "title": "Modify a map using stream", "body": "<p>I have a map and I am iterating through it and modifying the values of the map using a <code>for</code> loop. I wanted to know if there is a way I can do it using Java 8 streams.</p>\n\n<p>Here's my code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String,MyObject&gt; myMap = getResultMap();\nfor (Map.Entry&lt;String, MyObject&gt; entry : myMap.entrySet()) {\n    entry.getValue.setName(getName());\n    entry.getValue.setId(getId());\n    entry.getValue.setDept(getDept());\n    entry.getValue.isValid(isValid();\n    entry.getValue.setPipeLine(getPipeLine());\n}\n</code></pre>\n\n<p>Basically, I wanted to stream the map values and set the values and get it as a new map.</p>\n"}, {"tags": ["java", "point", "quaternions"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 11959099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wFWld.jpg?s=128&g=1", "display_name": "hyillk", "link": "https://stackoverflow.com/users/11959099/hyillk"}, "edited": false, "score": 0, "creation_date": 1566485756, "post_id": 57605717, "comment_id": 101679469, "body": "First of all thank you very much for your time and answer.  I already got results using your formula but I still have issues such as a target considered in the area when it should not. I am also a bit confused on if I should use the Point.Y or Point.Z, because in the actual 3D environment the Z should be used, not the Y axis (where X is left/right, Y up/down and Z forward/backward. I would like to make sure what is wrong in my code with you. Also if you can explain me what I do wrong so that I know it for next time. Thank you <a href=\"https://pastebin.com/thZi7kvc\" rel=\"nofollow noreferrer\">pastebin.com/thZi7kvc</a>"}, {"owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "reply_to_user": {"reputation": 25, "user_id": 11959099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wFWld.jpg?s=128&g=1", "display_name": "hyillk", "link": "https://stackoverflow.com/users/11959099/hyillk"}, "edited": false, "score": 0, "creation_date": 1566493649, "post_id": 57605717, "comment_id": 101683287, "body": "1) I especially emphasized potential issue with degrees/radians. cos/sin function work with radians - why do you use degrees? 2) I solve 2D problem on OXY plane - you can apply the same approach to OXZ plane without y-coordinates."}, {"owner": {"reputation": 25, "user_id": 11959099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wFWld.jpg?s=128&g=1", "display_name": "hyillk", "link": "https://stackoverflow.com/users/11959099/hyillk"}, "edited": false, "score": 0, "creation_date": 1566509803, "post_id": 57605717, "comment_id": 101689532, "body": "I am still having issue writing the Java code for it. Is there any way we could talk about it by mail, I would really appreciate it. It seems like you know exactly how to do it, and I would like to talk about it more in detail, so we can fix my issue and hopefully you can explain me what I was doing wrong, so that I will know how to do it next time. Email me at bringitongame@gmail.com if you don&#39;t mind."}, {"owner": {"reputation": 25, "user_id": 11959099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wFWld.jpg?s=128&g=1", "display_name": "hyillk", "link": "https://stackoverflow.com/users/11959099/hyillk"}, "edited": false, "score": 0, "creation_date": 1566561609, "post_id": 57605717, "comment_id": 101705284, "body": "Thank you again. The Delphi code helped. I am not familiar with Delphi, so I converted it to C# and used it in the Unity engine so that I could have a visual way to debug it. Here is a video showing what I got so far : <a href=\"https://www.youtube.com/watch?v=aEhj9Z_Yddg&amp;feature=youtu.be\" rel=\"nofollow noreferrer\">youtube.com/watch?v=aEhj9Z_Yddg&amp;feature=youtu.be</a>  In the video, the white cube is the player, the white triangle shows where the player is facing. The Transparent red box is where I want the enemy to be considered inside. The colored lines are a visual debugging of the area we create based on width and length. This is basically my own way to do Canvas.Line."}, {"owner": {"reputation": 25, "user_id": 11959099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wFWld.jpg?s=128&g=1", "display_name": "hyillk", "link": "https://stackoverflow.com/users/11959099/hyillk"}, "edited": false, "score": 0, "creation_date": 1566561723, "post_id": 57605717, "comment_id": 101705333, "body": "Issue 1 : When player Y rotation is 0, you can see in the video that the plane we create is offset 90 degrees to the right instead of being at the same position than the red transparent box. But it is important to note that the code is working, the sphere is indeed recognized as inside when entering the area, working with the correct length."}, {"owner": {"reputation": 25, "user_id": 11959099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wFWld.jpg?s=128&g=1", "display_name": "hyillk", "link": "https://stackoverflow.com/users/11959099/hyillk"}, "edited": false, "score": 0, "creation_date": 1566561915, "post_id": 57605717, "comment_id": 101705427, "body": "Issue 2 : The code does not works well with a player Y rotation different than 0, I need the plane to always be in front of the player, no matter the Y rotation. You can see this by the colored lines going out of shape as soon as we start rotating our player.  Here is my code: <a href=\"https://pastebin.com/wCAf0UK0\" rel=\"nofollow noreferrer\">pastebin.com/wCAf0UK0</a>"}, {"owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "reply_to_user": {"reputation": 25, "user_id": 11959099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wFWld.jpg?s=128&g=1", "display_name": "hyillk", "link": "https://stackoverflow.com/users/11959099/hyillk"}, "edited": false, "score": 0, "creation_date": 1566562347, "post_id": 57605717, "comment_id": 101705664, "body": "What is value of <code>Fi = Player.rotation.y;</code> ? Checking code is correct, mistakes are outside of it."}, {"owner": {"reputation": 25, "user_id": 11959099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wFWld.jpg?s=128&g=1", "display_name": "hyillk", "link": "https://stackoverflow.com/users/11959099/hyillk"}, "edited": false, "score": 0, "creation_date": 1566563035, "post_id": 57605717, "comment_id": 101706018, "body": "You can see Player.rotation.y here : <a href=\"https://gyazo.com/17f05a47aa76f2c60b54e7c7671e8911\" rel=\"nofollow noreferrer\">gyazo.com/17f05a47aa76f2c60b54e7c7671e8911</a>"}, {"owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "reply_to_user": {"reputation": 25, "user_id": 11959099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wFWld.jpg?s=128&g=1", "display_name": "hyillk", "link": "https://stackoverflow.com/users/11959099/hyillk"}, "edited": false, "score": 0, "creation_date": 1566565112, "post_id": 57605717, "comment_id": 101707103, "body": "It is not angle in radians. For 180 degrees 0.99 is shown instead of 3.14. And value never exceeds 1 - for full cycle it should be in range 0..6.28 or -3.14...3.14"}, {"owner": {"reputation": 25, "user_id": 11959099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wFWld.jpg?s=128&g=1", "display_name": "hyillk", "link": "https://stackoverflow.com/users/11959099/hyillk"}, "edited": false, "score": 0, "creation_date": 1566566987, "post_id": 57605717, "comment_id": 101708183, "body": "Ok player.rotation.y is now in radians.  I still have the issue that the area we are checking is 90degrees to the right of the player direction. When the player Y rotation is 0, the plane we are checking for is oriented 90degrees. New video : <a href=\"https://www.youtube.com/watch?v=EhbbyJ7CPfo&amp;feature=youtu.be\" rel=\"nofollow noreferrer\">youtube.com/watch?v=EhbbyJ7CPfo&amp;feature=youtu.be</a>"}, {"owner": {"reputation": 25, "user_id": 11959099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wFWld.jpg?s=128&g=1", "display_name": "hyillk", "link": "https://stackoverflow.com/users/11959099/hyillk"}, "edited": false, "score": 0, "creation_date": 1566569286, "post_id": 57605717, "comment_id": 101709461, "body": "Ok so the area always have an angle with 90 degrees difference, but it is sometimes +90 and sometimes -90. Here is an image showing both angle and radius for 0, 90, 180 and 270 degrees player rotation angle. <a href=\"https://gyazo.com/c3db9073460a0d08d668a9c5330bb781\" rel=\"nofollow noreferrer\">gyazo.com/c3db9073460a0d08d668a9c5330bb781</a>"}, {"owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "reply_to_user": {"reputation": 25, "user_id": 11959099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wFWld.jpg?s=128&g=1", "display_name": "hyillk", "link": "https://stackoverflow.com/users/11959099/hyillk"}, "edited": false, "score": 0, "creation_date": 1566569392, "post_id": 57605717, "comment_id": 101709523, "body": "But this issue is not related to in-rect checking, right? Math zero angle is directed right. Perhaps you have zero at top (same game framework use this orientation)?"}, {"owner": {"reputation": 25, "user_id": 11959099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wFWld.jpg?s=128&g=1", "display_name": "hyillk", "link": "https://stackoverflow.com/users/11959099/hyillk"}, "edited": false, "score": 0, "creation_date": 1566573891, "post_id": 57605717, "comment_id": 101711796, "body": "So I converted this code to Java, the Java code is running on our server as game logic. It works as intended, both width and length are accurate. but I still have the same issue with the &quot;rectangle&quot; not being in front of the player, and it is following the same &quot;rules&quot; I sent in the previouse link (<a href=\"https://gyazo.com/c3db9073460a0d08d668a9c5330bb781\" rel=\"nofollow noreferrer\">gyazo.com/c3db9073460a0d08d668a9c5330bb781</a>) , any idea how to solve it? It is ALWAYS 90 degrees, but not always +90 or -90. It depends the player position to the target position. Here is my Java code : <a href=\"https://pastebin.com/bmZm3KiH\" rel=\"nofollow noreferrer\">pastebin.com/bmZm3KiH</a>"}], "tags": [], "owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "is_accepted": true, "score": 0, "last_activity_date": 1566538474, "last_edit_date": 1566538474, "creation_date": 1566464656, "answer_id": 57605717, "question_id": 57599014, "link": "https://stackoverflow.com/questions/57599014/3d-create-a-point-to-a-distance-taking-in-consideration-the-player-y-rotation/57605717#57605717", "title": "3D Create a point to a distance taking in consideration the Player Y rotation", "body": "<p>Let player position is P, direction angle is Fi, target position is T.<br>\nUnit direction vector D:</p>\n\n<pre><code>d.x = cos(Fi) //don't forget about radians\nd.y = sin(Fi)\n</code></pre>\n\n<p>Difference vector </p>\n\n<pre><code>PT = T - P = (T.x - P.x, T.y - P.y)\n</code></pre>\n\n<p>Perpendicular distance from T to direction line of player is length of orthogonal projection</p>\n\n<pre><code>perplen = Abs(Pt x D) =                  //cross product\n          Abs(PT.x * d.y - Pt.y * d.x)\ncompare it with (AreaWidth/2)\n</code></pre>\n\n<p>Distance along direction line:</p>\n\n<pre><code>alonglen = (Pt .dot. D) =                  //dot product\n           PT.x * d.x + PT.y * d.y\nit should be &gt;=0 and &lt;= than AreaLength\n</code></pre>\n\n<p>If both conditions are true, target lies in inclined rectangle </p>\n\n<p>Proof-of-concept Delphi code:</p>\n\n<pre><code>var\n  i, px, py, tx, ty, XX, YY, ptx, pty: Integer;\n  perplen, alonglen: Double;\n  wdt, lng: Integer;\n  Fi, cs, sn: Double;\nbegin\n  px := 300;    py := 300;\n  wdt := 150;   lng := 250;\n  Fi := Pi / 6;   cs := Cos(Fi);   sn := Sin(Fi);\n  Canvas.Brush.Color := clBlack;\n  Canvas.Ellipse(px - 5, py - 5, px + 6, py + 6);  //player\n\n  Canvas.Brush.Style := bsClear;\n  Canvas.MoveTo(px, py);\n  XX := px - Round(Wdt / 2 * sn);  YY := py + Round(Wdt / 2 * cs);\n  Canvas.LineTo(XX, YY);\n  XX := XX + Round(lng * cs);   YY := YY + Round(lng * sn);\n  Canvas.LineTo(XX, YY);\n  XX := XX + Round(Wdt * sn);   YY := YY - Round(Wdt * cs);\n  Canvas.LineTo(XX, YY);\n  XX := XX - Round(lng * cs);   YY := YY - Round(lng * sn);\n  Canvas.LineTo(XX, YY);\n  Canvas.LineTo(px, py);  //rectangle finished\n\n  for i := 0 to 99 do begin\n    tx := 100 + Random(600);  //random target\n    ty := 100 + Random(600);\n    ptx := tx - px;\n    pty := ty - py;\n    perplen := Abs(ptx * sn - pty * cs);\n    alonglen := ptx * cs + pty * sn;\n    if (perplen &lt;= Wdt / 2) and (alonglen &gt;= 0) and (alonglen &lt;= lng) then\n      Canvas.Brush.Color := clBlue  // in region\n    else\n      Canvas.Brush.Color := clRed;\n    Canvas.Ellipse(tx - 3, ty - 3, tx + 4, ty + 4);\n  end;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/kfoto.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kfoto.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 25, "user_id": 11959099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wFWld.jpg?s=128&g=1", "display_name": "hyillk", "link": "https://stackoverflow.com/users/11959099/hyillk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 57605717, "answer_count": 1, "score": 0, "last_activity_date": 1566538474, "creation_date": 1566420552, "last_edit_date": 1566459461, "question_id": 57599014, "link": "https://stackoverflow.com/questions/57599014/3d-create-a-point-to-a-distance-taking-in-consideration-the-player-y-rotation", "title": "3D Create a point to a distance taking in consideration the Player Y rotation", "body": "<p>I need to define a 2D plane area in front of a Point(which is our player position) and check which Points(enemies) are within it.\nIn the game it is used to determine what enemies are within the \"box\" in front of us with X width, Y height and Z length.</p>\n\n<p>I need help calculating the bottom left and top right points of the plane.</p>\n\n<p>Input : We know the player position and we know the player rotation. Only the player Y rotation matters, as the plane should always be in front of the player.</p>\n\n<p>We know the plane width and length. Height is irrelevant in this case, I know how to calculate it. If the width is 8 meters and the length 20, if player position is 0,0,0 the bottom left point would be X= -4 / Y = 0 / Z = 0 and the top right point would be X=4 / Y = 0 / Z = 20</p>\n\n<p>My code only works when the player Y rotation is 0, because I simply add the width/length to current X and Z values. I need the correct math formula to determine where the bottom left and top right points would be, taking in parameter the Player's Y rotation, so that the plane area will always be in the same direction that the player is facing</p>\n\n<p>Here is a visual representation of what I need exactly :</p>\n\n<p><a href=\"https://gyazo.com/fd5ad0e393f6db8236ee7fd766e7286b\" rel=\"nofollow noreferrer\">https://gyazo.com/fd5ad0e393f6db8236ee7fd766e7286b</a></p>\n\n<p>`</p>\n\n<pre><code>float AreaWidth = 8;\nfloat AreaLength = 20;\nfloat AreaHeight = 10;\n\nPoint AreaBTMLeftPoint = new Point(PlayerPosition.getX()-(AreaWidth/2), \nPlayerPosition.getLoc().getY(), PlayerPosition.getLoc().getZ());\n\nPoint AreaTOPRightPoint = new Point(PlayerPosition.getLoc().getX()+ \n(AreaWidth/2), PlayerPosition.getLoc().getY(), \nPlayerPosition.getLoc().getZ()+(AreaLength));\n\nfloat AreaBTMX = AreaBTMLeftPoint.getX();\nfloat AreaBTMZ = AreaBTMLeftPoint.getZ();\nfloat AreaTOPX = AreaTOPRightPoint.getX();\nfloat AreaTOPZ = AreaTOPRightPoint.getZ();\nfloat AreaMaxY = PlayerPosition.getLoc().getY()+(AreaHeight/2);\nfloat AreaMinY = PlayerPosition.getLoc().getY()-(AreaHeight/2);\n\nif (TargetPosition.getLoc().getX() &gt; AreaBTMX &amp;&amp; \nTargetPosition.getLoc().getX() &lt; AreaTOPX &amp;&amp;\nTargetPosition.getLoc().getY() &gt; AreaMinY &amp;&amp;\nTargetPosition.getLoc().getY() &lt; AreaMaxY &amp;&amp;\nTargetPosition.getLoc().getZ() &gt; AreaBTMZ &amp;&amp; \nTargetPosition.getLoc().getZ() &lt; AreaTOPZ) {\n\nThis target is inside the area, do stuff.\n</code></pre>\n\n<p>}`</p>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 22777, "user_id": 133203, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Fp3hB.jpg?s=128&g=1", "display_name": "Federico klez Culloca", "link": "https://stackoverflow.com/users/133203/federico-klez-culloca"}, "edited": false, "score": 0, "creation_date": 1566419710, "post_id": 57598776, "comment_id": 101654899, "body": "Is the second one invalid only because of the space in the email address or also because one of the numbers is invalid?"}, {"owner": {"reputation": 77, "user_id": 8863669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd3d310dbae0787e238a881dd307db74?s=128&d=identicon&r=PG&f=1", "display_name": "ProgrammerLarry", "link": "https://stackoverflow.com/users/8863669/programmerlarry"}, "reply_to_user": {"reputation": 22777, "user_id": 133203, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Fp3hB.jpg?s=128&g=1", "display_name": "Federico klez Culloca", "link": "https://stackoverflow.com/users/133203/federico-klez-culloca"}, "edited": false, "score": 0, "creation_date": 1566420422, "post_id": 57598776, "comment_id": 101655168, "body": "@FedericoklezCulloca it is invalid because it would fail the validation for an email."}], "answers": [{"tags": [], "owner": {"reputation": 969, "user_id": 326242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35cde28dc376b1403cf4de6cbebc80e5?s=128&d=identicon&r=PG", "display_name": "Andrew Koster", "link": "https://stackoverflow.com/users/326242/andrew-koster"}, "is_accepted": false, "score": 0, "last_activity_date": 1566420075, "last_edit_date": 1566420075, "creation_date": 1566419590, "answer_id": 57598844, "question_id": 57598776, "link": "https://stackoverflow.com/questions/57598776/reading-text-from-a-file-using-regular-expressions/57598844#57598844", "title": "Reading text from a file using regular expressions", "body": "<pre><code>^[^;]*;[^;]*;([^ ]*);$\n</code></pre>\n\n<p>That will give you a match only if the third column contains no spaces (so it will match <code>\"12345\";\"12\";\"tacobell@yahoo.com\";</code>, but it will not match <code>\"123456\";\"31\";\"Taco . bell@yahoo.com\";</code>).</p>\n\n<p>The parentheses are a capture group, so you can extract that column by grabbing group #1 (not group #0) from the capture results.</p>\n\n<p>The <code>^</code> at the beginning means that this pattern has to start at the beginning of a line, and the <code>$</code> at the end means that this pattern has to end at the end of a line. If that's not the case for your input, you will have to adjust it. For example, if you had trailing whitespace after the last column, you might do:</p>\n\n<pre><code>^[^;]*;[^;]*;([^ ]*);[ ]*$\n</code></pre>\n\n<p>If you had trailing whitespace and the last semicolon was optional, you'd do:</p>\n\n<pre><code>^[^;]*;[^;]*;([^ ]*);?[ ]*$\n</code></pre>\n\n<p>One last thing: I'm using <code>[ ]</code> to indicate whitespace, but that only includes the basic space character. It doesn't include tabs, newlines, or any other type of whitespace. It's better to use <code>\\s</code> if you want to include all of those, but in Java string syntax you have to escape the backslash, so it would look like this:</p>\n\n<pre><code>Pattern.compile(\"^[^;]*;[^;]*;([^ ]*);?\\\\s*$\")\n</code></pre>\n\n<p>This is the reason why well-designed programming languages have a specialized regular expression syntax. It gets even crazier if you want to match a literal backslash:</p>\n\n<pre><code>Pattern.compile(\"\\\\\\\\\")\n</code></pre>\n\n<p>In Javascript, this would just be:</p>\n\n<pre><code>/\\\\/\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 8863669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd3d310dbae0787e238a881dd307db74?s=128&d=identicon&r=PG&f=1", "display_name": "ProgrammerLarry", "link": "https://stackoverflow.com/users/8863669/programmerlarry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566420604, "creation_date": 1566419184, "last_edit_date": 1566420604, "question_id": 57598776, "link": "https://stackoverflow.com/questions/57598776/reading-text-from-a-file-using-regular-expressions", "title": "Reading text from a file using regular expressions", "body": "<p>I have a text file containing information that has numbers and characters that are broken into 3 columns and I can't figure out what regular expressions I'm needing. The columns are broken by ; and after the third column is written then it skips to the next line and goes on. I know majority of my code is working properly and I've narrowed down the problem to this section of code. </p>\n\n<p>I've tried looking up java regular expressions and I can't seem to find what I'm trying to accomplish.</p>\n\n<pre><code>while ((line = br.readLine()) != null) {\n    // Searches the file that matches a specific value\n    if (!line.isEmpty() || line.matches(\"Need regular expression here that skips over the two columns and reads the last\")) {\n        if (isValid(line)) {\n            System.out.println(line + \"IS Valid\");\n        } else {\n            System.out.println(line + \"IS NOT VALID\");\n\n        }\n    }\n}\n</code></pre>\n\n<p>In the console after reading the file it should say </p>\n\n<pre><code>\"12345\";\"12\";\"tacobell@yahoo.com\"; IS valid\n\"123456\";\"31\";\"Taco  . bell@yahoo.com\"; IS NOT VALID\n</code></pre>\n\n<p>It must contain the whole line when writing out to the console not just the third column.</p>\n"}, {"tags": ["java", "hibernate", "spring-boot", "one-to-one"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 10285633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b70897ed4772a14eba7093d83f9ca0?s=128&d=identicon&r=PG&f=1", "display_name": "mnesimi", "link": "https://stackoverflow.com/users/10285633/mnesimi"}, "edited": false, "score": 0, "creation_date": 1566455740, "post_id": 57599753, "comment_id": 101662928, "body": "Hi @Shadov, I tried this <code>@MapsId(&quot;id&quot;)</code> but this time schema validation(<code>hibernate.hbm2ddl.auto=validate</code>) fails. It says &#39;foo_id&#39; not found on the table."}], "tags": [], "owner": {"reputation": 5046, "user_id": 4896651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b3591bbcef7bf1e8fb4ecab817e2920?s=128&d=identicon&r=PG&f=1", "display_name": "Shadov", "link": "https://stackoverflow.com/users/4896651/shadov"}, "is_accepted": false, "score": 0, "last_activity_date": 1566425512, "creation_date": 1566425512, "answer_id": 57599753, "question_id": 57598693, "link": "https://stackoverflow.com/questions/57598693/hibernate-one-to-one-identifiergenerationexception/57599753#57599753", "title": "Hibernate - One To One IdentifierGenerationException", "body": "<p>You could delete the <code>@JoinColumn</code> in <code>FooDetail</code> and it would work, but the id column would be named <code>foo_id</code>, you may not want that.</p>\n\n<p>To fix that, all you need to do is change <code>@MapsId</code> to <code>@MapsId(\"id\")</code> to let it know that's the id column now (since you are changing it with <code>@JoinColumn</code>).</p>\n"}], "owner": {"reputation": 55, "user_id": 10285633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b70897ed4772a14eba7093d83f9ca0?s=128&d=identicon&r=PG&f=1", "display_name": "mnesimi", "link": "https://stackoverflow.com/users/10285633/mnesimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566425512, "creation_date": 1566418744, "question_id": 57598693, "link": "https://stackoverflow.com/questions/57598693/hibernate-one-to-one-identifiergenerationexception", "title": "Hibernate - One To One IdentifierGenerationException", "body": "<p>I have two entities like as below</p>\n\n<pre><code>@Data\n@EqualsAndHashCode(callSuper = true)\n@Entity\n@Table(name = \"foo\")\n@Audited\n@AuditOverride(forClass = Auditable.class)\npublic class Foo extends Auditable implements Serializable {\n\n    @Id\n    @Column(name = \"id\")\n    private Long id;\n\n    //other fields\n\n    @ToString.Exclude\n    @EqualsAndHashCode.Exclude\n    @NotAudited\n    @OneToOne(mappedBy = \"foo\",\n              fetch = FetchType.LAZY,\n              cascade = CascadeType.ALL,\n              orphanRemoval = true,\n              optional = false)\n    private FooDetail fooDetail;\n\n}\n\n@Data\n@Entity\n@Table(name = \"foo_detail\")\npublic class FooDetail implements Serializable {\n\n    @Id\n    @Column(name = \"id\")\n    private Long id;\n\n    //other fields\n\n    @ToString.Exclude\n    @EqualsAndHashCode.Exclude\n    @MapsId\n    @JoinColumn(name = \"id\", referencedColumnName = \"id\", nullable = false)\n    @OneToOne(fetch = FetchType.LAZY)\n    private Foo foo;\n\n}\n</code></pre>\n\n<p>I persist <strong>Foo</strong> like this</p>\n\n<pre><code>Foo foo = new Foo();\nfoo.setId(1L);\n\nFooDetail fooDetail = new FooDetail();\nfooDetail.setId(1L);\n\nfoo.setFooDetail(fooDetail);\nfooDetail.setFoo(foo);\n\nfooRepository.save(i);\n</code></pre>\n\n<p>When <strong>save</strong> method is called <strong>IdentifierGenerationException</strong> is thrown. And it says \"<em>attempted to assign id from null one-to-one property [package.FooDetail.foo]</em>\".</p>\n\n<p>More interesting thing is when I use sequence generator on the parent entity(Foo) it works perfectly. But if I supply id manually throws this exception.</p>\n\n<p>What am I doing wrong?</p>\n\n<p>Environment</p>\n\n<ul>\n<li>Hibernate 5.3.10.Final </li>\n<li>Spring Boot 2.1.7.RELEASE</li>\n</ul>\n"}, {"tags": ["java", "openssl"], "answers": [{"tags": [], "owner": {"reputation": 131, "user_id": 4606785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88aac2ff45baabe895d2b21ef0c0393f?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Daniels", "link": "https://stackoverflow.com/users/4606785/robert-daniels"}, "is_accepted": false, "score": 0, "last_activity_date": 1566857292, "creation_date": 1566857292, "answer_id": 57665504, "question_id": 57598661, "link": "https://stackoverflow.com/questions/57598661/digital-signature-generated-java-will-not-verify-in-openssl/57665504#57665504", "title": "Digital signature generated Java will not verify in openssl", "body": "<p>Turns out the Signature object, when initiated with SHA256withECDSA keys, will itself generate the SHA256 hash during the sign() call. Removing the call to \"sha256()\" in the above code verifies with OpenSSL. </p>\n"}], "owner": {"reputation": 131, "user_id": 4606785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88aac2ff45baabe895d2b21ef0c0393f?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Daniels", "link": "https://stackoverflow.com/users/4606785/robert-daniels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566857292, "creation_date": 1566418598, "last_edit_date": 1566419530, "question_id": 57598661, "link": "https://stackoverflow.com/questions/57598661/digital-signature-generated-java-will-not-verify-in-openssl", "title": "Digital signature generated Java will not verify in openssl", "body": "<p>I am signing a binary file in Java. I am able to sign and verify within the Java code, however when using the generated signature in openssl it fails to verify to the same binary. The steps are:\nLoad data -> create SHA256 hash -> sign the hash</p>\n\n<p>This should be the equivalent of doing this in openssl:\nopenssl dgst -sha256 -sign private.key -binary target.bin > signature.bin\nverify:\nopenssl dgst -sha256 -verify public.key -signature signature.bin</p>\n\n<p>I verified the sha256 matches the one generated from openssl. </p>\n\n<pre><code>public class Main {\n\n    public static void main(final String[] args) {\n        Signature signer;\n        KeyStore ks;\n        byte[] signature;\n        PrivateKey privateKey;\n        PublicKey publicKey;\n        String alias = \"ctest3\";\n        String sigfile = \"c:\\\\temp\\\\signature\";\n        String datafile = \"c:\\\\temp\\\\data.bin\";\n\n        try {\n            ks = KeyStore.getInstance(\"ncipher.sworld\", \"nCipherKM\");\n            FileInputStream in = new FileInputStream(\"C:\\\\private\\\\ctest3.ncsw\");\n            ks.load(in, null);\n        } catch (KeyStoreException |\n                NoSuchAlgorithmException |\n                CertificateException |\n                IOException |\n                NoSuchProviderException e) {\n            System.err.println(e.getMessage());\n            return;\n        }\n\n        try {\n            privateKey = (PrivateKey) ks.getKey(alias, null);\n            Certificate cert = ks.getCertificate(alias);\n            publicKey = cert.getPublicKey();\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n            return;\n        }\n\n        byte[] payload;\n        try {\n            payload = Files.readAllBytes(Paths.get(datafile));\n        } catch (IOException e) {\n            System.out.println(e.getMessage());\n            return;\n        }\n\n        byte[] spayload = sha256(payload, false);\n        if (spayload == null) {\n            return;\n        }\n\n        try {\n            signer = Signature.getInstance(\"SHA256withECDSA\");\n            signer.initSign(privateKey);\n            signer.update(spayload);\n            signature = signer.sign();\n        } catch (NoSuchAlgorithmException | SecurityException | SignatureException | InvalidKeyException e) {\n            System.out.println(e.getMessage());\n            return;\n        }\n\n        writeBytesToFile(signature, sigfile);\n        KeyPair kp = new KeyPair(publicKey, privateKey);\n\n        if (Verify(datafile, sigfile, kp)) {\n            System.out.println(\"success\");\n        }\n    }\n\n    private static byte[] sha256(byte[] data) {\n        MessageDigest digest;\n        try {\n            digest = MessageDigest.getInstance(\"SHA-256\");\n            byte[] mDigest = digest.digest(data);\n            return mDigest;\n        } catch (NoSuchAlgorithmException e) {\n            return null;\n        }\n    }\n\n    private static boolean Verify(String filename, String signaturePath, KeyPair kp) {\n        Signature verify;\n        byte[] dataRaw;\n        byte[] signature;\n        byte[] data;\n\n        try {\n            dataRaw = Files.readAllBytes(Paths.get(filename));\n            signature = Files.readAllBytes(Paths.get(signaturePath));\n        } catch (IOException e) {\n            System.out.println(e.getMessage());\n            return false;\n        }\n\n        data = sha256(dataRaw, false);\n        if (data == null)\n            return false;\n\n        try {\n            verify = Signature.getInstance(\"SHA256withECDSA\");\n            PublicKey pub = kp.getPublic();\n            verify.initVerify(pub);\n            verify.update(data);\n            if (verify.verify(signature))\n                return true;\n        } catch (NoSuchAlgorithmException | SecurityException | SignatureException | InvalidKeyException e) {\n            System.out.println(e.getMessage());\n            return false;\n        }\n\n        return false;\n    }\n\n    private static void writeBytesToFile(byte[] bFile, String fileDest) {\n        try (FileOutputStream fileOuputStream = new FileOutputStream(fileDest)) {\n            fileOuputStream.write(bFile);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "javafx", "gluon-mobile"], "owner": {"reputation": 641, "user_id": 11132972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37ae9d73bf045792c48aba5b08e25fdf?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel M&#229;rtensson", "link": "https://stackoverflow.com/users/11132972/daniel-m%c3%a5rtensson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566419818, "creation_date": 1566418100, "last_edit_date": 1566419818, "question_id": 57598564, "link": "https://stackoverflow.com/questions/57598564/why-do-i-need-to-open-all-expansion-panes-in-a-list-view-else-they-give-null", "title": "Why do I need to open all expansion panes in a list view, else they give null? - Gluon JavaFX", "body": "<p>I don't know if this is a code issue or a bug. But this picture shows us a <code>Glisten List View</code> where I have included <code>Glisten DropdownButtons</code> inside a <code>ExpandedPaneContainer</code> etc. </p>\n\n<p><a href=\"https://i.stack.imgur.com/TVkeK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TVkeK.png\" alt=\"enter image description here\"></a></p>\n\n<p>The issue here is that I need to open the first the first expansion pane, then the second one, named <code>Layer 2</code>, and then the third one, named <code>Layer 3</code>. </p>\n\n<p>I cannot directly open <code>Layer 2</code> or <code>Layer 3</code> at the beginning. After I have open all expanded panes and close them, then I can open them again in a random order. </p>\n\n<p><strong>Question:</strong></p>\n\n<p>Why does it behave like this? Is it a bug?\nIf you want to run the program, just download the code from here: <a href=\"https://github.com/DanielMartensson/Deeplearning2C\" rel=\"nofollow noreferrer\">https://github.com/DanielMartensson/Deeplearning2C</a> and then create a new file inside the software, by clicking the \"pen\"-icon. Give it a name and then go to \"Configurations -> Layer Configuration\". Try to open the last expansion panel at the bottom first. </p>\n\n<p>Here is the method I use when I add all these <code>expansion panes</code> inside a <code>expandedPaneContainer</code>. I know there is lot of code, but the idea is that:</p>\n\n<ol>\n<li>Create a expansion panel</li>\n<li>Add the expansion panel into expanded panel container</li>\n<li>Create a collapsed panel and set its labels etc.</li>\n<li>Set the collapsed panel to expansion panel collapsed content</li>\n<li>Create a expanded panel and set a grid pane into it</li>\n<li>Add a labels at column 0, row <code>j</code>, and drop down buttons box at column 1 and row <code>j</code> inside the grid pane.</li>\n<li>Repeat the process again </li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>private void addLayer() {\n    /*\n     * Create a expanded panels from these \n     */\n    String[] dropDownTypes =  dL4JSerializableConfiguration.getDropdownTypes(); \n\n    /*\n     * New expansions panel and add it to the expansions panel container\n     */\n    ExpansionPanel expansionPanel = new ExpansionPanel();\n    expansionPanelContainer.getItems().add(expansionPanel);\n\n    /*\n     * Create an collapsed panel and first set a label with the name of the layer index e.g. layer 0, layer 1 etc and the layer type\n     */\n    CollapsedPanel collapsedPanel = new CollapsedPanel();\n    collapsedPanel.getTitleNodes().add(0, new Label(\"Layer \" + expansionPanelContainer.getItems().size())); // Layer index\n    collapsedPanel.getTitleNodes().add(1, new Label(\"DenseLayer\")); // Layer type\n    expansionPanel.setCollapsedContent(collapsedPanel); // Set collapsed panel into expansion panel\n\n    /*\n     * Create an expanded panel and begin to set a grid pane into it\n     */\n    ExpandedPanel expandedPanel = new ExpandedPanel();\n    GridPane gridPane = new GridPane();\n    expandedPanel.setContent(gridPane);\n    expansionPanel.setExpandedContent(expandedPanel);\n\n    /*\n     * Add all drop downs and labels\n     */\n    for(int j = 0; j &lt; dropDownTypes.length; j++) {\n        /*\n         * Create the  element label and set its position inside the grid\n         */\n        Label elementLabel = new Label(dropDownTypes[j]);\n        gridPane.add(elementLabel, 0, j); // To the left\n\n        /*\n         * Create the drop down button and add the elements and set its position inside the grid\n         */\n        DropdownButton elementDropdown = new DropdownButton();\n        if(dropDownTypes[j].equals(dropDownTypes[0])) { // Layer types\n            elementDropdown.getItems().addAll(new MenuItem(\"DenseLayer\"), new MenuItem(\"LSTM\"), new MenuItem(\"OutputLayer\"));\n        }else if(dropDownTypes[j].equals(dropDownTypes[1])) { // Inputs\n            for(int i = 1; i &lt;= 100; i++)\n                elementDropdown.getItems().add(new MenuItem(String.valueOf(i)));\n        }else if(dropDownTypes[j].equals(dropDownTypes[2])) { // Outputs\n            for(int i = 1; i &lt;= 100; i++)\n                elementDropdown.getItems().add(new MenuItem(String.valueOf(i)));\n        }else if(dropDownTypes[j].equals(dropDownTypes[3])) { // Activations\n            for(Activation activation : Activation.values())\n                elementDropdown.getItems().add(new MenuItem(activation.name()));\n        }else if(dropDownTypes[j].equals(dropDownTypes[4])) { // Loss functions\n            for(LossFunctions.LossFunction lossFunction : LossFunctions.LossFunction.values())\n                elementDropdown.getItems().add(new MenuItem(lossFunction.name()));\n        }       \n        gridPane.add(elementDropdown, 1, j); // To the middle\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "mqtt", "mosquitto", "paho"], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 14907205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dac8924d8809554dab0b8819df3cc72f?s=128&d=identicon&r=PG&f=1", "display_name": "HASSNAIN NADEEM", "link": "https://stackoverflow.com/users/14907205/hassnain-nadeem"}, "edited": false, "score": 0, "creation_date": 1614148519, "post_id": 57652239, "comment_id": 117293532, "body": "Thanks Mr Ghasem Sadeghi for this actually i am little bit confuse can you tell me how can i access this service class in my activity or how can i subscribe the Chanel using this service class"}], "tags": [], "owner": {"reputation": 1034, "user_id": 10976088, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9Hw2Eb3kxrU/AAAAAAAAAAI/AAAAAAAAAAw/8ZbjGpQKqcw/photo.jpg?sz=128", "display_name": "Ghasem Sadeghi", "link": "https://stackoverflow.com/users/10976088/ghasem-sadeghi"}, "is_accepted": true, "score": 1, "last_activity_date": 1566802645, "last_edit_date": 1566802645, "creation_date": 1566797484, "answer_id": 57652239, "question_id": 57598554, "link": "https://stackoverflow.com/questions/57598554/app-service-and-mqtt-crashes-when-wifi-disconnects-and-wont-reconnect/57652239#57652239", "title": "App, service and mqtt crashes when wifi disconnects and wont reconnect", "body": "<p>You said:</p>\n\n<blockquote>\n  <p>the problem is that when the wifi connects again the mqtt client wont reconnect.</p>\n</blockquote>\n\n<ol>\n<li>You can simply use a <code>BroadcastReceiver</code> in your <code>Service#onCreate()</code> method that is listening to <code>WIFI_STATE_CHANGED_ACTION</code> action as below.<br></li>\n<li>Also you have to use <code>return START_STICKY</code> in your <code>Service#onStartCommand()</code>,\nSo that the service class will be running after application is closed.<br></li>\n</ol>\n\n<p><strong>Service class:</strong><br></p>\n\n<pre><code>public class MQTTService extends Service {\n\nprivate MqttAndroidClient clientPhone;\n\n@Override\n  public void onCreate() {\n    super.onCreate();\n    registerReceiver();\n    new Thread(() -&gt; init()).start();\n}\n\n@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    //do something\n    return START_STICKY;\n}\n\n@Override\npublic IBinder onBind(Intent intent) {\n    return null;\n}\n\nprivate void registerReceiver(){\n    m_ScreenOffReceiver = new BroadcastReceiver(){\n        @Override\n        public void onReceive(final Context context, Intent intent){\n            //Log.d(TAG,\"onReceive of Wifi_State_Change called\");\n            if(intent.getAction().equals(WifiManager.WIFI_STATE_CHANGED_ACTION))\n            {\n                int wifiState = intent.getIntExtra(WifiManager.EXTRA_WIFI_STATE, WifiManager.WIFI_STATE_UNKNOWN);\n                if(wifiState != WifiManager.WIFI_STATE_ENABLED)\n                    return;\n\n                final WifiManager wifiManager = (WifiManager) context.getApplicationContext().getSystemService(Context.WIFI_SERVICE);\n                new Handler().postDelayed(() -&gt; {\n                        WifiInfo wifiInfo = wifiManager.getConnectionInfo();\n                        String ssid = wifiInfo.getSSID();\n                        //Toast.makeText(context, \"active wifi:\"+ssid, Toast.LENGTH_SHORT).show();\n\n                        //You can connect to the your mqtt broker again:\n                        connectMQTT();\n                }, 10000);\n            }\n        }\n    };\n\n    IntentFilter intentFilter = new IntentFilter();\n    intentFilter.addAction(WifiManager.WIFI_STATE_CHANGED_ACTION);\n    registerReceiver(m_ScreenOffReceiver, intentFilter);\n}\n\nprivate void init() {\n\n    clientPhone = new MqttAndroidClient(this, \"tcp://IP:PORT\", \"Your-CLIENT-ID\");       \n    //clientPhone = new MqttAndroidClient(this, \"ssl://IP:PORT\", \"Your-CLIENT-ID\");\n\n    clientPhone.setCallback(new MqttCallback() {\n        @Override\n        public void connectionLost(Throwable cause) {\n            //do something - for example reconnnect again\n        }\n\n        @Override\n        public void messageArrived(String topic, MqttMessage message) throws Exception {\n            //you can do everything with the received message from broker here\n        }\n\n        @Override\n        public void deliveryComplete(IMqttDeliveryToken token) {\n            //do something\n        }\n    });\n}\n\nprivate MqttConnectOptions getOptions(){\n\n    if(clientPhone.getServerURI().contains(\"ssl\")) {\n        //set ssl config.for example:\n                //options.setSocketFactory(clientPhone.getSSLSocketFactory(YOUR_KEYSTORE_FILE, \"YOUR_KEYSTORE_PASSWORD\"));\n                //...\n    }\n    options.setKeepAliveInterval(...);\n    options.setMqttVersion(MqttConnectOptions.MQTT_VERSION_3_1_1);\n    options.setAutomaticReconnect(true);\n    options.setCleanSession(...);\n    //options.setWill(...);\n    options.setUserName(...));\n    options.setPassword(...);\n    return options;\n}\n\nprivate void connectMQTT() {\n    try {\n        //getOptions is a method that returns your MqttConnectOptions object\n        IMqttToken token = clientPhone.connect(getOptions());\n        token.setActionCallback(new IMqttActionListener() {\n            @Override\n            public void onSuccess(IMqttToken asyncActionToken) {\n                //do something\n            }\n            @SuppressWarnings(\"ThrowableResultOfMethodCallIgnored\")\n            @Override\n            public void onFailure(IMqttToken asyncActionToken, Throwable exception) {\n                //do something\n            }\n        });\n    } catch (MqttException e) {\n                //do something\n        e.printStackTrace();\n    }\n}\n\n\n@Override\npublic void onDestroy() {\n    if(clientPhone!=null) {\n        /*unregisterResources is needed,otherwise receive this error:\n          has leaked ServiceConnection org.eclipse.paho.android.service.MqttAndroidClient*/\n        try {\n            clientPhone.unregisterResources();\n            clientPhone.close();\n            clientPhone.disconnect();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    unregisterReceiver(m_ScreenOffReceiver);\n    m_ScreenOffReceiver = null;\n        ...\n    super.onDestroy();\n}\n\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>You have to declare <code>org.eclipse.paho.android.service.MqttService</code> and <code>Your Service Class</code> in your Manifest file:</li>\n</ol>\n\n<pre><code>&lt;service\n            android:name=\"org.eclipse.paho.android.service.MqttService\"\n            android:enabled=\"true\" /&gt;\n&lt;service\n            android:name=\"YOUR-MQTT-SERVICE-CLASS\"\n            android:enabled=\"true\"\n            android:exported=\"false\" /&gt;\n</code></pre>\n\n<p>I hope this helps you.<br>\nBest wishes</p>\n"}], "owner": {"reputation": 13, "user_id": 3617406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZG46E.jpg?s=128&g=1", "display_name": "Timmy", "link": "https://stackoverflow.com/users/3617406/timmy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 668, "favorite_count": 0, "accepted_answer_id": 57652239, "answer_count": 1, "score": 1, "last_activity_date": 1566802645, "creation_date": 1566418063, "last_edit_date": 1566418962, "question_id": 57598554, "link": "https://stackoverflow.com/questions/57598554/app-service-and-mqtt-crashes-when-wifi-disconnects-and-wont-reconnect", "title": "App, service and mqtt crashes when wifi disconnects and wont reconnect", "body": "<p>I'm making an app with a mqtt client and a background service that makes a notification when I get certain mqtt message.</p>\n\n<p>I use Paho library and service as the client and everything works perfectly as long as I am connected to wifi and the broker is on.</p>\n\n<p>I don't want access to the broker over internet so when no wifi is available the client is disconnected, the problem is that when the wifi connects again the mqtt client wont reconnect.</p>\n\n<p>I have tried many things but the latest test was to make a handler check if there is internet and if its via wifi, and if it is I start the mqtt server again.</p>\n\n<p>I have these permissions in Manifest:</p>\n\n<pre><code>    android.permission.INTERNET\"\n    android:name=\"android.permission.ACCESS_NETWORK_STATE\"\n    android.permission.WAKE_LOCK\"\n</code></pre>\n\n<p>When I run the emulator and disconnect the wifi now the entire app crashes as well as the services with the error below</p>\n\n<p>This is the handler I'm using:</p>\n\n<pre><code>    handler.postDelayed(new Runnable(){\n        public void run(){\n            if (isWifiConnected()) {\n                startMqtt();\n            }\n\n            handler.postDelayed(this, delay);\n        }\n    }, delay);\n</code></pre>\n\n<p>Here is the isWifiConnected (the context.getSystemService did not work without me adding <code>Context context = this;</code> in the app, I don't know if that is a problem as well):</p>\n\n<pre><code>    private boolean isWifiConnected() {\n        boolean isWifi;\n        ConnectivityManager cm = (ConnectivityManager)context.getSystemService(Context.CONNECTIVITY_SERVICE);\n\n        NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\n        boolean isConnected = activeNetwork != null &amp;&amp; activeNetwork.isConnectedOrConnecting();\n\n        return isWifi = activeNetwork.getType() == ConnectivityManager.TYPE_WIFI;\n    }\n</code></pre>\n\n<pre><code>D/AlarmPingSender: Unregister alarmreceiver to MqttServicephone\nW/Mqtt: Failed to connect to: tcp://192.168.1.39:1883Unable to connect to server (32103) - java.net.ConnectException: failed to connect to /192.168.1.39 (port 1883) from /:: (port 0) after 30000ms: connect failed: ENETUNREACH (Network is unreachable)\nI/chatty: uid=10085(com.iteda.nome) identical 85 lines\nW/Mqtt: Failed to connect to: tcp://192.168.1.39:1883Unable to connect to server (32103) - java.net.ConnectException: failed to connect to /192.168.1.39 (port 1883) from /:: (port 0) after 30000ms: connect failed: ENETUNREACH (Network is unreachable)\nW/Mqtt: Failed to connect to: tcp://192.168.1.39:1883Unable to connect to server (32103) - java.net.ConnectException: failed to connect to /192.168.1.39 (port 1883) from /:: (port 0) after 30000ms: connect failed: ENETUNREACH (Network is unreachable)\nI/chatty: uid=10085(com.iteda.nome) identical 4 lines\nW/Mqtt: Failed to connect to: tcp://192.168.1.39:1883Unable to connect to server (32103) - java.net.ConnectException: failed to connect to /192.168.1.39 (port 1883) from /:: (port 0) after 30000ms: connect failed: ENETUNREACH (Network is unreachable)\nW/Mqtt: Failed to connect to: tcp://192.168.1.39:1883Unable to connect to server (32103) - java.net.ConnectException: failed to connect to /192.168.1.39 (port 1883) from /:: (port 0) after 30000ms: connect failed: ENETUNREACH (Network is unreachable)\nI/chatty: uid=10085(com.iteda.nome) identical 36 lines\nW/Mqtt: Failed to connect to: tcp://192.168.1.39:1883Unable to connect to server (32103) - java.net.ConnectException: failed to connect to /192.168.1.39 (port 1883) from /:: (port 0) after 30000ms: connect failed: ENETUNREACH (Network is unreachable)\nW/Mqtt: Failed to connect to: tcp://192.168.1.39:1883Unable to connect to server (32103) - java.net.ConnectException: failed to connect to /192.168.1.39 (port 1883) from /:: (port 0) after 30000ms: connect failed: ENETUNREACH (Network is unreachable)\nI/chatty: uid=10085(com.iteda.nome) identical 17 lines\nW/Mqtt: Failed to connect to: tcp://192.168.1.39:1883Unable to connect to server (32103) - java.net.ConnectException: failed to connect to /192.168.1.39 (port 1883) from /:: (port 0) after 30000ms: connect failed: ENETUNREACH (Network is unreachable)\nI/MqttConnection: Requesting Automatic reconnect using New Java AC\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.iteda.nome, PID: 7394\n    java.lang.RuntimeException: Error receiving broadcast Intent { act=android.net.conn.CONNECTIVITY_CHANGE flg=0x4200010 (has extras) } in org.eclipse.paho.android.service.MqttService$NetworkConnectionIntentReceiver@5224905\n        at android.app.LoadedApk$ReceiverDispatcher$Args.lambda$getRunnable$0(LoadedApk.java:1401)\n        at android.app.-$$Lambda$LoadedApk$ReceiverDispatcher$Args$_BumDX2UKsnxLVrE6UJsJZkotuA.run(Unknown Source:2)\n        at android.os.Handler.handleCallback(Handler.java:873)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void java.util.Timer.cancel()' on a null object reference\n        at org.eclipse.paho.client.mqttv3.MqttAsyncClient.stopReconnectCycle(MqttAsyncClient.java:1120)\n        at org.eclipse.paho.client.mqttv3.MqttAsyncClient.reconnect(MqttAsyncClient.java:1057)\n        at org.eclipse.paho.android.service.MqttConnection.reconnect(MqttConnection.java:1049)\n        at org.eclipse.paho.android.service.MqttService.reconnect(MqttService.java:342)\n        at org.eclipse.paho.android.service.MqttService$NetworkConnectionIntentReceiver.onReceive(MqttService.java:827)\n        at android.app.LoadedApk$ReceiverDispatcher$Args.lambda$getRunnable$0(LoadedApk.java:1391)\n        at android.app.-$$Lambda$LoadedApk$ReceiverDispatcher$Args$_BumDX2UKsnxLVrE6UJsJZkotuA.run(Unknown Source:2)\u00a0\n        at android.os.Handler.handleCallback(Handler.java:873)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:99)\u00a0\n        at android.os.Looper.loop(Looper.java:193)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\u00a0\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\u00a0\nI/Process: Sending signal. PID: 7394 SIG: 9\nApplication terminated.\n</code></pre>\n\n<p>I know you probably want more information so instead of me bombarding with the wrong code tell me what you need to se what I have done really wrong :)</p>\n\n<p>The error code seems to give the answer but since I'm quite new to android and java. I don't know how to change the approach to make it correct.</p>\n"}, {"tags": ["java", "kubernetes"], "comments": [{"owner": {"reputation": 1324, "user_id": 4451944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6cc85ce8224b802146b72d12009ebad?s=128&d=identicon&r=PG&f=1", "display_name": "garlicFrancium", "link": "https://stackoverflow.com/users/4451944/garlicfrancium"}, "edited": false, "score": 1, "creation_date": 1566418375, "post_id": 57598552, "comment_id": 101654400, "body": "Why do you want to inject it to the Docker file? i guess you mean inject it to the running kubernetes Pod which has your container"}, {"owner": {"reputation": 151, "user_id": 8650156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/463221b834d63c0297f06b27ea996472?s=128&d=identicon&r=PG&f=1", "display_name": "michf", "link": "https://stackoverflow.com/users/8650156/michf"}, "reply_to_user": {"reputation": 1324, "user_id": 4451944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6cc85ce8224b802146b72d12009ebad?s=128&d=identicon&r=PG&f=1", "display_name": "garlicFrancium", "link": "https://stackoverflow.com/users/4451944/garlicfrancium"}, "edited": false, "score": 0, "creation_date": 1566418640, "post_id": 57598552, "comment_id": 101654505, "body": "Exactly. I`ve already injected it from the config map to the pod - but I need to run the java jar app with these arguments. I think about fetching db env variables in docker file and using in entrypoint. My second idea is to use &quot;command&quot; arg in Kubernetes pod definition"}, {"owner": {"reputation": 50397, "user_id": 1318694, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JPEVC.png?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/1318694/matt"}, "edited": false, "score": 0, "creation_date": 1566430956, "post_id": 57598552, "comment_id": 101657970, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/37904682/how-do-i-use-docker-environment-variable-in-entrypoint-array\">How do I use Docker environment variable in ENTRYPOINT array?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 128, "user_id": 8806617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14305233c9edf0c6882fd82012a88c1?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Bukowiecki", "link": "https://stackoverflow.com/users/8806617/adam-bukowiecki"}, "is_accepted": false, "score": 0, "last_activity_date": 1566419689, "creation_date": 1566419689, "answer_id": 57598858, "question_id": 57598552, "link": "https://stackoverflow.com/questions/57598552/best-way-to-run-jar-application-with-arguments-from-env-variables/57598858#57598858", "title": "Best way to run jar application with arguments from env variables", "body": "<p>As I understand you need to fetch parameters from config map and secret and set them as environment variables in your container. Furtunately it's quite nicely described in Kubernetes documentation.</p>\n\n<p>Have a look at below links:</p>\n\n<ul>\n<li>How to use secret: <a href=\"https://kubernetes.io/docs/concepts/configuration/secret/#using-secrets-as-environment-variables\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/concepts/configuration/secret/#using-secrets-as-environment-variables</a></li>\n<li>How to use config map: <a href=\"https://kubernetes.io/docs/tasks/configure-pod-container/configure-pod-configmap/#use-configmap-defined-environment-variables-in-pod-commands\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/tasks/configure-pod-container/configure-pod-configmap/#use-configmap-defined-environment-variables-in-pod-commands</a></li>\n</ul>\n\n<p>To sum up, such resources need to be just defined in Pod's configuration. </p>\n"}, {"tags": [], "owner": {"reputation": 930, "user_id": 4518472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8rYu5.jpg?s=128&g=1", "display_name": "Tarun Khosla", "link": "https://stackoverflow.com/users/4518472/tarun-khosla"}, "is_accepted": false, "score": 1, "last_activity_date": 1566425129, "creation_date": 1566425129, "answer_id": 57599695, "question_id": 57598552, "link": "https://stackoverflow.com/questions/57598552/best-way-to-run-jar-application-with-arguments-from-env-variables/57599695#57599695", "title": "Best way to run jar application with arguments from env variables", "body": "<p>You can use them like this</p>\n\n<pre><code>ENTRYPOINT [\"java\", \"-jar\", \"-Ddb.host=${DB_HOST}\", \"/app.jar\"]\n</code></pre>\n\n<p>where DB_HOST should be defined in config map you have created.</p>\n\n<p>I have tried this in my Spring Boot Application for setting Spring Profile.</p>\n"}, {"tags": [], "owner": {"reputation": 50397, "user_id": 1318694, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JPEVC.png?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/1318694/matt"}, "is_accepted": false, "score": 0, "last_activity_date": 1566430843, "creation_date": 1566430843, "answer_id": 57600397, "question_id": 57598552, "link": "https://stackoverflow.com/questions/57598552/best-way-to-run-jar-application-with-arguments-from-env-variables/57600397#57600397", "title": "Best way to run jar application with arguments from env variables", "body": "<p>The array or <a href=\"https://docs.docker.com/engine/reference/builder/#exec-form-entrypoint-example\" rel=\"nofollow noreferrer\">\"exec form\"</a> of entrypoint uses <code>exec</code> to run the specified binary rather than a shell. Without a shell the string <code>$DB_HOST</code> is passed to your program as argument. </p>\n\n<h3>Shell form</h3>\n\n<pre><code>ENTRYPOINT java -Ddb.host=\"${DB_HOST}\" -jar /app.jar\n</code></pre>\n\n<h3>Shell script</h3>\n\n<p>If your startup get more complex you can also use an <code>ENTRYPOINT</code> script. </p>\n\n<pre><code>ENTRYPOINT [\"/launch.sh\"]\n</code></pre>\n\n<p>Then <code>launch.sh</code> contains:</p>\n\n<pre><code>#!/bin/sh -uex\njava -Ddb.host=\"${DB_HOST}\" -jar /app.jar\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 8650156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/463221b834d63c0297f06b27ea996472?s=128&d=identicon&r=PG&f=1", "display_name": "michf", "link": "https://stackoverflow.com/users/8650156/michf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 723, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1566430843, "creation_date": 1566418044, "question_id": 57598552, "link": "https://stackoverflow.com/questions/57598552/best-way-to-run-jar-application-with-arguments-from-env-variables", "title": "Best way to run jar application with arguments from env variables", "body": "<p>I have a very simple java jar application that fetches DB properties from the env variables.\nI`ve dockerized it and migrated to Kubernetes. I also created a config map and secret with parameters to my DB - so I have access to these properties in the container. \nIs it possible to fetch all properties and inject it in Dockerfile? How can I do it?</p>\n\n<pre><code>FROM openjdk:8-jre\nADD target/shopfront-0.0.1-SNAPSHOT.jar app.jar\nEXPOSE 8010\nENTRYPOINT [\"java\",\"-Ddb.host=**value-from-env-variable**\",\"-jar\",\"/app.jar\"]\n</code></pre>\n"}, {"tags": ["java", "hibernate", "jpa"], "comments": [{"owner": {"reputation": 85046, "user_id": 217324, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc91a8e29fedbd6a6d7e03a8394009ab?s=128&d=identicon&r=PG", "display_name": "Nathan Hughes", "link": "https://stackoverflow.com/users/217324/nathan-hughes"}, "edited": false, "score": 1, "creation_date": 1566418244, "post_id": 57598543, "comment_id": 101654342, "body": "does the address really need to refer back to the entity it belongs to? or should it be a one-way relation? should the address be an entity at all or should it be an embedded class?"}], "answers": [{"tags": [], "owner": {"reputation": 803, "user_id": 1898395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9442126d457f450a283f82487b510360?s=128&d=identicon&r=PG", "display_name": "slash_rick_dot", "link": "https://stackoverflow.com/users/1898395/slash-rick-dot"}, "is_accepted": false, "score": 0, "last_activity_date": 1566421469, "last_edit_date": 1566421469, "creation_date": 1566420097, "answer_id": 57598942, "question_id": 57598543, "link": "https://stackoverflow.com/questions/57598543/how-to-use-common-entity-in-more-than-one-entity/57598942#57598942", "title": "How to use common entity in more than one entity", "body": "<p>one-If you're not stuck with a database schema requiring owner type and id in address,  then you should consider a \"join\" table.   You can annotate for Hibernate using @JoinTable, as follows:</p>\n\n<pre><code>@Entity\nclass Company {\n    ...\n    @OneToMany\n    @JoinTable( name=\"company_address\", \n       joinColumns={@JoinColumn(name=\"idCompany\")},\n       inverseJoinColumns={@JoinColumn(name=\"idAddress\"} )\n    List&lt;Address&gt; addresses;    \n}\n</code></pre>\n\n<p>You need to add the company_address table (and another one for user_address), which will have idCompany and idAddress foreign key columns.  Hibernate will do the rest.</p>\n\n<p>Among other things, doing a one-to-many with a join table like this also allows more than one entity (users, company's etc) to refer to the <em>same</em> address, which would not be possible if Address has a single owner.</p>\n"}], "owner": {"reputation": 1, "user_id": 4338606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9186ca148600bb2b8ff1312e6684911?s=128&d=identicon&r=PG&f=1", "display_name": "RAMESH SHRIVAS", "link": "https://stackoverflow.com/users/4338606/ramesh-shrivas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566434796, "creation_date": 1566417987, "last_edit_date": 1566434796, "question_id": 57598543, "link": "https://stackoverflow.com/questions/57598543/how-to-use-common-entity-in-more-than-one-entity", "title": "How to use common entity in more than one entity", "body": "<p>I have one entity <code>Address</code> and  this entity is owned by two other entities.</p>\n\n<p>Ex</p>\n\n<p><code>@JoinColumn</code> and <code>mappedBy</code> use foreign key either for <code>User</code> or  <code>Company</code>. \nHow to fix this problem to work address for both user and company?</p>\n\n<p>I've tried <code>@JoinColumn</code> and <code>mappedBy</code>, but no luck.</p>\n\n<pre><code>@Entity\nclass User {\n    ...\n    @OneToMany\n    private List&lt;Address&gt; address;\n    ...\n}\n\n@Entity\nclass Company{\n    ...\n    @OneToMany \n    private List&lt;Address&gt; address;\n    ...\n}\n\n@Entity\nclass Address {\n    private String street;\n    private String city;\n    private String state;\n\n    private String entityType; // User or Company\n    private String entityId; // id of User or Company \n}\n</code></pre>\n"}, {"tags": ["java", "image", "pdf", "itext", "xmlworker"], "comments": [{"owner": {"reputation": 4234, "user_id": 5752737, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4399530f88749f2a24bcbaef6f625490?s=128&d=identicon&r=PG&f=1", "display_name": "William Burnham", "link": "https://stackoverflow.com/users/5752737/william-burnham"}, "edited": false, "score": 0, "creation_date": 1566417834, "post_id": 57598414, "comment_id": 101654202, "body": "Look into the pdf flying saucer library <a href=\"https://mvnrepository.com/artifact/org.xhtmlrenderer/flying-saucer-pdf-openpdf\" rel=\"nofollow noreferrer\">open-pdf</a>."}, {"owner": {"reputation": 3, "user_id": 11787477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8a0e12371e248e296921116f245efdf?s=128&d=identicon&r=PG&f=1", "display_name": "EvanV", "link": "https://stackoverflow.com/users/11787477/evanv"}, "reply_to_user": {"reputation": 4234, "user_id": 5752737, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4399530f88749f2a24bcbaef6f625490?s=128&d=identicon&r=PG&f=1", "display_name": "William Burnham", "link": "https://stackoverflow.com/users/5752737/william-burnham"}, "edited": false, "score": 0, "creation_date": 1566501854, "post_id": 57598414, "comment_id": 101686704, "body": "That fixed the issue! Thanks so much."}], "owner": {"reputation": 3, "user_id": 11787477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8a0e12371e248e296921116f245efdf?s=128&d=identicon&r=PG&f=1", "display_name": "EvanV", "link": "https://stackoverflow.com/users/11787477/evanv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566417285, "creation_date": 1566417285, "question_id": 57598414, "link": "https://stackoverflow.com/questions/57598414/how-do-i-add-html-images-to-a-pdf-using-itextpdf-5-5-13-in-java", "title": "How do I add html images to a pdf using iTextPDF 5.5.13 in Java?", "body": "<p>I am getting HTML strings from another method and some of the strings contain links to images. Those images do not appear in the PDF but no errors are being thrown. </p>\n\n<p>The images that I am using are coming in as base64 encoded images. I thought that maybe that was the issue but after trying with local images and images from links, it still does not work. Is it something to do with how the images are being parsed? Am I able to print these images using iText's XMLWorkerHelper?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws Exception {\n\n        String str1 = \"&lt;p&gt;Red Dot&lt;/p&gt;&lt;img src=\\\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==\\\" alt=\\\"Red dot\\\" /&gt;\";\n        String str2 = \"&lt;p&gt;W3 Logo&lt;/p&gt;&lt;img src=\\\"https://www.w3schools.com/images/w3schools_green.jpg\\\" alt=\\\"W3Schools.com\\\" style=\\\"width:104px;height:142px;\\\"&gt;\";\n        String str3 = \"&lt;p&gt;Cow&lt;/p&gt;&lt;img src=\\\"cow.jpg\\\" alt=\\\"Cow\\\"&gt;\";\n\n        System.out.println(\"Open File\");\n        Document document = new Document();\n        PdfWriter writer = PdfWriter.getInstance(document, new FileOutputStream(\"test.pdf\"));\n        document.open();\n\n        System.out.println(\"Write To File\");\n        InputStream is = new ByteArrayInputStream(str3.getBytes());\n        XMLWorkerHelper.getInstance().parseXHtml(writer, document, is);\n\n        System.out.println(\"Close File\");\n        document.close();\n    }\n</code></pre>\n\n<p>The pdf was always generated with the text preceding the image, but the image never printed. The real instances are much more complex than this, so I would need a solution that preserves the original format of the html string. Any help is greatly appreciated!</p>\n"}, {"tags": ["java", "android"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 11806414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5x0tW.jpg?s=128&g=1", "display_name": "offline", "link": "https://stackoverflow.com/users/11806414/offline"}, "edited": false, "score": 0, "creation_date": 1566417671, "post_id": 57598420, "comment_id": 101654141, "body": "Thanks a lot bro. It will working. But can you explain me why i whould remove HTTP.UTF_8 ?"}, {"owner": {"reputation": 3546, "user_id": 1364347, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/c8f81c26acb96d1cc3574cf4dff420f1?s=128&d=identicon&r=PG", "display_name": "barq", "link": "https://stackoverflow.com/users/1364347/barq"}, "reply_to_user": {"reputation": 69, "user_id": 11806414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5x0tW.jpg?s=128&g=1", "display_name": "offline", "link": "https://stackoverflow.com/users/11806414/offline"}, "edited": false, "score": 1, "creation_date": 1566417735, "post_id": 57598420, "comment_id": 101654166, "body": "The HTTP class does not contain the value UTF_8."}], "tags": [], "owner": {"reputation": 3546, "user_id": 1364347, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/c8f81c26acb96d1cc3574cf4dff420f1?s=128&d=identicon&r=PG", "display_name": "barq", "link": "https://stackoverflow.com/users/1364347/barq"}, "is_accepted": false, "score": 3, "last_activity_date": 1566417347, "creation_date": 1566417347, "answer_id": 57598420, "question_id": 57598263, "link": "https://stackoverflow.com/questions/57598263/error-cannot-find-symbol-variable-utf-8-android-studio/57598420#57598420", "title": "Error cannot find symbol variable UTF_8 android studio", "body": "<p>Remove the <code>HTTP</code> from <code>HTTP.UTF_8</code></p>\n\n<pre><code>StringEntity se = new StringEntity(\"envelope\",UTF_8);\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 11806414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5x0tW.jpg?s=128&g=1", "display_name": "offline", "link": "https://stackoverflow.com/users/11806414/offline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566425878, "creation_date": 1566416561, "last_edit_date": 1566425878, "question_id": 57598263, "link": "https://stackoverflow.com/questions/57598263/error-cannot-find-symbol-variable-utf-8-android-studio", "title": "Error cannot find symbol variable UTF_8 android studio", "body": "<p>Error cannot find symbol utf 8 android. I dont understant why this happen when i try to implement this code : </p>\n\n<pre><code>StringEntity se = new StringEntity(\"envelope\",HTTP.UTF_8);\n</code></pre>\n\n<p>Here is my build.gradle file:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\n    android {\n    compileSdkVersion 28\n    useLibrary 'org.apache.http.legacy'\n    compileOptions.encoding = 'ISO-8859-1'\n    defaultConfig {\n        applicationId \"com.example.mysql\"\n        minSdkVersion 15\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\ndependencies {\n       implementation fileTree(dir: 'libs', include: ['*.jar'])\n       implementation 'com.android.support:appcompat-v7:28.0.0'\n       implementation 'com.android.support.constraint:constraint- \n       layout:1.1.3'\n       testImplementation 'junit:junit:4.12'\n       androidTestImplementation 'com.android.support.test:runner:1.0.2'\n       androidTestImplementation 'com.android.support.test.espresso:espresso- \n       core:3.0.2'\n       implementation 'com.android.volley:volley:1.1.0'\n\n}\n</code></pre>\n"}, {"tags": ["java", "selenium", "webdriver", "testng", "selenium-chromedriver"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8208987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--xM1f8vDnDE/AAAAAAAAAAI/AAAAAAAAAC8/VfDo160a9ek/photo.jpg?sz=128", "display_name": "Ram Sahu", "link": "https://stackoverflow.com/users/8208987/ram-sahu"}, "edited": false, "score": 1, "creation_date": 1566676441, "post_id": 57598547, "comment_id": 101733892, "body": "i resolved by changing the selenium version to new latest version, but still did not get the logic why was it happening with 3.14 version in mac system,  Thanks Murta for your help"}], "tags": [], "owner": {"reputation": 96, "user_id": 10864550, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5U_iuw6Ox94/AAAAAAAAAAI/AAAAAAAAAAc/K9dISWzJSoU/photo.jpg?sz=128", "display_name": "Murat Kara", "link": "https://stackoverflow.com/users/10864550/murat-kara"}, "is_accepted": false, "score": 0, "last_activity_date": 1566418012, "creation_date": 1566418012, "answer_id": 57598547, "question_id": 57598243, "link": "https://stackoverflow.com/questions/57598243/download-file-in-specific-folder-in-selenium-in-macosx/57598547#57598547", "title": "download file in specific folder in Selenium in macOSX", "body": "<p>You must add <code>setDownloadBehavior</code>.</p>\n\n<p>For example:</p>\n\n<pre><code>HashMap chromePrefs = new HashMap();\nchromePrefs.put(\"profile.default_content_settings.popups\", 0);\nchromePrefs.put(\"download.default_directory\",\"/Users/username/Documents/WORKSPACE/ARU1/\");\nchromePrefs.put(\"browser.set_download_behavior\",\"{ behavior: 'allow' , downloadPath: '\"+_PATH_TO_DOWNLOAD_DIR+\"'}\");\n\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 8208987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--xM1f8vDnDE/AAAAAAAAAAI/AAAAAAAAAC8/VfDo160a9ek/photo.jpg?sz=128", "display_name": "Ram Sahu", "link": "https://stackoverflow.com/users/8208987/ram-sahu"}, "edited": false, "score": 0, "creation_date": 1566676570, "post_id": 57610672, "comment_id": 101733919, "body": "i am using for downloading purpose , like you clicked in a button and tha file is getting downloaded in your download folder, so i want to download the file in specific folder , for that i was trying  this...Thanks for help Dmitri"}], "tags": [], "owner": {"reputation": 116880, "user_id": 2897748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d278f6ada8828c902a13ee8a5e523cce?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitri T", "link": "https://stackoverflow.com/users/2897748/dmitri-t"}, "is_accepted": false, "score": 0, "last_activity_date": 1566481143, "creation_date": 1566481143, "answer_id": 57610672, "question_id": 57598243, "link": "https://stackoverflow.com/questions/57598243/download-file-in-specific-folder-in-selenium-in-macosx/57610672#57610672", "title": "download file in specific folder in Selenium in macOSX", "body": "<p>I don't think you should be using the browser for downloading content, leave it to Chrome developers/testers. </p>\n\n<p>I believe you should rather get <a href=\"https://www.w3schools.com/tags/att_a_href.asp\" rel=\"nofollow noreferrer\">href attribute</a> of the element you want to download and obtain it using <a href=\"https://square.github.io/okhttp/\" rel=\"nofollow noreferrer\">OkHTTP library</a>  </p>\n\n<p>If your site requires authentication you could fetch <a href=\"https://docs.experitest.com/display/TC/Cookies\" rel=\"nofollow noreferrer\">cookies</a> from the browser instance and pass them to <a href=\"https://gist.github.com/tsuharesu/cbfd8f02d46498b01f1b\" rel=\"nofollow noreferrer\">OkHttp Request.Builder</a></p>\n"}], "owner": {"reputation": 11, "user_id": 8208987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--xM1f8vDnDE/AAAAAAAAAAI/AAAAAAAAAC8/VfDo160a9ek/photo.jpg?sz=128", "display_name": "Ram Sahu", "link": "https://stackoverflow.com/users/8208987/ram-sahu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 333, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566481143, "creation_date": 1566416459, "last_edit_date": 1566426246, "question_id": 57598243, "link": "https://stackoverflow.com/questions/57598243/download-file-in-specific-folder-in-selenium-in-macosx", "title": "download file in specific folder in Selenium in macOSX", "body": "<p>I am trying to download any file (jar file) from web in Specific folder in Mac System using selenium but every time downloading in downloads folder</p>\n\n<p>Chrome Version -76<br>\nChromdriver 76<br>\nOS -Mac</p>\n\n<p>I tried with given code but still not able to save the file in a specific folder</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions ();\n\nHashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\nchromePrefs.put(\"profile.default_content_settings.popups\", 0);\nchromePrefs.put(\"download.default_directory\",\"/Users/username/Documents/WORKSPACE/ARU1/\");\n\nOptions.setExperimentalOption(\"prefs\", chromePrefs);\n\nDesiredCapabilities cap = DesiredCapabilities.chrome();\ncap.setCapability(CapabilityType.ACCEPT_SSL_CERTS, true);\ncap.setCapability(ChromeOptions.CAPABILITY, options);\n\nWebDriver driver = new ChromeDriver(cap);\n</code></pre>\n\n<p>Every time it downloads in the download folder</p>\n"}, {"tags": ["java", "python", "android", "wav", "tensorflow-lite"], "owner": {"reputation": 983, "user_id": 3871938, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/4ac6199c62b368e845bcb74ff7788264?s=128&d=identicon&r=PG&f=1", "display_name": "hdiz", "link": "https://stackoverflow.com/users/3871938/hdiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 244, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1581412504, "creation_date": 1566416418, "last_edit_date": 1581412504, "question_id": 57598240, "link": "https://stackoverflow.com/questions/57598240/read-wav-file-into-java-android-as-input-file-of-tflite-model", "title": "Read &quot;.wav&quot; file into java android As input file of &quot;.tflite&quot; model", "body": "<p>I have a <code>Classification</code> problem in <code>Machine Learning</code>. I trained <strong>My Audio</strong> files with a model using <code>Keras</code> in <code>Python</code>. I did some <strong>preprocessing</strong> on my data (divided into multiple equal segments and then re-sample each of them), then read <strong>left channel</strong> of it (My data were stereo and i used one of channels) using <code>wavfile</code> library from <code>scipy.io</code>. \nAfter training with a <code>1D Convolutional Neural Network</code>, i saved my model as <code>.h5</code> file. After that, i converted my model into <code>Tensorflow Lite</code> model (<code>.tflite</code>). </p>\n\n<p>In My android project, I putted <code>labels.txt</code> and <code>Mymodel.tflite</code> into <code>assets</code> folder and according to <strong>TensorFlow Lite</strong> Documentation, i tried to run <code>TensorFlow Lite Interpreter</code>. </p>\n\n<p><strong>Here is My question :</strong> </p>\n\n<blockquote>\n  <p>How can i prepare input data for interpreter which is compatible with python libraries i used when i wanted to train my model ?</p>\n</blockquote>\n\n<p><strong>Here is my Python and Java code :</strong></p>\n\n<p>In this code i segment my audio file:</p>\n\n<pre><code>from pydub import AudioSegment\nfrom pydub.utils import make_chunks\n\nsong = AudioSegment.from_wav(\"audio.wav\")\nchunk_length_ms = 10 * 1000 # pydub calculates in millisec\nchunks = make_chunks(song, chunk_length_ms) # Make chunks of ten sec\n\nfor j, chunk in enumerate(chunks):\n    chunk = chunk.set_frame_rate(16000)\n    chunk.export(chunk_name, format=\"wav\")\n</code></pre>\n\n<p>Then, this is part of code where i read the <code>wav</code> file:</p>\n\n<pre><code>fs, data_s = wavfile.read(file_path)       \ndata = data_s[:, 0]\n</code></pre>\n\n<p>convert keras model to tflite model :</p>\n\n<pre><code>import tensorflow as tf\n\nconverter = tf.lite.TFLiteConverter.from_keras_model_file('mymodel.h5')\ntflite_model = converter.convert()\nopen(\"Mymodel.tflite\", \"wb\").write(tflite_model)\n</code></pre>\n\n<p>And finally, the Java code:</p>\n\n<pre><code>try (Interpreter interpreter = new \n      Interpreter(loadModelFile(MainActivity.this))) {\n          interpreter.run(audioBytes, loadLabelList(MainActivity.this));\n     } catch (IOException e) {\n          e.printStackTrace();\n}\n</code></pre>\n\n<p>The main problem is producing <code>audioBytes</code> for input of <code>run</code> method. If you had any experience about this problem, share with me.</p>\n"}, {"tags": ["java", "apache-spark"], "comments": [{"owner": {"reputation": 8018, "user_id": 4744359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7794bbbd8bab9c8e1f739918c29914cf?s=128&d=identicon&r=PG&f=1", "display_name": "UninformedUser", "link": "https://stackoverflow.com/users/4744359/uninformeduser"}, "edited": false, "score": 0, "creation_date": 1566416450, "post_id": 57598200, "comment_id": 101653680, "body": "next time, please use the search function. It&#39;s very unlikely that those things haven&#39;t been asked and answered before ... and afaik, you can run SQL on <code>Dataset</code> or am I wrong here?"}, {"owner": {"reputation": 1278, "user_id": 1594992, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3e3dc5055f6f5a015fa3a471b992e9?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/1594992/sam"}, "reply_to_user": {"reputation": 8018, "user_id": 4744359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7794bbbd8bab9c8e1f739918c29914cf?s=128&d=identicon&r=PG&f=1", "display_name": "UninformedUser", "link": "https://stackoverflow.com/users/4744359/uninformeduser"}, "edited": false, "score": 0, "creation_date": 1566419968, "post_id": 57598200, "comment_id": 101654991, "body": "I did search for the related item, but all of them spoke about running an sql on spark context. Hence I specifically mentioned it. I am not sure how we can run a sql on Dataset though?"}, {"owner": {"reputation": 8018, "user_id": 4744359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7794bbbd8bab9c8e1f739918c29914cf?s=128&d=identicon&r=PG&f=1", "display_name": "UninformedUser", "link": "https://stackoverflow.com/users/4744359/uninformeduser"}, "edited": false, "score": 0, "creation_date": 1566441437, "post_id": 57598200, "comment_id": 101659621, "body": "I see. It looks like there is no function for it in Dataset API. I always thought it&#39;s possible to run SQL on a <code>Dataset</code>. In the end a <code>DataFrame</code> ist just a <code>Dataset[Row]</code>. And using <code>createOrReplaceTempView</code> on the <code>Dataset</code> and then running SQL with the <code>SQLContext</code> doesn&#39;t work?"}], "answers": [{"comments": [{"owner": {"reputation": 23374, "user_id": 1138523, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b3d187eb72df2c21957968c74fd5e869?s=128&d=identicon&r=PG", "display_name": "Raphael Roth", "link": "https://stackoverflow.com/users/1138523/raphael-roth"}, "edited": false, "score": 0, "creation_date": 1566460447, "post_id": 57604236, "comment_id": 101665259, "body": "or just plain <code>percentile</code>"}], "tags": [], "owner": {"reputation": 7405, "user_id": 1540264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jNAU2.jpg?s=128&g=1", "display_name": "Grisha Weintraub", "link": "https://stackoverflow.com/users/1540264/grisha-weintraub"}, "is_accepted": true, "score": 1, "last_activity_date": 1566459312, "creation_date": 1566459312, "answer_id": 57604236, "question_id": 57598200, "link": "https://stackoverflow.com/questions/57598200/calculate-median-in-spark-java/57604236#57604236", "title": "Calculate median in Spark Java", "body": "<p>You can use <a href=\"https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF#LanguageManualUDF-Built-inAggregateFunctions(UDAF)\" rel=\"nofollow noreferrer\">Hive</a> <code>percentile_approx</code> UDF.\nSomething like that</p>\n\n<pre><code>    SparkSession spark = SparkSession\n            .builder()\n            .config(new SparkConf().setAppName(\"medianTest\").setMaster(\"local[*]\"))\n            .getOrCreate();\n\n    StructType schema = DataTypes.createStructType(new StructField[]{\n            createStructField(\"subject\", DataTypes.StringType, true),\n            createStructField(\"student\", DataTypes.StringType, true),\n            createStructField(\"mark\", DataTypes.IntegerType, true)\n    });\n\n    List&lt;Row&gt; rows = Arrays.asList(\n            RowFactory.create(\"CS\", \"Alice\", 85),\n            RowFactory.create(\"CS\", \"Alice\", 81),\n            RowFactory.create(\"CS\", \"Alice\", 97),\n            RowFactory.create(\"CS\", \"Bob\", 92),\n            RowFactory.create(\"CS\", \"Bob\", 75),\n            RowFactory.create(\"CS\", \"Bob\", 99),\n            RowFactory.create(\"CS\", \"Carol\", 71),\n            RowFactory.create(\"CS\", \"Carol\", 84),\n            RowFactory.create(\"CS\", \"Carol\", 91)\n    );\n\n    Dataset df = spark.createDataFrame(rows, schema);\n\n    df\n            .groupBy(\"subject\", \"student\")\n            .agg(\n                    min(\"mark\").as(\"min\"),\n                    max(\"mark\").as(\"max\"),\n                    callUDF(\"percentile_approx\", col(\"mark\"), lit(0.5)).as(\"median\")\n            )\n            .show();\n</code></pre>\n"}], "owner": {"reputation": 1278, "user_id": 1594992, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3e3dc5055f6f5a015fa3a471b992e9?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/1594992/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 57604236, "answer_count": 1, "score": 0, "last_activity_date": 1566465763, "creation_date": 1566416220, "last_edit_date": 1566420409, "question_id": 57598200, "link": "https://stackoverflow.com/questions/57598200/calculate-median-in-spark-java", "title": "Calculate median in Spark Java", "body": "<p>I have a dataset with several columns</p>\n\n<ul>\n<li>subject</li>\n<li>student</li>\n<li>marks\nI want to find min, max, and median of marks</li>\n</ul>\n\n<blockquote>\n  <p>df.group(df.col(\"subject\"), df.col(\"student\"))<br>\n  .agg(functions.min(df.col(\"marks\")),<br>\n  functions.max(df.col(\"marks\")))</p>\n</blockquote>\n\n<p>How do we find the median for the marks column?</p>\n\n<p>I know we can do it in SQL using percentile_approx. Is there a way to do it with Dataset?</p>\n\n<p>Edit: The linked question points to answers containing pyspark API while the question is specifically for java</p>\n"}, {"tags": ["java", "spring", "spring-boot", "keycloak"], "answers": [{"tags": [], "owner": {"reputation": 2159, "user_id": 62667, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9768939b05811de7e005047b1d62ecda?s=128&d=identicon&r=PG", "display_name": "GaZ", "link": "https://stackoverflow.com/users/62667/gaz"}, "is_accepted": true, "score": 0, "last_activity_date": 1567093657, "creation_date": 1567093657, "answer_id": 57713725, "question_id": 57598156, "link": "https://stackoverflow.com/questions/57598156/keycloak-authentication-for-a-spring-boot-soap-webservice-based-on-custom-atribu/57713725#57713725", "title": "Keycloak authentication for a Spring Boot SOAP webservice based on custom atribute", "body": "<p>The solution we came to is to use the Spring Security adapter for Keycloak, and then specify our own bean for inspecting the token:</p>\n\n<pre><code>@Component\npublic class WebSecurity {\n    public boolean check(Authentication authentication) throws Exception {\n        boolean result = false;\n        ...\n        return result;\n    }\n}\n\n// In the web security configuration\n        http\n                .authorizeRequests()\n                .antMatchers(HttpMethod.POST, SOME_URL)\n                .access(\"@webSecurity.check(authentication)\")\n</code></pre>\n"}], "owner": {"reputation": 2159, "user_id": 62667, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9768939b05811de7e005047b1d62ecda?s=128&d=identicon&r=PG", "display_name": "GaZ", "link": "https://stackoverflow.com/users/62667/gaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 433, "favorite_count": 0, "accepted_answer_id": 57713725, "answer_count": 1, "score": 0, "last_activity_date": 1567093657, "creation_date": 1566416021, "question_id": 57598156, "link": "https://stackoverflow.com/questions/57598156/keycloak-authentication-for-a-spring-boot-soap-webservice-based-on-custom-atribu", "title": "Keycloak authentication for a Spring Boot SOAP webservice based on custom atribute", "body": "<p>We're using Keycloak to protect a Spring Boot SOAP application. We want to handle authorization to the application based on information from the user's attributes in keycloak, as opposed to the standard 'roles based' access.</p>\n\n<p>For example, we can use the standard keycloak spring boot adapter with the following configuration:</p>\n\n<pre><code>keycloak.security-constraints[0].authRoles[0]=special-role\nkeycloak.security-constraints[0].securityCollections[0].patterns[0]=/service/*\n</code></pre>\n\n<p>This will ensure that only users with 'special-role' can access the service. But is it possible to write a custom filter to look at the value of the user's attributes instead of her roles?</p>\n"}, {"tags": ["java", "spring", "rest", "spring-mvc", "filter"], "answers": [{"comments": [{"owner": {"reputation": 568, "user_id": 3928593, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/11127a1cfc8094953831d0c55fa03dbf?s=128&d=identicon&r=PG&f=1", "display_name": "JiangHongTiao", "link": "https://stackoverflow.com/users/3928593/jianghongtiao"}, "edited": false, "score": 0, "creation_date": 1566902248, "post_id": 57663183, "comment_id": 101792688, "body": "Hi @KenChan, thanks for the reply. yes, I know about the <code>@ControllerAdvice</code>, however, as you write it unfortunately handles exceptions only from Controllers. The request passes filters before it goes to any Controller. So when some exception is thrown in a filter, it will not be handled by <code>@ControllerAdvice</code> and user will receive only default HTML response."}, {"owner": {"reputation": 63741, "user_id": 339637, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/de36dc10cb82f3992d3d0ed0bc18199c?s=128&d=identicon&r=PG", "display_name": "Ken Chan", "link": "https://stackoverflow.com/users/339637/ken-chan"}, "reply_to_user": {"reputation": 568, "user_id": 3928593, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/11127a1cfc8094953831d0c55fa03dbf?s=128&d=identicon&r=PG&f=1", "display_name": "JiangHongTiao", "link": "https://stackoverflow.com/users/3928593/jianghongtiao"}, "edited": false, "score": 0, "creation_date": 1566904092, "post_id": 57663183, "comment_id": 101793640, "body": "Yes, see your point. So basically , you want to use the Spring MVC feature in the plain Servlet Filter ? Do you consider to move the existing Filter logic to the spring <code>HandlerInterceptor </code> ?  Actually every things that can be done by Filter can also be done by the <code>HandlerInterceptor </code>  which is more feature rich and solve your problem more elegantly"}], "tags": [], "owner": {"reputation": 63741, "user_id": 339637, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/de36dc10cb82f3992d3d0ed0bc18199c?s=128&d=identicon&r=PG", "display_name": "Ken Chan", "link": "https://stackoverflow.com/users/339637/ken-chan"}, "is_accepted": false, "score": 1, "last_activity_date": 1566848830, "last_edit_date": 1566848830, "creation_date": 1566844634, "answer_id": 57663183, "question_id": 57598113, "link": "https://stackoverflow.com/questions/57598113/spring-mvc-content-type-aware-response-from-filter/57663183#57663183", "title": "Spring MVC - content-type aware response from filter", "body": "<p>It seems like you are rolling your own exception handling logic using Filter. Actually, Spring MVC already provides an equivalent feature (<a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-controller-advice\" rel=\"nofollow noreferrer\"><code>@RestControllerAdvice</code></a>) which allow you to catch all exceptions from controllers and consolidate the exception handling logic in a single place : </p>\n\n<blockquote>\n  <p>@RestControllerAdvice is a composed annotation that is annotated with\n  both @ControllerAdvice and @ResponseBody, which essentially means\n  @ExceptionHandler methods are rendered to the response body through\n  message conversion (versus view resolution or template rendering).</p>\n</blockquote>\n\n<p>You can think that whenever an exception is thrown from a controller , it will be handled by a <code>@RestControllerAdvice</code> method. The returned value from the <code>@RestControllerAdvice</code> method will have the same behaviour just like it is returned from the controller method successfully, which means it will also go through all the registered <code>MessageConverters</code>, choose a suitable one to render the response based on the Accept header.</p>\n\n<p>A getting started example would look like : </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    @ExceptionHandler(Exception.class)\n    public ErrorResponse handleException(Exception ex) {\n        //Create ErrorResponse based on the Exception\n        if(blabla...){\n            return new ErrorResponse(\"fooCode1\", \"foo Message1\");\n        }else if(barbar....){\n            return new ErrorResponse(\"fooCode2\", \"foo Message2\");\n        }\n    }\n}\n</code></pre>\n\n<p>And assuming you are using Jackson to serialize object to JSON/XML :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@JacksonXmlRootElement(localName = \"response\")\npublic class ErrorResponse {\n\n    @JsonProperty(\"requestId\")\n    private String requestId = UUID.randomUUID().toString();\n\n    @JsonProperty(\"code\")\n    private String code;\n\n    @JsonProperty(\"message\")\n    private String message;\n\n    public ErrorResponse(String code, String message) {\n        this.code = code;\n        this.message = message;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2227, "user_id": 2825798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6F5gv.jpg?s=128&g=1", "display_name": "PraveenKumar Lalasangi", "link": "https://stackoverflow.com/users/2825798/praveenkumar-lalasangi"}, "edited": false, "score": 0, "creation_date": 1567090679, "post_id": 57676746, "comment_id": 101868025, "body": "If you want to get message converters as bean in servlet filter, refer my answer <a href=\"https://stackoverflow.com/a/57712093/2825798\">how-can-i-get-a-spring-bean-in-a-servlet-filter</a>"}, {"owner": {"reputation": 568, "user_id": 3928593, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/11127a1cfc8094953831d0c55fa03dbf?s=128&d=identicon&r=PG&f=1", "display_name": "JiangHongTiao", "link": "https://stackoverflow.com/users/3928593/jianghongtiao"}, "edited": false, "score": 1, "creation_date": 1567103170, "post_id": 57676746, "comment_id": 101873630, "body": "Thanks a lot for a help and guidance. Sorry for my late response, I didn&#39;t have time to look at it sooner. Regarding the converters, it is easy to get them also when you extend <code>WebMvcConfigurationSupport</code> class instead of implementing <code>WebMvcConfigurer</code>. Then you can get them as e.g. Spring boot initializes them. And to add them into filters, I&#39;ve passed them in the constructor."}], "tags": [], "owner": {"reputation": 2227, "user_id": 2825798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6F5gv.jpg?s=128&g=1", "display_name": "PraveenKumar Lalasangi", "link": "https://stackoverflow.com/users/2825798/praveenkumar-lalasangi"}, "is_accepted": false, "score": 1, "last_activity_date": 1567014201, "last_edit_date": 1592644375, "creation_date": 1566915612, "answer_id": 57676746, "question_id": 57598113, "link": "https://stackoverflow.com/questions/57598113/spring-mvc-content-type-aware-response-from-filter/57676746#57676746", "title": "Spring MVC - content-type aware response from filter", "body": "<p>You can send common error response by custom configured message converters in two ways(From filter)</p>\n<h3>Approach 1:</h3>\n<p>In the filter, on catching exception forward request to your api so that it will decide content type based on the accept header and send the error response in expected format.</p>\n<pre><code>try\n{\n    filterChain.doFilter(request, response);\n}\ncatch (Exception e)\n{\n    req.getRequestDispatcher(&quot;/sendError/&quot;+e.getLocalizedMessage()).forward(req, resp);\n}\n</code></pre>\n<p>And your API will be</p>\n<pre><code>@RequestMapping(value = &quot;/sendError/{errorMessage}&quot;, method = { RequestMethod.GET, RequestMethod.POST })\npublic @ResponseBody MyResponse sendError(@PathVariable String errorMessage)\n{\n    return new MyResponse(&quot;UUID-1&quot;,&quot;500&quot;,errorMessage);\n}\n</code></pre>\n<p>Where MyResponse POJO</p>\n<pre><code>public class MyResponse\n{\n    private String requestId;\n    private String code;\n    private String message;\n    \n    public MyResponse(){}\n    \n    public MyResponse(String requestId, String code, String message)\n    {\n        this.requestId = requestId;\n        this.code = code;\n        this.message = message;\n    }\n...\n}\n</code></pre>\n<p>@ResponseBody on a Controller method indicates to Spring that the return value of the method is serialized directly to the body of the HTTP Response decided by Accept header received from client.</p>\n<h3>Approach 2:</h3>\n<p>Configure custom message converter as below, and add all converters to static list so that it can be accessed from filters</p>\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan(basePackages = &quot;com.pvn.mvctiles&quot;)\npublic class ApplicationConfiguration implements WebMvcConfigurer\n{\n    public static List&lt;HttpMessageConverter&lt;?&gt;&gt; convertersRef = new ArrayList&lt;&gt;();\n    \n    ...\n\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters)\n    {\n        converters.add(createXmlHttpMessageConverter());\n        converters.add(new MappingJackson2HttpMessageConverter());\n        convertersRef.addAll(converters);\n    }\n    \n    \n    private HttpMessageConverter&lt;Object&gt; createXmlHttpMessageConverter()\n    {\n        MarshallingHttpMessageConverter xmlConverter = new MarshallingHttpMessageConverter();\n\n        XStreamMarshaller xstreamMarshaller = new XStreamMarshaller();\n        xmlConverter.setMarshaller(xstreamMarshaller);\n        xmlConverter.setUnmarshaller(xstreamMarshaller);\n\n        return xmlConverter;\n    }\n}\n</code></pre>\n<p>And in your filter</p>\n<pre><code>@Override\npublic void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException\n{\n    HttpServletRequest req = (HttpServletRequest) request;\n    HttpServletResponse resp = (HttpServletResponse) response;\n    \n    try\n    {\n        filterChain.doFilter(request, response);\n    }\n    catch (Exception e)\n    {\n        MyResponse myResp = new MyResponse(&quot;UUID&quot;, &quot;500&quot;, e.getLocalizedMessage());\n        write(req, resp, myResp);\n    }\n}\n\n\n@SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })\nprivate void write(HttpServletRequest req, HttpServletResponse resp, MyResponse myResp) throws IOException\n{\n    String accept= req.getHeader(&quot;accept&quot;);\n\n    for (HttpMessageConverter messageConverter : ApplicationConfiguration.convertersRef)\n    {\n        if (messageConverter.canWrite(UserDetails.class, MediaType.valueOf(accept)))\n        {\n            HttpOutputMessage outputMessage = new ServletServerHttpResponse(resp);\n            messageConverter.write(myResp, MediaType.valueOf(accept), outputMessage);\n        }\n    }\n}\n</code></pre>\n<p>Both works fine but Approach 1 seems to be easiest.</p>\n"}, {"tags": [], "owner": {"reputation": 568, "user_id": 3928593, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/11127a1cfc8094953831d0c55fa03dbf?s=128&d=identicon&r=PG&f=1", "display_name": "JiangHongTiao", "link": "https://stackoverflow.com/users/3928593/jianghongtiao"}, "is_accepted": true, "score": 1, "last_activity_date": 1567103942, "creation_date": 1567103942, "answer_id": 57716112, "question_id": 57598113, "link": "https://stackoverflow.com/questions/57598113/spring-mvc-content-type-aware-response-from-filter/57716112#57716112", "title": "Spring MVC - content-type aware response from filter", "body": "<p>Based on @PraveenKumarLalasangi response I've implemented in following way:</p>\n\n<p><strong>Server Config:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class ServerConfig extends WebMvcConfigurationSupport {\n  @Bean\n  public FilterRegistrationBean&lt;GenericExceptionHandlerFilter&gt; genericExceptionFilter() {\n    FilterRegistrationBean&lt;GenericExceptionHandlerFilter&gt; registration = new FilterRegistrationBean&lt;&gt;();\n    GenericExceptionHandlerFilter genericExceptionHandlerFilter = new GenericExceptionHandlerFilter(\n        httpResponseMapper(), getMessageConverters());\n    registration.setFilter(genericExceptionHandlerFilter);\n    registration.setOrder(FiltersOrder.GENERIC_EXCEPTION_HANDLER);\n    return registration;\n  }\n}\n</code></pre>\n\n<p><strong>And the filter that handles my exceptions:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class GenericExceptionHandlerFilter implements Filter {\n  private final List&lt;HttpMessageConverter&lt;?&gt;&gt; converters;\n\n  public GenericExceptionHandlerFilter(&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n    this.converters = converters;\n  }\n\n  @Override\n  public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse,\n      FilterChain filterChain) throws IOException {\n    try {\n      filterChain.doFilter(servletRequest, servletResponse);\n    } catch (Exception e) {\n      MyCommonResponse commonResponse = new MyCommonResponse(e);\n      write(servletRequest, servletResponse, comonResponse);\n      log.error(\"Unhandled exception.\", e);\n    }\n  }\n\n  private void write(HttpServletRequest servletRequest, HttpServletResponse servletResponse, Object object) throws IOException {\n    String accept = servletRequest.getHeader(\"accept\");\n    for (HttpMessageConverter messageConverter : converters) {\n      if (messageConverter.canWrite(object.getClass(), MediaType.valueOf(accept))) {\n        HttpOutputMessage outputMessage = new ServletServerHttpResponse(servletResponse);\n        messageConverter.write(object, MediaType.valueOf(accept), outputMessage);\n      }\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 568, "user_id": 3928593, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/11127a1cfc8094953831d0c55fa03dbf?s=128&d=identicon&r=PG&f=1", "display_name": "JiangHongTiao", "link": "https://stackoverflow.com/users/3928593/jianghongtiao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 360, "favorite_count": 0, "accepted_answer_id": 57716112, "answer_count": 3, "score": 1, "last_activity_date": 1571677272, "creation_date": 1566415813, "last_edit_date": 1571677272, "question_id": 57598113, "link": "https://stackoverflow.com/questions/57598113/spring-mvc-content-type-aware-response-from-filter", "title": "Spring MVC - content-type aware response from filter", "body": "<p>when you're writing Spring REST endpoint, Spring offers quite convenient way how to handle multiple response formats based on the content-type. You just need to register <code>MessageConverters</code> and basically that's it. Spring takes care of the rest.</p>\n\n<p>However, how do you access those converters or how do you let them translate any <code>Object</code> into <code>ServletResponse</code> in filters? </p>\n\n<p>What I need is, I have a Filter that is the first in the chain. And when any filter on a way to controller fails, I want to send user response. However I want to send it in a common response structure and in a format respecting user's <code>Accept</code> header (json/xml/...). E.g.:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class GenericExceptionHandlerFilter implements Filter {    \n  @Override\n  public void doFilter(ServletRequest servletRequest, \n      ServletResponse servletResponse, FilterChain filterChain) {\n    try {\n      filterChain.doFilter(servletRequest, servletResponse);\n    } catch (Exception e) {\n      log.error(\"Unhandled type of exception.\", e);\n      String response = messageConverter.convert(new MyResponse(e), String.class);\n      HttpServletResponse httpServletResponse = (...)servletResponse;\n      httpServletResponse.setStatus(500);\n      httpServletResponse.getWriter().print(response);\n      httpServletResponse.getWriter().flush();\n      httpServletResponse.getWriter().close();\n    }\n  }\n}\n</code></pre>\n\n<p>and as the response I want:</p>\n\n<pre><code>{\n  \"requestId\": \"UUID\"\n  \"code\": \"err-1\"\n  \"message\": \"Filter has failed.\"\n}\n</code></pre>\n\n<p>or</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;response&gt;\n  &lt;requestId&gt;UUID&lt;/requestId&gt;\n  &lt;code&gt;err-1&lt;/code&gt;\n  &lt;message&gt;Filter has failed.&lt;/message&gt;\n&lt;/response&gt;\n</code></pre>\n\n<p>How can I get correct <code>messageConverter</code>?</p>\n"}, {"tags": ["java", "xml"], "comments": [{"owner": {"reputation": 22777, "user_id": 133203, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Fp3hB.jpg?s=128&g=1", "display_name": "Federico klez Culloca", "link": "https://stackoverflow.com/users/133203/federico-klez-culloca"}, "edited": false, "score": 1, "creation_date": 1566415687, "post_id": 57598080, "comment_id": 101653322, "body": "What library are you using?"}, {"owner": {"reputation": 77, "user_id": 11558862, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hw0Vt7f-cag/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfbDxPV5KZAu1_ht0thZ_qgGl184g/mo/photo.jpg?sz=128", "display_name": "Tyler Harrison", "link": "https://stackoverflow.com/users/11558862/tyler-harrison"}, "reply_to_user": {"reputation": 22777, "user_id": 133203, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Fp3hB.jpg?s=128&g=1", "display_name": "Federico klez Culloca", "link": "https://stackoverflow.com/users/133203/federico-klez-culloca"}, "edited": false, "score": 0, "creation_date": 1566463884, "post_id": 57598080, "comment_id": 101666864, "body": "@FedericoklezCulloca I am using the <code>w3c.dom</code> library and the <code>xml.parsers</code> library"}, {"owner": {"reputation": 22777, "user_id": 133203, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Fp3hB.jpg?s=128&g=1", "display_name": "Federico klez Culloca", "link": "https://stackoverflow.com/users/133203/federico-klez-culloca"}, "edited": false, "score": 0, "creation_date": 1566464917, "post_id": 57598080, "comment_id": 101667375, "body": "Once you have the object <code>Node</code> you can call <code>getParent()</code> twice to get to the tile, at which point you can extract its attributes with <code>getAttributes</code> and check the id. Or you can do the opposite and get all the tile <code>Node</code>s, ignore the ones you don&#39;t want and get their children."}, {"owner": {"reputation": 22777, "user_id": 133203, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Fp3hB.jpg?s=128&g=1", "display_name": "Federico klez Culloca", "link": "https://stackoverflow.com/users/133203/federico-klez-culloca"}, "edited": false, "score": 0, "creation_date": 1566464970, "post_id": 57598080, "comment_id": 101667400, "body": "Another way is to use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/jdk.xml.dom/org/w3c/dom/xpath/package-summary.html\" rel=\"nofollow noreferrer\">xpath</a>"}, {"owner": {"reputation": 6079, "user_id": 6694645, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/RWjiK.jpg?s=128&g=1", "display_name": "Dino", "link": "https://stackoverflow.com/users/6694645/dino"}, "edited": false, "score": 0, "creation_date": 1566485920, "post_id": 57598080, "comment_id": 101679555, "body": "title improvement"}], "owner": {"reputation": 77, "user_id": 11558862, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hw0Vt7f-cag/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfbDxPV5KZAu1_ht0thZ_qgGl184g/mo/photo.jpg?sz=128", "display_name": "Tyler Harrison", "link": "https://stackoverflow.com/users/11558862/tyler-harrison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566485920, "creation_date": 1566415615, "last_edit_date": 1566485920, "question_id": 57598080, "link": "https://stackoverflow.com/questions/57598080/java-xml-how-to-get-the-parents-and-parents-attributes-of-an-element", "title": "Java XML how to get the parents and parents attributes of an element?", "body": "<p>I have an XML tileset file for my game, like this: </p>\n\n<pre><code>&lt;tile id=\"200\"&gt;\n   &lt;objectgroup draworder=\"index\"&gt;\n       &lt;object id=\"10\" x=\"0\" y=\"0\" width=\"18\" height=\"32\"/&gt;\n   &lt;/objectgroup&gt;\n&lt;/tile&gt;\n</code></pre>\n\n<p>Every time I add something these elements get added every time,\nI want to get the <code>object</code> element, but there is multiple <code>object</code> elements in the file, basically I want to check if the <code>tile</code> element has the <code>id</code> attribute, if it doesn't then I don't want to get the <code>object</code> attributes. If there is no way, to do this, could someone explain a way to differentiate these object from other objects in the file.</p>\n"}, {"tags": ["java", "android", "xml", "android-studio", "android-layout"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11425246, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HCQ0u-kdcKU/AAAAAAAAAAI/AAAAAAAAACQ/hsWHTBRnQ7A/photo.jpg?sz=128", "display_name": "Engr Javed Abrar", "link": "https://stackoverflow.com/users/11425246/engr-javed-abrar"}, "edited": false, "score": 0, "creation_date": 1566419066, "post_id": 57598123, "comment_id": 101654654, "body": "Thanks man , Your Suggestions works for me. Again Thanks a lot."}], "tags": [], "owner": {"reputation": 433, "user_id": 8633758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71530e17cb1735434d44476942a25579?s=128&d=identicon&r=PG&f=1", "display_name": "Notsileous", "link": "https://stackoverflow.com/users/8633758/notsileous"}, "is_accepted": false, "score": 0, "last_activity_date": 1566415868, "creation_date": 1566415868, "answer_id": 57598123, "question_id": 57597992, "link": "https://stackoverflow.com/questions/57597992/i-want-to-show-title-description-and-price-in-my-cardviewrecyclerview-while-i/57598123#57598123", "title": "I want to show Title, Description and Price in my cardview+RecyclerView, while it shows only Title", "body": "<p>Never set it up in onBindViewHolder myself but if you are going to do that you should be like holder.mTitle.setText(\"\"); instead of using the actual class name. You instantiating the holder but then not using it.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 11425246, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HCQ0u-kdcKU/AAAAAAAAAAI/AAAAAAAAACQ/hsWHTBRnQ7A/photo.jpg?sz=128", "display_name": "Engr Javed Abrar", "link": "https://stackoverflow.com/users/11425246/engr-javed-abrar"}, "edited": false, "score": 0, "creation_date": 1566496215, "post_id": 57598735, "comment_id": 101684344, "body": "I can mark it but guide me how I can mark it,Accepted option is not seen here."}], "tags": [], "owner": {"reputation": 154, "user_id": 8454288, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NBTpVavO-Pc/AAAAAAAAAAI/AAAAAAAAAUY/nKp7nDSqrbQ/photo.jpg?sz=128", "display_name": "Fazal Jarral", "link": "https://stackoverflow.com/users/8454288/fazal-jarral"}, "is_accepted": false, "score": 0, "last_activity_date": 1566418945, "creation_date": 1566418945, "answer_id": 57598735, "question_id": 57597992, "link": "https://stackoverflow.com/questions/57597992/i-want-to-show-title-description-and-price-in-my-cardviewrecyclerview-while-i/57598735#57598735", "title": "I want to show Title, Description and Price in my cardview+RecyclerView, while it shows only Title", "body": "<p>in onBindViewHolder(), the specific data is assigned to the Views\nThis is how it should be done.</p>\n\n<pre><code> @Override\n    public void onBindViewHolder(@NonNull FertilizerViewHolder holder, int position) {\n\n        holder.imageView.setImageResource(myFertilizersList.get(position).getItemImage());\n        holder.mTitle.setText(myFertilizersList.get(position).getItemName());\n        holder.mDescription.setText(myFertilizersList.get(position).getItemName());\n        holder.mPrice.setText(myFertilizersList.get(position).getItemName());\n\n\n    }\n</code></pre>\n\n<p>let me know if that helps you out.</p>\n"}], "owner": {"reputation": 21, "user_id": 11425246, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HCQ0u-kdcKU/AAAAAAAAAAI/AAAAAAAAACQ/hsWHTBRnQ7A/photo.jpg?sz=128", "display_name": "Engr Javed Abrar", "link": "https://stackoverflow.com/users/11425246/engr-javed-abrar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 501, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566418945, "creation_date": 1566415165, "question_id": 57597992, "link": "https://stackoverflow.com/questions/57597992/i-want-to-show-title-description-and-price-in-my-cardviewrecyclerview-while-i", "title": "I want to show Title, Description and Price in my cardview+RecyclerView, while it shows only Title", "body": "<p>I want to show Title , Description and Price but it only shows Title everywhere in output screen, Please help me. Thanks in advance.</p>\n\n<p>I have created two activities , 1st is Fertilizers.java and 2nd is MyAdapter.java.\n My XML is working Properly while I think my adapter class has some issue due to which i,m not able to get my required output.</p>\n\n<p>Fertilizers.java code is here :</p>\n\n<pre><code>        public class Fertilizers extends AppCompatActivity {\n        RecyclerView mRecyclerView;\n        List&lt;FertilizersData&gt; myFertilizersList;\n        FertilizersData mFertilizersData;\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_fertilizers);\n\n        mRecyclerView = (RecyclerView)findViewById(R.id.recyclerView);\n\n\n        GridLayoutManager gridLayoutManager;\n        gridLayoutManager = new GridLayoutManager(Fertilizers.this, 1);\n        mRecyclerView.setLayoutManager(gridLayoutManager);\n\n        myFertilizersList = new ArrayList&lt;&gt;();\n        mFertilizersData = new FertilizersData(\"Urea Fertilizer\",\"Urea is a concentrated straight nitrogenous fertilizer that contains 46% nitrogen, which is a major plant nutrient. Nitrogen is a vital component of chlorophyll which is necessary for the photosynthesis process. It is applied to promote vegetative growth of crops and orchards in splits (basal &amp; top-dressing).\",\"Rs.1000\",R.drawable.urea_fertilizer);\n     //   myFertilizersList.add(mFertilizersData);\n\n        mFertilizersData = new FertilizersData(\"D.A.P\",\"Diammonium phosphate (DAP) is the world\u2019s most widely used phosphorus fertilizer. It\u2019s made from two common constituents in the fertilizer industry, and its relatively high nutrient content and excellent physical properties make it a popular choice in farming and other industries.\",\"Rs.1500\",R.drawable.dap_fertilizer);\n      //  myFertilizersList.add(mFertilizersData);\n\n        mFertilizersData = new FertilizersData(\"Nitro Phos\",\"Sarsabz Nitrophos (NP) is a granulated fertilizer in which each grain has equal amounts of Phosphorus (P) 20% &amp; Nitrogen (N) 22%. In addition to this, NP being a highly acidic product with a pH of 3.5, is the most suitable fertilizer for soils that have a high pH and are alkaline in nature.\",\"Rs.2700\",R.drawable.nitro_phos);\n        myFertilizersList.add(mFertilizersData);\n\n        MyAdapter   myAdapter = new MyAdapter(Fertilizers.this,myFertilizersList);\n        mRecyclerView.setAdapter(myAdapter);\n    }\n}\n</code></pre>\n\n<p>MyAdapter.java,s code is here:</p>\n\n<pre><code>     package com.example.e_agriculture10;\n\n     import android.content.Context;\n     import android.view.LayoutInflater;\n     import android.view.View;\n     import android.view.ViewGroup;\n     import android.widget.ImageView;\n     import android.widget.TextView;\n\n     import androidx.annotation.NonNull;\n     import androidx.cardview.widget.CardView;\n     import androidx.recyclerview.widget.RecyclerView;\n\n       import java.util.List;\n\n      public class MyAdapter extends                                             RecyclerView.Adapter&lt;FertilizerViewHolder&gt;{\n\n      private Context mContext;\n      private List&lt;FertilizersData&gt; myFertilizersList;\n\n      public MyAdapter(Context mContext, List&lt;FertilizersData&gt;  myFertilizersList) {\n        this.mContext = mContext;\n        this.myFertilizersList = myFertilizersList;\n    }\n\n    @Override\n    public FertilizerViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View mView = LayoutInflater.from(parent.getContext()).inflate(R.layout.recycler_row_item,parent,false);\n        return new FertilizerViewHolder(mView);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull FertilizerViewHolder holder, int position) {\n\n        FertilizerViewHolder.imageView.setImageResource(myFertilizersList.get(position).getItemImage());\n        FertilizerViewHolder.mTitle.setText(myFertilizersList.get(position).getItemName());\n        FertilizerViewHolder.mDescription.setText(myFertilizersList.get(position).getItemName());\n        FertilizerViewHolder.mPrice.setText(myFertilizersList.get(position).getItemName());\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return myFertilizersList.size();\n    }\n}\n\nclass FertilizerViewHolder extends RecyclerView.ViewHolder      {\n\n    static ImageView imageView;\n    static TextView mTitle;\n    static TextView mDescription;\n    static TextView mPrice;\n    static CardView mCardView;\n\n    public FertilizerViewHolder(View itemView) {\n        super(itemView);\n\n        imageView = itemView.findViewById(R.id.ivImage);\n        mTitle = itemView.findViewById(R.id.tvTitle);\n        mDescription = itemView.findViewById(R.id.tvDescription);\n        mPrice = itemView.findViewById(R.id.tvPrice);\n        mCardView = itemView.findViewById(R.id.myCardView);\n    }\n}\n</code></pre>\n\n<p>activity_fertilizers.xml is here:</p>\n\n<pre><code>package com.example.e_agriculture10;\n\n    import android.content.Context;\n    import android.view.LayoutInflater;\n    import android.view.View;\n    import android.view.ViewGroup;\n    import android.widget.ImageView;\n    import android.widget.TextView;\n\n    import androidx.annotation.NonNull;\n     import androidx.cardview.widget.CardView;\n    import androidx.recyclerview.widget.RecyclerView;\n\n    import java.util.List;\n\n    public class MyAdapter extends RecyclerView.Adapter&lt;FertilizerViewHolder&gt;{\n\n     private Context mContext;\n      private List&lt;FertilizersData&gt; myFertilizersList;\n\n     public MyAdapter(Context mContext, List&lt;FertilizersData&gt;  myFertilizersList) {\n        this.mContext = mContext;\n        this.myFertilizersList = myFertilizersList;\n      }\n\n    @Override\n     public FertilizerViewHolder onCreateViewHolder(@NonNull ViewGroup    parent, int viewType) {\n         View mView =   LayoutInflater.from(parent.getContext()).inflate(R.layout.recycler_row_item,parent,false);\n         return new FertilizerViewHolder(mView);\n     }\n\n    @Override\n      public void onBindViewHolder(@NonNull FertilizerViewHolder holder, int position) {\n\n          FertilizerViewHolder.imageView.setImageResource(myFertilizersList.get(position).getItemImage());\n        FertilizerViewHolder.mTitle.setText(myFertilizersList.get(position).getItemName());\n        FertilizerViewHolder.mDescription.setText(myFertilizersList.get(position).getItemName());\n        FertilizerViewHolder.mPrice.setText(myFertilizersList.get(position).getItemName());\n\n\n    }\n\n     @Override\n     public int getItemCount() {\n        return myFertilizersList.size();\n    }\n    }\n\n         class FertilizerViewHolder extends RecyclerView.ViewHolder      {\n\n       static ImageView imageView;\n       static TextView mTitle;\n        static TextView mDescription;\n       static TextView mPrice;\n        static CardView mCardView;\n\n        public FertilizerViewHolder(View itemView) {\n         super(itemView);\n\n        imageView = itemView.findViewById(R.id.ivImage);\n        mTitle = itemView.findViewById(R.id.tvTitle);\n        mDescription = itemView.findViewById(R.id.tvDescription);\n        mPrice = itemView.findViewById(R.id.tvPrice);\n        mCardView = itemView.findViewById(R.id.myCardView);\n       }\n        }\n</code></pre>\n\n<p>(recycler_row_item.xml) is here:</p>\n\n<pre><code>     &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n   &lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:orientation=\"vertical\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"250dp\"\n        android:id=\"@+id/myCardView\"\n        app:cardElevation=\"3dp\"\n        android:layout_margin=\"4dp\"\n        app:cardUseCompatPadding=\"true\"&gt;\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"vertical\"\n            android:weightSum=\"5.5\"&gt;\n            &lt;ImageView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0dp\"\n                android:id=\"@+id/ivImage\"\n                android:layout_weight=\"4\"\n                android:src=\"@drawable/urea_fertilizer\"\n                android:scaleType=\"centerCrop\"/&gt;\n            &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0dp\"\n                android:weightSum=\"2\"\n                android:layout_weight=\"1.5\"&gt;\n                &lt;LinearLayout\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"match_parent\"\n                    android:layout_weight=\"1.3\"\n                    android:padding=\"10dp\"\n                    android:orientation=\"vertical\"&gt;\n                    &lt;TextView\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:text=\"Title\"\n                        android:textSize=\"18sp\"\n                        android:maxLines=\"1\"\n                        android:id=\"@+id/tvTitle\" /&gt;\n                    &lt;TextView\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:text=\"Description\"\n                        android:textSize=\"18sp\"\n                        android:maxLines=\"1\"\n                        android:id=\"@+id/tvDescription\" /&gt;\n\n                &lt;/LinearLayout&gt;\n                &lt;LinearLayout\n                    android:layout_width=\"0dp\"\n                    android:layout_weight=\"0.7\"\n                    android:gravity=\"center\"\n                    android:layout_height=\"match_parent\"&gt;\n                    &lt;TextView\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:text=\"Rs.300\"\n                        android:textStyle=\"bold\"\n                        android:textSize=\"25sp\"\n                        android:textAlignment=\"center\"\n                        android:textColor=\"@color/colorPrimary\"\n                        android:id=\"@+id/tvPrice\" /&gt;\n\n                &lt;/LinearLayout&gt;\n            &lt;/LinearLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n&lt;/LinearLayout&gt;\n\nI want to show Title and Description and Price but it shows only title.\n</code></pre>\n"}, {"tags": ["java", "maven", "spring-boot", "soap", "junit"], "comments": [{"owner": {"reputation": 1110, "user_id": 10260396, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aa28aEUg1co/AAAAAAAAAAI/AAAAAAAAAEU/JNa4yCpKMGE/photo.jpg?sz=128", "display_name": "Qingfei Yuan", "link": "https://stackoverflow.com/users/10260396/qingfei-yuan"}, "edited": false, "score": 0, "creation_date": 1566418227, "post_id": 57597980, "comment_id": 101654336, "body": "WIll it be ok if only keep one pair of start/stop ? for example only for <code>com.nulogix.billing.mockserver.MockServerApp</code>"}, {"owner": {"reputation": 219, "user_id": 11831815, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zfeUG66j164/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3refVTWkuOZZE-kveYtko-mmD3z-bw/photo.jpg?sz=128", "display_name": "schooner_101", "link": "https://stackoverflow.com/users/11831815/schooner-101"}, "reply_to_user": {"reputation": 1110, "user_id": 10260396, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aa28aEUg1co/AAAAAAAAAAI/AAAAAAAAAEU/JNa4yCpKMGE/photo.jpg?sz=128", "display_name": "Qingfei Yuan", "link": "https://stackoverflow.com/users/10260396/qingfei-yuan"}, "edited": false, "score": 0, "creation_date": 1566418471, "post_id": 57597980, "comment_id": 101654442, "body": "@QingfeiYuan I also need my main app to run to successfully connect to soap endpoint when integration testing."}, {"owner": {"reputation": 1110, "user_id": 10260396, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aa28aEUg1co/AAAAAAAAAAI/AAAAAAAAAEU/JNa4yCpKMGE/photo.jpg?sz=128", "display_name": "Qingfei Yuan", "link": "https://stackoverflow.com/users/10260396/qingfei-yuan"}, "edited": false, "score": 0, "creation_date": 1566418552, "post_id": 57597980, "comment_id": 101654466, "body": "I know that. Just want to know if it is the root cause. If it is, We can have other workaround."}, {"owner": {"reputation": 219, "user_id": 11831815, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zfeUG66j164/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3refVTWkuOZZE-kveYtko-mmD3z-bw/photo.jpg?sz=128", "display_name": "schooner_101", "link": "https://stackoverflow.com/users/11831815/schooner-101"}, "reply_to_user": {"reputation": 1110, "user_id": 10260396, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aa28aEUg1co/AAAAAAAAAAI/AAAAAAAAAEU/JNa4yCpKMGE/photo.jpg?sz=128", "display_name": "Qingfei Yuan", "link": "https://stackoverflow.com/users/10260396/qingfei-yuan"}, "edited": false, "score": 0, "creation_date": 1566418876, "post_id": 57597980, "comment_id": 101654582, "body": "@QingfeiYuan Ah okay then yeah.It successfully starts on 28433 with just that port in integration phase"}, {"owner": {"reputation": 1110, "user_id": 10260396, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aa28aEUg1co/AAAAAAAAAAI/AAAAAAAAAEU/JNa4yCpKMGE/photo.jpg?sz=128", "display_name": "Qingfei Yuan", "link": "https://stackoverflow.com/users/10260396/qingfei-yuan"}, "edited": false, "score": 0, "creation_date": 1566419043, "post_id": 57597980, "comment_id": 101654646, "body": "if this plugin confirmed only allow one pair of start/stop. Then you have two merge 2 start into 1. The same to stop. I think."}, {"owner": {"reputation": 219, "user_id": 11831815, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zfeUG66j164/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3refVTWkuOZZE-kveYtko-mmD3z-bw/photo.jpg?sz=128", "display_name": "schooner_101", "link": "https://stackoverflow.com/users/11831815/schooner-101"}, "reply_to_user": {"reputation": 1110, "user_id": 10260396, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aa28aEUg1co/AAAAAAAAAAI/AAAAAAAAAEU/JNa4yCpKMGE/photo.jpg?sz=128", "display_name": "Qingfei Yuan", "link": "https://stackoverflow.com/users/10260396/qingfei-yuan"}, "edited": false, "score": 0, "creation_date": 1566450313, "post_id": 57597980, "comment_id": 101661180, "body": "@QingfeiYuan can you expand on that?"}], "answers": [{"tags": [], "owner": {"reputation": 219, "user_id": 11831815, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zfeUG66j164/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3refVTWkuOZZE-kveYtko-mmD3z-bw/photo.jpg?sz=128", "display_name": "schooner_101", "link": "https://stackoverflow.com/users/11831815/schooner-101"}, "is_accepted": true, "score": 1, "last_activity_date": 1566589817, "creation_date": 1566589817, "answer_id": 57632260, "question_id": 57597980, "link": "https://stackoverflow.com/questions/57597980/spring-boot-maven-integration-test-giving-classnotfoundexception/57632260#57632260", "title": "Spring Boot Maven Integration Test Giving ClassNotFoundException", "body": "<p>I got this to work by adding only one integration phase with my Main app since maven does not scan the src/test folder. I then created application context of my mock server and made it run before the test class. </p>\n\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n            &lt;mainClass&gt;com.nulogix.billing.App&lt;/mainClass&gt; \n        &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;pre-integration-test&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;start&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;post-integration-test&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;stop&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n\n        &lt;/plugin&gt;\n</code></pre>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = {EndPointTestConfiguration.class\n})\n\n\npublic class SoapIT {\nprivate static ApplicationContext context;\n    @BeforeClass\n    static public void  setup(){\n        SpringApplication springApplication = new SpringApplicationBuilder()           \n                .sources(MockServerApp.class)\n                .build();\n        context = springApplication.run();\n    }\n\n\n    @Autowired\n    private String studyDetailDemo;\n    @Test\n    public void soapTest() throws ClientProtocolException, IOException {\n        String result = Request.Post(\"https://127.0.0.1:28433/nulogix/ws/billingtool\")\n                .connectTimeout(2000)\n                .socketTimeout(2000)\n                .bodyString(\"testing\", ContentType.TEXT_PLAIN)\n                .execute().returnContent().asString();\n\n    }\n}\n</code></pre>\n\n<p>This will make my main app run pre-integration test and then launch my mockserver app before the test runs. Thus this launches both apps before the integration test and hits my soap call. </p>\n"}], "owner": {"reputation": 219, "user_id": 11831815, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zfeUG66j164/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3refVTWkuOZZE-kveYtko-mmD3z-bw/photo.jpg?sz=128", "display_name": "schooner_101", "link": "https://stackoverflow.com/users/11831815/schooner-101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 688, "favorite_count": 0, "accepted_answer_id": 57632260, "answer_count": 1, "score": 1, "last_activity_date": 1566589817, "creation_date": 1566415065, "question_id": 57597980, "link": "https://stackoverflow.com/questions/57597980/spring-boot-maven-integration-test-giving-classnotfoundexception", "title": "Spring Boot Maven Integration Test Giving ClassNotFoundException", "body": "<p>I have a spring boot project with two apps, one in src/test and one in src/main. I have two apps, one mediator to connect with a SOAP endpoint and one acting as a mock server for testing. </p>\n\n<p>I have an integration test checking if it will hit ( requires test app(port 9119) and main app(port 28433) to be up) </p>\n\n<p>I used maven spring boot plugin to configure to run both apps like this in my POM and also made it skip unit test when running mvn verify. </p>\n\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n             &lt;includePom&gt;true&lt;/includePom&gt;          \n        &lt;/configuration&gt;  \n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;pre-integration-test&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;start&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n               &lt;mainClass&gt;com.nulogix.billing.App&lt;/mainClass&gt;   \n                    &lt;/configuration&gt; \n\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;pre-integration-test2&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;start&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n               &lt;mainClass&gt;com.nulogix.billing.mockserver.MockServerApp&lt;/mainClass&gt;   \n                    &lt;/configuration&gt; \n\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;post-integration-test&lt;/id&gt;\n                    &lt;goals&gt;\n\n                         &lt;goal&gt;stop&lt;/goal&gt;                  \n                    &lt;/goals&gt;\n                     &lt;configuration&gt;\n               &lt;mainClass&gt;com.nulogix.billing.App&lt;/mainClass&gt;   \n                    &lt;/configuration&gt;\n\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;post-integration-test2&lt;/id&gt;\n                    &lt;goals&gt;\n\n                         &lt;goal&gt;stop&lt;/goal&gt;                  \n                    &lt;/goals&gt;\n                     &lt;configuration&gt;\n               &lt;mainClass&gt;com.nulogix.billing.mockserver.MockServerApp&lt;/mainClass&gt;   \n                    &lt;/configuration&gt;\n\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.18.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;integration-test&lt;/goal&gt;\n                        &lt;goal&gt;verify&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M3&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;skipTests&gt;true&lt;/skipTests&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>When I run mvn verify it loads 28433 in pre-integration phase but when it try to run 9119 in pre-integration phase 2 it gives this error:</p>\n\n<pre><code>java.lang.ClassNotFoundException: com.nulogix.billing.mockserver.MockServerApp\n    at java.net.URLClassLoader.findClass (URLClassLoader.java:436)\n    at java.lang.ClassLoader.loadClass (ClassLoader.java:588)\n    at java.lang.ClassLoader.loadClass (ClassLoader.java:521)\n    at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run (AbstractRunMojo.java:553)\n    at java.lang.Thread.run (Thread.java:835)\n</code></pre>\n\n<p>The class path directory is right. I tried adding a class scope in my pom to it but it didn't seem to fix the issue and gave me the same error. </p>\n\n<p>In the post-integration phase when it shuts down it gives this error which I assume just means it couldn't load the application context hence there is no bean found to shut it down </p>\n\n<pre><code>Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.1.0.RELEASE:stop (post-integration-test2) on project billing_mediator: Spring application lifecycle JMX bean not found (fork is null). Could not stop application gracefully: org.springframework.boot:type=Admin,name=SpringApplication -&gt; [Help 1]\n</code></pre>\n\n<p>When I run mvn -x for stack trace it automatically gives me a build failure and gives me this </p>\n\n<pre><code>org.apache.maven.lifecycle.NoGoalSpecifiedException: No goals have been specified for this build. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy.\n</code></pre>\n\n<p>Is this implying I have my POM setup wrong?</p>\n"}, {"tags": ["java", "eclipse"], "comments": [{"owner": {"reputation": 12675, "user_id": 636009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IIQJV.jpg?s=128&g=1", "display_name": "David Conrad", "link": "https://stackoverflow.com/users/636009/david-conrad"}, "edited": false, "score": 0, "creation_date": 1566415525, "post_id": 57597934, "comment_id": 101653249, "body": "Your ini file is probably wrong but how can anyone help you if they can&#39;t see it?"}, {"owner": {"reputation": 102407, "user_id": 2670892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4iPV5.png?s=128&g=1", "display_name": "greg-449", "link": "https://stackoverflow.com/users/2670892/greg-449"}, "edited": false, "score": 0, "creation_date": 1566417944, "post_id": 57597934, "comment_id": 101654240, "body": "Exit code 13 normally means you are mixing 32 and 64 bit. Both Eclipse and Java must be 64 bit or both 32 bit. Recent releases of Eclipse are 64 bit only."}], "answers": [{"tags": [], "owner": {"reputation": 345, "user_id": 6832959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9923bb35d82a37645f5045da9719f7a6?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/6832959/christopher"}, "is_accepted": false, "score": 0, "last_activity_date": 1566416372, "creation_date": 1566416372, "answer_id": 57598229, "question_id": 57597934, "link": "https://stackoverflow.com/questions/57597934/exit-code-on-eclipse-java/57598229#57598229", "title": "Exit Code on Eclipse Java", "body": "<p>The cause is probably java version (32 or 64 bit). Try to install jdk8</p>\n\n<p>Windows x86 202.73 MB   jdk-8u221-windows-i586.exe</p>\n\n<p>Windows x64 215.35 MB   jdk-8u221-windows-x64.exe</p>\n"}], "owner": {"reputation": 41, "user_id": 11263619, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qQ3ni10x5uQ/AAAAAAAAAAI/AAAAAAAABy0/YrPzkyzfv8I/photo.jpg?sz=128", "display_name": "Eliot Shedlock", "link": "https://stackoverflow.com/users/11263619/eliot-shedlock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566416372, "creation_date": 1566414863, "question_id": 57597934, "link": "https://stackoverflow.com/questions/57597934/exit-code-on-eclipse-java", "title": "Exit Code on Eclipse Java", "body": "<p>I keep getting Exit Code == 13 and Exit Code == 1 (changes on its mood). </p>\n\n<p>I have tried editing the ini file and adding -vm and then the directory path to the java file I need before the -vmargs, no, none of it works.</p>\n"}, {"tags": ["java", "rest", "http", "https", "get"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6094972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4dc263cf3e40f8136e044f917f1ae16?s=128&d=identicon&r=PG&f=1", "display_name": "Konstantin P.", "link": "https://stackoverflow.com/users/6094972/konstantin-p"}, "edited": false, "score": 0, "creation_date": 1566461340, "post_id": 57598126, "comment_id": 101665673, "body": "Hi Daniel, thank you for your corrections. My problem is that call to https rest api which calls http rest api doesn&#39;t return anything, no matter that i can see http rest api returns the value. Do you think that &quot;content&quot; thing will help? I return the responce to controller and it returns the responce of the type ResponseEntity&lt;String&gt; directly to user. So I think i do return the content of http strait away to https. But still nothing."}, {"owner": {"reputation": 13, "user_id": 6094972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4dc263cf3e40f8136e044f917f1ae16?s=128&d=identicon&r=PG&f=1", "display_name": "Konstantin P.", "link": "https://stackoverflow.com/users/6094972/konstantin-p"}, "edited": false, "score": 0, "creation_date": 1566461345, "post_id": 57598126, "comment_id": 101665678, "body": "When I&#39;ve checked the response of the http - the data was of the type &quot;chunked data&quot;. Could it be the case that I wait for the json and that&#39;s the reason the output marked as 502 error? So could it be fixed probably with additional headers somehow?"}, {"owner": {"reputation": 36, "user_id": 4763898, "user_type": "registered", "profile_image": "https://graph.facebook.com/885922058130949/picture?type=large", "display_name": "Daniel Fuchs", "link": "https://stackoverflow.com/users/4763898/daniel-fuchs"}, "reply_to_user": {"reputation": 13, "user_id": 6094972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4dc263cf3e40f8136e044f917f1ae16?s=128&d=identicon&r=PG&f=1", "display_name": "Konstantin P.", "link": "https://stackoverflow.com/users/6094972/konstantin-p"}, "edited": false, "score": 0, "creation_date": 1567430804, "post_id": 57598126, "comment_id": 101951855, "body": "Sorry for the long time since my last reply, was on vacation. My guess is that you should wait for all data chunks, then parse them as a String and after that send the answer back with your HTTPS request."}, {"owner": {"reputation": 36, "user_id": 4763898, "user_type": "registered", "profile_image": "https://graph.facebook.com/885922058130949/picture?type=large", "display_name": "Daniel Fuchs", "link": "https://stackoverflow.com/users/4763898/daniel-fuchs"}, "reply_to_user": {"reputation": 13, "user_id": 6094972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4dc263cf3e40f8136e044f917f1ae16?s=128&d=identicon&r=PG&f=1", "display_name": "Konstantin P.", "link": "https://stackoverflow.com/users/6094972/konstantin-p"}, "edited": false, "score": 0, "creation_date": 1567431586, "post_id": 57598126, "comment_id": 101952200, "body": "Also this answer here could help you, just give it a try: <a href=\"https://stackoverflow.com/a/30960274/4763898\">stackoverflow.com/a/30960274/4763898</a>"}], "tags": [], "owner": {"reputation": 36, "user_id": 4763898, "user_type": "registered", "profile_image": "https://graph.facebook.com/885922058130949/picture?type=large", "display_name": "Daniel Fuchs", "link": "https://stackoverflow.com/users/4763898/daniel-fuchs"}, "is_accepted": false, "score": 0, "last_activity_date": 1566416195, "last_edit_date": 1566416195, "creation_date": 1566415890, "answer_id": 57598126, "question_id": 57597895, "link": "https://stackoverflow.com/questions/57597895/calling-http-rest-api-from-https-rest-api-with-error-502/57598126#57598126", "title": "Calling http rest api from https rest api with error 502", "body": "<p>You got a few small issues in your code\nThe last line (return statement) needs to finish with a semicolon and you wrote \u201eresponce\u201c instead of \u201eresponse\u201c.</p>\n\n<pre><code>public ResponseEntity&lt;String&gt; function()\n{\n  RestTemplate restTemplate = new RestTemplate();\n  String myUrl = \"http://xxxxxx:8081\";\n  ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(myUrl + \"/api/test/suspend/12\", String.class);\n  return response;\n}\n</code></pre>\n\n<p>You should additionally use the content of the response of the HTTP request and use it as the content of your actual HTTPS request, otherwise you will mix the requests which will not work.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 6094972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4dc263cf3e40f8136e044f917f1ae16?s=128&d=identicon&r=PG&f=1", "display_name": "Konstantin P.", "link": "https://stackoverflow.com/users/6094972/konstantin-p"}, "edited": false, "score": 0, "creation_date": 1566460876, "post_id": 57598286, "comment_id": 101665471, "body": "Christopher, thank you for your answer. If I won&#39;t use authorisation in postman then my https rest api which calls http rest api won&#39;t be available because of no security token."}], "tags": [], "owner": {"reputation": 345, "user_id": 6832959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9923bb35d82a37645f5045da9719f7a6?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/6832959/christopher"}, "is_accepted": false, "score": 0, "last_activity_date": 1566416703, "creation_date": 1566416703, "answer_id": 57598286, "question_id": 57597895, "link": "https://stackoverflow.com/questions/57597895/calling-http-rest-api-from-https-rest-api-with-error-502/57598286#57598286", "title": "Calling http rest api from https rest api with error 502", "body": "<p>In postman, under Authorization tab, there is Type listbox, please select \"No Auth\"</p>\n"}], "owner": {"reputation": 13, "user_id": 6094972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4dc263cf3e40f8136e044f917f1ae16?s=128&d=identicon&r=PG&f=1", "display_name": "Konstantin P.", "link": "https://stackoverflow.com/users/6094972/konstantin-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2214, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566416703, "creation_date": 1566414676, "question_id": 57597895, "link": "https://stackoverflow.com/questions/57597895/calling-http-rest-api-from-https-rest-api-with-error-502", "title": "Calling http rest api from https rest api with error 502", "body": "<p>I call my https REST APi that calls http api on another server using Postman, and it returns 502 bad gateway error. Authentication for https API is set in a header and accept:application/json as well. All other https rest apis that not calling ohter http apis on remote server works fine.</p>\n\n<p>I've created REST APIs with authentication using SpringBoot. There are GET and POST methods. They all have URL like https://.... Before calling them, user has to get a security token. Those Rest apis are available as war file residing on Server_1 deployed in tomcat. From a number of the APIs, I call another Rest services residing as jar file on another Server_2 and its URL has a URL like http://.... When I call one https rest api residing in war file on Server_1, the request goes through to Server_2. Http rest api on Server_2 answers with the JSON file. I can see it in the logs of Server_2, plus I've captured the http traffic between servers. It looks like http rest api receives the request and sends the answer back, but then https RestApi from Server_1 rejects the answer because it's not encrypted and gives bad gateway 502 error. If there is any way to fix this error?</p>\n\n<p>//This is how I call http rest api on server 2. This code is part of https rest api on Server 1(war file in tomcat)</p>\n\n<pre><code>public ResponseEntity&lt;String&gt; function()\n{\nRestTemplate restTemplate = new RestTemplate();\nString myUrl = \"http://xxxxxx:8081\";\nResponseEntity&lt;String&gt; response = restTemplate.getForEntity(myUrl + \"/api/test/suspend/12\", String.class);\nreturn responce\n}\n</code></pre>\n"}, {"tags": ["java", "android", "android-studio", "webview", "fullscreen"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 11958786, "user_type": "registered", "profile_image": "https://graph.facebook.com/2704792802885944/picture?type=large", "display_name": "Jake Muller", "link": "https://stackoverflow.com/users/11958786/jake-muller"}, "is_accepted": false, "score": 1, "last_activity_date": 1566506993, "creation_date": 1566506993, "answer_id": 57616870, "question_id": 57597866, "link": "https://stackoverflow.com/questions/57597866/android-soft-keyboard-will-not-display-after-enabling-youtube-video-to-return-fr/57616870#57616870", "title": "Android soft-keyboard will not display after enabling youtube video to return from full screen", "body": "<p>just had to clear the focus on the webview</p>\n\n<p>public void onHideCustomView()\n        {</p>\n\n<pre><code>        ((FrameLayout)getWindow().getDecorView()).removeView(this.mCustomView);\n\n\n        this.mCustomView = null;\n        getWindow().getDecorView().setSystemUiVisibility(this.mOriginalSystemUiVisibility);\n        setRequestedOrientation(this.mOriginalOrientation);\n        this.mCustomViewCallback.onCustomViewHidden();\n        this.mCustomViewCallback = null;\n        myWebView.clearFocus();\n\n\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9893403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13c970b79ad034cf326ae3d1c0792e64?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Sunil Masram", "link": "https://stackoverflow.com/users/9893403/akshay-sunil-masram"}, "is_accepted": false, "score": 0, "last_activity_date": 1585391677, "creation_date": 1585391677, "answer_id": 60899998, "question_id": 57597866, "link": "https://stackoverflow.com/questions/57597866/android-soft-keyboard-will-not-display-after-enabling-youtube-video-to-return-fr/60899998#60899998", "title": "Android soft-keyboard will not display after enabling youtube video to return from full screen", "body": "<p>Just clear the focus of webview it worked.</p>\n\n<pre><code> public void onHideCustomView()\n    {\n\n        ((FrameLayout)MainUI.this.getWindow().getDecorView()).removeView(this.mCustomView);\n        this.mCustomView = null;\n        MainUI.this.getWindow().getDecorView()\n                .setSystemUiVisibility(this.mOriginalSystemUiVisibility);\n        MainUI.this.setRequestedOrientation(this.mOriginalOrientation);\n        this.mCustomViewCallback.onCustomViewHidden();\n        this.mCustomViewCallback = null;\n\n        ((FrameLayout)getWindow().getDecorView()).removeView(this.mCustomView);\n        webView.clearFocus();\n  }\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11958786, "user_type": "registered", "profile_image": "https://graph.facebook.com/2704792802885944/picture?type=large", "display_name": "Jake Muller", "link": "https://stackoverflow.com/users/11958786/jake-muller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 276, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1585391677, "creation_date": 1566414544, "question_id": 57597866, "link": "https://stackoverflow.com/questions/57597866/android-soft-keyboard-will-not-display-after-enabling-youtube-video-to-return-fr", "title": "Android soft-keyboard will not display after enabling youtube video to return from full screen", "body": "<p>My app makes heavy use of youtube videos to answer questions about products and installs of these products. Just for context, I am a full stack web developer and have only a month of java/android studio development under my belt. The app in written in only javascript and css and i use the android webview to display it as an app. Currently, I have a web chrome client that hides the full youtube video and also display the full screen youtube video. Once one video is full screen and then back to normal view, if i tap on a input field the key board does not display and i get the message in the debugger.  </p>\n\n<p>\"I/AssistStructure: Flattened final assist data: 1928 bytes, containing 1 windows, 5 views\"</p>\n\n<p>Thinking it is from the web chrome client hiding the custom view.  </p>\n\n<p>thinking that the answer is to check if the view is the keyboard, and not execute the \nonHideCustomView(); but i am not exactly sure this is the case or if i am just doing something stupid. </p>\n\n<p>below is the code of most of the app or enough for context.  </p>\n\n<p>Thank you guys for taking the time to help me out. </p>\n\n<p>Also any pointers if i can improve this process would be appreciated as well. </p>\n\n<p>Thank You :)</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    getSupportActionBar().hide();\n    myWebView = new WebView(this);\n    setContentView(myWebView);\n    myWebView.setWebChromeClient(new MyChrome());\n    myWebView.setWebViewClient(new WebViewClient());\n    myWebView.loadUrl(\"url\");\n\n    WebSettings webSettings = myWebView.getSettings();\n    webSettings.setJavaScriptEnabled(true);\n    myWebView.requestFocus(View.FOCUS_DOWN);\n\n\n}\n\n@RequiresApi(api = Build.VERSION_CODES.KITKAT)\npublic boolean onKeyDown (int keyCode, KeyEvent event) {\n    if (keyCode == KeyEvent.KEYCODE_BACK) {\n        String webUrl = myWebView.getUrl();\n        if (webUrl.indexOf(\"directory/url\") &lt; 0){\n\n                myWebView.loadUrl(\"url\");\n\n\n            return true;\n        }else {\n            myWebView.loadUrl(\"javascript:android();\");\n            return true;\n        }\n\n    }\n    return super.onKeyDown(keyCode, event);\n\n}\n\n\nprivate class MyChrome extends WebChromeClient {\n\n    private View mCustomView;\n    private WebChromeClient.CustomViewCallback mCustomViewCallback;\n    protected FrameLayout mFullscreenContainer;\n    private int mOriginalOrientation;\n    private int mOriginalSystemUiVisibility;\n\n    MyChrome() {}\n\n\n\n    public void onHideCustomView()\n    {\n        ((FrameLayout)getWindow().getDecorView()).removeView(this.mCustomView);\n        this.mCustomView = null;\n        getWindow().getDecorView().setSystemUiVisibility(this.mOriginalSystemUiVisibility);\n        setRequestedOrientation(this.mOriginalOrientation);\n        this.mCustomViewCallback.onCustomViewHidden();\n        this.mCustomViewCallback = null;\n    }\n\n    public void onShowCustomView(View paramView, WebChromeClient.CustomViewCallback paramCustomViewCallback)\n    {\n        if (this.mCustomView != null)\n        {\n            onHideCustomView();\n            return;\n        }\n        this.mCustomView = paramView;\n        this.mOriginalSystemUiVisibility = getWindow().getDecorView().getSystemUiVisibility();\n        this.mOriginalOrientation = getRequestedOrientation();\n        this.mCustomViewCallback = paramCustomViewCallback;\n        ((FrameLayout)getWindow().getDecorView()).addView(this.mCustomView, new FrameLayout.LayoutParams(-1, -1));\n        getWindow().getDecorView().setSystemUiVisibility(3846);\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "java", "reactjs", "react-router", "dropwizard"], "comments": [{"owner": {"reputation": 1900, "user_id": 1424833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00623dff0c06eceb6bd8bf809fd170d3?s=128&d=identicon&r=PG", "display_name": "Matt Holland", "link": "https://stackoverflow.com/users/1424833/matt-holland"}, "edited": false, "score": 0, "creation_date": 1566429622, "post_id": 57597835, "comment_id": 101657679, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/45560374/configuration-changes-in-dropwizard-application-to-work-with-react-browserhistor\">Configuration changes in dropwizard application to work with react browserHistory</a>"}], "owner": {"reputation": 77, "user_id": 11954373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d13858d64552d6800ddb4f5a49607169?s=128&d=identicon&r=PG&f=1", "display_name": "BlahZayBlahZay", "link": "https://stackoverflow.com/users/11954373/blahzayblahzay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1566414384, "creation_date": 1566414384, "question_id": 57597835, "link": "https://stackoverflow.com/questions/57597835/serving-react-with-dropwizard-where-there-are-react-routers", "title": "Serving React with DropWizard where there are React-Routers?", "body": "<p>In my App.js:</p>\n\n<pre><code>  render() {\n    return (\n      &lt;Router&gt;\n        &lt;div className=\"App\"&gt;\n          &lt;Header /&gt;\n          &lt;div className=\"App-body\"&gt;\n            &lt;Route\n              exact path='/set/employees'\n              render={(props) =&gt; (\n                ...\n              )}\n            /&gt;\n            &lt;Route\n              exact path='/set/om'\n              render={(props) =&gt; (\n                ...\n              )}\n            /&gt;\n            &lt;Route\n              exact path='/set/legal'\n              render={(props) =&gt; (\n                ...\n              )}\n            /&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/Router&gt;\n    );\n  }\n</code></pre>\n\n<p>In the Application class for my DropWizard project:</p>\n\n<pre><code>  public void initialize(final Bootstrap&lt;lspireConfiguration&gt; bootstrap) {\n        bootstrap.addBundle(new AssetsBundle(\"/assets/build/\", \"/\"));\n\n    }\n</code></pre>\n\n<p>As you can see, I'm serving at localhost:8080/index.html, which renders the App.js page. However, I want to implement with React-Router so if I go to the path I set in a Route i.e. /set/legal, it would render those components inside. Not sure how to accomplish that and what routes I'd even be hitting.</p>\n"}, {"tags": ["java", "java-8", "java-stream"], "comments": [{"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 1, "creation_date": 1566413751, "post_id": 57597684, "comment_id": 101652475, "body": "There is no need to use streams here. For loops are simpler."}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 2, "creation_date": 1566413844, "post_id": 57597684, "comment_id": 101652516, "body": "Aside: don&#39;t use <code>outterMap.get(type)</code>, loop over <code>outterMap.entrySet()</code> instead of <code>keySet()</code>, and get the key and value together."}, {"owner": {"reputation": 34704, "user_id": 1746118, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/a4a3P.png?s=128&g=1", "display_name": "Naman", "link": "https://stackoverflow.com/users/1746118/naman"}, "edited": false, "score": 1, "creation_date": 1566445066, "post_id": 57597684, "comment_id": 101660166, "body": "For the current use case, <code>outerMap.forEach((type, innerMap) -&gt; innerMap.values().stream()                 .map(value -&gt; type.equals(Type.TEXT) ? &quot;TEXT: &quot; : &quot;INTEGER: &quot; + value)                 .forEach(System.out::println));</code>.. ofcourse if there are multiple enum values, you could have a utility method to return the prefix of the string and call that instead."}, {"owner": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "reply_to_user": {"reputation": 34704, "user_id": 1746118, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/a4a3P.png?s=128&g=1", "display_name": "Naman", "link": "https://stackoverflow.com/users/1746118/naman"}, "edited": false, "score": 0, "creation_date": 1566470271, "post_id": 57597684, "comment_id": 101670304, "body": "@Naman or just use <code>outerMap.forEach((type, innerMap) -&gt; innerMap.values().forEach(value -&gt; System.out.println(type.name()+&quot;: &quot;+value)));</code>"}], "answers": [{"comments": [{"owner": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 1, "creation_date": 1566470059, "post_id": 57597780, "comment_id": 101670191, "body": "What\u2019s the point of streaming over the keys of a map and calling <code>getOrDefault</code> on the same map? The key should always be present and when you iterate over the <code>entrySet</code> in the first place, you don\u2019t even need a lookup at all."}], "tags": [], "owner": {"reputation": 101145, "user_id": 1059372, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/W6OMC.png?s=128&g=1", "display_name": "Eugene", "link": "https://stackoverflow.com/users/1059372/eugene"}, "is_accepted": false, "score": 3, "last_activity_date": 1566414116, "creation_date": 1566414116, "answer_id": 57597780, "question_id": 57597684, "link": "https://stackoverflow.com/questions/57597684/stream-over-nested-hashmap-with-condition/57597780#57597780", "title": "Stream over nested HashMap with condition", "body": "<p>Probably this:</p>\n\n<pre><code>outterMap.keySet()\n         .stream()\n         .flatMap(x -&gt; outterMap.getOrDefault(x, Collections.emptyMap())\n                                .values()\n                                .stream()\n                                .map(y -&gt; new SimpleEntry&lt;&gt;(x, y)))\n         .forEachOrdered(entry -&gt; {\n               System.out.println(entry.getKey() + \"  \" + entry.getValue());\n         });\n</code></pre>\n\n<p>But this is by far less readable than what you have.</p>\n"}, {"tags": [], "owner": {"reputation": 14375, "user_id": 3888766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eClVG.jpg?s=128&g=1", "display_name": "Fullstack Guy", "link": "https://stackoverflow.com/users/3888766/fullstack-guy"}, "is_accepted": false, "score": 0, "last_activity_date": 1566414125, "creation_date": 1566414125, "answer_id": 57597782, "question_id": 57597684, "link": "https://stackoverflow.com/questions/57597684/stream-over-nested-hashmap-with-condition/57597782#57597782", "title": "Stream over nested HashMap with condition", "body": "<p>You can stream on the outer <code>Map#entrySet</code> and get each entry and print out the key of the outer <code>Map.Entry</code> and values of the inner <code>Map</code> in the <code>forEach()</code> callback:</p>\n\n<pre><code>outterMap.entrySet()\n         .stream()\n         .forEach(e -&gt; e.getValue()\n                        .values()\n                        .forEach(v -&gt; System.out.println(e.getKey()+ \" \" + v)));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>TEXT test1\nTEXT test2\nTEXT test3\nTEXT test4\nINTEGER test7\nINTEGER test5\nINTEGER test6\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1708, "user_id": 10515734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tfrpy.jpg?s=128&g=1", "display_name": "Butiri Dan", "link": "https://stackoverflow.com/users/10515734/butiri-dan"}, "is_accepted": false, "score": 0, "last_activity_date": 1566466387, "last_edit_date": 1566466387, "creation_date": 1566419464, "answer_id": 57598827, "question_id": 57597684, "link": "https://stackoverflow.com/questions/57597684/stream-over-nested-hashmap-with-condition/57598827#57598827", "title": "Stream over nested HashMap with condition", "body": "<p>What about</p>\n\n<pre><code>outterMap.keySet().forEach(type -&gt; outterMap.get(type)\n        .values()\n        .stream()\n        .map(value -&gt; transform(type, value))\n        .forEach(System.out::println));\n</code></pre>\n\n<p>And</p>\n\n<pre><code>String transform(final Scratch.Type type, final String value) {\n    return type + \": \" + value;\n}\n</code></pre>\n"}], "owner": {"reputation": 1451, "user_id": 7841415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/181384e19cc5990e7f1a3664f998aa1f?s=128&d=identicon&r=PG&f=1", "display_name": "Suule", "link": "https://stackoverflow.com/users/7841415/suule"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 489, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1566466387, "creation_date": 1566413551, "last_edit_date": 1566414292, "question_id": 57597684, "link": "https://stackoverflow.com/questions/57597684/stream-over-nested-hashmap-with-condition", "title": "Stream over nested HashMap with condition", "body": "<p>Let's assume that we have some <code>Map</code> structere like below:</p>\n\n<pre><code>Map&lt;Type, Map&lt;String, String&gt;&gt; outterMap = new HashMap&lt;&gt;();\nMap&lt;String, String&gt; innerMap1 = new HashMap&lt;&gt;();\n\ninnerMap1.put(\"1\", \"test1\");\ninnerMap1.put(\"2\", \"test2\");\ninnerMap1.put(\"3\", \"test3\");\ninnerMap1.put(\"4\", \"test4\");\n\nMap&lt;String, String&gt; innerMap2 = new HashMap&lt;&gt;();\n\ninnerMap2.put(\"5\", \"test5\");\ninnerMap2.put(\"6\", \"test6\");\ninnerMap2.put(\"3\", \"test7\");\n\noutterMap.put(Type.TEXT, innerMap1);\noutterMap.put(Type.INTEGER, innerMap2);\n</code></pre>\n\n<p>and we would like to print all values from innerMap with assigned <code>Type</code> enum. With foreach loop it would look like this:</p>\n\n<pre><code>for (Type type : outterMap.keySet()) {\n    for (String value : outterMap.get(type).values()) {\n        if(type.equals(Type.TEXT)) {\n            System.out.println(\"TEXT: \" + value);\n        }else if(type.equals(Type.INTEGER)) {\n            System.out.println(\"INTEGER: \" + value);\n        }\n    }\n}\n</code></pre>\n\n<p>So the output on console would looks like this:</p>\n\n<pre><code>TEXT: test1\nTEXT: test2\nTEXT: test3\nTEXT: test4\nINTEGER: test7\nINTEGER: test5\nINTEGER: test6\n</code></pre>\n\n<p>Is there any option to write it with help of the streams. I was able to use stream with lambda, and it looks like this:</p>\n\n<pre><code>outterMap.keySet().stream().forEach(type -&gt; {\n            outterMap.get(type)\n            .values()\n            .stream()\n            .forEach(value -&gt; {\n                if(type.equals(Type.TEXT)) {\n                    System.out.println(\"TEXT: \" + value);\n                } else if (type.equals(Type.INTEGER)) {\n                    System.out.println(\"INTEGER: \" + value);\n                }\n            });\n        });\n</code></pre>\n"}, {"tags": ["java", "lambda", "java-8", "java-stream", "collectors"], "answers": [{"tags": [], "owner": {"reputation": 10726, "user_id": 4956907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ypfs.jpg?s=128&g=1", "display_name": "michalk", "link": "https://stackoverflow.com/users/4956907/michalk"}, "is_accepted": false, "score": 8, "last_activity_date": 1566446395, "last_edit_date": 1566446395, "creation_date": 1566413129, "answer_id": 57597590, "question_id": 57597518, "link": "https://stackoverflow.com/questions/57597518/how-to-filter-a-map-with-java-stream-api/57597590#57597590", "title": "How to filter a map with Java stream api?", "body": "<p>You can achieve this by using something like this :</p>\n\n<pre><code>List&lt;String&gt; values = map.entrySet()\n                .stream()\n                .filter(entry -&gt; picks.contains(entry.getKey()))\n                .map(Map.Entry::getValue)\n                .collect(Collectors.toList());\n\nvalues.forEach(System.out::println);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>f\na\n</code></pre>\n\n<p>However it might not be efficient as <code>List::contains</code> is O(N). Consider using a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a> (for example <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashSet.html\" rel=\"nofollow noreferrer\"><code>HashSet</code></a>) instead of <code>List</code> for <code>picks</code> as <code>HashSet::contains</code> is O(1).</p>\n"}, {"tags": [], "owner": {"reputation": 14375, "user_id": 3888766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eClVG.jpg?s=128&g=1", "display_name": "Fullstack Guy", "link": "https://stackoverflow.com/users/3888766/fullstack-guy"}, "is_accepted": true, "score": 7, "last_activity_date": 1618778179, "last_edit_date": 1618778179, "creation_date": 1566413234, "answer_id": 57597614, "question_id": 57597518, "link": "https://stackoverflow.com/questions/57597518/how-to-filter-a-map-with-java-stream-api/57597614#57597614", "title": "How to filter a map with Java stream api?", "body": "<p>You can use <code>List.contains()</code> in the <code>Stream#filter</code> to only accept those values which are present in the list:</p>\n<pre><code>List&lt;String&gt; result = map.entrySet()\n   .stream()\n   .filter(ent -&gt; picks.contains(ent.getKey()))\n   .map(Map.Entry::getValue)     \n   .collect(Collectors.toList());\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10726, "user_id": 4956907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ypfs.jpg?s=128&g=1", "display_name": "michalk", "link": "https://stackoverflow.com/users/4956907/michalk"}, "edited": false, "score": 2, "creation_date": 1566447165, "post_id": 57601306, "comment_id": 101660519, "body": "This is a very good solution. However you should also filter out <code>null</code> values after <code>map</code> operation as <code>Map::get()</code> will return <code>null</code> for non existing keys in the map for values from <code>picks</code>."}], "tags": [], "owner": {"reputation": 18059, "user_id": 4108590, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/qDozH.jpg?s=128&g=1", "display_name": "Ravindra Ranwala", "link": "https://stackoverflow.com/users/4108590/ravindra-ranwala"}, "is_accepted": false, "score": 5, "last_activity_date": 1566655049, "last_edit_date": 1566655049, "creation_date": 1566440868, "answer_id": 57601306, "question_id": 57597518, "link": "https://stackoverflow.com/questions/57597518/how-to-filter-a-map-with-java-stream-api/57601306#57601306", "title": "How to filter a map with Java stream api?", "body": "<p>You don't need to traverse the entire map just to collect picked values. Rather iterate over the required keys and grab the relevant values from the map. If the map is far more larger compared to the values you need to pick which is usually the case, then this approach should outperform the other. Moreover this solution is much more compact and has less visual clutter to me. Here's how it looks.</p>\n\n<pre><code>List&lt;String&gt; pickedValues = picks.stream().map(map::get)\n    .filter(Objects::nonNull)\n    .collect(Collectors.toList());\n</code></pre>\n"}], "owner": {"reputation": 2187, "user_id": 923988, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ec149bc8592beac68d12eec2b2a62e9e?s=128&d=identicon&r=PG", "display_name": "Patty", "link": "https://stackoverflow.com/users/923988/patty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1838, "favorite_count": 2, "accepted_answer_id": 57597614, "answer_count": 3, "score": 8, "last_activity_date": 1618778179, "creation_date": 1566412775, "last_edit_date": 1618778151, "question_id": 57597518, "link": "https://stackoverflow.com/questions/57597518/how-to-filter-a-map-with-java-stream-api", "title": "How to filter a map with Java stream api?", "body": "<pre><code>Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\n  map.put(1, &quot;f&quot;);\n  map.put(2, &quot;I&quot;);\n  map.put(3, &quot;a&quot;);\n  map.put(4, &quot;c&quot;);....etc\n</code></pre>\n<p>Now I have a list:</p>\n<pre><code>List&lt;Integer&gt; picks = {1,3}\n</code></pre>\n<p>I would like to get back a list of Strings, ie, values from map that matches the key values, found in the 'pick' list.So, <strong>I am expecting to get back {&quot;f&quot;, &quot;a&quot;} as result</strong>. Is there a way to use <strong>java stream api</strong> to do it in elegant way?</p>\n<p>When there is one value , I am doing it this way:</p>\n<pre><code>map.entrySet().stream()\n   .filter(entry -&gt; &quot;a&quot;.equals(entry.getValue()))\n   .map(entry -&gt; entry.getValue())\n   .collect(Collectors.toList())\n</code></pre>\n<p>But getting hard time when there is a list of keys/picks to filter with.</p>\n"}, {"tags": ["java", "testing", "mockito"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4367461"}, "edited": false, "score": 0, "creation_date": 1566412357, "post_id": 57597414, "comment_id": 101651899, "body": "I would try debugging and see what is null at that point"}, {"owner": {"reputation": 3646, "user_id": 11514534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10ca983c4ac8bcb07661de28130b991?s=128&d=identicon&r=PG&f=1", "display_name": "second", "link": "https://stackoverflow.com/users/11514534/second"}, "edited": false, "score": 0, "creation_date": 1566413250, "post_id": 57597414, "comment_id": 101652274, "body": "If the info you posted is correct <code>savingsProductService</code> is likely to be null. You did not include where and how you have created the mock for it."}, {"owner": {"reputation": 89, "user_id": 11958714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e6d063cdda32bdb9ea7fe5a9594847e?s=128&d=identicon&r=PG&f=1", "display_name": "gar", "link": "https://stackoverflow.com/users/11958714/gar"}, "edited": false, "score": 0, "creation_date": 1566414286, "post_id": 57597414, "comment_id": 101652686, "body": "it is failing before calling rest end point.at line savingsProductRepository.findByName(name).map(SavingsProduct&zwnj;&#8203;Mapper::map);.......&zwnj;&#8203;savingsProductReposi&zwnj;&#8203;tory.findByName(name&zwnj;&#8203;) this is returning null. So it is throwing null pointer. i have doubt if i am mocking service api then why it is checking inside code. i guess i have to mock repository api also . but not sure how ???"}, {"owner": {"reputation": 3646, "user_id": 11514534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10ca983c4ac8bcb07661de28130b991?s=128&d=identicon&r=PG&f=1", "display_name": "second", "link": "https://stackoverflow.com/users/11514534/second"}, "edited": false, "score": 0, "creation_date": 1566415177, "post_id": 57597414, "comment_id": 101653094, "body": "You will probably have to ask a new question. Avoid that the title includes the mentioning of the <code>NPE</code>, instead name it something like &#39;mock for savingProductRepository not working&#39;. Include the class, its constructors and dependencies as well as the complete unit test (including the creation of the mocks and what runner you are using). If you do that its less likely that your question gets closed immediately. Also include the full stacktrace of the exception."}], "owner": {"reputation": 89, "user_id": 11958714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e6d063cdda32bdb9ea7fe5a9594847e?s=128&d=identicon&r=PG&f=1", "display_name": "gar", "link": "https://stackoverflow.com/users/11958714/gar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "closed_date": 1566413053, "answer_count": 0, "score": 0, "last_activity_date": 1566414674, "creation_date": 1566412265, "last_edit_date": 1566414674, "question_id": 57597414, "link": "https://stackoverflow.com/questions/57597414/giving-null-pointer-exception", "closed_reason": "Duplicate", "title": "giving null pointer exception", "body": "<p>mocking one service api  which is again calling repository api it is giving nullpointer exception</p>\n\n<p>creating savingAccount with some validation. trying to write junit testcase for rest end point using mocktio </p>\n\n<p>it is giving nullpointerexception <code>when(savingsProductService.findByName(anyString())).thenReturn(Optional.of(savingsProduct));</code> line in test file. </p>\n\n<p>Controller file....</p>\n\n<pre><code>ResponseEntity&lt;ResponseModel&gt; createSavingsProduct(@RequestBody  final SavingsProduct savingsProduct, final HttpServletRequest request,\n                                                           final HttpServletResponse response) throws Exception {\n\n    Set&lt;ConstraintViolation&lt;Object&gt;&gt; errors= savingsProductService.checkValidation(savingsProduct,new BigInteger(\"1\"));\n    if(errors.size()&gt;0)\n    {\n        List&lt;String&gt; messages = new ArrayList&lt;&gt;();\n        ResponseModel responseModel = new ResponseModel(\"\");\n        for(ConstraintViolation&lt;Object&gt; constraintViolation: errors)\n        {\n            messages.add(constraintViolation.getMessage());\n        }\n        responseModel.setData(messages);\n\n        return ResponseEntity.badRequest().body(responseModel);\n\n    }\n    savingsProductService.findByName(savingsProduct.getName())\n            .ifPresent(product -&gt; {throw ServiceException.conflict(\"Duplicate name: \" + product.getName());});\n\n//  savingsProductService.findByIdentifier(savingsProduct.getIdentifier())\n//  .ifPresent(product -&gt; {throw ServiceException.conflict(\"Duplicate product short name: \" + product.getIdentifier());});\n\n    savingsProductService.findByShortName(savingsProduct.getShortName())\n            .ifPresent(product -&gt; {throw ServiceException.conflict(\"Duplicate short name: \" + product.getShortName());});\n\n\n    log.info(\"*****Create Savings Product*************** \");\n    this.commandGateway.process(new CreateSavingsProductCommand(request.getHeader(\"UUID\"), savingsProduct));\n    ResponseModel responseModel = new ResponseModel(\"Accepted the Savings Product created\");\n    return ResponseEntity.accepted().body(responseModel);\n}\n</code></pre>\n\n<p>Servicefile...</p>\n\n<pre><code>public Optional&lt;SavingsProduct&gt; findByName(final String name) {\n    return savingsProductRepository.findByName(name).map(SavingsProductMapper::map);\n}\n</code></pre>\n\n<p>RepositoryFile...</p>\n\n<pre><code>Optional&lt;SavingsProductEntity&gt; findByName(String var1);\n</code></pre>\n\n<p>i am writing test for controller API like this.</p>\n\n<pre><code>@Test\npublic void createSavingsProduct() throws Exception {\n    String testUrl = baseUrl + \"/products\";\n    SavingsProduct savingsProduct = new SavingsProduct();\n    savingsProduct.setName(\"Chocolate\");\n    savingsProduct.setShortName(\"Cho\");\n\n    CreateSavingsProductCommand createSavingsProductCommand = new CreateSavingsProductCommand(httpServletRequest.getHeader(\"UUID\"), savingsProduct);\n    Set&lt;ConstraintViolation&lt;Object&gt;&gt; errors = new HashSet&lt;&gt;();\n    when(savingsProductService.checkValidation(savingsProduct,new BigInteger(\"1\"))).thenReturn(errors);\n    SavingsProductEntity savingsProduct1 = new SavingsProductEntity();\n    savingsProduct1.setIdentifier(BigInteger.ONE);\n    savingsProduct1.setName(\"xvm\");\n\n    //when(savingsProductRepository.findByName(anyString())).thenReturn(java.util.Optional.of(savingsProduct1));\n    //when(savingsProductRepository.findByShortName(anyString())).thenReturn(java.util.Optional.of(savingsProduct1));\n\n    when(savingsProductService.findByName(anyString())).thenReturn(Optional.of(savingsProduct));\n\n    doNothing().when(commandGateway).process(createSavingsProductCommand);\n\n    MvcResult result = mockMvc.perform(post(testUrl,httpServletRequest,httpServletResponse).content(new ObjectMapper().writeValueAsString(savingsProduct)).contentType(MediaType.APPLICATION_JSON).accept(MediaType.APPLICATION_JSON)).andReturn();\n\n    assertThat(result.getResponse().getStatus()).isEqualTo(HttpStatus.ACCEPTED.value());\n    verify(commandGateway).process(commandGateway);\n\n}\n</code></pre>\n"}, {"tags": ["java", "spring", "jpa", "reactive-programming", "spring-webflux"], "answers": [{"tags": [], "owner": {"reputation": 6419, "user_id": 1840146, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/846e219cba64c80b7b0398b239cd4db9?s=128&d=identicon&r=PG", "display_name": "Toerktumlare", "link": "https://stackoverflow.com/users/1840146/toerktumlare"}, "is_accepted": false, "score": 2, "last_activity_date": 1566516722, "creation_date": 1566516722, "answer_id": 57618165, "question_id": 57597313, "link": "https://stackoverflow.com/questions/57597313/spring-webflux-keeping-an-entitymanager-open-during-the-whole-process-of-a-reac/57618165#57618165", "title": "Spring webflux: keeping an EntityManager open during the whole process of a reactive request handling", "body": "<p>Hibernate is not reactive, it uses JDBC which is a blocking database driver, and it in turn uses threadlocal to store session information which is not possible to use in Webflux. </p>\n\n<p>If you wish to do blocking database calls you must use <code>Mono.fromCallable</code> and assign the calls to its own Scheduler so that it gets its own dedicate thread. You can read more about it here in the documentation <a href=\"https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking</a> hibernate cant natively return a Flux.</p>\n\n<p>Your code should look something like this</p>\n\n<pre><code>Flux&lt;Objects&gt; myObjects = Mono.fromCallable(() -&gt; {\n\n    // make all your calls to the database here\n    // build then your flux or whatever you want\n\n    return Flux.fromIterable(listOfObjects);\n}).subscribeOn(Schedulers.elastic()); // Makes sure this is run in its own thread\n</code></pre>\n"}], "owner": {"reputation": 9736, "user_id": 7637120, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/86713a99bb2d121a411230da37c59e71?s=128&d=identicon&r=PG", "display_name": "Roman Puchkovskiy", "link": "https://stackoverflow.com/users/7637120/roman-puchkovskiy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 473, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566516722, "creation_date": 1566411864, "last_edit_date": 1566467035, "question_id": 57597313, "link": "https://stackoverflow.com/questions/57597313/spring-webflux-keeping-an-entitymanager-open-during-the-whole-process-of-a-reac", "title": "Spring webflux: keeping an EntityManager open during the whole process of a reactive request handling", "body": "<p>In the standard synchronous Spring (WebMVC) world, there are <code>OpenEntityManagerInViewFilter</code> and <code>OpenEntityManagerInViewInterceptor</code> that hold a JPA <code>EntityManager</code> open during the whole processing of a request and allow to avoid the annoying <code>LazyInitializationException</code> ('no Session').</p>\n\n<p><code>OpenEntityManagerInViewInterceptor</code> also works in a similar way for async servlet API-based applications.</p>\n\n<p>But how do you deal with this problem in a Webflux application? Let's say I have a Webflux controller that does something like</p>\n\n<pre><code>service.getOneReactively(...).flatMapMany(one -&gt; obtainAFlux(one))\n</code></pre>\n\n<p>where <code>service.getOneReactively()</code> finds a domain object in the database and <code>obtainAFlux()</code> accesses a lazy collection on that domain object causing its load. Both calls will be executed on some thread pool, probably on different threads, so Hibernate's <code>Session</code> bound to the first thread (where the domain object is materialized) will not be accessible in the second thread (where the collection is loaded).</p>\n\n<p>This results in <code>LazyInitializationException</code>.</p>\n\n<p>How do you solve such a problem? The only thing I could invent so far is to pack both calls into a method and call it in a transaction in one reactive call.</p>\n"}, {"tags": ["java", "json", "serialization", "jackson", "unmodifiable"], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 4987219, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8DSKu5GHMKE/AAAAAAAAAAI/AAAAAAAAACQ/mBAViuonMfg/photo.jpg?sz=128", "display_name": "Dan Ciarniello", "link": "https://stackoverflow.com/users/4987219/dan-ciarniello"}, "edited": false, "score": 1, "creation_date": 1566512023, "post_id": 57599707, "comment_id": 101690060, "body": "Thanks for the security caution.  It&#39;s not a problem for my use case in that it&#39;s internal use only.  The solution worked with one small change.  For some reason <code>this._includeAs = JsonTypeInfo.As.PROPERTY</code> did not work for me but <code>this._includeAs = JsonTypeInfo.As.WRAPPER_ARRAY</code> does work."}], "tags": [], "owner": {"reputation": 31251, "user_id": 51591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/TsvFC.jpg?s=128&g=1", "display_name": "Micha\u0142 Ziober", "link": "https://stackoverflow.com/users/51591/micha%c5%82-ziober"}, "is_accepted": true, "score": 0, "last_activity_date": 1566425185, "creation_date": 1566425185, "answer_id": 57599707, "question_id": 57597256, "link": "https://stackoverflow.com/questions/57597256/with-default-typing-enabled-is-there-a-way-to-override-the-type-jackson-outputs/57599707#57599707", "title": "With default typing enabled, is there a way to override the type Jackson outputs?", "body": "<p>I would like to start from security risk warning which comes from <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\">ObjectMapper</a> documentation:</p>\n\n<blockquote>\n  <p>Notes on security: use \"default typing\" feature (see\n  <code>enableDefaultTyping()</code>) is a potential security risk, if used with\n  <strong>untrusted content</strong> (content generated by untrusted external parties).\n  If so, you may want to construct a custom <code>TypeResolverBuilder</code>\n  implementation to limit possible types to instantiate, (using\n  <code>setDefaultTyping(com.fasterxml.jackson.databind.jsontype.TypeResolverBuilder&lt;?)</code>).</p>\n</blockquote>\n\n<p>Lets implement custom resolver:</p>\n\n<pre><code>class CollectionsDefaultTypeResolverBuilder extends ObjectMapper.DefaultTypeResolverBuilder {\n\n    private final Map&lt;String, String&gt; notValid2ValidIds = new HashMap&lt;&gt;();\n\n    public CollectionsDefaultTypeResolverBuilder() {\n        super(ObjectMapper.DefaultTyping.OBJECT_AND_NON_CONCRETE);\n        this._idType = JsonTypeInfo.Id.CLASS;\n        this._includeAs = JsonTypeInfo.As.PROPERTY;\n\n        notValid2ValidIds.put(\"java.util.Collections$UnmodifiableRandomAccessList\", ArrayList.class.getName());\n        // add more here...\n    }\n\n    @Override\n    protected TypeIdResolver idResolver(MapperConfig&lt;?&gt; config, JavaType baseType, Collection&lt;NamedType&gt; subtypes,\n                                        boolean forSer, boolean forDeser) {\n        return new ClassNameIdResolver(baseType, config.getTypeFactory()) {\n            @Override\n            protected String _idFrom(Object value, Class&lt;?&gt; cls, TypeFactory typeFactory) {\n                String id = notValid2ValidIds.get(cls.getName());\n                if (id != null) {\n                    return id;\n                }\n                return super._idFrom(value, cls, typeFactory);\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>Now, we can use it as below:</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonTypeInfo;\nimport com.fasterxml.jackson.databind.JavaType;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.databind.cfg.MapperConfig;\nimport com.fasterxml.jackson.databind.jsontype.NamedType;\nimport com.fasterxml.jackson.databind.jsontype.TypeIdResolver;\nimport com.fasterxml.jackson.databind.jsontype.impl.ClassNameIdResolver;\nimport com.fasterxml.jackson.databind.type.TypeFactory;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class JsonApp {\n\n    public static void main(String[] args) throws Exception {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.enable(SerializationFeature.INDENT_OUTPUT);\n        mapper.setDefaultTyping(new CollectionsDefaultTypeResolverBuilder());\n\n        Root root = new Root();\n        root.setData(Collections.unmodifiableList(Arrays.asList(\"1\", \"b\")));\n        String json = mapper.writeValueAsString(root);\n        System.out.println(json);\n        System.out.println(mapper.readValue(json, Root.class));\n    }\n}\n\nclass Root {\n    private List&lt;String&gt; data;\n\n    public List&lt;String&gt; getData() {\n        return data;\n    }\n\n    public void setData(List&lt;String&gt; data) {\n        this.data = data;\n    }\n\n    @Override\n    public String toString() {\n        return \"Root{\" +\n                \"data=\" + data +\n                '}';\n    }\n}\n</code></pre>\n\n<p>Above code prints:</p>\n\n<pre><code>{\n  \"data\" : [ \"java.util.ArrayList\", [ \"1\", \"b\" ] ]\n}\nRoot{data=[1, b]}\n</code></pre>\n\n<p>You can even map it to <code>List</code> interface:</p>\n\n<pre><code>notValid2ValidIds.put(\"java.util.Collections$UnmodifiableRandomAccessList\", List.class.getName());\n</code></pre>\n\n<p>And output would be:</p>\n\n<pre><code>{\n  \"data\" : [ \"java.util.List\", [ \"1\", \"b\" ] ]\n}\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 4987219, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8DSKu5GHMKE/AAAAAAAAAAI/AAAAAAAAACQ/mBAViuonMfg/photo.jpg?sz=128", "display_name": "Dan Ciarniello", "link": "https://stackoverflow.com/users/4987219/dan-ciarniello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 438, "favorite_count": 0, "accepted_answer_id": 57599707, "answer_count": 1, "score": 1, "last_activity_date": 1566425185, "creation_date": 1566411636, "question_id": 57597256, "link": "https://stackoverflow.com/questions/57597256/with-default-typing-enabled-is-there-a-way-to-override-the-type-jackson-outputs", "title": "With default typing enabled, is there a way to override the type Jackson outputs?", "body": "<p>I am serializing a class that includes an unmodifiable list with default typing enabled.  The problem is that the type that Jackson uses is </p>\n\n<pre><code>java.util.Collections$UnmodifiableRandomAccessList\n</code></pre>\n\n<p>which, for some reason, the deserializer does not know how to handle.</p>\n\n<p>Is there a way to tell Jackson to set the type as </p>\n\n<pre><code>java.util.ArrayList\n</code></pre>\n\n<p>which the deserializer does know how to handle, instead?  If possible, I'd like to do it using mixins.</p>\n\n<p>Something like</p>\n\n<pre><code>public abstract class ObjectMixin {\n    @JsonCreator\n    public ObjectMixin(\n       @JsonProperty(\"id\") String id,\n       @JsonProperty(\"list\") @JsonSerialize(as = ArrayList.class) List&lt;String&gt; list;\n    ) {}\n}\n</code></pre>\n\n<p>which, unfortunately, does not work.</p>\n"}, {"tags": ["java", "regex"], "comments": [{"owner": {"reputation": 3715, "user_id": 1241334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fCjAE.jpg?s=128&g=1", "display_name": "Jonny Henly", "link": "https://stackoverflow.com/users/1241334/jonny-henly"}, "edited": false, "score": 3, "creation_date": 1566411470, "post_id": 57597184, "comment_id": 101651555, "body": "What have you tried/researched? It looks like most of the regex you need is given to you, just go research the missing parts."}, {"owner": {"reputation": 3058, "user_id": 1345768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V5Vru.png?s=128&g=1", "display_name": "Tim.Tang", "link": "https://stackoverflow.com/users/1345768/tim-tang"}, "edited": false, "score": 0, "creation_date": 1566412280, "post_id": 57597184, "comment_id": 101651865, "body": "can you share more information for  <code>AnyString</code>? is it contains <code>,T</code> or <code>@</code> too?"}, {"owner": {"reputation": 112847, "user_id": 1393766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h0FSp.png?s=128&g=1", "display_name": "Pshemo", "link": "https://stackoverflow.com/users/1393766/pshemo"}, "edited": false, "score": 0, "creation_date": 1566412792, "post_id": 57597184, "comment_id": 101652079, "body": "Are you facing any specific difficulty while writing such regex? Can you <a href=\"https://stackoverflow.com/posts/57597184/edit\">edit</a> your question and include your best attempt along with description of problem in it?"}, {"owner": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "edited": false, "score": 0, "creation_date": 1566413915, "post_id": 57597184, "comment_id": 101652533, "body": "<code>^@.+,T\\d+$</code> technically fits the requirement you&#39;ve presented."}], "answers": [{"comments": [{"owner": {"reputation": 774, "user_id": 9865827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83131d51acdd7f4007a21c9cc00f3c10?s=128&d=identicon&r=PG&f=1", "display_name": "Badgy", "link": "https://stackoverflow.com/users/9865827/badgy"}, "reply_to_user": {"reputation": 3715, "user_id": 1241334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fCjAE.jpg?s=128&g=1", "display_name": "Jonny Henly", "link": "https://stackoverflow.com/users/1241334/jonny-henly"}, "edited": false, "score": 0, "creation_date": 1566412879, "post_id": 57597306, "comment_id": 101652124, "body": "@JonnyHenly you are right, I always seem to forget about <code>+</code>. I&#39;ve updated my answer. Thanks."}], "tags": [], "owner": {"reputation": 774, "user_id": 9865827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83131d51acdd7f4007a21c9cc00f3c10?s=128&d=identicon&r=PG&f=1", "display_name": "Badgy", "link": "https://stackoverflow.com/users/9865827/badgy"}, "is_accepted": false, "score": 0, "last_activity_date": 1566412816, "last_edit_date": 1566412816, "creation_date": 1566411829, "answer_id": 57597306, "question_id": 57597184, "link": "https://stackoverflow.com/questions/57597184/need-help-writing-a-regex-which-matches-every-string-against-a-given-format/57597306#57597306", "title": "Need help writing a regex which matches every string against a given format", "body": "<p><code>@([a-zA-Z]+),T([0-9]+)</code></p>\n\n<p>If <code>&lt;AnyString&gt;</code> is comprised only of letters in the case of your example. If you want it to check for digits or other characters, simply add <code>0-9</code> or the given characters to the square brackets in the first capture group. Or</p>\n\n<p><code>@(.+),T([0-9]+)</code></p>\n\n<p>if it should match a string comprised of any character.</p>\n\n<p>Consider having a look at <a href=\"https://regexr.com/\" rel=\"nofollow noreferrer\">regexr</a> for these issues. It is a very helpful tool when creating regular expressions.</p>\n"}, {"comments": [{"owner": {"reputation": 3715, "user_id": 1241334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fCjAE.jpg?s=128&g=1", "display_name": "Jonny Henly", "link": "https://stackoverflow.com/users/1241334/jonny-henly"}, "edited": false, "score": 0, "creation_date": 1566411928, "post_id": 57597307, "comment_id": 101651737, "body": "What if <code>@Bob,T20</code> is in the middle of a line of text?"}, {"owner": {"reputation": 45, "user_id": 11393554, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PeQoam6cLGo/AAAAAAAAAAI/AAAAAAAAAbk/WMkK8EcH6Dw/photo.jpg?sz=128", "display_name": "shalini lakshkar", "link": "https://stackoverflow.com/users/11393554/shalini-lakshkar"}, "edited": false, "score": 0, "creation_date": 1566417363, "post_id": 57597307, "comment_id": 101654032, "body": "Thanks @Bob, &quot;@[a-zA-Z]*,T\\d*&quot; worked for me."}], "tags": [], "owner": {"reputation": 3058, "user_id": 1345768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V5Vru.png?s=128&g=1", "display_name": "Tim.Tang", "link": "https://stackoverflow.com/users/1345768/tim-tang"}, "is_accepted": true, "score": -1, "last_activity_date": 1566412507, "last_edit_date": 1566412507, "creation_date": 1566411833, "answer_id": 57597307, "question_id": 57597184, "link": "https://stackoverflow.com/questions/57597184/need-help-writing-a-regex-which-matches-every-string-against-a-given-format/57597307#57597307", "title": "Need help writing a regex which matches every string against a given format", "body": "<p><strong>For format validation:</strong></p>\n\n<p>Try:\n<code>^@[a-zA-Z]*,T\\d*$</code></p>\n\n<p>If you need at least 1 string and 1 digit:\n<code>^@[a-zA-Z]+,T\\d+$</code></p>\n\n<p><strong>For match in text:</strong></p>\n\n<p>Try: <code>@[a-zA-Z]*,T\\d*</code></p>\n\n<p>If you need at least 1 string and 1 digit: <code>@[a-zA-Z]+,T\\d+</code></p>\n"}], "owner": {"reputation": 45, "user_id": 11393554, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PeQoam6cLGo/AAAAAAAAAAI/AAAAAAAAAbk/WMkK8EcH6Dw/photo.jpg?sz=128", "display_name": "shalini lakshkar", "link": "https://stackoverflow.com/users/11393554/shalini-lakshkar"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "closed_date": 1566423129, "accepted_answer_id": 57597307, "answer_count": 2, "score": -4, "last_activity_date": 1566412816, "creation_date": 1566411309, "question_id": 57597184, "link": "https://stackoverflow.com/questions/57597184/need-help-writing-a-regex-which-matches-every-string-against-a-given-format", "closed_reason": "Not suitable for this site", "title": "Need help writing a regex which matches every string against a given format", "body": "<p>Can someone please help me writing a regex which matches every string against below format. </p>\n\n<pre><code>format : @&lt;AnyString&gt;,T&lt;digits&gt;\n</code></pre>\n\n<p>e.g. @Bob,T20</p>\n"}, {"tags": ["java", "spring-boot", "spring-data", "amazon-dynamodb"], "comments": [{"owner": {"reputation": 11, "user_id": 11958613, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAqNNFlVQuQbbGWM86kDmleBKqJTgLBmerpuwEKZP4=k-s128", "display_name": "Brett Yerger", "link": "https://stackoverflow.com/users/11958613/brett-yerger"}, "edited": false, "score": 0, "creation_date": 1566413804, "post_id": 57597120, "comment_id": 101652500, "body": "Since I am using lombok I added this but made no difference:```    @Getter(AccessLevel.NONE)     @Setter(AccessLevel.NONE)     private SubmissionId id```"}], "owner": {"reputation": 11, "user_id": 11958613, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAqNNFlVQuQbbGWM86kDmleBKqJTgLBmerpuwEKZP4=k-s128", "display_name": "Brett Yerger", "link": "https://stackoverflow.com/users/11958613/brett-yerger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 303, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566411022, "creation_date": 1566411022, "question_id": 57597120, "link": "https://stackoverflow.com/questions/57597120/error-cant-find-hash-method-on-custom-key-class", "title": "Error can&#39;t find hash method on custom key class", "body": "<p>I have a inheritance structure that includes a base data class and a Dynamo Data class. I then try and use a custom class as an identifier. I declare everything as stated and yet it blows up cause it can't find the annotation of DynamoDBHashKey</p>\n\n<p>I have tried running through a debugger. It goes through and finds the underlying annotation and method for the @DynamoDBHashKey. It then tries to do it again on the parent and fails with not existing on the parent class which it shouldn't exist. If I add the annotation to the key then it will say it is defined twice and error out. Note if I add @id for the SubmissionData object then it says the id field is defined twice.</p>\n\n<pre><code>public class BaseData&lt;T&gt;\n{\n    @Id\n    protected T id;\n}\n\n@Data\n@EqualsAndHashCode(callSuper = false)\n@DynamoDBTable(tableName = \"\")\npublic class DynamoData&lt;T&gt; extends BaseData&lt;T&gt;\n{\n   ...\n}\n\n@Data\n@EqualsAndHashCode(callSuper=true)\n@DynamoDBTable( tableName = \"submission\" )\npublic class SubmissionData extends DynamoData&lt;SubmissionId&gt;\n{\n    private SubmissionId id;\n\n    @DynamoDBHashKey(attributeName = \"locationNumber\")\n    public String getLocationNumber() {\n        return getId().getLocationNumber();\n    }\n\n    public void setLocationNumber(String locationNumber) {\n        getId().setLocationNumber(locationNumber);\n    }\n\n    @DynamoDBRangeKey(attributeName = \"createdDateMillis\")\n    public Long getCreatedDateMillis() {\n        return getId().getCreatedDateMillis();\n    }\n\n    public void setCreatedDateMillis(Long createdDateMillis) {\n        getId().setCreatedDateMillis(createdDateMillis);\n    }\n\n}\n\npublic class SubmissionId implements Serializable {\n    private String locationNumber;\n    private Long createdDateMillis;\n\n    @DynamoDBHashKey\n    public String getLocationNumber() {\n        return locationNumber;\n    }\n\n    public void setLocationNumber(String locationNumber) {\n        this.locationNumber = locationNumber;\n    }\n\n    @DynamoDBRangeKey\n    public Long getCreatedDateMillis() {\n        return createdDateMillis;\n    }\n\n    public void setCreatedDateMillis(Long createdDateMillis) {\n        this.createdDateMillis = createdDateMillis;\n    }\n\n}\n\npublic abstract class BasePersistence&lt;S extends BaseData&lt;ID&gt;, ID, T extends CrudRepository&lt;S, ID&gt;&gt;\n{\n    protected T repository;\n\n    protected BasePersistence(T repository)\n    {\n        this.repository = repository;\n    }\n}\n\npublic abstract class DynamoPersistence&lt;S extends DynamoData&lt;V&gt;, T extends CrudRepository&lt;S, V&gt;, V&gt; extends BasePersistence&lt;S, V, T&gt;\n{\n    public DynamoPersistence(T repository)\n    {\n        super(repository);\n    }\n}\n\n@Component\npublic class SubmissionPersistence extends DynamoPersistence&lt;SubmissionData, SubmissionRepository, SubmissionId&gt;\n{\n    @Autowired\n    public SubmissionPersistence(SubmissionRepository repository)\n    {\n        super(repository);\n    }\n}\n\n@EnableScan\npublic interface SubmissionRepository extends CrudRepository&lt;SubmissionData, SubmissionId&gt;\n{\n}\n</code></pre>\n\n<p>I would expect this should work but instead I get the following error stack:</p>\n\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'submissionPersistence' defined in file [/Users/brett.yerger/cfacode/sc-inventory-scanner-api/target/classes/com/cfa/supplychain/invscan/component/submissions/persistence/SubmissionPersistence.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'submissionRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No method or field annotated by @DynamoDBHashKey within type java.lang.Object!\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1341) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1187) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1251) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1171) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    ... 52 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'submissionRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No method or field annotated by @DynamoDBHashKey within type java.lang.Object!\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1251) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1171) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    ... 66 common frames omitted\nCaused by: java.lang.IllegalArgumentException: No method or field annotated by @DynamoDBHashKey within type java.lang.Object!\n    at org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBHashAndRangeKeyMethodExtractorImpl.&lt;init&gt;(DynamoDBHashAndRangeKeyMethodExtractorImpl.java:99) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\n    at org.socialsignin.spring.data.dynamodb.repository.support.CompositeIdHashAndRangeKeyExtractor.&lt;init&gt;(CompositeIdHashAndRangeKeyExtractor.java:31) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\n    at org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBHashAndRangeKeyExtractingEntityMetadataImpl.getHashAndRangeKeyExtractor(DynamoDBHashAndRangeKeyExtractingEntityMetadataImpl.java:71) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\n    at org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBIdIsHashAndRangeKeyEntityInformationImpl.&lt;init&gt;(DynamoDBIdIsHashAndRangeKeyEntityInformationImpl.java:49) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\n    at org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBEntityMetadataSupport.getEntityInformation(DynamoDBEntityMetadataSupport.java:125) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\n    at org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBRepositoryFactory.getEntityInformation(DynamoDBRepositoryFactory.java:104) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\n    at org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBRepositoryFactory.getDynamoDBRepository(DynamoDBRepositoryFactory.java:128) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\n    at org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBRepositoryFactory.getTargetRepository(DynamoDBRepositoryFactory.java:150) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:305) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:211) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.data.util.Lazy.get(Lazy.java:94) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    ... 77 common frames omitted```\n</code></pre>\n"}, {"tags": ["java", "mysql", "ucanaccess"], "comments": [{"owner": {"reputation": 32469, "user_id": 1529673, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/O6MQS.jpg?s=128&g=1", "display_name": "Strawberry", "link": "https://stackoverflow.com/users/1529673/strawberry"}, "edited": false, "score": 0, "creation_date": 1566429325, "post_id": 57597079, "comment_id": 101657613, "body": "Are you sure that you can connect to a MySQL database using UCanAccess!?!"}], "answers": [{"tags": [], "owner": {"reputation": 48, "user_id": 11878472, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-K6sqDYfFoNI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdiThwfZA78Go-6zzNjjDCaxWEpUg/photo.jpg?sz=128", "display_name": "Tejas", "link": "https://stackoverflow.com/users/11878472/tejas"}, "is_accepted": false, "score": 1, "last_activity_date": 1566411647, "creation_date": 1566411647, "answer_id": 57597257, "question_id": 57597079, "link": "https://stackoverflow.com/questions/57597079/select-all-tables-that-have-matching-column-name/57597257#57597257", "title": "Select all tables that have matching column name", "body": "<p>Try to change this line as :</p>\n\n<p>String sql = \"SELECT DISTINCT table_name FROM INFORMATION_SCHEMA.COLUMNS WHERE column_name= 'CID'\";</p>\n\n<p>And try to run it again\nHope this will work</p>\n"}], "owner": {"reputation": 1, "user_id": 11558501, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ahynJVN1K1k/AAAAAAAAAAI/AAAAAAAAA6E/4wbRRR6Pc3E/photo.jpg?sz=128", "display_name": "Oneil Alec Mahoney", "link": "https://stackoverflow.com/users/11558501/oneil-alec-mahoney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566416196, "creation_date": 1566410856, "last_edit_date": 1566416196, "question_id": 57597079, "link": "https://stackoverflow.com/questions/57597079/select-all-tables-that-have-matching-column-name", "title": "Select all tables that have matching column name", "body": "<p>Is there a method to select and execute a query on all columns in the database that match a specific name using UCANACESS</p>\n\n<p>I've attempted using methods for MYSQL found at <a href=\"https://stackoverflow.com/questions/23916540/find-all-tables-that-have-x-column-name\">Find all tables that have X column name</a> </p>\n\n<pre><code>String sql = \"SELECT DISTINCT table_name FROM INFORMATION_SCHEMA.COLUMNS WHERE column_name= 'CID'\";\n\n\n\n        ResultSet rs = readID.executeQuery(sql);\n        System.out.println(\"This plugin has successfully connected to the database...\");\n        do {\n            userInput2 = JOptionPane.showInputDialog(null,\"HIPAA Main Menu \\n1. Encrypt the database. \\n2. Decrypt the database.\\n3. Exit the program.\\n(Make a selection by entering 1, 2, or 3)\");\n            choice = Integer.parseInt(userInput2);\n            switch (choice) {\n                case 1 :\n                    while (rs.next()) {\n                        ID = rs.getString(\"CID\");\n                        rs.updateString(\"CID\", encodedID(ID,aesKey,cipher));\n                        rs.updateRow();\n                        x++;\n                    }\n                    dbConnection.commit();\n</code></pre>\n\n<p>ResultSet rs = readID.executeQuery(sql);</p>\n\n<p>I expect the code to connect to any column named CID in the database and then get the strings within the column but instead, I receive the following error...</p>\n\n<p>This plugin has successfully connected to the database...\nnet.ucanaccess.jdbc.UcanaccessSQLException: UCAExc:::4.0.4 Column not found: CID\n    at net.ucanaccess.jdbc.UcanaccessResultSet.getString(UcanaccessResultSet.java:782)\n    at Hipaa.main(Hipaa.java:63)\nCaused by: net.ucanaccess.jdbc.UcanaccessSQLException: UCAExc:::4.0.4 Column not found: CID\n    at net.ucanaccess.jdbc.UcanaccessResultSet.getObject(UcanaccessResultSet.java:649)\n    at net.ucanaccess.jdbc.UcanaccessResultSet.getString(UcanaccessResultSet.java:776)\n    ... 1 more</p>\n"}, {"tags": ["java", "lambda", "collections"], "comments": [{"owner": {"reputation": 3715, "user_id": 1241334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fCjAE.jpg?s=128&g=1", "display_name": "Jonny Henly", "link": "https://stackoverflow.com/users/1241334/jonny-henly"}, "edited": false, "score": 0, "creation_date": 1566410738, "post_id": 57596975, "comment_id": 101651239, "body": "Your question about replacing <code>c-&gt;c</code> with <code>Function.identity()</code> is addressed in the comments section of the answer to the question linked above - <a href=\"https://stackoverflow.com/questions/20363719/java-8-listv-into-mapk-v#comment75533805_20363874\">found here</a>."}, {"owner": {"reputation": 11, "user_id": 11958105, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDifsR96kTPQ8vqSzMTU7V-xQAH5E0ljrGBEzE2=k-s128", "display_name": "S Mej&#237;a", "link": "https://stackoverflow.com/users/11958105/s-mej%c3%ada"}, "reply_to_user": {"reputation": 3715, "user_id": 1241334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fCjAE.jpg?s=128&g=1", "display_name": "Jonny Henly", "link": "https://stackoverflow.com/users/1241334/jonny-henly"}, "edited": false, "score": 0, "creation_date": 1566410749, "post_id": 57596975, "comment_id": 101651243, "body": "Totally agree, thanks a lot!!"}, {"owner": {"reputation": 2507, "user_id": 2741091, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2f5b0db70a69308bba55f416f78f9fc9?s=128&d=identicon&r=PG", "display_name": "ifly6", "link": "https://stackoverflow.com/users/2741091/ifly6"}, "edited": false, "score": 0, "creation_date": 1566410853, "post_id": 57596975, "comment_id": 101651290, "body": "To add to Jonny Henly: <a href=\"https://stackoverflow.com/questions/28032827/java-8-lambdas-function-identity-or-t-t\" title=\"java 8 lambdas function identity or t t\">stackoverflow.com/questions/28032827/&hellip;</a>"}], "owner": {"reputation": 11, "user_id": 11958105, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDifsR96kTPQ8vqSzMTU7V-xQAH5E0ljrGBEzE2=k-s128", "display_name": "S Mej&#237;a", "link": "https://stackoverflow.com/users/11958105/s-mej%c3%ada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "closed_date": 1566410850, "answer_count": 0, "score": 0, "last_activity_date": 1566414685, "creation_date": 1566410368, "last_edit_date": 1566414685, "question_id": 57596975, "link": "https://stackoverflow.com/questions/57596975/convert-a-list-of-object-to-a-map-with-lambda", "closed_reason": "Duplicate", "title": "Convert a List of object to a Map with lambda", "body": "<p>How to convert a <code>List&lt;Car&gt;</code> to <code>Map&lt;Integer,Car&gt;</code> using lambda?</p>\n\n<p>I have this solution but I don't know if is the best one! Are there better options?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public Map&lt;Integer,Car&gt; getMap(List&lt;Car&gt; cars){\n    if(cars==null) return null;\n    return cars.stream().collect(Collectors.toMap(Car::getId, c -&gt; c));\n}\n</code></pre>\n\n<p>If I replaced <code>c-&gt;c</code> with <code>Function.identity()</code> and get the same result, but I don't know when to use <code>Function.identity()</code>.</p>\n"}, {"tags": ["java", "graph-databases", "gremlin", "janusgraph", "graph-traversal"], "comments": [{"owner": {"reputation": 267, "user_id": 2587883, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a0e5f9c00b1d1fa3159a85347f7048e6?s=128&d=identicon&r=PG", "display_name": "Bishnu", "link": "https://stackoverflow.com/users/2587883/bishnu"}, "edited": false, "score": 0, "creation_date": 1587024920, "post_id": 57596922, "comment_id": 108347622, "body": "We are too facing this issue, any solution you got?"}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 5070533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU2Fr.jpg?s=128&g=1", "display_name": "havenwang", "link": "https://stackoverflow.com/users/5070533/havenwang"}, "edited": false, "score": 0, "creation_date": 1566841871, "post_id": 57623296, "comment_id": 101774212, "body": "Thanks for the suggestions! Doesn&#39;t seem this was causing my issue in this case.   If I trace the stack trace down, it throws an exception at:  <code>Caused by: java.lang.NullPointerException \tat org.janusgraph.graphdb.database.EdgeSerializer.parseRelation&zwnj;&#8203;(EdgeSerializer.java&zwnj;&#8203;:106) \tat org.janusgraph.graphdb.database.EdgeSerializer.readRelation(&zwnj;&#8203;EdgeSerializer.java:&zwnj;&#8203;73)</code>  which seems like kind of an odd place to have a null pointer. The source code at this point is:  <code>if (multiplicity.isConstrained()) {...</code>"}, {"owner": {"reputation": 113, "user_id": 5070533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU2Fr.jpg?s=128&g=1", "display_name": "havenwang", "link": "https://stackoverflow.com/users/5070533/havenwang"}, "edited": false, "score": 0, "creation_date": 1566842844, "post_id": 57623296, "comment_id": 101774580, "body": "Also just in case this might give a hint: if I try to retrieve the GraphSON representation of one of the vertices, including the edges in both directions, I get a Nullpointer error with the same stack trace as referred to in my above comment."}], "tags": [], "owner": {"reputation": 1251, "user_id": 1140697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e90112c41528807e5f408bdd156a67a2?s=128&d=identicon&r=PG", "display_name": "Kfir Dadosh", "link": "https://stackoverflow.com/users/1140697/kfir-dadosh"}, "is_accepted": false, "score": 1, "last_activity_date": 1566595676, "last_edit_date": 1566595676, "creation_date": 1566552062, "answer_id": 57623296, "question_id": 57596922, "link": "https://stackoverflow.com/questions/57596922/janusgraph-nullpointerexception-when-traversing-vertices/57623296#57623296", "title": "JanusGraph: NullPointerException when traversing vertices", "body": "<p>Try to swap the traversals in your or traversal:\nFirst check if the property doesn't exist, and get the value only if it does.\nI would also consider changing <code>bothV()</code> to <code>otherV()</code>.</p>\n"}], "owner": {"reputation": 113, "user_id": 5070533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU2Fr.jpg?s=128&g=1", "display_name": "havenwang", "link": "https://stackoverflow.com/users/5070533/havenwang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566595676, "creation_date": 1566410136, "last_edit_date": 1566531729, "question_id": 57596922, "link": "https://stackoverflow.com/questions/57596922/janusgraph-nullpointerexception-when-traversing-vertices", "title": "JanusGraph: NullPointerException when traversing vertices", "body": "<p>I'm using JanusGraph to store and retrieve pairs of vertices connected by an edge.</p>\n\n<p>After inserting over 100k pairs of vertices, I have found that when I try to traverse and retrieve the vertices from, for around 5% of the pairs, I get a <code>NullPointerException</code> error. I've included a stack trace of the error below.</p>\n\n<p>For affected vertex pairs, the <code>NullPointerException</code> occurs every time I try and traverse it. </p>\n\n<p>My question is: what may be causing these <code>NullPointerException</code>s?</p>\n\n<p>Other info:</p>\n\n<ul>\n<li>I am using Cassandra as the backend storage (<code>cql</code>)</li>\n<li>I am using an ID property on the vertices as a unique index</li>\n<li>I am using the JanusGraph <code>0.2.0</code> version</li>\n</ul>\n\n<p>edit: I also want to add that both vertices of each pair exist in the graph, and I can even read properties from each.</p>\n\n<p>Here is the relevant portion of the error stack trace:</p>\n\n<pre><code>Caused by: java.lang.NullPointerException\n    at org.janusgraph.graphdb.database.serialize.AttributeUtil.hasGenericDataType(AttributeUtil.java:99)\n    at org.janusgraph.graphdb.database.EdgeSerializer.readPropertyValue(EdgeSerializer.java:197)\n    at org.janusgraph.graphdb.database.EdgeSerializer.readInline(EdgeSerializer.java:189)\n    at org.janusgraph.graphdb.database.EdgeSerializer.parseRelation(EdgeSerializer.java:161)\n    at org.janusgraph.graphdb.database.EdgeSerializer.readRelation(EdgeSerializer.java:73)\n    at org.janusgraph.graphdb.transaction.RelationConstructor.readRelationCache(RelationConstructor.java:41)\n    at org.janusgraph.graphdb.relations.CacheEdge.getPropertyMap(CacheEdge.java:107)\n    at org.janusgraph.graphdb.relations.CacheEdge.getValueDirect(CacheEdge.java:114)\n    at org.janusgraph.graphdb.relations.AbstractTypedRelation.lambda$properties$1(AbstractTypedRelation.java:157)\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:174)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n    at java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:958)\n    at java.util.stream.StreamSpliterators$WrappingSpliterator.lambda$initPartialTraversalState$0(StreamSpliterators.java:294)\n    at java.util.stream.StreamSpliterators$AbstractWrappingSpliterator.fillBuffer(StreamSpliterators.java:206)\n    at java.util.stream.StreamSpliterators$AbstractWrappingSpliterator.doAdvance(StreamSpliterators.java:161)\n    at java.util.stream.StreamSpliterators$WrappingSpliterator.tryAdvance(StreamSpliterators.java:300)\n    at java.util.Spliterators$1Adapter.hasNext(Spliterators.java:681)   \n</code></pre>\n\n<p>The following is the relevant piece of code I have implemented for the graph traversal:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>g.V()\n        .has(indexProperty, vertexId)\n        .coalesce(\n                __.repeat(__\n                        .bothE()\n                        .or(\n                                __.has(GraphElementProperties.WEIGHT, P.gte\n                                        (STRONG_CONNECTION_WEIGHT_THRESHOLD)),\n                                __.hasNot(GraphElementProperties.WEIGHT)\n                        )\n                        .bothV()\n                        .dedup())\n                        .emit(),\n                __.identity()\n        )\n        .toList()\n</code></pre>\n"}, {"tags": ["java", "apache-kafka"], "comments": [{"owner": {"reputation": 23213, "user_id": 7131757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wvEUE.jpg?s=128&g=1", "display_name": "Giorgos Myrianthous", "link": "https://stackoverflow.com/users/7131757/giorgos-myrianthous"}, "edited": false, "score": 0, "creation_date": 1566410257, "post_id": 57596903, "comment_id": 101651032, "body": "<i>&quot; But it does not work when just a topic is specified.&quot;</i> - By <i>&quot;does not work&quot;</i> what do you mean? Does it fail?"}, {"owner": {"reputation": 14400, "user_id": 4405757, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/96317f0778cae7e50548ce53e0029449?s=128&d=identicon&r=PG&f=1", "display_name": "user7", "link": "https://stackoverflow.com/users/4405757/user7"}, "reply_to_user": {"reputation": 23213, "user_id": 7131757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wvEUE.jpg?s=128&g=1", "display_name": "Giorgos Myrianthous", "link": "https://stackoverflow.com/users/7131757/giorgos-myrianthous"}, "edited": false, "score": 0, "creation_date": 1566410359, "post_id": 57596903, "comment_id": 101651070, "body": "@GiorgosMyrianthous It does not receive any message. Updated my question clarifying this"}, {"owner": {"reputation": 23213, "user_id": 7131757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wvEUE.jpg?s=128&g=1", "display_name": "Giorgos Myrianthous", "link": "https://stackoverflow.com/users/7131757/giorgos-myrianthous"}, "edited": false, "score": 0, "creation_date": 1566410395, "post_id": 57596903, "comment_id": 101651087, "body": "Do you know how many messages does each of the partitions have?"}, {"owner": {"reputation": 14400, "user_id": 4405757, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/96317f0778cae7e50548ce53e0029449?s=128&d=identicon&r=PG&f=1", "display_name": "user7", "link": "https://stackoverflow.com/users/4405757/user7"}, "reply_to_user": {"reputation": 23213, "user_id": 7131757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wvEUE.jpg?s=128&g=1", "display_name": "Giorgos Myrianthous", "link": "https://stackoverflow.com/users/7131757/giorgos-myrianthous"}, "edited": false, "score": 0, "creation_date": 1566410474, "post_id": 57596903, "comment_id": 101651123, "body": "@GiorgosMyrianthous I sent a total of 10 messages. They got distributed to the partitions - I&#39;m saying this  by the console consumer output when passed <code>--partition</code> 0,1 and 2. Why would the number of messages per partition be of any interest here?"}, {"owner": {"reputation": 23213, "user_id": 7131757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wvEUE.jpg?s=128&g=1", "display_name": "Giorgos Myrianthous", "link": "https://stackoverflow.com/users/7131757/giorgos-myrianthous"}, "edited": false, "score": 0, "creation_date": 1566410769, "post_id": 57596903, "comment_id": 101651252, "body": "And have you tried <code>ADVERTISED_HOST=localhost</code> and <code>ADVERTISED_PORT=9092</code> without any luck?"}, {"owner": {"reputation": 14400, "user_id": 4405757, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/96317f0778cae7e50548ce53e0029449?s=128&d=identicon&r=PG&f=1", "display_name": "user7", "link": "https://stackoverflow.com/users/4405757/user7"}, "reply_to_user": {"reputation": 23213, "user_id": 7131757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wvEUE.jpg?s=128&g=1", "display_name": "Giorgos Myrianthous", "link": "https://stackoverflow.com/users/7131757/giorgos-myrianthous"}, "edited": false, "score": 0, "creation_date": 1566410824, "post_id": 57596903, "comment_id": 101651282, "body": "@GiorgosMyrianthous Yes. Adding them did not make any difference to me."}, {"owner": {"reputation": 23213, "user_id": 7131757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wvEUE.jpg?s=128&g=1", "display_name": "Giorgos Myrianthous", "link": "https://stackoverflow.com/users/7131757/giorgos-myrianthous"}, "edited": false, "score": 0, "creation_date": 1566410933, "post_id": 57596903, "comment_id": 101651330, "body": "Can you also share the configuration in <code>server.properties</code>?"}, {"owner": {"reputation": 14400, "user_id": 4405757, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/96317f0778cae7e50548ce53e0029449?s=128&d=identicon&r=PG&f=1", "display_name": "user7", "link": "https://stackoverflow.com/users/4405757/user7"}, "reply_to_user": {"reputation": 23213, "user_id": 7131757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wvEUE.jpg?s=128&g=1", "display_name": "Giorgos Myrianthous", "link": "https://stackoverflow.com/users/7131757/giorgos-myrianthous"}, "edited": false, "score": 0, "creation_date": 1566410955, "post_id": 57596903, "comment_id": 101651339, "body": "@GiorgosMyrianthous I read somewhere stating the importance of <code>group.id</code> and the consumer not being closed properly. Could that be a reason? My initital runs had the <code>group.id</code> as empty string. But, it is not consuming messages even after changing to a UUID."}, {"owner": {"reputation": 14400, "user_id": 4405757, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/96317f0778cae7e50548ce53e0029449?s=128&d=identicon&r=PG&f=1", "display_name": "user7", "link": "https://stackoverflow.com/users/4405757/user7"}, "reply_to_user": {"reputation": 23213, "user_id": 7131757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wvEUE.jpg?s=128&g=1", "display_name": "Giorgos Myrianthous", "link": "https://stackoverflow.com/users/7131757/giorgos-myrianthous"}, "edited": false, "score": 0, "creation_date": 1566411204, "post_id": 57596903, "comment_id": 101651451, "body": "@GiorgosMyrianthous I have added it to my question. Thanks"}, {"owner": {"reputation": 23213, "user_id": 7131757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wvEUE.jpg?s=128&g=1", "display_name": "Giorgos Myrianthous", "link": "https://stackoverflow.com/users/7131757/giorgos-myrianthous"}, "edited": false, "score": 0, "creation_date": 1566411277, "post_id": 57596903, "comment_id": 101651476, "body": "In <code>server.properties</code> have you tried setting <code>advertised.host.name=&quot;localhost&quot;</code> and <code>advertised.port=9092</code> ?"}, {"owner": {"reputation": 14400, "user_id": 4405757, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/96317f0778cae7e50548ce53e0029449?s=128&d=identicon&r=PG&f=1", "display_name": "user7", "link": "https://stackoverflow.com/users/4405757/user7"}, "reply_to_user": {"reputation": 23213, "user_id": 7131757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wvEUE.jpg?s=128&g=1", "display_name": "Giorgos Myrianthous", "link": "https://stackoverflow.com/users/7131757/giorgos-myrianthous"}, "edited": false, "score": 0, "creation_date": 1566411337, "post_id": 57596903, "comment_id": 101651505, "body": "I had <code>advertised.host.name=localhost</code> and <code>advertised.port=9092</code> in my properties (without quotes - I guess that shouldn&#39;t be an issue)"}, {"owner": {"reputation": 22510, "user_id": 262022, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2969bc1f725d2052af3c6cd95699769e?s=128&d=identicon&r=PG", "display_name": "radai", "link": "https://stackoverflow.com/users/262022/radai"}, "edited": false, "score": 1, "creation_date": 1566411707, "post_id": 57596903, "comment_id": 101651644, "body": "how do you know produce succeeds? to you examine the returned future? do you provide a callback? do you call flush() on the producer ?"}, {"owner": {"reputation": 14400, "user_id": 4405757, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/96317f0778cae7e50548ce53e0029449?s=128&d=identicon&r=PG&f=1", "display_name": "user7", "link": "https://stackoverflow.com/users/4405757/user7"}, "reply_to_user": {"reputation": 22510, "user_id": 262022, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2969bc1f725d2052af3c6cd95699769e?s=128&d=identicon&r=PG", "display_name": "radai", "link": "https://stackoverflow.com/users/262022/radai"}, "edited": false, "score": 0, "creation_date": 1566411787, "post_id": 57596903, "comment_id": 101651674, "body": "@radai I don&#39;t call flush. I can see the messages from the <i>console consumer</i> when reading from a partition."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1566426497, "post_id": 57596903, "comment_id": 101656992, "body": "Can you try <code>myProducer.flush();</code> before the close?"}, {"owner": {"reputation": 22510, "user_id": 262022, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2969bc1f725d2052af3c6cd95699769e?s=128&d=identicon&r=PG", "display_name": "radai", "link": "https://stackoverflow.com/users/262022/radai"}, "edited": false, "score": 0, "creation_date": 1566450404, "post_id": 57596903, "comment_id": 101661200, "body": "@user7 - youre setting the exact same key on all records. i think they are all hashing into the same partition (which just isnt partition 1) ..."}], "answers": [{"comments": [{"owner": {"reputation": 14400, "user_id": 4405757, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/96317f0778cae7e50548ce53e0029449?s=128&d=identicon&r=PG&f=1", "display_name": "user7", "link": "https://stackoverflow.com/users/4405757/user7"}, "edited": false, "score": 0, "creation_date": 1566472260, "post_id": 57602361, "comment_id": 101671447, "body": "I suppose this cannot be true. Internally, when I do not pass a key, it defaults to the key as <code>null</code>. It should use a round-robin in that case. Also, when I run the console producer by passing topic <b>and</b> partition, it retrives the messages for all partitions (0, 1 and 2). My issue is that the Java consumer does not retrive the messages."}, {"owner": {"reputation": 14400, "user_id": 4405757, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/96317f0778cae7e50548ce53e0029449?s=128&d=identicon&r=PG&f=1", "display_name": "user7", "link": "https://stackoverflow.com/users/4405757/user7"}, "edited": false, "score": 0, "creation_date": 1566479382, "post_id": 57602361, "comment_id": 101675544, "body": "The issue is not happening now after a restart. It must have something to do with the deletion and re-creation of the <code>kafka-logs</code>. See my answer (not an answer really)"}], "tags": [], "owner": {"reputation": 22510, "user_id": 262022, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2969bc1f725d2052af3c6cd95699769e?s=128&d=identicon&r=PG", "display_name": "radai", "link": "https://stackoverflow.com/users/262022/radai"}, "is_accepted": false, "score": 1, "last_activity_date": 1566450302, "creation_date": 1566450302, "answer_id": 57602361, "question_id": 57596903, "link": "https://stackoverflow.com/questions/57596903/apache-kafka-java-consumer-does-not-receive-message-for-topic-with-replication-f/57602361#57602361", "title": "Apache Kafka Java consumer does not receive message for topic with replication factor more than one", "body": "<p>so, youre sending 10 records, but all 10 records have the SAME key:</p>\n\n<pre><code>for (int i = 0; i &lt; numberOfRecords; i++) {\n   String message = String.format(\"Message: %s  sent at %s\", Integer.toString(i), dtFormat.format(new Date()));\n   System.out.println(\"Sending \" + message);\n   myProducer.send(new ProducerRecord&lt;String, String&gt;(topic, message)); &lt;--- KEY=topic\n}\n</code></pre>\n\n<p>unless told otherwise (by setting a partition directly on the <code>ProducerRecord</code>) the partition into which a record is delivered is determine by something like:</p>\n\n<blockquote>\n  <p>partition = murmur2(serialize(key)) % numPartitions</p>\n</blockquote>\n\n<p>so same key means same partition.</p>\n\n<p>have you tried searching for your 10 records on partitions 0 and 2 maybe?</p>\n\n<p>if you want a better \"spread\" of records amongst partitions, either use a null key (you'd get round robin) or a variable key.</p>\n"}, {"tags": [], "owner": {"reputation": 14400, "user_id": 4405757, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/96317f0778cae7e50548ce53e0029449?s=128&d=identicon&r=PG&f=1", "display_name": "user7", "link": "https://stackoverflow.com/users/4405757/user7"}, "is_accepted": false, "score": 0, "last_activity_date": 1566479252, "creation_date": 1566479252, "answer_id": 57610096, "question_id": 57596903, "link": "https://stackoverflow.com/questions/57596903/apache-kafka-java-consumer-does-not-receive-message-for-topic-with-replication-f/57610096#57610096", "title": "Apache Kafka Java consumer does not receive message for topic with replication factor more than one", "body": "<p><strong>Disclaimer:</strong> This is <strong>not</strong> an answer.</p>\n\n<p>The Java consumer is now working as expected. I did not do any change to the code or the configuration. The only thing I did was to restart my Mac. This caused the <code>kafka-logs</code> folder (and the <code>zookeeper</code> folder too I guess) to be deleted.</p>\n\n<p>I re-created the topic (with the same command - 3 partitions, replication factor of 3). Then re-started the brokers with the <strong>same</strong> configuration - no <code>advertised.host.name</code> or <code>advertised.port</code> config.</p>\n\n<p>So, recreation of the kafka-logs and topics remediated something that was causing an issue earlier.</p>\n\n<hr>\n\n<p>My only suspect is a non-properly terminated consumer. I ran the consumer code without the <code>close</code> call on the consumer in the <em>finally</em> block initially. I also had the same <code>group.id</code>. Maybe, all 3 partitions were assigned to consumers that weren't properly terminated or closed. This is just a guess..</p>\n\n<p>But even calling <code>myConsumer.position(new TopicPartition(topic, 2))</code> did not return a response earlier when I assigned the consumer to a partition. It was looping in the same <code>awaitMetadataUpdate</code> method.</p>\n"}], "owner": {"reputation": 14400, "user_id": 4405757, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/96317f0778cae7e50548ce53e0029449?s=128&d=identicon&r=PG&f=1", "display_name": "user7", "link": "https://stackoverflow.com/users/4405757/user7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 588, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566479252, "creation_date": 1566410049, "last_edit_date": 1566411189, "question_id": 57596903, "link": "https://stackoverflow.com/questions/57596903/apache-kafka-java-consumer-does-not-receive-message-for-topic-with-replication-f", "title": "Apache Kafka Java consumer does not receive message for topic with replication factor more than one", "body": "<p>I'm starting on Apache Kakfa with a simple Producer, Consumer app in Java. I'm using <code>kafka-clients</code> version <code>0.10.0.1</code> and running it on a Mac.</p>\n\n<p>I created a topic named <code>replicated_topic_partitioned</code> with 3 partitions and with replication factor as 3.</p>\n\n<p>I started the zookeeper at port 2181. I started three brokers with id 1, 2 and 3 on ports 9092, 9093 and 9094 respectively. </p>\n\n<p>Here's the output of the describe command</p>\n\n<pre><code>kafka_2.12-2.3.0/bin/kafka-topics.sh --describe --topic replicated_topic_partitioned --bootstrap-server localhost:9092    \nTopic:replicated_topic_partitioned    PartitionCount:3    ReplicationFactor:3    Configs:segment.bytes=1073741824\n     Topic: replicated_topic_partitioned    Partition: 0    Leader: 3    Replicas: 3,1,2    Isr: 3,1,2\n     Topic: replicated_topic_partitioned    Partition: 1    Leader: 1    Replicas: 1,2,3    Isr: 1,2,3\n     Topic: replicated_topic_partitioned    Partition: 2    Leader: 2    Replicas: 2,3,1    Isr: 2,3,1\n</code></pre>\n\n<p>I wrote a simple producer and a consumer code. The producer ran successfully and published the messages. But when I start the consumer, the poll call just waits indefinitely. On debugging, I found that it keeps on looping at the awaitMetadataUpdate method on the ConsumerNetworkClient.</p>\n\n<p>Here are the code for Producer and Consumer</p>\n\n<pre><code>Properties properties = new Properties();\nproperties.put(\"bootstrap.servers\", \"localhost:9092\");\nproperties.put(\"key.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\");\nproperties.put(\"value.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\");\n\nKafkaProducer&lt;String, String&gt; myProducer = new KafkaProducer&lt;&gt;(properties);\nDateFormat dtFormat = new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss:SSS\");\nString topic = \"replicated_topic_partitioned\";\n\nint numberOfRecords = 10;\ntry {\n    for (int i = 0; i &lt; numberOfRecords; i++) {\n       String message = String.format(\"Message: %s  sent at %s\", Integer.toString(i), dtFormat.format(new Date()));\n       System.out.println(\"Sending \" + message);\n       myProducer.send(new ProducerRecord&lt;String, String&gt;(topic, message));\n\n    }\n} catch (Exception e) {\n    e.printStackTrace();\n} finally {\n    myProducer.close();\n}\n</code></pre>\n\n<p>Consumer.java</p>\n\n<pre><code>Properties properties = new Properties();\nproperties.put(\"bootstrap.servers\", \"localhost:9092\");\nproperties.put(\"key.deserializer\", \"org.apache.kafka.common.serialization.StringDeserializer\");\nproperties.put(\"value.deserializer\", \"org.apache.kafka.common.serialization.StringDeserializer\");  \nproperties.put(\"group.id\", UUID.randomUUID().toString());\nproperties.put(\"auto.offset.reset\", \"earliest\");\n\nKafkaConsumer&lt;String, String&gt; myConsumer = new KafkaConsumer&lt;&gt;(properties);\n\nString topic = \"replicated_topic_partitioned\";\nmyConsumer.subscribe(Collections.singletonList(topic));\n\ntry {\n    while (true){\n        ConsumerRecords&lt;String, String&gt; records = myConsumer.poll(1000);\n         printRecords(records);\n    }\n } finally {\n     myConsumer.close();\n }\n</code></pre>\n\n<p>Adding some key-fields from <code>server.properties</code></p>\n\n<pre><code>broker.id=1 \nhost.name=localhost\nnum.network.threads=3\nnum.io.threads=8\nsocket.send.buffer.bytes=102400\nsocket.receive.buffer.bytes=102400\nsocket.request.max.bytes=104857600\n\nlog.dirs=/tmp/kafka-logs-1\nnum.partitions=1\nnum.recovery.threads.per.data.dir=1\n\ntransaction.state.log.replication.factor=1\ntransaction.state.log.min.isr=1\n\nzookeeper.connection.timeout.ms=6000\n\ngroup.initial.rebalance.delay.ms=0\n</code></pre>\n\n<p>The server.properties for the other two brokers was a replica of the above with broker.id, the port and thelog.dirs changed.</p>\n\n<p>This did not work for me:\n<a href=\"https://stackoverflow.com/questions/37770024/kafka-0-9-0-1-java-consumer-stuck-in-awaitmetadataupdate\">Kafka 0.9.0.1 Java Consumer stuck in awaitMetadataUpdate()</a></p>\n\n<hr>\n\n<p>But, if I start the consumer from the command line passing a partition, it successfully reads the messages for that partition. But it does not receive any message when <em>just</em> a topic is specified.</p>\n\n<p>Works:</p>\n\n<pre><code>kafka_2.12-2.3.0/bin/kafka-console-consumer.sh --topic replicated_topic_partitioned --bootstrap-server localhost:9092 \n     --from-beginning --partition 1\n</code></pre>\n\n<p>Does not work:</p>\n\n<pre><code>kafka_2.12-2.3.0/bin/kafka-console-consumer.sh --topic replicated_topic_partitioned --bootstrap-server localhost:9092 \n    --from-beginning \n</code></pre>\n\n<p><strong>NOTE:</strong> The above consumer works perfectly for a topic with replication factor equals 1.</p>\n\n<p>Question:</p>\n\n<ol>\n<li><p>Why does the Java Producer not read any message for topic with replication factor more than one (even when assigning it to a partition) (like <code>myConsumer.assign(Collections.singletonList(new TopicPartition(topic, 2)</code>)?</p></li>\n<li><p>Why does the console consumer read message only when passed a partition  (again works for a topic with replication factor of one)</p></li>\n</ol>\n"}, {"tags": ["java", "file", "upload", "client"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11958561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e90aad6fe771d41af6b8d1e58ada856e?s=128&d=identicon&r=PG&f=1", "display_name": "lili", "link": "https://stackoverflow.com/users/11958561/lili"}, "is_accepted": false, "score": 0, "last_activity_date": 1566429162, "creation_date": 1566429162, "answer_id": 57600232, "question_id": 57596862, "link": "https://stackoverflow.com/questions/57596862/sample-code-for-a-rest-file-upload-client-using-asynchttpclient/57600232#57600232", "title": "sample code for a rest file upload client using AsyncHttpClient", "body": "<p>builder.setHeader(\"Content-Type\", javax.ws.rs.core.MediaType.MULTIPART_FORM_DATA);\n        builder.addBodyPart(new FilePart(\"file\", file, \"application/octet-stream\", UTF_8.name()));\n        final Response response = httpClient.executeRequest(builder.build()).get(10, TimeUnit.SECONDS);</p>\n"}], "owner": {"reputation": 1, "user_id": 11958561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e90aad6fe771d41af6b8d1e58ada856e?s=128&d=identicon&r=PG&f=1", "display_name": "lili", "link": "https://stackoverflow.com/users/11958561/lili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566429162, "creation_date": 1566409898, "question_id": 57596862, "link": "https://stackoverflow.com/questions/57596862/sample-code-for-a-rest-file-upload-client-using-asynchttpclient", "title": "sample code for a rest file upload client using AsyncHttpClient", "body": "<p>I need some help creating a java client using com.ning.http.client.AsyncHttpClient that will upload a file using the rest service below</p>\n\n<p>I tried using a client with this cod, but the FileInput stream reach to the server is null:</p>\n\n<p>FilePart filePart = new FilePart(\"File\", file, null, null);</p>\n\n<p>builder.setBody(new FileInputStream(file));\nOr\n  builder.addBodyPart(filePart);</p>\n\n<p>Service code is:\n@Path(\"/file\")\npublic class UploadFileService {</p>\n\n<pre><code>@POST\n@Path(\"/upload\")\n@Consumes(MediaType.MULTIPART_FORM_DATA)\npublic Response uploadFile(\n    @FormDataParam(\"file\") InputStream uploadedInputStream,\n    @FormDataParam(\"file\") FormDataContentDisposition fileDetail) {\n\n        //Given that I have \u2018uploadedInputStream\u2019 can I just pass this  \n        //directly into the second call, below?\n\n        ClientConfig config = new DefaultClientConfig();\n        Client client = Client.create(config);\n        WebResource wr = client.resource(baseURI);\n        ClientResponse response = wr.type(\"image/*\")\n                                    .entity(uploadedInputStream)   //legal??\n                                    .post(ClientResponse.class);\n\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["java", "unit-testing", "reflection", "constructor", "mocking"], "answers": [{"tags": [], "owner": {"reputation": 3602, "user_id": 11595728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e66d44e1c9b6a771361a01e64a95b1a1?s=128&d=identicon&r=PG&f=1", "display_name": "SDJ", "link": "https://stackoverflow.com/users/11595728/sdj"}, "is_accepted": true, "score": 2, "last_activity_date": 1566478097, "last_edit_date": 1566478097, "creation_date": 1566411783, "answer_id": 57597289, "question_id": 57596851, "link": "https://stackoverflow.com/questions/57596851/cant-create-an-instance-of-attribute-for-a-unit-test/57597289#57597289", "title": "Can&#39;t create an instance of Attribute for a unit test", "body": "<p>In a pinch, you could use reflection:</p>\n\n<pre><code>private static Attribute createAttributeStub() {\n    try {\n        Constructor&lt;Attribute&gt; constructor = \n                Attribute.class.getDeclaredConstructor(String.class, String.class, \n                        Date.class, String.class);\n        constructor.setAccessible(true);\n        return constructor.newInstance(\"fake\", \"fakeName\", \n                new SimpleDateFormat(\"dd/MM/yyyy\").parse(\"21/08/2019\"), \"fake Metadata\");\n    }\n    catch( ReflectiveOperationException | ParseException e ) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2461, "user_id": 2405914, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/VoFWS.jpg?s=128&g=1", "display_name": "Leonardo Alves Machado", "link": "https://stackoverflow.com/users/2405914/leonardo-alves-machado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 57597289, "answer_count": 1, "score": 1, "last_activity_date": 1566478097, "creation_date": 1566409864, "question_id": 57596851, "link": "https://stackoverflow.com/questions/57596851/cant-create-an-instance-of-attribute-for-a-unit-test", "title": "Can&#39;t create an instance of Attribute for a unit test", "body": "<p>I am using an API that has a method that fetches some data from a remote server. The method usage is like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Attribute a = obj.getRemoteAttribute();\n</code></pre>\n\n<p>The <code>Attribute</code> class is like this</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package a.package.outside.my.project;\n\nimport java.util.Date;\n\npublic class Attribute {\n  private String id;\n  private String name;\n  private Date modifiedAt;\n  private String metadata;\n\n  Attribute(String id, String name, Date modifiedAt, String metadata) {\n    this.id = id;\n    this.name = name;\n    this.modifiedAt = modifiedAt;\n    this.metadata = metadata;\n  }\n\n  public String getId() {\n    return id;\n  }\n\n  public Date getModifiedAt() {\n    return modifiedAt;\n  }\n\n  public String getMetadata() {\n    return metadata;\n  }\n\n  public String getName() {\n    return name;\n  }\n}\n</code></pre>\n\n<p>I'm trying to create a unit test, mocking this method. I'm with <code>Mockito</code> for that. The test is something like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void getAttributeShouldWork() throws Exception {\n        Storage mockStorage = Mockito.mock(Storage.class);\n        Attribute attribute = new Attribute(\"fake\", \"fakeName\", new SimpleDateFormat(\"dd/MM/yyyy\").parse(\"21/08/2019\"), \"fake Metadata\"); \n        Mockito.when(storage.getAttribute()).thenReturn(attribute);\n        // some other stuff\n    }\n</code></pre>\n\n<p>However, the test does not compile - the constructor from <code>Attribute</code> (4\u00ba line) is package private and I can't use it in the test. I can't also extend the class - there is no default constructor. There is no factory to create <code>Attribute</code>, no accessible builder class. I also can't change <code>Attribute</code>'s code.</p>\n\n<p>So, my question is - how can I create a fake object to use in this test with mocks? I don't want my unit tests depending on network or remote server's availability...</p>\n"}, {"tags": ["java", "hashmap"], "comments": [{"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 1, "creation_date": 1566409324, "post_id": 57596724, "comment_id": 101650675, "body": "And what do you expect to do on collisions?"}, {"owner": {"reputation": 10797, "user_id": 5678853, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d01c96f03cca4973f6ea3041dce9ab7d?s=128&d=identicon&r=PG&f=1", "display_name": "Blake Rivell", "link": "https://stackoverflow.com/users/5678853/blake-rivell"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1566409387, "post_id": 57596724, "comment_id": 101650704, "body": "@Mike&#39;Pomax&#39;Kamermans There won&#39;t ever be collisions since it is just all of the values which will always be their own entities in memory, even if the properties are exactly the same it doesn&#39;t matter, I don&#39;t care about the keys."}, {"owner": {"reputation": 21755, "user_id": 1283845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FpLkg.jpg?s=128&g=1", "display_name": "BlackHatSamurai", "link": "https://stackoverflow.com/users/1283845/blackhatsamurai"}, "edited": false, "score": 0, "creation_date": 1566409432, "post_id": 57596724, "comment_id": 101650718, "body": "So what do the values map to?"}, {"owner": {"reputation": 3410, "user_id": 535515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be8792d522b04f051fbd7a4eb1e80e3f?s=128&d=identicon&r=PG", "display_name": "Gus", "link": "https://stackoverflow.com/users/535515/gus"}, "edited": false, "score": 1, "creation_date": 1566409466, "post_id": 57596724, "comment_id": 101650732, "body": "If you only want the <code>MyEntity</code> side of all the HashMaps, consider <code>ArrayList.AddAll()</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#addAll-java.util.Collection-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/&hellip;</a>"}, {"owner": {"reputation": 10797, "user_id": 5678853, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d01c96f03cca4973f6ea3041dce9ab7d?s=128&d=identicon&r=PG&f=1", "display_name": "Blake Rivell", "link": "https://stackoverflow.com/users/5678853/blake-rivell"}, "reply_to_user": {"reputation": 21755, "user_id": 1283845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FpLkg.jpg?s=128&g=1", "display_name": "BlackHatSamurai", "link": "https://stackoverflow.com/users/1283845/blackhatsamurai"}, "edited": false, "score": 0, "creation_date": 1566409508, "post_id": 57596724, "comment_id": 101650751, "body": "@BlackHatSamurai Lets say an Id to keep it simple, yes there might be the keys that are the same across hashmaps but it shouldn&#39;t matter as far as my business logic is concerned."}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 1, "creation_date": 1566409523, "post_id": 57596724, "comment_id": 101650761, "body": "So... all you care about is <code>new arraylist(h1).addall(h2).addAll(h3)</code> etc.? If so: that&#39;s part of the standard ArrayList API. Give its method list a read-over, it&#39;s worth knowing what it supports out of the box."}, {"owner": {"reputation": 10797, "user_id": 5678853, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d01c96f03cca4973f6ea3041dce9ab7d?s=128&d=identicon&r=PG&f=1", "display_name": "Blake Rivell", "link": "https://stackoverflow.com/users/5678853/blake-rivell"}, "reply_to_user": {"reputation": 3410, "user_id": 535515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be8792d522b04f051fbd7a4eb1e80e3f?s=128&d=identicon&r=PG", "display_name": "Gus", "link": "https://stackoverflow.com/users/535515/gus"}, "edited": false, "score": 0, "creation_date": 1566409528, "post_id": 57596724, "comment_id": 101650763, "body": "@Gus that is exactly what I am looking for I believe."}, {"owner": {"reputation": 10797, "user_id": 5678853, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d01c96f03cca4973f6ea3041dce9ab7d?s=128&d=identicon&r=PG&f=1", "display_name": "Blake Rivell", "link": "https://stackoverflow.com/users/5678853/blake-rivell"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1566409544, "post_id": 57596724, "comment_id": 101650770, "body": "@Mike&#39;Pomax&#39;Kamermans Correct!"}, {"owner": {"reputation": 21755, "user_id": 1283845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FpLkg.jpg?s=128&g=1", "display_name": "BlackHatSamurai", "link": "https://stackoverflow.com/users/1283845/blackhatsamurai"}, "edited": false, "score": 0, "creation_date": 1566409573, "post_id": 57596724, "comment_id": 101650781, "body": "If you have keys that are the same, previous values will be overwritten. Maps don&#39;t handle collision well."}, {"owner": {"reputation": 21755, "user_id": 1283845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FpLkg.jpg?s=128&g=1", "display_name": "BlackHatSamurai", "link": "https://stackoverflow.com/users/1283845/blackhatsamurai"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1566409601, "post_id": 57596724, "comment_id": 101650793, "body": "It should be noted that @Mike&#39;Pomax&#39;Kamermans solution will still iterate underneath the hood."}, {"owner": {"reputation": 10797, "user_id": 5678853, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d01c96f03cca4973f6ea3041dce9ab7d?s=128&d=identicon&r=PG&f=1", "display_name": "Blake Rivell", "link": "https://stackoverflow.com/users/5678853/blake-rivell"}, "edited": false, "score": 0, "creation_date": 1566409650, "post_id": 57596724, "comment_id": 101650810, "body": "At the end of the day I just want all of the Entities to be in a single list, I do not care about the keys from the HashMap because they were just for temporary use. Thanks!"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 1, "creation_date": 1566409662, "post_id": 57596724, "comment_id": 101650818, "body": "naturally; I assume anyone who doesn&#39;t want to iterate over a list actually means &quot;I don&#39;t want to write my own for loop&quot;."}, {"owner": {"reputation": 21755, "user_id": 1283845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FpLkg.jpg?s=128&g=1", "display_name": "BlackHatSamurai", "link": "https://stackoverflow.com/users/1283845/blackhatsamurai"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1566409681, "post_id": 57596724, "comment_id": 101650827, "body": "Lol... Agreed @Mike&#39;Pomax&#39;Kamermans"}], "answers": [{"tags": [], "owner": {"reputation": 816, "user_id": 9123425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CYcnR.png?s=128&g=1", "display_name": "Marc G. Smith", "link": "https://stackoverflow.com/users/9123425/marc-g-smith"}, "is_accepted": false, "score": 4, "last_activity_date": 1566414522, "last_edit_date": 1566414522, "creation_date": 1566409595, "answer_id": 57596793, "question_id": 57596724, "link": "https://stackoverflow.com/questions/57596724/merging-values-from-multiple-hashmaps-into-a-single-list/57596793#57596793", "title": "Merging values from multiple HashMaps into a single List", "body": "<pre><code>List&lt;MyEntity&gt; finalList = new ArrayList&lt;MyEntity&gt;();\nfinalList.addAll(hashMapOne.values());\nfinalList.addAll(hashMapTwo.values());\nfinalList.addAll(hashMapThree.values());\nfinalList.addAll(hashMapFour.values());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26221, "user_id": 7294647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/QFLgL.jpg?s=128&g=1", "display_name": "Jacob G.", "link": "https://stackoverflow.com/users/7294647/jacob-g"}, "is_accepted": false, "score": 3, "last_activity_date": 1566409667, "creation_date": 1566409667, "answer_id": 57596815, "question_id": 57596724, "link": "https://stackoverflow.com/questions/57596724/merging-values-from-multiple-hashmaps-into-a-single-list/57596815#57596815", "title": "Merging values from multiple HashMaps into a single List", "body": "<p>If I were you, I'd just use <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Stream.html#of(T...)\" rel=\"nofollow noreferrer\"><code>Stream#of</code></a> for all <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Map.html#values()\" rel=\"nofollow noreferrer\"><code>Map#values</code></a>, and then call <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Stream#flatMap</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>Stream#collect</code></a> to transform it to a <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\"><code>List</code></a>:</p>\n\n<pre><code>List&lt;MyEntity&gt; finalList = Stream.of(hashMapOne.values(), hashMapTwo.values(), \n                                     hashMapThree.values(), hashMapFour.values())\n      .flatMap(Collection::stream)\n      .collect(Collectors.toList());\n</code></pre>\n"}], "owner": {"reputation": 10797, "user_id": 5678853, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d01c96f03cca4973f6ea3041dce9ab7d?s=128&d=identicon&r=PG&f=1", "display_name": "Blake Rivell", "link": "https://stackoverflow.com/users/5678853/blake-rivell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1566414522, "creation_date": 1566409223, "question_id": 57596724, "link": "https://stackoverflow.com/questions/57596724/merging-values-from-multiple-hashmaps-into-a-single-list", "title": "Merging values from multiple HashMaps into a single List", "body": "<p>I have 4 separate hashmaps all of the same type. I would like to merge the values of them all into a single list. I know how to set a List to hashMapOne.values(), but this doesn't help me here since I need to add all values from all 4 lists. Can I do this without looping and individually adding each one?</p>\n\n<pre><code>HashMap&lt;String, MyEntity&gt; hashMapOne = new HashMap&lt;String, MyEntity&gt;();\nHashMap&lt;String, MyEntity&gt; hashMapTwo = new HashMap&lt;String, MyEntity&gt;();\nHashMap&lt;String, MyEntity&gt; hashMapThree = new HashMap&lt;String, MyEntity&gt;();\nHashMap&lt;String, MyEntity&gt; hashMapFour = new HashMap&lt;String, MyEntity&gt;();\n\nList&lt;MyEntity&gt; finalList = new ArrayList&lt;MyEntity&gt;();\n</code></pre>\n"}, {"tags": ["java", "mongodb", "atlas"], "comments": [{"owner": {"reputation": 3715, "user_id": 1241334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fCjAE.jpg?s=128&g=1", "display_name": "Jonny Henly", "link": "https://stackoverflow.com/users/1241334/jonny-henly"}, "edited": false, "score": 0, "creation_date": 1566409089, "post_id": 57596636, "comment_id": 101650570, "body": "You&#39;re telling it to output the data as JSON (<code>cursor.next().toJson()</code>), have you tried telling it to output the data as CSV?"}, {"owner": {"reputation": 2730, "user_id": 11857981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KZpHg.jpg?s=128&g=1", "display_name": "Himanshu Sharma", "link": "https://stackoverflow.com/users/11857981/himanshu-sharma"}, "edited": false, "score": 0, "creation_date": 1566412123, "post_id": 57596636, "comment_id": 101651806, "body": "Try <code>cursor.next.values()</code>, it would get you all values correspond to the keys present in the document."}], "owner": {"reputation": 1, "user_id": 3102751, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000777563353/picture?type=large", "display_name": "Esteban", "link": "https://stackoverflow.com/users/3102751/esteban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 14, "favorite_count": 0, "closed_date": 1566418111, "answer_count": 0, "score": 0, "last_activity_date": 1566408829, "creation_date": 1566408829, "question_id": 57596636, "link": "https://stackoverflow.com/questions/57596636/how-can-i-get-a-csv-from-my-atlas-mongodb-cluster", "closed_reason": "Duplicate", "title": "How can I get a CSV from my atlas mongodb cluster?", "body": "<p>I have a demo collection in atlas db.\nI have already connected the database and I'm able to print all the data inside the collection.\nI'm able to get the export file as CSV locally in my computer...</p>\n\n<p>but:</p>\n\n<p>When I try to get the info as follows</p>\n\n<pre><code>MongoCursor&lt;Document&gt; cursor = collection.find().iterator();\n        try {\n            while (cursor.hasNext()) {\n                System.out.println(cursor.next().toJson());\n            }\n        } finally {\n            cursor.close();\n        }\n</code></pre>\n\n<p>I get the following info</p>\n\n<pre><code>{{_id=5d570a7a1c9d4400002b4e79, \"searchWord\"=blackberry, \"team\"=colombia}}\n{\"_id\": {\"$oid\": \"5d570a7a1c9d4400002b4e79\"}, \"\\\"searchWord\\\"\": \"blackberry\", \"\\\"team\\\"\": \"colombia\"}\n{\"_id\": {\"$oid\": \"5d5724301c9d440000685aa3\"}, \"\\\"searchWord\\\"\": \"iphone\", \"\\\"team\\\"\": \"argentina\"}\n{\"_id\": {\"$oid\": \"5d57245d62ce0e2ba08fc78c\"}, \"\\\"searchWord\\\"\": \"xiaomi\", \"\\\"team\\\"\": \"brasil\"}\n</code></pre>\n\n<p>How can I get the info printed in the CSV format? whout using the mongoexport.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["java", "hibernate", "jpa"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4367461"}, "edited": false, "score": 0, "creation_date": 1566420411, "post_id": 57596607, "comment_id": 101655156, "body": "I don&#39;t know the solution to your problem. But this seems complicated. Could there be a different way to implement this?"}, {"owner": {"reputation": 11, "user_id": 11958193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f31a9b9fb5500cf6ff1d5a61cd96aca?s=128&d=identicon&r=PG&f=1", "display_name": "gpank", "link": "https://stackoverflow.com/users/11958193/gpank"}, "edited": false, "score": 0, "creation_date": 1566482497, "post_id": 57596607, "comment_id": 101677491, "body": "We have very complex requirements and this would be the simplest structure (believe it or not), but we&#39;re assessing that now and have a minor workaround in place until we figure out if we can re-architect the structure.  Basically we&#39;re doing a query to load children first, then the entity manager has no problem making the determination of what type it is."}], "owner": {"reputation": 11, "user_id": 11958193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f31a9b9fb5500cf6ff1d5a61cd96aca?s=128&d=identicon&r=PG&f=1", "display_name": "gpank", "link": "https://stackoverflow.com/users/11958193/gpank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566482636, "creation_date": 1566408691, "last_edit_date": 1566482636, "question_id": 57596607, "link": "https://stackoverflow.com/questions/57596607/jpa-hibernate-unable-to-discriminate-with-list-of-abstract-types-when-retrieving", "title": "JPA/Hibernate unable to discriminate with list of abstract types when retrieving from database", "body": "<p>I'm having an issue with hibernate throwing an \"Cannot instantiate abstract class\" exception whenever I try to query an item in the database that has a valid child in the abstract list as it's child. I've been digging through this site for days with similar exceptions, but can't find anything with this scenario.</p>\n\n<p>Abstract class: </p>\n\n<pre><code>@Entity\n@Table(name = \"ITEM\")\n@Inheritance(strategy = InheritanceType.JOINED)\npublic abstract class Item {\n/* ID and other fields/getters/setters omitted for brevity.*/\n\n@ManyToOne\n@JoinColumn(name = \"FK_ITEM_PARENT\")\nprivate Item _parent\n\n@OneToMany(fetch = FetchType.Eager, mappedBy = \"_parent\")\nprivate Set&lt;Item&gt; _children;\n\n}\n</code></pre>\n\n<p>Child Type A:</p>\n\n<pre><code>@Entity\n@Table(name = \"ITEM_A\")\npublic class ItemA extends Item implements Serializable {\n\n@Basic\n@Column(name =\"PROPERTY_A\")\nprivate String propertyA;\n\n/* getters/setters ommitted for brevity */\n}\n</code></pre>\n\n<p>Child Type B:</p>\n\n<pre><code>@Entity\n@Table(name = \"ITEM_B\")\npublic class ItemB extends Item implements Serializable {\n\n@Basic\n@Column(name =\"PROPERTY_B\")\nprivate String propertyB;\n\n/* getters/setters ommitted for brevity */\n}\n</code></pre>\n\n<p><strong>I can save to the database and the data is populated in the base table as well as the joined table and have matching IDs in the appropriate column.</strong> Also, if I query the child first then the parent everything works fine. However, anytime I query a parent that has children I get the exception:</p>\n\n<pre><code>    org.springframework.orm.jpa.JpaSystemException: Cannot instantiate abstract class or interface:  : &lt;omitted&gt;.Item; nested exception is org.hibernate.InstantiationException: Cannot instantiate abstract class or interface:  : &lt;omitted&gt;.Item\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:351) ~[spring-orm-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:253) ~[spring-orm-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:527) ~[spring-orm-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153) ~[spring-tx-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295) ~[spring-tx-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at &lt;omitted&gt;.BaseDao$$EnhancerBySpringCGLIB$$5573ddc2.findRecords(&lt;generated&gt;) ~[&lt;omitted&gt;.135-SNAPSHOT.jar:na]\n    at &lt;omitted&gt;.BaseModel.getRecords(BaseModel.java:158) ~[&lt;omitted&gt;.135-SNAPSHOT.jar:na]\n    at &lt;omitted&gt;.BaseModel.getRecords(BaseModel.java:92) ~[&lt;omitted&gt;.135-SNAPSHOT.jar:na]\n    at &lt;omitted&gt;.model.HistoryAccessControlledModel.getItemHistory(HistoryAccessControlledModel.java:76) ~[classes:na]\n    at &lt;omitted&gt;.HistoryItemsController.getInventoryItemHistory(HistoryItemsController.java:45) ~[classes:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n</code></pre>\n\n<p>If I add @DiscriminatorColumn to the Item class and @DiscriminatorValue to the ItemA and ItemB classes as appropriate, then hibernate properly instantiates the children in the list.  However, I get a an exception when I try to insert any ItemA or ItemB:</p>\n\n<pre><code>org.springframework.orm.jpa.JpaSystemException: could not insert: [&lt;omitted&gt;.ItemB]; nested exception is org.hibernate.exception.GenericJDBCException: could not insert: [&lt;omitted&gt;.ItemB]\n\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:351)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:253)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:534)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:305)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n    at &lt;omitted&gt;.InitializerData$$EnhancerBySpringCGLIB$$de3251cc.insertAll(&lt;generated&gt;)\n    at &lt;omitted&gt;.DbinitTest.init(DbinitTest.java:36)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: org.hibernate.exception.GenericJDBCException: could not insert: [&lt;omitted&gt;.ItemB]\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3194)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3690)\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:90)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:478)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:356)\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1454)\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:511)\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3290)\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2486)\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:178)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:39)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:271)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:532)\n    ... 37 more\nCaused by: org.h2.jdbc.JdbcSQLException: Invalid value \"19\" for parameter \"parameterIndex\" [90008-196]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:345)\n    at org.h2.message.DbException.get(DbException.java:179)\n    at org.h2.message.DbException.getInvalidValueException(DbException.java:228)\n    at org.h2.jdbc.JdbcPreparedStatement.setParameter(JdbcPreparedStatement.java:1444)\n    at org.h2.jdbc.JdbcPreparedStatement.setLong(JdbcPreparedStatement.java:602)\n    at org.hibernate.type.descriptor.sql.BigIntTypeDescriptor$1.doBind(BigIntTypeDescriptor.java:46)\n    at org.hibernate.type.descriptor.sql.BasicBinder.bind(BasicBinder.java:74)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:276)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeSet(AbstractStandardBasicType.java:271)\n    at org.hibernate.persister.entity.AbstractEntityPersister.dehydrateId(AbstractEntityPersister.java:2921)\n    at org.hibernate.persister.entity.AbstractEntityPersister.dehydrate(AbstractEntityPersister.java:2879)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3167)\n    ... 53 more\n</code></pre>\n\n<p>Any help in resolving this issue would be greatly appreciated!</p>\n\n<p>Edit: I've also tried adding the cascade flag in the annotation and it doesn't change the behavior.</p>\n"}, {"tags": ["java", "android", "android-recyclerview"], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 11745417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77748cc9fcc24c73dc8dce155d690bdb?s=128&d=identicon&r=PG&f=1", "display_name": "Etoile", "link": "https://stackoverflow.com/users/11745417/etoile"}, "edited": false, "score": 0, "creation_date": 1566409367, "post_id": 57596611, "comment_id": 101650691, "body": "It still doesn&#39;t work :/ it seems I have more than one problem in the code :D"}], "tags": [], "owner": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "is_accepted": false, "score": 0, "last_activity_date": 1566409089, "last_edit_date": 1566409089, "creation_date": 1566408720, "answer_id": 57596611, "question_id": 57596565, "link": "https://stackoverflow.com/questions/57596565/my-recyclerview-in-fragment-stays-blank-even-when-its-populated/57596611#57596611", "title": "My RecyclerView in fragment stays blank even when it&#39;s populated", "body": "<p>Remove this line:</p>\n\n<pre><code>    mRecyclerView.setHasFixedSize(true);\n</code></pre>\n\n<p>Since you are loading data asynchronously, your data size is 0 when you set the adapter. Because you are setting it to fixed size, RecyclerView won't update its size when items change.  </p>\n\n<p>From <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView#sethasfixedsize\" rel=\"nofollow noreferrer\">documentation on <code>setHasFixedSize()</code></a>:</p>\n\n<blockquote>\n  <p>RecyclerView can still change its size based on other factors (e.g. its parent's size) but this size calculation cannot depend on the size of its children or contents of its adapter (except the number of items in the adapter).</p>\n</blockquote>\n\n<p>You can also set the adapter <em>after loading the data</em>. It should work as well.</p>\n"}, {"comments": [{"owner": {"reputation": 161, "user_id": 11745417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77748cc9fcc24c73dc8dce155d690bdb?s=128&d=identicon&r=PG&f=1", "display_name": "Etoile", "link": "https://stackoverflow.com/users/11745417/etoile"}, "edited": false, "score": 0, "creation_date": 1566409945, "post_id": 57596701, "comment_id": 101650919, "body": "Hello, I tried it and it looks like it really was a problem, but I now get another error in the log (I updated the post). Does it mean my textviews are not initialized?"}, {"owner": {"reputation": 1027, "user_id": 6375170, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zugq_QmaxMM/AAAAAAAAAAI/AAAAAAAAAPQ/U_tBeKw3rDg/photo.jpg?sz=128", "display_name": "Ashok Kumar", "link": "https://stackoverflow.com/users/6375170/ashok-kumar"}, "reply_to_user": {"reputation": 161, "user_id": 11745417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77748cc9fcc24c73dc8dce155d690bdb?s=128&d=identicon&r=PG&f=1", "display_name": "Etoile", "link": "https://stackoverflow.com/users/11745417/etoile"}, "edited": false, "score": 0, "creation_date": 1566411831, "post_id": 57596701, "comment_id": 101651697, "body": "try calling parseJSON(); in onActivityCreated()"}], "tags": [], "owner": {"reputation": 1027, "user_id": 6375170, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zugq_QmaxMM/AAAAAAAAAAI/AAAAAAAAAPQ/U_tBeKw3rDg/photo.jpg?sz=128", "display_name": "Ashok Kumar", "link": "https://stackoverflow.com/users/6375170/ashok-kumar"}, "is_accepted": true, "score": 0, "last_activity_date": 1566409114, "creation_date": 1566409114, "answer_id": 57596701, "question_id": 57596565, "link": "https://stackoverflow.com/questions/57596565/my-recyclerview-in-fragment-stays-blank-even-when-its-populated/57596701#57596701", "title": "My RecyclerView in fragment stays blank even when it&#39;s populated", "body": "<p>You need to notify adapter about dataset change .call below code in <code>onResponse()</code></p>\n\n<pre><code>mListAdapter.notifyDataSetChanged();\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 11745417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77748cc9fcc24c73dc8dce155d690bdb?s=128&d=identicon&r=PG&f=1", "display_name": "Etoile", "link": "https://stackoverflow.com/users/11745417/etoile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 57596701, "answer_count": 2, "score": 0, "last_activity_date": 1566409862, "creation_date": 1566408485, "last_edit_date": 1566409862, "question_id": 57596565, "link": "https://stackoverflow.com/questions/57596565/my-recyclerview-in-fragment-stays-blank-even-when-its-populated", "title": "My RecyclerView in fragment stays blank even when it&#39;s populated", "body": "<p>I have the following problem with RecyclerView on Android:</p>\n\n<p>Whenever I try to open the fragment with the RecyclerView, it stays blank. My ArrayList mList isn't empty, it contains data (I tested it).</p>\n\n<p>I tried many things to fix this problem, but I'm a beginner, so I don't really know where the problem is.</p>\n\n<p>The RecyclerView should display a list of products. I think there is a problem with my adapter or maybe the xml file fragment_list doesn't show up properly? I don't really know.</p>\n\n<p>My ListAdaper class:</p>\n\n<pre><code>import android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\nimport androidx.annotation.NonNull;\nimport androidx.cardview.widget.CardView;\nimport androidx.recyclerview.widget.RecyclerView;\nimport java.util.ArrayList;\n\npublic class ListAdapter extends \nRecyclerView.Adapter&lt;ListAdapter.ListViewHolder&gt; {\n\nprivate Context mContext;\nprivate ArrayList&lt;Item&gt; mList;\n\npublic ListAdapter(Context context, ArrayList&lt;Item&gt; list) {\n\n    mContext = context;\n    mList = list;\n\n}\n\n@NonNull\n@Override\npublic ListViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View v = LayoutInflater.from(mContext).inflate(R.layout.list_item, parent, false);\n    return new ListViewHolder(v);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull ListViewHolder holder, int position) {\n    Item currentItem = mList.get(position);\n\n    holder.textViewName.setText(currentItem.getName());\n    holder.textViewRegion.setText(currentItem.getRegion());\n}\n\n@Override\npublic void onAttachedToRecyclerView(@NonNull RecyclerView recyclerView) {\n    super.onAttachedToRecyclerView(recyclerView);\n}\n\npublic static class ListViewHolder extends RecyclerView.ViewHolder {\n\n    public CardView cardView;\n    public TextView textViewName;\n    public TextView textViewRegion;\n\n    public ListViewHolder(@NonNull View itemView) {\n        super(itemView);\n        cardView = itemView.findViewById(R.id.cardview);\n        textViewName = itemView.findViewById(R.id.item_name);\n        textViewRegion = itemView.findViewById(R.id.item_region);\n    }\n}\n\n@Override\npublic int getItemCount() {\n    return mList.size();\n}\n}\n</code></pre>\n\n<p>...my ListFragment class:</p>\n\n<pre><code>import android.content.Context;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.widget.DefaultItemAnimator;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.JsonObjectRequest;\nimport com.android.volley.toolbox.Volley;\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport java.util.ArrayList;\nimport java.util.Iterator;\n\n\npublic class ListFragment extends Fragment {\n\nprivate RecyclerView mRecyclerView;\nprivate ListAdapter mListAdapter;\nprivate ArrayList&lt;Item&gt; mList;\nprivate RequestQueue mRequestQueue;\nprivate Context mContext;\n\n\n@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n    View rootview = inflater.inflate(R.layout.fragment_list, container, false);\n\n    mRecyclerView = rootview.findViewById(R.id.recycler_view);\n    mRecyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\n    mRecyclerView.setHasFixedSize(true);\n    parseJSON();\n    mRecyclerView.setAdapter(mListAdapter);\n    mRecyclerView.setItemAnimator(new DefaultItemAnimator());\n    return rootview;\n}\n\n@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n}\n\n@Override\npublic void onActivityCreated(@Nullable Bundle savedInstanceState) {\n    super.onActivityCreated(savedInstanceState);\n}\n\n@Override\npublic void onAttach(Context context) {\n    super.onAttach(context);\n    mContext = context;\n}\n\n@Override\npublic void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    mList = new ArrayList&lt;&gt;();\n    mListAdapter = new ListAdapter(mContext, mList);\n    mRequestQueue = Volley.newRequestQueue(mContext);\n\n}\n\n\nprivate void parseJSON() {\n\n    JsonObjectRequest request = new JsonObjectRequest(\"http://my_ip/sestavsisvujsvetweb/api/seznammagnetek\", null, new Response.Listener&lt;JSONObject&gt;() {\n\n        @Override\n        public void onResponse(JSONObject response) {\n            JSONObject magnetky = response;\n            try {\n\n                Iterator keys = magnetky.keys();\n                while (keys.hasNext()) {\n                    Object key = keys.next();\n                    JSONObject value = magnetky.getJSONObject((String) key);\n                    String monumentnumber = value.getString(\"monumentid\");\n                    String monumentname = value.getString(\"name\");\n                    String monumentregion = value.getString(\"region\");\n                    mList.add(new Item(monumentnumber, monumentname, monumentregion));\n                }\n\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n\n        }\n    }\n\n            , new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n            error.printStackTrace();\n        }\n    });\n    if (request != null) {\n        mRequestQueue.add(request);\n    }\n\n}\n\n}\n</code></pre>\n\n<p>.....and my Item model class:</p>\n\n<pre><code>public class Item {\n\nprivate String name;\nprivate String number;\nprivate String region;\n\npublic Item(String number, String name, String region) {\n    this.name = name;\n    this.number = number;\n    this.region = region;\n}\npublic String getName() {\n    return name;\n}\npublic String getRegion() {\n    return region;\n}\npublic String getNumber() { return number; }\n}\n</code></pre>\n\n<p>Thanks for help, if I didn't include something important please do let me know :)</p>\n\n<p><strong>Update:</strong> I tried adding mListAdapter.notifyDataSetChanged(); and it seems so work, but I get this error in the log:</p>\n\n<pre><code>2019-08-21 19:46:16.947 5542-5542/com.example.app E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.app, PID: 5542\njava.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n    at com.example.app.ListAdapter.onBindViewHolder(ListAdapter.java:38)\n    at com.example.app.ListAdapter.onBindViewHolder(ListAdapter.java:15)\n\n........and some other stuff\n</code></pre>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1566410214, "post_id": 57596521, "comment_id": 101651023, "body": "Related, possibly duplicate: <a href=\"https://stackoverflow.com/questions/20642673/strategy-for-debugging-surefire-the-forked-vm-terminated-without-saying-properl\" title=\"strategy for debugging surefire the forked vm terminated without saying properl\">stackoverflow.com/questions/20642673/&hellip;</a> One of the reasons might be memory allocation. IIRC, hotspot on Windows, depending on the Java version and bitness, might default to a smaller default memory size than on Linux."}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1566410363, "post_id": 57596521, "comment_id": 101651072, "body": "See also <a href=\"https://stackoverflow.com/q/23260057/5221149\">stackoverflow.com/q/23260057/5221149</a>"}], "owner": {"reputation": 10985, "user_id": 231821, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d5bed99fd1db8db24640148a5032a47?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/231821/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566408278, "creation_date": 1566408278, "question_id": 57596521, "link": "https://stackoverflow.com/questions/57596521/why-is-the-forked-vm-terminated-fork-count-necessary-on-windows-and-not-linux-ma", "title": "why is The forked VM terminated fork count necessary on windows and not linux/mac", "body": "<p>On windows, it seems necessary to change the POM for tests to pass.</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M3&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;forkCount&gt;0&lt;/forkCount&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>Why does it seem necessary to add these constraints to get a full set of tests passing on Windows JVM, and not MAC or LINUX.</p>\n\n<p>The JVM / maven should behave similarly.</p>\n\n<p>The test execution fails with:</p>\n\n<blockquote>\n  <p>Surefire fails with the message \"The forked VM terminated without properly saying goodbye</p>\n</blockquote>\n\n<p>If this really is a deficiency of Windows, then why?</p>\n"}, {"tags": ["java", "xml", "spring-mvc", "jackson", "jackson-dataformat-xml"], "answers": [{"comments": [{"owner": {"reputation": 62, "user_id": 7932348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4a8f9f0904197d696916395efa182f0?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Perry", "link": "https://stackoverflow.com/users/7932348/tim-perry"}, "edited": false, "score": 0, "creation_date": 1566424898, "post_id": 57599606, "comment_id": 101656541, "body": "Yes, that will work. However, then in my spring controller I&#39;m stuck implementing separate methods for JSON and XML because I need to create this wrapper class for XML. Is that as good as it gets?"}], "tags": [], "owner": {"reputation": 580, "user_id": 2474133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/022aee0a512664ce9ceb72b586e7beea?s=128&d=identicon&r=PG", "display_name": "tcharaf", "link": "https://stackoverflow.com/users/2474133/tcharaf"}, "is_accepted": true, "score": 2, "last_activity_date": 1566424608, "creation_date": 1566424608, "answer_id": 57599606, "question_id": 57596464, "link": "https://stackoverflow.com/questions/57596464/how-should-i-configure-jackson-to-produce-xml-using-the-xmlrootelement-on-list/57599606#57599606", "title": "How should I configure Jackson to produce XML using the @XmlRootElement on list items", "body": "<p>You should create a class ListFoo that contains a list of Foo Object:</p>\n\n<pre><code>@XmlRootElement(name=\"list\")\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class ListFoo {\n\n    @XmlElement(name = \"foo\")\n    private List&lt;Foo&gt; listFoo;\n\n    // getters &amp; setters\n\n }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62, "user_id": 7932348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4a8f9f0904197d696916395efa182f0?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Perry", "link": "https://stackoverflow.com/users/7932348/tim-perry"}, "edited": false, "score": 0, "creation_date": 1566426637, "post_id": 57599894, "comment_id": 101657023, "body": "Can a Mix-In help with the &lt;item&gt; tag as well?"}, {"owner": {"reputation": 31251, "user_id": 51591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/TsvFC.jpg?s=128&g=1", "display_name": "Micha\u0142 Ziober", "link": "https://stackoverflow.com/users/51591/micha%c5%82-ziober"}, "reply_to_user": {"reputation": 62, "user_id": 7932348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4a8f9f0904197d696916395efa182f0?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Perry", "link": "https://stackoverflow.com/users/7932348/tim-perry"}, "edited": false, "score": 0, "creation_date": 1566427346, "post_id": 57599894, "comment_id": 101657207, "body": "@TimPerry, Unfortunately it is hardcoded in <a href=\"https://github.com/FasterXML/jackson-dataformat-xml/blob/master/src/main/java/com/fasterxml/jackson/dataformat/xml/ser/XmlSerializerProvider.java\" rel=\"nofollow noreferrer\">XmlSerializerProvider</a> class. Take a look at <code>_startRootArray</code> method. You can of course try to override it but I do not see simple way how to achieve this. Probably the simplest way would be implementing custom serialiser for a list but it also looks complicated."}, {"owner": {"reputation": 31251, "user_id": 51591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/TsvFC.jpg?s=128&g=1", "display_name": "Micha\u0142 Ziober", "link": "https://stackoverflow.com/users/51591/micha%c5%82-ziober"}, "reply_to_user": {"reputation": 62, "user_id": 7932348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4a8f9f0904197d696916395efa182f0?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Perry", "link": "https://stackoverflow.com/users/7932348/tim-perry"}, "edited": false, "score": 0, "creation_date": 1566427358, "post_id": 57599894, "comment_id": 101657212, "body": "@TimPerry, See example for another problem: <a href=\"https://stackoverflow.com/questions/57060797/using-jackson-to-add-xml-attributes-to-manually-built-node-tree\">Using Jackson to add XML attributes to manually-built node-tree</a>"}, {"owner": {"reputation": 62, "user_id": 7932348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4a8f9f0904197d696916395efa182f0?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Perry", "link": "https://stackoverflow.com/users/7932348/tim-perry"}, "edited": false, "score": 2, "creation_date": 1566439484, "post_id": 57599894, "comment_id": 101659310, "body": "Interesting link. I&#39;ll have to think about which one will be more maintainable. I&#39;m leaning towards the wrapper @tcharaf suggested. Thanks for the food for thought!"}], "tags": [], "owner": {"reputation": 31251, "user_id": 51591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/TsvFC.jpg?s=128&g=1", "display_name": "Micha\u0142 Ziober", "link": "https://stackoverflow.com/users/51591/micha%c5%82-ziober"}, "is_accepted": false, "score": 1, "last_activity_date": 1566426447, "creation_date": 1566426447, "answer_id": 57599894, "question_id": 57596464, "link": "https://stackoverflow.com/questions/57596464/how-should-i-configure-jackson-to-produce-xml-using-the-xmlrootelement-on-list/57599894#57599894", "title": "How should I configure Jackson to produce XML using the @XmlRootElement on list items", "body": "<p>Using <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonMixInAnnotations\" rel=\"nofollow noreferrer\">MixIn</a> feature you can define name for an <code>ArrayList</code> class and others from <code>java.util.*</code>. </p>\n\n<pre><code>import com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.ThreadLocalRandom;\n\npublic class XmlMapperApp {\n\n    public static void main(String[] args) throws Exception {\n        XmlMapper xmlMapper = new XmlMapper();\n        xmlMapper.addMixIn(ArrayList.class, ArrayListMixIn.class);\n        xmlMapper.enable(SerializationFeature.INDENT_OUTPUT);\n\n        List&lt;Item&gt; items = new ArrayList&lt;&gt;();\n        items.add(new Item());\n        items.add(new Item());\n        System.out.println(xmlMapper.writeValueAsString(items));\n    }\n}\n\n@JacksonXmlRootElement(localName = \"list\")\ninterface ArrayListMixIn {\n}\n\nclass Item {\n\n    private String name = \"random - \" + ThreadLocalRandom.current().nextDouble();\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n\n<p>Above code prints:</p>\n\n<pre><code>&lt;list&gt;\n  &lt;item&gt;\n    &lt;name&gt;random - 0.2256442724594785&lt;/name&gt;\n  &lt;/item&gt;\n  &lt;item&gt;\n    &lt;name&gt;random - 0.9958813192003821&lt;/name&gt;\n  &lt;/item&gt;\n&lt;/list&gt;\n</code></pre>\n"}], "owner": {"reputation": 62, "user_id": 7932348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4a8f9f0904197d696916395efa182f0?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Perry", "link": "https://stackoverflow.com/users/7932348/tim-perry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1245, "favorite_count": 1, "accepted_answer_id": 57599606, "answer_count": 2, "score": 1, "last_activity_date": 1566426548, "creation_date": 1566408018, "last_edit_date": 1566426548, "question_id": 57596464, "link": "https://stackoverflow.com/questions/57596464/how-should-i-configure-jackson-to-produce-xml-using-the-xmlrootelement-on-list", "title": "How should I configure Jackson to produce XML using the @XmlRootElement on list items", "body": "<p>I have a <code>Spring-MVC</code> <code>@RestController</code> that uses generic names rather than the names I have configured with <code>@XmlRootElement</code> or <code>@JacksonXmlRootElement</code>. I want <code>XML</code> to look like this:</p>\n\n<pre><code>&lt;list&gt;\n  &lt;foo&gt;\n    &lt;name&gt;John&lt;/name&gt;\n  &lt;/foo&gt;\n&lt;/list&gt;\n</code></pre>\n\n<p>but I get the following:</p>\n\n<pre><code>&lt;ArrayList&gt;\n  &lt;item&gt;\n    &lt;name&gt;John&lt;/name&gt;\n  &lt;/item&gt;\n&lt;/ArrayList&gt;\n</code></pre>\n\n<p>Marshalling a single instance correctly looks like this:</p>\n\n<pre><code>&lt;foo&gt;\n  &lt;name&gt;John&lt;/name&gt;\n&lt;/foo&gt;\n</code></pre>\n\n<p>To try and solve this, I've tried using both <code>Jackson</code> and <code>JAXB</code> annotations. I've also conducted an extensive search for someone else's solution on Stack Overflow, various blogs, and issues reported against <code>Jackson</code> and <code>Spring-mvc</code>.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport org.junit.Test;    \nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\nimport com.fasterxml.jackson.module.jaxb.JaxbAnnotationModule;\n\npublic class JacksonXmlTest {\n\n    @XmlRootElement(name=\"foo\")\n    @XmlAccessorType(XmlAccessType.FIELD)\n    public static class Foo {\n        private String name;\n\n        public Foo(String name) {\n            setName(name);\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n    }\n\n    @Test\n    public void understandListTest() throws JsonProcessingException {\n        // This is a JUnit test.....\n        List&lt;Foo&gt; fooList = new ArrayList&lt;&gt;();\n        fooList.add(new Foo(\"John\"));\n\n        XmlMapper mapper = new XmlMapper();\n        mapper.enable(SerializationFeature.INDENT_OUTPUT);\n        mapper.registerModule(new JaxbAnnotationModule());\n        System.err.println(mapper.writeValueAsString(fooList));\n        System.err.println();\n        System.err.println(mapper.writeValueAsString(fooList.get(0)));\n    }\n\n}\n</code></pre>\n\n<p>Please help me configure jackson to output the list wrapped in \"list\" tags and have each Foo object contained in \"foo\" tags rather than \"item\" tags.</p>\n"}, {"tags": ["java", "android", "kotlin", "android-dialogfragment"], "answers": [{"tags": [], "owner": {"reputation": 1694, "user_id": 10172915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dgRVP.png?s=128&g=1", "display_name": "Akaki Kapanadze", "link": "https://stackoverflow.com/users/10172915/akaki-kapanadze"}, "is_accepted": true, "score": 3, "last_activity_date": 1566410356, "creation_date": 1566410356, "answer_id": 57596972, "question_id": 57596427, "link": "https://stackoverflow.com/questions/57596427/dialog-fragment-and-detecting-touches-to-the-outside-of-its-window/57596972#57596972", "title": "Dialog Fragment and Detecting Touches to the Outside of Its Window", "body": "<pre><code>class MyDialogFragment : DialogFragment() {                   \n\n    override fun onCreateDialog(savedInstanceState: Bundle?)  \n            : Dialog {                                        \n\n        return object : Dialog(activity, theme){              \n\n            override fun onTouchEvent(event: MotionEvent?)    \n                    : Boolean {                               \n                // Here you can handle the touch event        \n                return super.onTouchEvent(event)              \n            }                                                 \n        }                                                     \n    }                                                         \n}                   \n</code></pre>\n\n<p>Also call the <code>setCanceledOnTouchOutside(false)</code>, because touching outside the dialog will automatically dismiss it.</p>\n"}], "owner": {"reputation": 144, "user_id": 9854637, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156179465143444/picture?type=large", "display_name": "Metin", "link": "https://stackoverflow.com/users/9854637/metin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 57596972, "answer_count": 1, "score": 0, "last_activity_date": 1566410356, "creation_date": 1566407835, "last_edit_date": 1566409508, "question_id": 57596427, "link": "https://stackoverflow.com/questions/57596427/dialog-fragment-and-detecting-touches-to-the-outside-of-its-window", "title": "Dialog Fragment and Detecting Touches to the Outside of Its Window", "body": "<p>I have a <code>DialogFragment</code> which contains a <code>ProgressBar</code>. What I want to do is to show an <code>AlertDialog</code> whenever user clicks outside the window of dialog fragment. In <code>onCreateView</code> of the dialog fragment, I can detect touch events inside the dialog fragment by calling <code>setOnTouchListener</code> to view that is about to be created. How can I detect touches to the outside?</p>\n\n<p>By following a suggestion from another stackoverflow question, I tried to set flags:</p>\n\n<pre><code>    val dialogWindow = dialog.window\n    dialogWindow?.setFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL, WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL)\n    dialogWindow?.setFlags(WindowManager.LayoutParams.FLAG_WATCH_OUTSIDE_TOUCH, WindowManager.LayoutParams.FLAG_WATCH_OUTSIDE_TOUCH)\n</code></pre>\n\n<p>But couldn't detect touches in <code>setOnTouchListener</code>.</p>\n"}, {"tags": ["java", "junit", "hashmap", "equals"], "comments": [{"owner": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 1, "creation_date": 1566408716, "post_id": 57596350, "comment_id": 101650410, "body": "Please choose your question tags more wisely. Neither your code nor the question make it clear why you&#39;ve tagged your question with <code>assertj</code>."}, {"owner": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 0, "creation_date": 1566409427, "post_id": 57596350, "comment_id": 101650715, "body": "Also, have you at least tried to find out the issue? Have you debugged your test? Have you checked what the request <i>really</i> returns and if it really matches your expected map, especially the types?"}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 2, "creation_date": 1566410510, "post_id": 57596350, "comment_id": 101651139, "body": "I&#39;ll bet the <code>4</code> in the actual response is an <code>Integer</code> (or <code>Long</code>) object, not a <code>String</code>. They print the same, but don&#39;t compare as equals."}, {"owner": {"reputation": 760, "user_id": 3237171, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/hmWXk.jpg?s=128&g=1", "display_name": "Nagendra Nigade", "link": "https://stackoverflow.com/users/3237171/nagendra-nigade"}, "reply_to_user": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 0, "creation_date": 1566412111, "post_id": 57596350, "comment_id": 101651800, "body": "@Tom : As i am new to java what I used sysout for debugging purpose."}, {"owner": {"reputation": 760, "user_id": 3237171, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/hmWXk.jpg?s=128&g=1", "display_name": "Nagendra Nigade", "link": "https://stackoverflow.com/users/3237171/nagendra-nigade"}, "reply_to_user": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 1, "creation_date": 1566412114, "post_id": 57596350, "comment_id": 101651801, "body": "@Andreas : Thats really good catch. I missed it. Thanks for pointing it out."}], "answers": [{"tags": [], "owner": {"reputation": 4656, "user_id": 7138492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8KSN4.png?s=128&g=1", "display_name": "Sergei Emelianov", "link": "https://stackoverflow.com/users/7138492/sergei-emelianov"}, "is_accepted": true, "score": 0, "last_activity_date": 1566470964, "creation_date": 1566470964, "answer_id": 57607660, "question_id": 57596350, "link": "https://stackoverflow.com/questions/57596350/hashmap-mismatch-with-assertequals/57607660#57607660", "title": "Hashmap mismatch with AssertEquals", "body": "<p>Looking at your code I'm pretty sure the problem lies in the <code>Map&lt;String, Object&gt;</code> notation, where you use <code>Object</code> as a value. Hence, there might be a <code>String</code>, a number (<code>Integer</code>, <code>Long</code>) or <strong>literally anything else</strong>, as long as its <code>toString()</code> method returns <code>\"4\"</code> you'll see the same prints. </p>\n\n<p>For instance <code>String</code> \"4\" and <code>Integer</code> 4 will both print out the same number - 4, <strong>yet they are by no means equal</strong>!</p>\n\n<p>Consider mapping to a more concrete <code>Object</code> type, for example use only <code>String</code>, and convert the result from server to <code>String</code> before adding it to the <code>Map</code> for comparison.</p>\n"}], "owner": {"reputation": 760, "user_id": 3237171, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/hmWXk.jpg?s=128&g=1", "display_name": "Nagendra Nigade", "link": "https://stackoverflow.com/users/3237171/nagendra-nigade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 57607660, "answer_count": 1, "score": 0, "last_activity_date": 1566472174, "creation_date": 1566407525, "last_edit_date": 1566472174, "question_id": 57596350, "link": "https://stackoverflow.com/questions/57596350/hashmap-mismatch-with-assertequals", "title": "Hashmap mismatch with AssertEquals", "body": "<p>I have written the JUnit code to test REST POST call.</p>\n\n<pre><code>@Test\npublic  void testPOST_MAPOutput() throws IOException {\n    String url=\"https://reqres.in/api/register\";\n    requestFields.put(\"email\",\"eve.holt@reqres.in\");\n    requestFields.put(\"password\",\"pistol\");\n    Map&lt;String,Object&gt; output=new HashMap&lt;String, Object&gt;();\n    output.put(\"id\",\"4\");\n    output.put(\"token\",\"QpwL5tke4Pnpja7X4\");\n    System.out.println(output);\n    assertEquals(output,restWebServices.doPostRequest(url,requestFields,httpHeaders, HashMap.class));\n\n}\n</code></pre>\n\n<p>Expected and actual output seems perfectly equal still JUnit test is getting failed.</p>\n\n<blockquote>\n  <p>Expected :java.util.HashMap&lt;{id=4, token=QpwL5tke4Pnpja7X4}> <br>\n   Actual   :java.util.HashMap&lt;{id=4, token=QpwL5tke4Pnpja7X4}></p>\n</blockquote>\n"}, {"tags": ["java", "sql", "enumeration"], "answers": [{"tags": [], "owner": {"reputation": 6723, "user_id": 597770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VflG9.jpg?s=128&g=1", "display_name": "iluxa", "link": "https://stackoverflow.com/users/597770/iluxa"}, "is_accepted": true, "score": 0, "last_activity_date": 1566409065, "creation_date": 1566409065, "answer_id": 57596691, "question_id": 57596310, "link": "https://stackoverflow.com/questions/57596310/how-to-pass-a-string-parameter-to-a-function-from-a-set-of-allowed-values/57596691#57596691", "title": "How to pass a String parameter to a function from a set of allowed values", "body": "<p>Enums can implement interfaces, you can use that to your advantage:</p>\n\n<pre><code>interface DatabaseColumn {\n  String columnName();\n}\n\n\nenum UserColumns implements DatabaseColumn {\n  ID(\"id\"),\n  USERNAME(\"username\"),\n  PASSWORD(\"password\");\n\n  private final String name;\n\n  UserColumns(String name) {\n    this.name = name;\n  }\n\n  @Override public String columnName() {\n    return name;\n  }\n}\n</code></pre>\n\n<p>Then other enums could implement the same interface, and your signature would become</p>\n\n<pre><code>private void addColumnToSelect(DatabaseColumn col) {\n\n}\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 11924570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81701bd4436383033e0cbfd6b660bfd3?s=128&d=identicon&r=PG&f=1", "display_name": "ice", "link": "https://stackoverflow.com/users/11924570/ice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 57596691, "answer_count": 1, "score": 0, "last_activity_date": 1569588225, "creation_date": 1566407306, "last_edit_date": 1569588225, "question_id": 57596310, "link": "https://stackoverflow.com/questions/57596310/how-to-pass-a-string-parameter-to-a-function-from-a-set-of-allowed-values", "title": "How to pass a String parameter to a function from a set of allowed values", "body": "<p>I'm making my own Java class called <code>SelectRequestBuilder</code> in order to easily create SQL requests. There a function <code>addColumnToSelect</code> which must take the column name as a parameter. The issue is that I want to make sure that the column name specified by the user is in the table where he want to select informations from.</p>\n\n<p>So I thought that the type of the parameter <code>column_name</code> should be an <code>enum</code> like so : </p>\n\n<pre><code>public enum USER_COLUMN {\n    ID(\"id\"),\n    USERNAME(\"username\"),\n    PASSWORD(\"password\"),\n\n    private final String name;\n    USER_COLUMN(String name) {this.name = name;}\n\n    @Override\n    public String toString() {\n        return name;\n    }\n}\n\n</code></pre>\n\n<p>Then, in my function I could get the column name and I would be sure that the column name passed as a parameter is a valid one.</p>\n\n<p>Yet, I got stuck when I wanted to be able to extend this class to not only the <code>users</code> table but to every table. What I mean is that my <code>SelectRequestBuilder</code> must be able to select values from an other table  <code>genders</code> for example. \nThe reason why it's giving troubles is that my function can no longer take a parameter <code>column_name</code> of type <code>USER_COLUMN</code> because it's only for the <code>users</code> table.</p>\n\n<p>Finally, my solution would be something like so:</p>\n\n<pre><code>private void addColumnToSelect(USER_COLUMN col) {\n    addColumnToSelect(col.toString());\n}\n\nprivate void addColumnToSelect(GENDER_COLUMN col) {\n    addColumnToSelect(col.toString());\n}\n\nprivate void addColumnToSelect(ROLE_COLUMN col) { // Role is an other table\n    addColumnToSelect(col.toString());\n}\n\nprivate void addColumnToSelect(String col_name) {...}\n</code></pre>\n\n<p>But this solution is not satisfying in the sense that I must create an other function for every table in the database. This is why I ask you this question, I want your help to find a more satisfying solution ! :)</p>\n"}, {"tags": ["java", "web", "web-scraping"], "comments": [{"owner": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1566409612, "post_id": 57596303, "comment_id": 101650797, "body": "You should use the cookies after signing in not before"}, {"owner": {"reputation": 113, "user_id": 6901884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21fb0d0f0fd9c8dde48feacbb844c6eb?s=128&d=identicon&r=PG&f=1", "display_name": "Abraham.P", "link": "https://stackoverflow.com/users/6901884/abraham-p"}, "reply_to_user": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1566411689, "post_id": 57596303, "comment_id": 101651637, "body": "I already tried without the use of Cokiees and I still don&#39;t get the elements where the price, quantity, etc. should be. just the basics that show without logging in. Thank you"}, {"owner": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1566411746, "post_id": 57596303, "comment_id": 101651658, "body": "you need to use the cookies after signing in. Right now you are using the cookies on sign in"}, {"owner": {"reputation": 113, "user_id": 6901884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21fb0d0f0fd9c8dde48feacbb844c6eb?s=128&d=identicon&r=PG&f=1", "display_name": "Abraham.P", "link": "https://stackoverflow.com/users/6901884/abraham-p"}, "reply_to_user": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1566413054, "post_id": 57596303, "comment_id": 101652203, "body": "Could you show me a small fraction of code to better understand? sorry for the inconvenience"}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 6901884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21fb0d0f0fd9c8dde48feacbb844c6eb?s=128&d=identicon&r=PG&f=1", "display_name": "Abraham.P", "link": "https://stackoverflow.com/users/6901884/abraham-p"}, "edited": false, "score": 0, "creation_date": 1566418823, "post_id": 57597731, "comment_id": 101654564, "body": "Friend, the login proceeds successfully. I only had to make some changes in the second fraction of code had to be an excute() and in the third a get() but I am wrong. But at the moment of obtaining the products they are not obtained with all the information :-(."}], "tags": [], "owner": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "is_accepted": false, "score": 1, "last_activity_date": 1566413848, "creation_date": 1566413848, "answer_id": 57597731, "question_id": 57596303, "link": "https://stackoverflow.com/questions/57596303/how-to-login-and-proceed-with-scraping-in-java/57597731#57597731", "title": "How to login and proceed with Scraping in JAVA?", "body": "<p>You need to first post the data to the login url and use the cookies from there.</p>\n\n<p>Since I don't have a valid credentials to test I don't know what the auth flow on the site is.</p>\n\n<p>But here is a gist</p>\n\n<pre><code>   // get login form\n    Connection.Response loginForm = Jsoup.connect(\"https://www.elit.com.ar/clientes/login.html\")\n        .method(Connection.Method.GET)\n        .execute();\n\n    // POST login data\n    Connection.Response loginResponse = Jsoup.connect(\"https://www.elit.com.ar/clientes/login.html\")\n        .data(\"username\", username)\n        .data(\"password\", password)\n        .cookies(loginForm.cookies())\n        .timeout(100000)\n        .post();\n\n    // GET page\n    Document document = Jsoup.connect(\"https://www.elit.com.ar/productos/computadoras.html\")\n        .method(Connection.Method.GET)\n        .cookies(loginResponse.cookies())\n        .timeout(100000)\n        .execute();\n    System.out.println(document.getAllElements());\n</code></pre>\n\n<p>I suggest you take a look at this article and understand how the auth flow works on the site you are scrapping</p>\n\n<p><a href=\"http://joelmin.blogspot.com/2016/04/how-to-login-to-website-using-jsoup-java_4.html\" rel=\"nofollow noreferrer\">http://joelmin.blogspot.com/2016/04/how-to-login-to-website-using-jsoup-java_4.html</a></p>\n"}], "owner": {"reputation": 113, "user_id": 6901884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21fb0d0f0fd9c8dde48feacbb844c6eb?s=128&d=identicon&r=PG&f=1", "display_name": "Abraham.P", "link": "https://stackoverflow.com/users/6901884/abraham-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 571, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566413848, "creation_date": 1566407267, "question_id": 57596303, "link": "https://stackoverflow.com/questions/57596303/how-to-login-and-proceed-with-scraping-in-java", "title": "How to login and proceed with Scraping in JAVA?", "body": "<p>My problem is that I must be able to <strong>extract</strong> certain <strong>information</strong> such as the price, quantity and name of each product on a website selling electronic products and devices (<a href=\"https://www.elit.com.ar/\" rel=\"nofollow noreferrer\">this website</a>), but the drawback is that in order to see this information you must first <strong>login</strong>, therefore I must login and then extract all the information. But my current code does not allow me to do this, it extracts information from me, but it is the same information I get without logging in.</p>\n\n<p><strong>My code</strong></p>\n\n<pre><code>Connection.Response loginForm = Jsoup.connect(\"https://www.elit.com.ar/productos/computadoras.html\")\n            .method(Connection.Method.GET)\n            .execute();\n\n            Document document = Jsoup.connect(\"https://www.elit.com.ar/productos/computadoras.html\")\n                    .data(\"username\", username)\n                    .data(\"password\", password)\n                    .cookies(loginForm.cookies())\n                    .timeout(100000)\n                    .post();\n            System.out.println(document.getAllElements());\n</code></pre>\n\n<p>Sorry for my ignorance, I am new to <strong>Scraping</strong> and mainly <strong>Java</strong>. Thank you and I look forward to your support.</p>\n"}, {"tags": ["java", "android"], "comments": [{"owner": {"reputation": 2960, "user_id": 8089674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29551894f595eb07cf3e8d4c27b36626?s=128&d=identicon&r=PG&f=1", "display_name": "Robo Mop", "link": "https://stackoverflow.com/users/8089674/robo-mop"}, "edited": false, "score": 0, "creation_date": 1566407362, "post_id": 57596261, "comment_id": 101649890, "body": "Which line throws the Exception?"}, {"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1566408730, "post_id": 57596261, "comment_id": 101650417, "body": "Especially see <a href=\"https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it\" title=\"what causes a java lang arrayindexoutofboundsexception and how do i prevent it\">stackoverflow.com/questions/5554734/&hellip;</a>"}, {"owner": {"reputation": 23, "user_id": 9376011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R2Nl8.jpg?s=128&g=1", "display_name": "MegaDude", "link": "https://stackoverflow.com/users/9376011/megadude"}, "edited": false, "score": 0, "creation_date": 1566411378, "post_id": 57596261, "comment_id": 101651518, "body": "That didn&#39;t really solve my problem, it was an issue of variables being swapped as Bryan J. Diaz pointed out."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9376011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R2Nl8.jpg?s=128&g=1", "display_name": "MegaDude", "link": "https://stackoverflow.com/users/9376011/megadude"}, "edited": false, "score": 0, "creation_date": 1566410017, "post_id": 57596577, "comment_id": 101650942, "body": "Wow, this worked. Thank you."}, {"owner": {"reputation": 336, "user_id": 11551187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4S4J5.jpg?s=128&g=1", "display_name": "Bryan J. Diaz", "link": "https://stackoverflow.com/users/11551187/bryan-j-diaz"}, "reply_to_user": {"reputation": 23, "user_id": 9376011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R2Nl8.jpg?s=128&g=1", "display_name": "MegaDude", "link": "https://stackoverflow.com/users/9376011/megadude"}, "edited": false, "score": 0, "creation_date": 1566410734, "post_id": 57596577, "comment_id": 101651236, "body": "For that we are here, great for you"}], "tags": [], "owner": {"reputation": 336, "user_id": 11551187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4S4J5.jpg?s=128&g=1", "display_name": "Bryan J. Diaz", "link": "https://stackoverflow.com/users/11551187/bryan-j-diaz"}, "is_accepted": true, "score": 0, "last_activity_date": 1566408550, "creation_date": 1566408550, "answer_id": 57596577, "question_id": 57596261, "link": "https://stackoverflow.com/questions/57596261/java-trying-to-generate-cells-on-screen-getting-an-arrayindexoutofboundsexcept/57596577#57596577", "title": "Java -Trying to generate cells on screen, getting an ArrayIndexOutOfBoundsException", "body": "<p>There is problem, you declared <code>NavCell[][] mCells = new NavCell[mCellCols][mCellRows];</code> but is not like that.</p>\n\n<p>You need to declare it <code>NavCell[][] mCells = new NavCell[mCellRows][mCellCols];</code> is fisrt <strong>rows</strong> and then <strong>columns</strong></p>\n\n<p>So the for will be like:</p>\n\n<pre><code>-- here you just go for all the rows --\n\nfor (int i = 0; i &lt; mCellRows; i++){\n\n\n\n     --here you go for all the columns in each row --\n\n     for(int a = 0; a &lt; mCelCols; a++){\n\n     }\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9376011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R2Nl8.jpg?s=128&g=1", "display_name": "MegaDude", "link": "https://stackoverflow.com/users/9376011/megadude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "closed_date": 1566408714, "accepted_answer_id": 57596577, "answer_count": 1, "score": 0, "last_activity_date": 1566408550, "creation_date": 1566407029, "last_edit_date": 1566407269, "question_id": 57596261, "link": "https://stackoverflow.com/questions/57596261/java-trying-to-generate-cells-on-screen-getting-an-arrayindexoutofboundsexcept", "closed_reason": "Duplicate", "title": "Java -Trying to generate cells on screen, getting an ArrayIndexOutOfBoundsException", "body": "<p>So I'm trying to create a grid of cells that can each as as their own onTouch object. I'm having a lot of issues but the main one is this exception that occurs while trying to populate the columns and rows of cells. Right now I'm trying to implement a Try/Catch method to resolve it but no luck yet. I thought maybe if I subtract from (j), the number of columns, it might stop the last two columns from populating (realistically I knew that wouldn't work). </p>\n\n<p>Anyway, here's the code: </p>\n\n<pre><code>// creates cells\nNavCell[][] mCells = new NavCell[mCellCols][mCellRows];\n//System.out.println( \"Rows \" + mCellRows + \" and Cols: \" + mCellCols);\nfor (int j = 0; j &lt; 18; j++)\n{\n    System.out.println(\"inside rows       \" + j);\n    if (mCells[j] != null)\n    {\n        for (int i = 0; i &lt; mCellCols; i++)\n        {\n            System.out.println(\"inside columns      \" + i);\n\n            mCells[j][i] = new NavCell();\n            mCells[j][i].setBounds(\n                i * CELL_SIZE,\n                j * CELL_SIZE,\n                (i * CELL_SIZE) + CELL_SIZE,\n                (i * CELL_SIZE) + CELL_SIZE);\n            // drawCells(i, j);\n            // System.out.println( \"Lazer-3 \" + CELL_SIZE);\n            // System.out.println( \"Lazer-4 \" + i);\n\n            System.out.println(\"Hello Dude\" + j );\n            Canvas canvas = new Canvas();\n            drawCells(canvas, j, i);\n        }\n        try {\n            int Z = j - 2;\n            j = Z;\n            System.out.println(\"Hello Matt\" + j );\n        } catch (ArrayIndexOutOfBoundsException e) {\n            Log.e(\"MainActivity\", \"Reading list of NavCells failed!\", e);\n        }\n    }\n\n    System.out.println(\"Lazer-2 \" + mCells);\n}\n</code></pre>\n"}, {"tags": ["java", "mysql", "postgresql", "playframework", "ebean"], "comments": [{"owner": {"reputation": 1813, "user_id": 4107038, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6ggXv.jpg?s=128&g=1", "display_name": "Rajat", "link": "https://stackoverflow.com/users/4107038/rajat"}, "edited": false, "score": 0, "creation_date": 1566737825, "post_id": 57596246, "comment_id": 101743379, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/9125235/multiple-databases-in-play-framework\">Multiple Databases in play framework</a>"}, {"owner": {"reputation": 1813, "user_id": 4107038, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6ggXv.jpg?s=128&g=1", "display_name": "Rajat", "link": "https://stackoverflow.com/users/4107038/rajat"}, "edited": false, "score": 0, "creation_date": 1566745579, "post_id": 57596246, "comment_id": 101745237, "body": "<a href=\"http://gbmetzner.github.io/Multiple-DB/\" rel=\"nofollow noreferrer\">gbmetzner.github.io/Multiple-DB</a>"}], "owner": {"reputation": 1, "user_id": 11330076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aee3a2c360319d9e7807bd31433e160?s=128&d=identicon&r=PG&f=1", "display_name": "Philips", "link": "https://stackoverflow.com/users/11330076/philips"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 370, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566406950, "creation_date": 1566406950, "question_id": 57596246, "link": "https://stackoverflow.com/questions/57596246/multiple-databases-in-play-framework-2-6-x", "title": "Multiple databases in Play framework 2.6.x", "body": "<p>I have some questions about play framework, ebean and multiple databases. </p>\n\n<p>My idea is to have two databases with similar structure but different datas and other db in postgres with different structure and different datas. Is it possible? I think so. </p>\n\n<p>I have this configuration for my databases in application.conf:</p>\n\n<pre><code>play.evolutions {\n  db.default.enabled = false\n  db.secondary.enabled = false\n  db.postgres.enabled = false\n}\n\ndb {\n  default.driver=com.mysql.jdbc.Driver\n  default.url=\"jdbc:mysql://myDB1\"\n  default.username=user\n  default.password=\"pass\"\n\n  secondary.driver=com.mysql.jdbc.Driver\n  secondary.url=\"jdbc:mysql://myDB2\"\n  secondary.username=user\n  secondary.password=\"pass\"\n\n  postgres.driver=org.postgresql.Driver\n  postgres.url=\"jdbc:postgresql://myDB3\"\n  postgres.user=stack\n  postgres.password=\"overflow\"\n}\n\nebean.default= [\"models.mysql.*\"]\nebean.secondary = [\"models.mysql.*\"]\nebean.postgres= [\"models.postgres.*\"]\n</code></pre>\n\n<p>but I have problems with ebean. I've got it to work sometime (default and postgres) but when I add secondary database and disconnect and connect it doesn't work anymore</p>\n\n<p>Can You help me? Thanks</p>\n"}, {"tags": ["java", "gradle", "build.gradle", "graalvm-native-image"], "answers": [{"tags": [], "owner": {"reputation": 9255, "user_id": 469414, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f0e11e331ee8103b2032ba568fa57b2f?s=128&d=identicon&r=PG", "display_name": "kdabir", "link": "https://stackoverflow.com/users/469414/kdabir"}, "is_accepted": false, "score": 0, "last_activity_date": 1568816344, "creation_date": 1568816344, "answer_id": 57994965, "question_id": 57596089, "link": "https://stackoverflow.com/questions/57596089/build-native-image-using-graalvm-from-within-gradle-after-jar-is-built-by-runnin/57994965#57994965", "title": "Build native-image using graalvm from within gradle after jar is built by running Exec task", "body": "<p>you basically want <code>buildNativeExecutable</code> to run after <code>shadowJar</code>. If that is the case then just adding the following should get you the desired result:</p>\n\n<p><code>buildNativeExecutable.dependsOn(shadowJar)</code></p>\n"}], "owner": {"reputation": 141, "user_id": 3331412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UelKY.jpg?s=128&g=1", "display_name": "comdotlinux", "link": "https://stackoverflow.com/users/3331412/comdotlinux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1441, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1568816344, "creation_date": 1566406110, "question_id": 57596089, "link": "https://stackoverflow.com/questions/57596089/build-native-image-using-graalvm-from-within-gradle-after-jar-is-built-by-runnin", "title": "Build native-image using graalvm from within gradle after jar is built by running Exec task", "body": "<p>I am using Micronaut and used it's cli to create a java-cli-app.\nIt has no extra code, and runs fine by running the main method.\nWhen ./gradlew build is performed, it also creates a jar with all dependencies.</p>\n\n<p>I can also build the native image, using GraalVM 19.1.1 and 19.2.0 and also it runs fine.</p>\n\n<p>When I build the native image by manually running the task like</p>\n\n<pre><code>./gradlew buildNativeExecutable\n</code></pre>\n\n<p>it also runs fine, </p>\n\n<p>what would like to do it have it run automatically when the jar is created.</p>\n\n<p>What I already tried, </p>\n\n<pre><code>task taskX &lt;&lt; {\n    println 'taskX'\n}\ntask taskY &lt;&lt; {\n    println 'taskY'\n}\ntask taskZ &lt;&lt; {\n    println 'taskZ'\n}\ntaskX.dependsOn taskY\ntaskZ.shouldRunAfter taskY\n</code></pre>\n\n<p>This did not work (I know this is old I just used / tried different variants of shouldRunAfter jar / assemble)</p>\n\n<pre><code>buildNativeExecutable.shouldRunAfter jar\n</code></pre>\n\n<p>or </p>\n\n<pre><code>shadowJar.doLast {\n    task buildNativeExecutable(type:Exec) {\n        workingDir \"${buildDir}/libs\"\n\n    commandLine \"native-image\", \"-J-Drx.unsafe-disable=true\", \"-jar\", \"test-0.1-all.jar\", \"-H:FallbackThreshold=0\", \"-H:+ReportExceptionStackTraces\", \"-H:+PrintAnalysisCallTree\", \"-H:-AddAllCharsets\", \"-H:EnableURLProtocols=http,https\", \"--enable-all-security-services\", \"-H:-SpawnIsolates\", \"-H:+JNI\", \"--no-server\", \"-H:-UseServiceLoaderFeature\", \"-H:+StackTrace\"\n\n    }\n\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>shadowJar {\n    mergeServiceFiles()\n    doLast { task -&gt;\n        buildNativeExecutable(task)\n    }\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>build.doLast {\n    task buildNativeExecutable(type:Exec) {\n        workingDir \"${buildDir}/libs\"\n\n        commandLine \"native-image\", \"-J-Drx.unsafe-disable=true\", \"-jar\", \"test-0.1-all.jar\", \"-H:FallbackThreshold=0\", \"-H:+ReportExceptionStackTraces\", \"-H:+PrintAnalysisCallTree\", \"-H:-AddAllCharsets\", \"-H:EnableURLProtocols=http,https\", \"--enable-all-security-services\", \"-H:-SpawnIsolates\", \"-H:+JNI\", \"--no-server\", \"-H:-UseServiceLoaderFeature\", \"-H:+StackTrace\"\n    }\n}\n</code></pre>\n\n<p>my build.gradle file</p>\n\n<pre><code>plugins {\n    id \"net.ltgt.apt-eclipse\" version \"0.21\"\n    id \"com.github.johnrengelman.shadow\" version \"5.0.0\"\n    id \"application\"\n}\n\n\n\nversion \"0.1\"\ngroup \"test\"\n\nrepositories {\n    mavenCentral()\n    maven { url \"https://jcenter.bintray.com\" }\n}\n\nconfigurations {\n    // for dependencies that are needed for development only\n    developmentOnly\n    generateConfig\n}\n\ndependencies {\n    annotationProcessor platform(\"io.micronaut:micronaut-bom:$micronautVersion\")\n    annotationProcessor \"io.micronaut.configuration:micronaut-picocli\"\n    annotationProcessor \"io.micronaut:micronaut-inject-java\"\n    annotationProcessor \"io.micronaut:micronaut-validation\"\n    generateConfig 'info.picocli:picocli-codegen:4.0.2'\n    implementation platform(\"io.micronaut:micronaut-bom:$micronautVersion\")\n    implementation \"io.micronaut:micronaut-runtime\"\n    implementation \"info.picocli:picocli\"\n    implementation \"io.micronaut.configuration:micronaut-picocli\"\n    implementation \"io.micronaut:micronaut-inject\"\n    implementation \"io.micronaut:micronaut-validation\"\n    runtimeOnly \"ch.qos.logback:logback-classic:1.2.3\"\n    testAnnotationProcessor platform(\"io.micronaut:micronaut-bom:$micronautVersion\")\n    testAnnotationProcessor \"io.micronaut:micronaut-inject-java\"\n    testImplementation \"org.junit.jupiter:junit-jupiter-api\"\n    testImplementation \"io.micronaut.test:micronaut-test-junit5\"\n    testImplementation \"io.micronaut:micronaut-inject-java\"\n    testRuntimeOnly \"org.junit.jupiter:junit-jupiter-engine\"\n}\n\ntest.classpath += configurations.developmentOnly\nmainClassName = \"test.testCommand\"\n\njar {\n    manifest {\n        attributes 'Main-Class': mainClassName\n    }\n}\n// use JUnit 5 platform\ntest {\n    useJUnitPlatform()\n}\ntasks.withType(JavaCompile){\n    options.encoding = \"UTF-8\"\n    options.compilerArgs.add('-parameters')\n}\n\ntask(generateGraalReflectionConfig, dependsOn: 'classes', type: JavaExec) {\n    main = 'picocli.codegen.aot.graalvm.ReflectionConfigGenerator'\n    classpath = configurations.generateConfig + sourceSets.main.runtimeClasspath\n    def outputFile = \"${buildDir}/resources/main/META-INF/native-image/${project.group}/${project.name}/reflect-config.json\"\n    args = [\"--output=$outputFile\", mainClassName]\n}\n\nassemble.dependsOn generateGraalReflectionConfig\n\ntask buildNativeExecutable(type:Exec) {\n    workingDir \"${buildDir}/libs\"\n\n    commandLine \"${System.env.GRAALVM_HOME}/bin/native-image\", \"-J-Drx.unsafe-disable=true\", \"-jar\", \"test-0.1-all.jar\", \"-H:FallbackThreshold=0\", \"-H:+ReportExceptionStackTraces\", \"-H:+PrintAnalysisCallTree\", \"-H:-AddAllCharsets\", \"-H:EnableURLProtocols=http,https\", \"--enable-all-security-services\", \"-H:-SpawnIsolates\", \"-H:+JNI\", \"--no-server\", \"-H:-UseServiceLoaderFeature\", \"-H:+StackTrace\"\n//    commandLine \"ls\", \"-l\"\n}\nshadowJar {\n    mergeServiceFiles()\n}\n\nrun.classpath += configurations.developmentOnly\nrun.jvmArgs('-noverify', '-XX:TieredStopAtLevel=1', '-Dcom.sun.management.jmxremote')\n\n</code></pre>\n\n<p>When I run the specific task it works fine!</p>\n\n<pre><code>$\u00a0./gradlew buildNativeExecutable\n\n&gt; Task :buildNativeExecutable\n[test-0.1-all:19292]    classlist:   4,886.05 ms\n[test-0.1-all:19292]        (cap):   1,800.38 ms\n[test-0.1-all:19292]        setup:   3,589.77 ms\n[test-0.1-all:19292]   (typeflow):  14,079.22 ms\n[test-0.1-all:19292]    (objects):  12,647.95 ms\n[test-0.1-all:19292]   (features):     780.98 ms\n[test-0.1-all:19292]     analysis:  28,336.62 ms\nPrinting call tree to /home/someuser/test/build/libs/reports/call_tree_test-0.1-all_20190821_183418.txt\nPrinting list of used classes to /home/someuser/test/build/libs/reports/used_classes_test-0.1-all_20190821_183421.txt\nPrinting list of used packages to /home/someuser/test/build/libs/reports/used_packages_test-0.1-all_20190821_183421.txt\n[test-0.1-all:19292]     (clinit):     572.67 ms\n[test-0.1-all:19292]     universe:   1,361.53 ms\n[test-0.1-all:19292]      (parse):   2,219.23 ms\n[test-0.1-all:19292]     (inline):   3,373.54 ms\n[test-0.1-all:19292]    (compile):  43,182.08 ms\n[test-0.1-all:19292]      compile:  50,397.77 ms\n[test-0.1-all:19292]        image:   4,215.91 ms\n[test-0.1-all:19292]        write:   2,583.69 ms\n[test-0.1-all:19292]      [total]: 107,083.26 ms\n\nBUILD SUCCESSFUL in 1m 50s\n1 actionable task: 1 executed\n\n$ cd /home/someuser/test/build/libs\n$ ls -ltrh\n-rw-rw-r-- 1 abcd abcd 1,8K Aug 21 15:42 test-0.1.jar\n-rw-rw-r-- 1 abcd abcd 8,9M Aug 21 15:42 test-0.1-all.jar\n-rwxrwxr-x 1 abcd abcd  36M Aug 21 15:44 test-0.1-all\n\n</code></pre>\n\n<p>However I am not able to make this run after the jar is created :(</p>\n\n<pre><code>./gradlew build\n\nBUILD SUCCESSFUL in 11s\n13 actionable tasks: 11 executed, 2 up-to-date\n\n</code></pre>\n\n<p>What should I change / add to build.gradle above so that it will run after jar creation?</p>\n"}, {"tags": ["java", "kotlin", "interface", "nullpointerexception", "rx-java2"], "comments": [{"owner": {"reputation": 1135, "user_id": 5130921, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f28675aaf91c493896c88f2365efa41?s=128&d=identicon&r=PG", "display_name": "Aarjav", "link": "https://stackoverflow.com/users/5130921/aarjav"}, "edited": false, "score": 0, "creation_date": 1566417848, "post_id": 57596063, "comment_id": 101654208, "body": "check the stack trace, it could be that <code>state()</code> is called and subscribed to somewhere from parent constructor."}, {"owner": {"reputation": 9262, "user_id": 1426469, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a99e0f9b6711f185ae3fdefbc9dcaa0e?s=128&d=identicon&r=PG", "display_name": "Leo Aso", "link": "https://stackoverflow.com/users/1426469/leo-aso"}, "edited": false, "score": 0, "creation_date": 1566659916, "post_id": 57596063, "comment_id": 101730365, "body": "Post the full <code>MonitoringStateReducer.apply</code> method. If it&#39;s too long, then post at least a few branches of the <code>when</code> block. The problem likely has to do with something in there."}], "answers": [{"comments": [{"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1566584354, "post_id": 57631138, "comment_id": 101716212, "body": "Was curious how you went about this. Sounds like a very good possibility. I naively searched dagger&#39;s repo for Unsafe and found no mentions to it. The reason I ask is also because being a framework that generates the code at compile tine and requires all the info about classes, if find it strange that they would require unsafe."}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "reply_to_user": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1566584466, "post_id": 57631138, "comment_id": 101716251, "body": "Maybe it isn&#39;t explicitly <code>Unsafe</code>, and there&#39;s some other way (that I&#39;m not aware of) to create instances without normal initialization. As for how I went about it, really it was just that I had read that blog post somewhat recently so the idea of creating instances without initialization was fresh in my mind."}, {"owner": {"reputation": 623, "user_id": 7154308, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7c9532852ef1cf4acafa980432850fa3?s=128&d=identicon&r=PG&f=1", "display_name": "GianMS", "link": "https://stackoverflow.com/users/7154308/gianms"}, "edited": false, "score": 0, "creation_date": 1566599280, "post_id": 57631138, "comment_id": 101720457, "body": "I highly doubt that this is a Dagger issue. They don&#39;t use <code>Unsafe</code> anywhere in their repository nor in the generated code. Similarly, ViewModel doesn&#39;t <code>Unsafe</code>. I think this might be a Kotlin issue, but I don&#39;t know too much about the internals of Kotlin."}, {"owner": {"reputation": 5120, "user_id": 1401164, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/892b23de3c567590676d6ce001d5d854?s=128&d=identicon&r=PG", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/1401164/gustavo"}, "edited": false, "score": 0, "creation_date": 1566821823, "post_id": 57631138, "comment_id": 101765018, "body": "Upvoting as this is a good answer, but for the scenario of this question, the problem is correctly described by @Valeriy Katkov"}], "tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1566583589, "creation_date": 1566583589, "answer_id": 57631138, "question_id": 57596063, "link": "https://stackoverflow.com/questions/57596063/nullpointerexception-when-implementing-java-interface-from-kotlin/57631138#57631138", "title": "NullPointerException when implementing Java interface from Kotlin", "body": "<p>I suspect that this part of the stacktrace holds the answer:</p>\n\n<blockquote>\n<pre><code>at com.name.app.features.monitoring.presentation.MonitoringViewModel_Factory.get(MonitoringViewModel_Factory.java:8)\nat dagger.internal.DoubleCheck.get(DoubleCheck.java:47)\nat com.name.app.di.viewmodel.ViewModelFactory.create(ViewModelFactory.kt:12)\nat androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.java:164)\n</code></pre>\n</blockquote>\n\n<p>What I'm taking from this is that you're using Dagger to create instances of your <code>MonitoringViewModel</code> class. I'm not <em>sure</em> that Dagger does what I'm about to describe, but I know other libraries (like Gson) do, and it fits the pattern...</p>\n\n<p>It is possible to create instances of objects without actually invoking constructors if you use the <code>Unsafe</code> class. See the \"Avoid Initialization\" section of this article: <a href=\"http://mishadoff.com/blog/java-magic-part-4-sun-dot-misc-dot-unsafe/\" rel=\"nofollow noreferrer\">http://mishadoff.com/blog/java-magic-part-4-sun-dot-misc-dot-unsafe/</a></p>\n\n<p>If that's happening here, then your <code>private val reducer = MonitoringStateReducer()</code> won't ever actually be executed, because that's part of the class initialization. Therefore, <code>reducer</code> is never initialized and is <code>null</code> when you try to use it in <code>compose()</code>.</p>\n\n<p>I'm not sure why that would make it not work when using the <code>by lazy</code> delegate, but it does make sense for why it works when you provide a custom <code>get()</code>: it is no longer part of class initialization, and is instead evaluated on demand.</p>\n\n<p>Try creating instances of this class without using Dagger and see if your \"normal\" initialization works.</p>\n"}, {"comments": [{"owner": {"reputation": 77900, "user_id": 238134, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d80ce5271185447eb06b360959acd71f?s=128&d=identicon&r=PG", "display_name": "deamon", "link": "https://stackoverflow.com/users/238134/deamon"}, "edited": false, "score": 2, "creation_date": 1567168079, "post_id": 57635447, "comment_id": 101893535, "body": "Related: <a href=\"https://stackoverflow.com/questions/3404301/whats-wrong-with-overridable-method-calls-in-constructors\">What&#39;s wrong with overridable method calls in constructor</a>"}], "tags": [], "owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "is_accepted": false, "score": 10, "last_activity_date": 1566627436, "last_edit_date": 1566627436, "creation_date": 1566625886, "answer_id": 57635447, "question_id": 57596063, "link": "https://stackoverflow.com/questions/57596063/nullpointerexception-when-implementing-java-interface-from-kotlin/57635447#57635447", "title": "NullPointerException when implementing Java interface from Kotlin", "body": "<p>The problem comes from the Kotlin class initialization order. The crash is due to the fact that <code>BaseViewModel</code> constructor is calling the <code>state()</code> method that is overridden in the child <code>MonitoringViewModel</code> class. As a result, when the <code>reducer</code> is accessed, it hasn't  initialized yet. During construction of a new instance of a derived class, the base class initialization is done as the first step and it happens before the initialization logic of the derived class is run. Take a look at <a href=\"https://medium.com/keepsafe-engineering/an-in-depth-look-at-kotlins-initializers-a0420fcbf546\" rel=\"noreferrer\">this article</a>, which describes a pretty similar problem. <a href=\"https://kotlinlang.org/docs/reference/classes.html#derived-class-initialization-order\" rel=\"noreferrer\">Derived class initialization order</a> Kotlin's documentation section should be useful too.</p>\n"}, {"tags": [], "owner": {"reputation": 5120, "user_id": 1401164, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/892b23de3c567590676d6ce001d5d854?s=128&d=identicon&r=PG", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/1401164/gustavo"}, "is_accepted": false, "score": 4, "last_activity_date": 1566824435, "last_edit_date": 1566824435, "creation_date": 1566821638, "answer_id": 57657748, "question_id": 57596063, "link": "https://stackoverflow.com/questions/57596063/nullpointerexception-when-implementing-java-interface-from-kotlin/57657748#57657748", "title": "NullPointerException when implementing Java interface from Kotlin", "body": "<p><strong>@Valeriy Katkov's <a href=\"https://stackoverflow.com/a/57635447/1401164\">answer</a> is correct, please accept his answer.</strong></p>\n\n<p>Here is a code simulating the same scenario:</p>\n\n<pre><code>fun main() {\n    MonitoringViewModel()\n}\n\nopen abstract class BaseViewModel {\n\n    init {\n        state()\n    }\n\n    abstract fun state()\n}\n\nclass MonitoringViewModel: BaseViewModel() {\n\n    private val reducer1: MonitoringStateReducer = MonitoringStateReducer()\n    private val reducer2: BiFunction&lt;MonitoringViewState, MonitoringResult, MonitoringViewState&gt;\n        get() = MonitoringStateReducer()\n\n    override fun state() {\n        Observable.just(MonitoringResult(3))\n                .scan(MonitoringViewState(0), reducer1)\n                .subscribe { state -&gt; println(state.value) }\n    }\n\n}\n\ndata class MonitoringViewState(val value: Int)\n\ndata class MonitoringResult(val value: Int)\n\nclass MonitoringStateReducer : BiFunction&lt;MonitoringViewState, MonitoringResult,\n        MonitoringViewState&gt; {\n    override fun apply(\n            previousState: MonitoringViewState,\n            result: MonitoringResult\n    ): MonitoringViewState {\n        return MonitoringViewState(previousState.value + result.value)\n    }\n}\n</code></pre>\n\n<p>If you run this code with the <code>scan</code> operator using <code>reducer1</code> you will see the exception:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.NullPointerException: accumulator is null</p>\n</blockquote>\n\n<p>If you run the code with <code>scan</code> operator using <code>reducer2</code>, it succeeds.</p>\n\n<h3>Why does it crash when using <code>reduce1</code>?</h3>\n\n<p>From @Valeriy Katkov's <a href=\"https://stackoverflow.com/a/57635447/1401164\">answer</a>:</p>\n\n<blockquote>\n  <p>The crash is due to the fact that BaseViewModel constructor is calling the state() method that is overridden in the child MonitoringViewModel class. As a result, when the reducer is accessed, it hasn't initialized yet. During construction of a new instance of a derived class, the base class initialization is done as the first step and it happens before the initialization logic of the derived class is run. </p>\n</blockquote>\n"}], "owner": {"reputation": 623, "user_id": 7154308, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7c9532852ef1cf4acafa980432850fa3?s=128&d=identicon&r=PG&f=1", "display_name": "GianMS", "link": "https://stackoverflow.com/users/7154308/gianms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 997, "favorite_count": 0, "answer_count": 3, "score": 8, "last_activity_date": 1567156191, "creation_date": 1566405947, "last_edit_date": 1567156191, "question_id": 57596063, "link": "https://stackoverflow.com/questions/57596063/nullpointerexception-when-implementing-java-interface-from-kotlin", "title": "NullPointerException when implementing Java interface from Kotlin", "body": "<p>I'm trying to implement <code>BiFunction</code> interface from RxJava in Kotlin and I'm getting a <code>NullPointerException</code>.</p>\n\n<p>This is the Java interface that I'm implementing in Kotlin. It's from RxJava 2.</p>\n\n<pre><code>package io.reactivex.functions;\n\nimport io.reactivex.annotations.NonNull;\n\n/**\n * A functional interface (callback) that computes a value based on multiple input values.\n * @param &lt;T1&gt; the first value type\n * @param &lt;T2&gt; the second value type\n * @param &lt;R&gt; the result type\n */\npublic interface BiFunction&lt;T1, T2, R&gt; {\n\n    /**\n     * Calculate a value based on the input values.\n     * @param t1 the first value\n     * @param t2 the second value\n     * @return the result value\n     * @throws Exception on error\n     */\n    @NonNull\n    R apply(@NonNull T1 t1, @NonNull T2 t2) throws Exception;\n}\n</code></pre>\n\n<p>This is my implementation</p>\n\n<pre><code>class MonitoringStateReducer: BiFunction&lt;MonitoringViewState, MonitoringResult, \n    MonitoringViewState&gt; {\n    override fun apply(\n        previousState: MonitoringViewState,\n        result: MonitoringResult\n    ): MonitoringViewState {\n        when (result) {\n           //Returns a non-null new state\n        }\n    }\n}\n</code></pre>\n\n<p>And then, in the ViewModel, I try to use it, but it throws a NullPointerException.</p>\n\n<blockquote>\n  <p>2019-08-22 09:57:41.049 6925-6925/com.name.app E/AndroidRuntime:\n  FATAL EXCEPTION: main\n      Process: com.name.app, PID: 6925\n      java.lang.RuntimeException: Unable to start activity ComponentInfo{com.name.app/com.name.app.features.monitoring.presentation.MonitoringActivity}:\n  java.lang.NullPointerException: accumulator is null\n          at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2907)\n          at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2986)\n          at android.app.ActivityThread.-wrap11(Unknown Source:0)\n          at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1641)\n          at android.os.Handler.dispatchMessage(Handler.java:105)\n          at android.os.Looper.loop(Looper.java:164)\n          at android.app.ActivityThread.main(ActivityThread.java:6694)\n          at java.lang.reflect.Method.invoke(Native Method)\n          at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:769)\n       Caused by: java.lang.NullPointerException: accumulator is null\n          at io.reactivex.internal.functions.ObjectHelper.requireNonNull(ObjectHelper.java:39)\n          at io.reactivex.Observable.scanWith(Observable.java:11537)\n          at io.reactivex.Observable.scan(Observable.java:11502)\n          at com.name.app.features.monitoring.presentation.MonitoringViewModel.compose(MonitoringViewModel.kt:47)\n          at com.name.app.features.monitoring.presentation.MonitoringViewModel.(MonitoringViewModel.kt:18)\n          at com.name.app.features.monitoring.presentation.MonitoringViewModel_Factory.get(MonitoringViewModel_Factory.java:25)\n          at com.name.app.features.monitoring.presentation.MonitoringViewModel_Factory.get(MonitoringViewModel_Factory.java:8)\n          at dagger.internal.DoubleCheck.get(DoubleCheck.java:47)\n          at com.name.app.di.viewmodel.ViewModelFactory.create(ViewModelFactory.kt:12)\n          at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.java:164)\n          at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.java:130)\n          at com.name.app.features.monitoring.presentation.MonitoringActivity$viewModel$2.invoke(MonitoringActivity.kt:46)\n          at com.name.app.features.monitoring.presentation.MonitoringActivity$viewModel$2.invoke(MonitoringActivity.kt:26)\n          at kotlin.UnsafeLazyImpl.getValue(Lazy.kt:81)\n          at com.name.app.features.monitoring.presentation.MonitoringActivity.getViewModel(Unknown\n  Source:7)\n          at com.name.app.features.monitoring.presentation.MonitoringActivity.bind(MonitoringActivity.kt:85)\n          at com.name.app.features.monitoring.presentation.MonitoringActivity.onCreate(MonitoringActivity.kt:119)\n          at android.app.Activity.performCreate(Activity.java:6984)\n          at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1235)\n          at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2860)\n          at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2986)\u00a0\n          at android.app.ActivityThread.-wrap11(Unknown Source:0)\u00a0\n          at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1641)\u00a0\n          at android.os.Handler.dispatchMessage(Handler.java:105)\u00a0\n          at android.os.Looper.loop(Looper.java:164)\u00a0\n          at android.app.ActivityThread.main(ActivityThread.java:6694)\u00a0\n          at java.lang.reflect.Method.invoke(Native Method)\u00a0\n          at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\u00a0\n          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:769)</p>\n</blockquote>\n\n<pre><code>class MonitoringViewModel @Inject constructor(\n    private val processor: MonitoringProcessor\n) : BaseViewModel&lt;MonitoringIntention, MonitoringViewState&gt;() {\n    //Properties that are not relevant for the question\n\n    private val reducer: MonitoringStateReducer = MonitoringStateReducer()\n\n    private fun compose(): Observable&lt;MonitoringViewState&gt; {\n        return intentsSubject.compose(intentFilter)\n            .map(actionFromIntent)\n            .compose(processor)\n            .scan(MonitoringViewState.init(), reducer) //Exception is here\n            .distinctUntilChanged()\n            .replay(1)\n            .autoConnect(0)\n    }\n\n    override fun state(): Observable&lt;MonitoringViewState&gt; = compose()\n\n    //Functions that are not relevant for the question\n}\n</code></pre>\n\n<p>This code doesn\u00b4t work either.</p>\n\n<pre><code>private val reducer by lazy(LazyThreadSafetyMode.NONE) {\n    MonitoringStateReducer()\n}\n</code></pre>\n\n<p>However, if I replace the reducer with this code, it works.</p>\n\n<pre><code>private val reducer: BiFunction&lt;MonitoringViewState, MonitoringResult, MonitoringViewState&gt;\n    get() = MonitoringStateReducer()\n</code></pre>\n\n<p>Tested on Kotlin 1.3.40 and 1.3.50.</p>\n"}, {"tags": ["java", "spring", "spring-boot", "logback", "slf4j"], "comments": [{"owner": {"reputation": 485, "user_id": 1913101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79a1fa114dfcd998ae17f23b22b8086d?s=128&d=identicon&r=PG&f=1", "display_name": "mrkurtan", "link": "https://stackoverflow.com/users/1913101/mrkurtan"}, "edited": false, "score": 0, "creation_date": 1566406383, "post_id": 57596037, "comment_id": 101649520, "body": "Would this help you? <a href=\"https://stackoverflow.com/questions/16910955/programmatically-configure-logback-appender\" title=\"programmatically configure logback appender\">stackoverflow.com/questions/16910955/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1477, "user_id": 3610891, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c350b0073fdecbd724c7fd9406c02e52?s=128&d=identicon&r=PG&f=1", "display_name": "Onki", "link": "https://stackoverflow.com/users/3610891/onki"}, "edited": false, "score": 0, "creation_date": 1566407115, "post_id": 57596152, "comment_id": 101649815, "body": "After all my study of logback, this is again new to me that we can use profiles too for this purpose. I related profiles with user only till now. Will experiment this too and update results here. Just wondering more thing, is this a commonly seen project requirement where you have to choose a log format based on user input? Just wondering how its actually done in industry"}, {"owner": {"reputation": 44753, "user_id": 365237, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/fb9385b7f1a792d5159eca8bbb2c34f8?s=128&d=identicon&r=PG", "display_name": "eis", "link": "https://stackoverflow.com/users/365237/eis"}, "reply_to_user": {"reputation": 1477, "user_id": 3610891, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c350b0073fdecbd724c7fd9406c02e52?s=128&d=identicon&r=PG&f=1", "display_name": "Onki", "link": "https://stackoverflow.com/users/3610891/onki"}, "edited": false, "score": 1, "creation_date": 1566407542, "post_id": 57596152, "comment_id": 101649938, "body": "@Onki more common would be having environment-specific configuration files that are used when deploying. So for example production would use one configuration and test environment something else, but this would not be chosen based on user input."}, {"owner": {"reputation": 1477, "user_id": 3610891, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c350b0073fdecbd724c7fd9406c02e52?s=128&d=identicon&r=PG&f=1", "display_name": "Onki", "link": "https://stackoverflow.com/users/3610891/onki"}, "edited": false, "score": 0, "creation_date": 1566576812, "post_id": 57596152, "comment_id": 101713200, "body": "thanks for your answer, Its very cleaner then all the available approaches."}, {"owner": {"reputation": 1477, "user_id": 3610891, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c350b0073fdecbd724c7fd9406c02e52?s=128&d=identicon&r=PG&f=1", "display_name": "Onki", "link": "https://stackoverflow.com/users/3610891/onki"}, "edited": false, "score": 0, "creation_date": 1566576977, "post_id": 57596152, "comment_id": 101713277, "body": "I have implemented this approach  now in my project. But I have ran into 1 more issue. I posted that as separate question but I did not get any answer so thought of putting that here even though its not a right thing to do. See if you have anything to say on it : <a href=\"https://stackoverflow.com/questions/57602337/logback-how-to-log-entire-msg-using-jsonlayout\" title=\"logback how to log entire msg using jsonlayout\">stackoverflow.com/questions/57602337/&hellip;</a>"}, {"owner": {"reputation": 11893, "user_id": 4478047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OrZkC.jpg?s=128&g=1", "display_name": "Kukeltje", "link": "https://stackoverflow.com/users/4478047/kukeltje"}, "edited": false, "score": 0, "creation_date": 1579195240, "post_id": 57596152, "comment_id": 105693493, "body": "Same can be done without spring: <a href=\"https://stackoverflow.com/questions/53152471/how-can-i-dynamically-by-env-variable-activate-deactivate-logback-or-logback-a\" title=\"how can i dynamically by env variable activate deactivate logback or logback a\">stackoverflow.com/questions/53152471/&hellip;</a>"}, {"owner": {"reputation": 44753, "user_id": 365237, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/fb9385b7f1a792d5159eca8bbb2c34f8?s=128&d=identicon&r=PG", "display_name": "eis", "link": "https://stackoverflow.com/users/365237/eis"}, "reply_to_user": {"reputation": 11893, "user_id": 4478047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OrZkC.jpg?s=128&g=1", "display_name": "Kukeltje", "link": "https://stackoverflow.com/users/4478047/kukeltje"}, "edited": false, "score": 0, "creation_date": 1579197067, "post_id": 57596152, "comment_id": 105694400, "body": "@Kukeltje yes. I think this is one of the options mentioned in the question, right? the if-else blocks."}, {"owner": {"reputation": 11893, "user_id": 4478047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OrZkC.jpg?s=128&g=1", "display_name": "Kukeltje", "link": "https://stackoverflow.com/users/4478047/kukeltje"}, "edited": false, "score": 0, "creation_date": 1579199470, "post_id": 57596152, "comment_id": 105695494, "body": "@eis: yes, seem like that one."}, {"owner": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "edited": false, "score": 0, "creation_date": 1581602637, "post_id": 57596152, "comment_id": 106497100, "body": "You can also add  &lt;springProfile name=&quot;!jsonlogs&quot;&gt; to use all other profiles that aren&#39;t jsonlogs when you have multiple appenders."}], "tags": [], "owner": {"reputation": 44753, "user_id": 365237, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/fb9385b7f1a792d5159eca8bbb2c34f8?s=128&d=identicon&r=PG", "display_name": "eis", "link": "https://stackoverflow.com/users/365237/eis"}, "is_accepted": true, "score": 3, "last_activity_date": 1613499075, "last_edit_date": 1613499075, "creation_date": 1566406448, "answer_id": 57596152, "question_id": 57596037, "link": "https://stackoverflow.com/questions/57596037/how-to-select-logback-appender-based-on-property-file-or-environment-variable/57596152#57596152", "title": "How to select Logback appender based on property file or environment variable", "body": "<p>As you're already using Spring, I suggest using <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html\" rel=\"nofollow noreferrer\">Spring Profiles</a>, lot cleaner than trying to do the same programmatically. This approach is also outlined in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#profile-specific-configuration\" rel=\"nofollow noreferrer\">Spring Boot docs</a>.</p>\n<p>You can set an active profile from either property file:</p>\n<pre><code>spring.profiles.active=jsonlogs\n</code></pre>\n<p>or from environment value:</p>\n<pre><code>spring_profiles_active=jsonlogs\n</code></pre>\n<p>of from startup parameter:</p>\n<pre><code>-Dspring.profiles.active=jsonlogs\n</code></pre>\n<p>Then have separate configurations per profile:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n  &lt;appender name=&quot;stdout-classic&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n      &lt;encoder&gt;\n          &lt;pattern&gt;%d{dd-MM-yyyy HH:mm:ss.SSS} %magenta([%thread]) %highlight(%-5level) %logger{36}.%M - %msg%n&lt;/pattern&gt;\n      &lt;/encoder&gt;\n  &lt;/appender&gt;\n  &lt;appender name=&quot;stdout-json&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n      &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\n          &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\n              &lt;timestampFormat&gt;yyyy-MM-dd'T'HH:mm:ss.SSSX&lt;/timestampFormat&gt;\n              &lt;timestampFormatTimezoneId&gt;Etc/UTC&lt;/timestampFormatTimezoneId&gt;\n              &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\n                  &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\n              &lt;/jsonFormatter&gt;\n          &lt;/layout&gt;\n      &lt;/encoder&gt;\n  &lt;/appender&gt;\n  &lt;!-- begin profile-specific stuff --&gt;\n    &lt;springProfile name=&quot;jsonlogs&quot;&gt;\n        &lt;root level=&quot;info&quot;&gt;\n            &lt;appender-ref ref=&quot;stdout-json&quot; /&gt;\n        &lt;/root&gt;\n    &lt;/springProfile&gt;\n    &lt;springProfile name=&quot;classiclogs&quot;&gt;\n        &lt;root level=&quot;info&quot;&gt;\n            &lt;appender-ref ref=&quot;stdout-classic&quot; /&gt;\n        &lt;/root&gt;\n    &lt;/springProfile&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1390, "user_id": 973418, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d37cb9f616127132eef2ffafebb65280?s=128&d=identicon&r=PG", "display_name": "jaguililla", "link": "https://stackoverflow.com/users/973418/jaguililla"}, "is_accepted": false, "score": 2, "last_activity_date": 1585141691, "creation_date": 1585141691, "answer_id": 60849516, "question_id": 57596037, "link": "https://stackoverflow.com/questions/57596037/how-to-select-logback-appender-based-on-property-file-or-environment-variable/60849516#60849516", "title": "How to select Logback appender based on property file or environment variable", "body": "<p>As the previous answer states, you can set different appenders based on Spring Profiles.</p>\n\n<p>However, if you do not want to rely on that feature, you can use environments variables as described in the <a href=\"http://logback.qos.ch/manual/configuration.html#defaultValuesForVariables\" rel=\"nofollow noreferrer\">Logback manual</a>. I.e.:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;appender name=\"json\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n  &lt;encoder class=\"ch.qos.logback.core.encoder.LayoutWrappingEncoder\"&gt;\n    &lt;layout class=\"ch.qos.logback.contrib.json.classic.JsonLayout\"&gt;\n      &lt;jsonFormatter class=\"ch.qos.logback.contrib.jackson.JacksonJsonFormatter\"&gt;\n        &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\n      &lt;/jsonFormatter&gt;\n      &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\n    &lt;/layout&gt;\n  &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;appender name=\"console\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n  &lt;encoder&gt;\n    &lt;pattern&gt;\n      %cyan(%d{HH:mm:ss.SSS}) %gray([%thread]) %highlight(%-5level) %magenta(%logger{36}) - %msg%n\n    &lt;/pattern&gt;\n  &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;root level=\"info\"&gt;\n  &lt;!--\n   ! Use the content of the LOGBACK_APPENDER environment variable falling back\n   ! to 'json' if it is not defined\n   --&gt;\n  &lt;appender-ref ref=\"${LOGBACK_APPENDER:-json}\"/&gt;\n&lt;/root&gt;\n</code></pre>\n"}], "owner": {"reputation": 1477, "user_id": 3610891, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c350b0073fdecbd724c7fd9406c02e52?s=128&d=identicon&r=PG&f=1", "display_name": "Onki", "link": "https://stackoverflow.com/users/3610891/onki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1231, "favorite_count": 1, "accepted_answer_id": 57596152, "answer_count": 2, "score": 2, "last_activity_date": 1613499075, "creation_date": 1566405843, "last_edit_date": 1566407382, "question_id": 57596037, "link": "https://stackoverflow.com/questions/57596037/how-to-select-logback-appender-based-on-property-file-or-environment-variable", "title": "How to select Logback appender based on property file or environment variable", "body": "<p>I have configured logback xml for a spring boot project.</p>\n\n<p>I want to configure another appender based on the property configured. We want to create an appender either for JSON logs or for text log, this will be decided either by property file or by environment variable.</p>\n\n<p>So I am thinking about the best approach to do this. </p>\n\n<ul>\n<li>Using filters to print logs to 1 of the file (either to JSON or to Txt). But this will create both of the appenders. I want to create only 1 appender.</li>\n<li>Use \"If else\" blocks in logback XML file. To put if else around appenders, loggers seems untidy and error prone. So will try to avoid as much as possible.</li>\n<li>So now exploring options where I can add appender at runtime.</li>\n</ul>\n\n<p>So I want to know if it is possible to add appender at runtime. And will it be added before spring boots up or it could be done anytime in the project.</p>\n\n<p>What could be the best approach to include this scenario.</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1566410367, "post_id": 57596002, "comment_id": 101651073, "body": "The fact your using Kotlin makes no real difference here: you are using the Java API, so the answers in the duplicate apply, because they are more about API usage than about language (Java vs Kotlin)."}], "answers": [{"comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1566407927, "post_id": 57596371, "comment_id": 101650085, "body": "Does <code>DecimalFormatSymbols()</code> use the current locale by default?"}, {"owner": {"reputation": 421, "user_id": 1503249, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3a63adf20ee508a7ae0d1175670ea24c?s=128&d=identicon&r=PG", "display_name": "Maff", "link": "https://stackoverflow.com/users/1503249/maff"}, "edited": false, "score": 0, "creation_date": 1566407928, "post_id": 57596371, "comment_id": 101650087, "body": "Thanks William, however Code-Apprentice is correct, it needs to work everywhere"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "reply_to_user": {"reputation": 421, "user_id": 1503249, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3a63adf20ee508a7ae0d1175670ea24c?s=128&d=identicon&r=PG", "display_name": "Maff", "link": "https://stackoverflow.com/users/1503249/maff"}, "edited": false, "score": 0, "creation_date": 1566407976, "post_id": 57596371, "comment_id": 101650108, "body": "@Maff My original comment might be incorrect, so I deleted it. See my new comment. I suggest researching how <code>DecimalFormatSymbols</code> works."}, {"owner": {"reputation": 421, "user_id": 1503249, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3a63adf20ee508a7ae0d1175670ea24c?s=128&d=identicon&r=PG", "display_name": "Maff", "link": "https://stackoverflow.com/users/1503249/maff"}, "edited": false, "score": 0, "creation_date": 1566408699, "post_id": 57596371, "comment_id": 101650401, "body": "thank you v much William, marked as answer, much appreciated"}, {"owner": {"reputation": 4234, "user_id": 5752737, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4399530f88749f2a24bcbaef6f625490?s=128&d=identicon&r=PG&f=1", "display_name": "William Burnham", "link": "https://stackoverflow.com/users/5752737/william-burnham"}, "reply_to_user": {"reputation": 421, "user_id": 1503249, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3a63adf20ee508a7ae0d1175670ea24c?s=128&d=identicon&r=PG", "display_name": "Maff", "link": "https://stackoverflow.com/users/1503249/maff"}, "edited": false, "score": 0, "creation_date": 1566408803, "post_id": 57596371, "comment_id": 101650454, "body": "@Maff I&#39;ve updated the answer to something simpler which should work on a per-locale (everywhere) basis provided that a locale can be determined (currentLocale)"}], "tags": [], "owner": {"reputation": 4234, "user_id": 5752737, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4399530f88749f2a24bcbaef6f625490?s=128&d=identicon&r=PG&f=1", "display_name": "William Burnham", "link": "https://stackoverflow.com/users/5752737/william-burnham"}, "is_accepted": true, "score": 1, "last_activity_date": 1566408562, "last_edit_date": 1566408562, "creation_date": 1566407624, "answer_id": 57596371, "question_id": 57596002, "link": "https://stackoverflow.com/questions/57596002/java-lang-numberformatexception-invalid-double-for-european-languages-using/57596371#57596371", "title": "&#39;java.lang.NumberFormatException: Invalid double&#39; for European languages, using Kotlin", "body": "<p>I can't try it at the moment but something like</p>\n\n<pre><code>val otherSymbols = DecimalFormatSymbols()\notherSymbols.setDecimalSeparator(',')\notherSymbols.setGroupingSeparator('.')\nDecimalFormat df = DecimalFormat(\"#.##\", otherSymbols)\ndf.roundingMode = RoundingMode.CEILING\nval lengthCalc = 0.01658\nval length = df.format(lengthCalc)\n</code></pre>\n\n<p>should do the trick. You need to use decimal format symbols for Europe, so a comma for the decimals and a full stop for the thousands.</p>\n\n<p>An alternative to do it on a locale basis is to use NumberFormat and cast it to a DecimalFormat</p>\n\n<pre><code>val df = NumberFormat.getNumberInstance(currentLocale) as DecimalFormat\ndf.applyPattern(\"#.##\")\n...\ndf.format(lengthCalc)\n</code></pre>\n"}], "owner": {"reputation": 421, "user_id": 1503249, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3a63adf20ee508a7ae0d1175670ea24c?s=128&d=identicon&r=PG", "display_name": "Maff", "link": "https://stackoverflow.com/users/1503249/maff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "closed_date": 1566410316, "accepted_answer_id": 57596371, "answer_count": 1, "score": 0, "last_activity_date": 1566408562, "creation_date": 1566405637, "last_edit_date": 1566407287, "question_id": 57596002, "link": "https://stackoverflow.com/questions/57596002/java-lang-numberformatexception-invalid-double-for-european-languages-using", "closed_reason": "Duplicate", "title": "&#39;java.lang.NumberFormatException: Invalid double&#39; for European languages, using Kotlin", "body": "<p>each solution I've found for this uses java rather than Kotlin, please can anyone help?\nI've written an app and I'm just trying to translate to some European countries, however the math part is falling over as Germans, French etc use commas rather than a full stop. I can't figure out how to fix this with the solutions on here.</p>\n\n<p>part of .kt file:</p>\n\n<pre><code>import java.math.RoundingMode\nimport java.text.DecimalFormat\n...\nval df = DecimalFormat(\"#.##\")\ndf.roundingMode = RoundingMode.CEILING\nval lengthCalc = 0.01658\nval length = df.format(lengthCalc)\n</code></pre>\n\n<p>any help appreciated thanks</p>\n\n<p>EDIT: I have looked here: <a href=\"https://stackoverflow.com/questions/5054132/how-to-change-the-decimal-separator-of-decimalformat-from-comma-to-dot-point\">How to change the decimal separator of DecimalFormat from comma to dot/point?</a> but as I said originally, all the solutions are for Java, not Kotlin</p>\n"}, {"tags": ["java", "eclipse", "sdk", "sap", "business-objects"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 3826091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dde46dd33bb2f7832f2474e6401e4ace?s=128&d=identicon&r=PG&f=1", "display_name": "user3826091", "link": "https://stackoverflow.com/users/3826091/user3826091"}, "edited": false, "score": 0, "creation_date": 1566564779, "post_id": 57604773, "comment_id": 101706942, "body": "Thank you, @Goutam!  I didn&#39;t realize that there was a JRE in the SDK.  Although I got things working in Adopt OpenJDK8.0.222.10, I will also be investigating the JRE you point out."}], "tags": [], "owner": {"reputation": 88, "user_id": 5968738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2f724671e540916a67c303b0e2c43cc?s=128&d=identicon&r=PG&f=1", "display_name": "Goutam", "link": "https://stackoverflow.com/users/5968738/goutam"}, "is_accepted": false, "score": 1, "last_activity_date": 1566461250, "creation_date": 1566461250, "answer_id": 57604773, "question_id": 57595975, "link": "https://stackoverflow.com/questions/57595975/how-to-set-up-eclipse-project-for-sap-business-objects-java-sdk/57604773#57604773", "title": "How to set up Eclipse project for SAP Business Objects Java SDK", "body": "<p>I think you are not using the correct JRE System Library. In case of doubt its always safe to use the one that comes with the BusinessObjects client installation.</p>\n\n<p>I am using SAP BusinessObjects 4.1 SP6, so for me its located here - \"C:\\Program Files (x86)\\SAP BusinessObjects\\SAP BusinessObjects Enterprise XI 4.0\\win32_x86\\jre\". Check the corresponding location against your version and set it as default for the project in Eclipse, then try again.</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 3826091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dde46dd33bb2f7832f2474e6401e4ace?s=128&d=identicon&r=PG&f=1", "display_name": "user3826091", "link": "https://stackoverflow.com/users/3826091/user3826091"}, "edited": false, "score": 0, "creation_date": 1566564513, "post_id": 57616056, "comment_id": 101706804, "body": "Thank you so much, @Suncatcher.  Late last night I used Java 1.8, and the error went away.  Oddly, I also had to switch to an earlier version of Eclipse as well, but that could be unrelated.  I poured over whatever documentation I could find to see what versions of Java were supported, but couldn&#39;t find any."}, {"owner": {"reputation": 23, "user_id": 3826091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dde46dd33bb2f7832f2474e6401e4ace?s=128&d=identicon&r=PG&f=1", "display_name": "user3826091", "link": "https://stackoverflow.com/users/3826091/user3826091"}, "edited": false, "score": 1, "creation_date": 1566564639, "post_id": 57616056, "comment_id": 101706874, "body": "I was able to get it to work with AdoptOpenJDK 8.0.222.10."}], "tags": [], "owner": {"reputation": 8295, "user_id": 911419, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa0d95b3830549589afbbc79d886c466?s=128&d=identicon&r=PG", "display_name": "Suncatcher", "link": "https://stackoverflow.com/users/911419/suncatcher"}, "is_accepted": true, "score": 0, "last_activity_date": 1566502623, "creation_date": 1566502623, "answer_id": 57616056, "question_id": 57595975, "link": "https://stackoverflow.com/questions/57595975/how-to-set-up-eclipse-project-for-sap-business-objects-java-sdk/57616056#57616056", "title": "How to set up Eclipse project for SAP Business Objects Java SDK", "body": "<p>SAP definitely does not support Java 12, and in BW Modeling tools it is clearly stated that recommended JREs for Eclipse are 8 or 11, but not 12.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UDPrW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UDPrW.png\" alt=\"enter image description here\"></a></p>\n\n<p>I do not know whether you use these tools but I suppose this dependency applies to others cases as well.</p>\n\n<p>SAP explicitly is not saying this anywhere, but previously in all the documentation it was stated that only Oracle Java was supported, which was confirmed by multiple user experiences. I never have any problem with Oracle JDK but with OpenJDK had. So I recommend you to switch to Oracle 11 JDK.</p>\n\n<p>As a last cast, as recommended <a href=\"https://help.sap.com/doc/2e9cf4a457d84c7a81f33d8c3fdd9694/LATEST/en-US/inst_guide_abap_development_tools.pdf\" rel=\"nofollow noreferrer\">here</a> (chapter 6.1.1), you can try SAP proprietary Java Virtual Machine, which is available on the Support Portal.</p>\n"}], "owner": {"reputation": 23, "user_id": 3826091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dde46dd33bb2f7832f2474e6401e4ace?s=128&d=identicon&r=PG&f=1", "display_name": "user3826091", "link": "https://stackoverflow.com/users/3826091/user3826091"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 927, "favorite_count": 0, "accepted_answer_id": 57616056, "answer_count": 2, "score": 0, "last_activity_date": 1566502623, "creation_date": 1566405512, "question_id": 57595975, "link": "https://stackoverflow.com/questions/57595975/how-to-set-up-eclipse-project-for-sap-business-objects-java-sdk", "title": "How to set up Eclipse project for SAP Business Objects Java SDK", "body": "<p>We have SAP BO 4.2 installed in house, and I've been told that REST is not turned on. I've written several successful .Net apps using the SDK to connect to and run against our production SAP box, and now I'm trying to write a Java app to do the same, as the Java SDK exposes more (and required) functionality.</p>\n\n<p>I can't seem to get my Eclipse/Java/project environment set up properly to even start coding.</p>\n\n<p>Windows 10, 64-bit<br /></p>\n\n<p>Eclipse version: 2019-03 (4.11.0)</p>\n\n<p>Java version:<br />\nopenjdk version \"12.0.2\" 2019-07-16<br />\nOpenJDK Runtime Environment (build 12.0.2+10)<br />\nOpenJDK 64-Bit Server VM (build 12.0.2+10, mixed mode, sharing)</p>\n\n<p>I created a new \"Java EE\" -> \"Application Client Project\".</p>\n\n<p>I'm not able to get the following code to \"Run As Application\":</p>\n\n<pre><code>import com.crystaldecisions.sdk.framework.CrystalEnterprise;\nimport com.crystaldecisions.sdk.exception.SDKException;\nimport com.crystaldecisions.sdk.framework.IEnterpriseSession;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        IEnterpriseSession oEnterpriseSession = null;\n\n        String username = \"username\";\n        String password = \"password\";\n        String cmsname = \"server\";\n        String authenticationType = \"secEnterprise\";\n\n        try {\n            oEnterpriseSession = CrystalEnterprise.getSessionMgr().logon(username, password, cmsname, authenticationType);\n\n            if (oEnterpriseSession == null) {\n                System.out.print(\"login failed\");\n            }\n        } catch (SDKException sdkEx) {\n            System.out.print(sdkEx);\n        }\n\n        //do processing here\n\n    }\n\n    public Main() {\n        super();\n\n    }\n\n}\n</code></pre>\n\n<p>I have the following libraries referenced in the build path:</p>\n\n<pre><code>C:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/cecore.jar\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/cesession.jar\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/celib.jar\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/logging.jar\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/aspectjrt.jar\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/ceaspect.jar\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/TraceLog.jar\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/corbaidl.jar\nC:/Program Files (x86)/SAP BusinessObjects/SAP BusinessObjects Enterprise XI 4.0/java/lib/ebus405.jar\n</code></pre>\n\n<p>Everything I've searched online for has fallen into three categories:</p>\n\n<ol>\n<li>links to pages on SAP's site that no longer work (so redirected to general search page), or</li>\n<li>outdated information/code, such that I'm not able to do the same, or</li>\n<li>code that should work, once I get local environment set up and working properly</li>\n</ol>\n\n<p>Additionally, all samples I've been able to find are for Java Server Pages, which is not what I want with this project.</p>\n\n<p>When I try to run the above code, the error message I receive, even before it tries to connect, is:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/omg/CORBA/portable/IDLEntity\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:151)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:802)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:700)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:623)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:151)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:802)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:700)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:623)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at com.crystaldecisions.thirdparty.com.ooc.OBCORBA.ORB_impl.initializeDefaultPolicies(ORB_impl.java:369)\n    at com.crystaldecisions.thirdparty.com.ooc.OBCORBA.ORB_impl.initialize(ORB_impl.java:196)\n    at com.crystaldecisions.thirdparty.com.ooc.OBCORBA.ORB_impl.setParameters(ORB_impl.java:812)\n    at com.crystaldecisions.thirdparty.com.ooc.OBCORBA.ORB_impl.init(ORB_impl.java:1313)\n    at com.crystaldecisions.enterprise.ocaframework.idl.helper.ORBHelper.init(ORBHelper.java:57)\n    at com.crystaldecisions.enterprise.ocaframework.ServiceMgr.&lt;init&gt;(ServiceMgr.java:402)\n    at com.crystaldecisions.enterprise.ocaframework.ServiceMgrFactory.getServiceMgr(ServiceMgrFactory.java:66)\n    at com.crystaldecisions.sdk.occa.security.internal.LogonService.ensureServiceStub(LogonService.java:701)\n    at com.crystaldecisions.sdk.occa.security.internal.LogonService.doUserLogon(LogonService.java:885)\n    at com.crystaldecisions.sdk.occa.security.internal.LogonService.doUserLogon(LogonService.java:860)\n    at com.crystaldecisions.sdk.occa.security.internal.LogonService.userLogon(LogonService.java:240)\n    at com.crystaldecisions.sdk.occa.security.internal.SecurityMgr.userLogon(SecurityMgr.java:166)\n    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon_aroundBody0(SessionMgr.java:823)\n    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon_aroundBody1$advice(SessionMgr.java:523)\n    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon(SessionMgr.java:1)\n    at Main.main(Main.java:17)\nCaused by: java.lang.ClassNotFoundException: org.omg.CORBA.portable.IDLEntity\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 34 more\n</code></pre>\n\n<p>I understand that starting with Java 9, java.CORBA has been deprecated (and removed in Java 11).  I've tried changing the compiler compliance and facets to 1.8 with no change.  Additionally, the jar file \"ebus405.jar\" contains the CORBA classes.</p>\n\n<p>Although I would appreciate help on getting past this error message, I would more appreciate it if someone can tell me a more straight-forward approach to getting this started.  I would embrace any of the following:</p>\n\n<ol>\n<li>using a different IDE (I'm not tied to Eclipse)</li>\n<li>referencing different/additional SDK Jars</li>\n<li>tackling this from a different angle (e.g., different Java project type)</li>\n</ol>\n"}, {"tags": ["java", "android", "geckoview"], "comments": [{"owner": {"reputation": 186045, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 1, "creation_date": 1566405305, "post_id": 57595893, "comment_id": 101649100, "body": "Did you add the dependency: <code>implementation &quot;org.mozilla.components:browser-engine-gecko:{latest-version&zwnj;&#8203;}&quot;</code> ?"}, {"owner": {"reputation": 186045, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 0, "creation_date": 1566406739, "post_id": 57595893, "comment_id": 101649682, "body": "You have to change {latest-version} with the latest version of this library. Check on the doc of the library. It seems 9.0.0"}, {"owner": {"reputation": 186045, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 0, "creation_date": 1566409355, "post_id": 57595893, "comment_id": 101650686, "body": "Did my comment solve your issue?"}, {"owner": {"reputation": 186045, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 0, "creation_date": 1566461652, "post_id": 57595893, "comment_id": 101665823, "body": "Thanks. Just posted the answer."}], "answers": [{"tags": [], "owner": {"reputation": 186045, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "is_accepted": true, "score": 2, "last_activity_date": 1566461275, "creation_date": 1566461275, "answer_id": 57604780, "question_id": 57595893, "link": "https://stackoverflow.com/questions/57595893/how-to-fix-error-inflating-class-geckoengineview-for-android/57604780#57604780", "title": "How to fix &quot;Error inflating class GeckoEngineView&quot; for android", "body": "<p>As described in the component <a href=\"https://github.com/mozilla-mobile/android-components/tree/master/components/browser/engine-gecko\" rel=\"nofollow noreferrer\">doc</a> to use it you have to add this dependencies in your <code>build.gradle</code></p>\n\n<pre><code>implementation \"org.mozilla.components:browser-engine-gecko:{latest-version}\"\n</code></pre>\n\n<p>Currently the <a href=\"https://github.com/mozilla-mobile/android-components/releases\" rel=\"nofollow noreferrer\">latest version</a> is 9.0.0</p>\n\n<pre><code>implementation \"org.mozilla.components:browser-engine-gecko:9.0.0\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1687, "user_id": 5533820, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/--60EKqtgn8w/AAAAAAAAAAI/AAAAAAAAG_A/m4pA92y-KfY/photo.jpg?sz=128", "display_name": "Arturo Mejia", "link": "https://stackoverflow.com/users/5533820/arturo-mejia"}, "is_accepted": false, "score": 4, "last_activity_date": 1566481690, "creation_date": 1566481690, "answer_id": 57610868, "question_id": 57595893, "link": "https://stackoverflow.com/questions/57595893/how-to-fix-error-inflating-class-geckoengineview-for-android/57610868#57610868", "title": "How to fix &quot;Error inflating class GeckoEngineView&quot; for android", "body": "<p>@SowingFiber I think you have a small error, on the XML code on the example above, possible in the last edition. I think you should update it because, as it's now, it is not going to compile.</p>\n\n<p>The problem is that you have two different types of references, one in the XML and another in the code. To match the reference in the code, you have to use <code>org.mozilla.geckoview.GeckoView</code> in the XML.</p>\n\n<pre><code>&lt;org.mozilla.geckoview.GeckoView\n    android:id=\"@+id/geckoview\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\" /&gt;\n</code></pre>\n\n<p>Additionally you could include <code>geckoview</code> directly, without using <a href=\"https://github.com/mozilla-mobile/android-components\" rel=\"nofollow noreferrer\">Mozilla Android Components</a>, in case you just want to use <code>geckoview</code>.</p>\n\n<pre><code>implementation \"org.mozilla.geckoview:geckoview-${geckoviewChannel}:${geckoviewVersion}\"   \n</code></pre>\n"}], "owner": {"reputation": 761, "user_id": 11818952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q0j58.png?s=128&g=1", "display_name": "SowingFiber", "link": "https://stackoverflow.com/users/11818952/sowingfiber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 1, "accepted_answer_id": 57604780, "answer_count": 2, "score": 4, "last_activity_date": 1566485198, "creation_date": 1566405099, "last_edit_date": 1566485198, "question_id": 57595893, "link": "https://stackoverflow.com/questions/57595893/how-to-fix-error-inflating-class-geckoengineview-for-android", "title": "How to fix &quot;Error inflating class GeckoEngineView&quot; for android", "body": "<p>The GeckoEngineView fails to be inflated, despite using latest dependencies.</p>\n\n<p>The code is from an official documentation on <a href=\"http://wiki.mozilla.org/Mobile/GeckoView\" rel=\"nofollow noreferrer\">GeckoView</a>. All the latest dependencies and repos have been successfully resolved in the project.</p>\n\n<p>The Error:</p>\n\n<p><code>Error inflating class mozilla.components.browser.engine.gecko.GeckoEngineView</code></p>\n\n<p>Upon scouring the error log: </p>\n\n<pre><code> Caused by: android.view.InflateException: Binary XML file line #9: Binary XML file line #9: Error inflating class mozilla.components.browser.engine.gecko.GeckoEngineView\n Caused by: android.view.InflateException: Binary XML file line #9: Error inflating class mozilla.components.browser.engine.gecko.GeckoEngineView\n Caused by: java.lang.ClassNotFoundException: Didn't find class \"mozilla.components.browser.engine.gecko.GeckoEngineView\" on path: DexPathList[[zip file \"/data/app/com.geckoengine.example-IQhwqfpsfzKO11EI9ak6kQ==/base.apk\"],nativeLibraryDirectories=[/data/app/com.geckoengine.example-IQhwqfpsfzKO11EI9ak6kQ==/lib/arm64, /data/app/com.geckoengine.example-IQhwqfpsfzKO11EI9ak6kQ==/base.apk!/lib/arm64-v8a, /system/lib64, /system/vendor/lib64]]\n</code></pre>\n\n<p><em>Updated XML File, Credit: @ArturoMejia</em><br>\n<code>activity_main.xml</code>:</p>\n\n<pre><code>&lt;org.mozilla.geckoview.GeckoView\n    android:id=\"@+id/geckoview\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\" /&gt;\n</code></pre>\n\n<p>MainActivity.java</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    GeckoView view;\n    GeckoSession session;\n    GeckoRuntime runtime;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        view = findViewById(R.id.geckoview);\n        session = new GeckoSession();\n        runtime = GeckoRuntime.create(this);\n        session.open(runtime);\n        view.setSession(session);\n\n\n        //TODO: add any url\n        //TODO: Use intent.putExtraString() to send a url from the main activity to this activity\n        session.loadUri(\"http://theyouthbuzz.com/\");\n    }\n}\n\n</code></pre>\n\n<p>The documentation implies that the code should load a webview without any problems. The same is not verifiable.</p>\n\n<p>Notes:</p>\n\n<p>Android studio version: 3.5 RC 3 [dev channel]</p>\n"}, {"tags": ["java", "maven", "pom.xml", "executable-jar"], "answers": [{"comments": [{"owner": {"reputation": 1209, "user_id": 1896016, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0135b67d773055225816daf3a7a39b99?s=128&d=identicon&r=PG&f=1", "display_name": "JustBlossom", "link": "https://stackoverflow.com/users/1896016/justblossom"}, "edited": false, "score": 0, "creation_date": 1566429173, "post_id": 57596055, "comment_id": 101657582, "body": "Thanks! I&#39;ve never used modules before, but they were pretty straightforward. They worked beautifully; the project structure makes a lot of sense this way."}], "tags": [], "owner": {"reputation": 2251, "user_id": 6650475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3543c7ccbd9324d2bc28abd8bd8d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew S", "link": "https://stackoverflow.com/users/6650475/andrew-s"}, "is_accepted": true, "score": 4, "last_activity_date": 1566405921, "creation_date": 1566405921, "answer_id": 57596055, "question_id": 57595880, "link": "https://stackoverflow.com/questions/57595880/maven-multiple-jar-best-practices/57596055#57596055", "title": "Maven - Multiple Jar Best Practices", "body": "<p>Not in different projects, but in multiple maven modules within the same project.</p>\n\n<p>Consider a maven module structure such as:</p>\n\n<pre><code>root\n   core\n   cli-api\n   gui-api\n</code></pre>\n\n<p>where:</p>\n\n<ul>\n<li>the <code>core</code> module contains all the actual business logic, and builds a typical jar</li>\n<li>the <code>cli-api</code> module depends on <code>core</code>, and includes the code to run from the command line</li>\n<li>the <code>gui-api</code> module depends on <code>core</code> and includes the code to run from a gui</li>\n</ul>\n\n<p>The test classes should be within the related module.</p>\n"}], "owner": {"reputation": 1209, "user_id": 1896016, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0135b67d773055225816daf3a7a39b99?s=128&d=identicon&r=PG&f=1", "display_name": "JustBlossom", "link": "https://stackoverflow.com/users/1896016/justblossom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 57596055, "answer_count": 1, "score": 0, "last_activity_date": 1566405921, "creation_date": 1566404994, "question_id": 57595880, "link": "https://stackoverflow.com/questions/57595880/maven-multiple-jar-best-practices", "title": "Maven - Multiple Jar Best Practices", "body": "<p>Maven best practices seem like they support one project > one jar > one pom.xml.</p>\n\n<p>I have a maven project that can compile and run as a command line program OR as a GUI. Is it bad to have one project with one POM file that creates 2 jars in this case (one for each run type)? Or is there a better way to do it?</p>\n\n<p>Also, I have automated tests in my test package that compile and run as jar files. Is it a bad practice to keep those in the maven test structure and use the same pom file to compile them? Or is it better to put them in a different project?</p>\n"}, {"tags": ["java", "websphere", "log4j2"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11957850, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDn9XT2FQKK8P4SBlXM0rquSgIPhsyjbIC_kcD6=k-s128", "display_name": "Pablito_uy", "link": "https://stackoverflow.com/users/11957850/pablito-uy"}, "edited": false, "score": 0, "creation_date": 1566917034, "post_id": 57661913, "comment_id": 101801283, "body": "Hi Frank. We decide use java.util.loggin (JUL) according to IBM document <a href=\"https://www.ibm.com/developerworks/websphere/techjournal/0802_supauth/0802_supauth-pdf.pdf\" rel=\"nofollow noreferrer\">ibm.com/developerworks/websphere/techjournal/0802_supauth/&hellip;</a>"}, {"owner": {"reputation": 36, "user_id": 5961184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/veSx7.jpg?s=128&g=1", "display_name": "J.Frank", "link": "https://stackoverflow.com/users/5961184/j-frank"}, "reply_to_user": {"reputation": 3, "user_id": 11957850, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDn9XT2FQKK8P4SBlXM0rquSgIPhsyjbIC_kcD6=k-s128", "display_name": "Pablito_uy", "link": "https://stackoverflow.com/users/11957850/pablito-uy"}, "edited": false, "score": 1, "creation_date": 1566921638, "post_id": 57661913, "comment_id": 101803776, "body": "In the scope of Websphere, that&#39;s definitely the better approach than using Log4J in the long run."}], "tags": [], "owner": {"reputation": 36, "user_id": 5961184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/veSx7.jpg?s=128&g=1", "display_name": "J.Frank", "link": "https://stackoverflow.com/users/5961184/j-frank"}, "is_accepted": true, "score": 1, "last_activity_date": 1566838106, "creation_date": 1566838106, "answer_id": 57661913, "question_id": 57595843, "link": "https://stackoverflow.com/questions/57595843/icant-change-the-log-level-for-log4j2-implementation-to-websphere-log-level-at/57661913#57661913", "title": "I&#39;cant change the log level for log4j2 implementation to websphere log level at runtime from &quot;Logs and trace&quot; option", "body": "<p>It's not possible to change Log4j log levels through Websphere's Administrative Console. \nThe WebSphere Administrative Console can only change log levels for WebSphere's internal Logger objects and java.util.logging.Loggers in your application.</p>\n\n<p>You should instead locate your log4j configuration file and configure the log levels from there.</p>\n"}], "owner": {"reputation": 3, "user_id": 11957850, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDn9XT2FQKK8P4SBlXM0rquSgIPhsyjbIC_kcD6=k-s128", "display_name": "Pablito_uy", "link": "https://stackoverflow.com/users/11957850/pablito-uy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 57661913, "answer_count": 1, "score": -1, "last_activity_date": 1567448954, "creation_date": 1566404863, "last_edit_date": 1567448954, "question_id": 57595843, "link": "https://stackoverflow.com/questions/57595843/icant-change-the-log-level-for-log4j2-implementation-to-websphere-log-level-at", "title": "I&#39;cant change the log level for log4j2 implementation to websphere log level at runtime from &quot;Logs and trace&quot; option", "body": "<p>I use log4j2 to implement loggin for applications than run over websphere application server 9. \nI need the log level change at runtime, i do this from Administrative Console, on \"Logs and trace\" option. But, the change has not effect.\nIt's possible make this over Websphere with log4j2 implementation ?</p>\n"}, {"tags": ["java", "generics", "collections"], "comments": [{"owner": {"reputation": 11970, "user_id": 2837741, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AEHnE.png?s=128&g=1", "display_name": "daniu", "link": "https://stackoverflow.com/users/2837741/daniu"}, "edited": false, "score": 3, "creation_date": 1566404967, "post_id": 57595821, "comment_id": 101648941, "body": "Why have the items implement Comparable? And I don&#39;t think the &quot;more code&quot; will ever be executed, nor will it compile."}, {"owner": {"reputation": 11, "user_id": 11958105, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDifsR96kTPQ8vqSzMTU7V-xQAH5E0ljrGBEzE2=k-s128", "display_name": "S Mej&#237;a", "link": "https://stackoverflow.com/users/11958105/s-mej%c3%ada"}, "reply_to_user": {"reputation": 11970, "user_id": 2837741, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AEHnE.png?s=128&g=1", "display_name": "daniu", "link": "https://stackoverflow.com/users/2837741/daniu"}, "edited": false, "score": 0, "creation_date": 1566405297, "post_id": 57595821, "comment_id": 101649097, "body": "Totally agree, let me fix it"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1566405534, "post_id": 57595821, "comment_id": 101649192, "body": "It really depends on what you hide behind &quot;more code&quot;. But the code clearly doesn&#39;t match your description: not all types extend Comparable, and you&#39;re supposed to accept collections of any type. The code also doesn&#39;t seem to use the generic type T anywhere, so why is the method generic?"}, {"owner": {"reputation": 11, "user_id": 11958105, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDifsR96kTPQ8vqSzMTU7V-xQAH5E0ljrGBEzE2=k-s128", "display_name": "S Mej&#237;a", "link": "https://stackoverflow.com/users/11958105/s-mej%c3%ada"}, "edited": false, "score": 0, "creation_date": 1566405748, "post_id": 57595821, "comment_id": 101649279, "body": "Ok, I should use the method just like this: public static &lt;T&gt; boolean doTask(Collection&lt;T&gt; list){...}"}, {"owner": {"reputation": 11970, "user_id": 2837741, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AEHnE.png?s=128&g=1", "display_name": "daniu", "link": "https://stackoverflow.com/users/2837741/daniu"}, "edited": false, "score": 0, "creation_date": 1566405884, "post_id": 57595821, "comment_id": 101649346, "body": "Shouldn&#39;t it be <code>containsElements() </code> considering it returns false when empty?"}, {"owner": {"reputation": 11, "user_id": 11958105, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDifsR96kTPQ8vqSzMTU7V-xQAH5E0ljrGBEzE2=k-s128", "display_name": "S Mej&#237;a", "link": "https://stackoverflow.com/users/11958105/s-mej%c3%ada"}, "edited": false, "score": 0, "creation_date": 1566406004, "post_id": 57595821, "comment_id": 101649383, "body": "yes, returns false when is null or empty"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1566406248, "post_id": 57595821, "comment_id": 101649455, "body": "Again, why make it generic? You know about wildcars, so why don&#39;t you use them?"}], "answers": [{"tags": [], "owner": {"reputation": 11970, "user_id": 2837741, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AEHnE.png?s=128&g=1", "display_name": "daniu", "link": "https://stackoverflow.com/users/2837741/daniu"}, "is_accepted": true, "score": 2, "last_activity_date": 1566406386, "last_edit_date": 1566406386, "creation_date": 1566406084, "answer_id": 57596084, "question_id": 57595821, "link": "https://stackoverflow.com/questions/57595821/is-this-the-best-options-to-create-a-method-that-accepts-a-collection-of-any-typ/57596084#57596084", "title": "Is this the best options to create a method that accepts a collection of any type?", "body": "<p>Since you don't care about the elements' type at all, you can just use <code>?</code> for type.</p>\n\n<pre><code>static boolean containsElements(Collection&lt;?&gt; list) {\n    return list != null &amp;&amp; !list.isEmpty();\n}\n</code></pre>\n\n<p><code>list.isEmpty()</code> will not be evaluated when <code>list</code> is <code>null</code> because the term is already false, so it won't run into an exception. </p>\n"}], "owner": {"reputation": 11, "user_id": 11958105, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDifsR96kTPQ8vqSzMTU7V-xQAH5E0ljrGBEzE2=k-s128", "display_name": "S Mej&#237;a", "link": "https://stackoverflow.com/users/11958105/s-mej%c3%ada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 57596084, "answer_count": 1, "score": 0, "last_activity_date": 1566406386, "creation_date": 1566404762, "last_edit_date": 1566405877, "question_id": 57595821, "link": "https://stackoverflow.com/questions/57595821/is-this-the-best-options-to-create-a-method-that-accepts-a-collection-of-any-typ", "title": "Is this the best options to create a method that accepts a collection of any type?", "body": "<p>I had implemented a method that accepts a Collections of any type as an input. Is there a better solution?</p>\n\n<p>I'm using generics to solve this problem;</p>\n\n<p>My solution uses this as a parameter <code>(Collection&lt;T&gt; list)</code></p>\n\n<p>I'm not sure if there is a better option. Is there a better option?, is my solution a good option?</p>\n\n<p>This is my code:</p>\n\n<pre><code>public static &lt;T&gt; boolean doTask(Collection&lt;T&gt; list){\n    if(list == null)\n        return false;\n    else if(list.isEmpty()) return false;\n    /* more code*/\n    return true;\n}\n</code></pre>\n"}, {"tags": ["java", "sql-server", "ssl", "jdbc", "database-administration"], "answers": [{"tags": [], "owner": {"reputation": 748, "user_id": 2815760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9CFOL.jpg?s=128&g=1", "display_name": "Angel_Boy", "link": "https://stackoverflow.com/users/2815760/angel-boy"}, "is_accepted": true, "score": 0, "last_activity_date": 1566505378, "last_edit_date": 1566505378, "creation_date": 1566489853, "answer_id": 57613257, "question_id": 57595772, "link": "https://stackoverflow.com/questions/57595772/sql-server-jdbc-error-the-driver-could-not-establish-a-secure-connection-to-sql/57613257#57613257", "title": "SQL Server JDBC Error: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption", "body": "<p>Ok, so we worked with Microsoft Support on this issue and this is the understanding that we came to.</p>\n\n<p>Microsoft added/enabled TLS 1.0 and TLS 1.1 to the Database Server for testing purposes only since Microsoft does not support TLS 1.0 anymore. This lowered the security protocol to a lower state but were able to establish SQL Connectivity between the Application server and the Database Server, but still the Application initially couldn't connect. Microsoft thinks that it is because of the current connection provider/driver that is being used by the application and they wouldn't support that part of it since that is Java/Oracle's JDBC driver.</p>\n\n<p>In our case, the application did connect after enabling the TLS 1.0 and TLS 1.1 after sometime.\nThis may or may not work in your case.</p>\n\n<p>So the recommended solutions if you have the resources to modify the application, are to update the drivers for the application, test and redeploy.</p>\n\n<p>If you don't have the resources to the application then the options are these:\n1.Rollback to older Servers for SQL Server. This could work but there is no guarantee.\n Also another thing to note is that SQL Server 2008 and 2008R2 are out of support, so the oldest we could go (and still stay supported) would be SQL Server 2012 which may not resolve the issue.</p>\n\n<p>2.Open the security wide open. This will very likely solve the issue, but is most definitely not recommended. It is likely that the issue has to do with extremely outdated security providers, that are no longer supported. So, opening your security wide open will likely resolve the issue, but this is not recommended.</p>\n\n<p>3.Rewrite the application which is not the easiest option, but is the only one that is fully recommended by Microsoft.</p>\n\n<p>See this <a href=\"https://serverfault.com/questions/649052/do-i-have-to-enable-tls-1-0-in-windows-2008-r2\">https://serverfault.com/questions/649052/do-i-have-to-enable-tls-1-0-in-windows-2008-r2</a> and this <a href=\"https://www.youtube.com/watch?v=vUuR_M3biDU\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=vUuR_M3biDU</a> if you'd like to enable TLS by yourself. The server will require reboot after you make this change.</p>\n"}], "owner": {"reputation": 748, "user_id": 2815760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9CFOL.jpg?s=128&g=1", "display_name": "Angel_Boy", "link": "https://stackoverflow.com/users/2815760/angel-boy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2980, "favorite_count": 0, "accepted_answer_id": 57613257, "answer_count": 1, "score": 1, "last_activity_date": 1566505378, "creation_date": 1566404566, "last_edit_date": 1566405051, "question_id": 57595772, "link": "https://stackoverflow.com/questions/57595772/sql-server-jdbc-error-the-driver-could-not-establish-a-secure-connection-to-sql", "title": "SQL Server JDBC Error: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption", "body": "<p>Background: </p>\n\n<ul>\n<li>Application Server:</li>\n</ul>\n\n<p>Java Based Application is running on Windows Server 2008 R2 Enterprise. \nJava Version on this Server is Version 6 Update 32.\nJDBC Driver Version: 4.0</p>\n\n<ul>\n<li>Database Server:</li>\n</ul>\n\n<p>The database server has been recently upgraded(Side by side upgrade with the same servername as the one before that the application use to connect to) from Windows 2016 to Windows 2019 and SQL Server 2012 to SQL Server 2016 and there is no Java on this server. Is this a problem??</p>\n\n<ul>\n<li>History:</li>\n</ul>\n\n<p>When we did the database server upgrade last time from SQL Server 2008 to SQL Server 2012, we followed the same method and the application worked fine.</p>\n\n<p>But this time it is throwing the following error into the Application logs: <br/>\n<strong>org.jboss.resource.JBossResourceException: Could not create connection; - nested throwable: (com.microsoft.sqlserver.jdbc.SQLServerException: \nThe driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: \"SQL Server did not return a response. The connection has been closed.\".)</strong></p>\n\n<p>We did not touch the application server at all, expecting that when the database server is up, since it is the same servername, it would start back up fine, but the application is failing with the above error.\nThere is no logon failure because we tested the application login and password and it worked fine.</p>\n\n<p>I looked at the following:<br/>\n<a href=\"https://stackoverflow.com/questions/32766114/sql-server-jdbc-error-on-java-8-the-driver-could-not-establish-a-secure-connect\">SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption</a>\nbut we cant seem to understand what is causing this issue since nothing on the Application Server has changed.\nI looked at the compatibility between the JDBC Version and the SQL Server matrix here <br/><a href=\"https://docs.microsoft.com/en-us/sql/connect/jdbc/microsoft-jdbc-driver-for-sql-server-support-matrix?view=sql-server-2017\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/sql/connect/jdbc/microsoft-jdbc-driver-for-sql-server-support-matrix?view=sql-server-2017</a> and it looks like JDBC 4.0 works with SQL Server 2016.</p>\n\n<p>Any ideas as to what could be going on?</p>\n"}, {"tags": ["java", "spring-boot", "graphql"], "answers": [{"tags": [], "owner": {"reputation": 1712, "user_id": 7200018, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Dqs74Pvt7ZI/AAAAAAAAAAI/AAAAAAAAA0I/IXn0dV2R94k/photo.jpg?sz=128", "display_name": "GnanaJeyam", "link": "https://stackoverflow.com/users/7200018/gnanajeyam"}, "is_accepted": false, "score": 0, "last_activity_date": 1566410803, "creation_date": 1566410803, "answer_id": 57597068, "question_id": 57595722, "link": "https://stackoverflow.com/questions/57595722/access-request-headers-in-spring-boot/57597068#57597068", "title": "Access Request Headers in Spring Boot?", "body": "<p>If your question is to get the current request header then below code will do that for you.</p>\n\n<pre><code>HttpServletRequest request = ((ServletRequestAttributes)RequestContextHolder.getRequestAttributes()) .getRequest();\n\nrequest.getHeader(\"Authorization\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3809, "user_id": 657224, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/2a159be2028abb3480e907bbc6e07390?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/657224/mike"}, "is_accepted": false, "score": 1, "last_activity_date": 1566411785, "last_edit_date": 1566411785, "creation_date": 1566411357, "answer_id": 57597195, "question_id": 57595722, "link": "https://stackoverflow.com/questions/57595722/access-request-headers-in-spring-boot/57597195#57597195", "title": "Access Request Headers in Spring Boot?", "body": "<p>Any Spring controller can get access to headers as part of the method arguments using <code>@RequestHeader</code> annotation (docs <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestHeader.html\" rel=\"nofollow noreferrer\">here</a>):</p>\n\n<pre><code>@Controller\npublic class MyController {\n    public ResponseEntity&lt;String&gt; schedule(@RequestBody MyDto request,\n                                           @RequestHeader HttpHeaders headers)\n{\n   ...\n}\n</code></pre>\n\n<p>If you don't have access to the controller code, you can implement a <code>OncePerRequestFilter</code> and access the headers from the underlying servlet request using @gnana's approach.</p>\n"}], "owner": {"reputation": 341, "user_id": 11937696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f830e8c015c55163d1bf70660d173662?s=128&d=identicon&r=PG&f=1", "display_name": "B. Wasnie", "link": "https://stackoverflow.com/users/11937696/b-wasnie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566420782, "creation_date": 1566404332, "last_edit_date": 1566420782, "question_id": 57595722, "link": "https://stackoverflow.com/questions/57595722/access-request-headers-in-spring-boot", "title": "Access Request Headers in Spring Boot?", "body": "<p>I'm using this <a href=\"https://github.com/npalm/graphql-java-demo/\" rel=\"nofollow noreferrer\">project</a> and specifically these 2 classes: <a href=\"https://github.com/npalm/graphql-java-demo/blob/master/src/main/java/ofouro/code/graphql/demo/ApplicationStartup.java\" rel=\"nofollow noreferrer\">ApplicationStartup.java</a> and <a href=\"https://github.com/npalm/graphql-java-demo/blob/master/src/main/java/ofouro/code/graphql/demo/Application.java\" rel=\"nofollow noreferrer\">Application.java</a>.</p>\n\n<p>I googled a bit and it looks like all other examples use a specific <code>/endpoint</code> in order to get request headers and I just have my app running on <code>localhost:8080</code> instead. But it looks like I do have <code>/graphql</code> endpoint so it should be possible to parse request's header.</p>\n\n<p>Here are the contents of my <code>application.yml</code>:</p>\n\n<pre><code>server:\n  port: 8080\n\nspring:\n  jpa:\n    hibernate:\n      ddl-auto: create\n    show-sql: false\n\ngraphql.playground:\n  mapping: /playground\n  endpoint: /graphql\n</code></pre>\n"}, {"tags": ["java", "json", "csv", "parsing"], "answers": [{"tags": [], "owner": {"reputation": 816, "user_id": 9123425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CYcnR.png?s=128&g=1", "display_name": "Marc G. Smith", "link": "https://stackoverflow.com/users/9123425/marc-g-smith"}, "is_accepted": false, "score": 3, "last_activity_date": 1566409676, "last_edit_date": 1566409676, "creation_date": 1566408110, "answer_id": 57596482, "question_id": 57595184, "link": "https://stackoverflow.com/questions/57595184/dynamic-json-to-csv-in-java-looking-for-generic-code-that-works-with-any-json/57596482#57596482", "title": "Dynamic Json to CSV in java. looking for Generic code that works with any json, irrespective of any number of node in json file", "body": "<p>Using <a href=\"https://github.com/FasterXML/jackson-databind\" rel=\"nofollow noreferrer\">Jackson ObjectMapper</a> and <a href=\"http://commons.apache.org/proper/commons-csv/index.html\" rel=\"nofollow noreferrer\">Apache Commons CSV</a> you can implement the functionality you require by reading the JSON and then visiting all the nodes.</p>\n\n<ol>\n<li>If the node is a collection then visit all its children with the field or array index appended to the prefix\n\n<ul>\n<li>Note that arrays and objects need to be handled independently</li>\n</ul></li>\n<li>If the node is a not a collection then add it to the CSV output    </li>\n</ol>\n\n<pre><code>    public void jsonToCsv(String json, Appendable appendable) throws IOException {\n        JsonNode root = new ObjectMapper().reader().readTree(json);\n        CSVPrinter printer = CSVFormat.DEFAULT.print(appendable);\n        appendNode(root.get(0), \"\", printer);\n    }\n\n    private void appendNode(JsonNode node, String prefix, CSVPrinter printer) throws IOException {\n        if (node.isArray()) {\n            for (int i = 0; i &lt; node.size(); ++i) {\n                appendNode(node.get(i), String.format(\"%s/%d\", prefix, i), printer);\n            }\n        } else if (node.isContainerNode()) {\n            Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; fields = node.fields();\n            while (fields.hasNext()) {\n                Map.Entry&lt;String, JsonNode&gt; field = fields.next();\n                appendNode(field.getValue(), String.format(\"%s/%s\", prefix, field.getKey()), printer);\n            }\n        } else {\n            printer.printRecord(prefix.substring(1), node.asText());\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 5865526, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/60675b86ae12e6eb25c4d3a7310a7650?s=128&d=identicon&r=PG&f=1", "display_name": "Sush", "link": "https://stackoverflow.com/users/5865526/sush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566409676, "creation_date": 1566402167, "last_edit_date": 1566402564, "question_id": 57595184, "link": "https://stackoverflow.com/questions/57595184/dynamic-json-to-csv-in-java-looking-for-generic-code-that-works-with-any-json", "title": "Dynamic Json to CSV in java. looking for Generic code that works with any json, irrespective of any number of node in json file", "body": "<p>hi i need to convert all json elements into csv . json is dynamic file, number of field and names will change from file to file.\ni tried different methods but most cases i need to mention field names in scripts to pull data into csv</p>\n\n<p>JSON file </p>\n\n<pre><code>[\n    {\n        \"system\": \"Application\",\n        \"id\": \"12345\",\n        \"version\": 1,\n        \"event\": \"NEW\",\n        \"keywords\": {\n            \"ProductType\": \"ALL\",\n            \"Business\": \"USA\",\n        },\n        \"product\": {\n            \"type\": \"INS\",\n            \"startDate\": 20190102,\n            \"endDate\": 20190104,\n            \"cash\": 100000.00,\n            \"sub\": {\n                \"type\": \"Life\",\n                \"productId\": 987,\n                \"maturityDate\": 20260421,               \n            },\n            \"paymentCalendar\": [\n                \"Monthly\"\n            ],\n            \"duration\": \"20Y\",\n            \"Amount\": 1000.00,\n            \"cashFlows\": [\n                {\n                    \"startDate\": 20190102,\n                    \"endDate\": 20190104,\n                    \"paymentDate\": 20190104,\n                }\n            ],\n            \"principalFlows\": [\n                {\n                    \"startDate\": 20190102,\n                    \"endDate\": 20190104,\n                    \"paymentDate\": 20190102,\n                    \"currency\": \"USA\",\n                    \"amount\": 400.0\n                },\n                {\n                    \"startDate\": 20190104,\n                    \"endDate\": 20190104,\n                    \"paymentDate\": 20190104,\n                    \"currency\": \"USA\",\n                    \"amount\": 600.0\n                }\n            ]\n        },\n        \"EventDate\": 20190108,\n        \"maturityDate\": 20190104\n    }\n]\n</code></pre>\n\n<p>above fields are not constant, all filed will keep changing.</p>\n\n<p>expected output is below </p>\n\n<p><a href=\"https://i.stack.imgur.com/Evp6S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Evp6S.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "java", "mysql", "netbeans"], "comments": [{"owner": {"reputation": 9311, "user_id": 214525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7684a686e233476c6713ced10a9cef41?s=128&d=identicon&r=PG", "display_name": "f1sh", "link": "https://stackoverflow.com/users/214525/f1sh"}, "edited": false, "score": 0, "creation_date": 1566403931, "post_id": 57595138, "comment_id": 101648452, "body": "I don&#39;t see a NullPointerException anywhere..."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11957966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95a12d68ad32346da55ac58e55972938?s=128&d=identicon&r=PG&f=1", "display_name": "Moki66", "link": "https://stackoverflow.com/users/11957966/moki66"}, "edited": false, "score": 0, "creation_date": 1566424880, "post_id": 57595238, "comment_id": 101656537, "body": "This is the exception report which i see on my browser    <code>HTTP Status 500 - Internal Server Error   type Exception report  messageInternal Server Error  descriptionThe server encountered an internal error that prevented it from fulfilling this request.  exception  org.apache.jasper.JasperException: java.lang.NullPointerException   root cause  java.lang.NullPointerException   note The full stack traces of the exception and its root causes are available in the GlassFish Server Open Source Edition 4.0 logs.   GlassFish Server Open Source Edition 4.0 </code>"}, {"owner": {"reputation": 3, "user_id": 11957966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95a12d68ad32346da55ac58e55972938?s=128&d=identicon&r=PG&f=1", "display_name": "Moki66", "link": "https://stackoverflow.com/users/11957966/moki66"}, "edited": false, "score": 0, "creation_date": 1566425121, "post_id": 57595238, "comment_id": 101656606, "body": "Thank you very much for your response. I will try to use another way of Exception handling :-)"}], "tags": [], "owner": {"reputation": 504, "user_id": 7346454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fab0b7250b47e8ab37e2ce7d61f1a16a?s=128&d=identicon&r=PG", "display_name": "Thomas Martin", "link": "https://stackoverflow.com/users/7346454/thomas-martin"}, "is_accepted": true, "score": 0, "last_activity_date": 1566402354, "creation_date": 1566402354, "answer_id": 57595238, "question_id": 57595138, "link": "https://stackoverflow.com/questions/57595138/how-to-solve-the-java-lang-nullpointerexception-problem/57595238#57595238", "title": "How to solve the java.lang.NullPointerException Problem", "body": "<p>Your exception handling is probably the cause. You're catching SqlException and do nothing with them.</p>\n\n<p>So if you have an exception in the following code (like a DB connection error) </p>\n\n<pre><code>try{\n\n                connection = DriverManager.getConnection( \n     \"jdbc:mysql://localhost:3306/sakila\", \"root\", \"MySQL2019.\");\n\n                selectActors = connection.prepareStatement(\n                    \"SELECT actor_id, first_name, last_name FROM actor\");\n\n            }catch (SQLException e){\n\n                e.printStackTrace();\n            }\n</code></pre>\n\n<p>you'll continue with a null <em>selectActors</em> variable, which could be the cause of your NullPointerException later.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 11957966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95a12d68ad32346da55ac58e55972938?s=128&d=identicon&r=PG&f=1", "display_name": "Moki66", "link": "https://stackoverflow.com/users/11957966/moki66"}, "edited": false, "score": 0, "creation_date": 1566425062, "post_id": 57595246, "comment_id": 101656591, "body": "Thank you very much for your advice. I will consider this for the future :-)"}], "tags": [], "owner": {"reputation": 292363, "user_id": 37213, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/eeec80237213c91e5bab56b77ac5b8ca?s=128&d=identicon&r=PG", "display_name": "duffymo", "link": "https://stackoverflow.com/users/37213/duffymo"}, "is_accepted": false, "score": 2, "last_activity_date": 1566402397, "creation_date": 1566402397, "answer_id": 57595246, "question_id": 57595138, "link": "https://stackoverflow.com/questions/57595138/how-to-solve-the-java-lang-nullpointerexception-problem/57595246#57595246", "title": "How to solve the java.lang.NullPointerException Problem", "body": "<p>A few words of advice:</p>\n\n<ol>\n<li>Don't use scriptlet code in JSPs.  </li>\n<li>Learn JSP Standard Tag library (JSTL)</li>\n<li>Don't embed database code in model objects like Actor  </li>\n<li>Externalize database configuration </li>\n<li>Decompose your problem into separate classes that are testable </li>\n<li>Create an Actor repository interface and write an implementation</li>\n<li>You should run the code and give error messages.</li>\n</ol>\n\n<p>It's incorrect to expect that someone here would build, package, and run your app just to see what you get for an error.</p>\n\n<p>Whatever book or tutorial is recommending that you use scriptlets, please throw it away and find something better.  Scriptlets are a failed 1990s experiment that no one uses anymore.</p>\n\n<pre><code>public interface ActorRepository {\n    List&lt;Actor&gt; findAll();\n    List&lt;Actor&gt; findByName(String firstName, String lastName);\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11957966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95a12d68ad32346da55ac58e55972938?s=128&d=identicon&r=PG&f=1", "display_name": "Moki66", "link": "https://stackoverflow.com/users/11957966/moki66"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "closed_date": 1566411607, "accepted_answer_id": 57595238, "answer_count": 2, "score": -1, "last_activity_date": 1566404788, "creation_date": 1566402007, "last_edit_date": 1566404788, "question_id": 57595138, "link": "https://stackoverflow.com/questions/57595138/how-to-solve-the-java-lang-nullpointerexception-problem", "closed_reason": "Duplicate", "title": "How to solve the java.lang.NullPointerException Problem", "body": "<p>I am beginner in using JSP and have a problem with the java.lang.NullPointerException. The problem occurs if I use the following part (the full source is below). If i delete the source the page is loading without any returns. I would be happy if anyone helped me to run the code.</p>\n\n<p>Background information. What should the application do:</p>\n\n<p>This code should perform a SQL SELECT Statement and provide the information which is stored in the MySQL Database.</p>\n\n<pre><code>{ &lt;%@page import=\"java.sql.*\"%&gt;\n&lt;% Class.forName(\"com.mysql.jdbc.Driver\");%&gt;\n&lt;%@page contentType=\"text/html\" pageEncoding=\"UTF-8\"%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n    &lt;title&gt;JSP Page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Hello World!&lt;/h1&gt;\n\n    &lt;%!\n\n    public class Actor{\n\n        String URL = \"jdbc:mysql://localhost:3306/sakila\";\n        String USERNAME = \"root\";\n        String PASSWORD = \"admin\";\n\n        Connection connection = null;\n        PreparedStatement selectActors = null;\n        ResultSet resultSet = null;\n\n        public Actor(){                \n            try{                    \n                connection = DriverManager.getConnection( \n     \"jdbc:mysql://localhost:3306/sakila\", \"root\", \"MySQL2019.\");\n\n                selectActors = connection.prepareStatement(\n                    \"SELECT actor_id, first_name, last_name FROM actor\");                    \n            }catch (SQLException e){                    \n                e.printStackTrace();\n            }                \n        }\n            public ResultSet getActors(){                    \n                try{                        \n                    resultSet = selectActors.executeQuery();                        \n                }catch (SQLException e){\n                    e.printStackTrace();\n                }\n                return resultSet;\n            }\n        }\n    %&gt;\n\n    &lt;%\n    Actor actor = new Actor();\n    ResultSet actors = actor.getActors();\n   %&gt; \n&lt;table border=\"1\"&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;Actor ID&lt;/td&gt;\n&lt;td&gt;First Name&lt;/td&gt;\n&lt;td&gt;Last Name&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;% while (actors.next()) {%&gt;\n&lt;td&gt; &lt;%= actors.getInt(\"actor_id\")%&gt;   &lt;/td&gt;\n&lt;td&gt;&lt;%= actors.getString(\"first_name\")%&gt; &lt;/td&gt;\n&lt;td&gt;&lt;%= actors.getString(\"last_name\")%&gt; &lt;/td&gt;\n&lt;/tr&gt;\n&lt;%}%&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n\n&lt;/body&gt;\n&lt;/html&gt; }\n</code></pre>\n\n<p>Problem code:</p>\n\n<pre><code>{&lt;%    \nActor actor = new Actor();\nResultSet actors = actor.getActors();\n%&gt; }\n</code></pre>\n"}, {"tags": ["java", "hashmap", "guava", "builder", "immutable-collections"], "comments": [{"owner": {"reputation": 60558, "user_id": 551406, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/asxye.jpg?s=128&g=1", "display_name": "Michael Berry", "link": "https://stackoverflow.com/users/551406/michael-berry"}, "edited": false, "score": 0, "creation_date": 1566402025, "post_id": 57595055, "comment_id": 101647551, "body": "Why can&#39;t you just call <code>put()</code> to add the pairs you want to override, then wrap in <code>Collections.unmodifiableMap()</code>?"}, {"owner": {"reputation": 13324, "user_id": 2051454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/sZBFW.jpg?s=128&g=1", "display_name": "Software Engineer", "link": "https://stackoverflow.com/users/2051454/software-engineer"}, "edited": false, "score": 0, "creation_date": 1566402136, "post_id": 57595055, "comment_id": 101647608, "body": "If you mean the Guava immutable map, then you need to use <code>ImmutableMap.of()</code> instead of <code>ImmutableMap.builder()</code>."}, {"owner": {"reputation": 13324, "user_id": 2051454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/sZBFW.jpg?s=128&g=1", "display_name": "Software Engineer", "link": "https://stackoverflow.com/users/2051454/software-engineer"}, "reply_to_user": {"reputation": 60558, "user_id": 551406, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/asxye.jpg?s=128&g=1", "display_name": "Michael Berry", "link": "https://stackoverflow.com/users/551406/michael-berry"}, "edited": false, "score": 0, "creation_date": 1566402220, "post_id": 57595055, "comment_id": 101647653, "body": "@MichaelBerry -- I&#39;m guessing it&#39;s because, counter-intuitively, Unmodifiable != Immutable. Read this: <a href=\"https://www.baeldung.com/java-immutable-maps\" rel=\"nofollow noreferrer\">baeldung.com/java-immutable-maps</a>"}, {"owner": {"reputation": 13324, "user_id": 2051454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/sZBFW.jpg?s=128&g=1", "display_name": "Software Engineer", "link": "https://stackoverflow.com/users/2051454/software-engineer"}, "edited": false, "score": 0, "creation_date": 1566402395, "post_id": 57595055, "comment_id": 101647749, "body": "Also, be careful with this -- using <code>of()</code> can be computationally expensive because the original map is copied, not referenced -- the immutable map takes a private copy of your data to protect it against changes via a different reference to it."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1566403293, "post_id": 57595055, "comment_id": 101648175, "body": "<a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/collect/ImmutableMap.Builder.html#putAll(java.util.Map)\" rel=\"nofollow noreferrer\">guava.dev/releases/19.0/api/docs/com/google/common/collect/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2857, "user_id": 382974, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c380f213d0dddac57d73818579a38a7a?s=128&d=identicon&r=PG&f=1", "display_name": "Jaywalker", "link": "https://stackoverflow.com/users/382974/jaywalker"}, "is_accepted": true, "score": 5, "last_activity_date": 1566404223, "last_edit_date": 1566404223, "creation_date": 1566403742, "answer_id": 57595573, "question_id": 57595055, "link": "https://stackoverflow.com/questions/57595055/immutablemap-builder-from-a-hashmap/57595573#57595573", "title": "ImmutableMap.Builder from a HashMap", "body": "<p>Simply use <code>putAll</code> or am I missing something here? You cannot modify existing keys while building, but you can add more:</p>\n\n<pre><code>    Map&lt;String, String&gt; srcMap = Map.of(\"A\", \"a\", \"B\", \"b\", \"C\", \"c\");\n\n    ImmutableMap&lt;String, String&gt; map = ImmutableMap.&lt;String, String&gt; builder()\n            .putAll(srcMap)\n            .put(\"D\", \"d\")\n            .build();\n\n    map.forEach((k,v) -&gt; System.out.printf (\"[%s:%s]\", k, v));\n</code></pre>\n\n<p>You could modify the <code>srcMap</code> itself before you invoke <code>putAll</code> if you want to override the existing values.</p>\n\n<p>Also, if you have a HashMap that is ready to be converted to an ImmutableMap, you can skip the builder part and just use <code>copyOf</code>:</p>\n\n<pre><code>ImmutableMap&lt;String, String&gt; finalMap = ImmutableMap.copyOf(srcMap);\n</code></pre>\n"}], "owner": {"reputation": 30440, "user_id": 311130, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e66bb815b52eb8f82eab2c06427db8ca?s=128&d=identicon&r=PG", "display_name": "Elad Benda", "link": "https://stackoverflow.com/users/311130/elad-benda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 633, "favorite_count": 1, "accepted_answer_id": 57595573, "answer_count": 1, "score": 1, "last_activity_date": 1566570811, "creation_date": 1566401739, "last_edit_date": 1566570811, "question_id": 57595055, "link": "https://stackoverflow.com/questions/57595055/immutablemap-builder-from-a-hashmap", "title": "ImmutableMap.Builder from a HashMap", "body": "<p>I have a <code>HashMap&lt;K,V&gt;</code> of defaults values per keys.</p>\n\n<p>I want to convert it to an <code>ImmutableMap.Builder</code> As I have another <code>ImmutableMap</code> which I want to merge and override into the original HashMap.  I want to override some of the default pairs and eventually build a <code>ImmutableMap</code>.</p>\n\n<p>How can I convert the <code>HashMap</code> to <code>ImmutableMap.Builder</code>?</p>\n\n<p>I haven't seen <code>ImmutableMap.Builder</code> <a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/collect/ImmutableMap.Builder.html\" rel=\"nofollow noreferrer\">constructor</a> that gets a <code>HashMap</code>.</p>\n"}, {"tags": ["java", "processing", "box2d", "game-physics", "assertion"], "owner": {"reputation": 21, "user_id": 9738593, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Daniel Ohuruogu", "link": "https://stackoverflow.com/users/9738593/daniel-ohuruogu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566401557, "creation_date": 1566401557, "question_id": 57594998, "link": "https://stackoverflow.com/questions/57594998/assertion-error-with-jbox2d-in-processing", "title": "Assertion error with JBox2D in Processing", "body": "<p>Having issues with JBox2D trying to set a fixed rotation for bodies I'm introducing into a game I've created.</p>\n\n<p>The idea is to be able to change options in a game screen. You click on the screen to introduce a building block and, while the mouse is held down, the arrow keys are pressed to change the orientation of the block - a little like tetris.</p>\n\n<p>This seems simple enough, but I'm working with a physical body and a library I'm not that familiar with. I've tried using the .setFixRotation method in the code to keep the rotation fixed for a time to allow building of a tower, after which the fixed rotation will be turned off to allow regular physics to apply. The code I've tried using is here:</p>\n\n<p>(Placed within the building block class as a method)</p>\n\n<pre><code>  void changeOrientation()\n  {\n    Vec2 pos = box2d.getBodyPixelCoord(body);\n\n    if (currentBuildingBlockOption == 0)\n    body.setTransform(pos, 0);\n\n    if (currentBuildingBlockOption == 1)\n    body.setTransform(pos, 90);\n\n    if (currentBuildingBlockOption == 2)\n    body.setTransform(pos, -45);\n\n    if (currentBuildingBlockOption == 3)\n    body.setTransform(pos, 45);\n  }\n</code></pre>\n\n<p>within the draw() function, there's:</p>\n\n<pre><code>  void updateBlockChoice()\n  { \n    if (buildingBlocks.size()&gt;0) \n    { \n      BuildingBlock currentBlock = buildingBlocks.get(buildingBlocks.size()-1);\n\n      if (mousePressed==true)\n      {\n        currentBlock.changeOrientation();\n      }\n    }\n  }\n</code></pre>\n\n<p>With this code, as soon as I release the mouse button, the whole thing crashes and freezes and the console says how I can't run the code because of an assertion error. If anyone has any suggestions or knows a lot about JBox2d, please don't hesitate to give any advice or correct me anywhere I've gone wrong. Thanks!</p>\n"}, {"tags": ["java", "android", "xml"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7137981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/529687c93d32769dc163d56f7367b3ce?s=128&d=identicon&r=PG&f=1", "display_name": "J. Strange", "link": "https://stackoverflow.com/users/7137981/j-strange"}, "edited": false, "score": 0, "creation_date": 1566408494, "post_id": 57595746, "comment_id": 101650310, "body": "There is no space below though. The AutoCompleteTextView is placed at the bottom of a vertical linear layout that spans the entire view. It seems that it is not aware that the soft keyboard is occupying the space below when it pushes the linear layout up to make space for the keyboard."}], "tags": [], "owner": {"reputation": 11, "user_id": 8341217, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4LO27DVUxQw/AAAAAAAAAAI/AAAAAAAAABI/S9WQgwPEYfk/photo.jpg?sz=128", "display_name": "Hajji Farouk", "link": "https://stackoverflow.com/users/8341217/hajji-farouk"}, "is_accepted": false, "score": 0, "last_activity_date": 1566404474, "creation_date": 1566404474, "answer_id": 57595746, "question_id": 57594977, "link": "https://stackoverflow.com/questions/57594977/android-autocompletetextview-suggestions-drop-down-appear-below-soft-keyboard/57595746#57595746", "title": "Android autocompletetextview suggestions drop down appear below soft keyboard", "body": "<p>AutoCompleteTextView decides to open down or up based on available space: if it has more space up it will expand up and if it has more space down it will expand down.\nAll you have to do is to adjust your layout in sort that the AutoCompleteTextView expands on the desired direction.</p>\n"}, {"tags": [], "owner": {"reputation": 14270, "user_id": 1540854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e49f9de6321622f1fcebc76e72da708?s=128&d=identicon&r=PG", "display_name": "jeprubio", "link": "https://stackoverflow.com/users/1540854/jeprubio"}, "is_accepted": false, "score": 0, "last_activity_date": 1566424653, "last_edit_date": 1566424653, "creation_date": 1566424337, "answer_id": 57599562, "question_id": 57594977, "link": "https://stackoverflow.com/questions/57594977/android-autocompletetextview-suggestions-drop-down-appear-below-soft-keyboard/57599562#57599562", "title": "Android autocompletetextview suggestions drop down appear below soft keyboard", "body": "<p>Try wrapping all the layout inside a <code>ScrollView</code> element.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;ScrollView \n  xmlns:android=\"http://schemas.android.com/apk/res/android\" \n  android:layout_width=\"match_parent\" \n  android:layout_height=\"match_parent\"&gt;\n    &lt;LinearLayout  \n      android:orientation=\"vertical\" \n      android:layout_width=\"match_parent\" \n      android:layout_height=\"wrap_content\"&gt;\n             ...\n</code></pre>\n\n<p>If I'm not wrong I did it time ago in a log in screen and the keyboard uses the <code>ScrollView</code> so that the content should not be hidden.</p>\n"}], "owner": {"reputation": 11, "user_id": 7137981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/529687c93d32769dc163d56f7367b3ce?s=128&d=identicon&r=PG&f=1", "display_name": "J. Strange", "link": "https://stackoverflow.com/users/7137981/j-strange"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566424653, "creation_date": 1566401467, "question_id": 57594977, "link": "https://stackoverflow.com/questions/57594977/android-autocompletetextview-suggestions-drop-down-appear-below-soft-keyboard", "title": "Android autocompletetextview suggestions drop down appear below soft keyboard", "body": "<p>I have a AutoCompleteTextView set up at the bottom of the screen, below a map fragment. The soft keyboard push both of them up when it appears. The suggestions layout doesn't seem to detect the keyboard however, and expands downwards, hiding all the suggestions.</p>\n\n<p>I know this question has been asked here some times, but all of the solutions seems out of date, as none of them remedy the problem. I've also tried various R.layout.x, but none of them seem to detect the keyboard.</p>\n\n<p>Here is the xml: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n\n\n    &lt;fragment xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:id=\"@+id/map\"\n        android:name=\"com.google.android.gms.maps.SupportMapFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_weight=\"1\"\n        tools:context=\".MapsActivity\" /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"horizontal\"&gt;\n\n        &lt;AutoCompleteTextView\n            android:id=\"@+id/auto_complete_search_map\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:ems=\"10\"\n            android:hint=\"@string/hint_search\"/&gt;\n\n        &lt;Button\n            android:id=\"@+id/search_in_map\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"@string/search\" /&gt;\n\n    &lt;/LinearLayout&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>And here is the activity:</p>\n\n<pre><code>    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.map_view);\n\n        search = findViewById(R.id.search_in_map);\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this,\n                android.R.layout.select_dialog_multichoice, PLACE_TYPES);\n        user_input = findViewById(R.id.auto_complete_search_map);\n        user_input.setAdapter(adapter);\n    }\n</code></pre>\n\n<p>Is there anyway to simply force the list to expand up instead of down? If not, what are some other viable means to fix this? Placing the AutoCompleteTextView at the top would fix this, but that wouldn't be optimal considering this is the main feature of this activity and should be easily reachable on the screen.</p>\n\n<p>Thanks for any replies!</p>\n"}, {"tags": ["java", "android", "layout", "root"], "comments": [{"owner": {"reputation": 186045, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 2, "creation_date": 1566401656, "post_id": 57594968, "comment_id": 101647361, "body": "It seems the layout of the listview item. Not the activity layout"}], "answers": [{"tags": [], "owner": {"reputation": 751, "user_id": 1150139, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/c8e7249b3e2c620c954cc7734ffbc7ef?s=128&d=identicon&r=PG", "display_name": "Relsell", "link": "https://stackoverflow.com/users/1150139/relsell"}, "is_accepted": false, "score": 2, "last_activity_date": 1566401767, "creation_date": 1566401767, "answer_id": 57595068, "question_id": 57594968, "link": "https://stackoverflow.com/questions/57594968/add-toolbar-to-activity-with-a-listview/57595068#57595068", "title": "Add toolbar to activity with a listView", "body": "<p>Yes ... Android is right .</p>\n\n<p>There can only be a single root layout . You can add a relative layout or linearlayout as root layout . root layout will wrap your textview and toolbar. </p>\n\n<p>Thanks</p>\n"}, {"comments": [{"owner": {"reputation": 186045, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 0, "creation_date": 1566402546, "post_id": 57595245, "comment_id": 101647823, "body": "Why a RL or LL and not a ConstraintLayout for example?"}, {"owner": {"reputation": 336, "user_id": 11551187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4S4J5.jpg?s=128&g=1", "display_name": "Bryan J. Diaz", "link": "https://stackoverflow.com/users/11551187/bryan-j-diaz"}, "reply_to_user": {"reputation": 186045, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 0, "creation_date": 1566402792, "post_id": 57595245, "comment_id": 101647945, "body": "I use RelativeLayout because with this one you can modify where to put Toolbar or whatever it is in any part of the activity"}], "tags": [], "owner": {"reputation": 336, "user_id": 11551187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4S4J5.jpg?s=128&g=1", "display_name": "Bryan J. Diaz", "link": "https://stackoverflow.com/users/11551187/bryan-j-diaz"}, "is_accepted": true, "score": 2, "last_activity_date": 1566402594, "last_edit_date": 1566402594, "creation_date": 1566402384, "answer_id": 57595245, "question_id": 57594968, "link": "https://stackoverflow.com/questions/57594968/add-toolbar-to-activity-with-a-listview/57595245#57595245", "title": "Add toolbar to activity with a listView", "body": "<p>You need to put all that inside a RelativeLayout or LinearLayout.</p>\n\n<p>In this example i use <strong>RelativeLayout</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n&lt;TextView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:padding=\"10dp\"\n    android:textSize=\"20sp\" \n    android:layout_below=\"\"@+id/my_toolbar/&gt;\n\n\n&lt;android.support.v7.widget.Toolbar\n    android:id=\"@+id/my_toolbar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"?attr/actionBarSize\"\n    style=\"@style/HeaderBar\"\n    app:theme=\"@style/ActionBarThemeOverlay\"\n    app:popupTheme=\"@style/ActionBarPopupThemeOverlay\"\n    android:elevation=\"4dp\"/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>In case the toolbar is not a the top just add in the <strong>Toolbar part</strong> <code>android:layout_alignParentTop=\"true\"</code></p>\n"}, {"tags": [], "owner": {"reputation": 186045, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "is_accepted": false, "score": 2, "last_activity_date": 1566402451, "creation_date": 1566402451, "answer_id": 57595256, "question_id": 57594968, "link": "https://stackoverflow.com/questions/57594968/add-toolbar-to-activity-with-a-listview/57595256#57595256", "title": "Add toolbar to activity with a listView", "body": "<p>You are trying to add the <code>Toolbar</code> in the <code>ListView</code> item layout.<br>\nYou have to add the <code>Toolbar</code> in your <code>Activity</code> layout.</p>\n\n<p>You should you something like:</p>\n\n<pre><code>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n\n        &lt;com.google.android.material.appbar.AppBarLayout&gt;\n\n            &lt;androidx.appcompat.widget.Toolbar\n                android:id=\"@+id/toolbar\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"?attr/actionBarSize\"\n                android:background=\"?attr/colorPrimary\"\n                app:popupTheme=\"@style/AppTheme.PopupOverlay\"\n                /&gt;\n\n        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n        &lt;android.widget.ListView/&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p>Also you should use the <a href=\"https://developer.android.com/jetpack/androidx\" rel=\"nofollow noreferrer\">androidx</a> library and not the support libraries (for example <a href=\"https://developer.android.com/reference/androidx/appcompat/widget/Toolbar\" rel=\"nofollow noreferrer\"><code>androidx.appcompat.widget.Toolbar</code></a> instead of <a href=\"https://developer.android.com/reference/androidx/appcompat/widget/Toolbar\" rel=\"nofollow noreferrer\"><code>android.support.v7.widget.Toolbar</code></a>) and a <a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.html\" rel=\"nofollow noreferrer\"><code>RecyclerView</code></a> instead of a <a href=\"https://developer.android.com/reference/android/widget/ListView\" rel=\"nofollow noreferrer\"><code>ListView</code></a>.</p>\n"}], "owner": {"reputation": 341, "user_id": 11870626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/741c1eb990993292fd9a92d8ebacfacc?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/11870626/fabio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 415, "favorite_count": 0, "accepted_answer_id": 57595245, "answer_count": 3, "score": 1, "last_activity_date": 1566402761, "creation_date": 1566401407, "last_edit_date": 1566402761, "question_id": 57594968, "link": "https://stackoverflow.com/questions/57594968/add-toolbar-to-activity-with-a-listview", "title": "Add toolbar to activity with a listView", "body": "<p>I'm trying to add a toolbar to my activity, which has only a list of elements as content. This is my code, but it doesn't works because it says that I'm using multiple root. How is it possible?</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;TextView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    android:padding=\"10dp\"\n    android:textSize=\"20sp\" &gt;\n&lt;/TextView&gt;\n\n&lt;android.support.v7.widget.Toolbar\n  android:id=\"@+id/my_toolbar\"\n  android:layout_width=\"match_parent\"\n  android:layout_height=\"?attr/actionBarSize\"\n  style=\"@style/HeaderBar\"\n  app:theme=\"@style/ActionBarThemeOverlay\"\n  app:popupTheme=\"@style/ActionBarPopupThemeOverlay\"\n  android:elevation=\"4dp\"/&gt;\n</code></pre>\n"}, {"tags": ["java", "android", "cordova", "conditional-compilation"], "answers": [{"comments": [{"owner": {"reputation": 7178, "user_id": 1077485, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a408c0c11875e9e3f3432c5ddc9fcddd?s=128&d=identicon&r=PG", "display_name": "DroidOS", "link": "https://stackoverflow.com/users/1077485/droidos"}, "edited": false, "score": 0, "creation_date": 1566545520, "post_id": 57596711, "comment_id": 101697371, "body": "Thank you for the suggestion.  I don&#39;t quite follow the &quot;a plugin for everything&quot; philosophy of development.  However, I was able to easily integrate the rather very limited functionality delivered by that plugin into my own custom plugin."}], "tags": [], "owner": {"reputation": 7864, "user_id": 749657, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/83dc7f749f7b738cb2ad6a6cd3f543f8?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/749657/eric"}, "is_accepted": true, "score": 0, "last_activity_date": 1566409154, "creation_date": 1566409154, "answer_id": 57596711, "question_id": 57594938, "link": "https://stackoverflow.com/questions/57594938/conditional-compile-for-an-android-cordova-app/57596711#57596711", "title": "Conditional compile for an Android Cordova app", "body": "<p>You could give a try <a href=\"https://github.com/mattlewis92/cordova-plugin-is-debug\" rel=\"nofollow noreferrer\">this plugin</a></p>\n\n<blockquote>\n  <p>cordova-plugin-is-debug A cordova plugin to detect if the app is\n  running in debug mode or not. Debug mode is when the app is built and\n  installed locally via xcode / eclipse / the cordova cli etc, compared\n  to release mode when the app was downloaded from the app / play store\n  via an end user. Common use cases include:</p>\n  \n  <p>using a different API endpoint for development using a different push\n  notification certificate for development and production</p>\n</blockquote>\n\n<p>Then I guess your plugin would have to use this plugin at runtime</p>\n"}], "owner": {"reputation": 7178, "user_id": 1077485, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a408c0c11875e9e3f3432c5ddc9fcddd?s=128&d=identicon&r=PG", "display_name": "DroidOS", "link": "https://stackoverflow.com/users/1077485/droidos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 57596711, "answer_count": 1, "score": 1, "last_activity_date": 1566409154, "creation_date": 1566401297, "question_id": 57594938, "link": "https://stackoverflow.com/questions/57594938/conditional-compile-for-an-android-cordova-app", "title": "Conditional compile for an Android Cordova app", "body": "<p>I have a Cordova/Android hybrid app that uses one custom - inhouse - plugin.  Amongst other things the plugin fetches and displays AdMob ads.  In my debug builds as I test things out I am using Google's test ads using </p>\n\n<pre><code>String deviceID = Settings.Secure.getString(context.getContentResolver(),Settings.Secure.ANDROID_ID);\n\nAdRequest.Builder builder = new AdRequest.Builder();   \nbuilder.addTestDevice(deviceID);\n</code></pre>\n\n<p>No issues thus far - as I am testing the app I see safe test ads as expected.  However, I want to guard against the day when I create a release build and ship it off to Play Store with that test ad code.  I was wondering ... is there a way to put that code in a conditional compile block that only forks in when it detects that the build in question is a Cordova debug build - <code>cordova build android --debug</code>?</p>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 12675, "user_id": 636009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IIQJV.jpg?s=128&g=1", "display_name": "David Conrad", "link": "https://stackoverflow.com/users/636009/david-conrad"}, "edited": false, "score": 3, "creation_date": 1566402223, "post_id": 57594904, "comment_id": 101647659, "body": "Did you recompile with -Xlint:unchecked for details?"}], "answers": [{"tags": [], "owner": {"reputation": 628808, "user_id": 139985, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=128&d=identicon&r=PG", "display_name": "Stephen C", "link": "https://stackoverflow.com/users/139985/stephen-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1566402575, "creation_date": 1566402575, "answer_id": 57595286, "question_id": 57594904, "link": "https://stackoverflow.com/questions/57594904/getting-error-like-uses-unchecked-or-unsafe-operations/57595286#57595286", "title": "Getting Error like uses unchecked or unsafe operations", "body": "<p>A cast to a type parameter is an unsafe typecast.  In fact in this case, the typecheck that happens at runtime is</p>\n\n<pre><code>return (UserId) this;\n</code></pre>\n\n<p>But wait.  The type of <code>this</code> is <code>UserId</code> ... and the type parameter is not achieving anything.  The class could be simplified to this:</p>\n\n<pre><code>public class UserId {\n    public String userId;\n    public UserId withDocId(@Nullable final String id) {\n        this.userId = id;\n        return this;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "is_accepted": false, "score": 0, "last_activity_date": 1566402844, "creation_date": 1566402844, "answer_id": 57595344, "question_id": 57594904, "link": "https://stackoverflow.com/questions/57594904/getting-error-like-uses-unchecked-or-unsafe-operations/57595344#57595344", "title": "Getting Error like uses unchecked or unsafe operations", "body": "<p><code>(T)</code> is not safe, because in Java, generic types are subject to <em>type erasure,</em> which means they act as <em>compile-time only</em> type safety enforcement.  At runtime, there is no class named <code>T</code>, so it is not possible for a compiler to generate a bytecode instruction that can cast to <code>T</code>.</p>\n\n<p>Since there is no way to know at compile-time what the type of <code>this</code> actually is (aside from knowing that it has to be UserId or a descendant class of UserId), you can\u2019t apply a generic type to <code>this</code>.</p>\n\n<p>You could let the user pass the type that they expect the UserId to be, though it\u2019s rather awkward:</p>\n\n<pre><code>public &lt;T extends UserId&gt; T withDocId(@Nullable final String id,\n                                      Class&lt;T&gt; userIdType)\n{\n    this.userId = id;\n    return userIdType.cast(this);\n}\n</code></pre>\n\n<p>Another possibility is overriding the methods in each subclass.</p>\n\n<pre><code>public class UserId\n{\n    public UserId withDocId(@Nullable final String id)\n    {\n        this.userId = id;\n        return this;\n    }\n}\n\npublic class ManagerId\nextends UserId\n{\n    @Override\n    public ManagerId withDocId(@Nullable final String id)\n    {\n        super.withDocId(id);\n        return this;\n    }\n}\n</code></pre>\n\n<p>This is permitted because a subclass returning a smaller set of types is fully compatible with the superclass definition.</p>\n"}], "owner": {"reputation": 221, "user_id": 11106787, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-efRm6GRB8L4/AAAAAAAAAAI/AAAAAAAAAfE/BjYymDiZXYA/photo.jpg?sz=128", "display_name": "Saransh Agarwal", "link": "https://stackoverflow.com/users/11106787/saransh-agarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566402844, "creation_date": 1566401181, "question_id": 57594904, "link": "https://stackoverflow.com/questions/57594904/getting-error-like-uses-unchecked-or-unsafe-operations", "title": "Getting Error like uses unchecked or unsafe operations", "body": "<p>Getting error uses unchecked or unsafe operations. after I update me some android studio firebase libraries.</p>\n\n<p>Getting error in logcat is ...\nuses unchecked or unsafe operations.\nRecompile with -Xlint:unchecked for details.</p>\n\n<pre><code>public class UserId\n{\n    public String userId;\n    public&lt;T extends UserId&gt; T withDocId(@Nullable final String id)\n    {\n        this.userId=id;\n        return (T) this;\n    }\n\n}\n</code></pre>\n"}, {"tags": ["java", "android", "android-room"], "answers": [{"tags": [], "owner": {"reputation": 1838, "user_id": 1060828, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/y6Z4V.jpg?s=128&g=1", "display_name": "arowell", "link": "https://stackoverflow.com/users/1060828/arowell"}, "is_accepted": true, "score": 3, "last_activity_date": 1566401323, "creation_date": 1566401323, "answer_id": 57594947, "question_id": 57594886, "link": "https://stackoverflow.com/questions/57594886/why-is-there-a-null-object-reference-exception-when-im-trying-to-insert-an-el/57594947#57594947", "title": "Why is there a &quot;null object reference&quot; exception when i&#39;m trying to insert an element in Room?", "body": "<p>From the code you've given, it looks like <code>contactDao</code> in <code>contactRepository</code> hasn't been instantiated. Unless you call something like <code>contactDao = new ContactDao()</code> it will be null.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8341217, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4LO27DVUxQw/AAAAAAAAAAI/AAAAAAAAABI/S9WQgwPEYfk/photo.jpg?sz=128", "display_name": "Hajji Farouk", "link": "https://stackoverflow.com/users/8341217/hajji-farouk"}, "is_accepted": false, "score": 1, "last_activity_date": 1566919617, "last_edit_date": 1566919617, "creation_date": 1566405640, "answer_id": 57596003, "question_id": 57594886, "link": "https://stackoverflow.com/questions/57594886/why-is-there-a-null-object-reference-exception-when-im-trying-to-insert-an-el/57596003#57596003", "title": "Why is there a &quot;null object reference&quot; exception when i&#39;m trying to insert an element in Room?", "body": "<pre><code>@Database(entities = {Contact.class}, version = 1,exportSchema = false)\npublic abstract class ContactsDataBase  extends RoomDatabase {\nprivate static ContactsDataBase INSTANCE;\n\npublic abstract ContactDAO showsDAO();\nprivate static final Object sLock = new Object();\n\npublic static ContactsDataBase getInstance(Context context) {\n    synchronized (sLock) {\n        if (INSTANCE == null) {\n            INSTANCE = Room.databaseBuilder(context.getApplicationContext(),\n                    ContactsDataBase.class, \"contact.db\")\n                    .build();\n        }\n        return INSTANCE;\n      }\n   }\n}\n</code></pre>\n\n<p>and change ContactRepository constructor to the following</p>\n\n<pre><code>public contactRepository (Context context){\n    db = contactDatabase.getInstance(context);\n    contactDao = contactDatabase.contactDAO();\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 11957808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBifOBZK-Vqi62IpFWYYfzFJ6RMWucQt2bW_Sjz=k-s128", "display_name": "Timoth&#233;e Durand", "link": "https://stackoverflow.com/users/11957808/timoth%c3%a9e-durand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 57594947, "answer_count": 2, "score": 0, "last_activity_date": 1566919617, "creation_date": 1566401124, "question_id": 57594886, "link": "https://stackoverflow.com/questions/57594886/why-is-there-a-null-object-reference-exception-when-im-trying-to-insert-an-el", "title": "Why is there a &quot;null object reference&quot; exception when i&#39;m trying to insert an element in Room?", "body": "<p>i'm trying to make a Room database of Contact to know if i can save their conversation in an application to save SMS conversation, but the database doesn't want to work : when i want to insert a contact the app bug and the logcat tell me that :</p>\n\n<pre><code>2019-08-21 16:48:34.865 16177-16215/com.galinette.enregistreursms E/AndroidRuntime: FATAL EXCEPTION: pool-1-thread-1\n    Process: com.galinette.enregistreursms, PID: 16177\n    java.lang.NullPointerException: Attempt to invoke interface method 'void com.galinette.enregistreursms.database.contactDao.insertContact(com.galinette.enregistreursms.model.Contact)' on a null object reference\n        at com.galinette.enregistreursms.database.contactRepository.insertContact(contactRepository.java:32)\n        at com.galinette.enregistreursms.database.contactRepository.putAllContactFirstTime(contactRepository.java:60)\n\n</code></pre>\n\n<p>so why ?</p>\n\n<p>I'm sure of my method Contact.getContacts() because i make a method to put a description of each contact in a text file and it's worked...</p>\n\n<p>First, the contact model :</p>\n\n<pre><code>@Entity (tableName = \"Contact\")\npublic class Contact {\n    @PrimaryKey (autoGenerate = true)\n    private long id;\n    private String phoneNumber;\n    private String contactName;\n    private boolean isSavable;\n\n    public Contact(String contactName, String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n        this.contactName = contactName;\n        this.isSavable = false;\n    }\n public static List&lt;Contact&gt; getContacts(Context ctx) {\n        List&lt;Contact&gt; list = new ArrayList&lt;&gt;();\n        ContentResolver contentResolver = ctx.getContentResolver();\n        Cursor cursor = contentResolver.query(ContactsContract.Contacts.CONTENT_URI, null, null, null, null);\n        if (cursor.getCount() &gt; 0) {\n            while (cursor.moveToNext()) {\n                String id = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));\n                if (cursor.getInt(cursor.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER)) &gt; 0) {\n                    Cursor cursorInfo = contentResolver.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null,\n                            ContactsContract.CommonDataKinds.Phone.CONTACT_ID + \" = ?\", new String[]{id}, null);\n                    InputStream inputStream = ContactsContract.Contacts.openContactPhotoInputStream(ctx.getContentResolver(),\n                            ContentUris.withAppendedId(ContactsContract.Contacts.CONTENT_URI, new Long(id)));\n\n                    Uri person = ContentUris.withAppendedId(ContactsContract.Contacts.CONTENT_URI, new Long(id));\n                    Uri pURI = Uri.withAppendedPath(person, ContactsContract.Contacts.Photo.CONTENT_DIRECTORY);\n\n                    Bitmap photo = null;\n                    if (inputStream != null) {\n                        photo = BitmapFactory.decodeStream(inputStream);\n                    }\n                    while (cursorInfo.moveToNext()) {\n                        Contact info = new Contact(cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME)),\n                                cursorInfo.getString(cursorInfo.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER)) );\n                       // info.photo = photo;\n                       // info.photoURI= pURI;\n                        list.add(info);\n                    }\n\n                    cursorInfo.close();\n                }\n            }\n            cursor.close();\n        }\n        return list;\n    }\n\n</code></pre>\n\n<p>the dao :</p>\n\n<pre><code>@Dao\npublic interface contactDao {\n    @Insert\n    public void insertContact(Contact contact);\n\n    @Query(\"SELECT * FROM Contact\")\n    LiveData&lt;List&lt;Contact&gt;&gt; getAllContacts();\n\n    @Update\n    void updateContact(Contact contact);\n\n    @Delete\n    void deleteContact(Contact contact);\n}\n\n</code></pre>\n\n<p>and the contactrepository :</p>\n\n<pre><code>public class contactRepository {\n\n\n    private contactDatabase db;\n    private contactDao contactDao;\n\n\n    public contactRepository (Context context){\n        db = contactDatabase.getInstance(context);\n    }\n\n    public void insertContact (Contact contact) {\n        contactDao.insertContact(contact);\n    }\n\n    public void updateContact (Contact  contact) {\n        db.contactDao().updateContact(contact);\n    }\n\n    public LiveData&lt;List&lt;Contact&gt;&gt; getAllContacts(){\n        return contactDao.getAllContacts();\n    }\n\n    public void deleteContact (Contact contact) {\n        db.contactDao().deleteContact(contact);\n    }\n\n    public void updateAllContacts (List &lt;Contact&gt; contactList){\n        for(int i = 0; i&lt;=contactList.size(); i++){\n            db.contactDao().insertContact(contactList.get(i));\n        }\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.KITKAT)\n    public void putAllContactFirstTime(){\n        List&lt;Contact&gt; contactList = Contact.getContacts(EnregistreurSMS.getAppContext());\n        for(int i = 0; i&lt;contactList.size();i++) {\n            this.insertContact(contactList.get(i));\n        }\n\n</code></pre>\n\n<pre><code>}\n</code></pre>\n\n<p>...</p>\n\n<p>I just want that the dao work...</p>\n\n<p>Thanks for your help !</p>\n"}, {"tags": ["java", "lambda", "java-8", "java-stream", "collectors"], "answers": [{"tags": [], "owner": {"reputation": 1188, "user_id": 3315482, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f250f6e7fa7f7dccff383d1ece01d081?s=128&d=identicon&r=PG&f=1", "display_name": "stackFan", "link": "https://stackoverflow.com/users/3315482/stackfan"}, "is_accepted": false, "score": 3, "last_activity_date": 1566482446, "last_edit_date": 1566482446, "creation_date": 1566404290, "answer_id": 57595714, "question_id": 57594885, "link": "https://stackoverflow.com/questions/57594885/using-java-lambda-to-build-map-from-two-maps/57595714#57595714", "title": "Using Java lambda to build map from two maps", "body": "<p>As you've tagged this question under <code>java-8</code> I'm assuming you have Java 8 and don't have access to <code>flatMapping</code> in Java 9. In <code>java-8</code> you can do following using :<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Collectors.toMap</code></a></p>\n\n<pre><code>Map&lt; String, List&lt; String &gt; &gt; collected = motorsMapping.entrySet( )\n            .stream( )\n            .collect( Collectors.toMap( Map.Entry::getKey\n                    , motorMap -&gt; motorMap.getValue( )\n                                    .stream( )\n                                    .flatMap( value -&gt; models.get( value ).stream( ) )\n                                    .collect( Collectors.toList( ) ) ) );\ncollected.entrySet( ).stream( ).forEach( System.out::println );\n</code></pre>\n\n<p>Here's the output:</p>\n\n<pre><code>CAR_AND_BIKE=[A1, Q2, X1, X5]\nCAR=[A1, Q2]\nBIKE=[X1, X5]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9452, "user_id": 9662601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DFvyV.png?s=128&g=1", "display_name": "Samuel Philipp", "link": "https://stackoverflow.com/users/9662601/samuel-philipp"}, "is_accepted": false, "score": 1, "last_activity_date": 1566404312, "creation_date": 1566404312, "answer_id": 57595716, "question_id": 57594885, "link": "https://stackoverflow.com/questions/57594885/using-java-lambda-to-build-map-from-two-maps/57595716#57595716", "title": "Using Java lambda to build map from two maps", "body": "<p>There are many ways to achieve this. Here is one using the Java 9 methods <code>Map.entry()</code> and <code>Collectors.flatMapping()</code>:</p>\n\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; collected = motorsMapping.entrySet().stream()\n        .flatMap(e -&gt; e.getValue().stream()\n                .map(i -&gt; Map.entry(e.getKey(), models.get(i).stream())))\n        .collect(Collectors.groupingBy(Map.Entry::getKey, \n                Collectors.flatMapping(Map.Entry::getValue, Collectors.toList())));\n</code></pre>\n\n<p>If you are limited to Java 8 you can use this approach:</p>\n\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; collected = motorsMapping.entrySet().stream()\n        .flatMap(e -&gt; e.getValue().stream().flatMap(i -&gt; models.get(i).stream())\n                .map(i -&gt; new AbstractMap.SimpleEntry&lt;&gt;(e.getKey(), i)))\n        .collect(Collectors.groupingBy(Map.Entry::getKey,\n                Collectors.mapping(Map.Entry::getValue, Collectors.toList())));\n</code></pre>\n\n<p>The last one uses <code>AbstractMap.SimpleEntry()</code> instead of <code>Map.entry()</code>.</p>\n\n<p>Both solutions use <code>flatMap()</code> to get the list of models for each key. After that the use <code>flatMap()</code> again to get the key for each model. Finally both use <code>Collectors.groupingBy()</code> to get the result:</p>\n\n<pre><code>{\n  CAR_AND_BIKE: [A1, Q2, X1, X5],\n  CAR: [A1, Q2], \n  BIKE: [X1, X5]\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34704, "user_id": 1746118, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/a4a3P.png?s=128&g=1", "display_name": "Naman", "link": "https://stackoverflow.com/users/1746118/naman"}, "is_accepted": false, "score": 1, "last_activity_date": 1566405915, "last_edit_date": 1566405915, "creation_date": 1566405603, "answer_id": 57595997, "question_id": 57594885, "link": "https://stackoverflow.com/questions/57594885/using-java-lambda-to-build-map-from-two-maps/57595997#57595997", "title": "Using Java lambda to build map from two maps", "body": "<p>The task could possibly be attained with something as simple as <code>replaceAll</code> such that:</p>\n\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; result = motorsMapping;\nresult.replaceAll((vehicle, categories) -&gt; categories.stream()\n        .flatMap(category -&gt; models.getOrDefault(category, Collections.emptyList()).stream())\n        .collect(Collectors.toList()));\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 2707072, "user_type": "registered", "profile_image": "https://graph.facebook.com/607420408/picture?type=large", "display_name": "F R", "link": "https://stackoverflow.com/users/2707072/f-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 1, "answer_count": 3, "score": 7, "last_activity_date": 1566482446, "creation_date": 1566401113, "last_edit_date": 1566458029, "question_id": 57594885, "link": "https://stackoverflow.com/questions/57594885/using-java-lambda-to-build-map-from-two-maps", "title": "Using Java lambda to build map from two maps", "body": "<p>I have some code that I need help with ... I'm trying to build a map using two maps as a source and at the same time using java lambdas</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;String&gt;&gt; motorsMapping = new HashMap&lt;&gt;();\n\nmotorsMapping.put(\"CAR\", Collections.singletonList(\"AUDI\"));\nmotorsMapping.put(\"CAR_AND_BIKE\", Arrays.asList(\"AUDI\", \"BMW\"));\nmotorsMapping.put(\"BIKE\", Collections.singletonList(\"BMW\"));\n\nMap&lt;String, List&lt;String&gt;&gt; models = new HashMap&lt;&gt;();\nmodels.put(\"AUDI\", Arrays.asList(\"A1\", \"Q2\"));\nmodels.put(\"BMW\", Arrays.asList(\"X1\", \"X5\"));\n\n\nmotorsMapping.keySet().forEach(key -&gt; {\n     Map&lt;String, List&lt;String&gt;&gt; result = new HashMap&lt;&gt;();\n     result.put(key, new ArrayList&lt;&gt;());\n     motorsMapping.get(key).forEach(value -&gt; models.getOrDefault(value, Collections.emptyList()).forEach(property -&gt; result.get(key).add(property)));\n});\n</code></pre>\n\n<p>I can do that with the foreach that you can see above but I was trying to do it using lambdas ... something like this</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;String&gt;&gt; collected = motorsMapping\n    .entrySet()\n    .stream()\n    .map(entry -&gt; {\n        return entry.getValue()\n            .stream()\n            .map(key -&gt; models.getOrDefault(key, Collections.emptyList()))\n            .flatMap(List::stream)\n            .collect(Collectors.groupingBy(entry.getKey(), Collectors.toList()));\n    }\n)...\n</code></pre>\n\n<p>My desired output would be something like</p>\n\n<pre><code>CAR -&gt; A1, Q2\nBIKE -&gt; X1, X5\nCAR_AND_BIKE -&gt; A1, Q2, X1, X5\n</code></pre>\n\n<p>But I cannot get my head around it</p>\n"}, {"tags": ["java", "automated-tests", "appium", "appium-android"], "answers": [{"tags": [], "owner": {"reputation": 116880, "user_id": 2897748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d278f6ada8828c902a13ee8a5e523cce?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitri T", "link": "https://stackoverflow.com/users/2897748/dmitri-t"}, "is_accepted": false, "score": 1, "last_activity_date": 1566406157, "creation_date": 1566406157, "answer_id": 57596102, "question_id": 57594806, "link": "https://stackoverflow.com/questions/57594806/appium-on-android-assert-object-properties-focused-enabled/57596102#57596102", "title": "Appium on Android : assert object properties (focused, enabled, ...)", "body": "<p>You can <a href=\"http://appium.io/docs/en/commands/element/other/active/\" rel=\"nofollow noreferrer\">Get Active Element</a> and compare its <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/remote/RemoteWebElement.html#getId--\" rel=\"nofollow noreferrer\">Id</a> with the element you previously found, if the Ids are the same - it means that the element you've found is the active element. </p>\n\n<p>Example code:</p>\n\n<pre><code>MobileElement someElement = driver.findElement(By.xpath(\"//\"));\nMobileElement currentElement = (MobileElement) driver.switchTo().activeElement();\n\nif (someElement.getId().equals(currentElement.getId())) {\n    System.out.println(\"someElement is the current one\");\n}\n</code></pre>\n\n<p>You might also be interested in <a href=\"https://docs.experitest.com/display/TE/SeeTest+-+Appium+Extension\" rel=\"nofollow noreferrer\">SeeTest Appium Extension</a> which provides extra <a href=\"https://docs.experitest.com/display/TE/Element+Commands\" rel=\"nofollow noreferrer\">Element Commands</a> on top of Appium</p>\n"}], "owner": {"reputation": 27679, "user_id": 1818045, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/uTeBr.jpg?s=128&g=1", "display_name": "ben75", "link": "https://stackoverflow.com/users/1818045/ben75"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566406157, "creation_date": 1566400830, "question_id": 57594806, "link": "https://stackoverflow.com/questions/57594806/appium-on-android-assert-object-properties-focused-enabled", "title": "Appium on Android : assert object properties (focused, enabled, ...)", "body": "<p>I'm experimenting with <a href=\"https://appium.io\" rel=\"nofollow noreferrer\">Appium</a> to automate tests on Android app and would like to write an assertion about the current state of a particular object.</p>\n\n<p>As an example, let's say that I have a <a href=\"https://appium.github.io/java-client/io/appium/java_client/MobileElement.html\" rel=\"nofollow noreferrer\">MobileElement</a> instance and I would like to assert that this element is currently focused. </p>\n\n<p>I tried to use <code>getAttribute</code> :</p>\n\n<pre><code>mobileElement.getAttribute(\"focus\")\n</code></pre>\n\n<p>but this call throws <code>org.openqa.selenium.UnsupportedCommandException</code> exception. (probably because mobileElement is an <a href=\"https://appium.github.io/java-client/io/appium/java_client/android/AndroidElement.html\" rel=\"nofollow noreferrer\">AndroidElement</a>)</p>\n\n<p>Is it possible to retrieve state/attributes/properties of a AndroidElement with Appium/JsonWireProtocol or is there an extension implementing it ?</p>\n"}, {"tags": ["java", "java-bytecode-asm", "javassist", "bytecode-manipulation"], "comments": [{"owner": {"reputation": 335, "user_id": 110078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7deacec09480d94a10e3a12b29596ef3?s=128&d=identicon&r=PG", "display_name": "David Zimmerman", "link": "https://stackoverflow.com/users/110078/david-zimmerman"}, "edited": false, "score": 1, "creation_date": 1566401251, "post_id": 57594767, "comment_id": 101647152, "body": "See if java.lang.ClassLoader.defineClass() does what you want"}, {"owner": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 1, "creation_date": 1566408121, "post_id": 57594767, "comment_id": 101650152, "body": "Return the bytecode when the <code>transform\u200b</code> method of your <code>ClassFileTransformer</code> is invoked with the desired <code>ClassLoader</code> and class name."}], "owner": {"reputation": 33, "user_id": 11957750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae16bed5ea530902b1aa4e07142bd0cb?s=128&d=identicon&r=PG&f=1", "display_name": "owing", "link": "https://stackoverflow.com/users/11957750/owing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566400698, "creation_date": 1566400698, "question_id": 57594767, "link": "https://stackoverflow.com/questions/57594767/how-to-create-a-java-lang-class-object-from-byte-bytecode", "title": "How to create a java.lang.Class object from byte[] (Bytecode)?", "body": "<p>I created an agent to transform code and add some classes at runtime. Therefore I need to change the code of these classes (located in the jar file of the agent) which will get added in order for my application to work well.  I managed transform the Bytecode of these classes to my needs.</p>\n\n<p>Is it possible to create a java.lang.Class with this modified Bytecode?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>for(Class c : agentClassesToTransform) {\n    byte[] modifiedBytes = editClass(c);\n\n    Class editedClass;\n\n    // create class using the modified bytes\n\n    ...\n\n    addClassToClassloader(editedClass);\n}\n</code></pre>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 22777, "user_id": 133203, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Fp3hB.jpg?s=128&g=1", "display_name": "Federico klez Culloca", "link": "https://stackoverflow.com/users/133203/federico-klez-culloca"}, "edited": false, "score": 0, "creation_date": 1566400709, "post_id": 57594717, "comment_id": 101646865, "body": "It would help to see what <code>setupAPI</code> is doing."}, {"owner": {"reputation": 1, "user_id": 8188658, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zV1N4ztHclo/AAAAAAAAAAI/AAAAAAAAAD8/yDHTlqZM7AM/photo.jpg?sz=128", "display_name": " TheSourceCode ", "link": "https://stackoverflow.com/users/8188658/thesourcecode"}, "reply_to_user": {"reputation": 22777, "user_id": 133203, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Fp3hB.jpg?s=128&g=1", "display_name": "Federico klez Culloca", "link": "https://stackoverflow.com/users/133203/federico-klez-culloca"}, "edited": false, "score": 0, "creation_date": 1566400923, "post_id": 57594717, "comment_id": 101646972, "body": "@FedericoklezCulloca setup is just a <code>void</code> that initializes all the classes. So just a bunch of <code>MyClass myClass = new MyClass</code> and then runs a <code>void setup()</code> which starts the auth process.   <code>JAVA settingsManager = new SettingsManager(client_id, client_secret, channel_id, user_id, access_token);         webSocketManager = new WebSocketManager(this);</code>"}, {"owner": {"reputation": 11970, "user_id": 2837741, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AEHnE.png?s=128&g=1", "display_name": "daniu", "link": "https://stackoverflow.com/users/2837741/daniu"}, "edited": false, "score": 0, "creation_date": 1566401763, "post_id": 57594717, "comment_id": 101647428, "body": "Any framework you&#39;re using?"}, {"owner": {"reputation": 12675, "user_id": 636009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IIQJV.jpg?s=128&g=1", "display_name": "David Conrad", "link": "https://stackoverflow.com/users/636009/david-conrad"}, "edited": false, "score": 3, "creation_date": 1566401910, "post_id": 57594717, "comment_id": 101647495, "body": "&quot;Starts the auth process&quot; -- in another thread, perhaps? Also, how do you know it is not set up <i>yet</i>, as opposed to just not set up successfully? Does it work if you insert a <code>Thread.sleep</code> with a suitable delay before the first <code>sendMessage</code> call?"}, {"owner": {"reputation": 1, "user_id": 8188658, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zV1N4ztHclo/AAAAAAAAAAI/AAAAAAAAAD8/yDHTlqZM7AM/photo.jpg?sz=128", "display_name": " TheSourceCode ", "link": "https://stackoverflow.com/users/8188658/thesourcecode"}, "reply_to_user": {"reputation": 12675, "user_id": 636009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IIQJV.jpg?s=128&g=1", "display_name": "David Conrad", "link": "https://stackoverflow.com/users/636009/david-conrad"}, "edited": false, "score": 0, "creation_date": 1566415092, "post_id": 57594717, "comment_id": 101653056, "body": "Well its using websockets, so if the auth is wrong it will return a text response which has to be translated to an object to grab the &quot;authenticated&quot; data. Also i could use Thread.sleep but the maximum amount of time an auth can take is 120 seconds. So I dont want to make it sleep for that long when it may only take 4 seconds to auth. @DavidConrad"}], "answers": [{"tags": [], "owner": {"reputation": 4217, "user_id": 5802417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jWoIa.jpg?s=128&g=1", "display_name": "Michael Gantman", "link": "https://stackoverflow.com/users/5802417/michael-gantman"}, "is_accepted": false, "score": 0, "last_activity_date": 1566415626, "creation_date": 1566415626, "answer_id": 57598082, "question_id": 57594717, "link": "https://stackoverflow.com/questions/57594717/run-methods-after-full-setup/57598082#57598082", "title": "Run methods after full setup", "body": "<p>There is a good site that explains your options for solving this problem: <a href=\"https://www.baeldung.com/running-setup-logic-on-startup-in-spring\" rel=\"nofollow noreferrer\">Running Setup Data on Startup in Spring</a>. But to give you few options: You can annotate your method</p>\n\n<pre><code>@EventListener(ApplicationReadyEvent.class)\n@Order(20)\npublic void runMyLogicAfterAppIsInitialized() {\n   ...\n}\n</code></pre>\n\n<p>The <code>@Order</code> annotation is not necessary but if you have several methods annotated with <code>@EventListener</code> you can control their execution order</p>\n\n<p>Or a bit older way is to implement <code>ApplicationListener</code> interface</p>\n\n<pre><code>@Component\npublic class StartupApplicationListenerExample implements\n  ApplicationListener&lt;ContextRefreshedEvent&gt; {\n\n    private static final Logger LOG \n      = Logger.getLogger(StartupApplicationListenerExample.class);\n\n    public static int counter;\n\n    @Override public void onApplicationEvent(ContextRefreshedEvent event) {\n        LOG.info(\"Increment counter\");\n        counter++;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8188658, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zV1N4ztHclo/AAAAAAAAAAI/AAAAAAAAAD8/yDHTlqZM7AM/photo.jpg?sz=128", "display_name": " TheSourceCode ", "link": "https://stackoverflow.com/users/8188658/thesourcecode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566415626, "creation_date": 1566400582, "last_edit_date": 1566401612, "question_id": 57594717, "link": "https://stackoverflow.com/questions/57594717/run-methods-after-full-setup", "title": "Run methods after full setup", "body": "<p>I have a custom API that I am working on that has to go through a variety of steps to authenticate and set itself up. That setup being oAuth, HTTP Request, and Websockets. I have the setup done fine and all that working, but what I am having trouble after. </p>\n\n<p>When I implement and initialize my API in the java program the methods like <code>api.methodHandler.sendMessage(\"Registering Events\");</code> are running before the API finishes setting itself up.</p>\n\n<p>I have tried using wait, sleeps, etc.</p>\n\n<pre><code>api.setupAPI(clientid, clientSecret, cid, uid, null);\n\napi.methodHandler.sendMessage(\"Registering Events\");\napi.eventManager.registerEvent(new EventHandler());\n</code></pre>\n\n<p>No errors, but the methods are just running before they should.</p>\n"}, {"tags": ["java", "sql", "spring", "spring-data-jpa"], "comments": [{"owner": {"reputation": 26221, "user_id": 7294647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/QFLgL.jpg?s=128&g=1", "display_name": "Jacob G.", "link": "https://stackoverflow.com/users/7294647/jacob-g"}, "edited": false, "score": 5, "creation_date": 1566400554, "post_id": 57594646, "comment_id": 101646772, "body": "If I had to guess, <code>?1</code> would refer to the first parameter of your method, <code>begin</code>, and <code>?2</code> would refer to the second parameter, <code>end</code>."}, {"owner": {"reputation": 1550, "user_id": 11758131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4861bdb6ad28707418f6edc56d3fbd45?s=128&d=identicon&r=PG&f=1", "display_name": "Gibor", "link": "https://stackoverflow.com/users/11758131/gibor"}, "reply_to_user": {"reputation": 26221, "user_id": 7294647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/QFLgL.jpg?s=128&g=1", "display_name": "Jacob G.", "link": "https://stackoverflow.com/users/7294647/jacob-g"}, "edited": false, "score": 2, "creation_date": 1566400893, "post_id": 57594646, "comment_id": 101646958, "body": "@JacobG. WELL! that sounds super logical, taking into account that It does have to query only packages in a certain time window... thank you :)"}, {"owner": {"reputation": 2167, "user_id": 10992886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75ea364872e8995970feec09206d2d39?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/10992886/jordan"}, "edited": false, "score": 0, "creation_date": 1566401211, "post_id": 57594646, "comment_id": 101647133, "body": "@Gibor See the documentation <a href=\"https://www.baeldung.com/spring-data-jpa-query\" rel=\"nofollow noreferrer\">here</a> for more info.  Specifically, section 5.1."}, {"owner": {"reputation": 12675, "user_id": 636009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IIQJV.jpg?s=128&g=1", "display_name": "David Conrad", "link": "https://stackoverflow.com/users/636009/david-conrad"}, "reply_to_user": {"reputation": 2167, "user_id": 10992886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75ea364872e8995970feec09206d2d39?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/10992886/jordan"}, "edited": false, "score": 0, "creation_date": 1566401578, "post_id": 57594646, "comment_id": 101647325, "body": "@Jordan You have the start of a good answer there, if you just include some details from the link. Hint, hint. ;)"}], "answers": [{"comments": [{"owner": {"reputation": 1550, "user_id": 11758131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4861bdb6ad28707418f6edc56d3fbd45?s=128&d=identicon&r=PG&f=1", "display_name": "Gibor", "link": "https://stackoverflow.com/users/11758131/gibor"}, "edited": false, "score": 1, "creation_date": 1566456067, "post_id": 57596345, "comment_id": 101663075, "body": "perfect! thanks for the detailed explanation and extra info :)"}], "tags": [], "owner": {"reputation": 12205, "user_id": 2932476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NGiMv.png?s=128&g=1", "display_name": "Spring", "link": "https://stackoverflow.com/users/2932476/spring"}, "is_accepted": true, "score": 3, "last_activity_date": 1566459847, "last_edit_date": 1566459847, "creation_date": 1566407490, "answer_id": 57596345, "question_id": 57594646, "link": "https://stackoverflow.com/questions/57594646/select-where-column-1-what-is-that/57596345#57596345", "title": "&quot;SELECT... WHERE column &gt; ?1&quot; - what is that?", "body": "<pre><code>@Query(value = \"select /*long query*/ where p.acceptedAt &gt; ?1 and \n          p.acceptedAt &lt; ?2\", nativeQuery = true)\nStream&lt;LeadEntity&gt; findPendingPackages(date begin, date end);\n</code></pre>\n\n<p>this mean that the <code>?1</code> refer to the first param of method => <code>date begin</code> </p>\n\n<p>and <code>?2</code> referrs to the seconde param <code>date end</code> etc ...</p>\n\n<p>So <code>findPendingPackages</code> should return all package that their <code>acceptedAt</code> date is between <code>date begin</code> and <code>date end</code></p>\n\n<p>so you can pass SQl parameters by using the <code>?</code> , and you have to respect the number and the order of those in your method </p>\n\n<p>see <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"nofollow noreferrer\">here in doc</a> for further info </p>\n\n<p>Also you can use  <strong>Named Parameters</strong> like <code>:paramname</code> to prevent ordering error or number if you have a lot of param to send , by example  your query would be </p>\n\n<pre><code>@Query(value = \"select /*long query*/ where p.acceptedAt &gt; :begin and \n          p.acceptedAt &lt; :end\", nativeQuery = true)\nStream&lt;LeadEntity&gt; findPendingPackages(@Param(\"begin\") date begin,@Param(\"end\") date end);\n</code></pre>\n"}], "owner": {"reputation": 1550, "user_id": 11758131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4861bdb6ad28707418f6edc56d3fbd45?s=128&d=identicon&r=PG&f=1", "display_name": "Gibor", "link": "https://stackoverflow.com/users/11758131/gibor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 57596345, "answer_count": 1, "score": 2, "last_activity_date": 1566459847, "creation_date": 1566400367, "last_edit_date": 1566407875, "question_id": 57594646, "link": "https://stackoverflow.com/questions/57594646/select-where-column-1-what-is-that", "title": "&quot;SELECT... WHERE column &gt; ?1&quot; - what is that?", "body": "<p>I'm new to spring, fast-learned it for a few days and need to fix an old service in my workplace.</p>\n\n<p>I've got a JPA repository, and some of the methods with <code>@Query</code> contains this weird  <code>&gt; ?1</code> inside of them.</p>\n\n<p>It looks like this: </p>\n\n<pre><code>@Repository\npublic interface LeadsRepository extends JpaRepository&lt;LeadEntity, Long&gt; \n{\n\n    @Query(value = \"select /*long query*/ where p.acceptedAt &gt; ?1 and \n          p.acceptedAt &lt; ?2\", nativeQuery = true)\n    Stream&lt;LeadEntity&gt; findPendingPackages(date begin, date end);\n}\n</code></pre>\n\n<p>What does it mean? also how can it be that it selects both >1 and &lt;2 ? it should select nothing then...</p>\n\n<p>P.S - I 'm also a SQL newbie so go easy on me :)</p>\n"}, {"tags": ["java", "selenium", "selenium-webdriver", "expected-condition"], "comments": [{"owner": {"reputation": 1573, "user_id": 7450414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UaD1.jpg?s=128&g=1", "display_name": "AndiCover", "link": "https://stackoverflow.com/users/7450414/andicover"}, "edited": false, "score": 0, "creation_date": 1566401195, "post_id": 57594625, "comment_id": 101647125, "body": "It is not working because the element is still visible."}], "answers": [{"tags": [], "owner": {"reputation": 196, "user_id": 11896805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae9ccb6ad5b2c1a82726aa6d99384e4a?s=128&d=identicon&r=PG&f=1", "display_name": "work_ishaan", "link": "https://stackoverflow.com/users/11896805/work-ishaan"}, "is_accepted": false, "score": 0, "last_activity_date": 1566402638, "creation_date": 1566402638, "answer_id": 57595303, "question_id": 57594625, "link": "https://stackoverflow.com/questions/57594625/slenium-java-wait-untilexpectedconditions-invisibilityofelementlocated-alwa/57595303#57595303", "title": "Slenium-Java: Wait.until(ExpectedConditions.invisibilityOfElementLocated()) always fails for negative scenarios", "body": "<p>This approach will fail because sometimes the network delay could be long and the login button would disappear. However the next page wouldn't be loaded yet. So the positive cases can also fail. You should try to wait for some component on the next page which loads after login. </p>\n\n<p>In negative testcases, you can wait for the appropriate error message which gets displayed.</p>\n"}, {"comments": [{"owner": {"reputation": 3571, "user_id": 11061080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67a9089f9f4f8f14b04d3d8dfe51e7c5?s=128&d=identicon&r=PG&f=1", "display_name": "Dipak Bachhav", "link": "https://stackoverflow.com/users/11061080/dipak-bachhav"}, "edited": false, "score": 0, "creation_date": 1572356624, "post_id": 58607160, "comment_id": 103528031, "body": "@Kiran: Are you still facing this issue?"}], "tags": [], "owner": {"reputation": 3571, "user_id": 11061080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67a9089f9f4f8f14b04d3d8dfe51e7c5?s=128&d=identicon&r=PG&f=1", "display_name": "Dipak Bachhav", "link": "https://stackoverflow.com/users/11061080/dipak-bachhav"}, "is_accepted": false, "score": 0, "last_activity_date": 1572356575, "last_edit_date": 1572356575, "creation_date": 1572350819, "answer_id": 58607160, "question_id": 57594625, "link": "https://stackoverflow.com/questions/57594625/slenium-java-wait-untilexpectedconditions-invisibilityofelementlocated-alwa/58607160#58607160", "title": "Slenium-Java: Wait.until(ExpectedConditions.invisibilityOfElementLocated()) always fails for negative scenarios", "body": "<p>I have verified your solution, This could be a problem with your n/w or site it not responding quickly. your script is working properly without any issue.  please try one more time with the below script and don't forget to update the chrome driver path. </p>\n\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class Sampletest {\n    public static void main(String[] args) {\n\n\n    System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\Users\\\\win32\\\\76.0.3809.68\\\\chromedriver.exe\");\n    WebDriver driver = new ChromeDriver();\n    driver.manage().window().maximize();\n    //driver.manage().timeouts().implicitlyWait(12, TimeUnit.SECONDS);\n    driver.get(\"http://newtours.demoaut.com/\");\n    driver.findElement(By.name(\"userName\")).sendKeys(\"myworld\");\n    driver.findElement(By.name(\"password\")).sendKeys(\"myworld\");\n    driver.findElement(By.name(\"login\")).click();\n    WebDriverWait wait = new WebDriverWait(driver, 60);\n    wait.until(ExpectedConditions.invisibilityOfElementLocated(By.name(\"login\")));\n    String titleActual = driver.getTitle();\n    if (titleActual.equals(\"titleExpected\")) {\n        System.out.println(\"Login successful\");\n    } else {\n    }\n    driver.close();\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11957784, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBN6bBAMN51vAm4hpumYnZJz_mJ7YobOQ6i75cnvg=k-s128", "display_name": "Kiran", "link": "https://stackoverflow.com/users/11957784/kiran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 465, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1572356575, "creation_date": 1566400302, "last_edit_date": 1566460283, "question_id": 57594625, "link": "https://stackoverflow.com/questions/57594625/slenium-java-wait-untilexpectedconditions-invisibilityofelementlocated-alwa", "title": "Slenium-Java: Wait.until(ExpectedConditions.invisibilityOfElementLocated()) always fails for negative scenarios", "body": "<p><code>ExpectedConditions.invisibilityOfElementLocated throws Timeout Exception</code> and terminates program. </p>\n\n<p><strong>Step</strong></p>\n\n<ol>\n<li><p>Launch browser and navigate to Loginpage.</p></li>\n<li><p>Enter user name, password and click on SignIn</p></li>\n<li><p>Since it is taking different times for loading I want to wait till the sign in button to be invisible</p></li>\n</ol>\n\n<p>This is working fine for the positive cases where I'm using valid credentials and click on login. but it always fails for the negative case i.e. when I try with invalid username &amp; password combinations clcik on SignIn, it is waiting for the maximum time and then fails with timeout exception. \nFinally i tried using a <code>Try / Catch</code> and verified title but really dont understand why it is not working the negative scenario though the wait condition is login page and I'm using element invisible...</p>\n\n<pre><code>driver = new FirefoxDriver();\n    driver.manage().window().maximize();\n    //driver.manage().timeouts().implicitlyWait(12, TimeUnit.SECONDS);\n    driver.get(\"http://newtours.demoaut.com/\");\n    driver.findElement(By.name(\"userName\")).sendKeys(\"valid password\");\n    driver.findElement(By.name(\"password\")).sendKeys(\"invalid password\");\n    driver.findElement(By.name(\"login\")).click();\n    WebDriverWait wait = new WebDriverWait(driver, 60);\n    wait.until(ExpectedConditions.invisibilityOfElementLocated(By.name(\"login\")));\n    titleActual = driver.getTitle();\n    if (titleActual.equals(titleExpected)) {\n        System.out.println(\"Login successful\");\n    } \n    else {\n}\ndriver.close;\n</code></pre>\n\n<p>Expected: After entering user name and password, once I click on Signin - it should come out of wait and fetch the driver page title\nActual: It is waiting for the maximum time given with error Timeout exception, terminates program execution </p>\n\n<p>Logs: </p>\n\n<blockquote>\n  <p>Aug 21, 2019 5:38:37 PM org.openqa.selenium.remote.ProtocolHandshake\n  createSession INFO: Detected dialect: W3C Exception in thread \"main\"\n  org.openqa.selenium.TimeoutException: Expected condition failed:\n  waiting for element to no longer be visible: By.name: login (tried for\n  60 second(s) with 500 milliseconds interval) Build info: version:\n  '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03' System\n  info: host: 'LAPTOP-2PL6I9SD', ip: '192.168.43.30', os.name: 'Windows\n  10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.1'\n  Driver info: org.openqa.selenium.firefox.FirefoxDriver Capabilities\n  {acceptInsecureCerts: true, browserName: firefox, browserVersion:\n  67.0.3, javascriptEnabled: true, moz:accessibilityChecks: false, moz:buildID: 20190618025334, moz:geckodriverVersion: 0.24.0,\n  moz:headless: false, moz:processID: 15188, moz:profile:\n  C:\\Users\\SWATHI\\AppData\\Loc..., moz:shutdownTimeout: 60000,\n  moz:useNonSpecCompliantPointerOrigin: false, moz:webdriverClick: true,\n  pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS,\n  platformVersion: 10.0, rotatable: false, setWindowRect: true,\n  strictFileInteractability: false, timeouts: {implicit: 0, pageLoad:\n  300000, script: 30000}, unhandledPromptBehavior: dismiss and notify}\n  Session ID: e2401e63-ffda-45cd-a73f-ea418e38236d at\n  org.openqa.selenium.support.ui.WebDriverWait.timeoutException(WebDriverWait.java:95)\n  at\n  org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:272)\n  at basic_tests.LoginFlightTest.main(LoginFlightTest.java:33)</p>\n</blockquote>\n"}, {"tags": ["java", "multithreading", "threadpool"], "comments": [{"owner": {"reputation": 10726, "user_id": 4956907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ypfs.jpg?s=128&g=1", "display_name": "michalk", "link": "https://stackoverflow.com/users/4956907/michalk"}, "edited": false, "score": 0, "creation_date": 1566399905, "post_id": 57594478, "comment_id": 101646384, "body": "And what is the problem?"}, {"owner": {"reputation": 10726, "user_id": 4956907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ypfs.jpg?s=128&g=1", "display_name": "michalk", "link": "https://stackoverflow.com/users/4956907/michalk"}, "edited": false, "score": 0, "creation_date": 1566400159, "post_id": 57594478, "comment_id": 101646546, "body": "I think that <code>try-with resource</code> will close the buffer from the main thread so other threads inside the ThreadPool will see it as closed as soon as they try to write to it. That is why you see this error."}, {"owner": {"reputation": 5, "user_id": 11957791, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M_HIPd5KbOw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfIn4O-vamgfGmdByWXxedhJHEHpQ/photo.jpg?sz=128", "display_name": "Marian Gabriel Neacsu", "link": "https://stackoverflow.com/users/11957791/marian-gabriel-neacsu"}, "reply_to_user": {"reputation": 10726, "user_id": 4956907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ypfs.jpg?s=128&g=1", "display_name": "michalk", "link": "https://stackoverflow.com/users/4956907/michalk"}, "edited": false, "score": 0, "creation_date": 1566400397, "post_id": 57594478, "comment_id": 101646699, "body": "I just changed the try-with resource for a normal try-catch block. No more Exceptions are thrown but nothing is written on the file."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 11957791, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M_HIPd5KbOw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfIn4O-vamgfGmdByWXxedhJHEHpQ/photo.jpg?sz=128", "display_name": "Marian Gabriel Neacsu", "link": "https://stackoverflow.com/users/11957791/marian-gabriel-neacsu"}, "edited": false, "score": 0, "creation_date": 1566401083, "post_id": 57594692, "comment_id": 101647061, "body": "While this works perfectly, won&#39;t this create a new BufferedWriter object every SingleThreadScheduled run leading to non-efficient code?"}, {"owner": {"reputation": 10726, "user_id": 4956907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ypfs.jpg?s=128&g=1", "display_name": "michalk", "link": "https://stackoverflow.com/users/4956907/michalk"}, "edited": false, "score": 0, "creation_date": 1566405636, "post_id": 57594692, "comment_id": 101649232, "body": "This will work because <code>BufferedWriter</code> is thread safe as explained <a href=\"https://stackoverflow.com/questions/30080560/is-writting-on-file-using-bufferwriter-initialized-by-filewriter-thread-safe-or\"><code>here</code></a>"}], "tags": [], "owner": {"reputation": 72, "user_id": 10535864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd677ff85bc6bf3c149fe39ce7e9d531?s=128&d=identicon&r=PG&f=1", "display_name": "razumichin", "link": "https://stackoverflow.com/users/10535864/razumichin"}, "is_accepted": true, "score": 0, "last_activity_date": 1566403569, "last_edit_date": 1566403569, "creation_date": 1566400506, "answer_id": 57594692, "question_id": 57594478, "link": "https://stackoverflow.com/questions/57594478/log-using-bufferedreader-and-scheduledexecutor/57594692#57594692", "title": "Log using BufferedReader and ScheduledExecutor", "body": "<p>Try with: </p>\n\n<pre><code>ScheduledExecutorService service = null;\n    service = Executors.newSingleThreadScheduledExecutor();\n    try {\n        BufferedWriter bw = new BufferedWriter(new FileWriter(testFile, true));\n        service.scheduleAtFixedRate(() -&gt; {\n            try {\n                bw.write(\"Curr Time: \" + LocalTime.now() + \"\\n\");\n                bw.flush();\n            } catch (IOException ioe) {\n                ioe.printStackTrace();\n            }\n        }, 1, 1, TimeUnit.SECONDS);\n\n    } catch (IOException ioe) {\n        ioe.printStackTrace();\n    }\n</code></pre>\n\n<p>The <code>true</code> parameter in the <code>FileWriter</code> will append each new line to the existing file, instead of creating a new file.</p>\n"}], "owner": {"reputation": 5, "user_id": 11957791, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M_HIPd5KbOw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfIn4O-vamgfGmdByWXxedhJHEHpQ/photo.jpg?sz=128", "display_name": "Marian Gabriel Neacsu", "link": "https://stackoverflow.com/users/11957791/marian-gabriel-neacsu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 57594692, "answer_count": 1, "score": 0, "last_activity_date": 1566403569, "creation_date": 1566399798, "last_edit_date": 1566401199, "question_id": 57594478, "link": "https://stackoverflow.com/questions/57594478/log-using-bufferedreader-and-scheduledexecutor", "title": "Log using BufferedReader and ScheduledExecutor", "body": "<p>I'm currently studying for my JAVA SE OCP Certification so and playing around with things to learn.</p>\n\n<p>I'm currently on IO chapter. I'm trying to combine a ScheduledExecutor with a BufferedWriter</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ScheduledExecutorService service = null;\ntry (BufferedWriter bw = new BufferedWriter(new FileWriter(testFile))) {\n    service = Executors.newSingleThreadScheduledExecutor();\n    service.scheduleAtFixedRate(() -&gt; {\n        try {\n            bw.write(\"Curr Time: \" + LocalTime.now());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }, 1, 1, TimeUnit.SECONDS);\n}\n</code></pre>\n\n<p>I expected to write the LocalTime every second on a new line on my TestFile but this IOException shows up: </p>\n\n<pre><code>java.io.IOException: Stream closed\nat java.io.BufferedWriter.ensureOpen(BufferedWriter.java:116)\nat java.io.BufferedWriter.write(BufferedWriter.java:221)\nat java.io.Writer.write(Writer.java:157)\nat Worksheet.lambda$main$0(Worksheet.java:56)\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\nat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308) {...}\n</code></pre>\n"}, {"tags": ["java", "python", "tensorflow", "keras"], "comments": [{"owner": {"reputation": 176, "user_id": 2664035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fOEMf.jpg?s=128&g=1", "display_name": "Keerthi Shekar", "link": "https://stackoverflow.com/users/2664035/keerthi-shekar"}, "edited": false, "score": 0, "creation_date": 1589726271, "post_id": 57594453, "comment_id": 109401539, "body": "any updates on this?"}], "owner": {"reputation": 11, "user_id": 11957492, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA-lhYxtbIODkN34GFR-nhXIOqYMHoWBDlbrC_zPA=k-s128", "display_name": "David Lu Scheiblauer", "link": "https://stackoverflow.com/users/11957492/david-lu-scheiblauer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566399732, "creation_date": 1566399732, "question_id": 57594453, "link": "https://stackoverflow.com/questions/57594453/running-keras-python-script-through-java-results-in-sudden-stop-mid-script", "title": "Running Keras python script through java results in sudden stop mid-script", "body": "<p>I have a script <code>predict_cnn.py</code> that takes an Image as Input and prints the prediction of that Image using an already trained keras model. The script works when run in console, now I want to run the script from a Java class to use its Output. However, when I try to read the Output of said script through Java, it simply stops during the loading of the keras model.</p>\n\n<p>I'm using <code>python3.7</code>, <code>keras2.2.4</code>, <code>tensorflow1.14</code> and <code>opencv-contrib-python 4.1.0.25</code> for my python Project and plain Java11 for the Java Project.\nI've tested passing simple \"Hello World\" python scripts to my Java class, as well as scripts that had multiple Input Arguments and that loaded the keras model/label binarizer with prints afterwards, all of those Tests surprisingly worked. I really don't understand why it doesn't work for <code>predict_cnn.py</code>.</p>\n\n<p>Here's the Python script that prints the keras prediction to console:</p>\n\n<pre><code>    ap = argparse.ArgumentParser()\n    ap.add_argument(\"-i\", \"--image\", required=True, help=\"Path to input image\")\n    ap.add_argument(\"-m\", \"--model\", default=\"output\\invoice_cnn_250_ADD100-    BS256.model\", help=\"Path to trained Keras model\")\n    ap.add_argument(\"-lb\", \"--label-bin\", default=\"output\\invoice_cnn_lb_250_Add100-BS256.pickle\", help=\"Path to input label Binarizer\")\n    args = vars(ap.parse_args())\n    print(\"Args used:\"+args.__str__())\n\n    # load input image and resize it to the target spatial dimensions\n    print(\"[INFO] reading image...\")\n    image = cv2.imread(args[\"image\"])\n    output = image.copy()\n    image = cv2.resize(image, (64, 64))\n\n    # scale the pixel values to [0, 1]\n    print(\"[INFO] processing image...\")\n    image = image.astype(\"float\") / 255.0\n    image = image.reshape((1, image.shape[0], image.shape[1],\n                       image.shape[2]))\n\n    print(\"[INFO] loading network and label binarizer...\")\n    model = load_model(args[\"model\"])\n    lb = pickle.loads(open(args[\"label_bin\"], \"rb\").read())\n\n    print(\"[INFO] predict image...\")\n    pred = model.predict(image)\n\n    print(\"[INFO] process prediction...\")\n    i = pred.argmax(axis=1)[0]\n    label = lb.classes_[i]\n\n    print(\"[INFO] prediction complete\")\n    result = pred[0][i] * 100\n    print(label + \"|\" + result.__str__())\n</code></pre>\n\n<p>And here's the Problem Java class that reads script output:</p>\n\n<pre><code>\n    public static void main(String[] args) throws IOException {\n        // set up the command and parameter\n        String pythonScriptPath = \"PATH/TO/predict_cnn.py\";\n        String[] cmd = new String[2];\n        cmd[0] = \"python3.7\";\n        cmd[1] = pythonScriptPath;\n\n        // create runtime to execute external command\n        Runtime rt = Runtime.getRuntime();\n        Process pr = rt.exec(cmd);\n\n        // retrieve output from python script\n        BufferedReader bfr = new BufferedReader(new InputStreamReader(pr.getInputStream()));\n        String line = \"\";\n        while((line = bfr.readLine()) != null) {\n        // display each output line form python script\n            System.out.println(line);\n        }\n        System.out.println(Arrays.toString(cmd));\n    }\n\n</code></pre>\n\n<p>Expected Output is the Output I get from running the script in console:</p>\n\n<pre><code>\n    Args used:{'image': 'img\\\\leftover\\\\invoice\\\\i0.jpg', 'model': 'output\\\\invoice_cnn_250_ADD100-BS256.model', 'label_bin': 'output\\\\invoice_cnn_lb_250_Add100-BS256.pickle'}\n    [INFO] reading image...\n    [INFO] processing image...\n    [INFO] loading network and label binarizer...\n    [INFO] predict image...\n    [INFO] process prediction...\n    [INFO] prediction complete\n    invoice|88.56740593910217\n</code></pre>\n\n<p>But if I run it through Java the process simply stops in the middle.</p>\n\n<pre><code>    Args used:    {'image': 'img\\\\leftover\\\\invoice\\\\i0.jpg', 'model': 'output\\\\invoice_cnn_250_ADD100-BS256.model', 'label_bin': 'output\\\\invoice_cnn_lb_250_Add100-BS256.pickle'}\n    [INFO] reading image...\n    [INFO] processing image...\n    [INFO] loading network and label binarizer\u2026\n\n    Process finished with exit code 0\n</code></pre>\n\n<p>I repeat, loading the keras model and binarizer in other python scripts worked, so I'm really confused why it stops at this Point. </p>\n\n<p>I tried running the same Code on a friend's pc, but he couldn't even get the Images to be read. The Tests worked tho. Another friend got the same Output as me, but the process just kept on running\u2026</p>\n\n<p>I could really need some help. Thanks.</p>\n"}, {"tags": ["java", "android"], "comments": [{"owner": {"reputation": 299, "user_id": 11824428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf744698ba281b5dfe5cbe0bbf6a7b0?s=128&d=identicon&r=PG&f=1", "display_name": "Fifi", "link": "https://stackoverflow.com/users/11824428/fifi"}, "edited": false, "score": 0, "creation_date": 1566399852, "post_id": 57594422, "comment_id": 101646351, "body": "What result did you expect exactly ?"}, {"owner": {"reputation": 11577, "user_id": 2533290, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/zp2v0.jpg?s=128&g=1", "display_name": "Martin Pfeffer", "link": "https://stackoverflow.com/users/2533290/martin-pfeffer"}, "edited": false, "score": 0, "creation_date": 1566400359, "post_id": 57594422, "comment_id": 101646673, "body": "Is GPS / Location permission set? Are you sure that your LocationClient is working (receiving the current location)?"}, {"owner": {"reputation": 26, "user_id": 7497159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wTkjQGmMjHU/AAAAAAAAAAI/AAAAAAAAAk0/6uZAbvuA9AI/photo.jpg?sz=128", "display_name": "PinguinoTI", "link": "https://stackoverflow.com/users/7497159/pinguinoti"}, "edited": false, "score": 0, "creation_date": 1566400921, "post_id": 57594422, "comment_id": 101646971, "body": "the result of the sum of latitude and longitude, but it returns the initial value that is 0.1."}, {"owner": {"reputation": 26, "user_id": 7497159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wTkjQGmMjHU/AAAAAAAAAAI/AAAAAAAAAk0/6uZAbvuA9AI/photo.jpg?sz=128", "display_name": "PinguinoTI", "link": "https://stackoverflow.com/users/7497159/pinguinoti"}, "edited": false, "score": 0, "creation_date": 1566401106, "post_id": 57594422, "comment_id": 101647072, "body": "the GPS is working, it is giving me the latitude and longitude data, but the function returns me before the default value of &quot;result&quot;"}, {"owner": {"reputation": 3081, "user_id": 2711811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fc519c42e8a7c55c1e33af5ca6203f4?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/2711811/andy"}, "edited": false, "score": 0, "creation_date": 1566402680, "post_id": 57594422, "comment_id": 101647892, "body": "<code>onSuccess</code> is asynchronous and so result will always have the initial value."}, {"owner": {"reputation": 26, "user_id": 7497159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wTkjQGmMjHU/AAAAAAAAAAI/AAAAAAAAAk0/6uZAbvuA9AI/photo.jpg?sz=128", "display_name": "PinguinoTI", "link": "https://stackoverflow.com/users/7497159/pinguinoti"}, "edited": false, "score": 0, "creation_date": 1566404892, "post_id": 57594422, "comment_id": 101648907, "body": "I understand that it is asynchronous, but how could I implement a solution for this case?"}, {"owner": {"reputation": 21755, "user_id": 1283845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FpLkg.jpg?s=128&g=1", "display_name": "BlackHatSamurai", "link": "https://stackoverflow.com/users/1283845/blackhatsamurai"}, "edited": false, "score": 0, "creation_date": 1566405224, "post_id": 57594422, "comment_id": 101649063, "body": "You should create a callback to handle the response."}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 10450821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9u5EJ.png?s=128&g=1", "display_name": "VeryDarkCode", "link": "https://stackoverflow.com/users/10450821/verydarkcode"}, "is_accepted": true, "score": 0, "last_activity_date": 1566406575, "creation_date": 1566406575, "answer_id": 57596171, "question_id": 57594422, "link": "https://stackoverflow.com/questions/57594422/how-to-return-the-value-given-by-the-gps-within-a-function/57596171#57596171", "title": "How to return the value given by the gps within a function", "body": "<p>Like Andy said, the OnSuccessListener is asynchronous, so it will runs on a different Thread while your return value is on the main Thread. </p>\n\n<p>You have different workaround :</p>\n\n<p>Workaround 1) Declare in your scope a global result variable, that you can reuse anywhere in your class after you set it with your OnSuccessListener : </p>\n\n<pre><code>private Double result;\n</code></pre>\n\n<p>Workaround 2) Pass it to a method directly in its parameter : </p>\n\n<pre><code>public void codeQR(final Context context, final Activity activity){\n\n    client2 = LocationServices.getFusedLocationProviderClient(context);\n    client2.getLastLocation().addOnSuccessListener(activity, new OnSuccessListener&lt;Location&gt;() {\n        @Override\n        public void onSuccess(Location location) {\n\n            latitude = location.getLatitude();\n            longitude = location.getLongitude();\n            result = (latitude +longitude);\n\n            anotherMethod(result);\n        }\n    });\n}\n</code></pre>\n\n<p>Workaround 3) Create a callback Interface, put this callback in your method parameter, and then call your method wherever you need to access the \"result\" value :</p>\n\n<pre><code> //A) Create a callback Interface\n public interface MyCallback {\n    void onCallback(Double result);\n}\n\n//B) Put this callback in your method parameter\npublic void codeQR(final Context context, final Activity activity, MyCallback myCallback){\n\n    client2 = LocationServices.getFusedLocationProviderClient(context);\n    client2.getLastLocation().addOnSuccessListener(activity, new OnSuccessListener&lt;Location&gt;() {\n        @Override\n        public void onSuccess(Location location) {\n\n            latitude = location.getLatitude();\n            longitude = location.getLongitude();\n            result = (latitude +longitude);\n\n            myCallback.onCallback(result);\n            }\n        });\n    }\n\n    //C) Call your method wherever you need to access the \"result\" value\n    //For example, if you want to get the result value in the nextStep() method\n    private void nextStep(){\n       codeQR(this, this, new MyCallback() {\n          @Override\n          public void onCallback(Double result) {\n                    Log.i(\"TestOfResult\", \"onCallback: \" + result);\n                }\n          });\n     }\n</code></pre>\n\n<p>You can find more explanations about this interface on this <a href=\"https://stackoverflow.com/questions/48499310/how-to-return-a-documentsnapshot-as-a-result-of-a-method\">link</a>.\nI hope this will help you, let us know if this worked or if you have questions !</p>\n"}], "owner": {"reputation": 26, "user_id": 7497159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wTkjQGmMjHU/AAAAAAAAAAI/AAAAAAAAAk0/6uZAbvuA9AI/photo.jpg?sz=128", "display_name": "PinguinoTI", "link": "https://stackoverflow.com/users/7497159/pinguinoti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 57596171, "answer_count": 1, "score": 0, "last_activity_date": 1566406575, "creation_date": 1566399642, "last_edit_date": 1566401154, "question_id": 57594422, "link": "https://stackoverflow.com/questions/57594422/how-to-return-the-value-given-by-the-gps-within-a-function", "title": "How to return the value given by the gps within a function", "body": "<p>I am trying to return the result value that gives me the sum of latitude and longitude, but the function is giving me back the default value </p>\n\n<pre><code>Double result = 0.1;\n\npublic Double codeQR(final Context context, final Activity activity){\n\n    client2 = LocationServices.getFusedLocationProviderClient(context);\n    client2.getLastLocation().addOnSuccessListener(activity, new OnSuccessListener&lt;Location&gt;() {\n        @Override\n        public void onSuccess(Location location) {\n\n            latitude = location.getLatitude();\n            longitude = location.getLongitude();\n            result = (latitude +longitude);\n\n        }\n\n    });\n\n\n   return result;\n}\n</code></pre>\n\n<p>I expected the result of the sum of latitude and longitude, but it is returning 0.1</p>\n"}, {"tags": ["java", "swing", "jlabel", "tic-tac-toe", "incompatibletypeerror"], "answers": [{"comments": [{"owner": {"reputation": 163297, "user_id": 418556, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/yOfDr.png?s=128&g=1", "display_name": "Andrew Thompson", "link": "https://stackoverflow.com/users/418556/andrew-thompson"}, "edited": false, "score": 0, "creation_date": 1572674777, "post_id": 57594696, "comment_id": 103639796, "body": "Please <a href=\"http://meta.stackexchange.com/a/5235/155831\">accept the answer</a> if it helped solve the problem."}], "tags": [], "owner": {"reputation": 2324, "user_id": 261887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42b356125c00f17b34a5102c61c70d6d?s=128&d=identicon&r=PG", "display_name": "black panda", "link": "https://stackoverflow.com/users/261887/black-panda"}, "is_accepted": false, "score": 4, "last_activity_date": 1566400521, "creation_date": 1566400521, "answer_id": 57594696, "question_id": 57594414, "link": "https://stackoverflow.com/questions/57594414/how-do-i-convert-a-jlabel-into-a-string-vice-versa/57594696#57594696", "title": "How do I convert a JLabel into a String &amp; vice versa?", "body": "<p>You might be looking for this:</p>\n\n<pre><code>jlblStatus.setText(playerOne);\nmakeLabel(jlblStatus.getText());\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 10817579, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Q7IC_tuNBbA/AAAAAAAAAAI/AAAAAAAAJQ8/-0r3wZC8-Fk/photo.jpg?sz=128", "display_name": "kinghabz 14", "link": "https://stackoverflow.com/users/10817579/kinghabz-14"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1079, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572674787, "creation_date": 1566399614, "last_edit_date": 1572674787, "question_id": 57594414, "link": "https://stackoverflow.com/questions/57594414/how-do-i-convert-a-jlabel-into-a-string-vice-versa", "title": "How do I convert a JLabel into a String &amp; vice versa?", "body": "<p>I am trying to build a TicTacToe game which takes the players input through the use of a JDialog box <code>dialogBox</code> &amp; a JTextField <code>textField</code>. Taking the input &amp; giving names to each player in the game after clicking the submit button. However, the problem I have is that I am not able to convert a JLabel into a string &amp; vice versa. </p>\n\n<p>I want to get the text input from <code>textField</code> and assign it to <code>jlblStatus</code> in order to display the user's name. I've created <code>makeString ()</code> that uses XML Encoder and ByteArrayOutputStream to change the <code>jlblStatus</code> into a string so that I can then assign the input from the <code>textField</code> to <code>jlblStatus</code>. Then I can convert <code>jlblStatus</code> back into a JLabel using the <code>makeLabel()</code> using the XML Decoder and ByteArrayInputStream. </p>\n\n<p>However, I am getting compilation errors <code>incompatible types: String cannot be converted to JLabel</code> &amp; <code>incompatible types: JLabel cannot be converted to String</code> which means that <code>makeString()</code> was not able to convert <code>jlblStatus</code> into a string. </p>\n\n<p><strong><em>The class which have the makeString() &amp; makeLabel()</em></strong></p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.border.LineBorder;\nimport java.io.ByteArrayOutputStream;\nimport java.io.ByteArrayInputStream;\nimport java.beans.XMLDecoder;\nimport java.beans.XMLEncoder;\n\n\npublic class TicTacToeFrame extends JFrame {\n   public char whoseTurn = 'X';   \n\n   public Cell [] [] cells = new Cell [3] [3];\n\n   JLabel jlblStatus = new JLabel (\"X's turn to play\");\n\n   public boolean gameOver = false;\n\n   public String players;\n\n   public JPanel panel;\n\n   JDialog dialogBox;\n\n   JTextField textField;\n\n   public TicTacToeFrame () {\n     panel = new JPanel (new GridLayout (3, 3, 0, 0));\n     for (int i = 0; i &lt; 3; i++) {\n        for (int j = 0; j &lt; 3; j++) {\n            panel.add (cells [i] [j] = new Cell(this));\n        }\n    }\n\n    panel.setBorder (new LineBorder (Color.red, 1));\n    jlblStatus.setBorder (new LineBorder (Color.yellow, 1));\n\n    add (panel, BorderLayout.CENTER);\n    add (jlblStatus, BorderLayout.SOUTH);\n  }\n\n  public class miniFrame implements ActionListener {\n    public miniFrame () {\n      JFrame Frame = new JFrame ();\n      dialogBox = new JDialog (Frame, \"TicTacToe User Input\", true);\n      dialogBox.setLayout (new FlowLayout ());\n      textField = new JTextField (\"ENTER YOUR NAME\", 20);\n      JButton Submit = new JButton (\"Submit\");\n      JLabel Player_X = new JLabel (\"Player X: \");\n      Submit.addActionListener (this);\n\n      dialogBox.add (Player_X);\n      dialogBox.add (textField);\n      dialogBox.add (Submit);\n\n      dialogBox.setSize (400, 150);\n      dialogBox.setVisible (true);\n   }\n\n    public void actionPerformed (ActionEvent e) {\n      String s = e.getActionCommand ();\n      if (s.equals (\"Submit\")) {\n         playerOne = textField.getText () + \"'s turn to play\";\n         makeString (jlblStatus);\n         jlblStatus = playerOne;\n         makeLabel (playerOne);\n      }\n   }\n }\n\n String makeString (JLabel jl) {//This is the method which converts the Jlabel into a String\n   ByteArrayOutputStream baos = new ByteArrayOutputStream ();\n   XMLEncoder e = new XMLEncoder (baos);\n   e.writeObject (jl);\n   e.close ();\n   return new String (baos.toByteArray ());\n }//CLOSE TOSTRING METHOD\n\n JLabel makeLabel (String str) {//This is the method which converts the String into a JLabel\n   XMLDecoder d = new XMLDecoder (new ByteArrayInputStream (str.getBytes ()));\n   JLabel label = (JLabel) d.readObject ();\n   d.close ();\n   return label;\n }//CLOSE FROMSTRING METHOD\n\n //ISFULL METHOD\n public boolean isFull () {\n    for (int i = 0; i &lt; 3; i++) {\n        for (int j = 0; j &lt; 3; j++) {\n            if (cells [i] [j].getToken () == ' ') {\n              return false;//FALSE BOOLEAN IS RETURNED \n            }\n        }\n    }\n    return true;\n }\n\n public boolean isWon (char token) {\n   for (int i = 0; i &lt; 3; i++) {\n      if ((cells [i] [0].getToken () == token) &amp;&amp; (cells [i] [1].getToken () == token) &amp;&amp; (cells [i] [2].getToken () == token)) {\n          return true;\n      }\n   }\n\n   for (int j = 0; j &lt; 3; j++) {\n      if ((cells [0] [j].getToken () == token) &amp;&amp; (cells [1] [j].getToken () == token) &amp;&amp; (cells [2] [j].getToken () == token)) {\n         return true;\n      }\n   }\n\n   if ((cells [0] [0].getToken() == token) &amp;&amp; (cells [1] [1].getToken () == token) &amp;&amp; (cells [2] [2].getToken () == token)) {\n       return true;\n   }\n\n   if ((cells [0] [2].getToken() == token) &amp;&amp; (cells [1] [1].getToken () == token) &amp;&amp; (cells [2] [0].getToken () == token)) {\n      return true;\n   }\n\n   return false;\n }\n}\n</code></pre>\n\n<p><strong><em>The complilation errors</em></strong></p>\n\n<pre><code>TicTacToeFrame.java:70: error: incompatible types: String cannot be converted to JLabel\n      jlblStatus = playerOne;\n                   ^\nTicTacToeFrame.java:71: error: incompatible types: JLabel cannot be converted to String\n      makeLabel (jlblStatus);\n                 ^\nNote: Some messages have been simplified; recompile with - \nXdiags:verbose to get full output\n2 errors\n</code></pre>\n\n<p>How would I solve this problem and convert a Jlabel into a String &amp; vice versa?</p>\n"}, {"tags": ["java", "spring-boot", "jpa"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 11957798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XHuyd.jpg?s=128&g=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/11957798/pavel"}, "edited": false, "score": 0, "creation_date": 1566400951, "post_id": 57594733, "comment_id": 101646990, "body": "And then I just pass the @PathVariable from Controller method to the (String id) variable?"}, {"owner": {"reputation": 83, "user_id": 10843399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2251c68da4f21e95a299dd2883348bf7?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei Nazarov", "link": "https://stackoverflow.com/users/10843399/andrei-nazarov"}, "reply_to_user": {"reputation": 65, "user_id": 11957798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XHuyd.jpg?s=128&g=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/11957798/pavel"}, "edited": false, "score": 0, "creation_date": 1566401689, "post_id": 57594733, "comment_id": 101647379, "body": "Yes. But now i see that you added example of JSON format. With my answer result will be list of cars only, like <code>[{ &quot;Id&quot;:&quot;1&quot;, &quot;make&quot;:&quot;BMW&quot;, ... }, { &quot;Id&quot;:&quot;2&quot;, &quot;make&quot;:&quot;Opel&quot;, ... }]</code>. For your JSON format needed correct <code>@OneToMany</code> and <code>@ManyToOne</code> mapping annotations - <a href=\"https://www.baeldung.com/spring-data-rest-relationships\" rel=\"nofollow noreferrer\">example</a> and <code>@JsonManagedReference</code> and <code>@JsonBackReference</code> annotation for json serialization - <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">example</a>. After that you can find <code>User</code> by id and return in controller."}, {"owner": {"reputation": 65, "user_id": 11957798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XHuyd.jpg?s=128&g=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/11957798/pavel"}, "edited": false, "score": 0, "creation_date": 1566401840, "post_id": 57594733, "comment_id": 101647456, "body": "I got all the mapping being done and tested, the only thing for me now is that I am trying to understand how can I make it return the user by ID with list of cars inside."}], "tags": [], "owner": {"reputation": 83, "user_id": 10843399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2251c68da4f21e95a299dd2883348bf7?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei Nazarov", "link": "https://stackoverflow.com/users/10843399/andrei-nazarov"}, "is_accepted": false, "score": 0, "last_activity_date": 1566401034, "last_edit_date": 1566401034, "creation_date": 1566400622, "answer_id": 57594733, "question_id": 57594408, "link": "https://stackoverflow.com/questions/57594408/a-query-for-jparepository-to-pass-it-to-controller/57594733#57594733", "title": "A query for JpaRepository to pass it to controller", "body": "<p>You can use SpringData query methods, just create new method in <code>CarRepository</code> like that:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Car&gt; findByUser_id(String id);\n</code></pre>\n\n<p>More examples in <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation\" rel=\"nofollow noreferrer\">Query methods documentation</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 11957798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XHuyd.jpg?s=128&g=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/11957798/pavel"}, "edited": false, "score": 0, "creation_date": 1566402268, "post_id": 57595111, "comment_id": 101647688, "body": "Do you mind to explain few more things. I have never touched DAO or DTO examples. Does UserDTo should be created in the same &#39;Entity&#39; package that has a Car and User classes? And also, do you mind providing an example of Controller? Cuz its a bit unclear still :C Thank you in advance! :)"}, {"owner": {"reputation": 105, "user_id": 9628470, "user_type": "registered", "profile_image": "https://graph.facebook.com/1659849940764705/picture?type=large", "display_name": "Fernando Oxyde", "link": "https://stackoverflow.com/users/9628470/fernando-oxyde"}, "reply_to_user": {"reputation": 65, "user_id": 11957798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XHuyd.jpg?s=128&g=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/11957798/pavel"}, "edited": false, "score": 0, "creation_date": 1566403499, "post_id": 57595111, "comment_id": 101648278, "body": "Yeap men, you can create dto in the same entity package,A dto is like and entity but only with the properties that you want, in this case is id,name and the list of cars also need to create getters and setters or just anotate the class with @data (search lombok),"}, {"owner": {"reputation": 105, "user_id": 9628470, "user_type": "registered", "profile_image": "https://graph.facebook.com/1659849940764705/picture?type=large", "display_name": "Fernando Oxyde", "link": "https://stackoverflow.com/users/9628470/fernando-oxyde"}, "reply_to_user": {"reputation": 65, "user_id": 11957798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XHuyd.jpg?s=128&g=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/11957798/pavel"}, "edited": false, "score": 0, "creation_date": 1566403644, "post_id": 57595111, "comment_id": 101648346, "body": "<code>@GetMapping(value = &quot;&#47;users&#47;{id}&#47;cars&quot;)</code>    <code>public UserDTO getListOfCars(@PathVariable long id) {</code>    <code>&#47;&#47;You can fill the dto here but its recommended to separate your classes for good practice, search for Dependency Injection Desing Pattern</code>      <code>return service.getListOfCars(id);</code>      <code>}</code>"}], "tags": [], "owner": {"reputation": 105, "user_id": 9628470, "user_type": "registered", "profile_image": "https://graph.facebook.com/1659849940764705/picture?type=large", "display_name": "Fernando Oxyde", "link": "https://stackoverflow.com/users/9628470/fernando-oxyde"}, "is_accepted": false, "score": 0, "last_activity_date": 1566401913, "creation_date": 1566401913, "answer_id": 57595111, "question_id": 57594408, "link": "https://stackoverflow.com/questions/57594408/a-query-for-jparepository-to-pass-it-to-controller/57595111#57595111", "title": "A query for JpaRepository to pass it to controller", "body": "<p>You can create an UserDTO like this:</p>\n\n<pre><code>private static class UserDTO(){\nprivate Long id;\nprivate String name;\nprivate List&lt;Cars&gt; cars;\n//getters and setters\n}\n</code></pre>\n\n<p>With JPA you can get the user that you want, in your repository:</p>\n\n<pre><code>User findByUserId(Long id)\n</code></pre>\n\n<p>And then fill the DTO like this:</p>\n\n<pre><code>UserDTO dto = new UserDTO();\nUser user = repository.findByUserId(id);\ndto.setId(user.getUserId);\ndto.setName(user.getName);\ndto.setCars(user.getCars); //get the list of cars of the user and sets entire list to dto.cars\n\nreturn dto;//finally return dto to controller\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 11957798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XHuyd.jpg?s=128&g=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/11957798/pavel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566401913, "creation_date": 1566399593, "last_edit_date": 1566401070, "question_id": 57594408, "link": "https://stackoverflow.com/questions/57594408/a-query-for-jparepository-to-pass-it-to-controller", "title": "A query for JpaRepository to pass it to controller", "body": "<p>I am doing a home assignment where I have 2 classes, which are <code>User</code> and <code>Car</code>. <code>User</code> has a OneToMany relationship to <code>Car</code> entity, therefore I need to implement a controller method, which will be selecting all cars of a special user (by ID)</p>\n\n<p>I guess it has something todo with <code>@Query</code> annotation in <code>UserRepository</code> which extends <code>JpaRepository</code>.\nI am using a JpaRepository, which has  generics.</p>\n\n<p>Example: <code>GET method - /users/{id}/cars</code></p>\n\n<p>The data should be received in JSON format smth like that:</p>\n\n<pre><code>{\n  \"id\":\"1\",\n  \"name\":\"Taavet Prulskih\",\n  \"cars\":[{\n    \"Id\":\"1\",\n    \"make\":\"BMW\",\n    \"model\":\"760\",\n    \"numberplate\":\"123FFF\"\n  },\n  {\n    \"Id\":\"2\",\n    \"make\":\"Opel\",\n    \"model\":\"Astra\",\n    \"numberplate\":\"789BFX\"\n  }]\n}\n</code></pre>\n\n<p>Question is: how does the query will be looking like?</p>\n"}]