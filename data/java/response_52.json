[{"tags": ["java", "swing", "resize", "components", "frame"], "answers": [{"tags": [], "owner": {"reputation": 341, "user_id": 3469686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9bdf9e0d35cc3ad28c3ea3b2ca0498d?s=128&d=identicon&r=PG&f=1", "display_name": "MoQ93", "link": "https://stackoverflow.com/users/3469686/moq93"}, "is_accepted": false, "score": 1, "last_activity_date": 1452125354, "last_edit_date": 1495535298, "creation_date": 1452125354, "answer_id": 34645212, "question_id": 34645125, "link": "https://stackoverflow.com/questions/34645125/jswing-components-dont-appear-until-frame-is-resized/34645212#34645212", "title": "JSwing components don&#39;t appear until frame is resized", "body": "<p>You should call <code>setVisible(true)</code> on your frame after you added the components to get them rendered in your frame. See this <a href=\"https://stackoverflow.com/a/10790493/3469686\">answer</a> for more information.</p>\n"}, {"tags": [], "owner": {"reputation": 203, "user_id": 3753684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1932b130f4e0448180fc80dbb4b361a3?s=128&d=identicon&r=PG&f=1", "display_name": "Felix D.", "link": "https://stackoverflow.com/users/3753684/felix-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1452125413, "creation_date": 1452125413, "answer_id": 34645221, "question_id": 34645125, "link": "https://stackoverflow.com/questions/34645125/jswing-components-dont-appear-until-frame-is-resized/34645221#34645221", "title": "JSwing components don&#39;t appear until frame is resized", "body": "<p>After adding the elements, you may want to call <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/Component.html#revalidate()\" rel=\"nofollow\"><code>revalidate()</code></a>. Post your code for more help. </p>\n"}], "owner": {"reputation": 37, "user_id": 3029540, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1274331446/picture?type=large", "display_name": "SBM1926", "link": "https://stackoverflow.com/users/3029540/sbm1926"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "closed_date": 1452126662, "answer_count": 2, "score": 0, "last_activity_date": 1452125413, "creation_date": 1452124736, "question_id": 34645125, "link": "https://stackoverflow.com/questions/34645125/jswing-components-dont-appear-until-frame-is-resized", "closed_reason": "Duplicate", "title": "JSwing components don&#39;t appear until frame is resized", "body": "<p>bit of an issue.  I'm trying to make a JSwing frame with a label, textfield, and two buttons.  When the routine first runs, the buttons and the textframe are invisible.  When I resize the frame, the buttons and textframe appear, and remain there when I return the frame to its original size.  Any ideas why this is happening?</p>\n"}, {"tags": ["java", "android", "webview", "keyboard"], "answers": [{"comments": [{"owner": {"reputation": 12452, "user_id": 3324388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c1add2ff230213b25de9d56e8f77b97b?s=128&d=identicon&r=PG", "display_name": "Aggressor", "link": "https://stackoverflow.com/users/3324388/aggressor"}, "edited": false, "score": 0, "creation_date": 1452125675, "post_id": 34645162, "comment_id": 57036328, "body": "Thanks for the heads up I am going to look into this now"}], "tags": [], "owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "is_accepted": true, "score": 2, "last_activity_date": 1452124944, "creation_date": 1452124944, "answer_id": 34645162, "question_id": 34645043, "link": "https://stackoverflow.com/questions/34645043/onkeyup-not-firing-on-edittext-with-soft-keyboard-shown/34645162#34645162", "title": "onKeyUp not firing on EditText with Soft Keyboard shown", "body": "<p>Software keyboards rarely if ever send key events.  Only hardware keys do.  Software keyboards use commitText instead which is not handled by emulating it with hardware key events.  If you need to interact with the keyboard, you should do so by implementing InputConnection and returning your customized InputConnection class from the focused view's getInputConnection.</p>\n"}], "owner": {"reputation": 12452, "user_id": 3324388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c1add2ff230213b25de9d56e8f77b97b?s=128&d=identicon&r=PG", "display_name": "Aggressor", "link": "https://stackoverflow.com/users/3324388/aggressor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 1, "accepted_answer_id": 34645162, "answer_count": 1, "score": 2, "last_activity_date": 1452124944, "creation_date": 1452124209, "question_id": 34645043, "link": "https://stackoverflow.com/questions/34645043/onkeyup-not-firing-on-edittext-with-soft-keyboard-shown", "title": "onKeyUp not firing on EditText with Soft Keyboard shown", "body": "<p>We have a webview that requires a keyboard. There is a bug in some Android platforms that is preventing the keyboard from showing the normal way. As a result I need to show the keyboard manually (i.e. from Java).</p>\n\n<p>The issue is that because this is a webview, I don't have the <code>EditText</code> object to create the keyboard. So as a workaround I want to show the keyboard manually and pass the key inputs to the webview.</p>\n\n<p>I can show the keyboard no problem, but I am unable to get the keys being touched.</p>\n\n<p>I read up on <a href=\"http://developer.android.com/intl/es/training/keyboard-input/commands.html\" rel=\"nofollow\">intercepting onKeyDown events</a> but I cannot get it to work.</p>\n\n<p>My best attempt is this:</p>\n\n<ol>\n<li>Create my custom EditText class with an overridden <code>onKeyUp</code></li>\n<li>Have the webview call this native method and have the custom EditText class request focus</li>\n</ol>\n\n<p>My custom EditText (KeyboardText) is created but the onKeyUp is not firing. Can you advise me how exactly I can get the onKeyUp events?</p>\n\n<p>Here is my custom EditText to intercept key events.</p>\n\n<pre><code>class KeyboardText extends EditText\n{\n\n    public KeyboardText(Context context)\n    {\n\n        // THIS FIRES\n        super(context);\n        Log.d(\"\", \"Created KeyboardText\");\n\n    }\n\n    @Override\n    public boolean onKeyUp(int keyCode, KeyEvent event)\n    {\n\n        // THIS DOES NOT FIRE\n        Log.d(\"\",\"Got Key Up\");\n\n        return true;\n    }\n</code></pre>\n\n<p>Here is where I invoke the keyboard:</p>\n\n<pre><code>        KeyboardText text = new KeyboardText(cordova.getActivity());\n\n        text.setFocusable(true);\n        text.setFocusableInTouchMode(true);\n        if (text.requestFocus())\n        {\n            Log.d(\"\", \"Success\");\n            InputMethodManager manager = (InputMethodManager)cordova.getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\n            manager.showSoftInput(text, InputMethodManager.SHOW_FORCED);\n        }\n</code></pre>\n"}, {"tags": ["java", "swing", "canvas", "applet"], "comments": [{"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1452124430, "post_id": 34645022, "comment_id": 57035974, "body": "You should be calling `` before you do any custom painting"}, {"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1452124505, "post_id": 34645022, "comment_id": 57036001, "body": "The real question is, why should it paint more then one line, when you only specify a single possible direction?"}, {"owner": {"reputation": 301, "user_id": 4741191, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/227bfe2418d3a233ea3a46545cb9b5c5?s=128&d=identicon&r=PG&f=1", "display_name": "dreamPr", "link": "https://stackoverflow.com/users/4741191/dreampr"}, "reply_to_user": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1452124629, "post_id": 34645022, "comment_id": 57036039, "body": "There are 4 directions,the beginning of the line on the center of canvas"}, {"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1452124695, "post_id": 34645022, "comment_id": 57036060, "body": "What you should be doing, is maintaining a List of some sort with instructions (direction, lev), each time paintComponent is called, you should iterate over this list a paint each line. Remember, painting is destructive, you are expected to repaint the current state of the component when paintComponent is called"}, {"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1452126598, "post_id": 34645022, "comment_id": 57036550, "body": "But you are only painting ONE direction, painting is NOT cumalitive, it is destructiive"}, {"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 1, "creation_date": 1452126752, "post_id": 34645022, "comment_id": 57036595, "body": "You should have a look at <a href=\"http://www.oracle.com/technetwork/java/painting-140037.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/painting/\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> for a better understanding of how painting works"}], "answers": [{"comments": [{"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1452126720, "post_id": 34645190, "comment_id": 57036584, "body": "What happens if you have more then one line of the same direction? IHMO a POJO and a <code>List</code> would be better"}, {"owner": {"reputation": 145, "user_id": 5754793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3685a84e86bd684b906cc268662f140d?s=128&d=identicon&r=PG&f=1", "display_name": "Zsolt", "link": "https://stackoverflow.com/users/5754793/zsolt"}, "edited": false, "score": 0, "creation_date": 1465329177, "post_id": 34645190, "comment_id": 62853403, "body": "Well, I agree with MadProgrammer, but the POJO sounds like overkill for such object invented a number of times .. dreamPr Try List&lt;Dimension&gt; to keep your points in it."}], "tags": [], "owner": {"reputation": 145, "user_id": 5754793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3685a84e86bd684b906cc268662f140d?s=128&d=identicon&r=PG&f=1", "display_name": "Zsolt", "link": "https://stackoverflow.com/users/5754793/zsolt"}, "is_accepted": false, "score": 0, "last_activity_date": 1452290633, "last_edit_date": 1452290633, "creation_date": 1452125155, "answer_id": 34645190, "question_id": 34645022, "link": "https://stackoverflow.com/questions/34645022/when-drawing-multiple-lines-in-applet-it-shows-only-the-last-one/34645190#34645190", "title": "When drawing multiple lines in applet, it shows only the last one", "body": "<p>You should keep track of lines drawn already. The <code>paintComponent</code> method supposed to print (or reprint) the entire component. As far as I see you always print just 1 line, therefore you loose the previous state.</p>\n\n<p>Try to create a <code>Map&lt;Integer, Integer&gt;</code> where you store the line data and iterate through in the <code>paintComponent</code> method to draw all lines.</p>\n\n<p>The method <code>setPatt</code> may be called <code>addPatt</code> instead.</p>\n\n<p>PS: If the order matters, try <code>LinkedHashMap</code></p>\n"}], "owner": {"reputation": 301, "user_id": 4741191, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/227bfe2418d3a233ea3a46545cb9b5c5?s=128&d=identicon&r=PG&f=1", "display_name": "dreamPr", "link": "https://stackoverflow.com/users/4741191/dreampr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 640, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452290633, "creation_date": 1452124119, "last_edit_date": 1452290576, "question_id": 34645022, "link": "https://stackoverflow.com/questions/34645022/when-drawing-multiple-lines-in-applet-it-shows-only-the-last-one", "title": "When drawing multiple lines in applet, it shows only the last one", "body": "<p>I am trying to draw multiple lines by using Java applet and canvas. I have defined class Canvas:</p>\n\n<pre><code> public class Canvas extends JPanel {\n\n    private static final int RIGHT=0, LEFT=1, UP=2, DOWN=3;\n    public static final int WIDTH=600, HEIGHT=500;\n    private int direction = 0 ;                          \n    private int pixels;                             \n\n    /**\n     *  Canvas() constructor sets its size\n     */\n    public Canvas() {\n        setSize(WIDTH, HEIGHT);\n    }\n\n    public void setPatt(int pat, int lev) {\n        direction = pat;\n        pixels = lev;\n    }\n\n    public void paintComponent(Graphics g) {\n        g.setColor(getForeground());\n        switch (direction) {\n        case LEFT:  \n            drawLineLeft(g, pixels); \n            break;\n        case RIGHT:\n            drawLineRight(g, pixels);\n            break;\n        case UP:\n            drawLineUp(g, pixels);\n            break;\n        case DOWN:\n            drawLineDown(g, pixels);\n            break;\n        } \n    } \n\n    private void drawLineLeft(Graphics g, int pix){\n\n        if(pix &gt; 0){\n            Dimension d = getSize();\n            int x = d.width/2;\n            int y = d.height/2;\n           g.drawLine(x, y, x-10*pix, y);//left\n        }\n    }\n\n    private void drawLineUp(Graphics g, int pix){\n        if(pix &gt; 0){\n            Dimension d = getSize();\n            int x = d.width/2;\n            int y = d.height/2;\n            g.drawLine(x, y, x, y-10*pix);//up\n        }\n    }\n\n    private void drawLineRight(Graphics g, int pix){\n        //Graphics2D g2 = (Graphics2D) g;\n        if(pix &gt; 0){\n            Dimension d = getSize();\n            int x = d.width/2;\n            int y = d.height/2;\n\n            g.drawLine(x, y, x+10*pix, y);//right\n        }\n    }\n\n    private void drawLineDown(Graphics g, int pix){\n        if(pix &gt; 0){\n            Dimension d = getSize();\n            int x = d.width/2;\n            int y = d.height/2;\n            g.drawLine(x, y, x, y+10*pix);// down\n        }\n    }\n} \n</code></pre>\n\n<p>I also have another class where I have defined drop down list, text field and button. I can choose direction from drop down list in which line should be painted (RIGHT, LEFT, UP, DOWN - direction) and I can define how long the line will be by typing a number in text field (pixels). When the button is pushed, method <code>setPatt</code> is called and line appears in canvas:</p>\n\n<pre><code>public class TurtleApplet extends JApplet implements ActionListener\n{\n    .....\n    .....\n    .....\n\n    public void actionPerformed( ActionEvent e) \n    {\n       if(e.getSource() == drawButton){\n            int y = Integer.parseInt(pixels.getText());\n            canvas.setPatt(direction.getSelectedIndex(), Integer.parseInt(pixels.getText()));\n\n        }\n       //repaint();\n    }  \n    .....\n}\n</code></pre>\n\n<p>The problem is that when I push the button new line appears in canvas only then when I resize applet window. I tried to add <code>repaint()</code> method, this helped, but still there is another problem - how to make draw new line without losing the previous one? </p>\n\n<p>Only the last line is visible on the screen, for example, when I draw a line to the left from center (line always starts from the center of canvas) and then I want to draw a new line to the right from the center, the line first line disappears and I can see only the second one and so on.</p>\n"}, {"tags": ["java", "interface", "composition"], "comments": [{"owner": {"reputation": 13032, "user_id": 4216641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVLIh.jpg?s=128&g=1", "display_name": "Turing85", "link": "https://stackoverflow.com/users/4216641/turing85"}, "edited": false, "score": 0, "creation_date": 1452124298, "post_id": 34644999, "comment_id": 57035935, "body": "Easy solution would be... just let <code>Machine implements IMachine</code>, set <code>turnOn()</code> and <code>turnOff()</code> as <code>final</code> and let <code>Printer</code> and <code>Clock extends Machine</code>."}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "reply_to_user": {"reputation": 13032, "user_id": 4216641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVLIh.jpg?s=128&g=1", "display_name": "Turing85", "link": "https://stackoverflow.com/users/4216641/turing85"}, "edited": false, "score": 0, "creation_date": 1452125112, "post_id": 34644999, "comment_id": 57036172, "body": "@Turing85 The point with composition is to <i>not</i> use inheritance."}], "answers": [{"tags": [], "owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "is_accepted": true, "score": 4, "last_activity_date": 1618492720, "last_edit_date": 1618492720, "creation_date": 1452124999, "answer_id": 34645170, "question_id": 34644999, "link": "https://stackoverflow.com/questions/34644999/practical-use-of-composition-and-interface-together-in-java/34645170#34645170", "title": "Practical use of composition and interface together in Java?", "body": "<p>With inheritance, you'd have a base class with shared logic, and subclasses using that shared logic. Any public method of that base class is shared API.</p>\n<p>With composition, the interface defines the shared API, each implementing class (those that were subclasses before) will delegate those call to a composite class that actually has the shared logic.</p>\n<p><em>Inheritance</em></p>\n<pre><code>public abstract class Machine {\n    public void turnOn() {/*logic here*/}\n    public void turnOff() {/*logic here*/}\n}\npublic final class Heater extends Machine {\n    // heater methods here\n}\n</code></pre>\n<p><em>Composition</em></p>\n<pre><code>public interface Machine {\n    void turnOn();\n    void turnOff();\n}\nfinal class MachineImpl {\n    public void turnOn() {/*logic here*/}\n    public void turnOff() {/*logic here*/}\n}\npublic final class Heater implements Machine {\n    private MachineImpl impl = new MachineImpl();\n    @Override public void turnOn() { this.impl.turnOn(); }\n    @Override public void turnOff() { this.impl.turnOff(); }\n    // heater methods here\n}\n</code></pre>\n<p>Users of <code>Machine</code> will still see the same public API, and users of <code>Heater</code> will still see the same public API, but the logic has been relocated.</p>\n<p>This allows <code>Heater</code> to implement multiple independent &quot;features&quot;, something that wasn't possible when using inheritance.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5741957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sbogr.jpg?s=128&g=1", "display_name": "Chris Remshaw", "link": "https://stackoverflow.com/users/5741957/chris-remshaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1452126080, "last_edit_date": 1452126080, "creation_date": 1452125699, "answer_id": 34645272, "question_id": 34644999, "link": "https://stackoverflow.com/questions/34644999/practical-use-of-composition-and-interface-together-in-java/34645272#34645272", "title": "Practical use of composition and interface together in Java?", "body": "<p>Composition is generally referred to in a \"has a\" relationship.  In this case, composition could be used if you had the concept of a PowerSwitch object, for instance.  This would be fulfilled in the notice that a Machine \"has a\" PowerSwitch.</p>\n\n<p>Inheritance is more often referred to as an \"is a\" relationship, as in your Printer \"is a\" Machine case.</p>\n\n<p>Using a PowerSwitch object, you could encompass the functionality for both a Printer and a Clock, possibly in an AbstractMachine</p>\n\n<pre><code>public abstract class AbstractMachine implements IMachine {\n  private PowerSwitch machinePowerSwitch;\n\n  public void turnOff() {\n    machinePowerSwitch.turnOff();\n  }\n\n  public void turnOn() {\n    machinePowerSwitch.turnOn();\n  }\n\n  public void isOn() {\n    return machinePowerSwitch.getPowerState();\n  }\n}\n</code></pre>\n\n<p>Or something similar to that.  Printer and Clock could then both extend AbstractMachine.</p>\n\n<p>EDIT: Re-reading the question I see you want composition INSTEAD OF inheritance (I was reading it as you were wanting to use both).  In that case, simply use the powerswitch directly in the Printer/Clock classes.</p>\n"}], "owner": {"reputation": 183, "user_id": 5700205, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/b41d70d9b7c3d2b6e72f9d4dfea61d2a?s=128&d=identicon&r=PG&f=1", "display_name": "rrene", "link": "https://stackoverflow.com/users/5700205/rrene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 2, "accepted_answer_id": 34645170, "answer_count": 2, "score": 1, "last_activity_date": 1618492720, "creation_date": 1452124000, "last_edit_date": 1452127920, "question_id": 34644999, "link": "https://stackoverflow.com/questions/34644999/practical-use-of-composition-and-interface-together-in-java", "title": "Practical use of composition and interface together in Java?", "body": "<p>I am having a difficulty in understanding how to use composition and interface together to favor composition instead of inheritance? An example could be: </p>\n\n<p>Interface:</p>\n\n<pre><code>public interface IMachine {\n    void TurnOn();\n    void TurnOff();\n}\n</code></pre>\n\n<hr>\n\n<p>Machine Class is the parent Class of Printer Class </p>\n\n<pre><code>public class Machine {\n\n    protected boolean isOn;\n\n    public Machine(boolean isOn) {\n        this.isOn = isOn;\n    }\n\n    public void TurnOn() {\n        isOn = true;\n        System.out.println(\"Machine is on !\");\n    }\n\n    public void TurnOff() {\n        isOn = false;\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<p>Now if I create a Printer Class which implements IMachine interface, it will implement the methods of the IMachine interface. But let's say I create a Clock Class that implements IMachine interface, then I have to implement those methods again.Is there a more efficient way where we use composition and interface and delegate the methods to Machine class?</p>\n"}, {"tags": ["java", "intellij-idea", "jar"], "comments": [{"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1452124136, "post_id": 34644966, "comment_id": 57035885, "body": "What&#39;s the code for loading your images? Looks like the image can&#39;t be found/read for some reason"}, {"owner": {"reputation": 1020, "user_id": 3850821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gi67d.jpg?s=128&g=1", "display_name": "Alberto Anderick Jr", "link": "https://stackoverflow.com/users/3850821/alberto-anderick-jr"}, "edited": false, "score": 0, "creation_date": 1452124278, "post_id": 34644966, "comment_id": 57035927, "body": "It&#39;s impossible to know what is wrong without seeing some code, but I would try to check the images path or any config/argument that you need to start the app. Also is a good idea to debug the class BufferedImageLoader line 15, to understand which input is been sent as null to the ImageIO."}, {"owner": {"reputation": 1809, "user_id": 4126391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/50d0f19672e279b815460fc0063901c5?s=128&d=identicon&r=PG&f=1", "display_name": "childofsoong", "link": "https://stackoverflow.com/users/4126391/childofsoong"}, "edited": false, "score": 0, "creation_date": 1452124420, "post_id": 34644966, "comment_id": 57035970, "body": "<code>IllegalArgumentException</code> is not a checked exception (it extends <code>RuntimeException</code>), so the fact that it compiles does not mean it will work.  You&#39;re passing an <code>InputStream</code> to <code>ImageIO.read()</code> that is <code>null</code>, which means you probably forgot to initialize it."}, {"owner": {"reputation": 265, "user_id": 4380543, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d051cc16be5cd42a49a45eccfefb2d02?s=128&d=identicon&r=PG&f=1", "display_name": "Levenlol", "link": "https://stackoverflow.com/users/4380543/levenlol"}, "edited": false, "score": 0, "creation_date": 1452125708, "post_id": 34644966, "comment_id": 57036341, "body": "the fact is that if i run inside the editor everything works fine, if i create and run the jar i got that error, i will put bufferedImageloader code in the question."}], "answers": [{"comments": [{"owner": {"reputation": 265, "user_id": 4380543, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d051cc16be5cd42a49a45eccfefb2d02?s=128&d=identicon&r=PG&f=1", "display_name": "Levenlol", "link": "https://stackoverflow.com/users/4380543/levenlol"}, "edited": false, "score": 0, "creation_date": 1452125761, "post_id": 34645115, "comment_id": 57036352, "body": "i got those error only if i run the game for the jar, if i compile and run from the editor everything works fine."}], "tags": [], "owner": {"reputation": 203, "user_id": 3753684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1932b130f4e0448180fc80dbb4b361a3?s=128&d=identicon&r=PG&f=1", "display_name": "Felix D.", "link": "https://stackoverflow.com/users/3753684/felix-d"}, "is_accepted": false, "score": -1, "last_activity_date": 1452126126, "last_edit_date": 1495542203, "creation_date": 1452124656, "answer_id": 34645115, "question_id": 34644966, "link": "https://stackoverflow.com/questions/34644966/cant-create-a-runnable-jar-with-intellij-idea/34645115#34645115", "title": "Can&#39;t create a runnable jar with Intellij Idea", "body": "<p>As far as I can see the problem is not in the jar export, but in your code: </p>\n\n<p>In your method <code>BufferedImageLoader.loadImage(String path)</code> (in the file BufferedImageLoader.java at line 15) you call <code>ImageIO.read(InputStream input)</code>. And you pass it a null object returned by <code>Class.getResourceAsStream(path)</code>, and as the <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/imageio/ImageIO.html#read(java.io.InputStream)\" rel=\"nofollow noreferrer\">docs for <code>ImageIO.read(InputStream input)</code></a> state: </p>\n\n<blockquote>\n  <p>Throws: IllegalArgumentException - if input is null.</p>\n</blockquote>\n\n<p>This causes a IllegalArgumentException. I recommend using this code:</p>\n\n<pre><code>public class BufferedImageLoader {\n\n    private BufferedImage image = null;\n\n    public BufferedImage loadImage(String path) {\n\n        try {\n            return image = ImageIO.read(BufferedImageLoader.class.getResourceAsStream(path));\n        } catch (IOException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/a/16571046/3753684\">this post</a> for more info.</p>\n"}], "owner": {"reputation": 265, "user_id": 4380543, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d051cc16be5cd42a49a45eccfefb2d02?s=128&d=identicon&r=PG&f=1", "display_name": "Levenlol", "link": "https://stackoverflow.com/users/4380543/levenlol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "closed_date": 1452126477, "answer_count": 1, "score": 0, "last_activity_date": 1452191339, "creation_date": 1452123797, "last_edit_date": 1452191339, "question_id": 34644966, "link": "https://stackoverflow.com/questions/34644966/cant-create-a-runnable-jar-with-intellij-idea", "closed_reason": "Duplicate", "title": "Can&#39;t create a runnable jar with Intellij Idea", "body": "<p>Hi I've made two programs: one is a level editor and the other one is a mario clone game.</p>\n\n<p>I did: project structure-> artifacts and i've created a jar for both application.</p>\n\n<p>Now if i run the level editor's jar works without any problem.\nIf i run the game's jar it doesn't start and i get: </p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException: input == null!\n    at javax.imageio.ImageIO.read(ImageIO.java:1348)\n    at com.platform.game.window.BufferedImageLoader.loadImage(BufferedImageLoader.java:15)\n    at com.platform.selectlevel.LevelsFinder.&lt;init&gt;(LevelsFinder.java:60)\n    at com.platform.game.window.Menu.&lt;init&gt;(Menu.java:72)\n    at com.platform.game.window.Window.addMenu(Window.java:55)\n    at com.platform.game.window.Window.&lt;init&gt;(Window.java:31)\n    at com.platform.game.window.Game.main(Game.java:272)\n</code></pre>\n\n<p>if i compile inside the editor it works good, how can i fix that ? any tips ?</p>\n\n<p>BufferedImageLoader:</p>\n\n<pre><code>public class BufferedImageLoader {\n\n    private BufferedImage image = null;\n\n    public BufferedImage loadImage(String path){\n\n        try {\n            image = ImageIO.read(getClass().getResourceAsStream(path));\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n            return null;\n        }\n        return image;\n    }\n}\n</code></pre>\n\n<p>i got the exception only when i run the game from a jar and not from the IDE, just would like to know why? somebody knows that ?</p>\n"}, {"tags": ["java", "apache", "httpclient", "resteasy"], "comments": [{"owner": {"reputation": 20552, "user_id": 460557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=128&d=identicon&r=PG", "display_name": "Jorge Campos", "link": "https://stackoverflow.com/users/460557/jorge-campos"}, "edited": false, "score": 0, "creation_date": 1452124378, "post_id": 34644947, "comment_id": 57035957, "body": "I&#39;m not familiarized with the <code>@GZIP</code> annotation so this is just a thing that may be important or probably not. Beeing a zipped data (in post), wouldn&#39;t the parameter for the method be some sort of Stream? As I said, just curios question here..."}, {"owner": {"reputation": 20552, "user_id": 460557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=128&d=identicon&r=PG", "display_name": "Jorge Campos", "link": "https://stackoverflow.com/users/460557/jorge-campos"}, "edited": false, "score": 0, "creation_date": 1452124523, "post_id": 34644947, "comment_id": 57036005, "body": "I find these posts that may be relevant: <a href=\"http://stackoverflow.com/questions/7153484/gzip-post-request-with-httpclient-in-java\" title=\"gzip post request with httpclient in java\">stackoverflow.com/questions/7153484/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/1450151/can-i-compress-http-requests-using-gzip\" title=\"can i compress http requests using gzip\">stackoverflow.com/questions/1450151/&hellip;</a>"}, {"owner": {"reputation": 25, "user_id": 5252935, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-lINx9daRQKg/AAAAAAAAAAI/AAAAAAAADAM/u_P9ZDZEqHg/photo.jpg?sz=128", "display_name": "Marcus Vinicius Bianchi Santos", "link": "https://stackoverflow.com/users/5252935/marcus-vinicius-bianchi-santos"}, "reply_to_user": {"reputation": 20552, "user_id": 460557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=128&d=identicon&r=PG", "display_name": "Jorge Campos", "link": "https://stackoverflow.com/users/460557/jorge-campos"}, "edited": false, "score": 0, "creation_date": 1452124639, "post_id": 34644947, "comment_id": 57036041, "body": "We tried the solution on both posts and got nothing."}, {"owner": {"reputation": 6056, "user_id": 560435, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/208dff887375fd96d5f642a67204306e?s=128&d=identicon&r=PG", "display_name": "Robert Rowntree", "link": "https://stackoverflow.com/users/560435/robert-rowntree"}, "edited": false, "score": 0, "creation_date": 1452212880, "post_id": 34644947, "comment_id": 57080999, "body": "&#39;compressed post&#39; can mean a couple things depending on Request OR Response or BOTH.  ie should an interceptor gzip the request body&#39;s outStream OR should an interceptro gunzip the response&#39;s inStream OR both.. look into wrapping the needed interceptors around your protocol for http connection."}, {"owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "edited": false, "score": 0, "creation_date": 1452313460, "post_id": 34644947, "comment_id": 57125714, "body": "With plain JAX-RS client or RESTeasy client, try to register <a href=\"https://github.com/resteasy/Resteasy/blob/master/jaxrs/resteasy-jaxrs/src/main/java/org/jboss/resteasy/plugins/interceptors/encoding/GZIPEncodingInterceptor.java\" rel=\"nofollow noreferrer\">this interceptor</a>, and setting the <code>Content-Encoding</code> header on the request to <code>gzip</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5754966, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/c228bf8f7473ab990d34f6fc08c32380?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/5754966/brad"}, "edited": false, "score": 0, "creation_date": 1452127071, "post_id": 34645435, "comment_id": 57036657, "body": "Disregard. You meant client side request submission, not server side request processing."}], "tags": [], "owner": {"reputation": 1, "user_id": 5754966, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/c228bf8f7473ab990d34f6fc08c32380?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/5754966/brad"}, "is_accepted": false, "score": 0, "last_activity_date": 1452182984, "last_edit_date": 1452182984, "creation_date": 1452126797, "answer_id": 34645435, "question_id": 34644947, "link": "https://stackoverflow.com/questions/34644947/how-to-compress-a-http-post-body-using-gzip/34645435#34645435", "title": "How to compress a Http Post Body using GZIP", "body": "<p>If using Tomcat why not add a RequestFilter that will pre-process received requests that contain header Content-Encoding: gzip and decompress it before the rest of the filter chain handles it?</p>\n\n<p>EDIT:\nI'm guessing your third option may actually have worked (snoop the network to verify), the issue was you got <strong>403 - Forbidden</strong> response from the server.  That's a problem with authorization not with the URL, request encoding, or anything else.  The GZIP might actually be working for you right now.</p>\n\n<p>EDIT:\nYour latest output for HTTP response code 400 - Bad Request shows Content-Type: text/html.  The Controller is expecting Content-Type: application/json, so the client did not set the ContentType as required by the Controller.  Recheck your usage and config of the client code.</p>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 5252935, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-lINx9daRQKg/AAAAAAAAAAI/AAAAAAAADAM/u_P9ZDZEqHg/photo.jpg?sz=128", "display_name": "Marcus Vinicius Bianchi Santos", "link": "https://stackoverflow.com/users/5252935/marcus-vinicius-bianchi-santos"}, "is_accepted": true, "score": 0, "last_activity_date": 1458302460, "creation_date": 1458302460, "answer_id": 36083817, "question_id": 34644947, "link": "https://stackoverflow.com/questions/34644947/how-to-compress-a-http-post-body-using-gzip/36083817#36083817", "title": "How to compress a Http Post Body using GZIP", "body": "<p>In the end I used the Resteasy framework for server and client to implement the GZIP compression. </p>\n\n<p>Server side: \n<a href=\"https://docs.jboss.org/resteasy/docs/2.3.0.GA/userguide/html/gzip.html\" rel=\"nofollow\">https://docs.jboss.org/resteasy/docs/2.3.0.GA/userguide/html/gzip.html</a></p>\n\n<p>Client Side:\n<a href=\"https://docs.jboss.org/resteasy/docs/2.2.1.GA/userguide/html/RESTEasy_Client_Framework.html\" rel=\"nofollow\">https://docs.jboss.org/resteasy/docs/2.2.1.GA/userguide/html/RESTEasy_Client_Framework.html</a> </p>\n\n<p>That worked for me.</p>\n"}], "owner": {"reputation": 25, "user_id": 5252935, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-lINx9daRQKg/AAAAAAAAAAI/AAAAAAAADAM/u_P9ZDZEqHg/photo.jpg?sz=128", "display_name": "Marcus Vinicius Bianchi Santos", "link": "https://stackoverflow.com/users/5252935/marcus-vinicius-bianchi-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3643, "favorite_count": 0, "accepted_answer_id": 36083817, "answer_count": 2, "score": 0, "last_activity_date": 1458302460, "creation_date": 1452123687, "last_edit_date": 1452161442, "question_id": 34644947, "link": "https://stackoverflow.com/questions/34644947/how-to-compress-a-http-post-body-using-gzip", "title": "How to compress a Http Post Body using GZIP", "body": "<p>My team and I have a Tomcat server running a Restfull webservice, implemented using RestEasy:</p>\n\n<pre><code>@POST\n@GZIP\n@Path(\"/capture\")   \n@Consumes(MediaType.APPLICATION_JSON)\nResponse RecieveData(@GZIP RecievingData recievingData);\n</code></pre>\n\n<p>We need to make compressed post to this service. The problem is we are not finding an implementation that works.</p>\n\n<ul>\n<li>We tried using interceptors:\n<a href=\"https://hc.apache.org/httpcomponents-client-4.2.x/httpclient/examples/org/apache/http/examples/client/ClientGZipContentCompression.java\" rel=\"nofollow\">https://hc.apache.org/httpcomponents-client-4.2.x/httpclient/examples/org/apache/http/examples/client/ClientGZipContentCompression.java</a>. But we were unable to capture the POST request Body and compress it.</li>\n<li><p>We tried using the RestEasy client but it doesn\u00b4t seems to be compreesing the body of the Post Request: www.posttestserver.com/data/2016/01/06/15.33.391016591335</p></li>\n<li><p>Finally we tried a customized class: <a href=\"https://gist.github.com/takumakei/913067\" rel=\"nofollow\">https://gist.github.com/takumakei/913067</a>. But we got a 400 error on the request:</p></li>\n</ul>\n\n<blockquote>\n  <p>HTTP/1.1 400 Bad Request [Content-Encoding: gzip, Content-Type:\n  text/html; charset=UTF-8, Date: Thu, 07 Jan 2016 10:07:05 GMT, Server:\n  Apache-Coyote/1.1, Content-Length: 66, Connection: keep-alive]</p>\n</blockquote>\n\n<p>We are out of ideas and this supose to be a simple function for an HTTP Client. Any ideas?</p>\n\n<p>OBS: Here is the RestEasy Proxy:</p>\n\n<pre><code>@POST   \n@GZIP\n@Consumes(MediaType.APPLICATION_JSON)\npublic Response saveData(@GZIP RecievingData customer);\n</code></pre>\n\n<p>EDIT: Got some changes in the Firewall and the 3rd method changed to an error 400.</p>\n"}, {"tags": ["java", "android-intent", "android-studio", "android-bundle"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 5750323, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0df1fbb67c927f112c18abf039931113?s=128&d=identicon&r=PG&f=1", "display_name": "Jessica Adams", "link": "https://stackoverflow.com/users/5750323/jessica-adams"}, "edited": false, "score": 0, "creation_date": 1452128146, "post_id": 34645455, "comment_id": 57036938, "body": "But in my first activity (Quiz) would i not have to first do <code>Bundle bundle1 = new Bundle();</code>?. And also would I actually have to specifically pass and receive it after each activity or can i just do it all at once at the final activity? because I don&#39;t know what you meant by receive it in the next activity, I&#39;m not sure how to exactly do that :$ sorry I&#39;m a noob. Thank you"}, {"owner": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "reply_to_user": {"reputation": 27, "user_id": 5750323, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0df1fbb67c927f112c18abf039931113?s=128&d=identicon&r=PG&f=1", "display_name": "Jessica Adams", "link": "https://stackoverflow.com/users/5750323/jessica-adams"}, "edited": false, "score": 0, "creation_date": 1452128287, "post_id": 34645455, "comment_id": 57036982, "body": "You&#39;re correct, in the first activity, you would want a new <code>Bundle</code>. After that, you&#39;ll be grabbing the bundle you passed into the current activity, adding a value to it, and passing the same bundle on to the next activity. This way, when you come to the end, the bundle has everything you added across activities."}, {"owner": {"reputation": 27, "user_id": 5750323, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0df1fbb67c927f112c18abf039931113?s=128&d=identicon&r=PG&f=1", "display_name": "Jessica Adams", "link": "https://stackoverflow.com/users/5750323/jessica-adams"}, "edited": false, "score": 0, "creation_date": 1452128724, "post_id": 34645455, "comment_id": 57037108, "body": "Oh I see :) but would I also have to add a code in order for it to receive it in the next activity or will it automatically do so by doing <code>Bundle bundle = getIntent().getExtras();</code> , because I&#39;m still getting only the last value at the end"}, {"owner": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "reply_to_user": {"reputation": 27, "user_id": 5750323, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0df1fbb67c927f112c18abf039931113?s=128&d=identicon&r=PG&f=1", "display_name": "Jessica Adams", "link": "https://stackoverflow.com/users/5750323/jessica-adams"}, "edited": false, "score": 0, "creation_date": 1452129078, "post_id": 34645455, "comment_id": 57037209, "body": "That&#39;s the nice thing about this approach. Android does that for you! It saves the intent when the activity receives it, and you can access it at any time with <code>getIntent()</code>."}, {"owner": {"reputation": 27, "user_id": 5750323, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0df1fbb67c927f112c18abf039931113?s=128&d=identicon&r=PG&f=1", "display_name": "Jessica Adams", "link": "https://stackoverflow.com/users/5750323/jessica-adams"}, "edited": false, "score": 0, "creation_date": 1452129882, "post_id": 34645455, "comment_id": 57037428, "body": "so now i have <code>} else{                     Intent intent = new Intent(getApplicationContext(), Quiz6.class);                    &#47;&#47; Bundle bundle5 = new Bundle();                     Bundle bundle = getIntent().getExtras();                     int id = rg5.getCheckedRadioButtonId();                     RadioButton radioButton = (RadioButton) findViewById(id);                     bundle.putString(&quot;rg5&quot;, radioButton.getText().toString());                     intent.putExtras(bundle);</code> and in first activity I have <code>Bundle bundle = new Bundle();</code> instead of the getIntent, still same issue tho :("}, {"owner": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "reply_to_user": {"reputation": 27, "user_id": 5750323, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0df1fbb67c927f112c18abf039931113?s=128&d=identicon&r=PG&f=1", "display_name": "Jessica Adams", "link": "https://stackoverflow.com/users/5750323/jessica-adams"}, "edited": false, "score": 0, "creation_date": 1452185343, "post_id": 34645455, "comment_id": 57066727, "body": "Take a look at the edits I made. Specifically, make sure that the right text is getting set to the right text views."}], "tags": [], "owner": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "is_accepted": true, "score": 0, "last_activity_date": 1452185173, "last_edit_date": 1452185173, "creation_date": 1452126957, "answer_id": 34645455, "question_id": 34644942, "link": "https://stackoverflow.com/questions/34644942/android-studio-passing-multiple-values-using-intent-provides-only-1-value/34645455#34645455", "title": "Android Studio: Passing multiple values using intent PROVIDES ONLY 1 VALUE?", "body": "<p>An activity's intent only has one <code>Bundle</code> associated with it. Thus, you are only passing the last bundle to your final activity, the others are passed to the immediately following activity instead. You can fix this issue by doing </p>\n\n<pre><code>Bundle bundle = getIntent().getExtras(); //this gets the current activity's extras\nRadioButton radioButton = (RadioButton) findViewById(id);\nbundle.putString(\"rg1\", radioButton.getText().toString());\nintent.putExtras(bundle);\nstartActivity(intent);\n</code></pre>\n\n<p>instead of creating a new bundle each time as you do now. then pass this bundle along to the following activity. That way, each time you get a new answer, you are adding it to your bundle of answers, rather than creating a new bundle with only one item each time.</p>\n\n<p>Then in your final activity, you only have to get the one bundle, and can pull all the answers out of it. NOTE: You'll want to make sure that your'e updating the correct textview with the correct text. In your question, <code>textView</code> is the only view that gets updated, 6 times, and the others do not get updated at all.</p>\n\n<pre><code>Bundle bundle = getIntent().getExtras();\n\nTextView textView = (TextView)findViewById(R.id.txt);\ntextView.setText(bundle.getCharSequence(\"rg\"));\n\nTextView textView1 = (TextView)findViewById(R.id.txt1);\ntextView1.setText(bundle.getCharSequence(\"rg1\"));\n\nTextView textView2 = (TextView)findViewById(R.id.txt2);\ntextView2.setText(bundle.getCharSequence(\"rg2\"));\n\nTextView textView3 = (TextView)findViewById(R.id.txt3);\ntextView3.setText(bundle.getCharSequence(\"rg3\"));\n\nTextView textView4 = (TextView)findViewById(R.id.txt4);\ntextView4.setText(bundle.getCharSequence(\"rg4\"));\n\nTextView textView5 = (TextView)findViewById(R.id.txt5);\ntextView5.setText(bundle.getCharSequence(\"rg5\"));\n\nTextView textView6 = (TextView)findViewById(R.id.txt6);\ntextView6.setText(bundle.getCharSequence(\"rg6\"));\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 5750323, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0df1fbb67c927f112c18abf039931113?s=128&d=identicon&r=PG&f=1", "display_name": "Jessica Adams", "link": "https://stackoverflow.com/users/5750323/jessica-adams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 665, "favorite_count": 2, "accepted_answer_id": 34645455, "answer_count": 1, "score": 1, "last_activity_date": 1452185173, "creation_date": 1452123646, "last_edit_date": 1452124289, "question_id": 34644942, "link": "https://stackoverflow.com/questions/34644942/android-studio-passing-multiple-values-using-intent-provides-only-1-value", "title": "Android Studio: Passing multiple values using intent PROVIDES ONLY 1 VALUE?", "body": "<p>I am trying to make a quiz where users choose an answer in each activity, and the final page provides an answer based on the chosen options. Therefore, I want to pass these values to the final activity, but only the last chosen value seems to show.</p>\n\n<p>First Activity:</p>\n\n<pre><code>public class Quiz extends Activity {\n\nButton btn;\nRadioGroup rg;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.quiz);\n\n    btn = (Button) findViewById(R.id.nextBtn);\n    rg= (RadioGroup) findViewById(R.id.rg);\n\n    btn.setOnClickListener(new View.OnClickListener() {\n        @Override\n\n        public void onClick(View v) {\n            if (rg.getCheckedRadioButtonId() == -1) {\n\n                Toast.makeText(getApplicationContext(), \"Please select an answer\",\n                        Toast.LENGTH_SHORT).show();\n            } else{\n            Intent intent = new Intent(getApplicationContext(), Quiz1.class);\n            Bundle bundle = new Bundle();\n            int id = rg.getCheckedRadioButtonId();\n            RadioButton radioButton = (RadioButton) findViewById(id);\n            bundle.putString(\"rg\", radioButton.getText().toString());\n            intent.putExtras(bundle);\n            startActivity(intent);\n\n        }\n\n        }\n\n    });\n  }\n}\n</code></pre>\n\n<p>Second Activity:</p>\n\n<pre><code>public class Quiz1 extends Activity {\n\nButton btn;\nRadioGroup rg1;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.quiz1);\n\n    btn = (Button) findViewById(R.id.nextBtn1);\n    rg1= (RadioGroup) findViewById(R.id.rg1);\n\n    btn.setOnClickListener(new View.OnClickListener() {\n        @Override\n\n        public void onClick(View v) {\n            if (rg1.getCheckedRadioButtonId() == -1) {\n\n                Toast.makeText(getApplicationContext(), \"Please select an answer\",\n                        Toast.LENGTH_SHORT).show();\n            } else{\n                Intent intent1 = new Intent(getApplicationContext(), Quiz2.class);\n                Bundle bundle1 = new Bundle();\n                int id = rg1.getCheckedRadioButtonId();\n                RadioButton radioButton = (RadioButton) findViewById(id);\n                bundle1.putString(\"rg1\", radioButton.getText().toString());\n                intent1.putExtras(bundle1);\n                startActivity(intent1);\n\n            }\n\n        }\n\n    });\n  }\n}\n</code></pre>\n\n<p>Now this follows for a total of 7 activities.. not including the final activity \nHere is the 7ths (called Quiz6) activity:</p>\n\n<pre><code>public class Quiz6 extends Activity {\n\nButton btn;\nRadioGroup rg6;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.quiz6);\n\n\n    btn = (Button) findViewById(R.id.nextBtn6);\n    rg6= (RadioGroup) findViewById(R.id.rg6);\n\n    btn.setOnClickListener(new View.OnClickListener() {\n        @Override\n\n        public void onClick(View v) {\n            if (rg6.getCheckedRadioButtonId() == -1) {\n\n                Toast.makeText(getApplicationContext(), \"Please select an answer\",\n                        Toast.LENGTH_SHORT).show();\n            } else{\n                Intent intent6 = new Intent(getApplicationContext(), Final1.class);\n                Bundle bundle6 = new Bundle();\n                int id = rg6.getCheckedRadioButtonId();\n                RadioButton radioButton = (RadioButton) findViewById(id);\n                bundle6.putString(\"rg6\", radioButton.getText().toString());\n                intent6.putExtras(bundle6);\n                startActivity(intent6);\n\n            }\n\n        }\n\n    });\n  }\n}\n</code></pre>\n\n<p>You get the idea :)</p>\n\n<p>Here is the FINAL activity (called Final1) here the results are show</p>\n\n<p>here is the code</p>\n\n<pre><code>public class Final1 extends Activity {\n\nButton btn;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.final1);\n\n    Bundle bundle = getIntent().getExtras();\n\n    TextView textView = (TextView)findViewById(R.id.txt);\n    textView.setText(bundle.getCharSequence(\"rg\"));\n\n    Bundle bundle1 = getIntent().getExtras();\n    TextView textView1 = (TextView)findViewById(R.id.txt1);\n    textView.setText(bundle1.getCharSequence(\"rg1\"));\n\n    Bundle bundle2 = getIntent().getExtras();\n    TextView textView2 = (TextView)findViewById(R.id.txt2);\n    textView.setText(bundle2.getCharSequence(\"rg2\"));\n\n    Bundle bundle3 = getIntent().getExtras();\n    TextView textView3 = (TextView)findViewById(R.id.txt3);\n    textView.setText(bundle3.getCharSequence(\"rg3\"));\n\n    Bundle bundle4 = getIntent().getExtras();\n    TextView textView4 = (TextView)findViewById(R.id.txt4);\n    textView.setText(bundle4.getCharSequence(\"rg4\"));\n\n    Bundle bundle5 = getIntent().getExtras();\n    TextView textView5 = (TextView)findViewById(R.id.txt5);\n    textView.setText(bundle5.getCharSequence(\"rg5\"));\n\n    Bundle bundle6 = getIntent().getExtras();\n    TextView textView6 = (TextView)findViewById(R.id.txt6);\n    textView.setText(bundle6.getCharSequence(\"rg6\"));\n\n    btn = (Button)findViewById(R.id.restartBtn);\n\n    btn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent in = new Intent(v.getContext(), Quiz.class);\n            startActivityForResult(in, 0);\n        }\n    });\n\n  }\n\n}\n</code></pre>\n\n<p>What ends up happening once I run the program is that only \"textView\" ends up changing to the chosen choice on the activity right before the final activity, shown above</p>\n\n<p>Any help is appreciated, thanks lots &lt;3</p>\n"}, {"tags": ["java", "android"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1452123146, "post_id": 34644835, "comment_id": 57035540, "body": "I don&#39;t recall anything in the Android SDK, but there are <a href=\"http://android-arsenal.com/tag/57\" rel=\"nofollow noreferrer\">plenty of logging libraries for Android</a>."}, {"owner": {"reputation": 3006, "user_id": 4307644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5a0ad436fd74b40a789d43682b223205?s=128&d=identicon&r=PG", "display_name": "MeetTitan", "link": "https://stackoverflow.com/users/4307644/meettitan"}, "edited": false, "score": 0, "creation_date": 1452123721, "post_id": 34644835, "comment_id": 57035748, "body": "Sounds like one class, with a couple of static methods. It would be easy to implement yourself."}], "answers": [{"tags": [], "owner": {"reputation": 3277, "user_id": 2027272, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/HgKEm.jpg?s=128&g=1", "display_name": "rupesh jain", "link": "https://stackoverflow.com/users/2027272/rupesh-jain"}, "is_accepted": false, "score": -1, "last_activity_date": 1452536284, "last_edit_date": 1452536284, "creation_date": 1452129041, "answer_id": 34645756, "question_id": 34644835, "link": "https://stackoverflow.com/questions/34644835/logging-to-disk-in-android-like-circular-or-ring-buffer/34645756#34645756", "title": "Logging to disk in android like circular or ring buffer", "body": "<p>Have a look at this class <a href=\"http://androidxref.com/6.0.0_r1/xref/packages/apps/Email/provider_src/com/android/email/mail/transport/DiscourseLogger.java\" rel=\"nofollow\">DiscourseLogger</a>.We used in many of our projects. You will need to modify it but it is a good starting point.</p>\n\n<pre><code>    /*\n * Copyright (C) 2010 The Android Open Source Project\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\npackage com.android.email.mail.transport;\n\nimport com.android.emailcommon.Logging;\nimport com.android.mail.utils.LogUtils;\n\nimport java.util.ArrayList;\n\n/**\n * A class to keep last N of lines sent to the server and responses received from the server.\n * They are sent to logcat when {@link #logLastDiscourse} is called.\n *\n * &lt;p&gt;This class is used to log the recent network activities when a response parser crashes.\n */\npublic class DiscourseLogger {\n    private final int mBufferSize;\n    private String[] mBuffer;\n    private int mPos;\n    private final StringBuilder mReceivingLine = new StringBuilder(100);\n\n    public DiscourseLogger(int bufferSize) {\n        mBufferSize = bufferSize;\n        initBuffer();\n    }\n\n    private void initBuffer() {\n        mBuffer = new String[mBufferSize];\n    }\n\n    /** Add a single line to {@link #mBuffer}. */\n    private void addLine(String s) {\n        mBuffer[mPos] = s;\n        mPos++;\n        if (mPos &gt;= mBufferSize) {\n            mPos = 0;\n        }\n    }\n\n    private void addReceivingLineToBuffer() {\n        if (mReceivingLine.length() &gt; 0) {\n            addLine(mReceivingLine.toString());\n            mReceivingLine.delete(0, Integer.MAX_VALUE);\n        }\n    }\n\n    /**\n     * Store a single byte received from the server in {@link #mReceivingLine}.  When LF is\n     * received, the content of {@link #mReceivingLine} is added to {@link #mBuffer}.\n     */\n    public void addReceivedByte(int b) {\n        if (0x20 &lt;= b &amp;&amp; b &lt;= 0x7e) { // Append only printable ASCII chars.\n            mReceivingLine.append((char) b);\n        } else if (b == '\\n') { // LF\n            addReceivingLineToBuffer();\n        } else if (b == '\\r') { // CR\n        } else {\n            final String hex = \"00\" + Integer.toHexString(b);\n            mReceivingLine.append(\"\\\\x\" + hex.substring(hex.length() - 2, hex.length()));\n        }\n    }\n\n    /** Add a line sent to the server to {@link #mBuffer}. */\n    public void addSentCommand(String command) {\n        addLine(command);\n    }\n\n    /** @return the contents of {@link #mBuffer} as a String array. */\n    /* package for testing */ String[] getLines() {\n        addReceivingLineToBuffer();\n\n        ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\n        final int start = mPos;\n        int pos = mPos;\n        do {\n            String s = mBuffer[pos];\n            if (s != null) {\n                list.add(s);\n            }\n            pos = (pos + 1) % mBufferSize;\n        } while (pos != start);\n\n        String[] ret = new String[list.size()];\n        list.toArray(ret);\n        return ret;\n    }\n\n    /**\n     * Log the contents of the {@link mBuffer}, and clears it out.  (So it's okay to call this\n     * method successively more than once.  There will be no duplicate log.)\n     */\n    public void logLastDiscourse() {\n        String[] lines = getLines();\n        if (lines.length == 0) {\n            return;\n        }\n\n        LogUtils.w(Logging.LOG_TAG, \"Last network activities:\");\n        for (String r : getLines()) {\n            LogUtils.w(Logging.LOG_TAG, \"%s\", r);\n        }\n        initBuffer();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13046, "user_id": 1185422, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d63ba4b616ada43ff66b68fbb4a98c65?s=128&d=identicon&r=PG", "display_name": "Ahmed", "link": "https://stackoverflow.com/users/1185422/ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1004, "favorite_count": 1, "closed_date": 1452137583, "answer_count": 1, "score": 5, "last_activity_date": 1452536284, "creation_date": 1452123017, "last_edit_date": 1452217643, "question_id": 34644835, "link": "https://stackoverflow.com/questions/34644835/logging-to-disk-in-android-like-circular-or-ring-buffer", "closed_reason": "Not suitable for this site", "title": "Logging to disk in android like circular or ring buffer", "body": "<p>I need to be able to write logs to disk so that for debugging purposes it can be sent to me by the user. If I use the Log class in android it appears to only have the ability to write to logcat and logcat is not so useful as the relevant logs can disappear after sometime. So for me its important that logs are written to disk and can be recovered later anytime. Therefore I require Logcat like functionality (ring buffer of limited size) but being persisted to disk to persist across App crashes and devices restarts.</p>\n\n<p>Is there any existing class in android that can help me </p>\n\n<ul>\n<li>write Logs to the disk, </li>\n<li>Is thread safe, </li>\n<li>and implements some kind of ring buffer on disk (so that the log file can not become more than a predefined size and always have most recent logs) </li>\n</ul>\n\n<p>It should also be performant at sizes simliar to the default ring-buffer sizes of the existing Logcat implementation (64kB through to 1MB on higher end devices)</p>\n\n<p>I really do not want to reinvent the wheel and I am happy to use a third-party library for that if I have to , please advise.</p>\n\n<p>Otherwise how could this be implemented with existing Android framework API's and class library?</p>\n"}, {"tags": ["java", "logging", "filehandler"], "comments": [{"owner": {"reputation": 5661, "user_id": 4516887, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3bXoM.png?s=128&g=1", "display_name": "fateddy", "link": "https://stackoverflow.com/users/4516887/fateddy"}, "edited": false, "score": 1, "creation_date": 1452124282, "post_id": 34644817, "comment_id": 57035928, "body": "What about implementing a custom <code>java.util.logging.Formatter</code>?"}, {"owner": {"reputation": 1971, "user_id": 481332, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/36cb23963f3b2c3d77ac2eb5a3913851?s=128&d=identicon&r=PG&f=1", "display_name": "worker1138", "link": "https://stackoverflow.com/users/481332/worker1138"}, "reply_to_user": {"reputation": 5661, "user_id": 4516887, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3bXoM.png?s=128&g=1", "display_name": "fateddy", "link": "https://stackoverflow.com/users/4516887/fateddy"}, "edited": false, "score": 0, "creation_date": 1452124663, "post_id": 34644817, "comment_id": 57036051, "body": "Aha yes, I just pulled my copy of Core Java off the shelf, and that is the approach they suggest as well!"}], "answers": [{"tags": [], "owner": {"reputation": 8784, "user_id": 2428802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d58ba93ec223d23b2fd6216aa52c5a6?s=128&d=identicon&r=PG", "display_name": "jmehrens", "link": "https://stackoverflow.com/users/2428802/jmehrens"}, "is_accepted": false, "score": 0, "last_activity_date": 1452195047, "creation_date": 1452195047, "answer_id": 34663584, "question_id": 34644817, "link": "https://stackoverflow.com/questions/34644817/how-to-set-xmlformatter-with-filehandler-to-only-write-raw-message/34663584#34663584", "title": "How to set XMLFormatter with FileHandler to only write raw message", "body": "<p>If you don't want to use a custom formatter then you can use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/logging/SimpleFormatter.html\" rel=\"nofollow\">java.util.logging.SimpleFormatter</a> and set the <code>format</code> property to <code>%5$s</code> which will just write out the message part of the log record.</p>\n\n<pre><code>java.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\njava.util.logging.SimpleFormatter.format = %5$s\n</code></pre>\n\n<p>It won't work if you require another SimpleFormatter with a different pattern like a ConsoleHandler or if your raw data trips up <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html\" rel=\"nofollow\">MessageFormat</a> patterns.</p>\n"}], "owner": {"reputation": 1971, "user_id": 481332, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/36cb23963f3b2c3d77ac2eb5a3913851?s=128&d=identicon&r=PG&f=1", "display_name": "worker1138", "link": "https://stackoverflow.com/users/481332/worker1138"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 409, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452195047, "creation_date": 1452122905, "question_id": 34644817, "link": "https://stackoverflow.com/questions/34644817/how-to-set-xmlformatter-with-filehandler-to-only-write-raw-message", "title": "How to set XMLFormatter with FileHandler to only write raw message", "body": "<p>I'm using java <code>FileHandler</code> to append to a file, and occasionally rotate it. The data consists of JSON strings, one on each line. The file is consumed by another process, and I want the <code>FileHandler</code> to only write the JSON string I pass into the publish method, without any xml metadata. How is this accomplished? I've scoured the internet for information about <code>XMLFormatter</code> and <code>FileHandler</code>, but all I've found are content farm tutorials that barely touch on the basics. Right now, I get the following written to the file: </p>\n\n<pre><code>&lt;record&gt;\n  &lt;date&gt;2016-01-06T15:05:54&lt;/date&gt;\n  &lt;millis&gt;1452121554535&lt;/millis&gt;\n  &lt;sequence&gt;14&lt;/sequence&gt;\n  &lt;level&gt;INFO&lt;/level&gt;\n  &lt;thread&gt;29&lt;/thread&gt;\n  &lt;message&gt;MyMessage&lt;/message&gt;\n&lt;/record&gt;\n</code></pre>\n\n<p>And all I want written is MyMessage.</p>\n\n<p>Any help appreciated. </p>\n"}, {"tags": ["java", "mysql", "hibernate", "constraints"], "comments": [{"owner": {"reputation": 4996, "user_id": 5702105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58081474e8ae737457f47227ede3ba73?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Mc", "link": "https://stackoverflow.com/users/5702105/ian-mc"}, "edited": false, "score": 0, "creation_date": 1452139656, "post_id": 34644773, "comment_id": 57039993, "body": "I am not sure what specific question you have.  You are saying that you would prefer that the system assign a unique value, but are forced to catch the ConstraintViolation when it happens.  At that point you are prepared to assign a new value and try again.  What have you tried, and what issues are you having?"}, {"owner": {"reputation": 2013, "user_id": 3702196, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/359fffce1e089951bd8280481a244d21?s=128&d=identicon&r=PG&f=1", "display_name": "avalon", "link": "https://stackoverflow.com/users/3702196/avalon"}, "reply_to_user": {"reputation": 4996, "user_id": 5702105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58081474e8ae737457f47227ede3ba73?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Mc", "link": "https://stackoverflow.com/users/5702105/ian-mc"}, "edited": false, "score": 0, "creation_date": 1452170069, "post_id": 34644773, "comment_id": 57055638, "body": "Sorry, I have just edited my post. Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 2013, "user_id": 3702196, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/359fffce1e089951bd8280481a244d21?s=128&d=identicon&r=PG&f=1", "display_name": "avalon", "link": "https://stackoverflow.com/users/3702196/avalon"}, "edited": false, "score": 0, "creation_date": 1452180199, "post_id": 34656468, "comment_id": 57062875, "body": "Why the first transaction should be closed? What if I want to suppress this exception? Why not?"}, {"owner": {"reputation": 4996, "user_id": 5702105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58081474e8ae737457f47227ede3ba73?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Mc", "link": "https://stackoverflow.com/users/5702105/ian-mc"}, "reply_to_user": {"reputation": 2013, "user_id": 3702196, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/359fffce1e089951bd8280481a244d21?s=128&d=identicon&r=PG&f=1", "display_name": "avalon", "link": "https://stackoverflow.com/users/3702196/avalon"}, "edited": false, "score": 0, "creation_date": 1452181542, "post_id": 34656468, "comment_id": 57063859, "body": "It is my understanding that when an exception is thrown (the unique constraint will throw an exception which you can&#39;t control or suppress) the transaction is invalidated.  In that state you have no other choice but to start again."}, {"owner": {"reputation": 2013, "user_id": 3702196, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/359fffce1e089951bd8280481a244d21?s=128&d=identicon&r=PG&f=1", "display_name": "avalon", "link": "https://stackoverflow.com/users/3702196/avalon"}, "edited": false, "score": 0, "creation_date": 1452185374, "post_id": 34656468, "comment_id": 57066757, "body": "Thanks, but I caught this exception, don&#39;t understand how it gets invalidated though."}, {"owner": {"reputation": 4996, "user_id": 5702105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58081474e8ae737457f47227ede3ba73?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Mc", "link": "https://stackoverflow.com/users/5702105/ian-mc"}, "reply_to_user": {"reputation": 2013, "user_id": 3702196, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/359fffce1e089951bd8280481a244d21?s=128&d=identicon&r=PG&f=1", "display_name": "avalon", "link": "https://stackoverflow.com/users/3702196/avalon"}, "edited": false, "score": 0, "creation_date": 1452185714, "post_id": 34656468, "comment_id": 57066970, "body": "I suspect in the Hibernate code they invalidate the session, and then throw the exception.  By the time you catch it, it is already invalidated.  They leave it to you to rollback anything open (if necessary).  Let me know how you make out..."}], "tags": [], "owner": {"reputation": 4996, "user_id": 5702105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58081474e8ae737457f47227ede3ba73?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Mc", "link": "https://stackoverflow.com/users/5702105/ian-mc"}, "is_accepted": false, "score": 1, "last_activity_date": 1452173608, "creation_date": 1452173608, "answer_id": 34656468, "question_id": 34644773, "link": "https://stackoverflow.com/questions/34644773/hibernate-4-handle-unique-index-exception/34656468#34656468", "title": "hibernate 4 handle unique index exception", "body": "<p>It is not clear where your transaction boundaries are. \nWhen the exception is thrown, you will need to:\n1)  Ensure that the first transaction is closed (it should be, but not sure - see if you get a nested transaction trying #2 alone)\n2)  begin a new transaction before you are able to persist/flush again (and subsequently commit that).</p>\n"}, {"tags": [], "owner": {"reputation": 2013, "user_id": 3702196, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/359fffce1e089951bd8280481a244d21?s=128&d=identicon&r=PG&f=1", "display_name": "avalon", "link": "https://stackoverflow.com/users/3702196/avalon"}, "is_accepted": true, "score": 0, "last_activity_date": 1452267452, "last_edit_date": 1495535298, "creation_date": 1452267452, "answer_id": 34680662, "question_id": 34644773, "link": "https://stackoverflow.com/questions/34644773/hibernate-4-handle-unique-index-exception/34680662#34680662", "title": "hibernate 4 handle unique index exception", "body": "<p>I finally figured out the issue. So, let me explain one by one. \nFirst of all, take a look at </p>\n\n<p><a href=\"https://stackoverflow.com/questions/28480480/propagation-requires-new-does-not-create-a-new-transaction-in-spring-with-jpa\">Propagation.REQUIRES_NEW does not create a new transaction in Spring with JPA</a></p>\n\n<p>Then, for example we have a class and method like:</p>\n\n<pre><code>public class MyClass{\n   @Transactional\n   public void myMethod(){\n      ....\n   }\n\n}\n</code></pre>\n\n<p>So, first of all lets consider that myMethod is in it's own transaction completely, because transactions are AOP based, and it will be committed when appropriate aspect will fire, but only after method completes, throws exception, etc. So we can't partially commit, partially rollback, rollback incompletely,etc. So, we need to do the following: </p>\n\n<ol>\n<li>Start big outer transaction</li>\n<li>Start a new nested transaction, try to insert a record.</li>\n<li>If nested transaction will fail, it will be rolled back, but the outer one will still be running. </li>\n<li>If the first nested transaction failed, then start a new nested transaction and insert a record with new data, which will prevent ConstaintViolationException from being thrown. </li>\n</ol>\n\n<p>So, in this case, we create a class:</p>\n\n<pre><code>public class ServiceHelper{\n    @Transational(proparation = **Propagation.REQUIRED_NEW**)\n    public void tryConstraint throws MyConstraintException{\n        try{\n           //insert\n        }catch(ConstraintViolationException e){\n           throw new MyConstraintException(e);\n        }catch(Exception ex){\n           throw new Exception(ex);\n        }\n    }\n\n    @Transational(proparation = **Propagation.REQUIRED_NEW**)\n    public void insertWithNoConflict throws Exception {\n        //Set new data\n        //insert, if still CVE or anything other, just throw it , or leave it for unchecked exceptions then\n    }\n\n\n}\n</code></pre>\n\n<p>And our service:</p>\n\n<pre><code>public class MyService{\n@Autowired\nprivate ServiceHelper serviceHelper;\n\n@Transactional(propagation = **Propagation.REGUIRED_NEW**)\npublic void createWithCheck(){\n   try{\n      serviceHelper.tryConstraint();\n   }catch(MyConstraintException e){\n       serviceHelper.insertWithNoConflict();\n   }\n }\n}\n</code></pre>\n\n<p>But there is still a weird situation because I need to use MyService methods for records creation in ServiceHelper, but I can't obtain them there because it will cause circular injections, so I have to get them via services factory like:</p>\n\n<pre><code>MyService service = (MyService)ServicesFactory.getInstance().getBean(MyService.BEAN_ID)\n</code></pre>\n\n<p>And I don't like it. But this approach works, I checked it today.</p>\n\n<p>We should know 2 things: first of all we can't do anything with a transaction inside a method, we can't start there any new transaction, etc. A transaction context is relevant to method completely, it will still be there before a method ends. And the second thing is required_new doesn't work when we launch the method from the method of the same proxy class.  </p>\n"}], "owner": {"reputation": 2013, "user_id": 3702196, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/359fffce1e089951bd8280481a244d21?s=128&d=identicon&r=PG&f=1", "display_name": "avalon", "link": "https://stackoverflow.com/users/3702196/avalon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1189, "favorite_count": 0, "accepted_answer_id": 34680662, "answer_count": 2, "score": 0, "last_activity_date": 1452267452, "creation_date": 1452122699, "last_edit_date": 1452170049, "question_id": 34644773, "link": "https://stackoverflow.com/questions/34644773/hibernate-4-handle-unique-index-exception", "title": "hibernate 4 handle unique index exception", "body": "<p>I have a system based on hibernate 4. I have an unique constraint in a table and need to handle it the following way:</p>\n\n<pre><code>try{\n    getMyService().create(myobj);\n}catch(PersistenceException p){\n  //constraint fails\n    myobj.setConstraintColumn(\"new non unique value\");\n   getMyService().create(myobj);//should save it\n}\n</code></pre>\n\n<p>unfortunately I can't change the design of the system so I need just to figure it out this way.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I get the following exception: </p>\n\n<pre><code>org.hibernate.AssertionFailure: null id in entry (don't flush the Session after an exception occurs)\n</code></pre>\n\n<p>The code of create method:</p>\n\n<pre><code> public E create(E entity) {\n        entityManager.persist(entity);\n        entityManager.flush();\n        entityManager.refresh(entity);\n        return entity;\n }\n</code></pre>\n"}, {"tags": ["java", "if-statement", "rule-engine"], "comments": [{"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 2, "creation_date": 1452122637, "post_id": 34644729, "comment_id": 57035353, "body": "It&#39;s pretty unclear what you are asking, but it doesn&#39;t look all that complex. Have you tried just writing it as a few if/else statements?"}, {"owner": {"reputation": 212, "user_id": 5108582, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/49ef216a94b1122bf5d4785ca1f34cc6?s=128&d=identicon&r=PG&f=1", "display_name": "Meghashyam Sandeep V", "link": "https://stackoverflow.com/users/5108582/meghashyam-sandeep-v"}, "reply_to_user": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1452123398, "post_id": 34644729, "comment_id": 57035624, "body": "I have added some context to the problem now. Also each of those variables can be null as well which brings in the complexity."}, {"owner": {"reputation": 4561, "user_id": 1043569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0f0397c0ae99625fde35aaa75a20494e?s=128&d=identicon&r=PG", "display_name": "Atri", "link": "https://stackoverflow.com/users/1043569/atri"}, "edited": false, "score": 0, "creation_date": 1452123471, "post_id": 34644729, "comment_id": 57035651, "body": "@MeghashyamSandeepV please update the code in your question so it is more readable."}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1452123622, "post_id": 34644729, "comment_id": 57035706, "body": "<code>id=!null</code> is not valid java. I suspect you mean <code>id!=null</code>."}, {"owner": {"reputation": 212, "user_id": 5108582, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/49ef216a94b1122bf5d4785ca1f34cc6?s=128&d=identicon&r=PG&f=1", "display_name": "Meghashyam Sandeep V", "link": "https://stackoverflow.com/users/5108582/meghashyam-sandeep-v"}, "reply_to_user": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1452123878, "post_id": 34644729, "comment_id": 57035795, "body": "yes @AndyTurner. I corrected it now."}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1452124009, "post_id": 34644729, "comment_id": 57035852, "body": "<code>(isPublic &amp;&amp; !isPrivate) || (isPublic &amp;&amp; isPrivate == null)</code> will yield a <code>NullPointerException</code> if <code>isPublic == true</code> and <code>isPrivate == null</code>, because of the evaluation of <code>!isPrivate</code>."}], "answers": [{"tags": [], "owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "is_accepted": false, "score": 0, "last_activity_date": 1452123896, "last_edit_date": 1452123896, "creation_date": 1452123561, "answer_id": 34644930, "question_id": 34644729, "link": "https://stackoverflow.com/questions/34644729/complex-if-else-logic-in-java-with-multiple-variables/34644930#34644930", "title": "Complex if/else logic in java with multiple variables", "body": "<p>You could use the \"null means don't care\" paradigm. Something like:</p>\n\n<pre><code>private List&lt;Group&gt; groups;\n\npublic List&lt;Group&gt; getGroups(String id, Boolean includePrivate, Boolean includePublic) {\n    return groups.stream()\n        .filter(g -&gt; id == null || g.getId().equals(id))\n        .filter(g -&gt; includePrivate == null || g.isPrivate() == includePrivate)\n        .filter(g -&gt; includePublic== null || g.isPublic() == includePublic)\n        .collect(Collectors.toList());\n}\n</code></pre>\n\n<p>The above does <code>AND</code> logic. If you want <code>OR</code> logic, do it in one filter:</p>\n\n<pre><code>public List&lt;Group&gt; getGroups(String id, Boolean includePrivate, Boolean includePublic) {\n    return groups.stream()\n        .filter(g -&gt; (id == null || g.getId().equals(id))) || \n           (includePrivate == null || g.isPrivate() == includePrivate)) ||\n           (includePublic== null || g.isPublic() == includePublic)))\n        .collect(Collectors.toList());\n}\n</code></pre>\n\n<p>or defer the predicate to the caller for a totally flexible API:</p>\n\n<pre><code>public List&lt;Group&gt; getGroups(Predicate&lt;Group&gt; predicate) {\n     return groups.stream().filter(predicate).collect(Collectors.toList());\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 212, "user_id": 5108582, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/49ef216a94b1122bf5d4785ca1f34cc6?s=128&d=identicon&r=PG&f=1", "display_name": "Meghashyam Sandeep V", "link": "https://stackoverflow.com/users/5108582/meghashyam-sandeep-v"}, "edited": false, "score": 0, "creation_date": 1452123711, "post_id": 34644940, "comment_id": 57035744, "body": "The boolean variables can also be null. How to account for  it?"}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "reply_to_user": {"reputation": 212, "user_id": 5108582, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/49ef216a94b1122bf5d4785ca1f34cc6?s=128&d=identicon&r=PG&f=1", "display_name": "Meghashyam Sandeep V", "link": "https://stackoverflow.com/users/5108582/meghashyam-sandeep-v"}, "edited": false, "score": 0, "creation_date": 1452123879, "post_id": 34644940, "comment_id": 57035796, "body": "@MeghashyamSandeepV you make the parameters <code>Boolean</code> instead of <code>boolean</code>, and check if their values are <code>null</code> or not in the conditions."}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "reply_to_user": {"reputation": 212, "user_id": 5108582, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/49ef216a94b1122bf5d4785ca1f34cc6?s=128&d=identicon&r=PG&f=1", "display_name": "Meghashyam Sandeep V", "link": "https://stackoverflow.com/users/5108582/meghashyam-sandeep-v"}, "edited": false, "score": 0, "creation_date": 1452123921, "post_id": 34644940, "comment_id": 57035814, "body": "@MeghashyamSandeepV Updated to support null <code>Boolean</code> parameters."}], "tags": [], "owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "is_accepted": true, "score": 1, "last_activity_date": 1452123885, "last_edit_date": 1452123885, "creation_date": 1452123641, "answer_id": 34644940, "question_id": 34644729, "link": "https://stackoverflow.com/questions/34644729/complex-if-else-logic-in-java-with-multiple-variables/34644940#34644940", "title": "Complex if/else logic in java with multiple variables", "body": "<p>Something like this, not really that complex, assuming null means false:</p>\n\n<pre><code>public List list(String id, Boolean includePrivate, Boolean includePublic) {\n    boolean inclPrivate = (includePrivate != null &amp;&amp; includePrivate);\n    boolean inclPublic = (includePublic != null &amp;&amp; includePublic);\n    List result = new ArrayList();\n    if (inclPublic || ! inclPrivate)\n        result.addAll(getAllPublic());\n    if (inclPrivate &amp;&amp; id != null)\n        result.addAll(getPrivateMembers(id));\n    else if (inclPrivate || ! inclPublic)\n        result.addAll(getAllPrivate());\n    return result;\n}\n</code></pre>\n\n<p>Of course, if you're actually querying a database, you could dynamically build the <code>WHERE</code> clause, but since you don't say....</p>\n"}], "owner": {"reputation": 212, "user_id": 5108582, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/49ef216a94b1122bf5d4785ca1f34cc6?s=128&d=identicon&r=PG&f=1", "display_name": "Meghashyam Sandeep V", "link": "https://stackoverflow.com/users/5108582/meghashyam-sandeep-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 389, "favorite_count": 0, "closed_date": 1452123652, "accepted_answer_id": 34644940, "answer_count": 2, "score": -2, "last_activity_date": 1452123896, "creation_date": 1452122463, "last_edit_date": 1452123838, "question_id": 34644729, "link": "https://stackoverflow.com/questions/34644729/complex-if-else-logic-in-java-with-multiple-variables", "closed_reason": "Needs details or clarity", "title": "Complex if/else logic in java with multiple variables", "body": "<p>There can be two types of groups- private and public. Each group can have members in it. I have three parameters id, includePrivate, includePublic to be passed into a method to return the groups as per the rules below. \nFor eg. </p>\n\n<pre><code>public List&lt;Group&gt; getListofGroups(String id, Boolean isPrivate, Boolean   isPublic){}\n</code></pre>\n\n<ol>\n<li>All groups {}</li>\n<li>all private groups {\"includePrivate\": true}</li>\n<li>all public groups {\"includePublic\": true}</li>\n<li>all private groups with membership  {\"id\":\"id1\", \"includePrivate\": true }</li>\n<li>all private groups with membership + all public groups {\"id\":\"id1\", \"includePrivate\": true, \"includePublic\": true }</li>\n</ol>\n\n<p>What is the best way to implement this complex if/else logic? Is it a good option to create a rules engine just for this api?</p>\n\n<pre><code> For eg. if(isPrivate &amp;&amp; isPublic &amp;&amp; id=!null) {\n    return publicAndPrivateWIthMembership();\n} else if(isPrivate &amp;&amp; id=!null ) {\n    return privateGroupsWithMembership();\n} else if((isPublic &amp;&amp; !isPrivate) ||(isPublic &amp;&amp; isPrivate == null) ) {\n    return allPublicGroups();\n} else if((isPrivate &amp;&amp; !isPublic) ||(isPrivate &amp;&amp; isPublic == null) ) {\n    return allPrivateGroups();\n}........\n</code></pre>\n"}, {"tags": ["java", "json", "http", "jersey", "response"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5754770, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_lfVpFn_inM/AAAAAAAAAAI/AAAAAAAAAM8/QUrqIF_0iZQ/photo.jpg?sz=128", "display_name": "Hao Jiang", "link": "https://stackoverflow.com/users/5754770/hao-jiang"}, "edited": false, "score": 0, "creation_date": 1452276103, "post_id": 34645483, "comment_id": 57112677, "body": "Thank you for your answer. What if the JSON is a little more complicated like this: {   &quot;vtn&quot;: [     {       &quot;description&quot;: &quot;VTN Hao&quot;,       &quot;name&quot;: &quot;Tenant_Hao&quot;,       &quot;hardTimeout&quot;: &quot;0&quot;,       &quot;idleTimeout&quot;: &quot;300&quot;     },     {       &quot;description&quot;: &quot;VTN Jue&quot;,       &quot;name&quot;: &quot;Tenant_Jue&quot;,       &quot;hardTimeout&quot;: &quot;0&quot;,       &quot;idleTimeout&quot;: &quot;300&quot;     }   ] } and the number of entries is uncertain. how can I define the POJO?"}, {"owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "reply_to_user": {"reputation": 13, "user_id": 5754770, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_lfVpFn_inM/AAAAAAAAAAI/AAAAAAAAAM8/QUrqIF_0iZQ/photo.jpg?sz=128", "display_name": "Hao Jiang", "link": "https://stackoverflow.com/users/5754770/hao-jiang"}, "edited": false, "score": 0, "creation_date": 1452276560, "post_id": 34645483, "comment_id": 57112898, "body": "You will need to do through some Jackson tutorials. Start <a href=\"http://www.tutorialspoint.com/jackson/jackson_data_binding_generics.htm\" rel=\"nofollow noreferrer\">here</a> and <a href=\"http://wiki.fasterxml.com/JacksonInFiveMinutes\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "reply_to_user": {"reputation": 13, "user_id": 5754770, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_lfVpFn_inM/AAAAAAAAAAI/AAAAAAAAAM8/QUrqIF_0iZQ/photo.jpg?sz=128", "display_name": "Hao Jiang", "link": "https://stackoverflow.com/users/5754770/hao-jiang"}, "edited": false, "score": 0, "creation_date": 1452276662, "post_id": 34645483, "comment_id": 57112962, "body": "Basically with what you provided, just have  a pojo with with a <code>vtn</code> property that is of type <code>List&lt;SomeObject&gt;</code>. <code>SomeObject</code> should have the properties <code>description</code>, <code>name</code>, etc"}], "tags": [], "owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "is_accepted": true, "score": 0, "last_activity_date": 1452127198, "creation_date": 1452127198, "answer_id": 34645483, "question_id": 34644676, "link": "https://stackoverflow.com/questions/34644676/cannot-get-json-data-from-jersey-get-response/34645483#34645483", "title": "Cannot get JSON data from Jersey GET response", "body": "<p>You can't use <code>JSONObject</code> unless you have a <code>MessageBodyReader</code> for it. See more at <a href=\"https://jersey.java.net/documentation/latest/message-body-workers.html\" rel=\"nofollow\">JAX-RS Entity Providers</a>. The provider you are currently using (probably Jackson) only supports JavaBean POJOs or collections of them. For example if you have this JSON</p>\n\n<pre><code>{ \"property1\" : \"value1\", \"property2\": \"value2\" }\n</code></pre>\n\n<p>Then you would need to have a POJO like</p>\n\n<pre><code>public class Bean {\n    private String property1;\n    private String property2;\n    // getters and setters\n}\n</code></pre>\n\n<p>Then you can do <code>getEntity(Bean.class)</code>. The reason you are getting an empty object, is that the deserialization works off the setters. It looks for properties on the JSON, that matches a setters, and uses it the set the property. The JSON object <em>has</em> no setters for your JSON properties.</p>\n"}], "owner": {"reputation": 13, "user_id": 5754770, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_lfVpFn_inM/AAAAAAAAAAI/AAAAAAAAAM8/QUrqIF_0iZQ/photo.jpg?sz=128", "display_name": "Hao Jiang", "link": "https://stackoverflow.com/users/5754770/hao-jiang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1179, "favorite_count": 0, "accepted_answer_id": 34645483, "answer_count": 1, "score": 1, "last_activity_date": 1452127198, "creation_date": 1452122168, "last_edit_date": 1452122647, "question_id": 34644676, "link": "https://stackoverflow.com/questions/34644676/cannot-get-json-data-from-jersey-get-response", "title": "Cannot get JSON data from Jersey GET response", "body": "<p>I was developing a restful web client and trying to get the JSON payload from the response of a GET method. I am using Jersey. But I just cannot read the JSON data using response.getEntity() method. I tried many methods including response.bufferEntity(), but the output always kept empty. Below is my code and output, and in addition I can see the JSON data right in the response packet captured in wireshark. I would really appreciate everyone trying to help figure out why or provide solution. Thank you!</p>\n\n<p>Code:</p>\n\n<pre><code>    public JSONObject Get(String requestPath){\n\n    ClientResponse response = webResource.path(requestPath)\n            .header(\"Content-Type\", contTypeHeader )\n            .header(\"Accept\",acceptHeader)\n            .header(\"Authorization\", authZ )\n            .get(ClientResponse.class);\n\n    response.bufferEntity();\n    if (!(response.getStatus() == 201 || response.getStatus() == 200)) {\n        throw new RuntimeException(\"Failed : HTTP error code : \" + response.getStatus());\n    }\n\n    System.out.println(response.getEntity(JSONObject.class));\n    return null;\n\n}\n</code></pre>\n\n<p>and the output is always like this: {}</p>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 1, "creation_date": 1452122813, "post_id": 34644735, "comment_id": 57035417, "body": "1) The <code>implements</code> relates to a generic interface <code>MEnum&lt;T&gt;</code>, not <code>FTSF</code>."}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 1, "creation_date": 1452122940, "post_id": 34644735, "comment_id": 57035466, "body": "2) &quot; what does gets passed as an argument inside bCMap method&quot; The instance of <code>Class&lt;FTSF&gt;</code> accessed via <code>FTSF.class</code>. I don&#39;t really understand what else you expect it to be. Perhaps it would be clearer if you could include the definition of <code>MEnum.bCMap</code>."}, {"owner": {"reputation": 1150, "user_id": 3562273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a9bc220b98a9b6bd533c9dac3bf0877?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/3562273/john"}, "reply_to_user": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1452123376, "post_id": 34644735, "comment_id": 57035614, "body": "@AndyTurner  1) I have <code>MEnum</code> defined as a separate java class in the same package. The code above says that <code>public enum FTSF implements MEnum&lt;FTSF&gt; </code>, so  is it because <code>FTSF</code> is a Java enum, it can implement MEnum&lt;FTSF&gt; and SF both?  2) Can you elaborate more on  instance of <code>Class&lt;FTSF&gt;</code> accessed via <code>FTSF.class</code> ?"}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1452123551, "post_id": 34644735, "comment_id": 57035680, "body": "1) It has nothing to do with <code>FTSF</code>. You can&#39;t declare that a class <code>implements</code> an enum type because enums aren&#39;t interfaces. 2) It&#39;s just a particular instance of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\"><code>java.lang.Class</code></a>. There is very little else to say about it."}, {"owner": {"reputation": 8555, "user_id": 638028, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xj2Hg.png?s=128&g=1", "display_name": "Klitos Kyriacou", "link": "https://stackoverflow.com/users/638028/klitos-kyriacou"}, "edited": false, "score": 0, "creation_date": 1452125849, "post_id": 34644735, "comment_id": 57036377, "body": "@John are you saying that <code>MEnum</code> and <code>SF</code> are both classes, not interfaces?"}, {"owner": {"reputation": 1150, "user_id": 3562273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a9bc220b98a9b6bd533c9dac3bf0877?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/3562273/john"}, "reply_to_user": {"reputation": 8555, "user_id": 638028, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xj2Hg.png?s=128&g=1", "display_name": "Klitos Kyriacou", "link": "https://stackoverflow.com/users/638028/klitos-kyriacou"}, "edited": false, "score": 0, "creation_date": 1452126004, "post_id": 34644735, "comment_id": 57036411, "body": "@KlitosKyriacou  <code>SF</code> is an interface and <code>MEnum</code> is also an interface."}], "answers": [{"comments": [{"owner": {"reputation": 1150, "user_id": 3562273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a9bc220b98a9b6bd533c9dac3bf0877?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/3562273/john"}, "edited": false, "score": 0, "creation_date": 1452124567, "post_id": 34645065, "comment_id": 57036017, "body": "Thanks for the answer. For #1, I know that java classes can extend only one class but implement as many interfaces. Since in my case, it&#39;s not a Java class but Java enum which is implementing <code>MEnum&lt;FTSF&gt;</code>and <code>SF</code> could you tell me how does your answer relate to my question?"}, {"owner": {"reputation": 331, "user_id": 5071687, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GCHDRU_VDuQ/AAAAAAAAAAI/AAAAAAAABwE/o7NvY5JIjkY/photo.jpg?sz=128", "display_name": "Jarrett Spiker", "link": "https://stackoverflow.com/users/5071687/jarrett-spiker"}, "reply_to_user": {"reputation": 1150, "user_id": 3562273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a9bc220b98a9b6bd533c9dac3bf0877?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/3562273/john"}, "edited": false, "score": 0, "creation_date": 1452125354, "post_id": 34645065, "comment_id": 57036237, "body": "The same is true for enums as well as classes. Perhaps I am not understanding why are you confused...what are you expecting to happen or go wrong? Is there an error you were expecting to see?"}, {"owner": {"reputation": 1150, "user_id": 3562273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a9bc220b98a9b6bd533c9dac3bf0877?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/3562273/john"}, "edited": false, "score": 0, "creation_date": 1452125489, "post_id": 34645065, "comment_id": 57036274, "body": "Thanks. That clarifies my question. I just googled and saw that <code>Java enum type is a special kind of Java class</code> which  makes sense in terms of the usage of <code>implements</code> keyword."}, {"owner": {"reputation": 42073, "user_id": 113632, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f0aa6977c75f54ca9033d4f4d0244023?s=128&d=identicon&r=PG", "display_name": "dimo414", "link": "https://stackoverflow.com/users/113632/dimo414"}, "edited": false, "score": 0, "creation_date": 1452126581, "post_id": 34645065, "comment_id": 57036549, "body": "Enums are a class, they extend <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html\" rel=\"nofollow noreferrer\"><code>Enum</code></a>."}], "tags": [], "owner": {"reputation": 331, "user_id": 5071687, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GCHDRU_VDuQ/AAAAAAAAAAI/AAAAAAAABwE/o7NvY5JIjkY/photo.jpg?sz=128", "display_name": "Jarrett Spiker", "link": "https://stackoverflow.com/users/5071687/jarrett-spiker"}, "is_accepted": false, "score": 1, "last_activity_date": 1452124311, "creation_date": 1452124311, "answer_id": 34645065, "question_id": 34644735, "link": "https://stackoverflow.com/questions/34644735/method-accepting-a-class-as-its-parameter/34645065#34645065", "title": "Method accepting a class as its parameter", "body": "<p>1) Java classes can only <code>extend</code> one class, but they can <code>implement</code> as many as they want. It doesnt have to do with FTSF being an enum.</p>\n\n<p>2) It is the Class object that represents the FTFS. You can also get it by calling <code>getClass()</code> as long as you arent in a subclass. It is useful for things like reflection. The documentation for it is here <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html\" rel=\"nofollow\">https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 1150, "user_id": 3562273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a9bc220b98a9b6bd533c9dac3bf0877?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/3562273/john"}, "edited": false, "score": 0, "creation_date": 1452128011, "post_id": 34645552, "comment_id": 57036898, "body": "Great explanation. Thank you."}, {"owner": {"reputation": 8555, "user_id": 638028, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xj2Hg.png?s=128&g=1", "display_name": "Klitos Kyriacou", "link": "https://stackoverflow.com/users/638028/klitos-kyriacou"}, "reply_to_user": {"reputation": 1150, "user_id": 3562273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a9bc220b98a9b6bd533c9dac3bf0877?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/3562273/john"}, "edited": false, "score": 1, "creation_date": 1452128346, "post_id": 34645552, "comment_id": 57037000, "body": "I should add that writing generic methods that take a dummy <code>Class&lt;T&gt;</code> argument was a common trick in Java 7 and earlier compilers. It is no longer required from Java 8 onwards, because the compiler can automatically deduce the generic type parameters based on the left-hand side of the assignment. So <code>bCMap()</code> could have been defined to take no arguments."}], "tags": [], "owner": {"reputation": 8555, "user_id": 638028, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xj2Hg.png?s=128&g=1", "display_name": "Klitos Kyriacou", "link": "https://stackoverflow.com/users/638028/klitos-kyriacou"}, "is_accepted": true, "score": 1, "last_activity_date": 1452127617, "creation_date": 1452127617, "answer_id": 34645552, "question_id": 34644735, "link": "https://stackoverflow.com/questions/34644735/method-accepting-a-class-as-its-parameter/34645552#34645552", "title": "Method accepting a class as its parameter", "body": "<p>1) Enums, just like any other class, can implement as many interfaces as you like. (I got a bit confused as you asked \"why it can implement as many classes as it wants\". A class can only implement interfaces, not classes. It can <em>extend</em> only one class. As you clarified in a later comment, both <code>MEnum</code> and <code>SF</code> are interfaces.)</p>\n\n<p>2) When you compile a Java class, called <code>T</code>, the Java compiler creates a single object which is an instance of a generic class <code>Class&lt;T&gt;</code>. This is a special class which holds information about the class you've just written - such as its name, and the set of fields and methods it contains. It's part of a feature called Reflection. In this statement from your question:</p>\n\n<pre><code>private static final Map&lt;String, FTSF&gt; cmap = MEnum.bCMap(FTSF.class);\n</code></pre>\n\n<p>the expression <code>FTSF.class</code> is a reference to this single instance of class <code>Class&lt;FTSF&gt;</code>. So the method bCMap() is being passed a reference to this object; however, given the context, the most likely reason for passing this argument to the method is not because the method wants to know about the class, but because the class object is being used as a dummy argument to tell the compiler that the generic method <code>bcMap</code> returns a <code>Map&lt;String, FTSF&gt;</code> (instead of, for example, a <code>Map&lt;String, Object&gt;</code>).</p>\n"}], "migrated_from": {"other_site": {"markdown_extensions": ["Prettify"], "launch_date": 1250553600, "open_beta_date": 1247529600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/superuser/Img/apple-touch-icon@2.png", "twitter_account": "super_user", "favicon_url": "https://cdn.sstatic.net/Sites/superuser/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/superuser/Img/apple-touch-icon.png", "audience": "computer enthusiasts and power users", "site_url": "https://superuser.com", "api_site_parameter": "superuser", "logo_url": "https://cdn.sstatic.net/Sites/superuser/Img/logo.png", "name": "Super User", "site_type": "main_site"}, "on_date": 1452122474, "question_id": 1022796}, "owner": {"reputation": 1150, "user_id": 3562273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a9bc220b98a9b6bd533c9dac3bf0877?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/3562273/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 34645552, "answer_count": 2, "score": 2, "last_activity_date": 1452127617, "creation_date": 1452122106, "last_edit_date": 1452125957, "question_id": 34644735, "link": "https://stackoverflow.com/questions/34644735/method-accepting-a-class-as-its-parameter", "title": "Method accepting a class as its parameter", "body": "<p>I have a class <code>FTSF</code>or rather I should say java enum  which implements <code>MEnum</code> interface and <code>SF</code> interface as follows :</p>\n\n<pre><code>public enum FTSF implements MEnum&lt;FTSF&gt;, SF {\n\n\nprivate static final Map&lt;String, FTSF&gt; cmap = MEnum.bCMap(FTSF.class);\n .........\n   so on and so forth\n</code></pre>\n\n<p>Questions :</p>\n\n<p>1) Since  <code>FTSF</code> is a Java enum, that's why it can implement as many classes it want? I am slightly confused since <code>implement</code> keyword is usually used when a class implements an interface.    </p>\n\n<p>2) I know that one can pass class as an argument inside a method parameter,so above, when <code>FTSF</code> class is passed inside the <code>bCMap</code> method,i am trying to figure out what does gets passed as an argument inside <code>bCMap</code> method. Is it the class file that gets generated when we compile Java code?    </p>\n"}, {"tags": ["java", "server", "client"], "comments": [{"owner": {"reputation": 14421, "user_id": 836214, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8f33763395d06f0b8a68cb0cfa31a72d?s=128&d=identicon&r=PG", "display_name": "Krease", "link": "https://stackoverflow.com/users/836214/krease"}, "edited": false, "score": 1, "creation_date": 1452122477, "post_id": 34644659, "comment_id": 57035289, "body": "can you provide more details on what kind of problem? Is there an exception stack trace? compile error? something else?  Also, there&#39;s a lot of code here - are you able to make a smaller example that reproduces your problem?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3553408"}, "edited": false, "score": 0, "creation_date": 1452170362, "post_id": 34645088, "comment_id": 57055857, "body": "Good spot, I did not notice that I am sanding two String Messages ;) Thanks guys for your help. I knew it there is small mistake over there"}], "tags": [], "owner": {"reputation": 145, "user_id": 5754793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3685a84e86bd684b906cc268662f140d?s=128&d=identicon&r=PG&f=1", "display_name": "Zsolt", "link": "https://stackoverflow.com/users/5754793/zsolt"}, "is_accepted": true, "score": 1, "last_activity_date": 1452124501, "creation_date": 1452124501, "answer_id": 34645088, "question_id": 34644659, "link": "https://stackoverflow.com/questions/34644659/java-client-server-reading-object-from-objectinputstreamreader/34645088#34645088", "title": "JAVA Client - Server - reading Object from ObjectInputStreamReader", "body": "<p>You should be getting ClassCastException, because you send 2 String objects before the User object, but you read only 1 String object before the User object.</p>\n\n<p>Remove the line <code>sendMessage(\"TRUE\");</code> and it will work.</p>\n\n<p>PS: You may also remove <code>sendMessage(\"FALSE\");</code></p>\n\n<p>BTW: If you have a Serializable object you should have serialVersionUID to ensure the object version is the same on both sides. Once you make any change, you should also change the version number.</p>\n\n<p>BR,\nZsolt</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3553408"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 34645088, "answer_count": 1, "score": 0, "last_activity_date": 1452124501, "creation_date": 1452122082, "question_id": 34644659, "link": "https://stackoverflow.com/questions/34644659/java-client-server-reading-object-from-objectinputstreamreader", "title": "JAVA Client - Server - reading Object from ObjectInputStreamReader", "body": "<p>I am trying to make user authentication, I have manage to send User object to server and check details on the server but I have the problem the send back the object to client proving loggin was successful. Here is attached file, it is a bit messy as I was trying to experiment with it:</p>\n\n<pre><code>Client\n\n    public class Requester {\n        Socket requestSocket;\n        ObjectOutputStream out;\n        ObjectInputStream in;\n        String message=\"\";\n        String message2 = \"\";\n\n        String login=\"\";\n        String password=\"\";\n\n        String ipaddress;\n        Scanner stdin;\n        Requester(){}\n        void run()\n        {\n            stdin = new Scanner(System.in);\n            try{\n                //1. creating a socket to connect to the server\n                User newUser = new User();\n                User receivedUser = new User();\n\n                boolean authenticated = false;\n\n                System.out.println(\"Please Enter your IP Address\");\n                ipaddress = stdin.next();\n                requestSocket = new Socket(ipaddress, 2004);\n                System.out.println(\"Connected to \"+ipaddress+\" in port 2004\");\n                //2. get Input and Output streams\n                out = new ObjectOutputStream(requestSocket.getOutputStream());\n                out.flush();\n                out.reset();\n                in = new ObjectInputStream(requestSocket.getInputStream());\n                System.out.println(\"Hello\");\n                //3: Communicating with the server\n\n                do{\n                    try\n                    {       \n                            message = (String)in.readObject();\n                            System.out.println(message);                        \n\n                            System.out.print(\"Please enter username: \");\n                            login = stdin.next();\n                            newUser.setName(login);\n                            System.out.println(login);\n\n                            System.out.print(\"Please enter password: \");\n                            password = stdin.next();\n                            newUser.setPassword(password);\n                            System.out.println(password);\n\n                            //in = new ObjectInputStream(requestSocket.getInputStream());\n                            sendMessage(newUser);\n\n                            message = (String)in.readObject();\n                            receivedUser = (User)in.readObject();\n                            //System.out.println(message);\n                            //receivedUser = (User)in.readObject();\n\n                            /*if(receivedUser.getAthentication() == true) {\n                                System.out.println(\"CLIENT LOGIN\");\n                            } else {\n                                System.out.println(\"CLIENT FAILED\");\n                            }*/\n                    }\n                    catch(ClassNotFoundException classNot)\n                    {\n                        System.err.println(\"data received in unknown format\");\n                    }\n                }while(!message.equals(\"bye\"));\n            }\n            catch(UnknownHostException unknownHost){\n                System.err.println(\"You are trying to connect to an unknown host!\");\n            }\n            catch(IOException ioException){\n                ioException.printStackTrace();\n            }\n            finally{\n                //4: Closing connection\n                try{\n                    in.close();\n                    out.close();\n                    requestSocket.close();\n                }\n                catch(IOException ioException){\n                    ioException.printStackTrace();\n                }\n            }\n        }\n        void sendMessage(User newUser)\n        {\n            try{\n                out.writeObject(newUser);\n                out.flush();\n                //System.out.println(\"client&gt;\" + msg);\n            }\n            catch(IOException ioException){\n                ioException.printStackTrace();\n            }\n        }\n        public static void main(String args[])\n        {\n            Requester client = new Requester();\n            client.run();\n        }\n    }\n\nServer\n\n    public class EchoServer {\n      static List&lt;User&gt; users = new ArrayList&lt;User&gt;();\n\n      public static void main(String[] args) throws Exception {\n\n        User user1 = new User(\"john\", \"test1\");\n        users.add(user1);   \n        User user2 = new User(\"paul\", \"test2\");\n        users.add(user2);   \n        User user3 = new User(\"martin\", \"test3\");\n        users.add(user3);\n\n        ServerSocket m_ServerSocket = new ServerSocket(2004,10);\n        int id = 0;\n        while (true) {\n          Socket clientSocket = m_ServerSocket.accept();\n          ClientServiceThread cliThread = new ClientServiceThread(clientSocket, id++);\n          cliThread.start();\n        }\n      }\n    }\n\n    class ClientServiceThread extends Thread {\n      Socket clientSocket;\n      String message, login;\n      int clientID = -1;\n      boolean running = true;\n\n\n      ObjectOutputStream out;\n      ObjectInputStream in;\n\n      EchoServer list = new EchoServer();\n\n      ClientServiceThread(Socket s, int i) {\n        clientSocket = s;\n        clientID = i;\n      }\n\n      void sendMessage(String msg)\n        {\n            try{\n                out.writeObject(msg);\n                out.flush();\n                out.reset();\n                System.out.println(\"client&gt; \" + msg);\n            }\n            catch(IOException ioException){\n                ioException.printStackTrace();\n            }\n        }\n\n      void sendUser(User usrObj)\n        {\n          try {\n              out.writeObject(usrObj);\n              out.flush();\n              out.reset();\n              System.out.println(\"clent&gt; \" + \"User Object Received\");\n          } \n          catch(IOException ioException) {\n              ioException.printStackTrace();\n          }\n        }\n\n      public void run() {\n        User newUser = new User();\n        User userAuthen = new User();\n\n        boolean userAuthenticated = false;\n\n        System.out.println(\"Accepted Client : ID - \" + clientID + \" : Address - \"\n            + clientSocket.getInetAddress().getHostName());\n        try \n        {\n            out = new ObjectOutputStream(clientSocket.getOutputStream());\n            out.flush();\n            out.reset();\n            in = new ObjectInputStream(clientSocket.getInputStream());\n            System.out.println(\"Accepted Client : ID - \" + clientID + \" : Address - \"\n                    + clientSocket.getInetAddress().getHostName());\n\n            sendMessage(\"Connection successful\\n\");\n            do{\n                try\n                {               \n                    //message = (String)in.readObject();\n                    //System.out.println(\"client&gt;\"+clientID+\"  \"+ message);\n                    //if (message.equals(\"bye\"))\n                    newUser = (User)in.readObject();\n\n                    for(User userObj : list.users) {\n                        if(userObj.getName().equals(newUser.getName())) {\n                            userAuthenticated = true;\n                            userAuthen.setAthentication(userAuthenticated);\n                        }\n                    }\n\n                    /*if(userAuthenticated == false) {\n                        sendMessage(\"Login Incorrect!\");\n                        sendMessage(\"FALSE\");\n                    }*/ \n                    if(userAuthenticated == true) {\n                        sendMessage(\"Login Correct\\n\");\n                        sendMessage(\"TRUE\");\n\n                        sendUser(userAuthen);\n                    }\n                    if(userAuthenticated == false) {\n                        sendMessage(\"Login Failed\\n\");\n                        sendMessage(\"FALSE\");\n                    }\n                }\n                catch(ClassNotFoundException classnot){\n                    System.err.println(\"Data received in unknown format\");\n                }\n\n                //sendMessage(\"server got the following: \"+newUser.getName());\n                //sendMessage(\"server got the following: \"+newUser.getPassword());\n                userAuthenticated = false;\n            }while(running);\n\n            System.out.println(\"Ending Client : ID - \" + clientID + \" : Address - \"\n                    + clientSocket.getInetAddress().getHostName());\n        } catch (Exception e) {\n          e.printStackTrace();\n        }\n      }\n    }\n\n\n    User\n\n    public class User implements Serializable{\n        String name = \"\";\n        String password = \"\";\n\n        boolean userAuthenticated = false;\n\n        User(String name, String password) {\n            this.name = name;\n            this.password = password;\n        }\n\n        User(){}\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public void setPassword(String password) {\n            this.password = password;\n        }\n\n        public void setAthentication(boolean userAuthenticated) {\n            this.userAuthenticated = userAuthenticated;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public String getPassword() {\n            return password;\n        }\n\n        public boolean getAthentication() {\n            return userAuthenticated;\n        }\n    }\n</code></pre>\n"}, {"tags": ["java", "final"], "comments": [{"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 1, "creation_date": 1452122193, "post_id": 34644641, "comment_id": 57035178, "body": "&quot;drinkNo is cast to an integer&quot; No it isn&#39;t (and what integer could it be cast to, anyway?). <code>Bundle.get</code> takes a String parameter, and for this key happens to return a value which can be cast to <code>Integer</code>.."}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1452122343, "post_id": 34644641, "comment_id": 57035235, "body": "This question has nothing to do with the <code>final</code> keyword - it would work exactly the same without it (assuming nobody nefariously changes the value of <code>EXTRA_DRINKNO</code>)."}, {"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 0, "creation_date": 1452123346, "post_id": 34644641, "comment_id": 57035608, "body": "This <code>intent.putExtra(DrinkActivity.EXTRA_DRINKNO, (int) id);</code> is equivalent to <code>intent.putExtra(&quot;drinkNo&quot;, (int) id);</code> and <code>(Integer)getIntent().getExtras().get(EXTRA_DRINKNO);</code> is equivalent to <code>(Integer)getIntent().getExtras().get(&quot;drinkNo&quot;);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 22219, "user_id": 14663, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/611db642b9164a9425f953071a5939ff?s=128&d=identicon&r=PG", "display_name": "WW.", "link": "https://stackoverflow.com/users/14663/ww"}, "is_accepted": true, "score": 1, "last_activity_date": 1452122221, "creation_date": 1452122221, "answer_id": 34644682, "question_id": 34644641, "link": "https://stackoverflow.com/questions/34644641/use-of-final-keyword-in-android/34644682#34644682", "title": "use of final keyword in android", "body": "<p><code>EXTRA_DRINKNO</code> represents the key into the map, it's not the integer value.  Perhaps it would be better named <code>EXTRA_DRINKNO_KEY</code>.</p>\n\n<p><code>get(EXTRA_DRINKNO)</code> is extracting the integer from <code>getExtras()</code> using the string value as a key.</p>\n\n<p>The variable <code>drinkNo</code> represents the actual integer value.</p>\n"}, {"tags": [], "owner": {"reputation": 4970, "user_id": 892788, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e233ae4d7776dd50ffc5dd43eab2d8e8?s=128&d=identicon&r=PG", "display_name": "diyoda_", "link": "https://stackoverflow.com/users/892788/diyoda"}, "is_accepted": false, "score": 0, "last_activity_date": 1452122830, "creation_date": 1452122830, "answer_id": 34644800, "question_id": 34644641, "link": "https://stackoverflow.com/questions/34644641/use-of-final-keyword-in-android/34644800#34644800", "title": "use of final keyword in android", "body": "<p>I think you are talking about the <code>final</code> in  your </p>\n\n<pre><code>public static final String EXTRA_DRINKNO = \"drinkNo\";\n</code></pre>\n\n<p>That is just there to get a global access without been able to change that variable again because it is used as a KEY for your Extras which is going to go in to your intent.</p>\n\n<p>You can use, </p>\n\n<pre><code>int drinkNo = getIntent().getIntExtra(DrinkActivity.EXTRA_DRINKNO, -1);\n</code></pre>\n\n<p>-1 will get assigned to drinkNo if you did not have this,</p>\n\n<pre><code>intent.putExtra(DrinkActivity.EXTRA_DRINKNO, (int) id);\n</code></pre>\n\n<p>I am not sue about the <code>(int) id</code> <em>cast</em>. It is probably redundant.</p>\n"}], "owner": {"reputation": 3, "user_id": 5239089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1362f109440ab521e487a26491e7fde8?s=128&d=identicon&r=PG&f=1", "display_name": "lancsDavid", "link": "https://stackoverflow.com/users/5239089/lancsdavid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 34644682, "answer_count": 2, "score": -1, "last_activity_date": 1452122830, "creation_date": 1452122031, "last_edit_date": 1452122231, "question_id": 34644641, "link": "https://stackoverflow.com/questions/34644641/use-of-final-keyword-in-android", "title": "use of final keyword in android", "body": "<p>One activity calls this</p>\n\n<pre><code>Intent intent = new Intent(DrinkCategoryActivity.this, DrinkActivity.class);\nintent.putExtra(DrinkActivity.EXTRA_DRINKNO, (int) id);\n</code></pre>\n\n<p>and then in another activity, the one that receives the intent, is the following code</p>\n\n<pre><code>public class DrinkActivity extends Activity {\n    public static final String EXTRA_DRINKNO = \"drinkNo\";       // ???????\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n       super.onCreate(savedInstanceState);\n       setContentView(R.layout.activity_drink);\n\n       // Get the drink from the intent\n       int drinkNo = (Integer)getIntent().getExtras().get(EXTRA_DRINKNO);   // ?????\n       Drink drink = Drink.drinks[drinkNo];\n</code></pre>\n\n<p>The part I don't understand is the whole declaration and definition of the <code>EXTRA_DRINKNO</code> variable in the second activity. First, I was just expecting it to be defined as an <code>int</code> NOT as a <code>String</code>. What is the point of assigning it an actual value of <code>\"drinkNo\"</code>?</p>\n\n<p>Then later (see the second question mark marked line) <code>drinkNo</code> is cast to an <code>Integer</code>. Is this even the same variable?</p>\n"}, {"tags": ["java", "android", "dalvik", "unsatisfiedlinkerror", "myo"], "comments": [{"owner": {"reputation": 2357, "user_id": 1017985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7ZFXf.png?s=128&g=1", "display_name": "geisshirt", "link": "https://stackoverflow.com/users/1017985/geisshirt"}, "edited": false, "score": 0, "creation_date": 1452162644, "post_id": 34644616, "comment_id": 57050622, "body": "Did you add <code>libgesture-classifier.so</code> files to your app?"}, {"owner": {"reputation": 303, "user_id": 2363767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc2b73eed24f9a4f51f1c9c50c7f6ecd?s=128&d=identicon&r=PG", "display_name": "jasiek.miko", "link": "https://stackoverflow.com/users/2363767/jasiek-miko"}, "reply_to_user": {"reputation": 2357, "user_id": 1017985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7ZFXf.png?s=128&g=1", "display_name": "geisshirt", "link": "https://stackoverflow.com/users/1017985/geisshirt"}, "edited": false, "score": 0, "creation_date": 1452198783, "post_id": 34644616, "comment_id": 57074764, "body": "Yes, see the edit in the question :)"}, {"owner": {"reputation": 6348, "user_id": 1495081, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/T0tix.jpg?s=128&g=1", "display_name": "JiTHiN", "link": "https://stackoverflow.com/users/1495081/jithin"}, "edited": false, "score": 0, "creation_date": 1452238184, "post_id": 34644616, "comment_id": 57088444, "body": "@user2363767: Have you found a proper solution for this? I manually copied the .so files to <code>src&#47;main&#47;jniLibs</code> folder as a workaround."}, {"owner": {"reputation": 303, "user_id": 2363767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc2b73eed24f9a4f51f1c9c50c7f6ecd?s=128&d=identicon&r=PG", "display_name": "jasiek.miko", "link": "https://stackoverflow.com/users/2363767/jasiek-miko"}, "edited": false, "score": 0, "creation_date": 1452245744, "post_id": 34644616, "comment_id": 57092406, "body": "No, I haven&#39;t... but the workaround does work, thank you so much!! :)"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 6318868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbdd464c4ecad5d3b4a98dbc502c58e3?s=128&d=identicon&r=PG&f=1", "display_name": "P. Brandt", "link": "https://stackoverflow.com/users/6318868/p-brandt"}, "is_accepted": false, "score": 1, "last_activity_date": 1464598606, "last_edit_date": 1464598606, "creation_date": 1464598500, "answer_id": 37521530, "question_id": 34644616, "link": "https://stackoverflow.com/questions/34644616/unsatisfied-link-error-when-initializing-myo-hub-on-android/37521530#37521530", "title": "Unsatisfied Link Error when initializing Myo hub on Android", "body": "<p>I could resolve the issue by switching back to an earlier version of the gradle plugin for Android. There seems to be a problem with the native libraries within the myosdk, they do not get copied correctly.</p>\n\n<p>Simply edit the build.gradle file from the project. Version 1.3.0 worked for me.</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        **classpath 'com.android.tools.build:gradle:1.3.0'**\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 2363767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc2b73eed24f9a4f51f1c9c50c7f6ecd?s=128&d=identicon&r=PG", "display_name": "jasiek.miko", "link": "https://stackoverflow.com/users/2363767/jasiek-miko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 958, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1464598606, "creation_date": 1452121887, "last_edit_date": 1452249176, "question_id": 34644616, "link": "https://stackoverflow.com/questions/34644616/unsatisfied-link-error-when-initializing-myo-hub-on-android", "title": "Unsatisfied Link Error when initializing Myo hub on Android", "body": "<p>I'm developing an Android application which will use <a href=\"https://developer.thalmic.com/\" rel=\"nofollow noreferrer\">Myo</a> armband. I want to implement it as an accessibility service, so that gestured detected by the armband could, e.g. navigate home etc.</p>\n\n<p>I'm trying to initialize the hub, but the app stops with the following error stack:</p>\n\n<pre><code>01-06 23:42:41.222 11979-11979/eu.miko.myoid E/AndroidRuntime: FATAL EXCEPTION: main\n                                                           Process: eu.miko.myoid, PID: 11979\n                                                           java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file \"/data/app/eu.miko.myoid-1/base.apk\"],nativeLibraryDirectories=[/data/app/eu.miko.myoid-1/lib/arm, /vendor/lib, /system/lib]]] couldn't find \"libgesture-classifier.so\"\n                                                               at java.lang.Runtime.loadLibrary(Runtime.java:367)\n                                                               at java.lang.System.loadLibrary(System.java:1076)\n                                                               at com.thalmic.myo.scanner.Scanner.&lt;clinit&gt;(Scanner.java:31)\n                                                               at com.thalmic.myo.Hub.init(Hub.java:201)\n                                                               at eu.miko.myoid.MyoidAccessibilityService.onCreate(MyoidAccessibilityService.java:21)\n                                                               at android.app.ActivityThread.handleCreateService(ActivityThread.java:2877)\n                                                               at android.app.ActivityThread.-wrap4(ActivityThread.java)\n                                                               at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1427)\n                                                               at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                               at android.os.Looper.loop(Looper.java:148)\n                                                               at android.app.ActivityThread.main(ActivityThread.java:5417)\n                                                               at java.lang.reflect.Method.invoke(Native Method)\n                                                               at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n                                                               at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n</code></pre>\n\n<p>This is the code I use for hub initialization, as per Myo documentation. I've tried putting it in both the onCreate and onServiceConnected methods of the accessibility service, the error comes up anyhow.</p>\n\n<pre><code>    Hub hub = Hub.getInstance();\n    if (hub.init(this, getPackageName())) {\n        Intent intent = new Intent(this, ScanActivity.class);\n        startActivity(intent);\n\n        hub.setLockingPolicy(Hub.LockingPolicy.NONE);\n\n        hub.addListener(mListener);\n    }\n    else {\n        Log.e(TAG, \"Could not initialize the Hub.\");\n    }\n</code></pre>\n\n<p>I'm using the most recent Myo Android SDK. Testing on Nexus 5 with most recent firmware.</p>\n\n<p>To me it seems like an error inside of the SDK, but perhaps it's something to do with my configuration? Any help would be appreciated.</p>\n\n<p>The samples given in the SDK don't seem to suffer from the same issue though.</p>\n\n<p>In theory, the libgesture-classifier.so file is added, through the following:</p>\n\n<ol>\n<li><p>I'm including the Myo SDK in the project through the build.gradle file:</p>\n\n<pre><code>dependencies {\n    ...    \n    repositories {\n        maven {\n            // this must point to the myorepository distributed with the Myo SDK\n            url '../myorepository'\n        }\n    }\ncompile('com.thalmic:myosdk:0.10.+@aar')\n}\n</code></pre></li>\n<li><p>The myorepository contains myosdk-0.10.0.aar.</p></li>\n<li><p>Which, when I examine it as a zip, contains libs/native-libs.jar</p></li>\n<li><p>Which, in turn when examined as a zip, contains <img src=\"https://i.imgur.com/Zuek9Gf.png?1\" alt=\"a list of architecture folders\">, each of which contains the single file libgesture-classifier.so</p></li>\n</ol>\n"}, {"tags": ["java", "spring", "jpa", "spring-data-jpa"], "answers": [{"tags": [], "owner": {"reputation": 3214, "user_id": 3060803, "user_type": "registered", "accept_rate": 96, "profile_image": "https://graph.facebook.com/1224856179/picture?type=large", "display_name": "m.aibin", "link": "https://stackoverflow.com/users/3060803/m-aibin"}, "is_accepted": false, "score": 1, "last_activity_date": 1452139659, "creation_date": 1452139659, "answer_id": 34647189, "question_id": 34644598, "link": "https://stackoverflow.com/questions/34644598/spring-data-jpa-filtering-page-contents-results-in-a-smaller-page-than-requeste/34647189#34647189", "title": "Spring Data JPA: Filtering page contents results in a smaller page than requested", "body": "<p>In my opinion it release depends what you will send by this API.</p>\n\n<p><strong>Case 1:</strong>\nYou want to obtain notification list -> than you can just simply return smaller list, after removal of some of them, and it will not affect the UX.</p>\n\n<p><strong>Case 2:</strong>\nYou want to obtain ranking of 20 users for specific country, that's why you remove some of them. Then you really need to return 20 users, so it's better to implement some customised logic. Artificially increased page sounds not efficient at all.</p>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 16567, "user_id": 314073, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/46759d023e5fcbceda08dddd93bc23c7?s=128&d=identicon&r=PG", "display_name": "Xorty", "link": "https://stackoverflow.com/users/314073/xorty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 776, "favorite_count": 2, "answer_count": 1, "score": 4, "last_activity_date": 1452139659, "creation_date": 1452121805, "last_edit_date": 1452139256, "question_id": 34644598, "link": "https://stackoverflow.com/questions/34644598/spring-data-jpa-filtering-page-contents-results-in-a-smaller-page-than-requeste", "title": "Spring Data JPA: Filtering page contents results in a smaller page than requested", "body": "<h2>Situation</h2>\n\n<p>We're building a simple API to get <em>Bar</em>s that belong to a given <em>Foo</em> using pagination like like:</p>\n\n<p><code>GET /foo/1/bar?pageSize=50&amp;pageOffset=1</code></p>\n\n<p>On the backend, we utilise Spring Data JPA pagination support like:</p>\n\n<pre><code>Page&lt;Bar&gt; barsPage = repo.findBarsForFoo(fooId, new PageRequest(pageOffset, pageSize));\n</code></pre>\n\n<h2>Problem</h2>\n\n<p>We need to filter out certain elements from barPage - easy, like:</p>\n\n<p><code>List&lt;Bar&gt; filtered = barsFilter.removeSome(barsPage.getContent())</code></p>\n\n<p>Filtering component delegates to other services (let's call them rejectors):</p>\n\n<pre><code>class BarsFilter {\n  @Autowired Rejector1 rejector1;\n  @Autowired Rejector2 rejector2;\n\n  public List&lt;Bar&gt; filterSome(List&lt;Bar&gt; bars) {\n    return bars.stream()\n      .filter(bar -&gt; rejector1.matches(bar))\n      .filter(bar -&gt; rejector2.matches(bar))\n      .collect(toList());\n  }\n}\n</code></pre>\n\n<p>The problem is that API client will get <em>smaller amout of items</em> than they requested.</p>\n\n<h3>Gotchas</h3>\n\n<p>Filtering logic is complex and it relies on other components. It can't be written as a single DB query.</p>\n\n<p>What would be the most reasonable thing to do here? Return a smaller page? Artificially increase the page size? Utilise some Spring Data or JPA mechanism to support this custom logic?</p>\n"}, {"tags": ["java", "java.util.scanner", "whitespace", "joptionpane"], "comments": [{"owner": {"reputation": 303, "user_id": 3284549, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/637a522a25a05646fe2147e5f3dc16de?s=128&d=identicon&r=PG&f=1", "display_name": "user3284549", "link": "https://stackoverflow.com/users/3284549/user3284549"}, "edited": false, "score": 3, "creation_date": 1452121853, "post_id": 34644583, "comment_id": 57035047, "body": "See <a href=\"http://stackoverflow.com/questions/19509647/scanner-doesnt-see-after-space\" title=\"scanner doesnt see after space\">stackoverflow.com/questions/19509647/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "is_accepted": true, "score": 1, "last_activity_date": 1452121828, "creation_date": 1452121828, "answer_id": 34644605, "question_id": 34644583, "link": "https://stackoverflow.com/questions/34644583/difference-between-string-loaded-from-scanner-and-joptionpane/34644605#34644605", "title": "Difference between String loaded from Scanner and JOptionPane", "body": "<p><code>sc.next()</code> only returns a single token, so it only gets the <code>Dami</code> the first time you call it, not <code>Dami an</code>. You'd get <code>an</code> if you called <code>sc.next()</code> again.</p>\n\n<p>Use <code>sc.nextLine()</code> if you want to get the whole line at once.</p>\n"}, {"comments": [{"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1452122045, "post_id": 34644609, "comment_id": 57035121, "body": "Or Scanner#nextLine depending on your needs"}, {"owner": {"reputation": 14917, "user_id": 1123020, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/78465afdabcd3781cf060e74fd28cfab?s=128&d=identicon&r=PG&f=1", "display_name": "Yoda", "link": "https://stackoverflow.com/users/1123020/yoda"}, "reply_to_user": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1452122417, "post_id": 34644609, "comment_id": 57035266, "body": "@MadProgrammer Is <code>Scanner.nextLine()</code> faster in any situation? I read that it has buffer under it but when I used scanner to read numbers into arrray and measured time it was always slower than <code>BufferedReader.nextLine()</code> and then <code>String.split()</code> and then <code>Integer.parseInt()</code> which seams weird."}, {"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1452123003, "post_id": 34644609, "comment_id": 57035484, "body": "This isn&#39;t a time critical question, the simplest solution to solve the op&#39;s problem is to use nextLine. Would I use Scanner? Probably not, but it wasn&#39;t available when I started with Java (ps I&#39;m not complaining about your answer per say, just that in this case, next/nextLine are the differences)"}], "tags": [], "owner": {"reputation": 14917, "user_id": 1123020, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/78465afdabcd3781cf060e74fd28cfab?s=128&d=identicon&r=PG&f=1", "display_name": "Yoda", "link": "https://stackoverflow.com/users/1123020/yoda"}, "is_accepted": false, "score": 1, "last_activity_date": 1452122067, "last_edit_date": 1452122067, "creation_date": 1452121869, "answer_id": 34644609, "question_id": 34644583, "link": "https://stackoverflow.com/questions/34644583/difference-between-string-loaded-from-scanner-and-joptionpane/34644609#34644609", "title": "Difference between String loaded from Scanner and JOptionPane", "body": "<p>Because <code>Scanner.next()</code> method fetches next token which is <code>Dami</code>, the <code>an</code> is the second token just after <code>Dami</code>.</p>\n\n<p>If you want whole line to be read the most efficient(performance-wise) way you might want to use:</p>\n\n<pre><code>try(BufferedReader br = new BufferedReader(new InputStreamReader(System.in))){\nString s = br.readLine();\n}catch(IOException e){e.printStackTrace();}\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 5666552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f2368e856572af52d059dae90c3427c?s=128&d=identicon&r=PG&f=1", "display_name": "DamDev", "link": "https://stackoverflow.com/users/5666552/damdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1185, "favorite_count": 0, "accepted_answer_id": 34644605, "answer_count": 2, "score": 0, "last_activity_date": 1494859753, "creation_date": 1452121747, "last_edit_date": 1494859753, "question_id": 34644583, "link": "https://stackoverflow.com/questions/34644583/difference-between-string-loaded-from-scanner-and-joptionpane", "title": "Difference between String loaded from Scanner and JOptionPane", "body": "<p>I am wondering what's the difference between String object loaded from Scanner.next() and JOprionPane.showInputDialog(\"text\");</p>\n\n<p>I had a problem in my small program, when I used Scanner:</p>\n\n<pre><code> Scanner sc = new Scanner(System.in);\n String s = sc.next();\n s = s.replaceAll(\"\\\\s+\", \"\");\n</code></pre>\n\n<p>and I wrote, let's say \"Dami an\" the result was \"Dami\"</p>\n\n<p>but when I loaded String using JOptionPane:</p>\n\n<pre><code>    String s = JOptionPane.showInputDialog(\"Text\");\n    s = s.replaceAll(\"\\\\s+\", \"\");\n</code></pre>\n\n<p>the result was (as I expected in the previous example) \"Damian\".</p>\n\n<p>Why the results are different?</p>\n\n<p>Thanks for help :)</p>\n\n<p>Best regards :D</p>\n"}, {"tags": ["java", "jar", "import", "sublimetext2"], "comments": [{"owner": {"reputation": 10279, "user_id": 4138801, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh4.googleusercontent.com/-aVJI2hM4hYc/AAAAAAAAAAI/AAAAAAAAAEk/cXFqsfUYh0o/photo.jpg?sz=128", "display_name": "Clashsoft", "link": "https://stackoverflow.com/users/4138801/clashsoft"}, "edited": false, "score": 0, "creation_date": 1452122195, "post_id": 34644569, "comment_id": 57035179, "body": "&#39;Scrap Sublime and get a proper IDE&#39;"}, {"owner": {"reputation": 891, "user_id": 5705883, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2bf4c4143fc7c379ad4b344465466190?s=128&d=identicon&r=PG&f=1", "display_name": "Arefe", "link": "https://stackoverflow.com/users/5705883/arefe"}, "reply_to_user": {"reputation": 10279, "user_id": 4138801, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh4.googleusercontent.com/-aVJI2hM4hYc/AAAAAAAAAAI/AAAAAAAAAEk/cXFqsfUYh0o/photo.jpg?sz=128", "display_name": "Clashsoft", "link": "https://stackoverflow.com/users/4138801/clashsoft"}, "edited": false, "score": 0, "creation_date": 1452122370, "post_id": 34644569, "comment_id": 57035245, "body": "For large projects, I use eclipse, but, I really admire this editor and would like to know if I can write the unit tests here."}, {"owner": {"reputation": 10279, "user_id": 4138801, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh4.googleusercontent.com/-aVJI2hM4hYc/AAAAAAAAAAI/AAAAAAAAAEk/cXFqsfUYh0o/photo.jpg?sz=128", "display_name": "Clashsoft", "link": "https://stackoverflow.com/users/4138801/clashsoft"}, "edited": false, "score": 2, "creation_date": 1452122544, "post_id": 34644569, "comment_id": 57035319, "body": "I don&#39;t know Sublime, but you usually add libraries as launch arguments to the compiler. Like <code>javac -cp bla.jar Foo.java</code>"}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1452122754, "post_id": 34644569, "comment_id": 57035395, "body": "Your errors have absolutely nothing to do with Sublime, they have to do with how you&#39;re executing your code - you are obviously missing a config option somewhere (sorry, I don&#39;t do Java). Sublime is a glorified text editor - it&#39;s great for interpreted languages like Python, and stuff like C or C++, but for Java I&#39;d definitely recommend using an IDE. Sublime just doesn&#39;t have the support for it."}, {"owner": {"reputation": 891, "user_id": 5705883, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2bf4c4143fc7c379ad4b344465466190?s=128&d=identicon&r=PG&f=1", "display_name": "Arefe", "link": "https://stackoverflow.com/users/5705883/arefe"}, "edited": false, "score": 0, "creation_date": 1452123118, "post_id": 34644569, "comment_id": 57035532, "body": "I know obviously I&#39;m missing something :)"}, {"owner": {"reputation": 21075, "user_id": 196206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b3e5f05b6457facb417239ce03739cb?s=128&d=identicon&r=PG", "display_name": "Messa", "link": "https://stackoverflow.com/users/196206/messa"}, "edited": false, "score": 0, "creation_date": 1452134291, "post_id": 34644569, "comment_id": 57038685, "body": "How do you build - what command are you running in that console?"}], "owner": {"reputation": 891, "user_id": 5705883, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2bf4c4143fc7c379ad4b344465466190?s=128&d=identicon&r=PG&f=1", "display_name": "Arefe", "link": "https://stackoverflow.com/users/5705883/arefe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1999, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1452121680, "creation_date": 1452121680, "question_id": 34644569, "link": "https://stackoverflow.com/questions/34644569/how-to-import-external-jars-in-sublime-text-2", "title": "How to import external JARs in sublime text 2?", "body": "<p>Please, excuse me if this is not the proper question to ask here. I'm using sublime text for wiring Java for a while and I really like it, specially, using the <em>snippets</em>. All the necessary imports was just fine and I never needed to do anything else. Say, the following imports works just fine, </p>\n\n<pre><code>import java.util.*;\nimport java.util.stream.*;\nimport java.lang.*;\n</code></pre>\n\n<p>However, now I need to write some unit tests and the necessary imports is not working. I get this error message in the Mac console, </p>\n\n<p><a href=\"https://i.stack.imgur.com/SJT9h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SJT9h.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I perform the unit tests in Sublime ? </p>\n"}, {"tags": ["java", "android", "datagram"], "answers": [{"comments": [{"owner": {"reputation": 1331, "user_id": 4933053, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a1ebbe8ca764645c5a0af472ec44bfa4?s=128&d=identicon&r=PG&f=1", "display_name": "qrtLs", "link": "https://stackoverflow.com/users/4933053/qrtls"}, "edited": false, "score": 0, "creation_date": 1452124527, "post_id": 34645040, "comment_id": 57036006, "body": "Any suggestions for Android in UDP.  Under TCP its 64 says this:  <a href=\"http://noahdavids.org/self_published/TTL_values.html\" rel=\"nofollow noreferrer\">noahdavids.org/self_published/TTL_values.html</a>    I wonder why android is not more specific about it as it could prevent MulticastSocket implementation"}], "tags": [], "owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "is_accepted": false, "score": 0, "last_activity_date": 1452124204, "creation_date": 1452124204, "answer_id": 34645040, "question_id": 34644516, "link": "https://stackoverflow.com/questions/34644516/what-is-the-ttl-for-datagrams-send-per-datagramsocket-in-java/34645040#34645040", "title": "What is the TTL for Datagrams send per DatagramSocket in Java?", "body": "<ul>\n<li>The way to 'ensure everyone inside the group gets the DP' is obviously to send it from a <code>MulticastSocket</code> and set the TTL appropriately, although  describing that as 'ensuring' is inaccurate, as it only controls the TTL and has no effect on packet drops for other reasons.</li>\n<li><code>DatagramSocket</code> sets the TTL to some default imposed by the platform.</li>\n</ul>\n"}], "owner": {"reputation": 1331, "user_id": 4933053, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a1ebbe8ca764645c5a0af472ec44bfa4?s=128&d=identicon&r=PG&f=1", "display_name": "qrtLs", "link": "https://stackoverflow.com/users/4933053/qrtls"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 728, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452124204, "creation_date": 1452121329, "question_id": 34644516, "link": "https://stackoverflow.com/questions/34644516/what-is-the-ttl-for-datagrams-send-per-datagramsocket-in-java", "title": "What is the TTL for Datagrams send per DatagramSocket in Java?", "body": "<p>How to determine the time-to-live of a Datagram, when its sent from a DatagramSocket and inside Multicast-Adressrange? I try to find out how far the DP is routed, but I cant find anything useful under <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/DatagramSocket.html\" rel=\"nofollow\">oracle</a>. MulticastSocket does provide the option and has the default ttl of 1, which makes the DP stay inside the subnet. But how is the scope of a DP from a DatagramSocket determined? How to make sure everyone inside the group gets the DP?</p>\n"}, {"tags": ["java", "email", "javafx-8"], "answers": [{"tags": [], "owner": {"reputation": 3849, "user_id": 3385595, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e9a71c4eca3015d6084599f9ff60796e?s=128&d=identicon&r=PG", "display_name": "purring pigeon", "link": "https://stackoverflow.com/users/3385595/purring-pigeon"}, "is_accepted": true, "score": 0, "last_activity_date": 1452122266, "last_edit_date": 1452122266, "creation_date": 1452121690, "answer_id": 34644572, "question_id": 34644515, "link": "https://stackoverflow.com/questions/34644515/how-to-send-multi-parmater-email-link-using-hostservices-showdocument/34644572#34644572", "title": "How to send multi parmater email link using HostServices.showDocument?", "body": "<p>I just found out that switching the \"&amp;\" after the &amp;body tag to %26 works and allows the full URL.</p>\n"}], "owner": {"reputation": 3849, "user_id": 3385595, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e9a71c4eca3015d6084599f9ff60796e?s=128&d=identicon&r=PG", "display_name": "purring pigeon", "link": "https://stackoverflow.com/users/3385595/purring-pigeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 34644572, "answer_count": 1, "score": 1, "last_activity_date": 1452122266, "creation_date": 1452121326, "question_id": 34644515, "link": "https://stackoverflow.com/questions/34644515/how-to-send-multi-parmater-email-link-using-hostservices-showdocument", "title": "How to send multi parmater email link using HostServices.showDocument?", "body": "<p>I am trying to generate an email using:</p>\n\n<pre><code>String emailAddress = \"someone@somewhere.com\";\nhostServices.showDocument(\"mailto:\" +\nemailAddress + \n\"?Subject=This is my subject\" + \n\"&amp;body=Please see the details at this link: \"\n+ \"http://myserver.com:8080/application/page.html?param1=SOMETHING&amp;param2=12345\";\n</code></pre>\n\n<p>This creates the email correctly up to the second parameter and my email string looks like this:</p>\n\n<p>Please see the details at this link: <a href=\"http://myserver.com:8080/application/page.html?param1=SOMETHING\" rel=\"nofollow\">http://myserver.com:8080/application/page.html?param1=SOMETHING</a></p>\n\n<p>Is there a way to escape that so I get the full URL?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["java", "iterable"], "comments": [{"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 2, "creation_date": 1452121017, "post_id": 34644429, "comment_id": 57034714, "body": "What are <code>in1</code> and <code>in2</code>? Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 2, "creation_date": 1452121074, "post_id": 34644429, "comment_id": 57034733, "body": "Why is <code>docs</code> <code>static</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 182833, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "is_accepted": true, "score": 4, "last_activity_date": 1452121077, "creation_date": 1452121077, "answer_id": 34644474, "question_id": 34644429, "link": "https://stackoverflow.com/questions/34644429/java-iterable-why-is-iterator-for-one-object-iterates-over-data-from-another/34644474#34644474", "title": "Java iterable: why is iterator for one object iterates over data from another?", "body": "<p>Remove the <code>static</code> in your declaration of <code>docs</code> (that restricts the class to one, and only one, <code>List</code> for all instances of <code>DocumentList</code>).</p>\n\n<pre><code>private ArrayList&lt;Document&gt; docs = null; // &lt;-- not static.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2079, "user_id": 3558133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac750943326743dd257e5e46ead59b7a?s=128&d=identicon&r=PG", "display_name": "Marcinek", "link": "https://stackoverflow.com/users/3558133/marcinek"}, "is_accepted": false, "score": 1, "last_activity_date": 1452121117, "creation_date": 1452121117, "answer_id": 34644482, "question_id": 34644429, "link": "https://stackoverflow.com/questions/34644429/java-iterable-why-is-iterator-for-one-object-iterates-over-data-from-another/34644482#34644482", "title": "Java iterable: why is iterator for one object iterates over data from another?", "body": "<p>Your declaration of docs <code>ArrayList</code> is static.  <code>private static ArrayList&lt;Document&gt; docs = null</code>; Thus this ArrayList is the same for every instance of <code>DocumentList</code> </p>\n"}], "owner": {"reputation": 4929, "user_id": 1054435, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/DYDWj.png?s=128&g=1", "display_name": "I Z", "link": "https://stackoverflow.com/users/1054435/i-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 34644474, "answer_count": 2, "score": 2, "last_activity_date": 1452121223, "creation_date": 1452120942, "question_id": 34644429, "link": "https://stackoverflow.com/questions/34644429/java-iterable-why-is-iterator-for-one-object-iterates-over-data-from-another", "title": "Java iterable: why is iterator for one object iterates over data from another?", "body": "<p>This is the first time I am working with Java <code>Iterable</code>'s and I ran into an issue that (i) is driving me mad and (ii) shows how little I understand!</p>\n\n<p>I have the following class:</p>\n\n<pre><code>public class DocumentList implements Iterable&lt;Document&gt; {\n\nprivate static ArrayList&lt;Document&gt; docs = null;\n// other vars...\n\npublic DocumentList(InputStream in) {\n\n    // load list from in\n\n}\n\n// other methods...\n\npublic Iterator&lt;Document&gt; iterator() {\n    return new DocSetIterator();\n}\n\nprivate class DocSetIterator implements Iterator&lt;Document&gt; {\n    private int ix = 0;\n\n    public DocSetIterator() {\n        ix = 0;\n    }\n\n    public boolean hasNext() {\n        return ix &lt; nDocs;\n    }\n\n    public Document next() {\n        if(this.hasNext()) {\n            Document current = docs.get(ix++);\n            return current;\n        }\n        throw new NoSuchElementException();\n    }\n\n    public void remove() {\n        throw new UnsupportedOperationException();\n    }\n}\n\n}\n</code></pre>\n\n<p>where <code>Document</code> is another class. Then I have the following:</p>\n\n<pre><code>DocumentList dList1 = new DocumentList(in1);\nDocumentList dList2 = new DocumentList(in2);\n\nIterator&lt;Document&gt; it = dList2.iterator();\nwhile(it.hasNext()) {\n    Document d2 = it.next(); \n    // ...          \n}\n</code></pre>\n\n<p>I am expecting <code>d2</code> to be one of the elements of <code>dList2</code> but instead I am seeing contents of an element of <code>dList1</code>! What's going on here?</p>\n\n<p>Thx</p>\n"}, {"tags": ["java", "android", "xml", "android-studio"], "answers": [{"tags": [], "owner": {"reputation": 6669, "user_id": 4874146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bxg2I.png?s=128&g=1", "display_name": "Damian Kozlak", "link": "https://stackoverflow.com/users/4874146/damian-kozlak"}, "is_accepted": true, "score": 4, "last_activity_date": 1452120995, "creation_date": 1452120995, "answer_id": 34644447, "question_id": 34644416, "link": "https://stackoverflow.com/questions/34644416/create-button-to-call-specific-number-android-studio/34644447#34644447", "title": "Create button to call specific number - Android Studio", "body": "<p>Using <code>this</code> in your situation, you are reffering to <code>View.OnClickListener</code> (because <code>onClick()</code> it's overriden method inner class). You need to add your Activity class name before it (example below for <code>MainActivity</code>). </p>\n\n<p>Change </p>\n\n<pre><code>ActivityCompat.checkSelfPermission(this, Manifest.permission.CALL_PHONE)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CALL_PHONE)\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 4750203, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bf52be647f678d5e27618a041fab71e0?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_", "link": "https://stackoverflow.com/users/4750203/underscore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 915, "favorite_count": 0, "accepted_answer_id": 34644447, "answer_count": 1, "score": 2, "last_activity_date": 1452121589, "creation_date": 1452120866, "last_edit_date": 1452121589, "question_id": 34644416, "link": "https://stackoverflow.com/questions/34644416/create-button-to-call-specific-number-android-studio", "title": "Create button to call specific number - Android Studio", "body": "<p>I know this question has been answered a couple of times on here but I am having a slightly bigger issue with the problem as Android Studio is giving me errors I have not come across before (I am new at android programming).</p>\n\n<p>Inside the <code>AndroidManifest.xml</code> I have the following code:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.CALL_PHONE\"&gt;&lt;/uses-permission&gt;   \n</code></pre>\n\n<p>Inside the java class I have the following code:</p>\n\n<pre><code>Intent callIntent = new Intent(Intent.ACTION_CALL, Uri.parse(\"tel:123456789\"));\nstartActivity(callIntent);\n</code></pre>\n\n<p>My problem is that the <code>startActivity(callIntent);</code> is giving me the following error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xKvJV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xKvJV.png\" alt=\"enter image description here\"></a></p>\n\n<p>Which then lead Android Studio to add this:</p>\n\n<pre><code>Intent callIntent = new Intent(Intent.ACTION_CALL, Uri.parse(\"tel:123456789\"));\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CALL_PHONE) != PackageManager.PERMISSION_GRANTED) {\n                // TODO: Consider calling\n                //    ActivityCompat#requestPermissions\n                // here to request the missing permissions, and then overriding\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                //                                          int[] grantResults)\n                // to handle the case where the user grants the permission. See the documentation\n                // for ActivityCompat#requestPermissions for more details.\n                return;\n            }\n            startActivity(callIntent);\n</code></pre>\n\n<p>Android studio then gave one last error which was:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jfUFE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jfUFE.png\" alt=\"enter image description here\"></a></p>\n\n<p>I don't know what I am doing wrong here, could someone please help? </p>\n"}, {"tags": ["java", "javafx", "lambda"], "answers": [{"tags": [], "owner": {"reputation": 175606, "user_id": 2189127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e6e627b4b90ec816c5c7aa04cbcc26?s=128&d=identicon&r=PG", "display_name": "James_D", "link": "https://stackoverflow.com/users/2189127/james-d"}, "is_accepted": true, "score": 5, "last_activity_date": 1452121609, "creation_date": 1452121609, "answer_id": 34644558, "question_id": 34644398, "link": "https://stackoverflow.com/questions/34644398/difference-between-callbackp-r-and-functiont-r/34644558#34644558", "title": "Difference between Callback&lt;P,R&gt; and Function&lt;T,R&gt;", "body": "<p>Callback predates Function. (\"Since JavaFX 2.0\".) JavaFX needed that functionality, Java didn't have it, so JavaFX defined it. Then Java 8 introduced it in a more general context.</p>\n\n<p>You cannot cast one to the other, as neither is a subtype of the other. You can however assign one to another via lambdas, since the signature is the same. </p>\n\n<p>In other words:</p>\n\n<pre><code>Callback&lt;String, Integer&gt; lengthCB = s -&gt; s.length(); // or String::length\nFunction&lt;String, Integer&gt; lengthFunc = (Function&lt;String, Integer&gt;) lengthCB ;\n</code></pre>\n\n<p>gives a class cast exception, but </p>\n\n<pre><code>Callback&lt;String, Integer&gt; lengthCB = s -&gt; s.length(); // or String::length\nFunction&lt;String, Integer&gt; lengthFunc = lengthCB::call ;\n</code></pre>\n\n<p>is fine. </p>\n\n<p>As for which to use, if you're implementing them with lambdas (or method references), the question is usually moot, as the compiler will just infer the type from the context.</p>\n\n<p>If you're actually assigning them to variables, or implementing the interface with a class definition (not a lambda), then you are forced to choose a type. You should do so based on the desired use and context: if it's going to be passed to a JavaFX object that expects a callback, use a callback, otherwise use a function.</p>\n\n<p>If you're defining them as fields in a class, you should generally prefer <code>Function</code>, as it is intended for a wider context. Again if it's directly being used in a JavaFX control, it may make more sense to use a <code>Callback</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 21095, "user_id": 822588, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7bVy8.jpg?s=128&g=1", "display_name": "Sleiman Jneidi", "link": "https://stackoverflow.com/users/822588/sleiman-jneidi"}, "is_accepted": false, "score": 1, "last_activity_date": 1452121982, "last_edit_date": 1452121982, "creation_date": 1452121623, "answer_id": 34644560, "question_id": 34644398, "link": "https://stackoverflow.com/questions/34644398/difference-between-callbackp-r-and-functiont-r/34644560#34644560", "title": "Difference between Callback&lt;P,R&gt; and Function&lt;T,R&gt;", "body": "<p>Both interfaces are \"functional\" or single abstract method interfaces. One of the reasons why lambdas are implemented the way they are, is because single abstract method interface is an established pattern in Java, and Callback is an example. </p>\n\n<p>It might be considered a smell to use a class that comes from <code>javafx</code> where you have <code>java.util.function.Function</code> which comes with some additional useful default methods outside the UI code.</p>\n"}], "owner": {"reputation": 5973, "user_id": 4185959, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7cfcf34fe9158b62d7980842ea72c512?s=128&d=identicon&r=PG&f=1", "display_name": "Itai", "link": "https://stackoverflow.com/users/4185959/itai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 515, "favorite_count": 0, "accepted_answer_id": 34644558, "answer_count": 2, "score": 2, "last_activity_date": 1452121982, "creation_date": 1452120777, "question_id": 34644398, "link": "https://stackoverflow.com/questions/34644398/difference-between-callbackp-r-and-functiont-r", "title": "Difference between Callback&lt;P,R&gt; and Function&lt;T,R&gt;", "body": "<p><a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/util/Callback.html\" rel=\"nofollow\">Callback</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\" rel=\"nofollow\">Function</a> seem very similar. The only substantial difference I can find is that Function has some utility methods for composing functions, while Callback doesn't.  </p>\n\n<p>In my own code, I find myself sometimes using one and sometimes the other, without really thinking about it. Sure enough, they both happily accept lambdas of the same form.  </p>\n\n<p>As <code>Callback</code> is a JavaFX class, I assume it came second, so my question is- why was it created? Is there any <strong>concrete</strong> reason to use one over the other? Can one be safely cast as the other? </p>\n"}, {"tags": ["java", "arraylist", "filereader"], "comments": [{"owner": {"reputation": 4621, "user_id": 1939638, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vu1kQ.jpg?s=128&g=1", "display_name": "Matt Cremeens", "link": "https://stackoverflow.com/users/1939638/matt-cremeens"}, "edited": false, "score": 0, "creation_date": 1452121109, "post_id": 34644344, "comment_id": 57034754, "body": "Actually, I&#39;m surprised that the output isn&#39;t <code>world!</code> instead because once the <code>|</code> is encountered, the <code>ArrayList</code> is cleared."}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "reply_to_user": {"reputation": 4621, "user_id": 1939638, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vu1kQ.jpg?s=128&g=1", "display_name": "Matt Cremeens", "link": "https://stackoverflow.com/users/1939638/matt-cremeens"}, "edited": false, "score": 0, "creation_date": 1452121214, "post_id": 34644344, "comment_id": 57034797, "body": "@MattCremeens But it was added to <code>fileThings</code> (whatever that is), and it is there that <code>world!</code> is missing."}, {"owner": {"reputation": 4621, "user_id": 1939638, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vu1kQ.jpg?s=128&g=1", "display_name": "Matt Cremeens", "link": "https://stackoverflow.com/users/1939638/matt-cremeens"}, "reply_to_user": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1452121331, "post_id": 34644344, "comment_id": 57034840, "body": "@Andreas, ah, I understand now. I was thinking that the OP was printing the contents of <code>orderLine</code>."}, {"owner": {"reputation": 19566, "user_id": 81520, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LMhtf.png?s=128&g=1", "display_name": "Peter Perh&#225;\u010d", "link": "https://stackoverflow.com/users/81520/peter-perh%c3%a1%c4%8d"}, "edited": false, "score": 0, "creation_date": 1452121610, "post_id": 34644344, "comment_id": 57034959, "body": "have you tried javascript? you can do this easily in jQuery"}, {"owner": {"reputation": 67, "user_id": 5754719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33c81af985228ce302572096c8bc2e32?s=128&d=identicon&r=PG", "display_name": "wessltov", "link": "https://stackoverflow.com/users/5754719/wessltov"}, "reply_to_user": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1452155816, "post_id": 34644344, "comment_id": 57046214, "body": "@Andreas Whoops, missed something when copying. fileThings is just another ArrayList of String variables"}], "answers": [{"comments": [{"owner": {"reputation": 4621, "user_id": 1939638, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vu1kQ.jpg?s=128&g=1", "display_name": "Matt Cremeens", "link": "https://stackoverflow.com/users/1939638/matt-cremeens"}, "edited": false, "score": 0, "creation_date": 1452121182, "post_id": 34644366, "comment_id": 57034783, "body": "I&#39;m confused. It appears to me that <code>orderLine</code> is added to only when the <code>|</code> isn&#39;t encountered, as it is in the <code>else</code> clause. Maybe I&#39;m wrong."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 4621, "user_id": 1939638, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vu1kQ.jpg?s=128&g=1", "display_name": "Matt Cremeens", "link": "https://stackoverflow.com/users/1939638/matt-cremeens"}, "edited": false, "score": 0, "creation_date": 1452121235, "post_id": 34644366, "comment_id": 57034803, "body": "The OP didn&#39;t show the part of their code that displays the output, and I assumed the code outputs the contents of the fileThings list."}, {"owner": {"reputation": 4621, "user_id": 1939638, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vu1kQ.jpg?s=128&g=1", "display_name": "Matt Cremeens", "link": "https://stackoverflow.com/users/1939638/matt-cremeens"}, "edited": false, "score": 0, "creation_date": 1452121371, "post_id": 34644366, "comment_id": 57034856, "body": "I see now. Yes, you&#39;re right: the OP didn&#39;t say what they were outputting, which added to my confusion."}, {"owner": {"reputation": 67, "user_id": 5754719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33c81af985228ce302572096c8bc2e32?s=128&d=identicon&r=PG", "display_name": "wessltov", "link": "https://stackoverflow.com/users/5754719/wessltov"}, "edited": false, "score": 0, "creation_date": 1452156257, "post_id": 34644366, "comment_id": 57046429, "body": "@yole Ah, my bad. It just uses a for-each loop in main to output filleThings"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 3, "last_activity_date": 1452120636, "creation_date": 1452120636, "answer_id": 34644366, "question_id": 34644344, "link": "https://stackoverflow.com/questions/34644344/java-suddenly-stops-writing-to-arraylist/34644366#34644366", "title": "Java suddenly stops writing to ArrayList", "body": "<p>Your code appends data to the array list only when it sees the | character in the input data. Your input data contains only one | character. Therefore, you get only one line in the output ArrayList.</p>\n"}, {"comments": [{"owner": {"reputation": 67, "user_id": 5754719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33c81af985228ce302572096c8bc2e32?s=128&d=identicon&r=PG", "display_name": "wessltov", "link": "https://stackoverflow.com/users/5754719/wessltov"}, "edited": false, "score": 0, "creation_date": 1452155965, "post_id": 34644505, "comment_id": 57046288, "body": "Well, I should have known my code wasn&#39;t perfect (mainly because I only started Java a moth ago, and haven&#39;t tried anything too advanced).                                                                                          NetBeans told me to use try-with-resources too, but I don&#39;t know how that works yet. In fact, the code to read the file line by line is code I copied from the internet.                                                                                                                                                           But things like the split, I will look into"}], "tags": [], "owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "is_accepted": false, "score": 0, "last_activity_date": 1452121238, "creation_date": 1452121238, "answer_id": 34644505, "question_id": 34644344, "link": "https://stackoverflow.com/questions/34644344/java-suddenly-stops-writing-to-arraylist/34644505#34644505", "title": "Java suddenly stops writing to ArrayList", "body": "<p>As @yole already said in another answer, you only call <code>fileThings.add()</code> when you see a <code>|</code>, and there is no <code>|</code> at the end of the line.</p>\n\n<p>But, your code has a few performance issues, worst being the <code>String += String</code> construct. VERY bad for performance, given that the compiler converts that into:</p>\n\n<pre><code>endResult = new StringBuilder().append(endResult).append(singleChar).toString();\n</code></pre>\n\n<p>And that occurs in a loop. Yikes!</p>\n\n<p>Besides, why use <code>String currentChar = line.substring(character, character+1)</code> when you really want <code>char currentChar = line.charAt(character)</code>?</p>\n\n<p>For what you're doing, just split on <code>|</code>. Since the <code>split()</code> method takes a regular expression, and <code>|</code> has special meaning, it has to be escaped, and you should use try-with-resources:</p>\n\n<pre><code>try (BufferedReader dataReader = new BufferedReader(new FileReader(\"C:\\\\Users\\\\(my name)\\\\Desktop\\\\javaWrite.txt\"))) {\n    for (String line; (line = dataReader.readLine()) != null; ) {\n        for (String endResult : line.split(\"\\\\|\") {\n            fileThings.add(endResult);\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 5754719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33c81af985228ce302572096c8bc2e32?s=128&d=identicon&r=PG", "display_name": "wessltov", "link": "https://stackoverflow.com/users/5754719/wessltov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 34644366, "answer_count": 2, "score": 1, "last_activity_date": 1452121238, "creation_date": 1452120522, "last_edit_date": 1452120863, "question_id": 34644344, "link": "https://stackoverflow.com/questions/34644344/java-suddenly-stops-writing-to-arraylist", "title": "Java suddenly stops writing to ArrayList", "body": "<p>I'm trying to write something like a text file interpreter. I decided to start with the basics and write something that dissects a string:</p>\n\n<pre><code>public static void dataImport() throws IOException {\n\nBufferedReader dataReader = new BufferedReader(new FileReader(\"C:\\\\Users\\\\(my name)\\\\Desktop\\\\javaWrite.txt\"));\nArrayList&lt;String&gt; orderLine = new ArrayList&lt;&gt;();\n\nString line = null;\nString endResult = \"\";\nString currentChar = null;\n\nwhile((line = dataReader.readLine()) != null) {        \n        for(int character = 0; character &lt; line.length(); character++) {                \n            currentChar = line.substring(character, character+1);                                \n            if(currentChar.equals(\"|\")) {                    \n                for(String singleChar : orderLine) {                        \n                    endResult += singleChar;\n                }                    \n                fileThings.add(endResult);                    \n                endResult = \"\";\n                orderLine.clear();                    \n            }else{                    \n                orderLine.add(currentChar);\n            }                \n        }            \n}                \ndataReader.close();\n}\n</code></pre>\n\n<p>The text file it's reading from has \"Hello|world!\" writen.</p>\n\n<p>The code outputs \"Hello\", nothing else. When I had it output the currentChar variable inside the else, it just continued reading the whole sentense. So all evidence leads to ArrayList orderLine being the problem.</p>\n"}, {"tags": ["java", "jtextpane", "undo-redo"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 5754328, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/330b1a35d60beee70efeaa6910231447?s=128&d=identicon&r=PG&f=1", "display_name": "ThePrimedTNT", "link": "https://stackoverflow.com/users/5754328/theprimedtnt"}, "edited": false, "score": 0, "creation_date": 1452230523, "post_id": 34644544, "comment_id": 57085623, "body": "Would you happen to know how to get the text that was added/removed?"}, {"owner": {"reputation": 306906, "user_id": 131872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0ced8e21d2a761db718acb6362b9225?s=128&d=identicon&r=PG", "display_name": "camickr", "link": "https://stackoverflow.com/users/131872/camickr"}, "reply_to_user": {"reputation": 85, "user_id": 5754328, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/330b1a35d60beee70efeaa6910231447?s=128&d=identicon&r=PG&f=1", "display_name": "ThePrimedTNT", "link": "https://stackoverflow.com/users/5754328/theprimedtnt"}, "edited": false, "score": 0, "creation_date": 1452267132, "post_id": 34644544, "comment_id": 57106672, "body": "No I have tried many times but have never been able to get that information."}, {"owner": {"reputation": 3114, "user_id": 1874682, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/32ea99b99bec4a40c65bbac338d5a7ba?s=128&d=identicon&r=PG", "display_name": "drwatsoncode", "link": "https://stackoverflow.com/users/1874682/drwatsoncode"}, "edited": false, "score": 0, "creation_date": 1489008726, "post_id": 34644544, "comment_id": 72488713, "body": "I&#39;m performing some simple syntax higlighting in a JTextPane and the lack of built-in Undo/Redo was annoying. Fortunately I stumbled across the UndoManager, but unfortunately the syntax highlighting produced numerous insignificant edits that would have made the UndoManager useless without this great answer. Thanks!"}], "tags": [], "owner": {"reputation": 306906, "user_id": 131872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0ced8e21d2a761db718acb6362b9225?s=128&d=identicon&r=PG", "display_name": "camickr", "link": "https://stackoverflow.com/users/131872/camickr"}, "is_accepted": true, "score": 4, "last_activity_date": 1452121517, "creation_date": 1452121517, "answer_id": 34644544, "question_id": 34644306, "link": "https://stackoverflow.com/questions/34644306/undo-and-redo-in-jtextpane-ignoring-style-changes/34644544#34644544", "title": "Undo And Redo In JTextPane Ignoring Style Changes", "body": "<p>I've never tried it, but I would guess you can create a custom UndoManager.</p>\n\n<p>You would need to override the <code>undoableEditHappend(...)</code> method to ignore an attribute change:</p>\n\n<pre><code>@Override\npublic void undoableEditHappened(UndoableEditEvent e)\n{\n    //  Check for an attribute change\n\n    AbstractDocument.DefaultDocumentEvent event =\n        (AbstractDocument.DefaultDocumentEvent)e.getEdit();\n\n    if  (event.getType().equals(DocumentEvent.EventType.CHANGE))\n        return\n    else\n        super.undoableEditHappened(e);\n}\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 5754328, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/330b1a35d60beee70efeaa6910231447?s=128&d=identicon&r=PG&f=1", "display_name": "ThePrimedTNT", "link": "https://stackoverflow.com/users/5754328/theprimedtnt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 1, "accepted_answer_id": 34644544, "answer_count": 1, "score": 5, "last_activity_date": 1452121517, "creation_date": 1452120400, "question_id": 34644306, "link": "https://stackoverflow.com/questions/34644306/undo-and-redo-in-jtextpane-ignoring-style-changes", "title": "Undo And Redo In JTextPane Ignoring Style Changes", "body": "<p>I was wondering if there is a way to ignore the text style changes in a JTextPane while using Swing's UndoManager? </p>\n"}, {"tags": ["java", "android"], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 5754208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a59af5b2319d2671f8e6a030bb9f1bc6?s=128&d=identicon&r=PG&f=1", "display_name": "TheSwisscows", "link": "https://stackoverflow.com/users/5754208/theswisscows"}, "is_accepted": true, "score": 1, "last_activity_date": 1452125398, "creation_date": 1452125398, "answer_id": 34645220, "question_id": 34644294, "link": "https://stackoverflow.com/questions/34644294/android-button-only-initiating-method-on-second-click/34645220#34645220", "title": "Android button only initiating method on second click", "body": "<p>The issue is not in your logic. The issue is how it is implemented.</p>\n\n<p>You currently have a step-by-step logic system in place where each step in the logic is triggered by the receiveClick(View) method. The problem is that there is no automatic triggering of the AI turn. </p>\n\n<ol>\n<li>noughtsTurn = true</li>\n<li>receiveClick(View) works properly with the players turn.</li>\n<li>The turn logic completes in playerClick(View) with the value of noughtsTurn being inverted.</li>\n<li>The problem is nothing triggers the AI turn and the next time you click a button it calls receiveClick(View) but with a noughtsTurn value of false.</li>\n<li>So this simulates an AI turn even though the player just clicked.</li>\n</ol>\n\n<p>You need to add some sort of logic to the end of playerClick(View) so that if the player just took their turn it reruns the logic for the AI turn.</p>\n\n<p>Example:</p>\n\n<pre><code>public void playerClick(View view) {\n    Button B;\n    int boardSetIndex;\n    int boardSetValue;\n\n    if (view instanceof Button) {\n        B = (Button) view;\n        if ( noughtsTurn ) {\n            B.setText(player.noughtsPlayer());\n        } else {\n            B = aiPlayerPick();\n            System.out.println(\"AI picked: \" + targetIndex);\n            B.setText(player.crossesPlayer());\n        }\n        board.set(boardSetIndex(), boardSetValue());\n        System.out.println(\"Board: \" + board);\n        B.setEnabled(false);\n        //\n        if(setTurn(noughtsTurn) == false){\n            playNow(findViewByTag(randomButtonPick()))\n        }\n        //\n    }\n}\n</code></pre>\n\n<p>In the above example there are some critical things missing like checking that the randomButtonPick() is not already occupied and the fact that setTurn(boolean) returns void and not a boolean. You just need some way of checking if the player just took a turn and, if so, have the AI take a turn.</p>\n"}, {"tags": [], "owner": {"reputation": 1645, "user_id": 3346752, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/3CyPY.jpg?s=128&g=1", "display_name": "3therk1ll", "link": "https://stackoverflow.com/users/3346752/3therk1ll"}, "is_accepted": false, "score": 0, "last_activity_date": 1452182568, "creation_date": 1452182568, "answer_id": 34659713, "question_id": 34644294, "link": "https://stackoverflow.com/questions/34644294/android-button-only-initiating-method-on-second-click/34659713#34659713", "title": "Android button only initiating method on second click", "body": "<p>Ok, so here is the final solution I came to for this issue.\nI kept the same logic but separated the human and AI turns into separate methods with the AI still basing it's turn on the <code>noughtsTurn</code> method.</p>\n\n<p>Code:</p>\n\n<pre><code>public void receiveClick(View view) {\n        String takeButton = String.valueOf(view.getTag());\n        buttonPressed = Integer.parseInt(takeButton);\n        humanPlayerTurn(view);\n        aiPlayerTurn(view);\n    }\n\n    public void humanPlayerTurn(View view) {\n        if (noughtsTurn) {\n            System.out.println(\"Player picked: \" + buttonPressed);\n            playerClick(view);\n        }\n    }\n\n    public void aiPlayerTurn(View view) {\n        if (aiValidPick()) {\n            playerClick(view);\n        } else {\n            aiPlayerTurn(view);\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 1645, "user_id": 3346752, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/3CyPY.jpg?s=128&g=1", "display_name": "3therk1ll", "link": "https://stackoverflow.com/users/3346752/3therk1ll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "accepted_answer_id": 34645220, "answer_count": 2, "score": 1, "last_activity_date": 1493388344, "creation_date": 1452120364, "last_edit_date": 1452121581, "question_id": 34644294, "link": "https://stackoverflow.com/questions/34644294/android-button-only-initiating-method-on-second-click", "title": "Android button only initiating method on second click", "body": "<p>I have a tic tac toe board made of buttons.\nEach button is linked to the method that initiated the logic.\nThe problem I'm having is that when the human player (noughts) plays their turn, the logic is skipping that turn, running the AIs turn and then only going back to the human player, who this time around is working as expected.</p>\n\n<p>On the click, the button is question should have <code>setText</code> method called and marked with either a 'O' for the human player, or 'X' for the AI.\nFollowing this the button is set to inactive and the array that tracks the board changes.</p>\n\n<p>I am printing to the logs and from what I can see, the human users clicks are what are triggering the AIs moved, rather than this being done automatically. But I can't tell why this is happening. \nI assume there is a flaw in my logic but I can't pick out what the issue is.\nEDIT: It works fine for the first human click, it is the ones after that that are the problem.</p>\n\n<p>Code:</p>\n\n<pre><code>package com.example.richardcurteis.connect3;\n\nimport android.os.Bundle;\nimport android.support.design.widget.FloatingActionButton;\nimport android.support.design.widget.Snackbar;\nimport android.support.v7.app.AppCompatActivity;\nimport android.support.v7.widget.Toolbar;\nimport android.view.View;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.TableLayout;\nimport android.widget.TableRow;\nimport java.util.Random;\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n\n    boolean noughtsTurn;\n    ArrayList board;\n    Players player;\n    int aiPickedButton;\n    int buttonPressed;\n    int targetIndex;\n\n    public void receiveClick(View view) {\n        String takeButton = String.valueOf(view.getTag());\n        buttonPressed = Integer.parseInt(takeButton);\n        playNow(view);\n        //checkForWin; Check winning conditions. Not yet implemented\n    }\n\n    public void playNow(View view) {\n        if (noughtsTurn) {\n            System.out.println(\"Player picked: \" + buttonPressed);\n            playerClick(view);\n        } else {\n            if (aiValidPick()) {\n                playerClick(view);\n            } else {\n                playNow(view);\n            }\n        }\n    }\n\n    public void setTurn(boolean trueOrFalse) {\n        if (trueOrFalse) {\n            noughtsTurn = false;\n        } else {\n            noughtsTurn = true;\n        }\n    }\n\n    public void playerClick(View view) {\n        Button B;\n        int boardSetIndex;\n        int boardSetValue;\n\n        if (view instanceof Button) {\n            B = (Button) view;\n            if ( noughtsTurn ) {\n                B.setText(player.noughtsPlayer());\n            } else {\n                B = aiPlayerPick();\n                System.out.println(\"AI picked: \" + targetIndex);\n                B.setText(player.crossesPlayer());\n            }\n            board.set(boardSetIndex(), boardSetValue());\n            System.out.println(\"Board: \" + board);\n            B.setEnabled(false);\n            setTurn(noughtsTurn);\n        }\n    }\n\n    public int boardSetIndex() {\n       int index;\n        if (noughtsTurn) {\n            index = buttonPressed;\n        } else {\n            index = targetIndex;\n        }\n        return  index;\n    }\n\n    public int boardSetValue() {\n        int value;\n        if (noughtsTurn) {\n            value = player.humanTurnValue();\n        } else {\n            value = player.aiTurnValue();\n        }\n        return  value;\n    }\n\n    public Integer randomButtonPick() {\n        Random randomNumber = new Random();\n        int randomInt = randomNumber.nextInt(board.size());\n        return randomInt;\n    }\n\n    public boolean aiValidPick() {\n        aiPickedButton = randomButtonPick();\n        if (board.get(aiPickedButton).equals(player.boardArrayDefaultValue())\n                &amp;&amp; !board.get(aiPickedButton).equals(player.humanTurnValue())\n                &amp;&amp; !board.get(aiPickedButton).equals(player.aiTurnValue())){\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    public Button aiPlayerPick() {\n        Button btn = null;\n        TableLayout tableLayout = (TableLayout) findViewById(R.id.tableLayout);\n        for (int rowIndex = 0; rowIndex &lt; tableLayout.getChildCount(); rowIndex++) {\n            View tableLayoutChild = tableLayout.getChildAt(rowIndex);\n            if (tableLayoutChild instanceof TableRow) {\n                for (int i = 0; i &lt; ((ViewGroup) tableLayoutChild).getChildCount(); i++) {\n                    View view = ((ViewGroup) tableLayoutChild).getChildAt(i);\n                    String targetButton = String.valueOf(aiPickedButton);\n                    if (view instanceof Button &amp;&amp; view.getTag().equals(targetButton) ) {\n                        targetIndex = Integer.parseInt(targetButton);\n                        View btn_v = view.findViewWithTag(targetButton);\n                        btn = (Button) btn_v;\n                        break;\n                    }\n                }\n            }\n        }\n        return btn;\n    }\n\n    public class Players {\n        public String noughtsPlayer() { return \"O\"; }\n        public String crossesPlayer() { return \"X\"; }\n        //public String blankButton() { return \"\"; }\n\n        public int humanTurnValue() { return 0;}\n        public int aiTurnValue() { return 1;}\n        public int boardArrayDefaultValue() { return 2;}\n    }\n\n    public int getBoardSize() {\n        int buttonCount = 0;\n        TableLayout tableLayout = (TableLayout) findViewById(R.id.tableLayout);\n        for (int rowIndex = 0; rowIndex &lt; tableLayout.getChildCount(); rowIndex++) {\n            View tableLayoutChild = tableLayout.getChildAt(rowIndex);\n            if (tableLayoutChild instanceof TableRow) {\n                for (int i = 0; i &lt; ((ViewGroup) tableLayoutChild).getChildCount(); i++) {\n                    View view = ((ViewGroup) tableLayoutChild).getChildAt(i);\n                    if (view instanceof Button) {\n                        buttonCount++;\n                    }\n                }\n            }\n        }\n        return buttonCount;\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n\n        FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Snackbar.make(view, \"Replace with your own action\", Snackbar.LENGTH_LONG)\n                        .setAction(\"Action\", null).show();\n            }\n        });\n        noughtsTurn = true;\n        player = new Players();\n        board = new ArrayList();\n        int boardSize = getBoardSize();\n        for (int boardIndex = 0; boardIndex &lt; boardSize; boardIndex++) {\n            board.add(player.boardArrayDefaultValue());\n        }\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.menu_main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        int id = item.getItemId();\n\n        //noinspection SimplifiableIfStatement\n        if (id == R.id.action_settings) {\n            return true;\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n\n<p>XML</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:paddingBottom=\"@dimen/activity_vertical_margin\"\n    android:paddingLeft=\"@dimen/activity_horizontal_margin\"\n    android:paddingRight=\"@dimen/activity_horizontal_margin\"\n    android:paddingTop=\"@dimen/activity_vertical_margin\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n    tools:context=\"com.example.richardcurteis.connect3.MainActivity\"\n    tools:showIn=\"@layout/activity_main\"\n    android:background=\"#070000\"&gt;\n\n    &lt;TableLayout\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_alignParentRight=\"false\"\n        android:layout_alignParentEnd=\"false\"\n        android:layout_alignParentStart=\"false\"\n        android:layout_centerInParent=\"true\"\n        android:id=\"@+id/tableLayout\"\n        android:background=\"#000000\"&gt;\n\n        &lt;TableRow\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;&lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;&lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;&lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;&lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;&lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;&lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;&lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;&lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;&lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;&lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;&lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;\n\n            &lt;Button\n                android:layout_width=\"100dp\"\n                android:layout_height=\"100dp\"\n                android:id=\"@+id/gridButton1\"\n                android:layout_column=\"4\"\n                android:onClick=\"receiveClick\"\n                android:tag=\"0\" /&gt;\n                android:nestedScrollingEnabled=\"false\" /&gt;\n\n            &lt;Button\n                android:layout_width=\"100dp\"\n                android:layout_height=\"100dp\"\n                android:id=\"@+id/gridButton2\"\n                android:layout_column=\"12\"\n                android:onClick=\"receiveClick\"\n                android:tag=\"1\" /&gt;\n\n            &lt;Button\n                android:layout_width=\"100dp\"\n                android:layout_height=\"100dp\"\n                android:id=\"@+id/gridButton3\"\n                android:layout_column=\"19\"\n                android:onClick=\"receiveClick\"\n                android:tag=\"2\" /&gt;\n        &lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;&lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;&lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;&lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;\n\n            &lt;Button\n                android:layout_width=\"100dp\"\n                android:layout_height=\"100dp\"\n                android:id=\"@+id/gridButton4\"\n                android:layout_column=\"4\"\n                android:onClick=\"receiveClick\"\n                android:tag=\"3\"/&gt;\n\n            &lt;Button\n                android:layout_width=\"100dp\"\n                android:layout_height=\"100dp\"\n                android:id=\"@+id/gridButton5\"\n                android:layout_column=\"12\"\n                android:onClick=\"receiveClick\"\n                android:tag=\"4\"/&gt;\n\n            &lt;Button\n                android:layout_width=\"100dp\"\n                android:layout_height=\"100dp\"\n                android:id=\"@+id/gridButton6\"\n                android:layout_column=\"19\"\n                android:onClick=\"receiveClick\"\n                android:tag=\"5\"/&gt;\n        &lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;&lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;&lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;&lt;/TableRow&gt;\n\n        &lt;TableRow\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;\n\n            &lt;Button\n                android:layout_width=\"100dp\"\n                android:layout_height=\"100dp\"\n                android:id=\"@+id/gridButton7\"\n                android:layout_column=\"4\"\n                android:onClick=\"receiveClick\"\n                android:tag=\"6\"/&gt;\n\n            &lt;Button\n                android:layout_width=\"100dp\"\n                android:layout_height=\"100dp\"\n                android:id=\"@+id/gridButton8\"\n                android:layout_column=\"12\"\n                android:onClick=\"receiveClick\"\n                android:tag=\"7\"/&gt;\n\n            &lt;Button\n                android:layout_width=\"100dp\"\n                android:layout_height=\"100dp\"\n                android:id=\"@+id/gridButton9\"\n                android:layout_column=\"19\"\n                android:onClick=\"receiveClick\"\n                android:tag=\"8\" /&gt;\n        &lt;/TableRow&gt;\n    &lt;/TableLayout&gt;\n\n    &lt;Button\n\n        android:layout_width=\"200dp\"\n        android:layout_height=\"120dp\"\n        android:text=\"New Game\"\n        android:id=\"@+id/newGameButton\"\n        android:layout_below=\"@+id/tableLayout\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"61dp\" /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n"}, {"tags": ["java", "java-8", "type-variables"], "comments": [{"owner": {"reputation": 10279, "user_id": 4138801, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh4.googleusercontent.com/-aVJI2hM4hYc/AAAAAAAAAAI/AAAAAAAAAEk/cXFqsfUYh0o/photo.jpg?sz=128", "display_name": "Clashsoft", "link": "https://stackoverflow.com/users/4138801/clashsoft"}, "edited": false, "score": 1, "creation_date": 1452121505, "post_id": 34644237, "comment_id": 57034915, "body": "My guess is that this is a compiler bug. The compiler seems to create these &#39;capture classes&#39;  for type variables (also where <code>capture#1</code> in type errors with wildcard types comes from). Apparently, it performs class checks on them, one of which is this conflicting default method check."}, {"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 1, "creation_date": 1452121664, "post_id": 34644237, "comment_id": 57034987, "body": "NB. Compiles on eclipse."}, {"owner": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "reply_to_user": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 0, "creation_date": 1452121709, "post_id": 34644237, "comment_id": 57035002, "body": "@SotiriosDelimanolis Wow. I use <code>Intellij IDEA</code>. Will try with javac..."}, {"owner": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "reply_to_user": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 0, "creation_date": 1452121832, "post_id": 34644237, "comment_id": 57035040, "body": "@SotiriosDelimanolis Just cheked it with &quot;pure&quot; <code>javac</code>: same error: <code>ain.java:10: error: class INT#1 inherits unrelated defaults for x() from types I1 and I2 class A&lt;T extends I1&amp;I2&gt; {         ^   where INT#1 is an intersection type:     INT#1 extends Object,I1,I2 1 error</code>"}, {"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1452122076, "post_id": 34644237, "comment_id": 57035135, "body": "One way to think about this without the details of the implementation is to consider the converse. Why should it be meaningful to have a type variable that allows invalid types? That seems to go against the purpose of static typing. Your valid cases are a subset of the possible cases, but not all the possible cases are valid. Seems reasonable for the compiler to whine."}, {"owner": {"reputation": 1552, "user_id": 484842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6344746169b492d9edd60b4858c3e328?s=128&d=identicon&r=PG", "display_name": "KarlM", "link": "https://stackoverflow.com/users/484842/karlm"}, "edited": false, "score": 0, "creation_date": 1452122092, "post_id": 34644237, "comment_id": 57035139, "body": "try compiling <code>interface II extends I1, I2</code> with and without specifying a <code>default void x() {}</code>"}, {"owner": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "reply_to_user": {"reputation": 10279, "user_id": 4138801, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh4.googleusercontent.com/-aVJI2hM4hYc/AAAAAAAAAAI/AAAAAAAAAEk/cXFqsfUYh0o/photo.jpg?sz=128", "display_name": "Clashsoft", "link": "https://stackoverflow.com/users/4138801/clashsoft"}, "edited": false, "score": 0, "creation_date": 1452122283, "post_id": 34644237, "comment_id": 57035216, "body": "@Clashsoft Good idea. I just submitted bug report to <code>Oracle</code>. Will see the result."}, {"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 4, "creation_date": 1452122506, "post_id": 34644237, "comment_id": 57035301, "body": "If that is considered a bug, I&#39;m going to eat my collection of holiday hats."}, {"owner": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1452122604, "post_id": 34644237, "comment_id": 57035340, "body": "@pvg And what about my update #1: there is a group of classes which I can not reflect in terms of type variables. Why?"}, {"owner": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1452122636, "post_id": 34644237, "comment_id": 57035352, "body": "@pvg In any case I&#39;ve evaluated your joke :) LOL"}, {"owner": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1452122681, "post_id": 34644237, "comment_id": 57035370, "body": "@pvg if it isn&#39;t a bug, why eclipse compiler (which is different from oracle&#39;s one) compiles it well?"}, {"owner": {"reputation": 1552, "user_id": 484842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6344746169b492d9edd60b4858c3e328?s=128&d=identicon&r=PG", "display_name": "KarlM", "link": "https://stackoverflow.com/users/484842/karlm"}, "edited": false, "score": 0, "creation_date": 1452122951, "post_id": 34644237, "comment_id": 57035471, "body": "@Andremoniy My answer was wrong because any specific implementation of <code>&lt;T extends I1&amp;I2&gt;</code> is going to have to implement <code>void x()</code>, or it won&#39;t compile.   Your <code>A1</code> and <code>A2</code> are not using the <code>default void x()</code> declared in <code>I1</code> and <code>I2</code>. They are using overridden definitions of x() (that are exactly the same). Try modifying those implementations to be different, they will still compile right? These overridden implementations are what you cannot reflect in a type variable."}, {"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1452123149, "post_id": 34644237, "comment_id": 57035541, "body": "I have no idea how it could possibly work in Eclipse nor can you pay me enough to trudge through all the voodoo in JLS on generics. But I think the burden is really on you to explain how what you expect is reasonable - the existence of valid instances in a type description doesn&#39;t mean the type description itself is valid. The one you want is &#39;implements I1 and I2 and also provides a concrete implementation of x&#39;. Unfortunately there is no way to express that."}, {"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1452123831, "post_id": 34644237, "comment_id": 57035783, "body": "Oh a couple of other things - apparently Eclipse can compile invalid code, search SO for lots of Q/A on the (strange) details. It&#39;s telling, though, that IntelliJ&#39;s static analysis also identifies this as an error which suggest this is not some unspecified peculiarity of javac."}, {"owner": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1452123946, "post_id": 34644237, "comment_id": 57035826, "body": "@pvg I&#39;m absolutely agree with you about eclipse&amp;intellij features. Let&#39;s just find explanation in JLS, and then distinct understanding why :)"}, {"owner": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1452124049, "post_id": 34644237, "comment_id": 57035872, "body": "@pvg And I can not agree about <i>&quot;the existence of valid instances in a type description doesn&#39;t mean the type description itself is valid&quot;</i>. I&#39;m sorry, but this phrase looks like contradiction to itself. If valid type exists, why I can not define it in terms of type variable? Isn&#39;t it a confusion?"}, {"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1452125295, "post_id": 34644237, "comment_id": 57036214, "body": "No i don&#39;t think it&#39;s contradictory at all. Here&#39;s what happens - you are saying &#39;compiler, I&#39;d like you to verify this argument matches this particular type description&#39;. The compiler replies &#39;I can&#39;t do that, Dave, this description contains invalid types&#39;. Your reply is &#39;so what, some of them <i>could</i> be valid!&#39;. That&#39;s not static typechecking."}, {"owner": {"reputation": 74910, "user_id": 3553087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2cTS.gif?s=128&g=1", "display_name": "Brian Goetz", "link": "https://stackoverflow.com/users/3553087/brian-goetz"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 4, "creation_date": 1452126897, "post_id": 34644237, "comment_id": 57036622, "body": "@pvg Please post a video of the hat eating!  The type constraint &lt;T extends I1&amp;I2&gt; is entirely valid; it means &quot;A can only be instantiated with a type that is a subtype of I1 and I2.  And the compiler cannot prove that no such type exists, because in fact it is possible to construct such types."}, {"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "reply_to_user": {"reputation": 74910, "user_id": 3553087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2cTS.gif?s=128&g=1", "display_name": "Brian Goetz", "link": "https://stackoverflow.com/users/3553087/brian-goetz"}, "edited": false, "score": 0, "creation_date": 1452127575, "post_id": 34644237, "comment_id": 57036797, "body": "@BrianGoetz hah, I&#39;ll have to petition SO to return them to me for the ritual. So you&#39;re saying the criterion is compiler has to be able to prove no such type can exist at all rather than some do not exist. That doesn&#39;t seem entirely obvious to me but that&#39;s neither here nor there. Are there cases you can think of outside default methods in which this sort of thing pops up?"}, {"owner": {"reputation": 74910, "user_id": 3553087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2cTS.gif?s=128&g=1", "display_name": "Brian Goetz", "link": "https://stackoverflow.com/users/3553087/brian-goetz"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 5, "creation_date": 1452128661, "post_id": 34644237, "comment_id": 57037097, "body": "@pvg The bounds &lt;X extends Y&amp;Z&gt; is simply a statement that it is only legal to instantiate A with a type that is a subtype of Y and of Z.  The compiler will balk if Y&amp;Z is not a legal type (e.g., Y and Z are both classes), and is entitled to balk if it can prove no such type can exist (e.g., Y is a final class that does not implement Z).  But the bound I1&amp;I2 is valid.  The default methods should not get involved in this computation -- thats just a bug."}, {"owner": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "reply_to_user": {"reputation": 74910, "user_id": 3553087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2cTS.gif?s=128&g=1", "display_name": "Brian Goetz", "link": "https://stackoverflow.com/users/3553087/brian-goetz"}, "edited": false, "score": 0, "creation_date": 1452130167, "post_id": 34644237, "comment_id": 57037507, "body": "@BrianGoetz Could the bug-report-review be converted into bug-report with your moderation assistance? Review ID: JI-9028332"}, {"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "reply_to_user": {"reputation": 74910, "user_id": 3553087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2cTS.gif?s=128&g=1", "display_name": "Brian Goetz", "link": "https://stackoverflow.com/users/3553087/brian-goetz"}, "edited": false, "score": 0, "creation_date": 1452130328, "post_id": 34644237, "comment_id": 57037562, "body": "@BrianGoetz yep, makes sense. I thought of it more like the definition of a set. If some of the elements are bogus, the whole thing is bogus."}, {"owner": {"reputation": 74910, "user_id": 3553087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2cTS.gif?s=128&g=1", "display_name": "Brian Goetz", "link": "https://stackoverflow.com/users/3553087/brian-goetz"}, "edited": false, "score": 2, "creation_date": 1452132431, "post_id": 34644237, "comment_id": 57038183, "body": "@Andremoniy Turns out to be a duplicate of this existing bug: <a href=\"https://bugs.openjdk.java.net/browse/JDK-7120669\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-7120669</a>"}, {"owner": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "reply_to_user": {"reputation": 74910, "user_id": 3553087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2cTS.gif?s=128&g=1", "display_name": "Brian Goetz", "link": "https://stackoverflow.com/users/3553087/brian-goetz"}, "edited": false, "score": 0, "creation_date": 1452133689, "post_id": 34644237, "comment_id": 57038516, "body": "@BrianGoetz Hmm... Yes it looks like more common description of the problem. In general I agree, but this relates to JLS. But my filling is that described case should be formed as separated javac bug for Java 8."}, {"owner": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 2, "creation_date": 1452133822, "post_id": 34644237, "comment_id": 57038560, "body": "In any case, we are waiting for hat-eating video from @pvg :-)"}, {"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1452137257, "post_id": 34644237, "comment_id": 57039369, "body": "That other bug report is quite informative (and answers my &#39;what&#39;s a case of this without default methods&#39; question). Dan Smith writes &quot;If you squint, you might see an implicit assertion, sometimes enforced by the compiler, that the imaginary class declaration we use to model membership must be well-formed.&quot; which surely sweetens what might have otherwise been a bitter hat-eating. It seems it also confirms the validity of your fundamental question  - &quot;where the hell is this in the spec?&quot;"}, {"owner": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 1, "creation_date": 1452168027, "post_id": 34644237, "comment_id": 57054260, "body": "@pvg: I can happily declare a type variable as <code>&lt;T extends String &amp; List&lt;Number&gt;&gt;</code> despite the fact that there can&#39;t be any valid actual type for it."}, {"owner": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "reply_to_user": {"reputation": 74910, "user_id": 3553087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2cTS.gif?s=128&g=1", "display_name": "Brian Goetz", "link": "https://stackoverflow.com/users/3553087/brian-goetz"}, "edited": false, "score": 0, "creation_date": 1452168173, "post_id": 34644237, "comment_id": 57054357, "body": "@Brian Goetz: the compiler doesn&#39;t complain, if <code>Z</code> is <code>final</code> and doesn&#39;t implement <code>Y</code>. Just try <code>&lt;T extends String &amp; List&lt;Number&gt;&gt;</code>."}, {"owner": {"reputation": 74910, "user_id": 3553087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2cTS.gif?s=128&g=1", "display_name": "Brian Goetz", "link": "https://stackoverflow.com/users/3553087/brian-goetz"}, "reply_to_user": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 0, "creation_date": 1452185539, "post_id": 34644237, "comment_id": 57066854, "body": "@Holger Didn&#39;t say it did!  Said it would be <i>entitled</i> to balk in that case."}, {"owner": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "reply_to_user": {"reputation": 74910, "user_id": 3553087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2cTS.gif?s=128&g=1", "display_name": "Brian Goetz", "link": "https://stackoverflow.com/users/3553087/brian-goetz"}, "edited": false, "score": 0, "creation_date": 1452186714, "post_id": 34644237, "comment_id": 57067671, "body": "@Brian Goetz: shouldn&#39;t the behavior be <i>fixed</i> regarding whether such construct creates a compile-time error or not? I have some problems with the term &quot;entitled&quot;..."}, {"owner": {"reputation": 74910, "user_id": 3553087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2cTS.gif?s=128&g=1", "display_name": "Brian Goetz", "link": "https://stackoverflow.com/users/3553087/brian-goetz"}, "reply_to_user": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 0, "creation_date": 1452186933, "post_id": 34644237, "comment_id": 57067835, "body": "@Holger I think you mistook my statement about &quot;what would be reasonable from a language design perspective&quot; for a statement about what the specification actually says.  I was trying to illustrate a range of reasonable specification and implementation choices, to help the commenter understand the problem better.  Apparently I confused you, sorry."}], "answers": [{"comments": [{"owner": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "edited": false, "score": 0, "creation_date": 1452123725, "post_id": 34644907, "comment_id": 57035750, "body": "Sure, I can: <code>abstract class A0 implements I1, I2 {  public abstract void x(); }</code>"}, {"owner": {"reputation": 1552, "user_id": 484842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6344746169b492d9edd60b4858c3e328?s=128&d=identicon&r=PG", "display_name": "KarlM", "link": "https://stackoverflow.com/users/484842/karlm"}, "reply_to_user": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "edited": false, "score": 0, "creation_date": 1452127481, "post_id": 34644907, "comment_id": 57036768, "body": "OK, so now you are forcing implementations of A0 to override <code>void x();</code>. Gee, that&#39;s just the same thing as I said."}, {"owner": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "edited": false, "score": 0, "creation_date": 1452127571, "post_id": 34644907, "comment_id": 57036794, "body": "in any way, this is not an answer on my question. Look above, even @BrienGoetz told that <i>&lt;T extends I1&amp;I2&gt; is entirely valid</i>. You are trying answering on different question, not about my."}, {"owner": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "edited": false, "score": 0, "creation_date": 1452128267, "post_id": 34644907, "comment_id": 57036979, "body": "There is valid class <code>class A1 implements I1, I2 {     public void x() { }; }</code>, so it should exist type constant <code>&lt;T extends I1&amp;I2&gt;</code>. What you are talking about is not an answer."}, {"owner": {"reputation": 1552, "user_id": 484842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6344746169b492d9edd60b4858c3e328?s=128&d=identicon&r=PG", "display_name": "KarlM", "link": "https://stackoverflow.com/users/484842/karlm"}, "reply_to_user": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "edited": false, "score": 0, "creation_date": 1452129164, "post_id": 34644907, "comment_id": 57037227, "body": "@Andremoniy It is a compile-time error if a class C inherits a default method whose signature is override-equivalent with another method inherited by C, unless there exists an abstract method declared in a superclass of C and inherited by C that is override-equivalent with the two methods.    <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.8.4\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/&hellip;</a>"}, {"owner": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "edited": false, "score": 0, "creation_date": 1452129426, "post_id": 34644907, "comment_id": 57037295, "body": "You can not in no way understand that question <b>isn&#39;t about type inheritance</b> but about type variables."}, {"owner": {"reputation": 1552, "user_id": 484842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6344746169b492d9edd60b4858c3e328?s=128&d=identicon&r=PG", "display_name": "KarlM", "link": "https://stackoverflow.com/users/484842/karlm"}, "reply_to_user": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "edited": false, "score": 0, "creation_date": 1452129843, "post_id": 34644907, "comment_id": 57037413, "body": "It&#39;s related. A type variable must not at the same time be a subtype of two interface types which are different parameterizations of the same generic interface, or a compile-time error occurs.      <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.4\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.4</a>"}, {"owner": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "edited": false, "score": 0, "creation_date": 1452129885, "post_id": 34644907, "comment_id": 57037430, "body": "It is not <code>different parameterizations of the same generic interface</code> in my case"}, {"owner": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "edited": false, "score": 0, "creation_date": 1452130034, "post_id": 34644907, "comment_id": 57037472, "body": "Just to let you know what is JLS 4.4 look at <a href=\"http://stackoverflow.com/questions/32232734/how-to-reproduce-java-compile-runtime-error-for-generic-interface-type-variables\" title=\"how to reproduce java compile runtime error for generic interface type variables\">stackoverflow.com/questions/32232734/&hellip;</a>"}, {"owner": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "edited": false, "score": 0, "creation_date": 1452131469, "post_id": 34644907, "comment_id": 57037901, "body": "JLS 4.9 is totally out of topic. All Ck exist. Really, don&#39;t take offence. Close, but no cigar."}], "tags": [], "owner": {"reputation": 1552, "user_id": 484842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6344746169b492d9edd60b4858c3e328?s=128&d=identicon&r=PG", "display_name": "KarlM", "link": "https://stackoverflow.com/users/484842/karlm"}, "is_accepted": false, "score": -2, "last_activity_date": 1452130244, "last_edit_date": 1452130244, "creation_date": 1452123396, "answer_id": 34644907, "question_id": 34644237, "link": "https://stackoverflow.com/questions/34644237/unrelated-defaults-inheritance-error-for-type-variables-why/34644907#34644907", "title": "Unrelated defaults inheritance error for type variables: why?", "body": "<p>Your question is : Why I can not declare special kind of type variable for such group of classes?</p>\n\n<p>The answer is: because in your group of classes <code>&lt;T extends I1&amp;I2&gt;</code> <code>void x()</code> has <strong>two</strong> default implementations. Any concrete implementation of the type variable has to override those defaults.</p>\n\n<p>Your A1 and A2 have different (but override-equivalent) definitions of <code>void x()</code>. </p>\n\n<p>Your A0 is an overridden definition of <code>void x()</code> which replaces the defaults.</p>\n\n<pre><code>class A&lt;T extends I1&amp;I2&gt; {\n  List&lt;T&gt; makeList() {\n      return new ArrayList&lt;&gt;();\n  }\n\n  public static void main(String[] args) {\n    // You can't create an EE to put into A&lt;&gt; which has a default void x()\n    new A&lt;EE&gt;();\n  }\n}\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.8.4\" rel=\"nofollow\">JLS 8.4.8.4</a>\nIt is a compile-time error if a class C inherits a default method whose signature is override-equivalent with another method inherited by C, unless there exists an abstract method declared in a superclass of C and inherited by C that is override-equivalent with the two methods. </p>\n\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.4\" rel=\"nofollow\">JLS 4.4</a>\nA type variable must not at the same time be a subtype of two interface types which are different parameterizations of the same generic interface, or a compile-time error occurs. </p>\n\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.9\" rel=\"nofollow\">JLS 4.9</a>\nEvery intersection type T1 &amp; ... &amp; Tninduces a notional class or interface for the purpose of identifying the members of the intersection type, as follows:</p>\n\n<p>\u2022\nFor each Ti (1 \u2264 i \u2264 n), let Ci be the most specific class or array type such that Ti &lt;: Ci. Then there must be some Ck such that Ck &lt;: Ci for any i (1 \u2264 i \u2264 n), or a compile-time error occurs.</p>\n"}, {"comments": [{"owner": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 0, "creation_date": 1452167701, "post_id": 34646280, "comment_id": 57054066, "body": "The statement about the erasure is not correct, as for <code>&lt;T extends I1&amp;I2&gt;</code>, the erasure still will be <code>I1</code> and not <code>Object</code>. If you declared <code>&lt;T extends Object&amp;I1&amp;I2&gt;</code>, the erasure was <code>Object</code>. But it&#39;s correct that the compiler has to make a decision whether it will invoke <code>I1.x()</code> or <code>I2.x()</code> when <code>T.x()</code> is invoked. This situation is the same when both declarations are <code>abstract</code> and it should only matter, when the invocation actually happens."}], "tags": [], "owner": {"reputation": 2352, "user_id": 5711725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cfaab398800db4fd0e9b0aae6621bda?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Mart&#237;n", "link": "https://stackoverflow.com/users/5711725/javier-mart%c3%adn"}, "is_accepted": false, "score": 0, "last_activity_date": 1452212468, "last_edit_date": 1452212468, "creation_date": 1452132636, "answer_id": 34646280, "question_id": 34644237, "link": "https://stackoverflow.com/questions/34644237/unrelated-defaults-inheritance-error-for-type-variables-why/34646280#34646280", "title": "Unrelated defaults inheritance error for type variables: why?", "body": "<p>The mechanics of \"intersection types\" (a type specified by the <em>union</em> of several interfaces) may seem strange at first, especially when paired with the functioning of generics and type erasure. If you introduce several type bounds with interfaces that do not extend each other, only the first is used as the erasure. If you have code like this:</p>\n\n<pre><code>public static &lt;T extends Comparable&lt;T&gt; &amp; Iterable&lt;String&gt;&gt;\nint f(T t1, T t2) {\n    int res = t1.compareTo(t2);\n    if (res!=0) return res;\n    Iterator&lt;String&gt; s1 = t1.iterator(), s2 = t2.iterator();\n    // compare the sequences, etc\n}\n</code></pre>\n\n<p>Then the generated bytecode would not be able to use Iterable in the erasure of T. The <em>actual</em> erasure of T would be just Comparable, and the generated bytecode would contain casts to Iterable as appropriate (emitting a <code>checkcast</code> to Iterable in addition to the usual <code>invokeinterface</code> opcode), resulting in code conceptually equivalent to the following, with the only difference that the compiler also checks the <code>Iterable&lt;String&gt;</code> bound:</p>\n\n<pre><code>public static int f(Comparable t1, Comparable t2) {\n    int res = t1.compareTo(t2);\n    if (res!=0) return res;\n    Iterator s1 = ((Iterable)t1).iterator(), s2 = ((Iterable)t2).iterator();\n    // compare the sequences, etc\n}\n</code></pre>\n\n<p>The problem in your example with override-equivalent methods in the interfaces is that, even though valid types may exist that conform to your requested type bounds (as stated in the comments), the compiler cannot use that truth in any meaningful way due to the presence of at least one <code>default</code> method.</p>\n\n<p>Consider the example class X that implements both I1 and I2 by overriding the defaults with its own method. <em>If</em> your type bound asked for <code>extends X</code> instead of <code>extends I1&amp;I2</code> the compiler would accept it,  erasing T to X and inserting <code>invokevirtual X.f()</code> instructions at each usage of f. However, with your type bound, the compiler would erase T to I1. Since the \"join type\" X is not real in this second case, on each usage of t.f() the compiler would need to insert <em>either</em> <code>invokeinterface I1.f()</code> or <code>invokeinterface I2.f()</code>. Since the compiler cannot possibly insert a call to \"X.f()\", even when it logically knows that it <em>is</em> possible for a type X to implement I1&amp;I2, and that any such X <em>must</em> declare that function, it cannot decide between the two interfaces and has to bail out.</p>\n\n<p>In the <em>specific</em> case without any <code>default</code> methods, the compiler can simple call either function, since in that case it knows that either <code>invokeinterface</code> call will unambiguously have been implemented in a single function in any valid X. However, when default methods enter the picture this solution can no longer assumed to produce valid code when partial compilation is taken into account. Consider the following three files:</p>\n\n<pre><code>// A.java\npublic class A {\n    public static interface I1 {\n        void f();\n        // default int getI() { return 1; }\n    }\n    public static interface I2 {\n        void g();\n        // default int getI() { return 2; }\n    }\n}\n\n// B.java\npublic class B implements A.I1, A.I2 {\n    public void f() { System.out.println(\"in B.f\"); }\n    public void g() { System.out.println(\"in B.g\"); }\n}\n\n// C.java\npublic class C {\n    public static &lt;T extends A.I1 &amp; A.I2&gt; void test(T var) {\n        var.f();\n        var.g();\n        // System.out.println(var.getI());\n    }\n\n    public static void main(String[] args) {\n        test(new B());\n    }\n}\n</code></pre>\n\n<ul>\n<li>A.java is compiled first, with its code as shown, producing \"v1.0\" of the interfaces A.I1 and A.I2</li>\n<li>B.java is compiled next, generating an (at that point) valid class implementing the interfaces</li>\n<li>C.java can now be compiled, again with its code as shown, and the compiler accepts it. It prints what you would expect.</li>\n<li>The default methods in A.java are uncommented and the file is recompiled (producing \"v.1.1\" of the interfaces), but B.java is <em>not</em> rebuilt against it. This is akin to upgrading the JRE core libraries but not some other library you are using that implements some JRE interfaces.</li>\n<li>Finally, we try to rebuild C.java because we are going to use the fancy new features of the latest JRE. Regardless of whether or not we uncomment the call to getI, the intersection type declaration is rejected by the compiler with the same error you asked about.</li>\n</ul>\n\n<p><em>If</em> the compiler were to accept the intersection type <code>(A.I1 &amp; A.I2)</code> as valid when building C.class the second time, it would take the risk that existing classes like B would raise an <code>IncompatibleClassChangeError</code> at runtime, since a call to getI anywhere would not be resolved either in B or in Object, and the default method search would find two different default methods. The compiler is protecting you against a possible runtime error by disallowing the offending type bound.</p>\n\n<p>Note, however, that the error may still occur if the bound is replaced by <code>T extends B</code>. However, I <em>would</em> consider this final point to be a compiler bug, since the compiler can now see that <code>B implements A.I1, A.I2</code> with their default methods with override-equivalent signatures, but does not override them, thus ensuring a conflict.</p>\n\n<p><strong>Major edit</strong>: removed the first (possibly confusing) example and added an explanation+example on why the particular case with defaults is disallowed.</p>\n"}, {"tags": [], "owner": {"reputation": 74910, "user_id": 3553087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2cTS.gif?s=128&g=1", "display_name": "Brian Goetz", "link": "https://stackoverflow.com/users/3553087/brian-goetz"}, "is_accepted": true, "score": 8, "last_activity_date": 1452186550, "creation_date": 1452186550, "answer_id": 34661152, "question_id": 34644237, "link": "https://stackoverflow.com/questions/34644237/unrelated-defaults-inheritance-error-for-type-variables-why/34661152#34661152", "title": "Unrelated defaults inheritance error for type variables: why?", "body": "<p>This is simply a bug.  It turns out that the bug starts in the specification, and then spills over into the implementation.  Spec bug is here:  <a href=\"https://bugs.openjdk.java.net/browse/JDK-7120669\" rel=\"noreferrer\">https://bugs.openjdk.java.net/browse/JDK-7120669</a></p>\n\n<p>The constraint is perfectly valid; it is clearly possible that there exist types T that extend both I1 and I2.  The problem is how we validate the well-formedness of such types.  </p>\n"}], "owner": {"reputation": 30978, "user_id": 1479414, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c286de045787a6dc24c3afb97ec23ce1?s=128&d=identicon&r=PG", "display_name": "Andremoniy", "link": "https://stackoverflow.com/users/1479414/andremoniy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2288, "favorite_count": 6, "accepted_answer_id": 34661152, "answer_count": 3, "score": 23, "last_activity_date": 1452212468, "creation_date": 1452120075, "last_edit_date": 1495540497, "question_id": 34644237, "link": "https://stackoverflow.com/questions/34644237/unrelated-defaults-inheritance-error-for-type-variables-why", "title": "Unrelated defaults inheritance error for type variables: why?", "body": "<p><strong>Disclaimer</strong>: this is <strong>not</strong> about this case (while error sounds as same): <a href=\"https://stackoverflow.com/questions/22746948/class-inherits-unrelated-defaults-for-spliterator-from-types-java-util-set-and\">class inherits unrelated defaults for spliterator() from types java.util.Set and java.util.List</a></p>\n\n<p>and here is why:</p>\n\n<p>consider two interfaces (in package \"<code>a</code>\")</p>\n\n<pre><code>interface I1 {\n    default void x() {}\n}\n\ninterface I2 {\n    default void x() {}\n}\n</code></pre>\n\n<p>It is definitely clear to me why we can not declare such class as:</p>\n\n<pre><code>abstract class Bad12 implements I1, I2 {\n}\n</code></pre>\n\n<p><strong>(!)</strong> But I can not understand this restriction with reference to <strong>type variables</strong>:</p>\n\n<pre><code>class A&lt;T extends I1&amp;I2&gt; {\n    List&lt;T&gt; makeList() {\n        return new ArrayList&lt;&gt;();\n    }\n}\n</code></pre>\n\n<p>with error: <code>class java.lang.Object&amp;a.I1&amp;a.I2 inherits unrelated defaults for x() from types a.I1 and a.I2</code>.</p>\n\n<p>Why I can not define such type variable? Why <code>java</code> cares about unrelated defaults in this case? What such type variable could \"break\"?</p>\n\n<p><strong>UPDATE:</strong> Just for clarification. I can create several classes of the form:</p>\n\n<pre><code>class A1 implements I1, I2 {\n    public void x() { };\n}\n\nclass A2 implements I1, I2 {\n    public void x() { };\n}\n</code></pre>\n\n<p>and even</p>\n\n<pre><code>abstract class A0 implements I1, I2 {\n    @Override\n    public abstract void x();\n}\n</code></pre>\n\n<p>and so on. Why I can not declare special kind of type variable for such group of classes?</p>\n\n<p><strong>UPD-2:</strong> BTW I didn't find any distinct restriction for this case in JLS. It would be nice to confirm your answer with references to JLS.</p>\n\n<p><strong>UPD-3:</strong> Some of users told that this code is compiled well in Eclipse. I can not check it, but I checked with <code>javac</code> and got this error:</p>\n\n<pre><code> error: class INT#1 inherits unrelated defaults for x() from types I1 and I2\nclass A&lt;T extends I1&amp;I2&gt; {\n        ^\n  where INT#1 is an intersection type:\n    INT#1 extends Object,I1,I2\n1 error\n</code></pre>\n"}, {"tags": ["java", "android", "service", "android-webview", "crosswalk"], "comments": [{"owner": {"reputation": 1851, "user_id": 4282248, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/bOd7L.jpg?s=128&g=1", "display_name": "Daniel Netzer", "link": "https://stackoverflow.com/users/4282248/daniel-netzer"}, "edited": false, "score": 0, "creation_date": 1452892589, "post_id": 34644232, "comment_id": 57382387, "body": "are you working on android studio or eclipse? and where exactly is the problem since using XWalkView is very simple and similar to WebView, are you having trouble with the configuration? embedding stuff? specific html5 snippets?"}, {"owner": {"reputation": 233, "user_id": 3191985, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/97b0311b5900376b44103cf29c189b1d?s=128&d=identicon&r=PG&f=1", "display_name": "JGray", "link": "https://stackoverflow.com/users/3191985/jgray"}, "reply_to_user": {"reputation": 1851, "user_id": 4282248, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/bOd7L.jpg?s=128&g=1", "display_name": "Daniel Netzer", "link": "https://stackoverflow.com/users/4282248/daniel-netzer"}, "edited": false, "score": 0, "creation_date": 1453355370, "post_id": 34644232, "comment_id": 57567359, "body": "I have XWalkView working correctly in an Activity.  However, using it within a Service is where I am having trouble since there is no Activity to pass to the constructor."}], "answers": [{"comments": [{"owner": {"reputation": 233, "user_id": 3191985, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/97b0311b5900376b44103cf29c189b1d?s=128&d=identicon&r=PG&f=1", "display_name": "JGray", "link": "https://stackoverflow.com/users/3191985/jgray"}, "edited": false, "score": 1, "creation_date": 1453493575, "post_id": 34792014, "comment_id": 57641822, "body": "Thanks for the thorough write up.  However, I completely understand what you just explained.  Our issue is not with creating an XWalkView in normal circumstances but to create one within a service where an Activity may or may not have been created is our problem."}], "tags": [], "owner": {"reputation": 4793, "user_id": 5080583, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-ff4_PRgLU5A/AAAAAAAAAAI/AAAAAAAAADM/YVAtoH438JY/photo.jpg?sz=128", "display_name": "arodriguezdonaire", "link": "https://stackoverflow.com/users/5080583/arodriguezdonaire"}, "is_accepted": false, "score": 3, "last_activity_date": 1452781627, "creation_date": 1452781627, "answer_id": 34792014, "question_id": 34644232, "link": "https://stackoverflow.com/questions/34644232/how-to-create-an-xwalkview-within-a-service/34792014#34792014", "title": "How to create an XWalkView within a service?", "body": "<p>From <a href=\"https://gist.github.com/butelo\" rel=\"nofollow\">butelo</a> in <a href=\"https://gist.github.com/butelo/9365587\" rel=\"nofollow\">GitHub</a>:</p>\n\n<blockquote>\n  <p>So, what is crosswalk and why do I care? Take a look at the website: <a href=\"https://crosswalk-project.org/\" rel=\"nofollow\">https://crosswalk-project.org/</a></p>\n  \n  <p>CrossWalk is a HTML5 runtime, you can use it to create HTML5 applications with 'native features' You can use CrossWalk to create\n  HTML5-only applications for Android (x86 and arm architectures) and\n  Tizen but you can also use CrossWalk as a View within an android\n  project.</p>\n  \n  <p>This means you can replace Android WebView with XWalkView and get some extra features like:</p>\n  \n  <p>-WebGl</p>\n  \n  <p>-WebRTC</p>\n  \n  <p>-WebAudio</p>\n  \n  <p><a href=\"http://software.intel.com/en-us/html5/articles/crosswalk-application-runtime\" rel=\"nofollow\">http://software.intel.com/en-us/html5/articles/crosswalk-application-runtime</a></p>\n  \n  <p>How do I embed a CrossWalk WebView, from now on a XWalkView, inside an Android application to have all this goodies on my hybrid\n  application (Android Native with html5 features)</p>\n  \n  <p>First you have to download the runtime:</p>\n  \n  <p><a href=\"https://crosswalk-project.org/#documentation/downloads\" rel=\"nofollow\">https://crosswalk-project.org/#documentation/downloads</a></p>\n  \n  <p>Download any of the Android(ARM) versions.</p>\n  \n  <p>Inside the file is everything you need to start working in an html5 application.</p>\n  \n  <p>For this test we'll need to import the xwalk-core-library project inside our Eclipse</p>\n  \n  <p>Create a new Android project with a basic Activity link it with the library and put this code in the Activity:</p>\n\n<pre><code>package com.example.xwalkwithlibrary;\nimport org.xwalk.core.XWalkView;\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.widget.LinearLayout;\n\npublic class XWalkEmbedLib extends Activity {\n    private LinearLayout commentsLayout;\n    private XWalkView xWalkWebView;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_xwalk_embed_lib);\n         commentsLayout=(LinearLayout)findViewById(R.id.principal);\n         xWalkWebView = new XWalkView(this, this);\n         xWalkWebView.load(\"file:///android_asset/www/index.html\", null);\n         commentsLayout.addView(xWalkWebView);\n    }\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.xwalk_embed_lib, menu);\n        return true;\n    }\n}\n</code></pre>\n  \n  <p>Put this on your main layout</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:paddingBottom=\"@dimen/activity_vertical_margin\"\n    android:paddingLeft=\"@dimen/activity_horizontal_margin\"\n    android:paddingRight=\"@dimen/activity_horizontal_margin\"\n    android:paddingTop=\"@dimen/activity_vertical_margin\"\n    tools:context=\".XWalkMain\" &gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView1\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"@string/hello_world\" /&gt;\n\n    &lt;LinearLayout\n                android:id=\"@+id/principal\"\n\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignLeft=\"@+id/textView1\"\n        android:layout_below=\"@+id/textView1\"\n        android:layout_marginLeft=\"35dp\"\n        android:layout_marginTop=\"86dp\"\n        android:orientation=\"vertical\" &gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n  \n  <p>finally inside your <code>/assets/www</code> folder put your html stuff and that's it</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 352, "user_id": 5269256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f330cde82d28ac5bd4d64ff2a6f9b155?s=128&d=identicon&r=PG&f=1", "display_name": "Ramdane Oualitsen", "link": "https://stackoverflow.com/users/5269256/ramdane-oualitsen"}, "is_accepted": false, "score": 1, "last_activity_date": 1454359411, "creation_date": 1454359411, "answer_id": 35139933, "question_id": 34644232, "link": "https://stackoverflow.com/questions/34644232/how-to-create-an-xwalkview-within-a-service/35139933#35139933", "title": "How to create an XWalkView within a service?", "body": "<p>I looked for the XWalkView.java code so I can make something useful but it is not published yet. But there is at least a good solution that can work:\nCreate for the first time the XWalkView instance inside an activity. then find a way to store it in a service and reuse that same instance whenever your activity connects to the service (this way, your html and js are not reloaded ;) )</p>\n\n<p>After googling, I understood that the XWalkView instance needed and activity so it registers some life cycle listeners. so when the activity is destroyed for example the XwalkView.onDestroy method is called (so I had to disable it in my case to keep the same instance and reuse it)</p>\n\n<p>Here is My simple example:\nMainActivity.Java</p>\n\n<pre><code>import android.app.Activity;\nimport android.content.ComponentName;\nimport android.content.Intent;\nimport android.content.MutableContextWrapper;\nimport android.content.ServiceConnection;\nimport android.os.Bundle;\nimport android.os.IBinder;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.ViewParent;\nimport java.util.logging.Logger;\nimport org.xwalk.core.XWalkView;\n\n\npublic class MainActivity extends Activity implements ServiceConnection {\n\n    private Logger logger = Logger.getLogger(\"com.tr\");\n    private XWalkView view;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        startService(new Intent(this, MyService.class));\n        bindService(new Intent(this, MyService.class), this, BIND_AUTO_CREATE);\n    }\n\n    @Override\n    public void setContentView(View view) {\n        final ViewParent parent = view.getParent();\n        if (parent != null) {\n            ViewGroup group = (ViewGroup) parent;\n            group.removeView(view);\n        }\n        super.setContentView(view);\n    }\n\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n    }\n\n    private boolean bound;\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n        if (bound) {\n            unbindService(this);\n            bound = false;\n        }\n    }\n\n\n    public void onServiceConnected(ComponentName name, IBinder s) {\n        bound = true;\n        MyService.MyBinder binder = (MyService.MyBinder) s;\n        if (binder.getView() != null) {\n            view = binder.getView();\n\n            ((MutableContextWrapper) view.getContext()).setBaseContext(this);\n            view.onShow();\n        } else {\n            view = new XWalkView(new MutableContextWrapper(this), this) {\n                @Override\n                public void onDestroy() {\n                    // super.onDestroy();\n                    //disable this method to keep an insatce in memory\n                }\n            };\n            view.load(\"http://10.110.23.198:8080/mdl/templates/android-dot-com/\", null);\n            binder.setView(view);\n        }\n        setContentView(view);\n    }\n\n    public void onServiceDisconnected(ComponentName name) {\n\n    }\n\n}\n</code></pre>\n\n<p>The service class</p>\n\n<pre><code>import android.app.Service;\nimport android.content.Intent;\nimport android.os.Binder;\nimport android.os.IBinder;\nimport org.xwalk.core.XWalkView;\n\n/**\n *\n * @author Ramdane\n */\npublic class MyService extends Service {\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return new MyBinder(this);\n    }\n\n    public class MyBinder extends Binder {\n\n        private MyService service;\n        private XWalkView view;\n\n        public MyBinder(MyService service) {\n            this.service = service;\n        }\n\n        public MyBinder() {\n        }\n\n        public void setService(MyService service) {\n            this.service = service;\n        }\n\n        public MyService getService() {\n            return service;\n        }\n\n        public XWalkView getView() {\n            return view;\n        }\n\n        public void setView(XWalkView view) {\n            this.view = view;\n        }\n\n    }\n\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        return Service.START_STICKY;\n    }\n\n}\n</code></pre>\n\n<p>I hope it will work for you.</p>\n"}], "owner": {"reputation": 233, "user_id": 3191985, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/97b0311b5900376b44103cf29c189b1d?s=128&d=identicon&r=PG&f=1", "display_name": "JGray", "link": "https://stackoverflow.com/users/3191985/jgray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 806, "favorite_count": 0, "answer_count": 2, "score": 8, "last_activity_date": 1454359411, "creation_date": 1452120044, "last_edit_date": 1453025208, "question_id": 34644232, "link": "https://stackoverflow.com/questions/34644232/how-to-create-an-xwalkview-within-a-service", "title": "How to create an XWalkView within a service?", "body": "<p>I am working towards replacing the native webview in our Android app with Crosswalk's implementation.  </p>\n\n<p>We have been able to get most of the functionality of the app working but creating an XWalkView within a service is still an issue we are trying to get past.  Creating a Webview is not an issue but an XWalkView requires an activity context to be used.  If anyone here has run across this problem and knows of a possible solution or work-around, I would appreciate it greatly.  Thanks, and if you need any other information please ask away.</p>\n"}, {"tags": ["java", "generics", "recursion"], "comments": [{"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 2, "creation_date": 1452120731, "post_id": 34644224, "comment_id": 57034597, "body": "Are you sure that <code>value</code> is a <code>Map</code> of the right type? Then just cast to that type and ignore the warnings."}, {"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 0, "creation_date": 1452121500, "post_id": 34644224, "comment_id": 57034911, "body": "Problem is that <code>V</code> can be either <code>String</code> or <code>Map&lt;K,V&gt;</code> recursing itself. <code>Map&lt;K, Object&gt;</code> would work, and you would need the cast (with the safety warning, nothing can be done against that)"}, {"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 0, "creation_date": 1452121563, "post_id": 34644224, "comment_id": 57034936, "body": "side note: your legacy code does not compile here : <code>Map newElement = myMethod(value);</code> because <code>value</code> is an object, not a <code>Map</code>"}, {"owner": {"reputation": 548, "user_id": 281668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/dab56d1433c626d03ad0f1dd962aebf0?s=128&d=identicon&r=PG", "display_name": "exiter2000", "link": "https://stackoverflow.com/users/281668/exiter2000"}, "reply_to_user": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 0, "creation_date": 1452121879, "post_id": 34644224, "comment_id": 57035057, "body": "@njzk2 I edited. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 548, "user_id": 281668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/dab56d1433c626d03ad0f1dd962aebf0?s=128&d=identicon&r=PG", "display_name": "exiter2000", "link": "https://stackoverflow.com/users/281668/exiter2000"}, "edited": false, "score": 0, "creation_date": 1452121463, "post_id": 34644453, "comment_id": 57034899, "body": "Since this method is used by other applications(over 100 calls made to this method) and it is sort of a library method, I cannot change the nature of heterogeneous elements.  This is actually simplified version of the original method. The argument Map takes Integer, List, Double, Map as elements."}, {"owner": {"reputation": 1, "user_id": 5693537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28ad4531271017e909d41b2c63d896d0?s=128&d=identicon&r=PG", "display_name": "William Hipschman", "link": "https://stackoverflow.com/users/5693537/william-hipschman"}, "reply_to_user": {"reputation": 548, "user_id": 281668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/dab56d1433c626d03ad0f1dd962aebf0?s=128&d=identicon&r=PG", "display_name": "exiter2000", "link": "https://stackoverflow.com/users/281668/exiter2000"}, "edited": false, "score": 0, "creation_date": 1452122408, "post_id": 34644453, "comment_id": 57035259, "body": "Then generics won&#39;t really help you here.  You need to cast, and it will be unchecked and give a warning. The compiler can&#39;t know beforehand if V is really the right type."}], "tags": [], "owner": {"reputation": 1, "user_id": 5693537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28ad4531271017e909d41b2c63d896d0?s=128&d=identicon&r=PG", "display_name": "William Hipschman", "link": "https://stackoverflow.com/users/5693537/william-hipschman"}, "is_accepted": false, "score": -1, "last_activity_date": 1452121016, "creation_date": 1452121016, "answer_id": 34644453, "question_id": 34644224, "link": "https://stackoverflow.com/questions/34644224/recursive-call-with-generic-method-in-java/34644453#34644453", "title": "Recursive call with Generic method in Java", "body": "<p>Your types are all messed up here.</p>\n\n<p>Your method takes a </p>\n\n<pre><code>Map&lt;K,V&gt; \n</code></pre>\n\n<p>and returns a </p>\n\n<pre><code>Map&lt;K,V&gt;\n</code></pre>\n\n<p>That means the call</p>\n\n<pre><code>V newElement = myMethod(element); \n</code></pre>\n\n<p>must be</p>\n\n<pre><code>Map&lt;K,V&gt; newElement = myMethod(element);  //element is of type Map&lt;K,V&gt;\n</code></pre>\n\n<p>and the call</p>\n\n<pre><code>newMap.put(key, newElement);\n</code></pre>\n\n<p>means that newElement must also be of type V.</p>\n\n<p>So you basically need String, Map, and V to all have some common super type. In the original code, Map is really </p>\n\n<pre><code>Map&lt;Object, Object&gt;\n</code></pre>\n\n<p>so the super type is Object.</p>\n\n<p>I would back up, and ask yourself why you have a map that is storing both Maps and Strings. You should probably refactor them into objects that actually represent their types.</p>\n\n<p>For instance, let's say it's a file system and the Map is a directory and the String is a File, then you should really create a FileObject that can be either a directory or a file, and your method signature becomes:</p>\n\n<pre><code>Map&lt;K, FileObject&gt; myMethod(Map&lt;K, FileObject&gt; map)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 548, "user_id": 281668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/dab56d1433c626d03ad0f1dd962aebf0?s=128&d=identicon&r=PG", "display_name": "exiter2000", "link": "https://stackoverflow.com/users/281668/exiter2000"}, "edited": false, "score": 0, "creation_date": 1452179782, "post_id": 34645935, "comment_id": 57062578, "body": "Make sense. Assuming I change createMap() to the createMap(arg) which returns a new instance of given argument, would this method be type safe and I could enforce generics?"}, {"owner": {"reputation": 109950, "user_id": 86989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd262de5d82a235eeb64f71e4058198?s=128&d=identicon&r=PG", "display_name": "newacct", "link": "https://stackoverflow.com/users/86989/newacct"}, "reply_to_user": {"reputation": 548, "user_id": 281668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/dab56d1433c626d03ad0f1dd962aebf0?s=128&d=identicon&r=PG", "display_name": "exiter2000", "link": "https://stackoverflow.com/users/281668/exiter2000"}, "edited": false, "score": 0, "creation_date": 1452218079, "post_id": 34645935, "comment_id": 57082331, "body": "@exiter2000: It would be safer. But even if you change the signatures of the methods, I&#39;m not sure you can avoid unchecked casts."}], "tags": [], "owner": {"reputation": 109950, "user_id": 86989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd262de5d82a235eeb64f71e4058198?s=128&d=identicon&r=PG", "display_name": "newacct", "link": "https://stackoverflow.com/users/86989/newacct"}, "is_accepted": false, "score": 2, "last_activity_date": 1452130343, "creation_date": 1452130343, "answer_id": 34645935, "question_id": 34644224, "link": "https://stackoverflow.com/questions/34644224/recursive-call-with-generic-method-in-java/34645935#34645935", "title": "Recursive call with Generic method in Java", "body": "<p>The logic of your code is not type-safe, so it's not possible to avoid a type-safety warning.</p>\n\n<p>You create a new map using <code>createMap()</code>; that method is creating a new map blindly, with no information, so the class of map it creates is not necessarily the same as the class of <code>arg</code> that is passed in. That means your method <code>myMethod()</code> returns a map that is not necessarily of the same implementing class as the one that is passed in.</p>\n\n<p>In your recursive call, you pass a map that we know is an instance of <code>V</code> into the recursive call, and you want the thing you get back out to be a <code>V</code>. But that is not necessarily true. For example, what if <code>V</code> were <code>TreeMap</code>, and the thing that is returned from the recursive call is a <code>HashMap</code>? Then it should not be able to cast to <code>V</code>, and there is no way you can safely get a <code>V</code> from that.</p>\n"}], "owner": {"reputation": 548, "user_id": 281668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/dab56d1433c626d03ad0f1dd962aebf0?s=128&d=identicon&r=PG", "display_name": "exiter2000", "link": "https://stackoverflow.com/users/281668/exiter2000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 483, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1452180753, "creation_date": 1452120005, "last_edit_date": 1452180753, "question_id": 34644224, "link": "https://stackoverflow.com/questions/34644224/recursive-call-with-generic-method-in-java", "title": "Recursive call with Generic method in Java", "body": "<p>I am working on legacy code like below</p>\n\n<pre><code>public Map myMethod(Map arg){\n      Map newMap = createMap(); //This method creates a new Map instance.\n      Iterator entries = arg.entrySet().iterator();\n      while (entries.hasNext()) {\n          Entry thisEntry = (Entry) entries.next();\n          Object key = thisEntry.getKey();\n          Object value = thisEntry.getValue();\n\n          if ( value instanceof Map){\n               Map newElement = myMethod((Map)value); // Recursive call here\n               newMap.put(key, newElement);\n          }else if ( value instanceof String ){\n               newMap.put(key, value);\n          }\n      }\n      return newMap;\n}\n</code></pre>\n\n<p>Obviously, I would like to adapt Generics. So I changed the method like,</p>\n\n<pre><code>public &lt;K,V&gt; Map&lt;K,V&gt; myMethod(Map&lt;K,V&gt; arg){\n      Map&lt;K,V&gt; newMap = createMap(); //creates a new Map instance.\n      for ( Entry&lt;K,V&gt; entry : arg.entrySet()){\n\n          K key = entry.getKey();\n          V value = entry.getValue();\n\n          if ( value instanceof Map){\n               V newElement = myMethod(value); // Recursive call here\n               newMap.put(key, newElement);\n          }else if ( value instanceof String ){\n               newMap.put(key, value);\n          }\n      }\n      return newMap;\n}\n</code></pre>\n\n<p>My question is about the line of recursive calls. So far, I have tried</p>\n\n<ol>\n<li><code>V newElement = myMethod(value);</code> -> Compile Error</li>\n<li><code>Map&lt;K,V&gt; newElement = myMethod(value);</code> ->compile Error</li>\n<li><code>V newElement = (V) myMethod((Map&lt;?,?&gt;)value);</code> ->Type safety warning</li>\n</ol>\n\n<p>--------- Edited ----------</p>\n\n<p>The further assumption that I could make is</p>\n\n<ol>\n<li>createMap() method could be changed to createMap(arg)</li>\n<li>Element type of arg is not bounded to a specific Java type. This is a library method so it has to be generic</li>\n</ol>\n"}, {"tags": ["java", "rest", "mockito"], "comments": [{"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 0, "creation_date": 1452120065, "post_id": 34644204, "comment_id": 57034323, "body": "<code>context</code> is <code>null</code>. The <code>context</code> in <code>testDeleteServlet</code> is different from the field in <code>deleteEmployee</code>. <a href=\"http://stackoverflow.com/questions/218384/what-is-a-null-pointer-exception-and-how-do-i-fix-it\" title=\"what is a null pointer exception and how do i fix it\">stackoverflow.com/questions/218384/&hellip;</a>"}, {"owner": {"reputation": 23, "user_id": 5749938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c39e10f0d25b1c93966449d36f549fdc?s=128&d=identicon&r=PG&f=1", "display_name": "carlos hernando", "link": "https://stackoverflow.com/users/5749938/carlos-hernando"}, "reply_to_user": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 0, "creation_date": 1452120164, "post_id": 34644204, "comment_id": 57034365, "body": "It seems,And how must be fixed?And why it worked in <a href=\"http://stackoverflow.com/questions/34623142/mockito-when-thenresult-always-returns-null\" title=\"mockito when thenresult always returns null\">stackoverflow.com/questions/34623142/&hellip;</a>"}, {"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 0, "creation_date": 1452120199, "post_id": 34644204, "comment_id": 57034386, "body": "Pass the mock <code>ServletContext</code> to your <code>EmployeeOps</code> object."}, {"owner": {"reputation": 651, "user_id": 1935341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q5RJO.jpg?s=128&g=1", "display_name": "Mateusz Dryzek", "link": "https://stackoverflow.com/users/1935341/mateusz-dryzek"}, "edited": false, "score": 0, "creation_date": 1452120210, "post_id": 34644204, "comment_id": 57034387, "body": "Are you injecting/passing your mock to tested controler?"}, {"owner": {"reputation": 23, "user_id": 5749938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c39e10f0d25b1c93966449d36f549fdc?s=128&d=identicon&r=PG&f=1", "display_name": "carlos hernando", "link": "https://stackoverflow.com/users/5749938/carlos-hernando"}, "edited": false, "score": 0, "creation_date": 1452120417, "post_id": 34644204, "comment_id": 57034478, "body": "i didn&#39;t watch it before, but yes. it is defined as     @Context ServletContext context;"}, {"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 0, "creation_date": 1452120520, "post_id": 34644204, "comment_id": 57034516, "body": "And what do you think processes that <code>context</code>? Why shouldn&#39;t it be <code>null</code>? Why do you think so?"}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 5749938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c39e10f0d25b1c93966449d36f549fdc?s=128&d=identicon&r=PG&f=1", "display_name": "carlos hernando", "link": "https://stackoverflow.com/users/5749938/carlos-hernando"}, "is_accepted": false, "score": 0, "last_activity_date": 1452120895, "creation_date": 1452120895, "answer_id": 34644421, "question_id": 34644204, "link": "https://stackoverflow.com/questions/34644204/mockito-when-thenresult-always-returns-null-part-2/34644421#34644421", "title": "Mockito when\u2026thenResult always returns null Part 2", "body": "<p>Fixed.</p>\n\n<p>I have changed the java app adding the method</p>\n\n<pre><code>protected void setContext(ServletContext context)\n    {\n        this.context= context;\n    }\n</code></pre>\n\n<p>and i have changed the test with:</p>\n\n<pre><code> @Override\n    @BeforeClass\n    public void setUp() throws Exception {\n        context =  mock (ServletContext.class, RETURNS_DEEP_STUBS);\n        employeeOps = new EmployeeOps();\n        employeeOps.setContext(context);\n    }\n\n    @Test\n    public void testDeleteServlet() throws Exception {\n\n        SessionFactory factory = contextInitialized();\n        when(context.getAttribute(\"SessionFactory\")).thenReturn(factory);\n        employeeOps.deleteEmployee(\"41\");\n\n    }\n</code></pre>\n\n<p>With this it works fine.\nThanks everyone!</p>\n"}], "owner": {"reputation": 23, "user_id": 5749938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c39e10f0d25b1c93966449d36f549fdc?s=128&d=identicon&r=PG&f=1", "display_name": "carlos hernando", "link": "https://stackoverflow.com/users/5749938/carlos-hernando"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452120895, "creation_date": 1452119923, "last_edit_date": 1495535298, "question_id": 34644204, "link": "https://stackoverflow.com/questions/34644204/mockito-when-thenresult-always-returns-null-part-2", "title": "Mockito when\u2026thenResult always returns null Part 2", "body": "<p>After resolve mi first mockito issue, i found my second one(very similar to my first one, but i don't know how to fix it)</p>\n\n<p>I have this rest java function:</p>\n\n<pre><code>@GET\n@Path(\"/deleteEmployee\")\n@Produces(\"application/json\")\npublic ReturnCode  deleteEmployee(@QueryParam(\"empId\") String empIdToDelete)\n{\n    ReturnCode returnCode = new ReturnCode(Constants.NO_ERROR_CODE, Constants.NO_ERROR_TEXT);\n    SessionFactory sessionFactory = (SessionFactory) context.getAttribute(\"SessionFactory\");\n</code></pre>\n\n<p>and this test:</p>\n\n<pre><code>@Test\npublic void testDeleteServlet() throws Exception {\n    ServletContext context =  mock (ServletContext.class, RETURNS_DEEP_STUBS);\n    SessionFactory factory = contextInitialized();  \n\n    when(context.getAttribute(\"SessionFactory\")).thenReturn(factory);\n    new EmployeeOps().deleteEmployee(\"33\");    \n}\n</code></pre>\n\n<p>Why always crashes with null pointer in SessionFactory sessionFactory = (SessionFactory) context.getAttribute(\"SessionFactory\");?</p>\n\n<p><a href=\"https://stackoverflow.com/questions/34623142/mockito-when-thenresult-always-returns-null\">Other mockito issue</a></p>\n"}, {"tags": ["java", "multithreading", "nio", "java-io", "jdk1.7"], "comments": [{"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 1, "creation_date": 1452120178, "post_id": 34644187, "comment_id": 57034376, "body": "Your question is very unclear. Please can you post an <a href=\"http://www.stackoverflow.com/help/mcve\">MCVE</a>?"}, {"owner": {"reputation": 4209, "user_id": 811299, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/kGPOA.jpg?s=128&g=1", "display_name": "Steve Cohen", "link": "https://stackoverflow.com/users/811299/steve-cohen"}, "edited": false, "score": 0, "creation_date": 1452120922, "post_id": 34644187, "comment_id": 57034671, "body": "I cannot easily post an MCVE.  Sorry.  Still, I have indicated that each call of the worker thread launches a Process (a unix Process) and this process reads the file and writes another one (into the same directory),  Would File.exists() give bad results given a multithreaded environment in which the contents of the directory are changing, and might nio.Files.exists() give more reliable results?"}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1452121440, "post_id": 34644187, "comment_id": 57034883, "body": "&quot;Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers.&quot;"}, {"owner": {"reputation": 206047, "user_id": 126769, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/zBsgn.png?s=128&g=1", "display_name": "nos", "link": "https://stackoverflow.com/users/126769/nos"}, "edited": false, "score": 0, "creation_date": 1452121465, "post_id": 34644187, "comment_id": 57034900, "body": "@SteveCohen No. There&#39;s much, much more likely a bug in your code. But it&#39;s hard to tell what, we don&#39;t know anything about which of your jobs does what.in which order and in which thread, or whether there&#39;s any race conditions etc."}, {"owner": {"reputation": 3006, "user_id": 4307644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5a0ad436fd74b40a789d43682b223205?s=128&d=identicon&r=PG", "display_name": "MeetTitan", "link": "https://stackoverflow.com/users/4307644/meettitan"}, "edited": false, "score": 0, "creation_date": 1452122162, "post_id": 34644187, "comment_id": 57035163, "body": "Also, I doubt your program is spawning new unix processes. It is likely just spawning native threads, which is completely different than another whole process with a JVM in it. If you were to <code>ps --forest aux | grep java</code>, there would not be 30 jvm processes, just one."}, {"owner": {"reputation": 4209, "user_id": 811299, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/kGPOA.jpg?s=128&g=1", "display_name": "Steve Cohen", "link": "https://stackoverflow.com/users/811299/steve-cohen"}, "reply_to_user": {"reputation": 3006, "user_id": 4307644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5a0ad436fd74b40a789d43682b223205?s=128&d=identicon&r=PG", "display_name": "MeetTitan", "link": "https://stackoverflow.com/users/4307644/meettitan"}, "edited": false, "score": 0, "creation_date": 1452177787, "post_id": 34644187, "comment_id": 57061118, "body": "@MeetTitan - my program is quite definitely, and explicitly, spawning new unix processes.  I will update the original question showing precisely how they are launched.  These calls are all made in worker threads, after we determine that the input file exists."}, {"owner": {"reputation": 4209, "user_id": 811299, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/kGPOA.jpg?s=128&g=1", "display_name": "Steve Cohen", "link": "https://stackoverflow.com/users/811299/steve-cohen"}, "edited": false, "score": 0, "creation_date": 1452180209, "post_id": 34644187, "comment_id": 57062882, "body": "And I never said that there were multiple <b>JVM</b> processes."}, {"owner": {"reputation": 3006, "user_id": 4307644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5a0ad436fd74b40a789d43682b223205?s=128&d=identicon&r=PG", "display_name": "MeetTitan", "link": "https://stackoverflow.com/users/4307644/meettitan"}, "edited": false, "score": 0, "creation_date": 1452192191, "post_id": 34644187, "comment_id": 57070956, "body": "@SteveCohen, Unless you&#39;re using <code>Runtime.exec</code>, you are most definitely <i>not</i> spawning processes, but threads instead. Multiprocessing != multithreading."}, {"owner": {"reputation": 4209, "user_id": 811299, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/kGPOA.jpg?s=128&g=1", "display_name": "Steve Cohen", "link": "https://stackoverflow.com/users/811299/steve-cohen"}, "reply_to_user": {"reputation": 3006, "user_id": 4307644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5a0ad436fd74b40a789d43682b223205?s=128&d=identicon&r=PG", "display_name": "MeetTitan", "link": "https://stackoverflow.com/users/4307644/meettitan"}, "edited": false, "score": 0, "creation_date": 1452192730, "post_id": 34644187, "comment_id": 57071265, "body": "Hmm, @MeetTitan, javadoc for java.lang.Process says: &quot;The ProcessBuilder.start() and Runtime.exec methods create a native process and return an instance of a subclass of Process that can be used to control the process and obtain information about it. The class Process provides methods for performing input from the process, performing output to the process, waiting for the process to complete, checking the exit status of the process, and destroying (killing) the process. &quot;"}, {"owner": {"reputation": 3006, "user_id": 4307644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5a0ad436fd74b40a789d43682b223205?s=128&d=identicon&r=PG", "display_name": "MeetTitan", "link": "https://stackoverflow.com/users/4307644/meettitan"}, "edited": false, "score": 0, "creation_date": 1452200584, "post_id": 34644187, "comment_id": 57075888, "body": "Oh, your using ProcessBuilder? Carry on then, citizen."}], "answers": [{"comments": [{"owner": {"reputation": 3006, "user_id": 4307644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5a0ad436fd74b40a789d43682b223205?s=128&d=identicon&r=PG", "display_name": "MeetTitan", "link": "https://stackoverflow.com/users/4307644/meettitan"}, "edited": false, "score": 1, "creation_date": 1452122846, "post_id": 34644433, "comment_id": 57035429, "body": "While driveby downvotes do suck, your answer is more of a comment."}, {"owner": {"reputation": 4209, "user_id": 811299, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/kGPOA.jpg?s=128&g=1", "display_name": "Steve Cohen", "link": "https://stackoverflow.com/users/811299/steve-cohen"}, "edited": false, "score": 1, "creation_date": 1452177496, "post_id": 34644433, "comment_id": 57060925, "body": "@Olivier - I upvoted you since you are at least getting at the question I am trying to answer, even if not authoritatively, which is, again, how reliable is File.exists() given a machine on which many reads and writes happen simultaneously.  I don&#39;t believe File Handles is the issue here. but, forgetting about multithreading in java for a moment, imagine a server in which several INDEPENDENT processes are peforming disk writes.  If those writes were sometimes to the same directory, would a java app calling File.exists() occasionally fail?"}, {"owner": {"reputation": 3276, "user_id": 43585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f6b331bf47e448e0ba82fb9ba38f6f3?s=128&d=identicon&r=PG", "display_name": "Olivier", "link": "https://stackoverflow.com/users/43585/olivier"}, "edited": false, "score": 1, "creation_date": 1452181185, "post_id": 34644433, "comment_id": 57063600, "body": "Thanks for the upvote, I prefer to try to answer rather to going meta and shout &quot;MCVE !&quot;;) File.exist() is inherently error prone as, as I explain in my answer, it returns true if everything goes well AND the directory exists, or false in any other circumstances, basically meaning &quot;I can&#39;t confirm it exists&quot; rather than &quot;it doesn&#39;t exists&quot;. This is applicable to most of the File methods btw."}, {"owner": {"reputation": 4209, "user_id": 811299, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/kGPOA.jpg?s=128&g=1", "display_name": "Steve Cohen", "link": "https://stackoverflow.com/users/811299/steve-cohen"}, "edited": false, "score": 1, "creation_date": 1452182359, "post_id": 34644433, "comment_id": 57064471, "body": "My philosophy is similar to yours.  There are problems that cannot be easily and concisely stated, and the discussion they provoke can be useful, even if not leading to a quick, neat solution.  Might you please comment on my update which reports that java.nio.Files.exists() appears more reliable than java.io.File.exists()?"}], "tags": [], "owner": {"reputation": 3276, "user_id": 43585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f6b331bf47e448e0ba82fb9ba38f6f3?s=128&d=identicon&r=PG", "display_name": "Olivier", "link": "https://stackoverflow.com/users/43585/olivier"}, "is_accepted": true, "score": 0, "last_activity_date": 1452120951, "creation_date": 1452120951, "answer_id": 34644433, "question_id": 34644187, "link": "https://stackoverflow.com/questions/34644187/why-is-file-exists-behaving-flakily-in-multithreaded-environment/34644433#34644433", "title": "Why is File.exists() behaving flakily in multithreaded environment?", "body": "<p>Your application might be properly multithreaded, whenever you are accessing the FileSystem, it has limitations.\nIn your case, I would bet that too many threads are accessing it at the same time, with the consequence that FS runs out of file handle. File instances have no way to tell you that, as <code>exists()</code> do not throw Exception, so they simply return <code>false</code>, even if the directory exists.</p>\n"}, {"comments": [{"owner": {"reputation": 4209, "user_id": 811299, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/kGPOA.jpg?s=128&g=1", "display_name": "Steve Cohen", "link": "https://stackoverflow.com/users/811299/steve-cohen"}, "edited": false, "score": 0, "creation_date": 1452177170, "post_id": 34645090, "comment_id": 57060670, "body": "Well, no.  There would be no exception thrown, but the spawned Process would fail, and that Process (which launches the executable SoX) does not yield meaningful error codes that would enable me to determine if the reason for failure was FileNotFound which happens to be important information in this case.  I may try your suggestion of reducing the number of threads."}, {"owner": {"reputation": 4209, "user_id": 811299, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/kGPOA.jpg?s=128&g=1", "display_name": "Steve Cohen", "link": "https://stackoverflow.com/users/811299/steve-cohen"}, "edited": false, "score": 0, "creation_date": 1452179901, "post_id": 34645090, "comment_id": 57062657, "body": "While I had already gotten improved reliability by switching from java.io.File.exists() to java.nio.Files.exists(), I will report and upvote your answer because your suggestion of reducing the number of threads did indeed improve throughput.  Thanks."}, {"owner": {"reputation": 3276, "user_id": 43585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f6b331bf47e448e0ba82fb9ba38f6f3?s=128&d=identicon&r=PG", "display_name": "Olivier", "link": "https://stackoverflow.com/users/43585/olivier"}, "edited": false, "score": 0, "creation_date": 1452181319, "post_id": 34645090, "comment_id": 57063713, "body": "How many threads were running concurrently ? About Files.exists(), have a look at <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/check.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/io/check.html</a> : it is not much safer than File.exists(), so observed improvment migth not be related at all."}, {"owner": {"reputation": 4209, "user_id": 811299, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/kGPOA.jpg?s=128&g=1", "display_name": "Steve Cohen", "link": "https://stackoverflow.com/users/811299/steve-cohen"}, "edited": false, "score": 0, "creation_date": 1452183094, "post_id": 34645090, "comment_id": 57065051, "body": "30.  I reduced it to 6 as per @EJB and it did improve throughput."}], "tags": [], "owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "is_accepted": false, "score": 4, "last_activity_date": 1454397338, "last_edit_date": 1454397338, "creation_date": 1452124517, "answer_id": 34645090, "question_id": 34644187, "link": "https://stackoverflow.com/questions/34644187/why-is-file-exists-behaving-flakily-in-multithreaded-environment/34645090#34645090", "title": "Why is File.exists() behaving flakily in multithreaded environment?", "body": "<p>The real question here is why are you calling it?</p>\n\n<ul>\n<li>You have to construct a <code>FileInputStream</code> or <code>FileReader</code> to read a file, and these will throw a <code>FileNotFoundException</code> if the file can't be opened, with absolute reliability.</li>\n<li>You have to catch exceptions anyway.</li>\n<li>The operating system has to check whether the file exists anyway.</li>\n<li>There is no need to check it twice.</li>\n<li>Existence can change between checking it and opening the file.</li>\n</ul>\n\n<p>So, don't check it twice. Let opening the file do all the work.</p>\n\n<blockquote>\n  <p>Is it a mistake to be writing files in a multithreaded process</p>\n</blockquote>\n\n<p>I wouldn't say it's a mistake, but it's pretty pointless. The disk isn't multi-threaded.</p>\n\n<blockquote>\n  <p>Would a smaller Thread Pool help (currently 30)?</p>\n</blockquote>\n\n<p>I would definitely reduce this anyway, to four or so, not to fix this problem but to reduce thrashing and almost certainly improve throughput.</p>\n"}, {"tags": [], "owner": {"reputation": 4209, "user_id": 811299, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/kGPOA.jpg?s=128&g=1", "display_name": "Steve Cohen", "link": "https://stackoverflow.com/users/811299/steve-cohen"}, "is_accepted": false, "score": 4, "last_activity_date": 1452719271, "last_edit_date": 1452719271, "creation_date": 1452195805, "answer_id": 34663802, "question_id": 34644187, "link": "https://stackoverflow.com/questions/34644187/why-is-file-exists-behaving-flakily-in-multithreaded-environment/34663802#34663802", "title": "Why is File.exists() behaving flakily in multithreaded environment?", "body": "<p>I have marked @Olivier's answer as \"the\" answer, but I am providing my own here, in order to summarize the findings of my experiment.  I am calling it \"the\" answer for getting closer to the truth than anyone else, even though his guess about File Handles does not seem to be obviously correct, although I can't disprove it either.  What does ring true is his simple statement \"<strong>Your application might be properly multithreaded, whenever you are accessing the FileSystem, it has limitations.</strong>\"  This is consistent with my findings.  If anyone can shed any further light, I may change this.</p>\n\n<ol>\n<li>Is it a bug in my code?  </li>\n</ol>\n\n<p>Highly doubtful.  Running the same process repeatedly over the same list of files randomly shows a few files showing as non-existent when they do, in fact, exist.  Running the process again, these same files are found to exist.  There is zero chance that the existence of these files would have changed in the interim.</p>\n\n<ol start=\"2\">\n<li>Does using <code>java.nio.Files.exists()</code> rather than <code>java.io.File.exists()</code> help?  </li>\n</ol>\n\n<p>No.  The underlying interface to the file system does not appear to be different.  The nio improvements in this area seem to be confined to the handling of links in nio, which is not the issue here.  But I can't say for sure, as this is native code.</p>\n\n<ol start=\"3\">\n<li>Does putting the input and output files in different directories, so that my existence checks are not reading the same directory where the output files are getting written to, help?</li>\n</ol>\n\n<p>No.  It does not appear to be two simultaneous hits on the <strong>directory</strong> that causes the problem, so much as two simultaneous hits on the <strong>file system</strong>.</p>\n\n<ol start=\"4\">\n<li>Does reducing the number of threads in the pool help?  </li>\n</ol>\n\n<p>Only reducing it to 1 makes it reliable, in other words only doing away with the multithreaded approach altogether, helps.  This operation does not appear to be 100% reliable at least not with this OS and JDK, multithreaded.</p>\n\n<p>If sox were ever to be redesigned so as to give a distinct error code for File Not Found on the input files, this might make the answer of @EJP above feasible.</p>\n"}], "owner": {"reputation": 4209, "user_id": 811299, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/kGPOA.jpg?s=128&g=1", "display_name": "Steve Cohen", "link": "https://stackoverflow.com/users/811299/steve-cohen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1886, "favorite_count": 2, "accepted_answer_id": 34644433, "answer_count": 3, "score": 5, "last_activity_date": 1454397338, "creation_date": 1452119834, "last_edit_date": 1452718405, "question_id": 34644187, "link": "https://stackoverflow.com/questions/34644187/why-is-file-exists-behaving-flakily-in-multithreaded-environment", "title": "Why is File.exists() behaving flakily in multithreaded environment?", "body": "<p>I have a batch process running under java JDK 1.7.  It is running on a system with RHEL, 2.6.18-308.el5 #1 SMP.</p>\n\n<p>This process gets a list of metadata objects from a database.  From this metadata it extracts a path to a file.  This file may or may not actually exist.</p>\n\n<p>The process uses the ExecutorService (<code>Executors.newFixedThreadPool()</code>) to launch multiple threads.  Each thread runs a Callable that launches a process that reads that file and writes another file if that input file exists (and logs the result) and does nothing if the file does not exist (except log that result).</p>\n\n<p>I find the behavior is indeterminate.  Although the actual existence of the each of the files is constant throughout, running this process does not give consistent results.  It usually gives correct results but occasionally finds that a few files which really do exist do not.  If I run the same process again, it will find the files that it previously said did not exist.</p>\n\n<p>Why might this be happening, and is there an alternative way of doing that would be more reliable?  Is it a mistake to be writing files in a multithreaded process while other threads are attempting to read the directory?  Would a smaller Thread Pool help (currently 30)? </p>\n\n<p><strong>UPDATE:</strong>\nHere is the actual code of the unix process called by the worker threads in this scenario:</p>\n\n<pre><code>public int convertOutputFile(String inputFile, String outputFile)\nthrows IOException\n{\n    List&lt;String&gt; args = new LinkedList&lt;String&gt;();\n    args.add(\"sox\");\n    args.add(inputFile);\n    args.add(outputFile);\n    args.addAll(2, this.outputArguments);\n    args.addAll(1, this.inputArguments);\n    long pStart = System.currentTimeMillis();\n    int status = -1;\n    Process soxProcess = new ProcessBuilder(args).start();\n\n    try {\n        // if we don't wait for the process to complete, player won't\n        // find the converted file.\n        status = soxProcess.waitFor();\n        if (status == 0) {\n            logger.debug(String.format(\"SoX conversion process took %d ms.\",\n                    System.currentTimeMillis() - pStart));\n        } else {\n            logger.error(\"SoX conversion process returned an error status of \" + status);\n        }\n    } catch (InterruptedException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    return status;\n}\n</code></pre>\n\n<p><strong>UPDATE #2:</strong></p>\n\n<p>I have tried the experiment of switching from java.io.File.exists() to java.nio.Files.exists() and this seems to provide more reliability.  I have yet to see the failure condition over multiple attempts, where as before it occurred approximately 10% of the time.  So I guess I'm looking to know whether the nio version is somehow more robust in how it handles the underlying File System.  <strong>This finding was later proven false.  nio is no help here.</strong></p>\n\n<p><strong>UPDATE #3:</strong>\nUpon further review I still find the same failure condition occurring.  So switching to nio is not a panacea.  I've obtained better results by reducing the thread pool size of the executor service to 1.  This seems to be more reliable and there is that way no chance of one thread reading the directory while another thread is launching a process that writes to the same directory.</p>\n\n<p>One further possibility that I have not yet investigated is whether I would be better served by putting my output files in a different directory than the input files.  I put them in the same directory because it was easier to code, but that may be confusing things, since the output file creation is affecting the same directory as the input directory scan. </p>\n\n<p><strong>UPDATE #4:</strong>\nRecoding so that the output files are written to a different directory than the input files (whose existence is being checked for) does not particularly help things. <strong>The only change that helps things is having an ExecutorService thread pool size of 1, in other words, not multithreading this operation.</strong></p>\n"}, {"tags": ["java", "hadoop", "apache-spark", "mapreduce"], "answers": [{"tags": [], "owner": {"reputation": 1985, "user_id": 5318711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f76ce1b74a9901287a939afed2b21157?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Widen", "link": "https://stackoverflow.com/users/5318711/joe-widen"}, "is_accepted": false, "score": 1, "last_activity_date": 1452121374, "creation_date": 1452121374, "answer_id": 34644526, "question_id": 34644181, "link": "https://stackoverflow.com/questions/34644181/spark-technical-terminology-for-reduce-elements-on-the-run-time/34644526#34644526", "title": "Spark: Technical terminology for reduce elements on the run-time?", "body": "<p>It doesn't necessarily aggregate values that way.  How do you think a mapper in MapReduce works?</p>\n\n<p>You can think of it like a hashmap.  If it sees the key is already in the hashmap, it increments the value, if not, it inserts the key into the hashmap and then initializes the value.</p>\n\n<p>You cant add 1+1+1+1+1 with out adding 1+1,+1,+1,+1 in some combination, unless I'm forgetting some math.</p>\n"}, {"tags": [], "owner": {"reputation": 3533, "user_id": 4421185, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HQqM8.jpg?s=128&g=1", "display_name": "Durga Viswanath Gadiraju", "link": "https://stackoverflow.com/users/4421185/durga-viswanath-gadiraju"}, "is_accepted": false, "score": 0, "last_activity_date": 1452123717, "creation_date": 1452123717, "answer_id": 34644951, "question_id": 34644181, "link": "https://stackoverflow.com/questions/34644181/spark-technical-terminology-for-reduce-elements-on-the-run-time/34644951#34644951", "title": "Spark: Technical terminology for reduce elements on the run-time?", "body": "<p>Terminology is same as Map Reduce. Only difference is unlike Map Reduce which only provides map and reduce functions to implement logic such as filtering, joins and aggregations, Spark have many out of the functions. For map in map reduce we have map, flatMap, filter etc in spark, for reduce in map reduce we have reduce, count, reduceByKey, countByKey, aggregateByKey, groupByKey, combineByKey etc in spark.</p>\n\n<p>In Map Reduce you need to specify combiner class if you want to pre-aggregate on mapper side, in spark combiner is used if you use reduceByKey, aggregateByKey, combineByKey. If you do not want to use combiner, then you have to use groupByKey function. </p>\n\n<p>Technical terminology is same in map reduce and spark for the topics you have asked. But it is different for topics such as distributed cache, in Spark it is called as broadcast. Also even though terminology is same there are subtle differences the way they operate.</p>\n"}, {"tags": [], "owner": {"reputation": 754, "user_id": 741325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02a2beee2894c1b73c216ee9a05831f4?s=128&d=identicon&r=PG", "display_name": "Alex Larikov", "link": "https://stackoverflow.com/users/741325/alex-larikov"}, "is_accepted": false, "score": 1, "last_activity_date": 1452125160, "creation_date": 1452125160, "answer_id": 34645191, "question_id": 34644181, "link": "https://stackoverflow.com/questions/34644181/spark-technical-terminology-for-reduce-elements-on-the-run-time/34645191#34645191", "title": "Spark: Technical terminology for reduce elements on the run-time?", "body": "<p>Spark does it in more functional way, so functional programming terminology should be applicable here.</p>\n\n<pre><code>rdd.reduce(_ + _)\n</code></pre>\n\n<p>is a <strong>reduce</strong> (fold/accumulate) <strong>function</strong>:</p>\n\n<p>There are some good explanations available <a href=\"http://blogs.msdn.com/b/csliu/archive/2009/11/10/map-reduce-in-functional-programming-parallel-processing-perspectives.aspx\" rel=\"nofollow\" title=\"here\">here</a>, so I'm just copy-pasting some of them:</p>\n\n<blockquote>\n  <p>Fold (a.k.a. Reduce, Accumulate) is a higher order function that processes (using a combiner function) a list of elements in some order and build up a return value</p>\n</blockquote>\n\n<p>Where \"+\" here is a <strong>combiner function</strong>:</p>\n\n<blockquote>\n  <p>Combiner is a function that is applied to two elements and produces a result that can be combined using combiner with the remaining elements in the list.</p>\n</blockquote>\n\n<p>Also there are more details available on fold functions in general and their application in functional programming <a href=\"https://en.wikipedia.org/wiki/Fold_(higher-order_function)\" rel=\"nofollow\">Fold (higher-order function)</a></p>\n"}], "owner": {"reputation": 17078, "user_id": 3993270, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/1bee661ad7451ff3107ca6954560a06c?s=128&d=identicon&r=PG&f=1", "display_name": "Edamame", "link": "https://stackoverflow.com/users/3993270/edamame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1452125160, "creation_date": 1452119815, "last_edit_date": 1452121600, "question_id": 34644181, "link": "https://stackoverflow.com/questions/34644181/spark-technical-terminology-for-reduce-elements-on-the-run-time", "title": "Spark: Technical terminology for reduce elements on the run-time?", "body": "<p>In a word count example below:</p>\n\n<pre><code>(Hello,1)\n(Hello,1)\n(Hello,1)\n(Hello,1)\n(Hello,1)\n</code></pre>\n\n<p>The reducer function of Hadoop would collect all 5 elements with key \"Hello\", and then do the aggregation in the reducer function.</p>\n\n<p>However, in Spark, it is actually reduces 2 elements each time. For example, it combines first and second (Hello,1) to (Hello,2), combines the third and forth (Hello,1) to (Hello,2) ... etc (of course, the real case might be in different order).</p>\n\n<p>So is there a specific terminology to describe such computational method used in Spark? Thanks!</p>\n"}, {"tags": ["java", "3d", "awt"], "comments": [{"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1452120024, "post_id": 34644158, "comment_id": 57034306, "body": "What do you mean &quot;do with edges&quot;? Are you trying to draw the edges between pairs of 3d points? If so, can&#39;t you just work out the projected coordinates of the endpoints, and draw a line between them?"}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1452120077, "post_id": 34644158, "comment_id": 57034329, "body": "Also, I&#39;d suggest using OpenGL."}, {"owner": {"reputation": 25, "user_id": 5754698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7f0cdba9c1e17b9b04277ff1bc9613?s=128&d=identicon&r=PG&f=1", "display_name": "Natalie Chawkins", "link": "https://stackoverflow.com/users/5754698/natalie-chawkins"}, "reply_to_user": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1452120337, "post_id": 34644158, "comment_id": 57034449, "body": "I&#39;m only thinking, in that code is all okay because we know how much edges we need. How about that idea: make 2 arraylist, first shoud be make profile of that guy from pixels and second should be rotate in with mouse @AndyTurner"}, {"owner": {"reputation": 25, "user_id": 5754698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7f0cdba9c1e17b9b04277ff1bc9613?s=128&d=identicon&r=PG&f=1", "display_name": "Natalie Chawkins", "link": "https://stackoverflow.com/users/5754698/natalie-chawkins"}, "reply_to_user": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1452120480, "post_id": 34644158, "comment_id": 57034501, "body": "@AndyTurner I don&#39;t how but I want paint all of pixeles and combine all of them to make a 3D head and it should be probably awt like in this aplet."}, {"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1452122607, "post_id": 34644158, "comment_id": 57035341, "body": "Make sure you dispose the Graphics object of your backing buffer when your done painting to it. Don&#39;t override update, just override paint"}, {"owner": {"reputation": 25, "user_id": 5754698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7f0cdba9c1e17b9b04277ff1bc9613?s=128&d=identicon&r=PG&f=1", "display_name": "Natalie Chawkins", "link": "https://stackoverflow.com/users/5754698/natalie-chawkins"}, "reply_to_user": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1452134092, "post_id": 34644158, "comment_id": 57038640, "body": "@MadProgrammer and if I would have these pixels in 3D space how can I impose file in which are situaded colors corresponding to the drawn points."}, {"owner": {"reputation": 163297, "user_id": 418556, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/yOfDr.png?s=128&g=1", "display_name": "Andrew Thompson", "link": "https://stackoverflow.com/users/418556/andrew-thompson"}, "edited": false, "score": 0, "creation_date": 1452287554, "post_id": 34644158, "comment_id": 57118838, "body": "1) Why code an applet?  If it is due to the teacher specifying it, please refer them to <a href=\"http://programmers.blogoverflow.com/2013/05/why-cs-teachers-should-stop-teaching-java-applets/\" rel=\"nofollow noreferrer\">Why CS teachers should <b>stop</b> teaching Java applets</a>. 2) Why use AWT?   See <a href=\"http://stackoverflow.com/questions/6255106/java-gui-listeners-without-awt/6255978#6255978\">this answer</a> for many good reasons to abandon AWT using components in favor of Swing."}], "answers": [{"tags": [], "owner": {"reputation": 3615, "user_id": 975724, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/o10HS.jpg?s=128&g=1", "display_name": "Nicholas Miller", "link": "https://stackoverflow.com/users/975724/nicholas-miller"}, "is_accepted": false, "score": 0, "last_activity_date": 1452120401, "creation_date": 1452120401, "answer_id": 34644307, "question_id": 34644158, "link": "https://stackoverflow.com/questions/34644158/how-to-paint-3d-object-from-pixels/34644307#34644307", "title": "How to paint 3D object from pixels?", "body": "<p>This is not something you will want to do solely in <code>java.awt</code>.  There is a lot involved with rendering 3D using only pixels.</p>\n\n<p>You'll have to compute all of the mathematics for converting 3D space to 2D, account for rotation/translation/scaling and account for shading (if required).</p>\n\n<p>Are you able to use OpenGL to solve your issue?</p>\n\n<p>Java even has bindings for OpenGL <a href=\"http://jogamp.org/jogl/www/\" rel=\"nofollow\">(see Java OpenGL)</a> that allow you to render 3D graphics on an AWT window.</p>\n\n<p>If you absolutely must implement your own software rendering pipeline, you'll need to start by learning about projection matrices and modelview matrices.  Then you will need to implement your own version of a vertex shader and fragment shader (or something of the sort).</p>\n\n<p>I found this article which may be helpful in the mathematics: <a href=\"http://www.songho.ca/opengl/gl_projectionmatrix.html\" rel=\"nofollow\">http://www.songho.ca/opengl/gl_projectionmatrix.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 5754698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7f0cdba9c1e17b9b04277ff1bc9613?s=128&d=identicon&r=PG&f=1", "display_name": "Natalie Chawkins", "link": "https://stackoverflow.com/users/5754698/natalie-chawkins"}, "edited": false, "score": 0, "creation_date": 1452153413, "post_id": 34646719, "comment_id": 57045095, "body": "thanks man.. I fixed it! But can you give me que how can I change it to my file without edges? In square I know how many edges it has but in my object with 160 000 vertices I don&#39;t have any idea..."}, {"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "reply_to_user": {"reputation": 25, "user_id": 5754698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7f0cdba9c1e17b9b04277ff1bc9613?s=128&d=identicon&r=PG&f=1", "display_name": "Natalie Chawkins", "link": "https://stackoverflow.com/users/5754698/natalie-chawkins"}, "edited": false, "score": 0, "creation_date": 1452153570, "post_id": 34646719, "comment_id": 57045161, "body": "Well, my 3D&#39;s a little rusty, but a vertice is just a point in 3D space, the edge been a connection between two vertices, so you need to know how each vertice connects.  Of course, rather than using <code>drawLine</code>, you could draw small &quot;dots&quot; (maybe a rectangle of 1x1 size) which could represent a &quot;cloud&quot; of vericies"}, {"owner": {"reputation": 25, "user_id": 5754698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7f0cdba9c1e17b9b04277ff1bc9613?s=128&d=identicon&r=PG&f=1", "display_name": "Natalie Chawkins", "link": "https://stackoverflow.com/users/5754698/natalie-chawkins"}, "edited": false, "score": 0, "creation_date": 1452153997, "post_id": 34646719, "comment_id": 57045352, "body": "I think it is important. My file is sorting by first column (theta) and next is second column (y), when e.g. theta 0.00 is endind (0.12 is starting) the same is with &quot;y&quot;! Last column is &quot;free&quot; in sorting. I heard that is making a grid but I don&#39;t know how I can use it. In my opinion it can be key in connection.. but I&#39;m only thinking."}, {"owner": {"reputation": 25, "user_id": 5754698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7f0cdba9c1e17b9b04277ff1bc9613?s=128&d=identicon&r=PG&f=1", "display_name": "Natalie Chawkins", "link": "https://stackoverflow.com/users/5754698/natalie-chawkins"}, "edited": false, "score": 0, "creation_date": 1452155338, "post_id": 34646719, "comment_id": 57045976, "body": "Mad, look at this please: <a href=\"http://pastebin.com/3HAQmQ53\" rel=\"nofollow noreferrer\">pastebin.com/3HAQmQ53</a> // It is e.g. from ~center of my file."}, {"owner": {"reputation": 163297, "user_id": 418556, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/yOfDr.png?s=128&g=1", "display_name": "Andrew Thompson", "link": "https://stackoverflow.com/users/418556/andrew-thompson"}, "edited": false, "score": 0, "creation_date": 1452287717, "post_id": 34646719, "comment_id": 57118915, "body": "<i>&quot;Mad, look at this please&quot;</i>  SO is neither a help desk nor a tutorial service.  It seems your (original) question has been answered.  Please <a href=\"http://meta.stackexchange.com/a/5235/155831\">accept the answer</a> if it helped solve the problem (and potentially ask new ones on new threads). But note that people will rarely follow links to code."}], "tags": [], "owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "is_accepted": false, "score": 1, "last_activity_date": 1452135898, "creation_date": 1452135898, "answer_id": 34646719, "question_id": 34644158, "link": "https://stackoverflow.com/questions/34644158/how-to-paint-3d-object-from-pixels/34646719#34646719", "title": "How to paint 3D object from pixels?", "body": "<p>Change...</p>\n\n<pre><code>public void update( Graphics g ) {\n   g.drawImage( backbuffer, 0, 0, this );\n   showStatus(\"Elev: \"+elevation+\" deg, Azim: \"+azimuth+\" deg\");\n}\n\npublic void paint( Graphics g ) {\n   update( g );\n}\n</code></pre>\n\n<p>to...</p>\n\n<pre><code>@Override\npublic void paint(Graphics g) {\n    super.paint(g);\n    g.drawImage(backbuffer, 0, 0, this);\n    showStatus(\"Elev: \" + elevation + \" deg, Azim: \" + azimuth + \" deg\");\n}\n</code></pre>\n\n<p>And it produces...</p>\n\n<p><a href=\"https://i.stack.imgur.com/ckxNI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ckxNI.png\" alt=\"Cude\"></a></p>\n\n<p><code>update</code> actually calls <code>paint</code>, so you're kind of screwing with the way painting works.</p>\n"}], "owner": {"reputation": 25, "user_id": 5754698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7f0cdba9c1e17b9b04277ff1bc9613?s=128&d=identicon&r=PG&f=1", "display_name": "Natalie Chawkins", "link": "https://stackoverflow.com/users/5754698/natalie-chawkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 507, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1452135898, "creation_date": 1452119693, "last_edit_date": 1452122641, "question_id": 34644158, "link": "https://stackoverflow.com/questions/34644158/how-to-paint-3d-object-from-pixels", "title": "How to paint 3D object from pixels?", "body": "<p>I have problem with my program. I have ascii file with columns \"theta y radius\" ~ 180 000 lines. I can calculate from that: x,y,z records. I try to paint it in 3D space, next I want to combine the pixels and result should be project which I can rotate with my mouse. I should use only java.awt.</p>\n\n<p>I have something like that:</p>\n\n<pre><code>import java.applet.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.lang.Math;\n\nclass Point3D {\n   public int x, y, z;\n   public Point3D( int X, int Y, int Z ) {\n      x = X;  y = Y;  z = Z;\n   }\n}\n\nclass Edge {\n   public int a, b;\n   public Edge( int A, int B ) {\n      a = A;  b = B;\n   }\n}\n\npublic class WireframeViewer extends Applet\n   implements MouseListener, MouseMotionListener {\n\n   int width, height;\n   int mx, my;  // the most recently recorded mouse coordinates\n\n   Image backbuffer;\n   Graphics backg;\n\n   int azimuth = 35, elevation = 30;\n\n   Point3D[] vertices;\n   Edge[] edges;\n\n   public void init() {\n      width = getSize().width;\n      height = getSize().height;\n\n      vertices = new Point3D[ 8 ];\n      vertices[0] = new Point3D( -1, -1, -1 );\n      vertices[1] = new Point3D( -1, -1,  1 );\n      vertices[2] = new Point3D( -1,  1, -1 );\n      vertices[3] = new Point3D( -1,  1,  1 );\n      vertices[4] = new Point3D(  1, -1, -1 );\n      vertices[5] = new Point3D(  1, -1,  1 );\n      vertices[6] = new Point3D(  1,  1, -1 );\n      vertices[7] = new Point3D(  1,  1,  1 );\n\n      edges = new Edge[ 12 ];\n      edges[ 0] = new Edge( 0, 1 );\n      edges[ 1] = new Edge( 0, 2 );\n      edges[ 2] = new Edge( 0, 4 );\n      edges[ 3] = new Edge( 1, 3 );\n      edges[ 4] = new Edge( 1, 5 );\n      edges[ 5] = new Edge( 2, 3 );\n      edges[ 6] = new Edge( 2, 6 );\n      edges[ 7] = new Edge( 3, 7 );\n      edges[ 8] = new Edge( 4, 5 );\n      edges[ 9] = new Edge( 4, 6 );\n      edges[10] = new Edge( 5, 7 );\n      edges[11] = new Edge( 6, 7 );\n\n      backbuffer = createImage( width, height );\n      backg = backbuffer.getGraphics();\n      drawWireframe( backg );\n\n      addMouseListener( this );\n      addMouseMotionListener( this );\n   }\n\n   void drawWireframe( Graphics g ) {\n\n      // compute coefficients for the projection\n      double theta = Math.PI * azimuth / 180.0;\n      double phi = Math.PI * elevation / 180.0;\n      float cosT = (float)Math.cos( theta ), sinT = (float)Math.sin( theta );\n      float cosP = (float)Math.cos( phi ), sinP = (float)Math.sin( phi );\n      float cosTcosP = cosT*cosP, cosTsinP = cosT*sinP,\n             sinTcosP = sinT*cosP, sinTsinP = sinT*sinP;\n\n      // project vertices onto the 2D viewport\n      Point[] points;\n      points = new Point[ vertices.length ];\n      int j;\n      int scaleFactor = width/4;\n      float near = 3;  // distance from eye to near plane\n      float nearToObj = 1.5f;  // distance from near plane to center of object\n      for ( j = 0; j &lt; vertices.length; ++j ) {\n         int x0 = vertices[j].x;\n         int y0 = vertices[j].y;\n         int z0 = vertices[j].z;\n\n         // compute an orthographic projection\n         float x1 = cosT*x0 + sinT*z0;\n         float y1 = -sinTsinP*x0 + cosP*y0 + cosTsinP*z0;\n\n         // now adjust things to get a perspective projection\n         float z1 = cosTcosP*z0 - sinTcosP*x0 - sinP*y0;\n         x1 = x1*near/(z1+near+nearToObj);\n         y1 = y1*near/(z1+near+nearToObj);\n\n         // the 0.5 is to round off when converting to int\n         points[j] = new Point(\n            (int)(width/2 + scaleFactor*x1 + 0.5),\n            (int)(height/2 - scaleFactor*y1 + 0.5)\n         );\n      }\n\n      // draw the wireframe\n      g.setColor( Color.black );\n      g.fillRect( 0, 0, width, height );\n      g.setColor( Color.white );\n      for ( j = 0; j &lt; edges.length; ++j ) {\n         g.drawLine(\n            points[ edges[j].a ].x, points[ edges[j].a ].y,\n            points[ edges[j].b ].x, points[ edges[j].b ].y\n         );\n      }\n   }\n\n   public void mouseEntered( MouseEvent e ) { }\n   public void mouseExited( MouseEvent e ) { }\n   public void mouseClicked( MouseEvent e ) { }\n   public void mousePressed( MouseEvent e ) {\n      mx = e.getX();\n      my = e.getY();\n      e.consume();\n   }\n   public void mouseReleased( MouseEvent e ) { }\n   public void mouseMoved( MouseEvent e ) { }\n   public void mouseDragged( MouseEvent e ) {\n      // get the latest mouse position\n      int new_mx = e.getX();\n      int new_my = e.getY();\n\n      // adjust angles according to the distance travelled by the mouse\n      // since the last event\n      azimuth -= new_mx - mx;\n      elevation += new_my - my;\n\n      // update the backbuffer\n      drawWireframe( backg );\n\n      // update our data\n      mx = new_mx;\n      my = new_my;\n\n      repaint();\n      e.consume();\n   }\n\n   public void update( Graphics g ) {\n      g.drawImage( backbuffer, 0, 0, this );\n      showStatus(\"Elev: \"+elevation+\" deg, Azim: \"+azimuth+\" deg\");\n   }\n\n   public void paint( Graphics g ) {\n      update( g );\n   }\n}\n</code></pre>\n\n<p>That aplet is okay but it's showing square - I want that there should be object from my pixels. </p>\n\n<p>I can calculate > 160 00 vertices and when I'm painting it in 2D I can see a man head. The problem is, what I can do with edges?</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["java", "android", "reactive-programming"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1452134653, "post_id": 34644130, "comment_id": 57038763, "body": "Something has to eventually block somewhere for anything to get done. I don&#39;t see a problem with what you have"}, {"owner": {"reputation": 9488, "user_id": 1121497, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/lKl3g.jpg?s=128&g=1", "display_name": "Ferran Maylinch", "link": "https://stackoverflow.com/users/1121497/ferran-maylinch"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1452158459, "post_id": 34644130, "comment_id": 57047776, "body": "Thank you cricket_007. I&#39;ve read somewhere that in rx you should keep everything non-blocking. I can subscribe to the observable as usual but I see that <code>toBlocking</code> makes the code simpler (similar to Java8 streams) and, like you, I don&#39;t see a problem in this case, because the code won&#39;t actually block."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1452169118, "post_id": 34644130, "comment_id": 57054971, "body": "In this case the code will block, though. Same as when it blocks for the subscription event handling"}], "owner": {"reputation": 9488, "user_id": 1121497, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/lKl3g.jpg?s=128&g=1", "display_name": "Ferran Maylinch", "link": "https://stackoverflow.com/users/1121497/ferran-maylinch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1452119563, "creation_date": 1452119563, "question_id": 34644130, "link": "https://stackoverflow.com/questions/34644130/is-it-ok-to-use-reactive-streams-for-synchronous-operations", "title": "Is it OK to use reactive streams for synchronous operations?", "body": "<p>If I want to map/filter/whatever some collection I already have, is it OK to use reactive streams for that?</p>\n\n<p>For example, I'd like to do something like this in Android (using RxAndroid and gradle-retrolambda):</p>\n\n<pre><code>List&lt;Product&gt; availableProducts =\n    Observable.from(products)\n        .filter(p -&gt; p.isAvailable())\n        .toSortedList((p1,p2) -&gt; p1.getPrice() - p2.getPrice())\n        .toBlocking()\n        .single();\n</code></pre>\n\n<p>Is this OK? Should I do it other way? Is it a bad practice? If so, why do we have <code>toBlocking</code>?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["java", "android"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1452460201, "post_id": 34644093, "comment_id": 57167753, "body": "IMHO, events should only go to things with clear lifecycles (e.g., activities, fragments, services) or everlasting singletons (e.g., caches). I would never have an <code>Adapter</code> be a registrant on an event bus. Beyond that, to be honest, I cannot make sense of your code. My best recommendation, short of a rewrite, is that whatever owns the <code>AdapterView</code> that has the <code>BaseAdapter</code> that is registered on the event bus needs to tell the adapter to register and unregister from appropriate lifecycle methods."}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 2791555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cd1de9d40e64cb3800e895f50ff7317?s=128&d=identicon&r=PG&f=1", "display_name": "rituzy", "link": "https://stackoverflow.com/users/2791555/rituzy"}, "is_accepted": true, "score": 0, "last_activity_date": 1452629216, "last_edit_date": 1495541631, "creation_date": 1452629216, "answer_id": 34752836, "question_id": 34644093, "link": "https://stackoverflow.com/questions/34644093/where-to-place-eventbus-getdefault-unregister-in-baseadapter/34752836#34752836", "title": "Where to place EventBus.getDefault().unregister in BaseAdapter", "body": "<p>Finally I cope with this: <em>the bottleneck is in linking PlaceholderFragment and ListAdapter: listViewItem is null everywhere except onCreateViewInputData</em> . Below is rewised SectionsPagerAdapter:</p>\n\n<pre><code>public class SectionsPagerAdapter extends FragmentPagerAdapter {\n  Context activity;\n  SparseArray&lt;Fragment&gt; registeredFragments = new SparseArray&lt;Fragment&gt;();\n\n  public SectionsPagerAdapter(FragmentManager fm, Context activity) {\n    super(fm);\n    this.activity = activity;\n  }\n\n  @Override\n  public Fragment getItem(int position) {\n    // getItem is called to instantiate the fragment for the given page.\n    return PlaceholderFragment.newInstance(position);\n  }\n\n  @Override\n  public int getCount() {\n    return 3;\n  }\n\n  @Override\n  public CharSequence getPageTitle(int position) {\n    switch (position) {\n        case 0:\n            return activity.getString(R.string.chart);\n        case 1:\n            return activity.getString(R.string.weight_diary);\n        case 2:\n            return activity.getString(R.string.how_to);\n      }\n      return null;\n  }\n\n  @Override\n  public Object instantiateItem(ViewGroup container, int position) {\n    Fragment fragment = (Fragment) super.instantiateItem(container, position);\n    registeredFragments.put(position, fragment);\n    return fragment;\n  }\n\n  @Override\n  public void destroyItem(ViewGroup container, int position, Object object) {\n    registeredFragments.remove(position);\n    super.destroyItem(container, position, object);\n  }\n\n  public Fragment getRegisteredFragment(int position) {\n    return registeredFragments.get(position);\n    //maybe use adapater.getRegisteredFragment(viewPager.getCurrentItem());\n  }\n}\n</code></pre>\n\n<p>and here is my call to the widget in the one of 3 fragments:</p>\n\n<pre><code>   public void updateListItemFragment() {\n      android.support.v4.app.Fragment inputData = mSectionsPagerAdapter.getRegisteredFragment(1);\n      ListView lv = ((PlaceholderFragment)inputData).listViewItem;\n      //for test purposes I refill listview with no items - here you need to hand filled BaseAdapter instance: CustomAdapter innerAdapter = new CustomAdapter(ArrayList&lt;yourDataModel&gt;, getContext());\n      lv.setAdapter(null);\n  }\n</code></pre>\n\n<p>And as you've may already wondered there is no need for event bus anymore. Btw if the fragment is not crated yet you need to check it: details are <a href=\"https://stackoverflow.com/questions/8785221/retrieve-a-fragment-from-a-viewpager\">here</a>. Thanks to CommonsWare for quik reply and advice. </p>\n"}], "owner": {"reputation": 53, "user_id": 2791555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cd1de9d40e64cb3800e895f50ff7317?s=128&d=identicon&r=PG&f=1", "display_name": "rituzy", "link": "https://stackoverflow.com/users/2791555/rituzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1057, "favorite_count": 0, "accepted_answer_id": 34752836, "answer_count": 1, "score": 2, "last_activity_date": 1452629216, "creation_date": 1452119424, "question_id": 34644093, "link": "https://stackoverflow.com/questions/34644093/where-to-place-eventbus-getdefault-unregister-in-baseadapter", "title": "Where to place EventBus.getDefault().unregister in BaseAdapter", "body": "<p>Friends, I've spent enough time to find an answer to my question(here and on android's site) But no luck.\nHere is the logic:\n From DialogFragment upon finishing putting user's data he clicks OK button:</p>\n\n<pre><code>import de.greenrobot.event.EventBus;\n...\npublic class AddDialogFragment extends DialogFragment implements\n        DialogInterface.OnClickListener {\n...\n public void onClick(DialogInterface dialog, int which) {\n\n        StringBuilder date = new StringBuilder(today.getText().subSequence(0,\n                today.getText().length()));\n        date = (date.toString().equals(getString(R.string.today))) ? new StringBuilder(\"20150104\") : date;\n\n        int weight = 89;\n        String[] bsi = rb.getSelectedItems();\n        String[] gsi = rg.getSelectedItems();\n\n        DatabaseManipulation dm = new DatabaseManipulation(getActivity());\n        dm.run(date, weight, bsi, gsi);\n        dm.destroy();\n        DialogDataModel toSend = new DialogDataModel(weight, date.toString(), bsi, gsi);\n/*\n        Context activity = getActivity();\n        if (activity instanceof WDActivity)\n            ((WDActivity) activity).updateListItemFragment();\n*/\n        EventBus.getDefault().post(new UpdateItemEvent(toSend));\n        Log.d(LOG_TAG, \"send event\");\n\n        Toast.makeText(getActivity(), R.string.saved_data, Toast.LENGTH_LONG).show();\n\n    }\n...\n</code></pre>\n\n<p>Event is successfully sent to Adapter class which is registered for receiving this event:</p>\n\n<pre><code>...\nimport de.greenrobot.event.EventBus;    \n\npublic class ItemsAdapter extends BaseAdapter implements ListAdapter {\n    private static final  String LOG_TAG = \"Logs\";\n\n    private ArrayList&lt;DialogDataModel&gt; list = new ArrayList&lt;DialogDataModel&gt;();\n    private Context activity;\n\n    public ItemsAdapter (ArrayList&lt;DialogDataModel&gt; list, Context context) {\n        this.list = list;\n        this.activity = context;\n        registerEventBus();\n    }\n\n    @Override\n    public int getCount() {\n        return list.size();\n    }\n\n    @Override\n    public Object getItem(int pos) {\n        return list.get(pos);\n    }\n\n    @Override\n    public long getItemId(int pos) {\n        return pos;\n        //just return 0 if your list items do not have an Id variable.\n    }\n\n    @Override\n    public View getView(final int position, View convertView, ViewGroup parent) {\n        View view = convertView;\n        if (view == null) {\n            LayoutInflater inflater = (LayoutInflater) activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n            view = inflater.inflate(R.layout.row_item, null);\n        }\n\n        DialogDataModel curData = list.get(position);\n        TextView itemDate = (TextView)view.findViewById(R.id.item_date);\n        itemDate.setText(curData.getDate());\n\n        TextView itemWeight = (TextView)view.findViewById(R.id.item_weight);\n        itemWeight.setText( Integer.toString(curData.getWeight()) );\n\n        TextView itemEvents = (TextView)view.findViewById(R.id.item_events);\n        itemEvents.setText(curData.getEventsShort());\n\n        //Handle buttons and add onClickListeners\n        ImageButton editBtn = (ImageButton)view.findViewById(R.id.item_edit_btn);\n\n        editBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (activity instanceof WDActivity)\n                    ((WDActivity) activity).AddNewData(v, list.get(position));\n\n                notifyDataSetChanged();\n            }\n        });\n\n        ImageButton deleteBtn = (ImageButton) view.findViewById(R.id.item_delete_btn);\n\n        deleteBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String date = list.get(position).getDate();\n\n                DatabaseManipulation dm = new DatabaseManipulation(activity);\n                dm.deleteItem(date);\n                dm.destroy();\n\n                list.remove(position);\n                notifyDataSetChanged();\n            }\n        });\n\n        return view;\n    }\n\n    public void registerEventBus(){\n        if (!EventBus.getDefault().isRegistered(this)) EventBus.getDefault().register(this);\n        Log.d(LOG_TAG, \"Registred from adapter\");\n    }\n\n    public void unregisterEventBus(){\n        EventBus.getDefault().unregister(this);\n    }\n\n    public void onEventMainThread(UpdateItemEvent event) {\n        Log.d(LOG_TAG, \"Event fired!\");\n        list = DialogDataModel.replaceFieldsInArray(list,event.getModel());\n        notifyDataSetChanged();\n    }\n}\n</code></pre>\n\n<p>After clicking OK in dialog window the user sees the list of items and the item he's updated is up to date. Without this logic he sees the old version of this item item in the list and to refresh the list he needs to relaunch the app.</p>\n\n<p>Yes, it's working with EventBus.\nBut as you can see here in the class there is no place for unregistering it from listening for UpdateItemEvent. Since there are no destructors in java(I don't believe that garbage collector should do this for me) I should handle this. Moreover the class registeres as listener in constructor (it happens several times, that's why you see this ugly if statement(<code>if (!EventBus.getDefault().isRegistered(this))</code>) You may ask me why not getting this adapter through Activity (there is the only one in the app) I tried building a chain <code>AddDialogFragment -&gt; WDActivity -&gt; PlaceholderFragment -&gt; ItemsAdapter</code></p>\n\n<pre><code>//AddDialogFragment \n   Context activity = getActivity();\n   if (activity instanceof WDActivity)\n      ((WDActivity) activity).updateListItemFragment();\n\n//WDActivity --beginTransaction().replace does not work here\n  ...\n  @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_wd);\n        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n        // Create the adapter that will return a fragment for each of the three\n        // primary sections of the activity.\n        mSectionsPagerAdapter = new SectionsPagerAdapter(getSupportFragmentManager());\n\n        // Set up the ViewPager with the sections adapter.\n        mViewPager = (ViewPager) findViewById(R.id.container);\n        mViewPager.setAdapter(mSectionsPagerAdapter);\n\n    }\n    ...\n    public void updateListItemFragment() {\n        android.support.v4.app.FragmentManager fragmentManager = getSupportFragmentManager();\n        android.support.v4.app.Fragment currentFragment = fragmentManager.findFragmentById(R.id.container);\n        if (currentFragment instanceof PlaceholderFragment &amp;&amp; currentFragment != null) {\n            fragmentManager.beginTransaction().remove(currentFragment).commit();\n            fragmentManager.beginTransaction().add(R.id.container, currentFragment).commit();\n            ((PlaceholderFragment)currentFragment).fillList();\n\n        }\n\n//PlaceholderFragment\n  public class PlaceholderFragment extends Fragment {\n    private static final  String LOG_TAG = \"Logs\";\n\n    private static final String ARG_SECTION_NUMBER = \"section_number\";\n\n    private ListView listViewItem;\n\n    public static PlaceholderFragment newInstance(int sectionNumber) {\n        PlaceholderFragment fragment = new PlaceholderFragment();\n        Bundle args = new Bundle();\n        args.putInt(ARG_SECTION_NUMBER, sectionNumber);\n        fragment.setArguments(args);\n        return fragment;\n    }\n    public PlaceholderFragment() {\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        if(getArguments().getInt(ARG_SECTION_NUMBER)==1)\n            return onCreateViewInputChart(inflater, container, savedInstanceState);\n        if(getArguments().getInt(ARG_SECTION_NUMBER)==2)\n            return onCreateViewManual(inflater, container, savedInstanceState);\n        return onCreateViewInputData(inflater, container, savedInstanceState);    \n\n    }\n\n    private View onCreateViewManual(LayoutInflater inflater, ViewGroup container,\n                                    Bundle savedInstanceState) {\n        View rootView = inflater.inflate(R.layout.fragment_howto, container, false);\n        return rootView;\n    }\n\n    private View onCreateViewInputData(LayoutInflater inflater, ViewGroup container,\n                                       Bundle savedInstanceState) {\n        View rootView = inflater.inflate(R.layout.fragment_list_data, container, false);\n\n        findViewsByIdListItem(rootView);\n        fillList();\n\n        return rootView;\n    }\n\n    private View onCreateViewInputChart(LayoutInflater inflater, ViewGroup container,\n                                        Bundle savedInstanceState) {\n        View rootView = inflater.inflate(R.layout.fragment_chart, container, false);\n        return rootView;\n    }\n    //listViewItems\n    private void findViewsByIdListItem(View v) {\n        listViewItem = (ListView) v.findViewById(R.id.listViewItems);\n    }\n\n    public void fillList(){\n        Context activity = getActivity();\n        DatabaseManipulation dm = new DatabaseManipulation(activity);\n        ArrayList&lt;DialogDataModel&gt; aldm = dm.getItemsList();\n        dm.destroy();\n\n        ItemsAdapter innerAdapter = new ItemsAdapter(aldm, activity);\n\n        listViewItem.setAdapter(innerAdapter);\n        ( (BaseAdapter) listViewItem.getAdapter() ).notifyDataSetChanged();\n    }\n\n    @Override\n    public void onAttach(Context activity) {\n        super.onAttach(activity);\n    }\n\n    @Override\n    public void onDetach(){\n        super.onDetach();\n    }\n  }\n\n//SectionsPagerAdapter - just for your information\n  public class SectionsPagerAdapter extends FragmentPagerAdapter {\n\n    public SectionsPagerAdapter(FragmentManager fm) {\n        super(fm);\n    }\n\n    @Override\n    public Fragment getItem(int position) {\n        // getItem is called to instantiate the fragment for the given page.\n        return PlaceholderFragment.newInstance(position);\n    }\n\n    @Override\n    public int getCount() {\n        return 3;\n    }\n\n    @Override\n    public CharSequence getPageTitle(int position) {\n        switch (position) {\n            case 0:\n                return \"Enter your data\";\n            case 1:\n                return \"Chart\";\n            case 2:\n                return \"How to use it\";\n        }\n        return null;\n    }\n  }\n\n//ItemsAdapter is placed higher\n</code></pre>\n\n<p>This did not work. Finally I found out that the bottleneck is in linking PlaceholderFragment and ListAdapter: listViewItem is null everywhere except <code>onCreateViewInputData</code>. I could not figure out why. Google didn't give me the answer and I took it as a magic. Btw due to this feature I cannot use PlaceholderFragment's onAttach and onDetach for saying ItemsAdapter to register/unregister for receiving the event. This:</p>\n\n<pre><code>    @Override\n    public void onAttach(Context activity) {\n        super.onAttach(activity);\n        ( (ItemsAdapter) listViewItem.getAdapter() ).registerEventBus();\n    }\n</code></pre>\n\n<p>doesn't work for the same reason listViewItem is null. <strong>Maybe there is some way to manage with this more accurately?</strong> </p>\n"}, {"tags": ["java", "api", "amazon-web-services", "aws-sdk", "amazon-cognito"], "answers": [{"tags": [], "owner": {"reputation": 963, "user_id": 4785056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b746d1232e93e6f64351d205e4a82880?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Mercurio", "link": "https://stackoverflow.com/users/4785056/mark-mercurio"}, "is_accepted": false, "score": 0, "last_activity_date": 1452192508, "last_edit_date": 1452192508, "creation_date": 1452136049, "answer_id": 34646745, "question_id": 34644083, "link": "https://stackoverflow.com/questions/34644083/aws-cognito-for-api-token-authentication/34646745#34646745", "title": "AWS Cognito for API token authentication", "body": "<p>In the token returned by GetOpenIdTokenForDeveloperIdentity, the unique identifier that you gave the user is in the \"amr\" field. So you will need to crack open the token to get it.</p>\n\n<p>EDIT: As Alexis N-o pointed out, you can look up the developer identity with the Cognito Identity ID:</p>\n\n<p><a href=\"http://docs.aws.amazon.com/cognitoidentity/latest/APIReference/API_LookupDeveloperIdentity.html\" rel=\"nofollow\">http://docs.aws.amazon.com/cognitoidentity/latest/APIReference/API_LookupDeveloperIdentity.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 3716, "user_id": 1202697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef7e30740d9c2e688190e79b4eca0268?s=128&d=identicon&r=PG", "display_name": "Alexis N-o", "link": "https://stackoverflow.com/users/1202697/alexis-n-o"}, "is_accepted": true, "score": 0, "last_activity_date": 1452190489, "last_edit_date": 1452190489, "creation_date": 1452182515, "answer_id": 34659685, "question_id": 34644083, "link": "https://stackoverflow.com/questions/34644083/aws-cognito-for-api-token-authentication/34659685#34659685", "title": "AWS Cognito for API token authentication", "body": "<p>Once you have temporary AWS credentials, when you call the backend, you can access to the cognito identifier of the caller in the context. Then you can retrieve the developer identifier <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/cognitoidentity/AmazonCognitoIdentityClient.html#lookupDeveloperIdentity(com.amazonaws.services.cognitoidentity.model.LookupDeveloperIdentityRequest)\" rel=\"nofollow\">using <code>lookupDeveloperIdentity</code> on the server side</a>.</p>\n\n<p>Check theses pages to retrieve the context data if you are using <a href=\"http://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-mapping-template-reference.html\" rel=\"nofollow\">API gateway</a> or <a href=\"http://docs.aws.amazon.com/lambda/latest/dg/java-context-object.html\" rel=\"nofollow\">Lambda</a></p>\n"}], "owner": {"reputation": 20, "user_id": 2121637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cac6ebdfcd54ba2c91d75bf0638eceec?s=128&d=identicon&r=PG", "display_name": "afiolmahon", "link": "https://stackoverflow.com/users/2121637/afiolmahon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1561, "favorite_count": 0, "accepted_answer_id": 34659685, "answer_count": 2, "score": 0, "last_activity_date": 1452192508, "creation_date": 1452119390, "question_id": 34644083, "link": "https://stackoverflow.com/questions/34644083/aws-cognito-for-api-token-authentication", "title": "AWS Cognito for API token authentication", "body": "<p>I am building an HTTP API in java that uses AWS cognito, and developer authenticated identities to provide tokens to secure the API. I have configured the login system to issue a cognito token when a user logs in and the cognito identity pool contains each user and a developer identity associated with my backend, but I am having a very difficult time finding a straightforward way to retrieve a users specific developer identifier from the cognito token. I have attempted to use the <code>AssumeRoleWithWebIdentityResult</code> API call, but have been unable to find documentation about it for determining the developer identifier, only examples for obtaining temporary AWS credentials.</p>\n"}, {"tags": ["java", "apache", "post", "web", "jboss"], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 677767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a82b2645f72a9435afcabd19e733fea8?s=128&d=identicon&r=PG", "display_name": "VirtualWolf", "link": "https://stackoverflow.com/users/677767/virtualwolf"}, "edited": false, "score": 0, "creation_date": 1481098332, "post_id": 37890227, "comment_id": 69232019, "body": "OH MY GOD THANK YOU. I&#39;ve been banging my head against this for a few days now, except in my case the last two form fields were <i>consistently</i> being dropped. Changed to TLSv1.2 and everything worked, went back to v1.1 and the issue reappeared."}], "tags": [], "owner": {"reputation": 21, "user_id": 5754660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9743e2765a20eb9428e485bcd21cc49?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin B.", "link": "https://stackoverflow.com/users/5754660/marvin-b"}, "is_accepted": true, "score": 1, "last_activity_date": 1466196787, "creation_date": 1466196787, "answer_id": 37890227, "question_id": 34644062, "link": "https://stackoverflow.com/questions/34644062/apache-httpd-server-is-intermittently-dropping-a-single-item-from-post-data/37890227#37890227", "title": "Apache HTTPD server is intermittently dropping a single item from post data", "body": "<p>It turned out that this issue had something to do with the SLL protocol. We were using TLSv1 and recently changed to TLSv1.2. The problem went away with the protocol upgrade. So, we changed back to TLSv1 in a test environment. The problem reappeared. We then changed to TLSv1.2 and the problem went away.</p>\n\n<p>No idea why the protocol change fixed the issue, but I do know that considerable changes were made TLSv1.2 . At this point just glad the protocol upgrade resolved the issue.</p>\n"}], "owner": {"reputation": 21, "user_id": 5754660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9743e2765a20eb9428e485bcd21cc49?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin B.", "link": "https://stackoverflow.com/users/5754660/marvin-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "accepted_answer_id": 37890227, "answer_count": 1, "score": 1, "last_activity_date": 1466196787, "creation_date": 1452119267, "last_edit_date": 1453393620, "question_id": 34644062, "link": "https://stackoverflow.com/questions/34644062/apache-httpd-server-is-intermittently-dropping-a-single-item-from-post-data", "title": "Apache HTTPD server is intermittently dropping a single item from post data", "body": "<p>I've had no luck finding this issue in any search. I've also posted this question on the Apache forum, but haven't had any luck there so far. </p>\n\n<p>I have an application on a JBoss application server (EAP 6.2) with an Apache 2.2.26 server in front of it acting as a reverse proxy for HTTPS. The application has a large multi-part form which recently has been experiencing an intermittent drop of a single form field from the post data (not always the same field). We've verified that all of the data is being sent, but not being received by the application. The issue does not occur if we HTTP directly to the JBoss server (test server). We've repeatedly sent the same form data and sometimes a single form field is dropped (not always the same field) and sometimes it is not. But, it happens often enough to be easily repeated. The issue happens on Internet Explorer and Firefox, so does not appear to be browser related. The amount of data being sent varies, but is usually in the 10-30 KB range. There aren't any errors appearing in the Apache server log even when logging at the debug level.</p>\n\n<p>One additional bit of information is that since this is a multi-part form, the browser includes a boundary value between each form field and file when submitted. We've noted that the size of this boundary value varies and the form data that is being lost changes depending on the size of the boundary value when the same form data is being sent. </p>\n\n<p>Any ideas as to what might be causing this data loss would be most appreciated. </p>\n\n<p><strong>Update</strong>: This issue is similar to an old bug reported for Apache 2.0.55 and 2.2.2, <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=37145\" rel=\"nofollow\">link</a></p>\n\n<p><strong>Update</strong>: Found out how to monitor the number of bytes received at the JBoss ajp port. The same number of bytes being sent from the browser are arriving at the ajp port. Could this be a chunk encoding issue?</p>\n"}, {"tags": ["java", "hashids"], "comments": [{"owner": {"reputation": 130214, "user_id": 772035, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jAEqI.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/772035/paul"}, "edited": false, "score": 0, "creation_date": 1452122811, "post_id": 34644060, "comment_id": 57035416, "body": "What language are you using?"}, {"owner": {"reputation": 394, "user_id": 899807, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/848ab2e36c33a8470251183d14889fd0?s=128&d=identicon&r=PG", "display_name": "dmux", "link": "https://stackoverflow.com/users/899807/dmux"}, "reply_to_user": {"reputation": 130214, "user_id": 772035, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jAEqI.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/772035/paul"}, "edited": false, "score": 0, "creation_date": 1452142442, "post_id": 34644060, "comment_id": 57040737, "body": "@Paulpro, Sorry, Java. I&#39;ve added it as a tag too. Also, using version 1.0.0 of Hashids"}, {"owner": {"reputation": 12717, "user_id": 821786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b243293209671ed2bcb6b1393cec05?s=128&d=identicon&r=PG", "display_name": "Gergely Bacso", "link": "https://stackoverflow.com/users/821786/gergely-bacso"}, "edited": false, "score": 0, "creation_date": 1452155160, "post_id": 34644060, "comment_id": 57045894, "body": "<i>&quot;After generating several million hashes&quot;</i> - How much have you tried to generate exactly?"}, {"owner": {"reputation": 394, "user_id": 899807, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/848ab2e36c33a8470251183d14889fd0?s=128&d=identicon&r=PG", "display_name": "dmux", "link": "https://stackoverflow.com/users/899807/dmux"}, "reply_to_user": {"reputation": 12717, "user_id": 821786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b243293209671ed2bcb6b1393cec05?s=128&d=identicon&r=PG", "display_name": "Gergely Bacso", "link": "https://stackoverflow.com/users/821786/gergely-bacso"}, "edited": false, "score": 0, "creation_date": 1452177603, "post_id": 34644060, "comment_id": 57061001, "body": "@GergelyBacso: 4.9 million."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 6154167, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-agF98n4RsFs/AAAAAAAAAAI/AAAAAAAAAZg/WCdFq6hTLIw/photo.jpg?sz=128", "display_name": "dshyrenia", "link": "https://stackoverflow.com/users/6154167/dshyrenia"}, "is_accepted": false, "score": 1, "last_activity_date": 1459746404, "last_edit_date": 1459746404, "creation_date": 1459743542, "answer_id": 36394508, "question_id": 34644060, "link": "https://stackoverflow.com/questions/34644060/hashids-unique-space/36394508#36394508", "title": "Hashids unique space", "body": "<p>have same problem, just try this :</p>\n\n<pre><code>var hashids = new Hashids(\"BSomeoneNameN161179IBRB46\", 5, \"ABCDEFGHIJKLMNPQRSTUVWXYZ1234567890\");\n\nvar id = hashids.encode(1234567);\nvar numbers = hashids.decode(id);\n</code></pre>\n\n<p>changing salt by deleting last 5 characters one by one, just showing same result.</p>\n\n<p>making salt not more than 20 chars seems solve the problem.</p>\n"}, {"tags": [], "owner": {"reputation": 394, "user_id": 899807, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/848ab2e36c33a8470251183d14889fd0?s=128&d=identicon&r=PG", "display_name": "dmux", "link": "https://stackoverflow.com/users/899807/dmux"}, "is_accepted": true, "score": 0, "last_activity_date": 1460573058, "creation_date": 1460573058, "answer_id": 36606947, "question_id": 34644060, "link": "https://stackoverflow.com/questions/34644060/hashids-unique-space/36606947#36606947", "title": "Hashids unique space", "body": "<p>I solved this issue by adding the letters and digits I,O,0,1 back into the alphabet being used. With the increase in length of the alphabet, the rotation calculated by Hashids was affected. I simply filtered out any output that included an I,O,0 or 1 using a regular expression. </p>\n"}], "owner": {"reputation": 394, "user_id": 899807, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/848ab2e36c33a8470251183d14889fd0?s=128&d=identicon&r=PG", "display_name": "dmux", "link": "https://stackoverflow.com/users/899807/dmux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 855, "favorite_count": 0, "accepted_answer_id": 36606947, "answer_count": 2, "score": 2, "last_activity_date": 1460573058, "creation_date": 1452119259, "last_edit_date": 1452142400, "question_id": 34644060, "link": "https://stackoverflow.com/questions/34644060/hashids-unique-space", "title": "Hashids unique space", "body": "<p>I was wondering if I'm experiencing a bug, or have just run into a limitation of the Hashids algorithm.</p>\n\n<p>I'm using a custom alphabet, which consists of all uppercase letters, minus \"O\" and \"I\" and digits 2 - 9.</p>\n\n<p>After generating several million hashes, I noticed that duplicates started to appear. I'm confused by this, especially since Hashids claims that duplicates are not possible since the algorithm is simply a hex version of an integer. And so long as the integers remain unique (such as counting up forever), so will the hashes.</p>\n\n<p>Does a custom alphabet make it more likely for duplicates to appear? Also, I was expecting the number of unique hashes for my alphabet to be: 32^7 = 34,359,738,368. Before my counter hit this number, the generated hashids grew from 7 characters long to 8.</p>\n\n<p>Does anyone have any ideas as to why this is happening?</p>\n\n<p>Edit: another rather strange anomaly: after generating 10647 hashes, the rest (2.9 million plus) either start with a K or an X. I'm beginning to think the custom alphabet plus the length of the salt affect how the letters get shuffled.</p>\n"}, {"tags": ["java", "javafx", "media", "codec"], "answers": [{"comments": [{"owner": {"reputation": 4597, "user_id": 8840, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bb1eee27df21dd758ae782aea35d3562?s=128&d=identicon&r=PG", "display_name": "Avrom", "link": "https://stackoverflow.com/users/8840/avrom"}, "edited": false, "score": 0, "creation_date": 1452264126, "post_id": 34666985, "comment_id": 57104447, "body": "From the link (for Win 7 and 8): &quot;The pre-installed Microsoft AAC and H.264 DirectShow decoder filters are used by default.&quot; and &quot;If none of these decoders is available, AAC and H.264 decoding will fail.&quot; My basic issue is that if these decoders are not available, it doesn&#39;t throw an exception."}, {"owner": {"reputation": 21, "user_id": 5744932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d495a9fb5132005ed016bd8685e161d0?s=128&d=identicon&r=PG&f=1", "display_name": "dav20012", "link": "https://stackoverflow.com/users/5744932/dav20012"}, "reply_to_user": {"reputation": 4597, "user_id": 8840, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bb1eee27df21dd758ae782aea35d3562?s=128&d=identicon&r=PG", "display_name": "Avrom", "link": "https://stackoverflow.com/users/8840/avrom"}, "edited": false, "score": 0, "creation_date": 1452380160, "post_id": 34666985, "comment_id": 57145879, "body": "JavaFX uses the popular open source framework GStreamer which includes many codecs, some examples: MP3, WAV, ACC, AIFF, PCM, MPEG-4 (including H.264/AVC and AAC) and FLV (VP6 and MP3)."}, {"owner": {"reputation": 4597, "user_id": 8840, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bb1eee27df21dd758ae782aea35d3562?s=128&d=identicon&r=PG", "display_name": "Avrom", "link": "https://stackoverflow.com/users/8840/avrom"}, "edited": false, "score": 0, "creation_date": 1452528873, "post_id": 34666985, "comment_id": 57198050, "body": "The reality is that when running on Windows Server it <i>doesn&#39;t work</i> and it <i>doesn&#39;t throw an exception</i> telling me that so I can handle it."}, {"owner": {"reputation": 21, "user_id": 5744932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d495a9fb5132005ed016bd8685e161d0?s=128&d=identicon&r=PG&f=1", "display_name": "dav20012", "link": "https://stackoverflow.com/users/5744932/dav20012"}, "reply_to_user": {"reputation": 4597, "user_id": 8840, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bb1eee27df21dd758ae782aea35d3562?s=128&d=identicon&r=PG", "display_name": "Avrom", "link": "https://stackoverflow.com/users/8840/avrom"}, "edited": false, "score": 0, "creation_date": 1452529444, "post_id": 34666985, "comment_id": 57198413, "body": "At your situation, I would just test for windows server, because every other system either wouldn&#39;t be able to run the program, or works with JFX correctly"}, {"owner": {"reputation": 4597, "user_id": 8840, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bb1eee27df21dd758ae782aea35d3562?s=128&d=identicon&r=PG", "display_name": "Avrom", "link": "https://stackoverflow.com/users/8840/avrom"}, "edited": false, "score": 0, "creation_date": 1452530064, "post_id": 34666985, "comment_id": 57198843, "body": "I am now detecting if it is running on Windows Server but I consider that a workaround solution. It would be better if it would simply throw an exception or let me call some method to check. BTW, it does run JavaFX correctly, just not the media."}], "tags": [], "owner": {"reputation": 21, "user_id": 5744932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d495a9fb5132005ed016bd8685e161d0?s=128&d=identicon&r=PG&f=1", "display_name": "dav20012", "link": "https://stackoverflow.com/users/5744932/dav20012"}, "is_accepted": false, "score": 0, "last_activity_date": 1452208878, "creation_date": 1452208878, "answer_id": 34666985, "question_id": 34644044, "link": "https://stackoverflow.com/questions/34644044/detect-if-javafx-media-required-codecs-are-installed/34666985#34666985", "title": "Detect if JavaFX Media required codecs are installed", "body": "<p>You don't need to check if the OS has the codec because Java includes most of them (Mpeg-4/mp4 is included), the problem is that window's server edition isn't able to play videos.</p>\n"}], "owner": {"reputation": 4597, "user_id": 8840, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bb1eee27df21dd758ae782aea35d3562?s=128&d=identicon&r=PG", "display_name": "Avrom", "link": "https://stackoverflow.com/users/8840/avrom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 451, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1452208878, "creation_date": 1452119211, "question_id": 34644044, "link": "https://stackoverflow.com/questions/34644044/detect-if-javafx-media-required-codecs-are-installed", "title": "Detect if JavaFX Media required codecs are installed", "body": "<p>According to the following:\n<a href=\"http://www.oracle.com/technetwork/java/javase/certconfig-2095354.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/certconfig-2095354.html</a></p>\n\n<p>In order for JavaFX media to work, the given OS needs proper codecs installed.</p>\n\n<p>In my application, I am trying to play an mp4 video. If the given platform is <em>not</em> able to play it, I display a static image instead.\nIn such a case, if it is unable to play it, I was expecting it to throw an exception and I would handle it accordingly.\nHowever, it does not do so and instead displays a blank area where the video should be.\nHow can one detect if the required codec is installed or not?</p>\n\n<p>I was testing this on Windows Server 2008 where I got this symptom. Windows 7, 8, and 10 work as expected.</p>\n"}, {"tags": ["java", "hadoop", "mapreduce"], "answers": [{"tags": [], "owner": {"reputation": 3533, "user_id": 4421185, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HQqM8.jpg?s=128&g=1", "display_name": "Durga Viswanath Gadiraju", "link": "https://stackoverflow.com/users/4421185/durga-viswanath-gadiraju"}, "is_accepted": false, "score": 0, "last_activity_date": 1452124310, "creation_date": 1452124310, "answer_id": 34645064, "question_id": 34644026, "link": "https://stackoverflow.com/questions/34644026/cant-see-the-prints-from-the-map-tasks/34645064#34645064", "title": "Can&#39;t see the prints from the map tasks", "body": "<p>You have mixed up old API and new API. Your input and output format classes use classes from new API, but your map function is specified in the form of old API. If you have imported org.apache.hadoop.mapreduce.mapper, then map function should have specification like this</p>\n\n<pre><code>private static class RecordMapper\nextends Mapper&lt;LongWritable, Text, Text, LongWritable&gt; {\n    public void map(LongWritable lineOffset, Text record, Context output)\n    throws IOException, InterruptedException {\n        output.write(new Text(\"Count\"), new LongWritable(1));\n    }\n\n}\n</code></pre>\n\n<p>As you are using map function like this, the map function will never invoked. Instead it will use default map function as explained in this <a href=\"https://www.youtube.com/watch?v=WXXZwQex11Q&amp;list=PLf0swTFhTI8p7ZYBB5DmRHK3L6aq8Mvcv&amp;index=3\" rel=\"nofollow\">video</a></p>\n\n<pre><code>public void map(Text key, \n                Text val, \n                OutputCollector&lt;Text,Text&gt; output, \n                Reporter reporter) \n    throws IOException\n</code></pre>\n"}], "owner": {"reputation": 635, "user_id": 3240152, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/75596b852dcc51bff2db29a33e1b9214?s=128&d=identicon&r=PG&f=1", "display_name": "xeon123", "link": "https://stackoverflow.com/users/3240152/xeon123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452124310, "creation_date": 1452119111, "question_id": 34644026, "link": "https://stackoverflow.com/questions/34644026/cant-see-the-prints-from-the-map-tasks", "title": "Can&#39;t see the prints from the map tasks", "body": "<p>I have set <code>mapred-site.xml</code> [1] and the <code>log4j.properties</code> [2] to show debug log files, and I have set my map class [3] <code>System.out.printlns</code>, but I don't see this getting printed. I have looked to the logs of the hadoop, or the log of the tasks, but I don't see nothing from the map tasks getting printed. I don't understand why I am getting this. Any help?</p>\n\n<p>[1] mapred-site.xml</p>\n\n<pre><code>    ~/Programs/hadoop$ cat etc/hadoop/mapred-site.xml\n    &lt;?xml version=\"1.0\"?&gt;\n    &lt;?xml-stylesheet type=\"text/xsl\" href=\"configuration.xsl\"?&gt;\n\n    &lt;configuration&gt;\n    (...)\n     &lt;property&gt; &lt;name&gt;mapreduce.map.log.level&lt;/name&gt; &lt;value&gt;DEBUG&lt;/value&gt; &lt;/property&gt;\n    &lt;/configuration&gt;\n</code></pre>\n\n<p>[2] log4j.properties</p>\n\n<pre><code>    hadoop.root.logger=DEBUG,console\n    hadoop.log.dir=.\n    hadoop.log.file=hadoop.log\n\n    # Define the root logger to the system property \"hadoop.root.logger\".\n    log4j.rootLogger=${hadoop.root.logger}, EventCounter\n\n    # Logging Threshold\n    log4j.threshold=ALL\n\n    # Null Appender\n    log4j.appender.NullAppender=org.apache.log4j.varia.NullAppender\n\n    #\n    # Rolling File Appender - cap space usage at 5gb.\n    #\n    hadoop.log.maxfilesize=256MB\n    hadoop.log.maxbackupindex=20\n    log4j.appender.RFA=org.apache.log4j.RollingFileAppender\n    log4j.appender.RFA.File=${hadoop.log.dir}/${hadoop.log.file}\n\n    log4j.appender.RFA.MaxFileSize=${hadoop.log.maxfilesize}\n    log4j.appender.RFA.MaxBackupIndex=${hadoop.log.maxbackupindex}\n\n    log4j.appender.RFA.layout=org.apache.log4j.PatternLayout\n\n    # Pattern format: Date LogLevel LoggerName LogMessage\n    log4j.appender.RFA.layout.ConversionPattern=%d{ISO8601} %p %c: %m%n\n    # Debugging Pattern format\n    #log4j.appender.RFA.layout.ConversionPattern=%d{ISO8601} %-5p %c{2} (%F:%M(%L)) - %m%n\n\n\n    #\n    # Daily Rolling File Appender\n    #\n\n    log4j.appender.DRFA=org.apache.log4j.DailyRollingFileAppender\n    log4j.appender.DRFA.File=${hadoop.log.dir}/${hadoop.log.file}\n\n    # Rollver at midnight\n    log4j.appender.DRFA.DatePattern=.yyyy-MM-dd\n\n    # 30-day backup\n    #log4j.appender.DRFA.MaxBackupIndex=30\n    log4j.appender.DRFA.layout=org.apache.log4j.PatternLayout\n\n    # Pattern format: Date LogLevel LoggerName LogMessage\n    log4j.appender.DRFA.layout.ConversionPattern=%d{ISO8601} %p %c: %m%n\n    # Debugging Pattern format\n    #log4j.appender.DRFA.layout.ConversionPattern=%d{ISO8601} %-5p %c{2} (%F:%M(%L)) - %m%n\n\n\n    #\n    # console\n    # Add \"console\" to rootlogger above if you want to use this \n    #\n\n    log4j.appender.console=org.apache.log4j.ConsoleAppender\n    log4j.appender.console.target=System.err\n    log4j.appender.console.layout=org.apache.log4j.PatternLayout\n    log4j.appender.console.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{2}: %m%n\n\n    #\n    # TaskLog Appender\n    #\n\n    #Default values\n    hadoop.tasklog.taskid=null\n    hadoop.tasklog.iscleanup=false\n    hadoop.tasklog.noKeepSplits=4\n    hadoop.tasklog.totalLogFileSize=100\n    hadoop.tasklog.purgeLogSplits=true\n    hadoop.tasklog.logsRetainHours=12\n\n    log4j.appender.TLA=org.apache.hadoop.mapred.TaskLogAppender\n    log4j.appender.TLA.taskId=${hadoop.tasklog.taskid}\n    log4j.appender.TLA.isCleanup=${hadoop.tasklog.iscleanup}\n    log4j.appender.TLA.totalLogFileSize=${hadoop.tasklog.totalLogFileSize}\n\n    log4j.appender.TLA.layout=org.apache.log4j.PatternLayout\n    log4j.appender.TLA.layout.ConversionPattern=%d{ISO8601} %p %c: %m%n\n\n    #\n    # HDFS block state change log from block manager\n    #\n    # Uncomment the following to suppress normal block state change\n    # messages from BlockManager in NameNode.\n    #log4j.logger.BlockStateChange=WARN\n\n    #\n    #Security appender\n    #\n    hadoop.security.logger=INFO,NullAppender\n    hadoop.security.log.maxfilesize=256MB\n    hadoop.security.log.maxbackupindex=20\n    log4j.category.SecurityLogger=${hadoop.security.logger}\n    hadoop.security.log.file=SecurityAuth-${user.name}.audit\n    log4j.appender.RFAS=org.apache.log4j.RollingFileAppender \n    log4j.appender.RFAS.File=${hadoop.log.dir}/${hadoop.security.log.file}\n    log4j.appender.RFAS.layout=org.apache.log4j.PatternLayout\n    log4j.appender.RFAS.layout.ConversionPattern=%d{ISO8601} %p %c: %m%n\n    log4j.appender.RFAS.MaxFileSize=${hadoop.security.log.maxfilesize}\n    log4j.appender.RFAS.MaxBackupIndex=${hadoop.security.log.maxbackupindex}\n\n    #\n    # Daily Rolling Security appender\n    #\n    log4j.appender.DRFAS=org.apache.log4j.DailyRollingFileAppender \n    log4j.appender.DRFAS.File=${hadoop.log.dir}/${hadoop.security.log.file}\n    log4j.appender.DRFAS.layout=org.apache.log4j.PatternLayout\n    log4j.appender.DRFAS.layout.ConversionPattern=%d{ISO8601} %p %c: %m%n\n    log4j.appender.DRFAS.DatePattern=.yyyy-MM-dd\n\n    #\n    # hadoop configuration logging\n    #\n\n    # Uncomment the following line to turn off configuration deprecation warnings.\n    # log4j.logger.org.apache.hadoop.conf.Configuration.deprecation=WARN\n\n    #\n    # hdfs audit logging\n    #\n    hdfs.audit.logger=INFO,NullAppender\n    hdfs.audit.log.maxfilesize=256MB\n    hdfs.audit.log.maxbackupindex=20\n    log4j.logger.org.apache.hadoop.hdfs.server.namenode.FSNamesystem.audit=${hdfs.audit.logger}\n    log4j.additivity.org.apache.hadoop.hdfs.server.namenode.FSNamesystem.audit=false\n    log4j.appender.RFAAUDIT=org.apache.log4j.RollingFileAppender\n    log4j.appender.RFAAUDIT.File=${hadoop.log.dir}/hdfs-audit.log\n    log4j.appender.RFAAUDIT.layout=org.apache.log4j.PatternLayout\n    log4j.appender.RFAAUDIT.layout.ConversionPattern=%d{ISO8601} %p %c{2}: %m%n\n    log4j.appender.RFAAUDIT.MaxFileSize=${hdfs.audit.log.maxfilesize}\n    log4j.appender.RFAAUDIT.MaxBackupIndex=${hdfs.audit.log.maxbackupindex}\n\n    #\n    # mapred audit logging\n    #\n    mapred.audit.logger=INFO,NullAppender\n    mapred.audit.log.maxfilesize=256MB\n    mapred.audit.log.maxbackupindex=20\n    log4j.logger.org.apache.hadoop.mapred.AuditLogger=${mapred.audit.logger}\n    log4j.additivity.org.apache.hadoop.mapred.AuditLogger=false\n    log4j.appender.MRAUDIT=org.apache.log4j.RollingFileAppender\n    log4j.appender.MRAUDIT.File=${hadoop.log.dir}/mapred-audit.log\n    log4j.appender.MRAUDIT.layout=org.apache.log4j.PatternLayout\n    log4j.appender.MRAUDIT.layout.ConversionPattern=%d{ISO8601} %p %c{2}: %m%n\n    log4j.appender.MRAUDIT.MaxFileSize=${mapred.audit.log.maxfilesize}\n    log4j.appender.MRAUDIT.MaxBackupIndex=${mapred.audit.log.maxbackupindex}\n\n    # Custom Logging levels\n\n    log4j.logger.org.apache.hadoop=DEBUG\n\n    # Jets3t library\n    log4j.logger.org.jets3t.service.impl.rest.httpclient.RestS3Service=ERROR\n\n    # AWS SDK &amp; S3A FileSystem\n    log4j.logger.com.amazonaws=ERROR\n    log4j.logger.com.amazonaws.http.AmazonHttpClient=ERROR\n    log4j.logger.org.apache.hadoop.fs.s3a.S3AFileSystem=WARN\n\n    #\n    # Event Counter Appender\n    # Sends counts of logging messages at different severity levels to Hadoop Metrics.\n    #\n    log4j.appender.EventCounter=org.apache.hadoop.log.metrics.EventCounter\n\n    #\n    # Job Summary Appender \n    #\n    # Use following logger to send summary to separate file defined by \n    # hadoop.mapreduce.jobsummary.log.file :\n    # hadoop.mapreduce.jobsummary.logger=DEBUG,JSA\n    # \n    hadoop.mapreduce.jobsummary.logger=${hadoop.root.logger}\n    hadoop.mapreduce.jobsummary.log.file=hadoop-mapreduce.jobsummary.log\n    hadoop.mapreduce.jobsummary.log.maxfilesize=256MB\n    hadoop.mapreduce.jobsummary.log.maxbackupindex=20\n    log4j.appender.JSA=org.apache.log4j.RollingFileAppender\n    log4j.appender.JSA.File=${hadoop.log.dir}/${hadoop.mapreduce.jobsummary.log.file}\n    log4j.appender.JSA.MaxFileSize=${hadoop.mapreduce.jobsummary.log.maxfilesize}\n    log4j.appender.JSA.MaxBackupIndex=${hadoop.mapreduce.jobsummary.log.maxbackupindex}\n    log4j.appender.JSA.layout=org.apache.log4j.PatternLayout\n    log4j.appender.JSA.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{2}: %m%n\n    log4j.logger.org.apache.hadoop.mapred.JobInProgress$JobSummary=${hadoop.mapreduce.jobsummary.logger}\n    log4j.additivity.org.apache.hadoop.mapred.JobInProgress$JobSummary=false\n\n\n    log4j.logger.org.apache.hadoop.yarn.server.resourcemanager.RMAppManager$ApplicationSummary=${yarn.server.resourcemanager.appsummary.logger}\n    log4j.additivity.org.apache.hadoop.yarn.server.resourcemanager.RMAppManager$ApplicationSummary=false\n    log4j.appender.RMSUMMARY=org.apache.log4j.RollingFileAppender\n    log4j.appender.RMSUMMARY.File=${hadoop.log.dir}/${yarn.server.resourcemanager.appsummary.log.file}\n    log4j.appender.RMSUMMARY.MaxFileSize=256MB\n    log4j.appender.RMSUMMARY.MaxBackupIndex=20\n    log4j.appender.RMSUMMARY.layout=org.apache.log4j.PatternLayout\n    log4j.appender.RMSUMMARY.layout.ConversionPattern=%d{ISO8601} %p %c{2}: %m%n\n</code></pre>\n\n<p>[3] My map class:</p>\n\n<pre><code>    static abstract class SampleMapBase\n            extends Mapper&lt;Text, Text, Text, Text&gt;{\n        private long total;\n        private long kept = 0;\n        private float keep;\n\n        protected void setKeep(float keep) {\n            this.keep = keep;\n        }\n\n        protected void emit(Text key, Text val, OutputCollector&lt;Text,Text&gt; out)\n                throws IOException {\n            System.out.println(\"Key: \" + key.toString() + \" Value: \" + val.toString());\n            System.out.println(\"Key: \" + key.getClass() + \" Value: \" + val.getClass());\n            ++total;\n            while((float) kept / total &lt; keep) {\n                ++kept;\n                out.collect(key, val);\n            }\n        }\n    }\n\n\n    public static class MySampleMapper extends SampleMapBase{\n        String inputFile;\n\n        public void setup(Context context) {\n            this.inputFile = ((FileSplit) context.getInputSplit()).getPath().toString();\n            setKeep(context.getConfiguration().getFloat(\"hadoop.sort.map.keep.percent\", (float) 100.0) / (float) 100.0);\n        }\n\n        public void map(Text key, Text val,\n                        OutputCollector&lt;Text,Text&gt; output, Reporter reporter)\n                throws IOException {\n            emit(key, val, output);\n            System.out.println(\"EMIT\");\n        }\n\n    public static void main(String[] args) throws Exception {\n        GenericOptionsParser parser = new GenericOptionsParser(new Configuration(), args);\n\n        String[] otherArgs = parser.getRemainingArgs();\n        if (otherArgs.length &lt; 2) {\n            System.err.println(\"Usage: webdatascan -Dfile.path=&lt;path&gt; [&lt;in&gt;...] &lt;out&gt;\");\n            System.exit(2);\n        }\n\n        System.setProperty(\"file.path\", parser.getConfiguration().get(\"file.path\"));\n        List&lt;String&gt; remoteHosts = new ArrayList&lt;String&gt;();// directory where the map output is remotely\n        remoteHosts.add(Inet4Address.getLocalHost().getHostAddress());\n\n        // first map tasks\n        JobConf conf = MyWebDataScan.addJob(1, true, true);\n\n        Job job = new Job(conf, conf.getJobName());\n        job.setJarByClass(MyWebDataScan.class);\n        job.setInputFormatClass(org.apache.hadoop.mapreduce.lib.input.SequenceFileInputFormat.class);\n        job.setOutputFormatClass(org.apache.hadoop.mapreduce.lib.output.SequenceFileOutputFormat.class);\n\n        job.setMapperClass(MySampleMapper.class);\n        job.setReducerClass(MySampleReducer.class);\n        job.setOutputKeyClass(Text.class);\n        job.setOutputValueClass(Text.class);\n\n        Path[] inputPaths = new Path[otherArgs.length-1];\n        for (int i = 0; i &lt; otherArgs.length - 1; ++i) { inputPaths[i] = new Path(otherArgs[i]); }\n        Path outputPath =  new Path(otherArgs[otherArgs.length - 1]);\n        FileInputFormat.setInputPaths(conf, inputPaths);\n        FileOutputFormat.setOutputPath(conf, outputPath);\n        job.getConfiguration().set(\"mapred.output.dir\", outputPath.toString());\n\n        JobClient.runJob(job);\n    }\n</code></pre>\n"}, {"tags": ["java", "swing", "user-interface", "nullpointerexception", "imageicon"], "comments": [{"owner": {"reputation": 275558, "user_id": 522444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16b6783e9b99b1199c75761eaf5c0685?s=128&d=identicon&r=PG", "display_name": "Hovercraft Full Of Eels", "link": "https://stackoverflow.com/users/522444/hovercraft-full-of-eels"}, "edited": false, "score": 3, "creation_date": 1452118717, "post_id": 34643863, "comment_id": 57033705, "body": "The heuristic for NullPointerExceptions is almost always the same. <b>You should critically read your exception&#39;s stacktrace to find the line of code at fault, the line that throws the exception, and then inspect that line carefully</b>, find out which variable is null, and then trace back into your code to see why. You will run into these again and again, trust me. In the future, please search on the subject before posting, since this is too common a problem to post yet another NPE question."}, {"owner": {"reputation": 78442, "user_id": 202009, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/31dcfef154edd75223ae28f2cfd77f71?s=128&d=identicon&r=PG", "display_name": "Andy Thomas", "link": "https://stackoverflow.com/users/202009/andy-thomas"}, "edited": false, "score": 1, "creation_date": 1452118903, "post_id": 34643863, "comment_id": 57033788, "body": "See also <a href=\"http://stackoverflow.com/questions/218384/what-is-a-null-pointer-exception-and-how-do-i-fix-it/\">What is a Null Pointer Exception, and how do I fix it?</a>"}, {"owner": {"reputation": 4046, "user_id": 4971422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4abf51a937ddda51cc6813445605c50?s=128&d=identicon&r=PG&f=1", "display_name": "FredK", "link": "https://stackoverflow.com/users/4971422/fredk"}, "edited": false, "score": 2, "creation_date": 1452119127, "post_id": 34643863, "comment_id": 57033888, "body": "I don&#39;t see anywhere in your code where you try to set the label&#39;s icon. Also, why are you using static variables?"}, {"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1452122848, "post_id": 34643863, "comment_id": 57035430, "body": "Static, static, static. You should avoid using static, especially for cross communication between classes"}], "owner": {"reputation": 9, "user_id": 5630737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e38b2aca85a62000bded99d58a9f32?s=128&d=identicon&r=PG", "display_name": "Compass Kid", "link": "https://stackoverflow.com/users/5630737/compass-kid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "closed_date": 1452134715, "answer_count": 0, "score": 0, "last_activity_date": 1452125193, "creation_date": 1452118511, "last_edit_date": 1452125193, "question_id": 34643863, "link": "https://stackoverflow.com/questions/34643863/java-guisetting-jlabel-to-contain-imageicon-through-method-calls", "closed_reason": "Duplicate", "title": "(Java GUI)Setting JLabel to contain ImageIcon through method calls?", "body": "<p>I am a beginner programmer so this is a beginner question/project. I have a class called Screen which is a simple GUI made with a JTabbedPane and all of the tabs are blank. In the first tab, \"actionPanel\", I have a simple JLabel that contains the text \"THIS IS A TEST.\" This JLabel is called dA, and there is a second empty one called dB.</p>\n\n<p>I also have a class, Character, for an object with parameters name, HP, and a URL for the location of that character's corresponding image.</p>\n\n<p><strong>I want to be able to call a method, setupDialogueEnvironment(), which so far is only supposed to change the JLabel created by Screen to contain a character's corresponding image</strong> instead of \"THIS IS A TEST.\" <strong>However, I keep getting null pointer exceptions</strong> when I try to do this. I believe it has something to do with the java.net.URL's I am using, or the ImageIcons perhaps. I am not sure. I know that the JLabel does appear when it just says \"THIS IS A TEST\", soo when it has nothing to do with images.</p>\n\n<p>I wonder if I am not using the repaint() method correctly. You will see in my code that I tried calling repaint() on just about every JComponent I could to see if it would help, but it does not. My screen, after calling the method setupDialogueEnvironment(), still just displays \"THIS IS A TEST.\"</p>\n\n<p>Thank you in advance for help. Here is my code, and I will clarify a couple of points about the code below.</p>\n\n<hr>\n\n<pre><code>package Package1;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.net.URL.*;\npublic class Screen {\n\n    // Global declaration of GUI elements\n    JFrame frame;\n    static JPanel actionPanel, onPerson, wt, mats, craft, quests, notes;\n    static JTabbedPane mtp, inventory;\n\n    // Image URLs and their corresponding ImageIcons and JLabels\n    static JLabel dA = new JLabel(\"THIS IS A TEST\");\n    static JLabel dB = new JLabel() ; // dialogue member A's and B's JLabels\n    static ImageIcon diA = new ImageIcon();\n    static ImageIcon diB = new ImageIcon(); // ImageIcons for dialogue members A and B\n\n    public Screen()\n    {\n        // Set up the frame\n\n        // Create tabbed panes and panels\n\n        // Add tabs to JTabbedPanes\n\n        // Finalize some JFrame things, like setDefaultCloseOperation\n\n    }\n\n    // the method in question\n    public void setupDialogueEnvironment(URL urla, URL urlb)\n    {\n        diA = new ImageIcon(urla);\n        diB = new ImageIcon(urlb);\n\n        dA.setBackground(Color.RED);\n        dB.setBackground(Color.BLUE);\n\n        dA = new JLabel(diA);\n        dB = new JLabel(diB);\n\n        actionPanel.add(dA);\n        actionPanel.add(dB);\n\n        dA.setSize(300, 300);\n        dB.setSize(300, 300);\n\n        dA.setLocation(100, 100);\n        dB.setLocation(600, 100);\n\n        dA.setVisible(true);\n        dB.setVisible(true);\n\n        //repaint-- how do I get it to work?\n        frame.repaint();\n        actionPanel.repaint();\n        mtp.repaint();\n        dA.repaint();\n        dB.repaint();\n\n    }\n}\n</code></pre>\n\n<hr>\n\n<ul>\n<li>I have a class called HomesteadRunner which contains my main method and creates a Screen object</li>\n<li>In HomesteadRunner I have an object DialogueState, which calls a method whose only purpose is to call setupDialogueEnvironment() on the Screen object.</li>\n<li><p>I have made two Character objects, each with a correctly copied file path for their corresponding image. The code for this is below.</p>\n\n<pre><code>import package1.*;\npublic class HomesteadRunner {\npublic static void main(String[] args)\n{\n    // Create characters and attack. See if HP adjusts properly.\n    Skills skiller = new Skills();\n\n    Screen screen = new Screen();\n\n    Character ca = new Character(\"Bob\", 100, Screen.class.getResource(\"C:\\\\Users\\\\jleekas\\\\IdeaProjects\\\\HomesteadV1\\\\src\\\\Resources\\\\imgres.jpg\"));\n    Character cb = new Character(\"Billy\", 100, Screen.class.getResource(\"C:\\\\Users\\\\jleekas\\\\IdeaProjects\\\\HomesteadV1\\\\src\\\\Resources\\\\imgres-1.jpg\"));\n\n    // Create a dialogue state\n    DialogueState ds = new DialogueState();\n    ds.setup(ca, cb, screen);\n}\n</code></pre>\n\n<p>}</p></li>\n</ul>\n\n<p>Thank you very much for your help &amp; advice in advance.</p>\n"}, {"tags": ["java", "edge-detection"], "comments": [{"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1452119886, "post_id": 34643827, "comment_id": 57034247, "body": "Please post the code you are using to read/write the PPM images to/from <code>Color[][]</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1154, "user_id": 4754758, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/894bf22a86bb09a6c5b3c5e5af339b48?s=128&d=identicon&r=PG&f=1", "display_name": "ewanc", "link": "https://stackoverflow.com/users/4754758/ewanc"}, "is_accepted": false, "score": 0, "last_activity_date": 1452178490, "creation_date": 1452178490, "answer_id": 34658218, "question_id": 34643827, "link": "https://stackoverflow.com/questions/34643827/edge-detection-in-java-on-a-ppm-using-the-sobel-operator/34658218#34658218", "title": "Edge detection in Java on a PPM using the Sobel Operator", "body": "<p>The algorithm looks more or less correct, certainly doesn't seem to be anything that would cause such a strange distortion of the image. Of course the easy way to check this would be to have this method return its input, which should just give you the greyscale image. I would at least give this a shot to pinpoint exactly where the issue is, or narrow it down anyway.</p>\n\n<p>I have an example at home that does a full Canny edge detection (one step of which is sobel edge detection) printing out step by step intermediate images. If you're still having trouble when I get back from work I can hopefully give you some tips from that.</p>\n"}, {"comments": [{"owner": {"reputation": 817, "user_id": 328161, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3338ea7264908d2428604617f3491347?s=128&d=identicon&r=PG", "display_name": "Tim AtLee", "link": "https://stackoverflow.com/users/328161/tim-atlee"}, "edited": false, "score": 0, "creation_date": 1452222510, "post_id": 34662025, "comment_id": 57083466, "body": "I don&#39;t know if to mark this correct - but this helped expose the issue.  The root issue was that I was reading the PPM incorrectly.  This was being &quot;corrected&quot; by a bad Render() function.  Thanks for the tip here - it was a huge help!"}], "tags": [], "owner": {"reputation": 2662, "user_id": 5634769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aadff15bb5cec395bce83aa41a2c758a?s=128&d=identicon&r=PG&f=1", "display_name": "gpasch", "link": "https://stackoverflow.com/users/5634769/gpasch"}, "is_accepted": true, "score": 0, "last_activity_date": 1452189540, "creation_date": 1452189540, "answer_id": 34662025, "question_id": 34643827, "link": "https://stackoverflow.com/questions/34643827/edge-detection-in-java-on-a-ppm-using-the-sobel-operator/34662025#34662025", "title": "Edge detection in Java on a PPM using the Sobel Operator", "body": "<p>The problem is located somewhere else - the method works ok - in the display maybe</p>\n\n<p>Try to check each stage by saving the image produced with a</p>\n\n<pre><code>BufferedImage bim=new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB);\nint[] pix=new int[w*h];\nfor(i=0; i&lt;pix.length; i++) pix[i]=(p[i%w][i/w].getBlue()&lt;&lt;16)|(p[i%w][i/w].getBlue()&lt;&lt;8)|p[i%w][i/w].getBlue()|0xff000000;\nbim.setRGB(0, 0, w, h, pix, o, w);\n\ntry {\nImageIO.write(bim, \"png\", new File(path+\".png\"));\n} catch (IOException ex) { ex.printStackTrace(); }\n</code></pre>\n\n<p>where p is your ppm array</p>\n"}], "owner": {"reputation": 817, "user_id": 328161, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3338ea7264908d2428604617f3491347?s=128&d=identicon&r=PG", "display_name": "Tim AtLee", "link": "https://stackoverflow.com/users/328161/tim-atlee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "accepted_answer_id": 34662025, "answer_count": 2, "score": 0, "last_activity_date": 1452189540, "creation_date": 1452118373, "last_edit_date": 1452177253, "question_id": 34643827, "link": "https://stackoverflow.com/questions/34643827/edge-detection-in-java-on-a-ppm-using-the-sobel-operator", "title": "Edge detection in Java on a PPM using the Sobel Operator", "body": "<p>I am trying to do edge detection, using the Sobel Operator, and I am getting a weird triplicate image.</p>\n\n<p>The image starts life as a PPM, which I am storing as a multi-dimension array of Color's: <a href=\"https://i.stack.imgur.com/p0DLm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p0DLm.png\" alt=\"Original image\"></a></p>\n\n<p>I convert it to grayscale, which seems to work just fine:\n<a href=\"https://i.stack.imgur.com/JTVe5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JTVe5.png\" alt=\"Grayscale converted image\"></a></p>\n\n<p>but when I attempt to find edges, things go..  weird:\n<a href=\"https://i.stack.imgur.com/hmnoz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hmnoz.png\" alt=\"Edges found?\"></a></p>\n\n<p>Given that the code is in Java, it's rather verbose, so I've only included the conversion function.  If it's suitable to post the whole thing, I will.</p>\n\n<pre><code>private Color[][] sobelConvert(Color[][] image) {\n    Color[][] newPPM = new Color[maxX][maxY];\n\n    for (int y = 0; y &lt; maxY; y++) {\n        for (int x = 0; x &lt; maxX; x++) {\n            int a = testForColor(x-1, y-1, image);\n            int b = testForColor(x-1, y,   image);\n            int c = testForColor(x-1, y+1, image);\n\n            int d = testForColor(x, y-1, image);\n            int e = testForColor(x, y+1,   image);\n\n            int f = testForColor(x+1, y-1, image);\n            int g = testForColor(x+1, y,   image);\n            int h = testForColor(x+1, y+1, image);\n\n            int eH = (c + 2*e + h) - (a + 2*d + f);\n            int eV = (f + 2*g + h) - (a + 2*b + c);\n\n            int edgyness = (int) Math.sqrt((eH * eH) + (eV * eV));\n            if (edgyness &gt; 255) {\n                edgyness = 255;\n            }\n            if (edgyness &lt; 0) {\n                edgyness = 0;\n            }\n            newPPM[x][y] = new Color(edgyness, edgyness, edgyness);\n        }\n    }\n    return newPPM;\n}\n</code></pre>\n\n<p><code>testForColor()</code> does some range checking, and returns one of the RGB values in the Color object - so that I think I can figure out brightness.</p>\n\n<pre><code>private int testForColor(int x, int y, Color[][] ppm) {\n    if (x &lt; 0 || x &gt;= maxX) {\n        return 0;\n    }\n\n    if (y &lt; 0 || y &gt;= maxY) {\n        return 0;\n    }\n\n    return ppm[x][y].getGreen();\n}\n</code></pre>\n\n<p>Edit: Adding code to read &amp; write the PPM:</p>\n\n<pre><code>public Edgeness(String fileName) throws Exception {\n    this.fileName = fileName;\n    boolean foundDims = false;\n    Color c = null;\n    int r, g, b;\n\n    String line;\n\n    try {\n        BufferedReader br = new BufferedReader(new FileReader(fileName));\n        while ((line = br.readLine()) != null) {\n            //System.out.println(line);\n\n            // Test if the line has any lenght (ignore empty lines)\n            // First line.  We will ignore it.\n            // First character is a #.  Ignore it.  (this is bad - should check the whole line.  TODO.)\n            if (line.length() &gt; 0 &amp;&amp; !line.equals(\"P3\") &amp;&amp; !(line.charAt(0) == '#')) {\n                // Check for image dimensions.  Only do this once.  I assume regex's take longer\n                // than testing a boolean.\n                if (!foundDims) {\n                    Pattern pImDim = Pattern.compile(\"(\\\\d+) (\\\\d+)\");\n                    Matcher mImDim = pImDim.matcher(line);\n                    if (mImDim.find()) {\n                        maxX = Integer.parseInt(mImDim.group(1));\n                        maxY = Integer.parseInt(mImDim.group(2));\n                        ppm = new Color[maxX][maxY];\n                    }\n                    foundDims = true;\n                }\n\n                // Hmm.  Last capture is kept, the rest are overwritten.  so.. we split instead.\n                // https://stackoverflow.com/questions/3537878/how-to-capture-an-arbitrary-number-of-groups-in-javascript-regexp\n                String[] rgbVals = line.split(\" \");\n                if (rgbVals.length % 3 == 0) {\n                    for (int i = 0; i &lt; rgbVals.length; i += 3) {\n                        r = Integer.parseInt(rgbVals[i]);\n                        g = Integer.parseInt(rgbVals[i+1]);\n                        b = Integer.parseInt(rgbVals[i+2]);\n                        c = new Color(r, g, b);\n                        addNextColor(c);\n                    }\n                }\n            }\n        }\n        br.close();\n    } finally {\n    }\n}\nprivate void addNextColor(Color c) {\n    ppm[currentX][currentY] = c;\n    currentY++;\n    if (currentY &gt;= maxY) {\n        currentX++;\n        currentY = 0;\n    }\n}\n</code></pre>\n\n<p>And the function to save the PPM out to a file.  If I load a PPM, then immediately call render(), the image that is generated is an exact copy.  Likewise if I save the grayscale image, I get the image included above.</p>\n\n<pre><code>private void render(Color[][] image, String fileName) throws IOException {\n    ArrayList&lt;String&gt; output = new ArrayList&lt;String&gt;();\n    output.add(\"P3\");\n    output.add(maxX + \" \" + maxY);\n    output.add(\"255\");\n\n    for (int x = 0; x &lt; maxX; x++) {\n        StringBuilder sb = new StringBuilder();\n        for (int y = 0; y &lt; maxY; y++) {\n            if (image[x][y] != null) {\n                sb.append(image[x][y].getRed() + \" \" + image[x][y].getGreen() + \" \" + image[x][y].getBlue() + \" \");\n            } else {\n                sb.append(\"0 0 0 \");\n            }\n        }\n        output.add(sb.toString());\n    }\n\n    BufferedWriter bw = new BufferedWriter(new FileWriter(fileName));\n    for (String s : output) {\n        bw.write(s);\n        bw.newLine();\n    }\n    bw.close();\n}\n</code></pre>\n\n<p>I convert the PPM output to PNGs using ImageMagik's convert program.</p>\n\n<p>I found an implementation written in Ruby at <a href=\"http://blog.saush.com/2011/04/20/edge-detection-with-the-sobel-operator-in-ruby/\" rel=\"nofollow noreferrer\">http://blog.saush.com/2011/04/20/edge-detection-with-the-sobel-operator-in-ruby/</a> which, when adapted to Java, yielded the same result.</p>\n\n<p>FWIW, this is from Reddit's Daily Programming Challenge.</p>\n"}, {"tags": ["java", "web-services", "jaxb", "websphere", "cxf"], "comments": [{"owner": {"reputation": 32568, "user_id": 142446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e8190d89907e24bf6b4438eaef71af4?s=128&d=identicon&r=PG", "display_name": "Brett Kail", "link": "https://stackoverflow.com/users/142446/brett-kail"}, "edited": false, "score": 0, "creation_date": 1452179982, "post_id": 34643818, "comment_id": 57062706, "body": "It&#39;s possible this is a JVM bug, but I suspect CXF is generating an invalid field name (e.g., containing <code>-</code> due to some XML element).  It&#39;s unfortunate the JVM error doesn&#39;t include the field name, so you could try to open a PMR with IBM for that, but it&#39;s probably easier to modify the <code>ASMHelper$TypeHelperClassLoader</code> CXF class to dump the class bytes being defined and then inspect them yourself to see what field names are being defined/referenced."}, {"owner": {"reputation": 11, "user_id": 5258263, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eZVZdYAF8Jw/AAAAAAAAAAI/AAAAAAAAAII/53kAw_EutIE/photo.jpg?sz=128", "display_name": "li haizhou", "link": "https://stackoverflow.com/users/5258263/li-haizhou"}, "reply_to_user": {"reputation": 32568, "user_id": 142446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e8190d89907e24bf6b4438eaef71af4?s=128&d=identicon&r=PG", "display_name": "Brett Kail", "link": "https://stackoverflow.com/users/142446/brett-kail"}, "edited": false, "score": 0, "creation_date": 1452199883, "post_id": 34643818, "comment_id": 57075441, "body": "Thanks @Brett Kail. ASMHelper.java line 367 has only class name:  `    ret = super.defineClass(name.replace(&#39;/&#39;, &#39;.&#39;), bytes, 0, bytes.length);` I am thinking maybe I can modify WrapperClassGenerator.java to use asm.jar directly."}, {"owner": {"reputation": 32568, "user_id": 142446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e8190d89907e24bf6b4438eaef71af4?s=128&d=identicon&r=PG", "display_name": "Brett Kail", "link": "https://stackoverflow.com/users/142446/brett-kail"}, "edited": false, "score": 0, "creation_date": 1452202320, "post_id": 34643818, "comment_id": 57076808, "body": "My suggestion was to change that line of code to write those bytes to a file so that you can inspect them (e.g., using javap) to see if the generated class bytes attempt to define a field with an invalid name (e.g., containing <code>-</code>)."}, {"owner": {"reputation": 11, "user_id": 5258263, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eZVZdYAF8Jw/AAAAAAAAAAI/AAAAAAAAAII/53kAw_EutIE/photo.jpg?sz=128", "display_name": "li haizhou", "link": "https://stackoverflow.com/users/5258263/li-haizhou"}, "reply_to_user": {"reputation": 32568, "user_id": 142446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e8190d89907e24bf6b4438eaef71af4?s=128&d=identicon&r=PG", "display_name": "Brett Kail", "link": "https://stackoverflow.com/users/142446/brett-kail"}, "edited": false, "score": 0, "creation_date": 1452273642, "post_id": 34643818, "comment_id": 57111164, "body": "Hi @BrettKail, I have modified CXF/2.7.16/ASMHelper.java and printed all generated classes.RetrieveRssFeedResponse.class has only 1 field with &quot;[]&quot; in field name. Does it mean that JAXB does not support &quot;[]&quot; in field name?   @XmlElement(name=&quot;RssChannelDTO[]&quot;)   private RssChannelDTO[] RssChannelDTO[];"}, {"owner": {"reputation": 32568, "user_id": 142446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e8190d89907e24bf6b4438eaef71af4?s=128&d=identicon&r=PG", "display_name": "Brett Kail", "link": "https://stackoverflow.com/users/142446/brett-kail"}, "edited": false, "score": 0, "creation_date": 1452298316, "post_id": 34643818, "comment_id": 57122990, "body": "I&#39;m not familiar enough with JAXB, but <code>[</code> and <code>]</code> are not valid characters in an XML name.  Is JAXB supposed to specially handle that?  If yes, I guess CXF needs to mangle the name when generating the class bytes.  Otherwise, it looks like you&#39;re using an invalid element name (although it also seems like an issue in JAXB or CXF of romsething for not diagnosing the problem with a good error message prior to generating class bytes)."}, {"owner": {"reputation": 11, "user_id": 5258263, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eZVZdYAF8Jw/AAAAAAAAAAI/AAAAAAAAAII/53kAw_EutIE/photo.jpg?sz=128", "display_name": "li haizhou", "link": "https://stackoverflow.com/users/5258263/li-haizhou"}, "reply_to_user": {"reputation": 32568, "user_id": 142446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e8190d89907e24bf6b4438eaef71af4?s=128&d=identicon&r=PG", "display_name": "Brett Kail", "link": "https://stackoverflow.com/users/142446/brett-kail"}, "edited": false, "score": 0, "creation_date": 1452527100, "post_id": 34643818, "comment_id": 57196757, "body": "I have modified WebResult annotation to remove &quot;[]&quot;. Now the error is gone. Anyway, several new errors are reported. We are trying to solve all new errors and then do some sanity test. Once we confirm that everything is working fine, I will post my analysis and solution. Thank @BrettKail very much for your suggestions."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5258263, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eZVZdYAF8Jw/AAAAAAAAAAI/AAAAAAAAAII/53kAw_EutIE/photo.jpg?sz=128", "display_name": "li haizhou", "link": "https://stackoverflow.com/users/5258263/li-haizhou"}, "is_accepted": true, "score": 0, "last_activity_date": 1453061936, "last_edit_date": 1453061936, "creation_date": 1453060942, "answer_id": 34842997, "question_id": 34643818, "link": "https://stackoverflow.com/questions/34643818/cxf-2-7-16-classformaterror-jvmcfre114-field-name-is-invalid-jaxws-asm/34842997#34842997", "title": "CXF 2.7.16: ClassFormatError: JVMCFRE114 field name is invalid; jaxws_asm", "body": "<p>Thank you so much for your help. The issue has been solved by removing \"[]\" from @WebResult annotation. In other words, originally our application code has:</p>\n\n<pre><code>    @WebMethod(operationName = \"retrieveRssFeed\")\n    @WebResult(name = \"RssChannelDTO[]\")\n</code></pre>\n\n<p>The error is solved by changing it to:</p>\n\n<pre><code>    @WebMethod(operationName = \"retrieveRssFeed\")\n    @WebResult(name = \"RssChannelDTO\")\n</code></pre>\n\n<p>What we have done is:</p>\n\n<ul>\n<li><p>Modify CXF/2.7.16/ASMHelper.java defineClass() method to print the dynamically generated classes. Totally 302 classes have been printed out.</p>\n\n<pre><code>        System.out.println(\"***********ASMHelper.TypeHelperClassLoader.defineClass(): \" + name.replace('/', '.'));\n        try {\n            java.io.FileOutputStream fos = new java.io.FileOutputStream(name.replace('/', '.') + \".class\");\n            fos.write(bytes);\n            fos.close();\n        } catch (java.io.IOException ioe) {\n            ioe.printStackTrace();\n        }\n</code></pre></li>\n<li><p>Among all 302 generated classes, only RetrieveRssFeedResponse.class has \"[]\" in field name</p>\n\n<pre><code>        @XmlElement(name=\"RssChannelDTO[]\")\n        private RssChannelDTO[] RssChannelDTO[];\n</code></pre></li>\n<li><p>Modify CXF/2.7.16/ASMHelper.java to add main method (because constructor of inner class TypeHelperClassLoader is private) to call loader.defineClass() method</p></li>\n<li><p>After running main method, error is reported:</p>\n\n<pre><code>        Exception in thread \"main\" java.lang.ClassFormatError: Illegal field name \"RssChannelDTO[]\" in class RetrieveRssFeedResponse\n            at java.lang.ClassLoader.defineClass1(Native Method)\n            at java.lang.ClassLoader.defineClass(ClassLoader.java:760)\n            at java.lang.ClassLoader.defineClass(ClassLoader.java:642)\n            at org.apache.cxf.common.util.ASMHelper$TypeHelperClassLoader.defineClass(ASMHelper.java:377)\n            at org.apache.cxf.common.util.ASMHelper.main(ASMHelper.java:513)\n</code></pre></li>\n<li><p>Then we modified our application code to remove \"[]\" from @WebResult annotation. The generated RetrieveRssFeedResponse.class has:</p>\n\n<pre><code>        @XmlElement(name=\"RssChannelDTO\")\n        private RssChannelDTO[] RssChannelDTO;\n</code></pre></li>\n</ul>\n\n<p>Now error is gone and our WebSphere Application Server v7.0 can be started without any error.</p>\n\n<p>Regarding the IBM class loading trace log shows only \"jaxws.RetrieveRssFeedResponse\", I guess the situation is:</p>\n\n<ul>\n<li>IBM logging statement might ignore \"_\" and anything after it during logging</li>\n<li>But IBM class loader can still load \"jaxws_asm.RetrieveRssFeedResponse\"</li>\n</ul>\n\n<p>Anyway, this is only my guess and I have not checked any IBM source code.</p>\n"}], "owner": {"reputation": 11, "user_id": 5258263, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eZVZdYAF8Jw/AAAAAAAAAAI/AAAAAAAAAII/53kAw_EutIE/photo.jpg?sz=128", "display_name": "li haizhou", "link": "https://stackoverflow.com/users/5258263/li-haizhou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 647, "favorite_count": 1, "accepted_answer_id": 34842997, "answer_count": 1, "score": 0, "last_activity_date": 1542876463, "creation_date": 1452118349, "last_edit_date": 1452298333, "question_id": 34643818, "link": "https://stackoverflow.com/questions/34643818/cxf-2-7-16-classformaterror-jvmcfre114-field-name-is-invalid-jaxws-asm", "title": "CXF 2.7.16: ClassFormatError: JVMCFRE114 field name is invalid; jaxws_asm", "body": "<p>We upgrade CXF from v2.2.6 to v2.7.16. When we start IBM WebSphere Application Server v7.0.0.33 in Linux machine, error is reported for <strong>jaxws_asm</strong>/RetrieveRssFeedResponse:</p>\n\n<pre><code>Caused by: java.lang.ClassFormatError: JVMCFRE114 field name is invalid; class=com/abc/mobile/service/rss/jaxws_asm/RetrieveRssFeedResponse, offset=0\n    at java.lang.ClassLoader.defineClassImpl(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:287)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:224)\n    at org.apache.cxf.common.util.ASMHelper$TypeHelperClassLoader.defineClass(ASMHelper.java:367)\n    at org.apache.cxf.common.util.ASMHelper.loadClass(ASMHelper.java:316)\n    at org.apache.cxf.jaxws.WrapperClassGenerator.createWrapperClass(WrapperClassGenerator.java:229)\n</code></pre>\n\n<p>Here is our current understanding:</p>\n\n<ul>\n<li>This error does not occur in local Windows machine WAS7.0.0.11</li>\n<li>Class jaxws_asm.RetrieveRssFeedResponse does not exist at compile time. Instead, it's generated by CXF at runtime.</li>\n<li>Our application code has Java package: com/abc/mobile/service/rss</li>\n<li><p>Class WrapperClassGenerator in org.apache.cxf/cxf-bundle.jar/2.7.16 appends Java package \u201cjaxws_asm\u201d at line 160:</p>\n\n<p>String pkg = new StringBuilder().append(getPackageName(method)).append(\".<strong>jaxws_asm</strong>\").append(anonymous ? \"_an\" : \"\").toString();</p></li>\n<li><p>Our application code com.abc.mobile.service.rss.GlobalProductRssService.java has:</p>\n\n<p>@WebMethod(operationName = \"retrieveRssFeed\")</p></li>\n<li><p>Class WrapperClassGenerator in org.apache.cxf/cxf-bundle.jar/2.7.16 appends class name \u201cResponse\u201d at line 164:</p>\n\n<p>className = new StringBuilder().append(className).append(\"<strong>Response</strong>\").toString();</p></li>\n<li><p>We tried to add asm/asm.jar/3.3.1 to WEB-INF/lib or WAS7.0/java/jre/lib/ext. It did not help.</p></li>\n<li>We have enabled class loading trace log by following IBM MustGather document: <a href=\"http://www-01.ibm.com/support/docview.wss?uid=swg21196187\" rel=\"nofollow\">http://www-01.ibm.com/support/docview.wss?uid=swg21196187</a>.</li>\n</ul>\n\n<p>Trace log shows that \"<strong>jaxws</strong>.RetrieveRssFeedResponse\" is being loaded:</p>\n\n<pre><code>[1/5/16 11:39:04:447 EST] 00000014 CompoundClass &gt;  loadClass com.abc.mobile.service.rss.jaxws.RetrieveRssFeedResponse this=com.ibm.ws.classloader.CompoundClassLoader@736d736d[PL][war:US-EAR/US.war] Entry\n[1/5/16 11:39:04:447 EST] 00000014 CompoundClass &gt;  loadClass com.abc.mobile.service.rss.jaxws.RetrieveRssFeedResponse this=com.ibm.ws.classloader.CompoundClassLoader@70207020[app:US-EAR] Entry\n[1/5/16 11:39:04:448 EST] 00000014 CompoundClass &lt;  loadClass com.abc.mobile.service.rss.jaxws.RetrieveRssFeedResponse failed Exit\n[1/5/16 11:39:04:448 EST] 00000014 CompoundClass &lt;  loadClass com.abc.mobile.service.rss.jaxws.RetrieveRssFeedResponse failed Exit\n</code></pre>\n\n<p>I have not found out why the above class loading trace log loads \"<strong>jaxws</strong>.RetrieveRssFeedResponse\". It's highly appreciated if anyone could share any clue about how to solve this ClassFormatError.</p>\n"}, {"tags": ["java", "android", "sqlite", "android-database"], "comments": [{"owner": {"reputation": 7521, "user_id": 1219389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6otAH.jpg?s=128&g=1", "display_name": "PPartisan", "link": "https://stackoverflow.com/users/1219389/ppartisan"}, "edited": false, "score": 0, "creation_date": 1452118453, "post_id": 34643805, "comment_id": 57033571, "body": "Could you include the error log in your question please?"}, {"owner": {"reputation": 67, "user_id": 5553214, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xJVPS.jpg?s=128&g=1", "display_name": "Jun&#39;z", "link": "https://stackoverflow.com/users/5553214/junz"}, "reply_to_user": {"reputation": 7521, "user_id": 1219389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6otAH.jpg?s=128&g=1", "display_name": "PPartisan", "link": "https://stackoverflow.com/users/1219389/ppartisan"}, "edited": false, "score": 0, "creation_date": 1452118625, "post_id": 34643805, "comment_id": 57033665, "body": "Error:(92, 35) error: cannot find symbol variable id, thank you sir"}, {"owner": {"reputation": 7521, "user_id": 1219389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6otAH.jpg?s=128&g=1", "display_name": "PPartisan", "link": "https://stackoverflow.com/users/1219389/ppartisan"}, "edited": false, "score": 0, "creation_date": 1452118777, "post_id": 34643805, "comment_id": 57033725, "body": "Well, at a guess it&#39;s because <code>updateData(View view)</code> doesn&#39;t include <code>id</code> in its arguments...unlike your other <code>updateData()</code> method that returns a <code>boolean</code>. Editing your question to include your error log and specifying which line in your code caused the error will be a big help. <b>Edit</b> In addition, <code>int i = helper.updateData()</code> doesn&#39;t make sense, as this method returns a <code>boolean</code>, not an <code>int</code>."}, {"owner": {"reputation": 67, "user_id": 5553214, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xJVPS.jpg?s=128&g=1", "display_name": "Jun&#39;z", "link": "https://stackoverflow.com/users/5553214/junz"}, "reply_to_user": {"reputation": 7521, "user_id": 1219389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6otAH.jpg?s=128&g=1", "display_name": "PPartisan", "link": "https://stackoverflow.com/users/1219389/ppartisan"}, "edited": false, "score": 0, "creation_date": 1452120060, "post_id": 34643805, "comment_id": 57034320, "body": "Please can you help me fix the error through codes sir?"}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 5553214, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xJVPS.jpg?s=128&g=1", "display_name": "Jun&#39;z", "link": "https://stackoverflow.com/users/5553214/junz"}, "edited": false, "score": 0, "creation_date": 1452121457, "post_id": 34644233, "comment_id": 57034894, "body": "Sir Kingo please help. how can I defined?? what codes??"}], "tags": [], "owner": {"reputation": 419, "user_id": 402301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76449bac5d5fa99a1aadf25c5ca21c8f?s=128&d=identicon&r=PG", "display_name": "Kingo", "link": "https://stackoverflow.com/users/402301/kingo"}, "is_accepted": false, "score": 0, "last_activity_date": 1452120050, "creation_date": 1452120050, "answer_id": 34644233, "question_id": 34643805, "link": "https://stackoverflow.com/questions/34643805/android-sqlite-update-values-not-working/34644233#34644233", "title": "Android SQLite: Update values not working", "body": "<p>In the updateData(View view) method in the Update class, the following line references id, but it is not defined in this class:\n<code>helper.updateData(id,question,ans1,ans2,ans3,ans4,sqLiteDatabase);</code></p>\n"}], "owner": {"reputation": 67, "user_id": 5553214, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xJVPS.jpg?s=128&g=1", "display_name": "Jun&#39;z", "link": "https://stackoverflow.com/users/5553214/junz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1452120050, "creation_date": 1452118297, "last_edit_date": 1452119775, "question_id": 34643805, "link": "https://stackoverflow.com/questions/34643805/android-sqlite-update-values-not-working", "title": "Android SQLite: Update values not working", "body": "<p>I'm a student and new to Android and Sqlite database. </p>\n\n<p>I've been trying to update the data in my sqLite Database I tried many methods to update the data and after a lot of research it come up with an error in the Update class which is the  id. Error:(92, 35) error: cannot find symbol variable id error message</p>\n\n<p>Please check my codes to let me know where my mistakes is. THANK YOU.</p>\n\n<blockquote>\n  <p>DatabaseHelper class:</p>\n</blockquote>\n\n<pre><code> public boolean updateData(long id, String new_question, String new_ans1, String new_ans2, String new_ans3, String new_ans4, SQLiteDatabase sqLiteDatabase )\n    {\n    ContentValues contentValues = new ContentValues();\n\n        contentValues.put(AdminContact.Question.COLUMN_QUESTION, new_question);\n        contentValues.put(AdminContact.Question.COLUMN_ANSWER1, new_ans1);\n        contentValues.put(AdminContact.Question.COLUMN_ANSWER2, new_ans2);\n        contentValues.put(AdminContact.Question.COLUMN_ANSWER3, new_ans3);\n        contentValues.put(AdminContact.Question.COLUMN_ANSWER4, new_ans4);\n\n       // String selection = AdminContact.Question.TABLE_QUIZ + \" LIKE ?\";\n        //String[] selection_arg = {new_question};\n       sqLiteDatabase.update(AdminContact.Question.TABLE_QUIZ, contentValues, AdminContact.Question.ID + \"=\" + id, null);\n        return i &gt; 0;\n\n    }\n\nThis is my Create Table:\n\n private static final String CREATE_QUERY = \"CREATE TABLE \"+ AdminContact.Question.TABLE_QUIZ+\"(\"+ AdminContact.Question.ID+\" INTEGER PRIMARY KEY NOT NULL,\"+ AdminContact.Question.COLUMN_QUESTION+\" TEXT NOT NULL,\"+\n            AdminContact.Question.COLUMN_ANSWER1+\" TEXT NOT NULL,\"+ AdminContact.Question.COLUMN_ANSWER2+\" TEXT NOT NULL,\"+ AdminContact.Question.COLUMN_ANSWER3+\" TEXT NOT NULL,\"+ AdminContact.Question.COLUMN_ANSWER4+\" TEXT NOT NULL);\";\n\n\nAnd my Update class:\n\n public void updateData(View view)\n    {\n    helper = new DatabaseHelper(this);\n        sqLiteDatabase = helper.getWritableDatabase();\n\n        String question, ans1, ans2, ans3, ans4;\n\n        question = New_Question.getText().toString();\n        ans1 = New_Ans1.getText().toString();\n        ans2 = New_Ans2.getText().toString();\n        ans3 = New_Ans3.getText().toString();\n        ans4 = New_Ans4.getText().toString();\n        helper.updateData(id,question,ans1,ans2,ans3,ans4,sqLiteDatabase);\n        Toast.makeText(getApplicationContext(),\" Successfully Updated\", Toast.LENGTH_LONG).show();\n        finish();\n\n    }\n</code></pre>\n"}, {"tags": ["java", "spring", "autowired"], "comments": [{"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 0, "creation_date": 1452118198, "post_id": 34643755, "comment_id": 57033441, "body": "I don&#39;t understand, how do you verify that the bean named <code>user</code> isn&#39;t initialized?"}, {"owner": {"reputation": 8153, "user_id": 5517633, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynu4n.jpg?s=128&g=1", "display_name": "Abdelhak", "link": "https://stackoverflow.com/users/5517633/abdelhak"}, "edited": false, "score": 1, "creation_date": 1452118423, "post_id": 34643755, "comment_id": 57033561, "body": "Try remove comment &lt;!--  --&gt;for bean"}, {"owner": {"reputation": 463, "user_id": 2260506, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/3cd1e60b0c847cf3423a50ffb79a6d92?s=128&d=identicon&r=PG", "display_name": "Ulrich", "link": "https://stackoverflow.com/users/2260506/ulrich"}, "edited": false, "score": 0, "creation_date": 1452118583, "post_id": 34643755, "comment_id": 57033647, "body": "Verified this with debug; and the System.out.println indicates that &quot;user&quot; is always null!"}, {"owner": {"reputation": 20552, "user_id": 460557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=128&d=identicon&r=PG", "display_name": "Jorge Campos", "link": "https://stackoverflow.com/users/460557/jorge-campos"}, "edited": false, "score": 1, "creation_date": 1452118692, "post_id": 34643755, "comment_id": 57033694, "body": "The constructor in a <code>@Component</code> class is called before the autowiring of the atributes/methods. Create another method and add your sysout on it also annotate it with <code>@PostConstruct</code>"}, {"owner": {"reputation": 463, "user_id": 2260506, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/3cd1e60b0c847cf3423a50ffb79a6d92?s=128&d=identicon&r=PG", "display_name": "Ulrich", "link": "https://stackoverflow.com/users/2260506/ulrich"}, "edited": false, "score": 0, "creation_date": 1452118990, "post_id": 34643755, "comment_id": 57033828, "body": "I tried with another class, called from Main as well, just to see the effect. Anyway; the class Main is instantiated after context-load; the injection is done when class is instantiated; so I don&#39;t think that a separate class will make a difference. The &quot;context.getBean()&quot; works; but I would prefer @Autowired to get run."}, {"owner": {"reputation": 20552, "user_id": 460557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=128&d=identicon&r=PG", "display_name": "Jorge Campos", "link": "https://stackoverflow.com/users/460557/jorge-campos"}, "edited": false, "score": 0, "creation_date": 1452119101, "post_id": 34643755, "comment_id": 57033875, "body": "Not in a separate class in the same Main class add another method, say <code>@PostConstruct public void testMethod(){ System.out.println(&quot;auto....&quot;); }</code>"}, {"owner": {"reputation": 1552, "user_id": 484842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6344746169b492d9edd60b4858c3e328?s=128&d=identicon&r=PG", "display_name": "KarlM", "link": "https://stackoverflow.com/users/484842/karlm"}, "edited": false, "score": 1, "creation_date": 1452119170, "post_id": 34643755, "comment_id": 57033914, "body": "You are using setter-based injection but your test is on the constructor. Autowired setters are only invoked after the constructor completes. So either (i) use constructor-based injection (Autowire the Main() constructor) or (ii) use @PostConstruct to test for values after the constructor is completed."}, {"owner": {"reputation": 463, "user_id": 2260506, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/3cd1e60b0c847cf3423a50ffb79a6d92?s=128&d=identicon&r=PG", "display_name": "Ulrich", "link": "https://stackoverflow.com/users/2260506/ulrich"}, "reply_to_user": {"reputation": 20552, "user_id": 460557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=128&d=identicon&r=PG", "display_name": "Jorge Campos", "link": "https://stackoverflow.com/users/460557/jorge-campos"}, "edited": false, "score": 0, "creation_date": 1452119380, "post_id": 34643755, "comment_id": 57034026, "body": "@Jorge: Doesn&#39;t make a difference. Neiter calling the method from the constructor nor from the main-method does change anything here."}, {"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 2, "creation_date": 1452119447, "post_id": 34643755, "comment_id": 57034048, "body": "Because <code>new Main();</code> is not a Spring bean. Read <a href=\"http://stackoverflow.com/questions/19896870/why-is-my-spring-autowired-field-null\" title=\"why is my spring autowired field null\">stackoverflow.com/questions/19896870/&hellip;</a>. Check the <code>Main</code> bean from your <code>ApplicationContext</code>."}, {"owner": {"reputation": 20552, "user_id": 460557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=128&d=identicon&r=PG", "display_name": "Jorge Campos", "link": "https://stackoverflow.com/users/460557/jorge-campos"}, "edited": false, "score": 0, "creation_date": 1452119516, "post_id": 34643755, "comment_id": 57034078, "body": "I just noticed a thing, that is in fact a problem"}, {"owner": {"reputation": 20552, "user_id": 460557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=128&d=identicon&r=PG", "display_name": "Jorge Campos", "link": "https://stackoverflow.com/users/460557/jorge-campos"}, "edited": false, "score": 0, "creation_date": 1452119592, "post_id": 34643755, "comment_id": 57034111, "body": "Your component-scan tag is scanning <code>&lt;context:component-scan base-package=&quot;mybeans&quot; &#47;&gt;</code> only mybeans package which means that it will not scan your main class that is on the <code>mycode</code> package, either add this package on the scan or move a class into the same package"}, {"owner": {"reputation": 463, "user_id": 2260506, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/3cd1e60b0c847cf3423a50ffb79a6d92?s=128&d=identicon&r=PG", "display_name": "Ulrich", "link": "https://stackoverflow.com/users/2260506/ulrich"}, "reply_to_user": {"reputation": 20552, "user_id": 460557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=128&d=identicon&r=PG", "display_name": "Jorge Campos", "link": "https://stackoverflow.com/users/460557/jorge-campos"}, "edited": false, "score": 0, "creation_date": 1452120743, "post_id": 34643755, "comment_id": 57034604, "body": "@Jorge: added the mycode to the scan context. But my understanding is, that the component-scan detects the beans. The injection is done by the annotation; there should not be a need to add the code also to the scan. I tried it anyway; nothing changed"}, {"owner": {"reputation": 463, "user_id": 2260506, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/3cd1e60b0c847cf3423a50ffb79a6d92?s=128&d=identicon&r=PG", "display_name": "Ulrich", "link": "https://stackoverflow.com/users/2260506/ulrich"}, "edited": false, "score": 0, "creation_date": 1452121106, "post_id": 34643755, "comment_id": 57034752, "body": "@Sotiros: the described samples run with Spring-MVC; as I said in the beginning the web-applications using MVC are fine. I would like to understand whats wrong with my code here. I described my understanding of the automatic injection in the previous answer."}, {"owner": {"reputation": 20552, "user_id": 460557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=128&d=identicon&r=PG", "display_name": "Jorge Campos", "link": "https://stackoverflow.com/users/460557/jorge-campos"}, "edited": false, "score": 0, "creation_date": 1452121123, "post_id": 34643755, "comment_id": 57034758, "body": "When you use the <code>annotation-config</code> configuration, the spring will only inject classes with <code>@Component</code> or inheritances of it like <code>@Repository</code> So your main class would not be added to the context cause it was in the package scan. I will try to reproduce your problem here!"}, {"owner": {"reputation": 463, "user_id": 2260506, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/3cd1e60b0c847cf3423a50ffb79a6d92?s=128&d=identicon&r=PG", "display_name": "Ulrich", "link": "https://stackoverflow.com/users/2260506/ulrich"}, "edited": false, "score": 0, "creation_date": 1452121382, "post_id": 34643755, "comment_id": 57034860, "body": "I will check tomorroy again. It&#39;s midnight here; need to have a bit of sleep"}, {"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 0, "creation_date": 1452121584, "post_id": 34643755, "comment_id": 57034945, "body": "The MVC part of it is irrelevant. A <code>@Controller</code> is just a bean and follows the same rules as <code>@Repository</code>, <code>@Component</code> and any other meta-component annotation. It&#39;s all the same."}, {"owner": {"reputation": 20552, "user_id": 460557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=128&d=identicon&r=PG", "display_name": "Jorge Campos", "link": "https://stackoverflow.com/users/460557/jorge-campos"}, "edited": false, "score": 0, "creation_date": 1452121671, "post_id": 34643755, "comment_id": 57034993, "body": "See it here: <a href=\"http://imagebin.ca/v/2SZax2DonCXo\" rel=\"nofollow noreferrer\">imagebin.ca/v/2SZax2DonCXo</a> working example, properly configured!"}, {"owner": {"reputation": 20552, "user_id": 460557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=128&d=identicon&r=PG", "display_name": "Jorge Campos", "link": "https://stackoverflow.com/users/460557/jorge-campos"}, "edited": false, "score": 0, "creation_date": 1452121708, "post_id": 34643755, "comment_id": 57035000, "body": "Ignore everything else, as I used a project that had the needed dependencies."}, {"owner": {"reputation": 463, "user_id": 2260506, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/3cd1e60b0c847cf3423a50ffb79a6d92?s=128&d=identicon&r=PG", "display_name": "Ulrich", "link": "https://stackoverflow.com/users/2260506/ulrich"}, "reply_to_user": {"reputation": 20552, "user_id": 460557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=128&d=identicon&r=PG", "display_name": "Jorge Campos", "link": "https://stackoverflow.com/users/460557/jorge-campos"}, "edited": false, "score": 0, "creation_date": 1452202474, "post_id": 34643755, "comment_id": 57076894, "body": "@Jorge: Thanks a lot. This works fine. My approach was not working, at least I think so now, because I defined the &quot;Main&quot; as bean as you said, but I instantiated it myself. It has all to be done by Spring."}], "owner": {"reputation": 463, "user_id": 2260506, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/3cd1e60b0c847cf3423a50ffb79a6d92?s=128&d=identicon&r=PG", "display_name": "Ulrich", "link": "https://stackoverflow.com/users/2260506/ulrich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "closed_date": 1452125107, "answer_count": 0, "score": 0, "last_activity_date": 1452123985, "creation_date": 1452118095, "last_edit_date": 1452118341, "question_id": 34643755, "link": "https://stackoverflow.com/questions/34643755/spring-autowiring-pojo-applications", "closed_reason": "Duplicate", "title": "Spring @Autowiring POJO applications", "body": "<p>I'm starting with Spring. I got to work with a provided @RestController-Application and I thougt I got it. Now I try to work with a POJO and cannot get @Autowire working.\nThis is my environment:</p>\n\n<p>The Bean:</p>\n\n<pre><code>package mybeans;\n\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic class User {\n    private String surname;\n    private String lastname;\n    public String getSurname() {\n        return surname;\n    }\n    public void setSurname(String surname) {\n        this.surname = surname;\n    }\n    public String getLastname() {\n        return lastname;\n    }\n    public void setLastname(String lastname) {\n        this.lastname = lastname;\n    }\n}\n</code></pre>\n\n<p>The Code</p>\n\n<pre><code>package mycode;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\nimport org.springframework.stereotype.Component;\n\nimport mybeans.User;\n\n@Component\npublic class Main {\n\n    private User user;\n\n    @Autowired\n    public void setUser(User user) {\n        this.user=user;\n    }\n\n    public Main() {\n        System.out.println(\"autowired user is instantiated true/false: \" + !(user==null));\n    }\n\n    public static void main(String[] args) {\n        ApplicationContext context =\n                new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n//      User user=(User) context.getBean(\"user\");\n//      System.out.println(\"explicit user is instantiated true/false: \" + !(user==null));\n        new Main();\n\n    }\n\n}\n</code></pre>\n\n<p>The Context-xml</p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"\n        http://www.springframework.org/schema/beans \n        http://www.springframework.org/schema/beans/spring-beans-4.0.xsd\n        http://www.springframework.org/schema/context \n        http://www.springframework.org/schema/context/spring-context-4.0.xsd\"&gt;\n\n    &lt;!-- enable autowire --&gt;\n    &lt;context:annotation-config /&gt;\n\n    &lt;context:component-scan base-package=\"mybeans\" /&gt;\n\n    &lt;!--  \n    &lt;bean id=\"user\" class=\"mybeans.User\" autowire=\"byName\"&gt;\n        &lt;property name=\"surname\" value=\"Ulrich\" /&gt;\n        &lt;property name=\"lastname\" value=\"Schmidt\" /&gt;\n    &lt;/bean&gt;\n    --&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>The bean \"user\" never becomes instantiated, even when exlicit defining the bean (is a comment now). Does anybody see, whats wrong here? Thanks a lot</p>\n"}, {"tags": ["java", "eclipse", "lwjgl", "filenotfoundexception"], "comments": [{"owner": {"reputation": 3335, "user_id": 2166188, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tFb3K.png?s=128&g=1", "display_name": "Michal_Szulc", "link": "https://stackoverflow.com/users/2166188/michal-szulc"}, "edited": false, "score": 0, "creation_date": 1452118322, "post_id": 34643737, "comment_id": 57033504, "body": "Try <b>(&quot;./res/&quot; + fileName + &quot;.obj&quot;)</b>"}, {"owner": {"reputation": 576, "user_id": 1503704, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7bd1af08ede97f142e416f69b7c124ba?s=128&d=identicon&r=PG", "display_name": "Markus", "link": "https://stackoverflow.com/users/1503704/markus"}, "reply_to_user": {"reputation": 3335, "user_id": 2166188, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tFb3K.png?s=128&g=1", "display_name": "Michal_Szulc", "link": "https://stackoverflow.com/users/2166188/michal-szulc"}, "edited": false, "score": 0, "creation_date": 1452162523, "post_id": 34643737, "comment_id": 57050534, "body": "@MamyKryzysKryzysKryzys Sadly it didn&#39;t work."}], "answers": [{"comments": [{"owner": {"reputation": 576, "user_id": 1503704, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7bd1af08ede97f142e416f69b7c124ba?s=128&d=identicon&r=PG", "display_name": "Markus", "link": "https://stackoverflow.com/users/1503704/markus"}, "edited": false, "score": 0, "creation_date": 1452162619, "post_id": 34643810, "comment_id": 57050610, "body": "I&#39;ll take a look at it and see if things clear out. Thanks for the suggestion."}, {"owner": {"reputation": 7903, "user_id": 4851565, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c6e6414810d11199754a0fb801dff7d7?s=128&d=identicon&r=PG&f=1", "display_name": "entpnerd", "link": "https://stackoverflow.com/users/4851565/entpnerd"}, "reply_to_user": {"reputation": 576, "user_id": 1503704, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7bd1af08ede97f142e416f69b7c124ba?s=128&d=identicon&r=PG", "display_name": "Markus", "link": "https://stackoverflow.com/users/1503704/markus"}, "edited": false, "score": 0, "creation_date": 1452177549, "post_id": 34643810, "comment_id": 57060966, "body": "Let me know if it doesn&#39;t work. We can dig further if need be. :-)"}], "tags": [], "owner": {"reputation": 7903, "user_id": 4851565, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c6e6414810d11199754a0fb801dff7d7?s=128&d=identicon&r=PG&f=1", "display_name": "entpnerd", "link": "https://stackoverflow.com/users/4851565/entpnerd"}, "is_accepted": false, "score": 0, "last_activity_date": 1452118321, "last_edit_date": 1495542197, "creation_date": 1452118321, "answer_id": 34643810, "question_id": 34643737, "link": "https://stackoverflow.com/questions/34643737/cant-find-resources-runnable-jar/34643810#34643810", "title": "Can&#39;t find resources runnable jar", "body": "<p>Based on your code, the <code>res</code> folder should be placed directly off the <em>present working directory</em>, which should be the directory where you are running the Java command from. For an example, see this question on <a href=\"https://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java\">how to determine the current working directory from inside Java</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 679, "user_id": 4209721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ti9IS.png?s=128&g=1", "display_name": "xry", "link": "https://stackoverflow.com/users/4209721/xry"}, "is_accepted": false, "score": 0, "last_activity_date": 1452118654, "creation_date": 1452118654, "answer_id": 34643900, "question_id": 34643737, "link": "https://stackoverflow.com/questions/34643737/cant-find-resources-runnable-jar/34643900#34643900", "title": "Can&#39;t find resources runnable jar", "body": "<p>Use Path instead of new File(string).</p>\n\n<pre><code>FileReader fr = null;\ntry {\n    fr = new FileReader(Paths.get(\"res/\" + fileName + \".obj\").toFile());\n} catch (FileNotFoundException e) {\n    System.err.println(\"Couldn't load object file!\");\n    e.printStackTrace();\n}\n</code></pre>\n"}], "owner": {"reputation": 576, "user_id": 1503704, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7bd1af08ede97f142e416f69b7c124ba?s=128&d=identicon&r=PG", "display_name": "Markus", "link": "https://stackoverflow.com/users/1503704/markus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 758, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1452162798, "creation_date": 1452118040, "last_edit_date": 1452162798, "question_id": 34643737, "link": "https://stackoverflow.com/questions/34643737/cant-find-resources-runnable-jar", "title": "Can&#39;t find resources runnable jar", "body": "<p>I can't load an resource file after extracting a project as a runnable jar.</p>\n\n<p>It works in Eclipse but after exporting it throws a <code>FileNotFoundException</code>.</p>\n\n<p>I have tried to put the <code>res</code> folder next to the <code>.jar</code> file but nothing helps. I've tried with JarSplice and got it running with all the libraries but it stops with the resource file. The object file is located in a source folder.</p>\n\n<p>What can I do?</p>\n\n<p>Code</p>\n\n<pre><code>    FileReader fr = null;\n    try {\n        fr = new FileReader(new File(\"res/\" + fileName + \".obj\"));\n    } catch (FileNotFoundException e) {\n        System.err.println(\"Couldn't load object file!\");\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>EDIT: By opening the runnable .jar file in 7zip I can see that the whole /res folder has disappeared during the exporting and the files in the directory now lies directly in the root folder of the .jar file. </p>\n"}, {"tags": ["java", "netbeans"], "comments": [{"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 3, "creation_date": 1452117983, "post_id": 34643693, "comment_id": 57033340, "body": "What don&#39;t you understand about the error message? Do you know what <code>int</code> is? Do you know what a <code>String</code> is? What do you think <code>(String) System.in.read();</code> does? Why do you think so?"}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 1, "creation_date": 1452118075, "post_id": 34643693, "comment_id": 57033388, "body": "<code>System.in.read()</code> returns <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#read%28%29\" rel=\"nofollow noreferrer\">1 byte of data</a> from the standard input stream; this is probably not what you want. You might want to look at using a <code>Scanner</code> to wrap <code>System.in</code>."}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "reply_to_user": {"reputation": 27279, "user_id": 857132, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4fd51ed5980999c7c6ce3729d6cb2184?s=128&d=identicon&r=PG", "display_name": "John3136", "link": "https://stackoverflow.com/users/857132/john3136"}, "edited": false, "score": 7, "creation_date": 1452118186, "post_id": 34643693, "comment_id": 57033437, "body": "@John3136 I don&#39;t think it&#39;s a dumb question; I think it&#39;s a beginner&#39;s question. I agree that reading documentation might help, but I think it&#39;s better to point OP towards the right documentation than to call him dumb."}, {"owner": {"reputation": 11, "user_id": 5745466, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qCjoGVlJpYU/AAAAAAAAAAI/AAAAAAAAAFI/xM4FuaixZXU/photo.jpg?sz=128", "display_name": "Daniel Wolfe", "link": "https://stackoverflow.com/users/5745466/daniel-wolfe"}, "edited": false, "score": 0, "creation_date": 1452118536, "post_id": 34643693, "comment_id": 57033614, "body": "Geez, sorry. I don&#39;t really know where to find good documentation."}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "reply_to_user": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 1, "creation_date": 1452118597, "post_id": 34643693, "comment_id": 57033653, "body": "@Tom and John3136 I think that you are splitting hairs. It&#39;s just not a very good way to encourage a beginner."}, {"owner": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 0, "creation_date": 1452118688, "post_id": 34643693, "comment_id": 57033693, "body": "OP wrote something like this &quot;I think that <code>System.in.read();</code> reads your input&quot;: yes, it reads input, but it is very important to understand how it treats/interprets this input. For example input <code>1</code> would be returned as <code>49</code>. Btw: you&#39;re looking for <code>size = new Scanner(System.in).next();</code>."}], "answers": [{"tags": [], "owner": {"reputation": 156, "user_id": 3282123, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/df82d4f5b71d4b9fcf1ee621f921dec5?s=128&d=identicon&r=PG&f=1", "display_name": "hs2345", "link": "https://stackoverflow.com/users/3282123/hs2345"}, "is_accepted": true, "score": 1, "last_activity_date": 1452120140, "last_edit_date": 1452120140, "creation_date": 1452119454, "answer_id": 34644104, "question_id": 34643693, "link": "https://stackoverflow.com/questions/34643693/how-to-fix-incompatible-type-error/34644104#34644104", "title": "How to fix incompatible type error?", "body": "<p>Wrong:</p>\n\n<pre><code>size = String.valueOf(System.in.read());\n</code></pre>\n\n<p>This will never give you the correct size, due to it returning ASCII values of the number you entered. (That's character type.)\nBTW, System.in.read() returns 'int' value.</p>\n\n<p>You should import</p>\n\n<pre><code>import java.util.Scanner;\n</code></pre>\n\n<p>Then create new variable from object Scanner.</p>\n\n<pre><code>Scanner scn = new Scanner(System.in);\n</code></pre>\n\n<p>After that declare different sizes and initialize those.</p>\n\n<pre><code>size = scn.next();\n</code></pre>\n\n<p>should produce your desired output.</p>\n"}], "owner": {"reputation": 11, "user_id": 5745466, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qCjoGVlJpYU/AAAAAAAAAAI/AAAAAAAAAFI/xM4FuaixZXU/photo.jpg?sz=128", "display_name": "Daniel Wolfe", "link": "https://stackoverflow.com/users/5745466/daniel-wolfe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 833, "favorite_count": 0, "accepted_answer_id": 34644104, "answer_count": 1, "score": -2, "last_activity_date": 1452120140, "creation_date": 1452117918, "last_edit_date": 1452118453, "question_id": 34643693, "link": "https://stackoverflow.com/questions/34643693/how-to-fix-incompatible-type-error", "title": "How to fix incompatible type error?", "body": "<p>I'm trying to write a simple program that asks you to enter a size, then it prints a line based on what you entered. The last line in the code below is giving me the error: </p>\n\n<blockquote>\n  <p>Incompatible types; <code>int</code> cannot be converted to <code>String</code> </p>\n</blockquote>\n\n<p>How do I get this error fixed?</p>\n\n<pre><code>int smallSize = 30;\nint mediumSize = 35;\nint largeSize = 40;\nString size;\n\nSystem.out.println(\"Please enter your size\");\nsize = (String) System.in.read();\n</code></pre>\n"}, {"tags": ["java", "file-upload", "amazon-s3", "multipartform-data"], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 3653878, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c04d068953855adea7a8c5c32b52e701?s=128&d=identicon&r=PG&f=1", "display_name": "Shoeheart", "link": "https://stackoverflow.com/users/3653878/shoeheart"}, "is_accepted": true, "score": 0, "last_activity_date": 1452287653, "creation_date": 1452287653, "answer_id": 34686162, "question_id": 34643660, "link": "https://stackoverflow.com/questions/34643660/missing-bytes-when-uploading-zip-file-with-multipart-form-data-using-java/34686162#34686162", "title": "Missing bytes when uploading zip file with multipart/form-data using java", "body": "<p>Upon some further research, we found that the error did not have anything to do with the multipart/form-data utility as shown in this question. Instead, it had to do with our own file downloading client in <a href=\"http://files.jscape.com/sftp/docs/javadoc/com/jscape/filetransfer/FileTransfer.html\" rel=\"nofollow\">here</a>. We were not setting the FileTransfer client to download the file as binary, which is necessary for a .zip file.</p>\n\n<p>Feel free to use the code included in the original question for your multipart/form-data purposes in java - it works great assuming there are no problems with your original file.</p>\n"}], "owner": {"reputation": 83, "user_id": 3653878, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c04d068953855adea7a8c5c32b52e701?s=128&d=identicon&r=PG&f=1", "display_name": "Shoeheart", "link": "https://stackoverflow.com/users/3653878/shoeheart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1799, "favorite_count": 0, "accepted_answer_id": 34686162, "answer_count": 1, "score": 0, "last_activity_date": 1452287653, "creation_date": 1452117731, "last_edit_date": 1452285704, "question_id": 34643660, "link": "https://stackoverflow.com/questions/34643660/missing-bytes-when-uploading-zip-file-with-multipart-form-data-using-java", "title": "Missing bytes when uploading zip file with multipart/form-data using java", "body": "<p>I'm having an issue with uploading a .zip file to a remote server in that some bytes are missing from the file after the upload. Upon redownloading the file, the .zip archive is unopenable, which leads me to believe that I need those bytes to perform the upload successfully.</p>\n\n<p>I am using a multipart/form-data POST request to upload the file. The utility helper class I use to do this is given in the below code:</p>\n\n<pre><code>import java.io.*;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.net.URLConnection;\nimport java.util.ArrayList;\nimport java.util.LinkedHashMap;\nimport java.util.List;\n\npublic class MultipartFormDataUtil {\n    private final String boundary;\n    private static final String lineReturn = \"\\r\\n\";\n    private HttpURLConnection conn;\n    private DataOutputStream dos;\n    int bytesRead, bytesAvail, bufferSize;\n    byte[] buffer;\n    int maxBufferSize = 1*1024*1024;\n    List&lt;String&gt; response;\n\n    public MultipartFormDataUtil(String postUrl, LinkedHashMap&lt;String, String&gt; params, File file) throws IOException {\n        boundary = \"=-=\" + System.currentTimeMillis() + \"=-=\";\n\n        URL url = new URL(postUrl);\n        conn = (HttpURLConnection) url.openConnection();\n        conn.setDoInput(true);\n        conn.setDoOutput(true);\n        conn.setUseCaches(false);\n        conn.setRequestMethod(\"POST\");\n        conn.setRequestProperty(\"Connection\", \"Keep-Alive\");\n        conn.setRequestProperty(\"Content-Type\", \"multipart/form-data; boundary=\" + boundary);\n        dos = new DataOutputStream(conn.getOutputStream());\n\n        for (String key : params.keySet()) {\n            addFormPart(key, params.get(key));\n        }\n\n        addFilePart(file);\n\n        finish();\n    }\n\n    private void addFormPart(String name, String value) throws IOException {\n        dos.writeBytes(\"--\" + boundary + lineReturn);\n        dos.writeBytes(\"Content-Disposition: form-data; name=\\\"\" + name + \"\\\"\" + lineReturn);\n        dos.writeBytes(\"Content-Type: text/plain\" + lineReturn + lineReturn);\n        dos.writeBytes(value + lineReturn);\n        dos.flush();\n    }\n\n    private void addFilePart(File file) throws IOException {\n        FileInputStream fileInputStream = new FileInputStream(file);\n\n        dos.writeBytes(\"--\" + boundary + lineReturn);\n        dos.writeBytes(\"Content-Disposition: form-data; name=\\\"file\\\"; filename=\\\"\" + file.getName() + \"\\\"\" + lineReturn);\n        dos.writeBytes(\"Content-Type: \" + URLConnection.guessContentTypeFromName(file.getName()) + lineReturn);\n        dos.writeBytes(\"Content-Transfer-Encoding: binary\" + lineReturn + lineReturn);\n\n        bytesAvail = fileInputStream.available();\n        bufferSize = Math.min(bytesAvail, maxBufferSize);\n        buffer = new byte[bufferSize];\n\n        bytesRead = fileInputStream.read(buffer, 0, bufferSize);\n\n        while (bytesRead &gt; 0) {\n            dos.write(buffer, 0, bufferSize);\n            bytesAvail = fileInputStream.available();\n            bufferSize = Math.min(bytesAvail, maxBufferSize);\n            bytesRead = fileInputStream.read(buffer, 0, bufferSize);\n        }\n        dos.flush();\n\n        dos.writeBytes(lineReturn);\n        dos.flush();\n        fileInputStream.close();\n    }\n\n    private void finish() throws IOException {\n        response = new ArrayList&lt;String&gt;();\n\n        dos.writeBytes(\"--\" + boundary + \"--\" + lineReturn);\n        dos.flush();\n        dos.close();\n\n        BufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\n        String line;\n\n        while ((line = reader.readLine()) != null) {\n            response.add(line);\n        }\n\n        reader.close();\n        conn.disconnect();\n    }\n\n    public List&lt;String&gt; getResponse() {\n        return response;\n    }\n</code></pre>\n\n<p>To give credit where credit is due, this utility is based off of examples from <a href=\"http://petersnotes.blogspot.com/2012/03/sending-multipart-form-data-from-java.html\" rel=\"nofollow\">Peter's Notes</a> and <a href=\"http://www.codejava.net/java-se/networking/upload-files-by-sending-multipart-request-programmatically\" rel=\"nofollow\">CodeJava.net</a>. This util is called with the following code:</p>\n\n<pre><code>protected static void postFile(String url, LinkedHashMap&lt;String, String&gt; params, File file) throws Exception {\n    try {\n        MultipartFormDataUtil multipartRequest = new MultipartFormDataUtil(url, params, file);\n        List&lt;String&gt; response = multipartRequest.getResponse();\n\n        for (String line : response) {\n            System.out.println(line);\n        }\n\n    } catch (IOException ioe) {\n        log.warn(\"There was an error posting the file and form data\", ioe);\n    }\n}\n</code></pre>\n\n<p>The upload url in this case is to an Amazon S3 bucket, which passes it on to the destination system. It is at this final destination that I can see that the process that is supposed to be running on the .zip file has failed (note: the process is run by a Rails app and gives the error \"Error identifying package type: can't dup NilClass\"). Upon downloading the file, I see that the file size is 3,110,416 bytes instead of 3,110,466 bytes. I can no longer extract the archive to see what is in it; the mac archive utility responds with \"Error 2 - No such file or directory\".</p>\n\n<p>I lack the conceptual background in this area to get a feel for where in the process things may be going wrong. I am hoping that someone will be able to tell me that I made an error in the utility class, or let me know that something else is the problem.</p>\n\n<p>Thank you for any insight you can provide, and let me know if I can post anything else that would be of help.</p>\n\n<p>EDIT: Some additional information I gathered about different sizes of file uploads (in bytes):</p>\n\n<p>Original----------Uploaded----------Difference</p>\n\n<p>10,167,389______10,167,238______151</p>\n\n<p>3,110,466_______3,110,416_______50</p>\n\n<p>156,885_________156,885_________0</p>\n\n<p>95,639,352______95,637,925______1,427</p>\n\n<p>For the 3 files that had bytes missing following the upload, the % of total data lost was around (but not exactly) 0.0015% for each one, but not equal to each other.</p>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 805, "user_id": 3964160, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/jHyxA.gif?s=128&g=1", "display_name": "PeerNet", "link": "https://stackoverflow.com/users/3964160/peernet"}, "edited": false, "score": 2, "creation_date": 1452117800, "post_id": 34643648, "comment_id": 57033250, "body": "your command prompt may have different coding like ISO-XXXX"}, {"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 5, "creation_date": 1452118050, "post_id": 34643648, "comment_id": 57033372, "body": "You can output exactly the same 16-bit &quot;Unicode code point&quot; to a Windows command prompt, a notepad text file, a Linux terminal or an MS-Word file ... and you might see four different &quot;characters&quot; rendered.  Extraordinarily helpful link: <a href=\"http://www.joelonsoftware.com/articles/Unicode.html\" rel=\"nofollow noreferrer\">The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)</a>"}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 2646259, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dVd5j.jpg?s=128&g=1", "display_name": "Garrett A. Hughes", "link": "https://stackoverflow.com/users/2646259/garrett-a-hughes"}, "edited": false, "score": 2, "creation_date": 1452120030, "post_id": 34644155, "comment_id": 57034311, "body": "Thanks Chris. Key was &quot; Windows console does not support Unicode.&quot; There is another good discussion on this same topic at <a href=\"http://stackoverflow.com/questions/1259084/what-encoding-code-page-is-cmd-exe-using\" title=\"what encoding code page is cmd exe using\">stackoverflow.com/questions/1259084/&hellip;</a>"}], "tags": [], "owner": {"reputation": 8784, "user_id": 786223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fi4pw.jpg?s=128&g=1", "display_name": "Chris Nauroth", "link": "https://stackoverflow.com/users/786223/chris-nauroth"}, "is_accepted": true, "score": 1, "last_activity_date": 1452119677, "last_edit_date": 1495540746, "creation_date": 1452119677, "answer_id": 34644155, "question_id": 34643648, "link": "https://stackoverflow.com/questions/34643648/trying-to-print-white-smiling-face-using-utf-16-character-code-u263a/34644155#34644155", "title": "Trying to print &quot;white smiling face&quot; using UTF-16 character code \\u263A", "body": "<p>This is not really a problem in your code.  As commenters have pointed out, there is a difference between writing a Unicode code point and how your applications or OS choose to render a sequence of bytes as a character.  Here is what I get on Mac:</p>\n\n<pre><code>&gt; javac TestWhiteSmilingFace.java &amp;&amp; java TestWhiteSmilingFace\n\u263a\n</code></pre>\n\n<p>The Windows console does not support Unicode output though.  Instead, it operates on Windows <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd317752(v=vs.85).aspx\" rel=\"nofollow noreferrer\">Code Pages</a>.</p>\n\n<p>If you are willing to pipe output to a separate file and then open it in Notepad, then here is an approach that has worked successfully for me.</p>\n\n<ol>\n<li>Start cmd.exe with the <code>/U</code> option.  As discussed in <a href=\"https://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/cmd.mspx?mfr=true\" rel=\"nofollow noreferrer\">cmd documentation</a>, This option forces command output redirected to a file to be in Unicode.</li>\n<li>Redirect the command output to a file, i.e. <code>java TestWhiteSmilingFace &gt; TestWhiteSmilingFace.txt</code>.</li>\n<li>Open the file in Notepad, i.e. <code>notepad TestWhiteSmilingFace.txt</code>.</li>\n</ol>\n\n<p>This prior answer discusses the Windows console Unicode limitation in more detail and also suggests using the <a href=\"https://technet.microsoft.com/en-us/library/dd819514.aspx\" rel=\"nofollow noreferrer\">PowerShell Integrated Scripting Environment</a> as a potential workaround.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5796339/printing-unicode-characters-to-powershell-prompt\">Printing Unicode characters to the PowerShell prompt</a></p>\n"}], "owner": {"reputation": 145, "user_id": 2646259, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dVd5j.jpg?s=128&g=1", "display_name": "Garrett A. Hughes", "link": "https://stackoverflow.com/users/2646259/garrett-a-hughes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 796, "favorite_count": 0, "accepted_answer_id": 34644155, "answer_count": 1, "score": 1, "last_activity_date": 1452120207, "creation_date": 1452117680, "last_edit_date": 1452120207, "question_id": 34643648, "link": "https://stackoverflow.com/questions/34643648/trying-to-print-white-smiling-face-using-utf-16-character-code-u263a", "title": "Trying to print &quot;white smiling face&quot; using UTF-16 character code \\u263A", "body": "<p>I am trying to print the \"white smiling face\" to the console window using the following line of code in Java:</p>\n\n<pre><code>System.out.println( '\\u263A' );\n</code></pre>\n\n<p>I do not get Smiley but some other character that looks a little like a question mark.</p>\n\n<p>I am running the Windows 7 Pro operating system using jdk and jre versions 1.8.0_66  Any hints as to why?</p>\n\n<p>Note: I am using the Consolas font in the console window which maps the code to the ideograph according to the character map dialogue.</p>\n"}, {"tags": ["java", "embedded-linux", "armv7"], "answers": [{"comments": [{"owner": {"reputation": 2481, "user_id": 421467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wkFyw.jpg?s=128&g=1", "display_name": "Dr.jacky", "link": "https://stackoverflow.com/users/421467/dr-jacky"}, "edited": false, "score": 0, "creation_date": 1465192837, "post_id": 34644174, "comment_id": 62780640, "body": "My downloaded JRE for ARM has &#39;libawt.so&#39; and &#39;libawt_headless.so&#39; only.Is it possible to show GUI still?"}, {"owner": {"reputation": 2001, "user_id": 429082, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/75f3ccb669c2304d8c84ade1cd903eaa?s=128&d=identicon&r=PG", "display_name": "Tustin2121", "link": "https://stackoverflow.com/users/429082/tustin2121"}, "reply_to_user": {"reputation": 2481, "user_id": 421467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wkFyw.jpg?s=128&g=1", "display_name": "Dr.jacky", "link": "https://stackoverflow.com/users/421467/dr-jacky"}, "edited": false, "score": 1, "creation_date": 1465239035, "post_id": 34644174, "comment_id": 62807955, "body": "Did you try? If you try to do anything requiring a head (things like showing or maybe even creating a JFrame), Java will throw a HeadlessException if it can&#39;t show a gui. I think even doing things like trying to create a Dimension object can throw HeadlessExceptions."}], "tags": [], "owner": {"reputation": 2001, "user_id": 429082, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/75f3ccb669c2304d8c84ade1cd903eaa?s=128&d=identicon&r=PG", "display_name": "Tustin2121", "link": "https://stackoverflow.com/users/429082/tustin2121"}, "is_accepted": true, "score": 2, "last_activity_date": 1452119794, "creation_date": 1452119794, "answer_id": 34644174, "question_id": 34643571, "link": "https://stackoverflow.com/questions/34643571/how-do-i-make-jrecreate-compile-a-headful-jre/34644174#34644174", "title": "How do I make JRECreate compile a headful JRE?", "body": "<p>Apparently including the <code>lib/arm/libawt_xawt.so</code> file from another distribution (like the already headful HardFP one) is enough to tell Java to not be in headless mode anymore, and to properly load the awt library.</p>\n\n<p>So for future people suffering this (such as, inevitably, myself when I have to update to Java 9), the difference between headless and headful Java is the presence of a single library file, and you have to Frankenstein parts together to do Oracle's job for them.</p>\n"}], "owner": {"reputation": 2001, "user_id": 429082, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/75f3ccb669c2304d8c84ade1cd903eaa?s=128&d=identicon&r=PG", "display_name": "Tustin2121", "link": "https://stackoverflow.com/users/429082/tustin2121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 440, "favorite_count": 0, "accepted_answer_id": 34644174, "answer_count": 1, "score": 0, "last_activity_date": 1452119794, "creation_date": 1452117325, "question_id": 34643571, "link": "https://stackoverflow.com/questions/34643571/how-do-i-make-jrecreate-compile-a-headful-jre", "title": "How do I make JRECreate compile a headful JRE?", "body": "<p>I have an embedded ARMv7 instrument that needs a Soft Floating Point version of Java 8. (If I use a HardFP version, the machine literally acts like it doesn't exist, but a SoftFP version it works fine with.) However, since Java 8, Oracle stopped supplying SoftFP downloads, and instead gave us a \"JRECreate\" thing that's supposed to be able to fill our needs.</p>\n\n<p>Except I also need a headful (ie, NOT headless) version of the JRE, and for some reason the program only seems to output Headless versions of the JRE, and there doesn't seem to be a way to make it NOT headless. The <a href=\"https://docs.oracle.com/javase/8/embedded/develop-apps-platforms/jrecreate.htm#CACDGBGB\" rel=\"nofollow\">\"documentation\"</a> is useless, of course. Is there any way to do this??</p>\n\n<p>Failing that, where do I find a version of Java to compile myself, since Oracle seems to not want to support what I need?</p>\n"}, {"tags": ["java", "playback", "audio-player"], "comments": [{"owner": {"reputation": 4587, "user_id": 3447827, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n08Vz.jpg?s=128&g=1", "display_name": "durbnpoisn", "link": "https://stackoverflow.com/users/3447827/durbnpoisn"}, "edited": false, "score": 0, "creation_date": 1452117439, "post_id": 34643552, "comment_id": 57033060, "body": "You haven&#39;t found that because it doesn&#39;t exist.  You would need something that can analyze the waveform and &quot;normalize&quot; it on the fly.  That in itself would take up WAY too much in the way of resources.  You&#39;ll have to figure out how to normalize your volumes outside the app."}, {"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 0, "creation_date": 1452117787, "post_id": 34643552, "comment_id": 57033241, "body": "The problem isn&#39;t well defined. What does it mean for two audio files to be played equally loud? What if you have a recording with monotonic loudness and another that is mostly silent but with a sharp peak at some point?"}], "answers": [{"comments": [{"owner": {"reputation": 215, "user_id": 2887326, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/edc28a4953d7453c73635d514573b497?s=128&d=identicon&r=PG&f=1", "display_name": "zFr3eak", "link": "https://stackoverflow.com/users/2887326/zfr3eak"}, "edited": false, "score": 0, "creation_date": 1452123402, "post_id": 34643649, "comment_id": 57035626, "body": "This was excactly i was looking for! Unfortunately Mixxx is written in C, but i would need some kind of libary or piece of code for java."}, {"owner": {"reputation": 35016, "user_id": 1273080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4cf74649b70fc946650115e0d5067ebe?s=128&d=identicon&r=PG", "display_name": "Petr Jane\u010dek", "link": "https://stackoverflow.com/users/1273080/petr-jane%c4%8dek"}, "reply_to_user": {"reputation": 215, "user_id": 2887326, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/edc28a4953d7453c73635d514573b497?s=128&d=identicon&r=PG&f=1", "display_name": "zFr3eak", "link": "https://stackoverflow.com/users/2887326/zfr3eak"}, "edited": false, "score": 0, "creation_date": 1546002262, "post_id": 34643649, "comment_id": 94755650, "body": "@zFr3eak <a href=\"https://www.google.com/search?q=java+replaygain\" rel=\"nofollow noreferrer\">google.com/search?q=java+replaygain</a> Does not give any spectacularly great results, so you&#39;ll need to implement it on your own, or write a JNI wrapper around an existing native library. Good luck!"}], "tags": [], "owner": {"reputation": 532, "user_id": 3049908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5a7f92ff124203b5e5d1b3d9a15f171?s=128&d=identicon&r=PG&f=1", "display_name": "maxime.bochon", "link": "https://stackoverflow.com/users/3049908/maxime-bochon"}, "is_accepted": false, "score": 3, "last_activity_date": 1452120197, "last_edit_date": 1452120197, "creation_date": 1452117682, "answer_id": 34643649, "question_id": 34643552, "link": "https://stackoverflow.com/questions/34643552/same-volume-for-all-mp3-files-in-java/34643649#34643649", "title": "Same volume for all MP3 Files in JAVA", "body": "<p>What you are looking for is called \"<a href=\"https://en.wikipedia.org/wiki/ReplayGain\" rel=\"nofollow\">ReplayGain</a>\" and is specified <a href=\"http://wiki.hydrogenaud.io/index.php?title=ReplayGain_specification\" rel=\"nofollow\">here</a>.</p>\n\n<p>Tunes with nowadays masterings (see \"<a href=\"https://en.wikipedia.org/wiki/Loudness_war\" rel=\"nofollow\">loundness war</a>\") will have their volume lowered whereas older tunes will have their volume turned up so that the global perceived loundness stays the same.</p>\n\n<p>Since the whole audio data is analysed to determine the value of the gain to apply, it is usually done once and then store as metadata (provided the audio format supports it, which is at least the case for MP3, FLAC, OGG and AAC).</p>\n\n<p>It is implemented for instance in the free audio player Foobar2000, which does it quite efficiently, both track-wise and album-wise. Indeed, in some albums, it is a good practice to apply the same gain to all of its tracks when played as a whole.</p>\n\n<p>The open source DJ software <a href=\"http://www.mixxx.org/\" rel=\"nofollow\">Mixxx</a> provides this feature, so you should be able to find some piece of code related to ReplayGain in their repository.</p>\n\n<p>In some cases of signals with low energy but high peaks, be careful to prevent clipping by either curbing the ReplainGain effect, or by adding a limiter at then end of the audio chain.</p>\n"}], "owner": {"reputation": 215, "user_id": 2887326, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/edc28a4953d7453c73635d514573b497?s=128&d=identicon&r=PG&f=1", "display_name": "zFr3eak", "link": "https://stackoverflow.com/users/2887326/zfr3eak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1098, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1545999143, "creation_date": 1452117275, "last_edit_date": 1545999143, "question_id": 34643552, "link": "https://stackoverflow.com/questions/34643552/same-volume-for-all-mp3-files-in-java", "title": "Same volume for all MP3 Files in JAVA", "body": "<p>I am writing an Java based Music Player which also should automatically change the volume levels of all mp3 to the same.</p>\n\n<p>For example some mp3's are a bit louder than others and therefore I would like to have a player which automatically can adjust the volume levels to the same. So too quiet songs should be a bit louder and too loud songs should be more quiet. In the end they should be on the same level so that I do not have to change the devices volume. </p>\n\n<p>I have searched the internet but didn't find any solution how to do this in JAVA.</p>\n"}, {"tags": ["java", "paradox", "birthday-paradox"], "comments": [{"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 1, "creation_date": 1452118231, "post_id": 34643440, "comment_id": 57033454, "body": "Method <code>iteration()</code> should return boolean, for whether or not there are students with same birthday. Number of true values returned divided by number of calls equals probability."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5754520, "user_type": "registered", "profile_image": "https://graph.facebook.com/1006858402708186/picture?type=large", "display_name": "Marnix", "link": "https://stackoverflow.com/users/5754520/marnix"}, "edited": false, "score": 0, "creation_date": 1452205999, "post_id": 34643710, "comment_id": 57078602, "body": "Thanks for your help, changed it into a local variable so it would refresh every iteration.  After that it worked! LCG stands for linear congruential generator, it is a way of making random numbers. Because I had to implement it into the birthday paradox, part of its code was already there."}], "tags": [], "owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "is_accepted": true, "score": 4, "last_activity_date": 1452119064, "last_edit_date": 1452119064, "creation_date": 1452117965, "answer_id": 34643710, "question_id": 34643440, "link": "https://stackoverflow.com/questions/34643440/birthday-paradox/34643710#34643710", "title": "Birthday paradox", "body": "<p>You are not clearing the <code>birthdaySet</code> between iterations. Change it from a field to a local variable will prevent errors like that, because why would you need it as a field in the first place?</p>\n\n<p>On a different note, <code>generateBirthday</code> should use <code>Random.nextInt(DAYS_IN_YEAR)</code>. An instance of <code>Random</code> is a prime candidate as field. What is that <code>LCG random;</code> line anyway?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Method <code>iteration()</code> should return boolean, for whether or not there are students with same birthday. Number of true values returned divided by number of calls equals probability.</p>\n\n<p>Since there is a relative small number of days in a year, a boolean array will be faster than a <code>Set</code>, so here is updated code:</p>\n\n<pre><code>private static final int DAYS_IN_YEAR = 365;\nprivate static final int NUMBER_OF_SIMULATIONS = 500;\nprivate Random rnd = new Random();\nprivate int generateBirthday() {\n    return this.rnd.nextInt(DAYS_IN_YEAR);\n}\nprivate boolean iteration(int numberOfStudents) { //one iteration from the simulation\n    boolean[] present = new boolean[DAYS_IN_YEAR];\n    for (int i = 0; i &lt; numberOfStudents; i++) {\n        int birthday = generateBirthday();\n        if (present[birthday])\n            return true;\n        present[birthday] = true;\n    }\n    return false;\n}\nvoid simulation(int numberOfStudents){\n    int count = 0;\n    for (int i = 0; i &lt; NUMBER_OF_SIMULATIONS; i++)\n        if (iteration(numberOfStudents))\n            count++;\n    System.out.printf(\"For n=%d -&gt; P=%.4f%n\", numberOfStudents, (double)count/NUMBER_OF_SIMULATIONS);\n}\n</code></pre>\n\n<p><strong>Sample Output</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>For n=10 -&gt; P=0.1340\nFor n=20 -&gt; P=0.4120\nFor n=23 -&gt; P=0.5080\nFor n=35 -&gt; P=0.8160\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>For n=10 -&gt; P=0.1200\nFor n=20 -&gt; P=0.4120\nFor n=23 -&gt; P=0.5260\nFor n=35 -&gt; P=0.8140\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>For n=10 -&gt; P=0.1260\nFor n=20 -&gt; P=0.3920\nFor n=23 -&gt; P=0.5080\nFor n=35 -&gt; P=0.7920\n</code></pre>\n\n<p>Increasing <code>NUMBER_OF_SIMULATIONS</code> to <code>5_000_000</code>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>For n=10 -&gt; P=0.1167\nFor n=20 -&gt; P=0.4113\nFor n=23 -&gt; P=0.5075\nFor n=35 -&gt; P=0.8145\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>For n=10 -&gt; P=0.1168\nFor n=20 -&gt; P=0.4113\nFor n=23 -&gt; P=0.5072\nFor n=35 -&gt; P=0.8142\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 5754520, "user_type": "registered", "profile_image": "https://graph.facebook.com/1006858402708186/picture?type=large", "display_name": "Marnix", "link": "https://stackoverflow.com/users/5754520/marnix"}, "edited": false, "score": 0, "creation_date": 1452206074, "post_id": 34643838, "comment_id": 57078629, "body": "Thank you too, I interpreted the birthday paradox wrong. I updated my code and it works!"}], "tags": [], "owner": {"reputation": 1057, "user_id": 4153464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/D55Mz.jpg?s=128&g=1", "display_name": "Work of Artiz", "link": "https://stackoverflow.com/users/4153464/work-of-artiz"}, "is_accepted": false, "score": 1, "last_activity_date": 1452118428, "creation_date": 1452118428, "answer_id": 34643838, "question_id": 34643440, "link": "https://stackoverflow.com/questions/34643440/birthday-paradox/34643838#34643838", "title": "Birthday paradox", "body": "<p>As andreas already states birthdaySet should be cleared between iterations or the set will contain data from the previous simulation</p>\n\n<p>However there's another fatal flaw in your design, to see it look at the wikipedia page:</p>\n\n<p><strong>In probability theory, the birthday problem or birthday paradox concerns the probability that, in a set of n randomly chosen people, some pair of them will have the same birthday.</strong></p>\n\n<p>It's the chance that there exists at least 2 people with the same birthday. That means that as soon as 2 are equal 1 should be returned.</p>\n\n<p>I've summed it up in the code below</p>\n\n<pre><code>import java.util.HashSet;\nimport java.util.Random;\n\npublic class BirthdayProblem2 {\n    static final int DAYS_IN_YEAR = 365;\n    static final int NUMBER_OF_SIMULATIONS = 500;\n\n    Random random;\n    HashSet&lt;Integer&gt; birthdaySet = new HashSet&lt;Integer&gt;();\n\n    BirthdayProblem2() { random = new Random(); }\n\n    int generateBirthday() { return random.nextInt(DAYS_IN_YEAR); }\n\n    double iteration(int numberOfStudents) { //one iteration from the simulation\n        birthdaySet.clear();\n\n        for (int i = 0; i &lt; numberOfStudents; i++) {\n            int bd = generateBirthday();\n\n            if (birthdaySet.contains(bd)) {\n                return 1.0;\n            }\n\n            birthdaySet.add(bd);\n        }\n\n        return 0.0;\n    }\n\n    void simulation(int numberOfStudents) {\n        double probabilitySum = 0;\n\n        for (int i = 0; i &lt; NUMBER_OF_SIMULATIONS; i++) {\n            probabilitySum += iteration(numberOfStudents);\n        }\n\n        System.out.printf(\"For n = %d -&gt; P = %.4f \\n\", numberOfStudents, probabilitySum / NUMBER_OF_SIMULATIONS);\n    }\n\n    private void start() {\n        simulation(10); //should be about 0.1\n        simulation(20); //should be about 0.4\n        simulation(23); //should be about 0.5\n        simulation(35); //should be about 0.8\n    }\n\n    public static void main(String... whatever) { new BirthdayProblem2().start(); }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5754520, "user_type": "registered", "profile_image": "https://graph.facebook.com/1006858402708186/picture?type=large", "display_name": "Marnix", "link": "https://stackoverflow.com/users/5754520/marnix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1263, "favorite_count": 0, "accepted_answer_id": 34643710, "answer_count": 2, "score": 0, "last_activity_date": 1452119064, "creation_date": 1452116783, "last_edit_date": 1452117052, "question_id": 34643440, "link": "https://stackoverflow.com/questions/34643440/birthday-paradox", "title": "Birthday paradox", "body": "<p>I want to simulate the birthday paradox in java. For some reason my output(probability) keeps getting very close to 1 e.g. simulation(10)->0,9268. In start you can see the probabilities my simulations should be close to. I have been looking for a mistake in my code for quite a while now so i hope any of you might be able to help me. I've looked up other codes of the birthday paradox but none of them seem able to help me with my strange output.\np.s. you can ignore the //TODO, ill fix that once i get the code up and running.\nThanks is advance!</p>\n\n<pre><code>static final int DAYS_IN_YEAR = 365;\nstatic final int NUMBER_OF_SIMULATIONS = 500; \n\nLCG random;\nHashSet&lt;Integer&gt; birthdaySet = new HashSet&lt;Integer&gt;();\n\nBirthdayProblem2(){\n    birthdaySet.clear();\n    random = new LCG(); //random numbers between 0 and 1\n}\n\nint generateBirthday(){ //generates random birthday\n    return (int) Math.round(Math.random()*DAYS_IN_YEAR); //TODO use LGC\n}\n\ndouble iteration(int numberOfStudents){ //one iteration from the simulation\n    int sameBirthdays = 0;\n\n    for (int i = 0; i &lt; numberOfStudents; i++){\n        int bd = generateBirthday();\n\n        if (birthdaySet.contains(bd)){\n            sameBirthdays++;\n        } else {\n            birthdaySet.add(bd);\n        }           \n    }\n    return (double) sameBirthdays/numberOfStudents; //probability of two students having the same birthday\n}\n\nvoid simulation(int numberOfStudents){\n    double probabilitySum = 0;\n    for (int i = 0; i &lt; NUMBER_OF_SIMULATIONS; i++){\n        probabilitySum += iteration(numberOfStudents);\n    }\n    System.out.printf(\"For n=%d -&gt; P=%.4f \\n\", numberOfStudents, probabilitySum/NUMBER_OF_SIMULATIONS);\n}\n\nprivate void start() {\n\n    simulation(10); //should be about 0.1\n    simulation(20); //should be about 0.4\n    simulation(23); //should be about 0.5\n    simulation(35); //should be about 0.8\n}\n\npublic static void main(String[] argv) {\n    new BirthdayProblem2().start();\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["java", "jersey", "jax-rs", "multipartform-data"], "answers": [{"comments": [{"owner": {"reputation": 1940, "user_id": 1251787, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2fd207b0ac82e637b82c099e33df1790?s=128&d=identicon&r=PG", "display_name": "Mehdi", "link": "https://stackoverflow.com/users/1251787/mehdi"}, "edited": false, "score": 0, "creation_date": 1452154710, "post_id": 34646196, "comment_id": 57045686, "body": "Thanks about your response. In your example you sent just one file. In my case, i have a list of file !"}, {"owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "reply_to_user": {"reputation": 1940, "user_id": 1251787, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2fd207b0ac82e637b82c099e33df1790?s=128&d=identicon&r=PG", "display_name": "Mehdi", "link": "https://stackoverflow.com/users/1251787/mehdi"}, "edited": false, "score": 0, "creation_date": 1452156754, "post_id": 34646196, "comment_id": 57046694, "body": "I haven&#39;t tried it, but I imagine you can create a bunch of <code>filePart</code> and just append them with the <code>bodyPart</code> method. Weather or not the same part name &quot;file&quot; will work for all the files, I am not sure, but I <i>think</i> it <i>should</i> works. Also the <code>List&lt;InputStream&gt;</code> on the server side, I would imagine it should work also. Please give it a shot, and let me know what happens. I don&#39;t have my tools right now to test it out"}, {"owner": {"reputation": 1940, "user_id": 1251787, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2fd207b0ac82e637b82c099e33df1790?s=128&d=identicon&r=PG", "display_name": "Mehdi", "link": "https://stackoverflow.com/users/1251787/mehdi"}, "edited": false, "score": 0, "creation_date": 1452159019, "post_id": 34646196, "comment_id": 57048170, "body": "<code>bodyPart</code> in <code>FormDataMultiPart</code> take just one object and there is no <code>append</code> method. Imagine I have:  <code>FileDataBodyPart filePart1 = new FileDataBodyPart(&quot;file1&quot;, listfile.get(0));</code>  <code>FileDataBodyPart filePart2 = new FileDataBodyPart(&quot;file2&quot;, listfile.get(1));</code>"}, {"owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "reply_to_user": {"reputation": 1940, "user_id": 1251787, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2fd207b0ac82e637b82c099e33df1790?s=128&d=identicon&r=PG", "display_name": "Mehdi", "link": "https://stackoverflow.com/users/1251787/mehdi"}, "edited": false, "score": 0, "creation_date": 1452159366, "post_id": 34646196, "comment_id": 57048411, "body": "You can call it multiple times. It&#39;s like a builder."}, {"owner": {"reputation": 1940, "user_id": 1251787, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2fd207b0ac82e637b82c099e33df1790?s=128&d=identicon&r=PG", "display_name": "Mehdi", "link": "https://stackoverflow.com/users/1251787/mehdi"}, "edited": false, "score": 0, "creation_date": 1452159417, "post_id": 34646196, "comment_id": 57048453, "body": "You mean <code>new FormDataMultiPart() \t\t\t\t            .bodyPart(filePart1).bodyPart(filePart2)</code> ?"}, {"owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "reply_to_user": {"reputation": 1940, "user_id": 1251787, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2fd207b0ac82e637b82c099e33df1790?s=128&d=identicon&r=PG", "display_name": "Mehdi", "link": "https://stackoverflow.com/users/1251787/mehdi"}, "edited": false, "score": 0, "creation_date": 1452159430, "post_id": 34646196, "comment_id": 57048463, "body": "Yes... try and use the same name &quot;file&quot; for each part. I&#39;m curious to see if it works on the server side accepting List&lt;InputStream&gt;"}, {"owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "reply_to_user": {"reputation": 1940, "user_id": 1251787, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2fd207b0ac82e637b82c099e33df1790?s=128&d=identicon&r=PG", "display_name": "Mehdi", "link": "https://stackoverflow.com/users/1251787/mehdi"}, "edited": false, "score": 0, "creation_date": 1452161418, "post_id": 34646196, "comment_id": 57049783, "body": "See my update. I tested and works fine. Try messing around with the version of your dependencies. You should probably delete you answer, because it&#39;s not really an answer."}], "tags": [], "owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "is_accepted": true, "score": 6, "last_activity_date": 1452527563, "last_edit_date": 1592644375, "creation_date": 1452132081, "answer_id": 34646196, "question_id": 34643414, "link": "https://stackoverflow.com/questions/34643414/sending-multiple-files-with-jersey-messagebodywriter-not-found-for-multipart-fo/34646196#34646196", "title": "Sending multiple files with Jersey: MessageBodyWriter not found for multipart/form-data", "body": "<p>Jersey uses <code>MessageBodyWriter</code>s to handle serialization of Java objects to the request stream (or response stream on server side, and <code>MessageBodyReader</code>s to handle <em>de</em>-serialization of the response stream (or request stream on server side) into Java objects. You can read more at <a href=\"https://jersey.java.net/documentation/latest/message-body-workers.html\" rel=\"nofollow noreferrer\">JAX-RS Entity Providers</a>.</p>\n<p>That being said, whenever you see an error like <em>&quot;No MessageBodyReader(Writer) found for type so and so and java type so and so&quot;</em>, it means that there is no serializer to handle the conversion. In you particular case, it is saying that there is not writer that can handle the conversion of an <code>ArrayList</code> to multipart/form-data. This makes sense, as how will the writer know how to make this conversion.</p>\n<p>For multipart, you need to actually use the multipart APIs on the client client side. The writer knows how to convert these API object into the required multipart parts. For the complete list of APIs, you can look at the package <a href=\"https://jersey.java.net/nonav/apidocs/1.8/contribs/jersey-multipart/com/sun/jersey/multipart/package-summary.html\" rel=\"nofollow noreferrer\"><code>com.sun.jersey.multipart </code></a>.</p>\n<p>Here is an example of sending a file</p>\n<pre><code>@POST\n@Consumes(MediaType.MULTIPART_FORM_DATA)\n@Produces(MediaType.TEXT_PLAIN)\npublic String getTest(@FormDataParam(&quot;file&quot;) InputStream in,\n                      @FormDataParam(&quot;file&quot;) FormDataContentDisposition fdc) {\n    try (FileOutputStream out = new FileOutputStream(fdc.getFileName())) {\n        ReaderWriter.writeTo(in, out);\n    } catch (IOException ex) {\n        ex.printStackTrace(System.out);\n        return &quot;Bad $#!t happended&quot;;\n    }\n    return &quot;Upload OK&quot;;\n}\n\n@Test\npublic void doit() {\n    File file = new File(&quot;...&quot;);\n    FileDataBodyPart filePart = new FileDataBodyPart(&quot;file&quot;, file);\n    MultiPart entity = new FormDataMultiPart()\n            .bodyPart(filePart);\n    Client client = Client.create();\n    WebResource resource = client.resource(&quot;http://localhost:9998/service&quot;);\n    ClientResponse response = resource\n            .type(MediaType.MULTIPART_FORM_DATA_TYPE)\n            .post(ClientResponse.class, entity);\n    assertEquals(200, response.getStatus());\n    assertEquals(&quot;Upload OK&quot;, response.getEntity(String.class));\n    response.close();\n}\n</code></pre>\n<p>There's really no documentation for the 1.x support for Jersey multipart. But a lot of times, the best documentation is seen in the tests. So if you want some more examples to go off of, <a href=\"https://github.com/jersey/jersey-1.x/tree/master/contribs/jersey-multipart/src/test/java/com/sun/jersey/multipart\" rel=\"nofollow noreferrer\">look at the tests for jersey-multipart</a>.</p>\n<hr />\n<h2>UPDATE</h2>\n<p>Here is a complete test using Jersey Test Framework. Run it like any other JUnit test. Replace the constants <code>FILE_ONE</code> and <code>FILE_TWO</code> with the location of some arbitrary files on your system. You should see the files saved to your current working directory (most likely the project root)</p>\n<pre><code>import com.sun.jersey.api.client.ClientResponse;\nimport com.sun.jersey.api.core.DefaultResourceConfig;\nimport com.sun.jersey.core.header.ContentDisposition;\nimport com.sun.jersey.core.util.ReaderWriter;\nimport com.sun.jersey.multipart.FormDataBodyPart;\nimport com.sun.jersey.multipart.FormDataMultiPart;\nimport com.sun.jersey.multipart.FormDataParam;\nimport com.sun.jersey.multipart.MultiPart;\nimport com.sun.jersey.multipart.file.FileDataBodyPart;\nimport com.sun.jersey.spi.container.servlet.WebComponent;\nimport com.sun.jersey.test.framework.JerseyTest;\nimport com.sun.jersey.test.framework.WebAppDescriptor;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.List;\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\nimport static org.junit.Assert.assertEquals;\nimport org.junit.Test;\n\n/**\n * Run this like any other JUnit test. Dependencies for test are as follows.\n * \n * &lt;jersey.version&gt;1.19&lt;/jersey.version&gt;\n * \n * &lt;dependency&gt;\n *    &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n *    &lt;artifactId&gt;jersey-servlet&lt;/artifactId&gt;\n *    &lt;version&gt;${jersey.version}&lt;/version&gt;\n * &lt;/dependency&gt;\n * &lt;dependency&gt;\n *    &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n *    &lt;artifactId&gt;jersey-servlet&lt;/artifactId&gt;\n *    &lt;version&gt;${jersey.version}&lt;/version&gt;\n * &lt;/dependency&gt;\n * &lt;dependency&gt;\n *    &lt;groupId&gt;com.sun.jersey.jersey-test-framework&lt;/groupId&gt;\n *    &lt;artifactId&gt;jersey-test-framework-grizzly2&lt;/artifactId&gt;\n *    &lt;version&gt;1.19&lt;/version&gt;\n *    &lt;scope&gt;test&lt;/scope&gt;\n * &lt;/dependency&gt;\n * &lt;dependency&gt;\n *    &lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\n *    &lt;artifactId&gt;jersey-multipart&lt;/artifactId&gt;\n *    &lt;version&gt;${jersey.version}&lt;/version&gt;\n * &lt;/dependency&gt;\n * \n */\npublic class MultipartTest extends JerseyTest {\n    \n\n    @Path(&quot;service&quot;)\n    public static class Service {\n\n        @POST\n        @Consumes(MediaType.MULTIPART_FORM_DATA)\n        @Produces(MediaType.TEXT_PLAIN)\n        public String getTest(@FormDataParam(&quot;file&quot;) List&lt;FormDataBodyPart&gt; files) {\n            for (FormDataBodyPart filePart: files) {\n                ContentDisposition cd = filePart.getContentDisposition();\n                try (FileOutputStream out = new FileOutputStream(cd.getFileName())) {\n                    ReaderWriter.writeTo(filePart.getEntityAs(InputStream.class), out);\n                } catch (IOException ex) {\n                    ex.printStackTrace(System.out);\n                    return &quot;Oops&quot;;\n                }\n            }\n            return &quot;Upload OK&quot;;\n        }\n    }\n\n    public static class AppConfig extends DefaultResourceConfig {\n        public AppConfig() {\n            super(Service.class);\n        }\n    }\n\n    @Override\n    public WebAppDescriptor configure() {\n        return new WebAppDescriptor.Builder()\n                .initParam(WebComponent.RESOURCE_CONFIG_CLASS, \n                           AppConfig.class.getName())\n                .build();\n    }\n    \n    private static final String FILE_ONE = &quot;&lt;enter-a-file-path&gt;&quot;;\n    private static final String FILE_TWO = &quot;&lt;enter-a-file-path&gt;&quot;;\n    \n    @Test\n    public void doit() {\n        File file1 = new File(FILE_ONE);\n        File file2 = new File(FILE_TWO);\n        MultiPart entity = new FormDataMultiPart();\n        FileDataBodyPart filePart = new FileDataBodyPart(&quot;file&quot;, file1);\n        entity.bodyPart(filePart);\n        filePart = new FileDataBodyPart(&quot;file&quot;, file2);\n        entity.bodyPart(filePart);\n        \n        ClientResponse response = resource().path(&quot;service&quot;)\n                .type(MediaType.MULTIPART_FORM_DATA_TYPE)\n                .post(ClientResponse.class, entity);\n        assertEquals(200, response.getStatus());\n        assertEquals(&quot;Upload OK&quot;, response.getEntity(String.class));\n        response.close();\n    }\n}\n</code></pre>\n<hr />\n<h2>UPDATE 2 (Jersey 2.x)</h2>\n<p>Here is the same test with Jersey 2.x. Just replace the constants <code>FILE_ONE</code> and <code>FILE_TWO</code> with some file locations on your system, and run the test. The files should be saved to your current working directory.</p>\n<pre><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.List;\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.client.Entity;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\n\nimport org.glassfish.jersey.client.ClientConfig;\nimport org.glassfish.jersey.media.multipart.ContentDisposition;\nimport org.glassfish.jersey.media.multipart.FormDataBodyPart;\nimport org.glassfish.jersey.media.multipart.FormDataMultiPart;\nimport org.glassfish.jersey.media.multipart.FormDataParam;\nimport org.glassfish.jersey.media.multipart.MultiPart;\nimport org.glassfish.jersey.media.multipart.MultiPartFeature;\nimport org.glassfish.jersey.media.multipart.file.FileDataBodyPart;\nimport org.glassfish.jersey.message.internal.ReaderWriter;\nimport org.glassfish.jersey.server.ResourceConfig;\nimport org.glassfish.jersey.test.JerseyTest;\n\nimport org.junit.Test;\nimport static junit.framework.Assert.assertEquals;\n\n/**\n * Run it like any other JUnit test. Required dependencies are as follows:\n * \n *  &lt;dependency&gt;\n *     &lt;groupId&gt;org.glassfish.jersey.test-framework.providers&lt;/groupId&gt;\n *     &lt;version&gt;2.22.1&lt;/version&gt;\n *     &lt;scope&gt;test&lt;/scope&gt;\n *  &lt;/dependency&gt;\n *     &lt;dependency&gt;\n *     &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n *     &lt;artifactId&gt;jersey-media-multipart&lt;/artifactId&gt;\n *     &lt;version&gt;2.22.1&lt;/version&gt;\n *     &lt;scope&gt;test&lt;/scope&gt;\n *  &lt;/dependency&gt;\n * \n */\npublic class Jersey2MultipartTest extends JerseyTest {\n    \n    @Path(&quot;service&quot;)\n    public static class Service {\n\n        @POST\n        @Consumes(MediaType.MULTIPART_FORM_DATA)\n        @Produces(MediaType.TEXT_PLAIN)\n        public String getTest(@FormDataParam(&quot;file&quot;) List&lt;FormDataBodyPart&gt; files) {\n            for (FormDataBodyPart filePart: files) {\n                ContentDisposition cd = filePart.getContentDisposition();\n                try (FileOutputStream out = new FileOutputStream(cd.getFileName())) {\n                    ReaderWriter.writeTo(filePart.getEntityAs(InputStream.class), out);\n                } catch (IOException ex) {\n                    ex.printStackTrace(System.out);\n                    return &quot;Oops&quot;;\n                }\n            }\n            return &quot;Upload OK&quot;;\n        }\n    }\n    \n    @Override\n    public ResourceConfig configure() {\n        return new ResourceConfig(Service.class)\n                .register(MultiPartFeature.class);\n    }\n    \n    @Override\n    public void configureClient(ClientConfig config) {\n        config.register(MultiPartFeature.class);\n    }\n    \n    private static final String FILE_ONE = &quot;&lt;enter-file-location&gt;&quot;;\n    private static final String FILE_TWO = &quot;&lt;enter-file-location&gt;&quot;;\n\n    @Test\n    public void doit() {\n        MultiPart entity = new FormDataMultiPart();\n        addFiles(entity, FILE_ONE, FILE_TWO);\n\n        Response response = target(&quot;service&quot;).request()\n                .post(Entity.entity(entity, MediaType.MULTIPART_FORM_DATA));\n        assertEquals(200, response.getStatus());\n        assertEquals(&quot;Upload OK&quot;, response.readEntity(String.class));\n        response.close();\n    }\n    \n    private void addFiles(MultiPart entity, String... files) {\n        for (String file: files) {\n            FileDataBodyPart filePart = new FileDataBodyPart(&quot;file&quot;, new File(file));\n            entity.bodyPart(filePart);\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1940, "user_id": 1251787, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2fd207b0ac82e637b82c099e33df1790?s=128&d=identicon&r=PG", "display_name": "Mehdi", "link": "https://stackoverflow.com/users/1251787/mehdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7152, "favorite_count": 0, "accepted_answer_id": 34646196, "answer_count": 1, "score": 3, "last_activity_date": 1452527563, "creation_date": 1452116695, "last_edit_date": 1452527550, "question_id": 34643414, "link": "https://stackoverflow.com/questions/34643414/sending-multiple-files-with-jersey-messagebodywriter-not-found-for-multipart-fo", "title": "Sending multiple files with Jersey: MessageBodyWriter not found for multipart/form-data", "body": "<p>I'm new in java rest application.\nI'm trying to run an application, but i have this exception</p>\n\n<pre><code>message com.sun.jersey.api.client.ClientHandlerException: A message body writer for Java type, class java.util.ArrayList, and MIME media type, multipart/form-data, was not found\n\nexception\ncom.sun.jersey.api.client.ClientHandlerException: com.sun.jersey.api.client.ClientHandlerException: A message body writer for Java type, class java.util.ArrayList, and MIME media type, multipart/form-data, was not found\ncom.sun.jersey.client.urlconnection.URLConnectionClientHandler.handle(URLConnectionClientHandler.java:155)\ncom.sun.jersey.api.client.Client.handle(Client.java:652)\ncom.sun.jersey.api.client.WebResource.handle(WebResource.java:682)\ncom.sun.jersey.api.client.WebResource.access$200(WebResource.java:74)\ncom.sun.jersey.api.client.WebResource$Builder.post(WebResource.java:570)\norg.eu.paas.client.APIClient.doPost(APIClient.java:265)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:647)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:728)\norg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n</code></pre>\n\n<p>In <code>APIClient.java:265</code> I have some thing like:</p>\n\n<pre><code>cr = service.path(path)\n    .type(MediaType.MULTIPART_FORM_DATA)\n    .post(ClientResponse.class, listForm);\n</code></pre>\n\n<p>Where <code>listForm</code> is an <code>ArrayList&lt;InputStream&gt;</code> </p>\n\n<p>and in the rest application I have:</p>\n\n<pre><code>@POST\n@Path(\"{appId-appId}/action/Multideploy/env/{envId-envId}\")\n@Consumes(MediaType.MULTIPART_FORM_DATA)    \n@Produces(MediaType.APPLICATION_XML)\nResponse MultideployApplication(\n        @PathParam(\"appId-appId\") String appid, @PathParam(\"envId-envId\") String envid,\n        @FormDataParam(\"file\") List&lt;InputStream&gt; uploadedInputStream);\n</code></pre>\n\n<p>Also in my pom.xml I have these dependencies:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n        &lt;version&gt;1.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-multipart&lt;/artifactId&gt;\n        &lt;version&gt;1.18&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n        &lt;version&gt;1.19&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n        &lt;version&gt;1.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}, {"tags": ["java", "gradle"], "answers": [{"tags": [], "owner": {"reputation": 93, "user_id": 5513582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8bd97a2f86a735627852b0f1554417c?s=128&d=identicon&r=PG&f=1", "display_name": "Dawen Shi", "link": "https://stackoverflow.com/users/5513582/dawen-shi"}, "is_accepted": false, "score": 0, "last_activity_date": 1452125452, "creation_date": 1452125452, "answer_id": 34645232, "question_id": 34643391, "link": "https://stackoverflow.com/questions/34643391/noclassdeffounderror-while-handling-asm-dependency-with-gradle/34645232#34645232", "title": "NoClassDefFoundError while handling asm dependency with gradle", "body": "<p>I have found the solution from Gradle Forum. Now I'm pasting the answer from Muschko, B.</p>\n\n<blockquote>\n  <p>You will also have to provide the external JARs you are depending on\n  when executing the Java command. Gradle does not hook into the Java\n  command magically and provide the external libraries. A good\n  alternatively you can look into is the Application plugin which does\n  something you are looking for out-of-the-box with the run task.</p>\n</blockquote>\n"}], "owner": {"reputation": 93, "user_id": 5513582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8bd97a2f86a735627852b0f1554417c?s=128&d=identicon&r=PG&f=1", "display_name": "Dawen Shi", "link": "https://stackoverflow.com/users/5513582/dawen-shi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 370, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1452125452, "creation_date": 1452116633, "last_edit_date": 1452119272, "question_id": 34643391, "link": "https://stackoverflow.com/questions/34643391/noclassdeffounderror-while-handling-asm-dependency-with-gradle", "title": "NoClassDefFoundError while handling asm dependency with gradle", "body": "<p>When I tried to use gradle to build a program using asm package, I got the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/objectweb/asm/ClassVisitor\n    at analysis.CCMetric.main(CCMetric.java:5)\nCaused by: java.lang.ClassNotFoundException:org.objectweb.asm.ClassVisitor\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 1 more\n</code></pre>\n\n<p>My gradle script is as follow:</p>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'application'\n\nmainClassName = 'analysis.CCMetric'\n\nrepositories {\n    maven { url \"http://repo.maven.apache.org/maven2\" }    \n}\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\ndependencies {\n    compile 'org.ow2.asm:asm-all:5.0.2'\n    compile 'commons-io:commons-io:2.4'\n    compile 'org.jgrapht:jgrapht-core:0.9.1'\n    compile 'asm:asm:3.3.1'\n}\n\njar {\n    manifest {\n        attributes 'Main-Class': 'analysis.CCMetric'\n    }\n    baseName = 'CCMetric'\n    version = '1.0.0'\n}\n\ntask wrapper(type: Wrapper) {\n    gradleVersion = '2.9'\n}\n</code></pre>\n\n<p>I used gradle build to build the project and I run the jar file with java -jar build/libs/CCMetric.jar and then I got the exception as above.</p>\n"}, {"tags": ["java", "arraylist"], "comments": [{"owner": {"reputation": 519, "user_id": 4713326, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh5.googleusercontent.com/-LbGltzw5RQ4/AAAAAAAAAAI/AAAAAAAAD3s/zc4jqyQt5NY/photo.jpg?sz=128", "display_name": "Kevin Mee", "link": "https://stackoverflow.com/users/4713326/kevin-mee"}, "edited": false, "score": 0, "creation_date": 1452116658, "post_id": 34643366, "comment_id": 57032624, "body": "You want to use <code>a.remove(0);</code>"}, {"owner": {"reputation": 20471, "user_id": 1552587, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed783ecfe6b4babe78d4ae5b206ef431?s=128&d=identicon&r=PG", "display_name": "Titus", "link": "https://stackoverflow.com/users/1552587/titus"}, "edited": false, "score": 1, "creation_date": 1452116697, "post_id": 34643366, "comment_id": 57032645, "body": "Try: <code>a.remove((Character)&#39;A&#39;)</code>"}, {"owner": {"reputation": 2006, "user_id": 1093828, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/18e88c5585de60d6efe3ced4716f7f35?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1093828/stefan"}, "edited": false, "score": 0, "creation_date": 1452116759, "post_id": 34643366, "comment_id": 57032684, "body": "I specifically want to remove an object, not an index, as documented here: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#remove(java.lang.Object)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>"}, {"owner": {"reputation": 20471, "user_id": 1552587, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed783ecfe6b4babe78d4ae5b206ef431?s=128&d=identicon&r=PG", "display_name": "Titus", "link": "https://stackoverflow.com/users/1552587/titus"}, "edited": false, "score": 0, "creation_date": 1452116818, "post_id": 34643366, "comment_id": 57032722, "body": "Yes, but <code>&#39;A&#39;</code> is a primitive type and because of that <code>remove(int index)</code> is used instead of <code>remove(Object o)</code>."}, {"owner": {"reputation": 2006, "user_id": 1093828, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/18e88c5585de60d6efe3ced4716f7f35?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1093828/stefan"}, "edited": false, "score": 0, "creation_date": 1455555728, "post_id": 34643366, "comment_id": 58530861, "body": "@Jarrod Roberson The question you referred to as a <b>duplicate</b> does not answer my question here. I am fully aware of the problems that can occur while iterating and removing elements, however the answer to my question is that the remove method is overloaded and the type promotion from char to int causes it to fail."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10677470"}, "edited": false, "score": 0, "creation_date": 1550244008, "post_id": 34643366, "comment_id": 96210137, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/32568261/how-to-avoid-arrayindexoutofboundsexception-or-indexoutofboundsexception\">How to avoid ArrayIndexOutOfBoundsException or IndexOutOfBoundsException?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 1527018, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/62e4e73fe7386a5e9401f90dc98c7584?s=128&d=identicon&r=PG", "display_name": "mic4ael", "link": "https://stackoverflow.com/users/1527018/mic4ael"}, "is_accepted": false, "score": 4, "last_activity_date": 1452116706, "creation_date": 1452116706, "answer_id": 34643416, "question_id": 34643366, "link": "https://stackoverflow.com/questions/34643366/java-arraylist-remove-object-indexoutofboundsexception/34643416#34643416", "title": "Java ArrayList remove object - IndexOutOfBoundsException", "body": "<p>The <code>remove</code> method expects an index and it removes an item at the specified index. You are passing a char, thus it is converted to an integer 65.</p>\n"}, {"comments": [{"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 2, "creation_date": 1452116822, "post_id": 34643426, "comment_id": 57032724, "body": "A is 65, actually, as in the exception message."}, {"owner": {"reputation": 12675, "user_id": 636009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IIQJV.jpg?s=128&g=1", "display_name": "David Conrad", "link": "https://stackoverflow.com/users/636009/david-conrad"}, "edited": false, "score": 2, "creation_date": 1452117660, "post_id": 34643426, "comment_id": 57033181, "body": "It&#39;s not really the ASCII value, it&#39;s the UTF-16 code point, which just happens to be the same as the Latin1 value, which just happens to be the same as the ASCII value. It&#39;s a bit of a pet peeve of mine, people saying ASCII value for code point."}, {"owner": {"reputation": 8555, "user_id": 638028, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xj2Hg.png?s=128&g=1", "display_name": "Klitos Kyriacou", "link": "https://stackoverflow.com/users/638028/klitos-kyriacou"}, "reply_to_user": {"reputation": 12675, "user_id": 636009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IIQJV.jpg?s=128&g=1", "display_name": "David Conrad", "link": "https://stackoverflow.com/users/636009/david-conrad"}, "edited": false, "score": 0, "creation_date": 1452117921, "post_id": 34643426, "comment_id": 57033299, "body": "@DavidConrad I totally agree with you, but I think you meant to say UTF-16 code <i>unit</i>. A code <i>point</i> is absolute and not an encoding."}, {"owner": {"reputation": 12675, "user_id": 636009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IIQJV.jpg?s=128&g=1", "display_name": "David Conrad", "link": "https://stackoverflow.com/users/636009/david-conrad"}, "reply_to_user": {"reputation": 8555, "user_id": 638028, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xj2Hg.png?s=128&g=1", "display_name": "Klitos Kyriacou", "link": "https://stackoverflow.com/users/638028/klitos-kyriacou"}, "edited": false, "score": 0, "creation_date": 1452118012, "post_id": 34643426, "comment_id": 57033354, "body": "@Klitos Thank you. I should indeed have said code <i>unit</i>."}], "tags": [], "owner": {"reputation": 39, "user_id": 4973702, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CUb4J6QL5_w/AAAAAAAAAAI/AAAAAAAAATw/UELimfR9AWQ/photo.jpg?sz=128", "display_name": "Avi Gurfinkel", "link": "https://stackoverflow.com/users/4973702/avi-gurfinkel"}, "is_accepted": false, "score": 1, "last_activity_date": 1452116745, "creation_date": 1452116745, "answer_id": 34643426, "question_id": 34643366, "link": "https://stackoverflow.com/questions/34643366/java-arraylist-remove-object-indexoutofboundsexception/34643426#34643426", "title": "Java ArrayList remove object - IndexOutOfBoundsException", "body": "<pre><code>a.remove()\n</code></pre>\n\n<p>expects to get an integer for the index of the item to be removed. 'A' returns the ASCII value of A which is 64,thus out of the bounds of the array</p>\n"}, {"tags": [], "owner": {"reputation": 166951, "user_id": 1707091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dJrV3.jpg?s=128&g=1", "display_name": "rgettman", "link": "https://stackoverflow.com/users/1707091/rgettman"}, "is_accepted": true, "score": 25, "last_activity_date": 1452117081, "last_edit_date": 1592644375, "creation_date": 1452116768, "answer_id": 34643434, "question_id": 34643366, "link": "https://stackoverflow.com/questions/34643366/java-arraylist-remove-object-indexoutofboundsexception/34643434#34643434", "title": "Java ArrayList remove object - IndexOutOfBoundsException", "body": "<p>There are 2 overloaded <code>remove</code> methods -- <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-int-\" rel=\"noreferrer\">one that takes an <code>int</code> as an index</a>, and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-java.lang.Object-\" rel=\"noreferrer\">one that takes an <code>Object</code></a>, to remove the object reference itself.</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2\" rel=\"noreferrer\">Section 15.12.2 of the JLS</a> covers how Java chooses one method overload over another.</p>\n<blockquote>\n<p>The phases are:</p>\n<ol>\n<li>The first phase (\u00a715.12.2.2) performs overload resolution <strong>without permitting boxing or unboxing conversion</strong>, or the use of variable arity method invocation. If no applicable method is found during this phase then processing continues to the second phase.</li>\n</ol>\n<p>This guarantees that any calls that were valid in the Java programming language before Java SE 5.0 are not considered ambiguous as the result of the introduction of variable arity methods, implicit boxing and/or unboxing. However, the declaration of a variable arity method (\u00a78.4.1) can change the method chosen for a given method method invocation expression, because a variable arity method is treated as a fixed arity method in the first phase. For example, declaring m(Object...) in a class which already declares m(Object) causes m(Object) to no longer be chosen for some invocation expressions (such as m(null)), as m(Object[]) is more specific.</p>\n<ol start=\"2\">\n<li>The second phase (\u00a715.12.2.3) performs overload resolution <strong>while allowing boxing and unboxing</strong>, but still precludes the use of variable arity method invocation. If no applicable method is found during this phase then processing continues to the third phase.</li>\n</ol>\n<p>This ensures that a method is never chosen through variable arity method invocation if it is applicable through fixed arity method invocation.</p>\n<ol start=\"3\">\n<li>The third phase (\u00a715.12.2.4) allows overloading to be combined with variable arity methods, boxing, and unboxing.</li>\n</ol>\n</blockquote>\n<p>(bold emphasis mine)</p>\n<p>Both methods are applicable here, because a <code>char</code> can be promoted to an <code>int</code>, but it can also be boxed to a <code>Character</code>, matching <code>a</code>'s type parameter.  But Java will choose promotion alone before any method that requires boxing, so <code>'A'</code> is promoted to <code>int</code>, hence the value 65.</p>\n<p>You can cast it explicitly to <code>Character</code> if you want to remove by object reference.</p>\n<pre><code>a.remove((Character) 'A');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12675, "user_id": 636009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IIQJV.jpg?s=128&g=1", "display_name": "David Conrad", "link": "https://stackoverflow.com/users/636009/david-conrad"}, "edited": false, "score": 2, "creation_date": 1452117700, "post_id": 34643470, "comment_id": 57033195, "body": "That would remove <code>&#39;B&#39;</code>."}], "tags": [], "owner": {"reputation": 75, "user_id": 5480781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36fd5b37d4cf69f10e423a7bb4ec66aa?s=128&d=identicon&r=PG&f=1", "display_name": "jayachsi", "link": "https://stackoverflow.com/users/5480781/jayachsi"}, "is_accepted": false, "score": 2, "last_activity_date": 1452117752, "last_edit_date": 1452117752, "creation_date": 1452116931, "answer_id": 34643470, "question_id": 34643366, "link": "https://stackoverflow.com/questions/34643366/java-arraylist-remove-object-indexoutofboundsexception/34643470#34643470", "title": "Java ArrayList remove object - IndexOutOfBoundsException", "body": "<p>Should pass index to the remove method of Arraylist. trying replacing this line \na.remove('A'); with</p>\n\n<p>a.remove(0);</p>\n"}, {"tags": [], "owner": {"reputation": 31984, "user_id": 4125191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAHVV.jpg?s=128&g=1", "display_name": "RealSkeptic", "link": "https://stackoverflow.com/users/4125191/realskeptic"}, "is_accepted": false, "score": 4, "last_activity_date": 1452117782, "last_edit_date": 1452117782, "creation_date": 1452117463, "answer_id": 34643597, "question_id": 34643366, "link": "https://stackoverflow.com/questions/34643366/java-arraylist-remove-object-indexoutofboundsexception/34643597#34643597", "title": "Java ArrayList remove object - IndexOutOfBoundsException", "body": "<p>The <code>ArrayList</code> class has two overloads of the method <code>remove</code>. One with an integer parameter, that removes the item at that index, and one with an <code>Object</code> parameter.</p>\n\n<p>You are passing a <code>char</code>. This is neither an <code>int</code> not an <code>Object</code>. So the compiler has to decide which <code>remove</code> it uses: Does it promote the <code>char</code> to an <code>int</code>, or does it box it into a <code>Character</code> which will then be promoted to <code>Object</code>.</p>\n\n<p>Overload resolution in Java always starts without consideration of boxing and unboxing. Therefore it gives priority to the <code>remove(int)</code> overload. So it takes the value of the character <code>A</code>, which is 65, and promotes it to int, which means it will try to remove item #65, when the list only has three items.</p>\n\n<p>To solve this, you need to explicitly tell it to use a <code>Character</code> object, as in: <code>remove(Character.valueOf('A'))</code>.</p>\n"}], "owner": {"reputation": 2006, "user_id": 1093828, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/18e88c5585de60d6efe3ced4716f7f35?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1093828/stefan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6546, "favorite_count": 0, "accepted_answer_id": 34643434, "answer_count": 5, "score": 9, "last_activity_date": 1455562358, "creation_date": 1452116557, "last_edit_date": 1455556106, "question_id": 34643366, "link": "https://stackoverflow.com/questions/34643366/java-arraylist-remove-object-indexoutofboundsexception", "title": "Java ArrayList remove object - IndexOutOfBoundsException", "body": "<p>I am trying to remove an object from an ArrayList, but I keep getting an IndexOutOfBounds Error. Now there is plenty information available why this happens when <strong>iterating</strong> over the ArrayList <strong>while removing</strong>, however I'm not doing that. \nExample:</p>\n\n<pre><code> ArrayList&lt;Character&gt; a = new ArrayList&lt;Character&gt;();\n a.add('A');\n a.add('B');\n a.add('C');\n System.out.println(a);\n a.remove('A');\n System.out.println(a);\n</code></pre>\n\n<p>prints <code>[A, B, C]</code> and then fails with:</p>\n\n<pre><code>java.lang.IndexOutOfBoundsException: Index: 65, Size: 3\n    at java.util.ArrayList.rangeCheck(ArrayList.java:635)\n    at java.util.ArrayList.remove(ArrayList.java:474)\n    at b.&lt;init&gt;(b.java:23)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\n    at bluej.runtime.ExecServer$3.run(ExecServer.java:746)\n</code></pre>\n\n<p>Why is this happening?</p>\n\n<p><strong>EDIT to clarify this question is not a duplicate of <a href=\"https://stackoverflow.com/questions/32568261/how-to-avoid-java-lang-arrayindexoutofboundsexception\">this question</a>:</strong></p>\n\n<p>The specific problem that is occuring here has nothing to do with the usual problems when removing elements while iterating. It is rather caused by the overloaded ArrayList <code>remove</code> method and the automatic type conversion from <code>char</code> to <code>int</code> by java.</p>\n\n<p>This aspect is not covered in the answer of the other question.</p>\n"}, {"tags": ["java", "multithreading", "synchronization", "wait"], "answers": [{"tags": [], "owner": {"reputation": 636, "user_id": 5593397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d90813af2d5aba390dd748d4bed83d6?s=128&d=identicon&r=PG&f=1", "display_name": "marian0", "link": "https://stackoverflow.com/users/5593397/marian0"}, "is_accepted": false, "score": 1, "last_activity_date": 1452117648, "last_edit_date": 1495541722, "creation_date": 1452117122, "answer_id": 34643514, "question_id": 34643342, "link": "https://stackoverflow.com/questions/34643342/what-does-it-mean-to-return-a-value-after-calling-wait/34643514#34643514", "title": "What does it mean to return a value after calling wait()?", "body": "<p>Have a look at <a href=\"https://stackoverflow.com/questions/1036754/difference-between-wait-and-sleep\">this</a>.</p>\n\n<p><strong>Short story</strong>: A waiting thread can be woken up by another one calling notify. So in your case addWorkItem will return false in a thread that called <code>wait()</code> just after another thread calls <code>notify()</code>.</p>\n\n<p>Also having a look at your logic I think you are trying to block the consumer when the queue is empty and awake it when there is job to be done.\nAnd you want the producer not to deliver new jobs until the queue is empty.\nIf this is the case, then calling return after waiting will just close your consumer/producer not letting them finish their jobs when they can. </p>\n"}, {"tags": [], "owner": {"reputation": 85046, "user_id": 217324, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc91a8e29fedbd6a6d7e03a8394009ab?s=128&d=identicon&r=PG", "display_name": "Nathan Hughes", "link": "https://stackoverflow.com/users/217324/nathan-hughes"}, "is_accepted": true, "score": 2, "last_activity_date": 1452136199, "last_edit_date": 1452136199, "creation_date": 1452117125, "answer_id": 34643515, "question_id": 34643342, "link": "https://stackoverflow.com/questions/34643342/what-does-it-mean-to-return-a-value-after-calling-wait/34643515#34643515", "title": "What does it mean to return a value after calling wait()?", "body": "<p>Having the producer maintain a retry buffer does keep  the i value from getting lost, but this still isn't a good way to write the method.</p>\n\n<p>Returning from inside the while loop doesn't make sense. You check the size of the queue, and if it's maxed out you wait around until you get a notification that the size of the queue changed, then inexplicably return false (??). The waiting doesn't really accomplish anything.</p>\n\n<p>The point of waiting in addWorkItem is to delay your thread until the queue has room for the new value. You should wait inside a loop, where when you come out of the wait, your thread reacquires the lock and re-checks the condition (queue size > max) to see if it can add the item yet. </p>\n\n<p>Once the thread has exited from the while loop it is holding the lock, it is sure there's enough room in the queue for the new item (because no other threads can do anything to change the size of the queue while this thread has the lock held), and it can go ahead and add the value to the queue.</p>\n\n<p>You are catching the InterruptedException in an unproductive way, because you catch it, don't bother to restore the interrupt flag, and go back to the top of the while loop. You should be using the interruption to quit waiting and get out of the method. Letting InterruptedException be thrown here would make more sense; the thread running the method should know better how to handle the interruption than this object does.</p>\n\n<p>You shouldn't assume wait returns only when the thread is notified, it can return without a notification. That's one of the reasons to call wait in a loop.</p>\n\n<p>Reworked version:</p>\n\n<pre><code>public synchronized boolean addWorkItem(Integer i) throws InterruptedException {\n    while (queue.size() &gt;= QUEUE_SIZE) {\n        wait();\n    }\n    queue.addLast(i);\n    notify();\n    return true;\n}\n</code></pre>\n\n<p>If you want an excuse to return false from this you could make the method return false if the queue doesn't make room for the new entry within some time frame  (having a timeout can be a good thing in a lot of real-life situations):</p>\n\n<pre><code>public synchronized boolean addWorkItem(Integer i) throws InterruptedException {\n    final long maxWaitTime = 60L * 1000;\n    long totalWaitTime = 0;\n    while (queue.size() &gt;= QUEUE_SIZE &amp;&amp; totalWaitTime &lt;= maxWaitTime) {\n        long waitStartTime = System.currentTimeMillis();\n        wait(maxWaitTime);\n        totalWaitTime += (System.currentTimeMillis() - waitStartTime);\n    }\n    if (queue.size() &gt;= QUEUE_SIZE) {\n        return false;\n    }\n    queue.addLast(i);\n    notify();\n    return true;\n}\n</code></pre>\n\n<p>This will still use the retry buffer (which the first version above it won't do at all), but probably not nearly as much as you are now.</p>\n\n<p>Another thing: you have producer and consumer threads concurrently accessing this, and notify is called for both cases. Since notify only wakes up one thread, it's possible for a thread to get a notification that isn't relevant for it (so the notified thread wakes up, checks its condition and finds it still false, then waits some more, while another thread that the notification actually matters to never finds out about it). There are different ways to solve the problem, you can </p>\n\n<ul>\n<li><p>assign separate locks, one for producers and one for consumers, </p></li>\n<li><p>reduce the timeout passed into the wait method so you're less dependent on getting notified, or </p></li>\n<li><p>you can use notifyAll (less performant but a quick fix).</p></li>\n</ul>\n"}], "owner": {"reputation": 4829, "user_id": 1852230, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1c009726dbacdd3e428afeb48d9eef63?s=128&d=identicon&r=PG", "display_name": "jcm", "link": "https://stackoverflow.com/users/1852230/jcm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 600, "favorite_count": 0, "accepted_answer_id": 34643515, "answer_count": 2, "score": 1, "last_activity_date": 1452139280, "creation_date": 1452116484, "last_edit_date": 1452139280, "question_id": 34643342, "link": "https://stackoverflow.com/questions/34643342/what-does-it-mean-to-return-a-value-after-calling-wait", "title": "What does it mean to return a value after calling wait()?", "body": "<p>In the code below I have a question regarding what happens after I call wait(). In my code, I am returning a value after calling <code>wait()</code>, what does this actually do? I thought that calling <code>wait()</code> suspends the current thread, but what happens to the value <code>i</code> passed to <code>addWorkItem(Integer i)</code> if <code>wait()</code> is called without returning false? You can see in the producer thread that it adds <code>i</code> to a retry buffer if it couldn't be added to the deque. If I don't return false after wait, does the value <code>i</code> just get lost, or is it still there once the thread wakes up?</p>\n\n<pre><code>import java.util.ArrayDeque;\nimport java.util.ArrayList;\nimport java.util.Deque;\nimport java.util.List;\n\n\npublic class ConsumerProducer2 {\n\n    private static int QUEUE_SIZE = 10;\n\n    private Deque&lt;Integer&gt; queue = new ArrayDeque&lt;Integer&gt;(QUEUE_SIZE);\n\n\n    public synchronized boolean addWorkItem(Integer i) {\n        while (queue.size() &gt;= QUEUE_SIZE) {\n            try {\n                wait();\n                return false; // WHAT HAPPENS HERE?\n            } catch (InterruptedException ex) {}\n        }\n\n        queue.addLast(i);\n        notify();\n        return true;\n    }\n\n    public synchronized Integer getWork() {\n        while (queue.size() == 0) {\n            try {\n                wait();\n                return null;  // WHAT HAPPENS HERE?\n            } catch (InterruptedException ex) {\n            }\n        }\n        Integer i = queue.removeFirst();\n        notify();\n        return i;\n    }\n\n    public static void main(String[] args) {\n        new ConsumerProducer2().go();\n    }\n\n    public void go() {\n        ConsumerThread ct = new ConsumerThread();\n        ct.start();\n        ConsumerThread ct2 = new ConsumerThread();\n        ct2.start();\n        ProducerThread pt = new ProducerThread();\n        pt.start();\n    }\n\n    class ConsumerThread extends Thread {\n        public void run() {\n            while(true) {\n\n                Integer work = getWork();\n                if (work == null) {\n                } else {\n                    System.out.println(\"Thread: \" + this.getId() + \" received work: \" + work);\n                }\n            }\n        }\n    }\n\n    class ProducerThread extends Thread {\n        private List&lt;Integer&gt; retryList = new ArrayList&lt;Integer&gt;();\n        public void run() {\n            while(true) {\n                Integer currWork;\n                if (retryList.size() == 0) {\n                    currWork = (int) (Math.random() * 100);\n                } else {\n                    currWork = retryList.remove(0);\n                    System.out.println(\"Thread: \" + this.getId() + \" retrying old work: \" + currWork);\n                }\n                if (!addWorkItem(currWork)) {\n                    System.out.println(\"Thread: \" + this.getId() + \" could not add work (because buffer is probably full): \" + currWork);\n                    retryList.add(currWork);\n                } else {\n                    System.out.println(\"Thread: \" + this.getId() + \" added work to queue: \" + currWork);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "c#"], "comments": [{"owner": {"reputation": 3314, "user_id": 3214889, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/StoMh.png?s=128&g=1", "display_name": "Krythic", "link": "https://stackoverflow.com/users/3214889/krythic"}, "edited": false, "score": 1, "creation_date": 1452119611, "post_id": 34643339, "comment_id": 57034123, "body": "Let me first ask a question: &quot;Are you transferring nuclear launch codes?&quot;. Trust me when I say that you should not even bother caring. This is one of those things that you can&#39;t stop, so don&#39;t bother trying."}], "answers": [{"tags": [], "owner": {"reputation": 147, "user_id": 2863494, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/e8fa9560aca0e6d803d47a6e7636ff1c?s=128&d=identicon&r=PG&f=1", "display_name": "user2863494", "link": "https://stackoverflow.com/users/2863494/user2863494"}, "is_accepted": false, "score": 1, "last_activity_date": 1452117423, "creation_date": 1452117423, "answer_id": 34643587, "question_id": 34643339, "link": "https://stackoverflow.com/questions/34643339/how-secure-are-c-net-and-java-when-connecting-to-external-database-and-sending/34643587#34643587", "title": "How secure are C# .NET and Java when connecting to external database and sending web requests?", "body": "<p>When your traffic is noticed or intercepted it will be freely interpretatable to the reader. You can see an example of such traffic in the console window of your browser, or if you want to view the actual application traffic use a proxy (such as <a href=\"http://www.telerik.com/fiddler\" rel=\"nofollow\">Fiddler2</a>).</p>\n\n<p>If you want to prevent your traffic from being read, you have to take measures to ensure authorization and access control. You can do this by encrypting the traffic with TLS/SSL. If you have web-endpoints you can often enable https trough the libraries configuration. You may need to pass it as a parameter to the code that builds your connection.</p>\n\n<p>Furthermore, it is best practice not to divulge sensitive information in your application output. You will want to use strong passwords and refrain from storing or sending these in plaintext.</p>\n\n<p>I would also advice you to break down the need for securing in smaller bits.</p>\n\n<p>Example:</p>\n\n<p>You are using a lot of different technologies. These all have best practices and guidelines related to security. Separate your applications from your networking/operational assets. Encrypting your communication is a measure in your application. Whereas your MySQL configuration works in a different way entirely, mostly trough configuration. </p>\n"}, {"comments": [{"owner": {"reputation": 709, "user_id": 4156040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/871e567ef8d800efd15416738b19729a?s=128&d=identicon&r=PG&f=1", "display_name": "WinterChild", "link": "https://stackoverflow.com/users/4156040/winterchild"}, "edited": false, "score": 0, "creation_date": 1452811700, "post_id": 34643706, "comment_id": 57345686, "body": "Thank you. This answer is helpful a lot! Everything is much clearer in my head now :)"}], "tags": [], "owner": {"reputation": 5903, "user_id": 1046207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd238ef44734676e8b8fd549f35f0c83?s=128&d=identicon&r=PG", "display_name": "Esoteric Screen Name", "link": "https://stackoverflow.com/users/1046207/esoteric-screen-name"}, "is_accepted": true, "score": 1, "last_activity_date": 1452117955, "creation_date": 1452117955, "answer_id": 34643706, "question_id": 34643339, "link": "https://stackoverflow.com/questions/34643339/how-secure-are-c-net-and-java-when-connecting-to-external-database-and-sending/34643706#34643706", "title": "How secure are C# .NET and Java when connecting to external database and sending web requests?", "body": "<p>\"How secure are Java and C#?\" isn't quite the right question, because the answer depends on what you do rather than the features in the languages. They both have plenty of good options for implementing various types of security in various ways. What really matters in your case is how the machines communicate.</p>\n\n<blockquote>\n  <p>Can you somehow spy on the traffic that is going on between the device (PC / Android device) and the server and find out the user and the password of the database</p>\n</blockquote>\n\n<p>Your clients (the PCs and Android devices) should not be connecting directly to your database. They should submit requests to your server, where you have much more control, and can authenticate clients and validate their data. The server then connects to the DB.</p>\n\n<p>If the clients call the DB directly, not only are the credentials transmitted over the internet, but they must also be present locally on the client in some form. This means that someone could potentially crack your app and get access to them.</p>\n\n<blockquote>\n  <p>or even get the post request parameters that the app is sending?</p>\n</blockquote>\n\n<p>Yes, these can be intercepted and read. Again, preventing this is a matter of how you implement the communication. Use the HTTPS protocol, which you can do in both C# and Java, and the content of your requests will be protected from being intercepted by third parties along the way.</p>\n"}, {"tags": [], "owner": {"reputation": 14282, "user_id": 26310, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0cbe52983c74c530ad3f9e57e10411ec?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/26310/mark"}, "is_accepted": false, "score": 1, "last_activity_date": 1452117958, "creation_date": 1452117958, "answer_id": 34643708, "question_id": 34643339, "link": "https://stackoverflow.com/questions/34643339/how-secure-are-c-net-and-java-when-connecting-to-external-database-and-sending/34643708#34643708", "title": "How secure are C# .NET and Java when connecting to external database and sending web requests?", "body": "<p>Why are you connecting directly to your DB from the Android/WPF apps? </p>\n\n<p>If the MySQL DB is sitting on a secure server, perhaps wrap the database calls/services in RESTful APIs implemented in your PHP solution, then call the APIs from your client apps, this also saves you from writing SQL statements and DB specific tasks in multiple languages (Java/C#)</p>\n\n<p>not knowing your situation makes it hard though...</p>\n"}], "owner": {"reputation": 709, "user_id": 4156040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/871e567ef8d800efd15416738b19729a?s=128&d=identicon&r=PG&f=1", "display_name": "WinterChild", "link": "https://stackoverflow.com/users/4156040/winterchild"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 34643706, "answer_count": 3, "score": 0, "last_activity_date": 1452117958, "creation_date": 1452116461, "question_id": 34643339, "link": "https://stackoverflow.com/questions/34643339/how-secure-are-c-net-and-java-when-connecting-to-external-database-and-sending", "title": "How secure are C# .NET and Java when connecting to external database and sending web requests?", "body": "<p>I am creating 3 applications that are written for different platforms (.NET (C#), Android (Java) and PHP). I'm using C# for the WPF application that is going to run on Windows PCs, PHP on the server side and Java for the mobile app. I am using a MySQL database where I'm storing all the information that 3 apps are going to be using.<br />\nI am using web requests to my Apache server (JSON and POST basically) when I need some specific stuff to do with PHP.<br />\nBut, how safe is:</p>\n\n<ul>\n<li>When I'm connecting to the MySQL database via C# and Java?</li>\n<li>When I'm sending GET and POST web requests with C# and Java?</li>\n</ul>\n\n<p>Can you somehow spy on the traffic that is going on between the device (PC / Android device) and the server and find out the user and the password of the database, or even get the post request parameters that the app is sending?<br />\nBecause I know there are a lot of network-monitoring software and I wouldn't be surprised if this is possible.<br />\nIf it is, then how to avoid it?</p>\n"}, {"tags": ["java", "android"], "comments": [{"owner": {"reputation": 5247, "user_id": 2976366, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/598272362/picture?type=large", "display_name": "tim", "link": "https://stackoverflow.com/users/2976366/tim"}, "edited": false, "score": 0, "creation_date": 1452116393, "post_id": 34643277, "comment_id": 57032487, "body": "TextDrawable? Is this a library if so which one?"}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1452116492, "post_id": 34643277, "comment_id": 57032538, "body": "Please mark which line of code throws the exception and maybe add some more... That&#39;s too little information"}, {"owner": {"reputation": 155, "user_id": 4094496, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bae9f1b366455d1994f544ac0dbf2c75?s=128&d=identicon&r=PG&f=1", "display_name": "cq5beginner", "link": "https://stackoverflow.com/users/4094496/cq5beginner"}, "edited": false, "score": 0, "creation_date": 1452116562, "post_id": 34643277, "comment_id": 57032570, "body": "No it&#39;s the name used in the answer I mentioned <a href=\"http://stackoverflow.com/questions/34643277/android-imageview-setimagedrawable-with-programmatically-created-drawable\">here you can see</a>"}], "answers": [{"comments": [{"owner": {"reputation": 17986, "user_id": 4730812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d336a10204c1cd2e7fa47071ed629669?s=128&d=identicon&r=PG&f=1", "display_name": "piotrek1543", "link": "https://stackoverflow.com/users/4730812/piotrek1543"}, "reply_to_user": {"reputation": 155, "user_id": 4094496, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bae9f1b366455d1994f544ac0dbf2c75?s=128&d=identicon&r=PG&f=1", "display_name": "cq5beginner", "link": "https://stackoverflow.com/users/4094496/cq5beginner"}, "edited": false, "score": 0, "creation_date": 1452117846, "post_id": 34643581, "comment_id": 57033269, "body": "if you feel it&#39;s good answer for your question please mark this post. It would help people with similar problem ;-)"}], "tags": [], "owner": {"reputation": 17986, "user_id": 4730812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d336a10204c1cd2e7fa47071ed629669?s=128&d=identicon&r=PG&f=1", "display_name": "piotrek1543", "link": "https://stackoverflow.com/users/4730812/piotrek1543"}, "is_accepted": false, "score": 2, "last_activity_date": 1452117383, "creation_date": 1452117383, "answer_id": 34643581, "question_id": 34643277, "link": "https://stackoverflow.com/questions/34643277/android-circularimageview-setimagedrawable-with-programmatically-created-drawa/34643581#34643581", "title": "Android - CircularImageView setImageDrawable with programmatically created drawable", "body": "<p>I've already found on GitHub a library, which makes your desired effect:</p>\n\n<blockquote>\n  <h2>TextDrawable</h2>\n  \n  <p>This light-weight library provides images with letter/text like the Gmail app. It extends the <code>Drawable</code> class thus can be used with existing/custom/network <code>ImageView</code> classes. Also included is a <a href=\"http://en.wikipedia.org/wiki/Fluent_interface\" rel=\"nofollow noreferrer\">fluent interface</a> for creating drawables and a customizable <code>ColorGenerator</code>. </p>\n  \n  <p><img src=\"https://i.stack.imgur.com/486Nx.png\" width=\"200\"><img src=\"https://i.stack.imgur.com/FtlLs.png\" width=\"200\"></p>\n  \n  <p><a href=\"https://github.com/amulyakhare/TextDrawable\" rel=\"nofollow noreferrer\">https://github.com/amulyakhare/TextDrawable</a></p>\n</blockquote>\n\n<p>As you wish to create your own implementation, try to read carefully code of this library and step-after-step implement your own version</p>\n\n<p>Hope it help</p>\n"}, {"tags": [], "owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "is_accepted": true, "score": 0, "last_activity_date": 1452118040, "creation_date": 1452118040, "answer_id": 34643738, "question_id": 34643277, "link": "https://stackoverflow.com/questions/34643277/android-circularimageview-setimagedrawable-with-programmatically-created-drawa/34643738#34643738", "title": "Android - CircularImageView setImageDrawable with programmatically created drawable", "body": "<p>The problem you see is because the library you are using does not account for drawables without fixed dimensions.</p>\n\n<p>You can see <a href=\"https://github.com/Pkmmte/CircularImageView/blob/aca59f32d9267c943eb6c930bdaed59c417a4d16/circularimageview/src/main/java/com/pkmmte/view/CircularImageView.java#L401\" rel=\"nofollow\">here</a> that it uses the drawable intrinsic height and width, which both default to <code>-1</code> to suggest that the drawable will just fill any sized bitmap.</p>\n\n<p>To fix your problem you would just need to override <code>getIntrinsicHeight()</code> in <code>TextDrawable</code> to return values > 0.</p>\n\n<pre><code>@Override\npublic int getIntrinsicHeight() {\n    return 88;\n}\n\n@Override\npublic int getIntrinsicWidth() {\n    return 88;\n}\n</code></pre>\n\n<p>This would suggest your drawable to be a size of 88x88px. To further improve this you would need to supply dp -> px values, so that your drawables don't get stretched on higher resolution devices or squeezed on low dpi ones.</p>\n"}], "owner": {"reputation": 155, "user_id": 4094496, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bae9f1b366455d1994f544ac0dbf2c75?s=128&d=identicon&r=PG&f=1", "display_name": "cq5beginner", "link": "https://stackoverflow.com/users/4094496/cq5beginner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 634, "favorite_count": 0, "accepted_answer_id": 34643738, "answer_count": 2, "score": 1, "last_activity_date": 1452118040, "creation_date": 1452116252, "last_edit_date": 1495542681, "question_id": 34643277, "link": "https://stackoverflow.com/questions/34643277/android-circularimageview-setimagedrawable-with-programmatically-created-drawa", "title": "Android - CircularImageView setImageDrawable with programmatically created drawable", "body": "<p>I want to create icons similary to the google contact app.<br>\nI wish to provide a background color and a text and generate the icon.</p>\n\n<p><a href=\"https://i.stack.imgur.com/tuCTS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tuCTS.jpg\" alt=\"enter image description here\"></a>  </p>\n\n<p>What I'm trying at the moment is something like the solution <a href=\"https://stackoverflow.com/questions/9832777/programmatically-creating-icon-to-use-as-itemizedoverlay-drawable-android\">here.</a><br>\nI'm using the <a href=\"https://github.com/Pkmmte/CircularImageView\" rel=\"nofollow noreferrer\">CircularImageView external library</a> and it seems to be the problem. In fact if I try to do:</p>\n\n<pre><code>CircularImageView imageView;\n....\nDrawable d = new TextDrawable(\"My Text\", mycolor, textSize);\nimageView.setImageDrawable(d);\n</code></pre>\n\n<p>I get this error:</p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: width and height must be > 0<br>\n  at android.graphics.Bitmap.createBitmap(Bitmap.java:829)<br>\n       at android.graphics.Bitmap.createBitmap(Bitmap.java:808)<br>\n       at android.graphics.Bitmap.createBitmap(Bitmap.java:775)<br>\n       at com.pkmmte.view.CircularImageView.drawableToBitmap(CircularImageView.java:327)</p>\n</blockquote>\n\n<p>while if I use the standard <strong>ImageView</strong> it works. Any advice?  </p>\n"}, {"tags": ["java", "string", "oop", "methods", "equals"], "comments": [{"owner": {"reputation": 4621, "user_id": 1939638, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vu1kQ.jpg?s=128&g=1", "display_name": "Matt Cremeens", "link": "https://stackoverflow.com/users/1939638/matt-cremeens"}, "edited": false, "score": 2, "creation_date": 1452116081, "post_id": 34643159, "comment_id": 57032313, "body": "Java already has an Object class. Probably should call your class something else."}, {"owner": {"reputation": 232, "user_id": 4844749, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b71cc0c3ca886f5c3bbfde079cfe7cf?s=128&d=identicon&r=PG&f=1", "display_name": "seriously divergent", "link": "https://stackoverflow.com/users/4844749/seriously-divergent"}, "reply_to_user": {"reputation": 4621, "user_id": 1939638, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vu1kQ.jpg?s=128&g=1", "display_name": "Matt Cremeens", "link": "https://stackoverflow.com/users/1939638/matt-cremeens"}, "edited": false, "score": 0, "creation_date": 1452119240, "post_id": 34643159, "comment_id": 57033951, "body": "I know, I changed it, still same result, but i got the answers below. thanks."}], "answers": [{"comments": [{"owner": {"reputation": 12675, "user_id": 636009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IIQJV.jpg?s=128&g=1", "display_name": "David Conrad", "link": "https://stackoverflow.com/users/636009/david-conrad"}, "edited": false, "score": 3, "creation_date": 1452117792, "post_id": 34643202, "comment_id": 57033243, "body": "And when overriding <code>equals</code>, always override <code>hashCode</code>, and vice versa."}], "tags": [], "owner": {"reputation": 736, "user_id": 5606769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hbsyR.jpg?s=128&g=1", "display_name": "TangledUpInBlue", "link": "https://stackoverflow.com/users/5606769/tangledupinblue"}, "is_accepted": false, "score": 2, "last_activity_date": 1452115994, "creation_date": 1452115994, "answer_id": 34643202, "question_id": 34643159, "link": "https://stackoverflow.com/questions/34643159/equals-method-of-objects-is-acting-different-with-string-objects-and-the-objec/34643202#34643202", "title": "equals() method of objects is acting different with String objects and the Objects I created?", "body": "<p>Best practice for a custom class is to overwrite the default equals method.  String have an equals method.  You need to write one for your Object class.  The default is comparing references in memory, not the content of the Strings.</p>\n"}, {"tags": [], "owner": {"reputation": 12324, "user_id": 2254048, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZznEH.png?s=128&g=1", "display_name": "YoungHobbit", "link": "https://stackoverflow.com/users/2254048/younghobbit"}, "is_accepted": true, "score": 7, "last_activity_date": 1452116348, "last_edit_date": 1452116348, "creation_date": 1452115999, "answer_id": 34643203, "question_id": 34643159, "link": "https://stackoverflow.com/questions/34643159/equals-method-of-objects-is-acting-different-with-string-objects-and-the-objec/34643203#34643203", "title": "equals() method of objects is acting different with String objects and the Objects I created?", "body": "<p>The general behavior is, <code>equals()</code> is inherited from <code>Object</code> class into all the java class with its default implementation. All the classes should provide the equality as required for their objects. So if you are writing any custom class (usually POJO) which uses collection framework or uses instance equality, then you should implement the <code>equals()</code> method on the respective instance members.</p>\n\n<pre><code>Object object1 = new Object(\"sam\");\nObject object2 = new Object(\"sam\");\nSystem.out.println(object1 == object2); // False\nSystem.out.println(object1.equals(object2)); // False ( ? Compare with case 2) \n</code></pre>\n\n<p>Because here it is calling the <code>equals()</code> method from the <code>Object</code> class. Which check the reference equality only. Both the objects are different and so <code>false</code>.</p>\n\n<hr>\n\n<pre><code>String an = new String(\"oracle\");\nString bn = new String(\"oracle\");\nSystem.out.println(an == bn); // False\nSystem.out.println(an.equals(bn));// True ( ? Compare with case 3)\n</code></pre>\n\n<p>Here the <code>equals()</code> implementation from <code>String</code> class is invoked, which checks for reference equality and content equality as well so it matches and returns <code>true</code>.</p>\n\n<hr>\n\n<p>If you are overriding the behavior of <code>equals()</code> for any class, it is recommended to override <code>hashCode()</code> method as well.</p>\n"}, {"comments": [{"owner": {"reputation": 232, "user_id": 4844749, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b71cc0c3ca886f5c3bbfde079cfe7cf?s=128&d=identicon&r=PG&f=1", "display_name": "seriously divergent", "link": "https://stackoverflow.com/users/4844749/seriously-divergent"}, "edited": false, "score": 0, "creation_date": 1452119692, "post_id": 34643341, "comment_id": 57034150, "body": "Thank you very much for explanation! I got it."}], "tags": [], "owner": {"reputation": 8652, "user_id": 2040863, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/IspsC.jpg?s=128&g=1", "display_name": "John Hascall", "link": "https://stackoverflow.com/users/2040863/john-hascall"}, "is_accepted": false, "score": 3, "last_activity_date": 1452117269, "last_edit_date": 1452117269, "creation_date": 1452116478, "answer_id": 34643341, "question_id": 34643159, "link": "https://stackoverflow.com/questions/34643159/equals-method-of-objects-is-acting-different-with-string-objects-and-the-objec/34643341#34643341", "title": "equals() method of objects is acting different with String objects and the Objects I created?", "body": "<p>You want to add something like this in the MyObject def:</p>\n\n<pre><code>@Override\npublic boolean equals(Object obj) {\n    if (!(obj instanceof MyObject)) return false;\n    if (obj == this) return true;\n    MyObject that = (MyObject)obj;\n\n    return this.name.equals(that.name);\n}\n</code></pre>\n\n<p>otherwise you will get the <code>equals()</code> method from java's Object class, which is not very useful to you.  The String class defines an <code>equals()</code> method.</p>\n\n<p>And once you give a mouse an <code>equals()</code>, he's going to want a <code>hashCode()</code>...</p>\n\n<pre><code>@Override\npublic int hashCode() {\n    return this.name.hashCode();\n}\n</code></pre>\n"}], "owner": {"reputation": 232, "user_id": 4844749, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b71cc0c3ca886f5c3bbfde079cfe7cf?s=128&d=identicon&r=PG&f=1", "display_name": "seriously divergent", "link": "https://stackoverflow.com/users/4844749/seriously-divergent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 34643203, "answer_count": 3, "score": -1, "last_activity_date": 1471404412, "creation_date": 1452115847, "last_edit_date": 1471404412, "question_id": 34643159, "link": "https://stackoverflow.com/questions/34643159/equals-method-of-objects-is-acting-different-with-string-objects-and-the-objec", "title": "equals() method of objects is acting different with String objects and the Objects I created?", "body": "<p>I am confused with .equals() method for objects in the case 2 and case 3. For the case 1, I can understand that references and the contents are the same, so we got the true, true respectively.</p>\n\n<p>In the case 2, equals() method compares the type and content, and returns true (according to documentation, it first compare the object type and then compares the content). However in the 3rd case, even if the types and contents are the same, it returns False! ?\nIs there any special feature of the String object? Any help/ hint/ explanation is appreciated. </p>\n\n<pre><code>public class equalMethods {\n\nstatic class MyObject {\n\n       String name;\n\n    // constructor\n    MyObject(String s) {\n        this.name = s;\n    }\n}\n\npublic static void main(String[] args) {\n\n    // ***CASE 1****\n    String a = \"str1\"; \n    String b = \"str1\";\n    System.out.println(a == b); // True\n    System.out.println(a.equals(b));// True\n    System.out.println();\n\n    // ***CASE 2****\n    String an = new String(\"oracle\");\n    String bn = new String(\"oracle\");\n    System.out.println(an == bn); // False\n    System.out.println(an.equals(bn));// True ( ? Compare with case 3)\n    System.out.println();\n\n    // // ***CASE 3****\n    MyObject object1 = new MyObject(\"str1\");\n    MyObject object2 = new MyObject(\"str1\");\n    System.out.println(object1 == object2); // False\n    System.out.println(object1.equals(object2)); // False ( ? Compare with case 2) \n    System.out.println();\n\n}\n\n}\n</code></pre>\n"}, {"tags": ["java", "linux", "sonarqube"], "comments": [{"owner": {"reputation": 10115, "user_id": 1263543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8351ca02028e290f64939beb7e1385c1?s=128&d=identicon&r=PG", "display_name": "benzonico", "link": "https://stackoverflow.com/users/1263543/benzonico"}, "edited": false, "score": 0, "creation_date": 1452117970, "post_id": 34643037, "comment_id": 57033329, "body": "Can you precise which version of sonarqube you are using ? also which version of sonar-java plugin is installed on your server ? and finally can you share the whole stack trace which is causing the stackoverflow error ? That would really help to pinpoint the issue."}, {"owner": {"reputation": 12717, "user_id": 821786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b243293209671ed2bcb6b1393cec05?s=128&d=identicon&r=PG", "display_name": "Gergely Bacso", "link": "https://stackoverflow.com/users/821786/gergely-bacso"}, "edited": false, "score": 0, "creation_date": 1452118271, "post_id": 34643037, "comment_id": 57033471, "body": "<i>&quot;will I need to restart the operating-system or will the change take effect on the next scan&quot;</i> - just do a <code>. .bash_profile</code> to get it executed."}, {"owner": {"reputation": 1151, "user_id": 3870315, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bpHmm.jpg?s=128&g=1", "display_name": "user3870315", "link": "https://stackoverflow.com/users/3870315/user3870315"}, "reply_to_user": {"reputation": 12717, "user_id": 821786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b243293209671ed2bcb6b1393cec05?s=128&d=identicon&r=PG", "display_name": "Gergely Bacso", "link": "https://stackoverflow.com/users/821786/gergely-bacso"}, "edited": false, "score": 0, "creation_date": 1452119073, "post_id": 34643037, "comment_id": 57033862, "body": "@GergelyBacso What do you mean? Will not &#39;sonar-runner&#39; pick up the environment-variable from the profile? Also, the command you are suggesting <code>..bash_profile</code>?  I do not think the hidden file .bash_profile is an executable file anyway... Maybe I am completely ignorant of something so please help me understand. :D"}, {"owner": {"reputation": 1151, "user_id": 3870315, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bpHmm.jpg?s=128&g=1", "display_name": "user3870315", "link": "https://stackoverflow.com/users/3870315/user3870315"}, "reply_to_user": {"reputation": 10115, "user_id": 1263543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8351ca02028e290f64939beb7e1385c1?s=128&d=identicon&r=PG", "display_name": "benzonico", "link": "https://stackoverflow.com/users/1263543/benzonico"}, "edited": false, "score": 0, "creation_date": 1452119316, "post_id": 34643037, "comment_id": 57033993, "body": "@benzonico The SonarQube server version is: 4.5.5 The Java plug-in version is: 3.7 I cannot share the entire stack trace because it would violate the company policy. What should I be looking for in said stack trace?"}, {"owner": {"reputation": 1151, "user_id": 3870315, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bpHmm.jpg?s=128&g=1", "display_name": "user3870315", "link": "https://stackoverflow.com/users/3870315/user3870315"}, "reply_to_user": {"reputation": 10115, "user_id": 1263543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8351ca02028e290f64939beb7e1385c1?s=128&d=identicon&r=PG", "display_name": "benzonico", "link": "https://stackoverflow.com/users/1263543/benzonico"}, "edited": false, "score": 0, "creation_date": 1452120190, "post_id": 34643037, "comment_id": 57034381, "body": "@benzonico In the stack-trace it ends with hundreds possibly thousands of probably recursive calls shown here: <code>at org.sonar.java.checks.PreparedStatementAndResultSetCheck.get&zwnj;&#8203;NumberQuery(Prepared&zwnj;&#8203;StatementAndResultSe&zwnj;&#8203;tCheck.java:128)         at org.sonar.java.checks.PreparedStatementAndResultSetCheck.han&zwnj;&#8203;dleStringConcatenati&zwnj;&#8203;on(PreparedStatement&zwnj;&#8203;AndResultSetCheck.ja&zwnj;&#8203;va:144)</code>"}, {"owner": {"reputation": 10115, "user_id": 1263543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8351ca02028e290f64939beb7e1385c1?s=128&d=identicon&r=PG", "display_name": "benzonico", "link": "https://stackoverflow.com/users/1263543/benzonico"}, "edited": false, "score": 0, "creation_date": 1452121180, "post_id": 34643037, "comment_id": 57034782, "body": "This has been fixed in latest version of java plugin, please upgrade to 3.9"}, {"owner": {"reputation": 1151, "user_id": 3870315, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bpHmm.jpg?s=128&g=1", "display_name": "user3870315", "link": "https://stackoverflow.com/users/3870315/user3870315"}, "edited": false, "score": 0, "creation_date": 1452121644, "post_id": 34643037, "comment_id": 57034978, "body": "I only see an option to update to 3.8. Was it fixed in 3.8 by chance?"}, {"owner": {"reputation": 1151, "user_id": 3870315, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bpHmm.jpg?s=128&g=1", "display_name": "user3870315", "link": "https://stackoverflow.com/users/3870315/user3870315"}, "reply_to_user": {"reputation": 10115, "user_id": 1263543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8351ca02028e290f64939beb7e1385c1?s=128&d=identicon&r=PG", "display_name": "benzonico", "link": "https://stackoverflow.com/users/1263543/benzonico"}, "edited": false, "score": 0, "creation_date": 1452122252, "post_id": 34643037, "comment_id": 57035204, "body": "@benzonico I updated the Java plug-in to 3.8 but I still receive the same error."}], "answers": [{"tags": [], "owner": {"reputation": 10115, "user_id": 1263543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8351ca02028e290f64939beb7e1385c1?s=128&d=identicon&r=PG", "display_name": "benzonico", "link": "https://stackoverflow.com/users/1263543/benzonico"}, "is_accepted": true, "score": 1, "last_activity_date": 1452152448, "creation_date": 1452152448, "answer_id": 34649748, "question_id": 34643037, "link": "https://stackoverflow.com/questions/34643037/sonarqube-fails-with-java-lang-stackoverflowerror-how-to-determine-specific-fi/34649748#34649748", "title": "SonarQube Fails With java.lang.StackOverflowError - How to determine specific file causing error", "body": "<p>Given what you precised in comments, it sounds like you are encountering this bug : <a href=\"https://jira.sonarsource.com/browse/SONARJAVA-1346\" rel=\"nofollow\">https://jira.sonarsource.com/browse/SONARJAVA-1346</a> </p>\n\n<p>As shown in jira ticket it has been fixed in 3.9. So you should upgrade to that version (and thus maybe upgrade SonarQube to latest LTS version (4.5.6 if I'm not mistaking)). Workaround would be to deactivate the rule S2695 while waiting for upgrade.</p>\n"}], "owner": {"reputation": 1151, "user_id": 3870315, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bpHmm.jpg?s=128&g=1", "display_name": "user3870315", "link": "https://stackoverflow.com/users/3870315/user3870315"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1735, "favorite_count": 0, "accepted_answer_id": 34649748, "answer_count": 1, "score": 1, "last_activity_date": 1452152448, "creation_date": 1452115415, "question_id": 34643037, "link": "https://stackoverflow.com/questions/34643037/sonarqube-fails-with-java-lang-stackoverflowerror-how-to-determine-specific-fi", "title": "SonarQube Fails With java.lang.StackOverflowError - How to determine specific file causing error", "body": "<p>I am trying to scan some source-code, particularly some Java source files, that fail with <code>java.lang.StackOverflowError</code>. I used my very favourite search engine, Google, to research this some and found some possible solutions. </p>\n\n<p>The best solution I found is here: <a href=\"http://sonarqube-archive.15.x6.nabble.com/StackOverflowException-on-JAVA-AST-analysis-SonarQube-4-5-1-with-java-plugin-2-6-td5030537.html\" rel=\"nofollow\">http://sonarqube-archive.15.x6.nabble.com/StackOverflowException-on-JAVA-AST-analysis-SonarQube-4-5-1-with-java-plugin-2-6-td5030537.html</a> </p>\n\n<p>This solution however does not address explicitly how to a) set the <strong>SONAR_RUNNER_OPTS</strong> environment variable or b) how to locate the specific file that is causing the error in the first place so one can either 1) exclude it, 2) delete it, or 3) figure out some way to mitigate the the problem so the scan can complete successfully.</p>\n\n<p>My questions are:</p>\n\n<ol>\n<li>How to find out which specific file is causing the error, <em>StackOverflowError</em> in this case</li>\n<li>How to set the 'SONAR_RUNNER_OPTS' variable on a Linux operating-system</li>\n</ol>\n\n<p>I have tried to debug the problem in sonar-runner with the -X and -e switches respectively. To run an analysis I use the following command: \n<code>sonar-runner -X -Dsonar.properties=sonar-project.properties &amp;&gt; debug_dump.txt</code> or <code>sonar-runner -e -Dsonar.properties=sonar-project.properties &amp;&gt; dump.txt</code>. This did not help though. </p>\n\n<p>By the way I am using <strong>sonar-runner-2.4</strong>. </p>\n\n<p>To set the environment variable SONAR_RUNNER_OPTS I went to the .bash_profile in my $HOME folder and put this entry in it:<code>SONAR_RUNNER_OPTS=\" -Xss1600k\"</code> Will this actually increase the stack-size for <strong>sonar-runner</strong>?  <strong>Also, will I need to restart the operating-system or will the change take effect on the next scan?</strong></p>\n\n<p>Thank-you for reading this post.</p>\n"}, {"tags": ["java", "jersey", "guice", "jersey-2.0", "dropwizard"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1310957"}, "edited": false, "score": 0, "creation_date": 1456932501, "post_id": 34642987, "comment_id": 59176101, "body": "same issue - did you find a way?"}], "answers": [{"comments": [{"owner": {"reputation": 36, "user_id": 1878496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc7ce64cc71d0dd3d40b41298ef5c029?s=128&d=identicon&r=PG", "display_name": "DJ Erraballi", "link": "https://stackoverflow.com/users/1878496/dj-erraballi"}, "edited": false, "score": 0, "creation_date": 1462845617, "post_id": 37040862, "comment_id": 61796550, "body": "<a href=\"https://github.com/hk2-project/hk2/blob/master/guice-bridge/src/main/java/org/jvnet/hk2/guice/bridge/internal/GuiceScopeContext.java#L58\" rel=\"nofollow noreferrer\">github.com/hk2-project/hk2/blob/master/guice-bridge/src/main&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 364, "user_id": 1043631, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90db9d42fd6fa4c5d7f8803dffabe533?s=128&d=identicon&r=PG", "display_name": "Waleed", "link": "https://stackoverflow.com/users/1043631/waleed"}, "edited": false, "score": 0, "creation_date": 1512169710, "post_id": 37040862, "comment_id": 82164307, "body": "I had the similar issue. I ended up using @Context annotation in my filters."}, {"owner": {"reputation": 364, "user_id": 1043631, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90db9d42fd6fa4c5d7f8803dffabe533?s=128&d=identicon&r=PG", "display_name": "Waleed", "link": "https://stackoverflow.com/users/1043631/waleed"}, "edited": false, "score": 0, "creation_date": 1512170102, "post_id": 37040862, "comment_id": 82164439, "body": "I looked into the git history of guice-bridge. The commit which added @Visibility(DescriptorVisibility.LOCAL) says &quot;All other contexts made LOCAL to avoid child locator memory leak&quot;.  Perhaps this is just a limitation of the bridge."}], "tags": [], "owner": {"reputation": 36, "user_id": 1878496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc7ce64cc71d0dd3d40b41298ef5c029?s=128&d=identicon&r=PG", "display_name": "DJ Erraballi", "link": "https://stackoverflow.com/users/1878496/dj-erraballi"}, "is_accepted": true, "score": 2, "last_activity_date": 1462845421, "last_edit_date": 1462845421, "creation_date": 1462412020, "answer_id": 37040862, "question_id": 34642987, "link": "https://stackoverflow.com/questions/34642987/guice-jersey-2-containerrequestfilter-and-context/37040862#37040862", "title": "Guice + Jersey 2 + ContainerRequestFilter and @Context", "body": "<p>Think i may have an answer here for you. </p>\n\n<p>Are you registering your dynamicFeature with an @Provider annotation? </p>\n\n<p>I believe what could be happening here is that HK2 attempts to register your DynamicFeature, (and thus your Filter), before you have setup the Guice-HK2 Bridge. </p>\n\n<p>In order to work around this, i would attempt manually registering your feature,\nand remove the @Provider annotation from your Feature/Filter classes. </p>\n\n<p>i.e. </p>\n\n<pre><code>// do your hk2 guice-bridge stuff before this\nresourceConfig.register(InjectableAuthDynamicFeature.class)\n</code></pre>\n\n<p>I will update this later if it actually works. </p>\n\n<p>--EDIT -- \nwas completely wrong w/ above\nThe reason why you are unable to see your guice dependencies in ContainerRequestFilter is because the visiblity of the GuiceScope class is LOCAL. </p>\n\n<p>This basically means that only the parent serviceLocator will be able to correctly service guice dependencies. ContainerRequestFilter/Mappers/Features are all created by child serviceLocators, and thus do not have access to resolve the GuiceScope context. </p>\n\n<p>In order to fix this I have forked hk2 guice-bridge and rewritten GuiceScope to use visibility NORMAL.</p>\n\n<p>Here is a link to the code: <a href=\"https://github.com/hk2-project/hk2/blob/master/guice-bridge/src/main/java/org/jvnet/hk2/guice/bridge/internal/GuiceScopeContext.java#L58\" rel=\"nofollow\">https://github.com/hk2-project/hk2/blob/master/guice-bridge/src/main/java/org/jvnet/hk2/guice/bridge/internal/GuiceScopeContext.java#L58</a></p>\n\n<p>I don't know why anyone hasn't run into this issue, but it seems to limit the guice-bridge for no good reason. </p>\n"}], "owner": {"reputation": 1102, "user_id": 827207, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/29fd1c44a403ab851c78e44332f30bfc?s=128&d=identicon&r=PG", "display_name": "jmif", "link": "https://stackoverflow.com/users/827207/jmif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2494, "favorite_count": 2, "accepted_answer_id": 37040862, "answer_count": 1, "score": 2, "last_activity_date": 1462845421, "creation_date": 1452115197, "question_id": 34642987, "link": "https://stackoverflow.com/questions/34642987/guice-jersey-2-containerrequestfilter-and-context", "title": "Guice + Jersey 2 + ContainerRequestFilter and @Context", "body": "<p>I'm attempting to use Guice to inject dependencies into a <a href=\"https://jax-rs-spec.java.net/nonav/2.0-SNAPSHOT/apidocs/javax/ws/rs/container/ContainerRequestFilter.html\" rel=\"nofollow\">ContainerRequestFilter</a> that is being registered via a <a href=\"https://docs.oracle.com/javaee/7/api/javax/ws/rs/container/DynamicFeature.html\" rel=\"nofollow\">DynamicFeature</a>. I also need Jersey to inject the HttpServletRequest and I am currently attempting to do this via @Context.   This is in a Dropwizard app.</p>\n\n<p>My end goal is to have an AuthenticationFilter that is applied to specific Resources via a DynamicFeature.  My AuthenticationFilter has a few dependencies that must be injected and it also needs access to the HttpServletRequest to do its job.  This is part of a Dropwizard project and the pattern is based on Dropwizard's <a href=\"http://www.dropwizard.io/0.9.1/dropwizard-auth/apidocs/io/dropwizard/auth/AuthDynamicFeature.html\" rel=\"nofollow\">AuthDynamicFeature</a> and <a href=\"http://www.dropwizard.io/0.9.1/dropwizard-auth/apidocs/io/dropwizard/auth/AuthFilter.html\" rel=\"nofollow\">AuthFilter</a> but modified to support injection.</p>\n\n<p>So my AuthenicationFilter looks like this:</p>\n\n<pre><code>public class AuthFilter implements ContainerRequestFilter {\n\n    @Context\n    private HttpServletRequest httpServletRequest;\n\n    @Context\n    private HttpServletResponse httpServletResponse;\n\n    @Inject\n    private InjectableResource injectableResource;\n\n    public void filter(ContainerRequestContext requestContext) throws IOException {\n\n       // Do Auth\n    }\n}\n</code></pre>\n\n<p>And my DynamicFeature looks like this:</p>\n\n<pre><code>public class InjectableAuthDynamicFeature implements DynamicFeature {\n\n    // Have tried multiple methods to register fitlers: using Injector,\n    // using Provider and using the normal Class\n    @Inject\n    private Provider&lt;AuthFilter&gt; authFilterProvider;\n\n    @Inject\n    private Injector injector;\n\n    @Override\n    public void configure(ResourceInfo resourceInfo, FeatureContext context) {\n\n        // Logic to decide on registering of filter followed by one of the\n        // following depending on injection method:\n\n        context.register(AuthFilter.class);\n        context.register(this.injector.getInstance(AuthFilter.class);\n        context.register(this.authFilterProvider.get());\n    }\n}\n</code></pre>\n\n<p>Unfortunately my AuthFilter never gets created/run with all of the dependencies that I need.  If I use this.injector or this.authFilterProvider then my @Inject fields are correct by my @Context fields are not.  My understanding is that this is because I'm registering an instance of the object and thus Jersey cannot manage it/inject it's @Context fields.  However when I simply register the class my @Context fields are registered but my @Inject fields are not.</p>\n\n<p>What registration/injection process can I do to ensure that both @Context and @Inject are properly filled at runtime?</p>\n\n<p>One other piece of information potentially useful information: if I register a resource with the following line:</p>\n\n<pre><code>// AKA Dropwizard environment.jersey().register(...);\nresourceConfig.register(this.injector.getInstance(MyResource.class));\n</code></pre>\n\n<p>And MyResource contains @Context members and @Inject members both the @Context/@Inject members are filled properly at runtime.  So for some reason the Resource registration and Filter registration/management are behaving differently.</p>\n\n<p>Any ideas/insights would be greatly appreciated. </p>\n"}, {"tags": ["java", "excel", "collections", "drools", "import-from-excel"], "comments": [{"owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "edited": false, "score": 0, "creation_date": 1452117131, "post_id": 34642884, "comment_id": 57032901, "body": "There is an obvious difference between the DRL <code>in (&quot;TestA&quot;,&quot;TestB&quot;)</code> and the expansion of the decision table, replacing <code>$param</code> with the cell value: <code>in &quot;TestA&quot;,&quot;TestB&quot;</code>."}, {"owner": {"reputation": 35, "user_id": 3259380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb4574995747afc8d42ce8cfa04c0584?s=128&d=identicon&r=PG&f=1", "display_name": "Raymond H Lucas", "link": "https://stackoverflow.com/users/3259380/raymond-h-lucas"}, "reply_to_user": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "edited": false, "score": 0, "creation_date": 1452118523, "post_id": 34642884, "comment_id": 57033606, "body": "That&#39;s a good catch, I had thought a list of strings in a cell get converted to a list when being inserted. However I tried adding the parenthesis in the decision table condition, but unfortunately that had no effect."}], "answers": [{"tags": [], "owner": {"reputation": 30226, "user_id": 2107876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/975e7190aac72397465126f04f46f3f6?s=128&d=identicon&r=PG", "display_name": "laune", "link": "https://stackoverflow.com/users/2107876/laune"}, "is_accepted": true, "score": 2, "last_activity_date": 1452182517, "last_edit_date": 1452182517, "creation_date": 1452151123, "answer_id": 34649384, "question_id": 34642884, "link": "https://stackoverflow.com/questions/34642884/drools-using-from-in-decision-table/34649384#34649384", "title": "Drools - Using &quot;from&quot; in decision table", "body": "<p>The pattern format you want to have is not possible with the Drools spreadsheet compiler. If you read the documentation, it will say that the cell under CONDITION provides the pattern CE, typically a class name, and the next cell below specifies a <em>constraint</em>, i.e., an expression that must fit <em>between the pair of parentheses</em> added to the pattern above. The placeholder <code>$param</code> will then repeatedly be replaced by cell values further down the column.</p>\n\n<p>Adding the missing parentheses, your condition expands into (invalid) DRL code:</p>\n\n<pre><code>$person:Person( ArrayList( size &gt;= 1 ) \nfrom collect( TestResult( name in (\"TestA\",\"TestB\"), result == 'high' ) \n   from $person.getLabResults() ) )\n</code></pre>\n\n<p>This causes just the error message you've reported, due to the misplaced <code>from</code>.</p>\n\n<p>I have this snippet of code lying around, and if you can import class SpreadsheetCompiler from wherever it is, a call will display the generated DRL, right or wrong.</p>\n\n<pre><code>private void testSpreadsheet(String dtPath){\n  File dtf = new File( dtPath );\n  InputStream is;\n  try {\n    is = new FileInputStream( dtf );\n    SpreadsheetCompiler ssComp = new SpreadsheetCompiler();\n    String s = ssComp.compile( is, InputType.XLS );\n    System.out.println( \"=== Begin generated DRL ===\" );\n    System.out.println( s );\n    System.out.println( \"=== End generated DRL ===\" );\n  } catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n  }\n}\n</code></pre>\n\n<p>If you need to generate lots of rules with lists of test results you should look into Drools templates. With this technique, parameter insertion into arbitrary rule text is possible. Other workarounds may also be viable, e.g., a combination of DRL and spreadsheet rules.</p>\n"}], "owner": {"reputation": 35, "user_id": 3259380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb4574995747afc8d42ce8cfa04c0584?s=128&d=identicon&r=PG&f=1", "display_name": "Raymond H Lucas", "link": "https://stackoverflow.com/users/3259380/raymond-h-lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2389, "favorite_count": 1, "accepted_answer_id": 34649384, "answer_count": 1, "score": 1, "last_activity_date": 1452182517, "creation_date": 1452114882, "question_id": 34642884, "link": "https://stackoverflow.com/questions/34642884/drools-using-from-in-decision-table", "title": "Drools - Using &quot;from&quot; in decision table", "body": "<p>I'm having some trouble getting a rule that I know works in .drl form, to work in a decision table.</p>\n\n<p>Here is my rule in drl form:</p>\n\n<pre><code>rule = \"slider1\"\n    dialect \"mvel\"\n    when\n        $person: Person()\n        ArrayList( size &gt;= 2 )\n            from collect( TestResult( name in (\"TestA\",\"TestB\"), result == \"high\" )\n                           from $person.getLabResults()\n                        )\n    then\n        $person.setString(\"It worked\");\nend\n</code></pre>\n\n<p>Here is what I am trying in the spreadsheet:</p>\n\n<pre><code>CONDITION\n-------------------\n$person:Person()\n-------------------\nArrayList( size &gt;= 1 ) \n    from collect( TestResult( name in $param, result == 'high' ) \n       from $person.getLabResults() ) \n-------------------\nLab Names\n-------------------\n\"TestA\",\"TestB\"\n</code></pre>\n\n<p>When I try to run the rule from the spread sheet, I am getting this error:</p>\n\n<pre><code>Error while creating KieBase[Message [id=1, level=ERROR, path=com/creo/drools/decisiontables/sample-decision-table.xls, line=11, column=0\ntext=[ERR 102] Line 11:53 mismatched input 'from' in rule \"Young safe package 1\"], Message [id=2, level=ERROR, path=com/creo/drools/decisiontables/sample-decision-table.xls, line=0, column=0\ntext=Parser returned a null Package]]\n</code></pre>\n\n<p>It seems like something isn't working correctly with the from clause, but I have no idea why. I have tried numerous google searches and this is the only thing I could find: <a href=\"http://drools-moved.46999.n3.nabble.com/Question-on-excel-decision-table-with-quot-variable-Type-from-collection-quot-td1186138.html\" rel=\"nofollow\">http://drools-moved.46999.n3.nabble.com/Question-on-excel-decision-table-with-quot-variable-Type-from-collection-quot-td1186138.html</a></p>\n\n<p>Any ideas? It's driving me crazy why this won't work in the spread sheet.</p>\n"}, {"tags": ["java", "json", "jackson"], "comments": [{"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 1, "creation_date": 1452117030, "post_id": 34642800, "comment_id": 57032837, "body": "I don&#39;t understand. Why does this have to be <i>by key</i>? The value for <code>&quot;name&quot;</code> is a JSON string so its Java equivalent will be a <code>java.lang.String</code> value. <code>&quot;age&quot;</code> is a JSON number so its Java equivalent will be a <code>java.lang.Integer</code> (or whatever Jackson uses as a default). <code>&quot;address&quot;</code> is a JSON object so its equivalent will be a <code>Map&lt;String, ?&gt;</code>. <code>&quot;street&quot;</code> is a JSON string, so...What else do you need?"}, {"owner": {"reputation": 333, "user_id": 4910915, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7312623ec4e05a08f6f83a428b8680fb?s=128&d=identicon&r=PG", "display_name": "Appelsien Sap", "link": "https://stackoverflow.com/users/4910915/appelsien-sap"}, "reply_to_user": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 0, "creation_date": 1452117214, "post_id": 34642800, "comment_id": 57032946, "body": "I have a dynamic schema which holds a list of <code>property -&gt; type</code> pairs. Indeed, some types are simple strings, integers, ..., while other types can be a <code>LocalDate</code>, a <code>OurCustomType</code>, ... Since the schema is dynamic, it is not possible to create a traditional POJO with custom deserializers."}, {"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 0, "creation_date": 1452117293, "post_id": 34642800, "comment_id": 57032989, "body": "Dynamic how? <code>property</code> will always map to <code>type</code>, <code>&quot;name&quot;</code> will always be a <code>String</code>. Why won&#39;t a POJO work here? Please edit your question to demonstrate that."}, {"owner": {"reputation": 333, "user_id": 4910915, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7312623ec4e05a08f6f83a428b8680fb?s=128&d=identicon&r=PG", "display_name": "Appelsien Sap", "link": "https://stackoverflow.com/users/4910915/appelsien-sap"}, "reply_to_user": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 2, "creation_date": 1452117405, "post_id": 34642800, "comment_id": 57033037, "body": "It is dynamic because it is not known at compile time. The <code>property -&gt; type</code> pairs are read from a configuration file at runtime. I don&#39;t think there is any reason to edit my question here."}], "answers": [{"tags": [], "owner": {"reputation": 42, "user_id": 3698822, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000570837832/picture?type=large", "display_name": "Ionu\u021b Barang\u0103", "link": "https://stackoverflow.com/users/3698822/ionu%c8%9b-barang%c4%83"}, "is_accepted": true, "score": -1, "last_activity_date": 1452120661, "last_edit_date": 1452120661, "creation_date": 1452120111, "answer_id": 34644245, "question_id": 34642800, "link": "https://stackoverflow.com/questions/34642800/deserialize-json-into-mapstring-object-with-callback-for-each-property/34644245#34644245", "title": "Deserialize JSON into Map&lt;String, Object&gt; with callback for each property", "body": "<p>Out of the box: </p>\n\n<pre><code>new ObjectMapper.readValue(\"\\\"name\\\": ...\", Map.class);\n</code></pre>\n\n<p>Jackson converts the input from your example to:</p>\n\n<pre><code>class java.util.LinkedHashMap(\n    name -&gt; class java.lang.String(Bill), \n    age -&gt; class java.lang.Integer(53), \n    address -&gt; class java.util.LinkedHashMap(\n        street -&gt; class java.lang.String(Wallstreet), \n        city -&gt; class java.lang.String(NY)\n    )\n)\n</code></pre>\n\n<p>If you want some custom processing (e.g. you want BigInteger instead of integer for age), you can use a custom LinkedHashMap implementation, something like:</p>\n\n<pre><code>public class CustomMap extends LinkedHashMap&lt;String, Object&gt; {\n    private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\n\n    private Object convertPrimitive(String key, Object value) {\n        switch (key) {\n            case \"age\":\n                return new BigInteger(value.toString());\n            case \"city\":\n                return value.toString().toLowerCase();\n            default:\n                return value;\n        }\n    }\n\n    private Object convertMap(String key, Object value) {\n        return OBJECT_MAPPER.convertValue(value, CustomMap.class);\n    }\n\n    @Override\n    public Object put(String key, Object value) {\n        return super.put(key, (value instanceof Map) ? convertMap(key, value) : convertPrimitive(key, value));\n    }\n}\n</code></pre>\n\n<p>This time,</p>\n\n<pre><code>new ObjectMapper.readValue(\"\\\"name\\\": ...\", CustomMap.class);\n</code></pre>\n\n<p>will result in:</p>\n\n<pre><code>class org.example.CustomMap(\n    name -&gt; class java.lang.String(Bill), \n    age -&gt; class java.math.BigInteger(53), \n    address -&gt; class org.example.CustomMap(\n        street -&gt; class java.lang.String(Wallstreet), \n        city -&gt; class java.lang.String(ny)\n    )\n)\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 4910915, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7312623ec4e05a08f6f83a428b8680fb?s=128&d=identicon&r=PG", "display_name": "Appelsien Sap", "link": "https://stackoverflow.com/users/4910915/appelsien-sap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1129, "favorite_count": 3, "closed_date": 1452120151, "accepted_answer_id": 34644245, "answer_count": 1, "score": 1, "last_activity_date": 1452120661, "creation_date": 1452114645, "last_edit_date": 1495535302, "question_id": 34642800, "link": "https://stackoverflow.com/questions/34642800/deserialize-json-into-mapstring-object-with-callback-for-each-property", "closed_reason": "Duplicate", "title": "Deserialize JSON into Map&lt;String, Object&gt; with callback for each property", "body": "<p>I want to deserialize an arbitrary JSON into a <code>Map&lt;String, Object&gt;</code>. The value of this map is either some primitive (such as an <code>Integer</code>, <code>String</code>, <code>LocalDate</code>, ...) or another <code>Map&lt;String, Object&gt;</code> (recursive).</p>\n\n<p>To get the primitive, some kind of custom client callback should be called for each property. Depending on the key, certain deserialization will happen. For example (pseudo-code):</p>\n\n<pre><code>{\n    \"name\": \"Bill\",\n    \"age\": 53,\n    \"timestamp\": \"2012-04-23T18:25:43.511Z\",\n    \"coordinates\": \"51.507351;-0.127758\",\n    \"address\": {\n        \"street\": \"Wallstreet\",\n        \"city\": \"NY\"\n    }\n}\n\nObject convert(key, value) {\n     if (\"name\".equals(key)) {\n          return value.toString();\n     } else if (\"timestamp\".equals(key)) {\n          return LocalDate.parse(value);\n     } else if (\"coordinates\".equals(key)) {\n          return Coordinates.parse(value);\n     }\n     ...\n}\n</code></pre>\n\n<p>In SO <a href=\"https://stackoverflow.com/questions/13916086/jackson-recursive-parsing-into-mapstring-object\">Jackson - Recursive parsing into Map&lt;String, Object&gt;</a> a simple generic solution is provided. However, this simply deserializes each non-object property to a <code>String</code>. Is it possible to add a custom client callback, as shown above, to the deserialization process?</p>\n"}, {"tags": ["java", "android", "eclipse"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5754304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d6ce6a8ead53594d62ca9992c6b436d?s=128&d=identicon&r=PG&f=1", "display_name": "ldan12", "link": "https://stackoverflow.com/users/5754304/ldan12"}, "is_accepted": true, "score": 0, "last_activity_date": 1452117143, "creation_date": 1452117143, "answer_id": 34643521, "question_id": 34642529, "link": "https://stackoverflow.com/questions/34642529/bytearraybody-from-org-apache-http-entity-mime-content-cannot-be-reached/34643521#34643521", "title": "ByteArrayBody from org.apache.http.entity.mime.content cannot be reached", "body": "<p>Got it ! I only included the mime .jar, but I also need the client, the core and the other jars in my libs directory and add them to build path.</p>\n"}], "owner": {"reputation": 1, "user_id": 5754304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d6ce6a8ead53594d62ca9992c6b436d?s=128&d=identicon&r=PG&f=1", "display_name": "ldan12", "link": "https://stackoverflow.com/users/5754304/ldan12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "accepted_answer_id": 34643521, "answer_count": 1, "score": 0, "last_activity_date": 1452117143, "creation_date": 1452113539, "question_id": 34642529, "link": "https://stackoverflow.com/questions/34642529/bytearraybody-from-org-apache-http-entity-mime-content-cannot-be-reached", "title": "ByteArrayBody from org.apache.http.entity.mime.content cannot be reached", "body": "<p>I'm having a hard time using the <strong>ByteArrayBody</strong> class from the <strong>org.apache.http.entity.mime.content</strong> in my eclipse project (android app). I copied the <strong>httpmime-4.5.1.jar</strong> in my <strong>libs</strong> folder and did all the stuff in the <strong>javabuild path</strong> (adding the .jar and checking it in Order and Export section). </p>\n\n<p>Looks like this class cannot be reached for some reason, do I miss something including the .jar in my project ? Code looks like this :</p>\n\n<pre><code>   ByteArrayOutputStream baos = new ByteArrayOutputStream();\n\n   bp.compress(Bitmap.CompressFormat.JPEG, 75, baos);\n\n   byte[] imageBytes = baos.toByteArray();\n\n   HttpClient httpclient = new DefaultHttpClient();\n   HttpPost httpPost = new HttpPost(\"__mypath__\");\n\n   httpPost.setHeader(\"Content-type\", \"multipart/form-data;   boundary=\"+boundary);\n\n   ByteArrayBody bab = new ByteArrayBody(imageBytes, \"pic.jpg\"); //CRASHING HERE\n\n   //...\n</code></pre>\n\n<p>Any help would be appreciated,\nthx in advance !</p>\n"}, {"tags": ["java", "multithreading", "java-8", "javafx-8", "fxml"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5754276"}, "edited": false, "score": 0, "creation_date": 1452115256, "post_id": 34642727, "comment_id": 57031888, "body": "Oh right... I wanted to define variable s as Socket, but accidentally accepted it right away. Wasted my whole day on this one. Great, this fixed the threading problem, but there&#39;s another problem, texts are not going through, I can&#39;t find the issue..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5754276"}, "edited": false, "score": 0, "creation_date": 1452117947, "post_id": 34642727, "comment_id": 57033314, "body": "Found the issue, but can&#39;t figure out what&#39;s wrong with it. The issue is the for loop in the MessageListener thread. while(true) runs until a client connects and then it stops, with out even going the for loop through one time. Edit: sorry, it goes through only once"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5754276"}, "edited": false, "score": 0, "creation_date": 1452118860, "post_id": 34642727, "comment_id": 57033767, "body": "Nevermind, I checked in the if statement in !din.readUTF().equals(&quot;&quot;), that broke the loop, because there was nothing to read, I had to use if(din.available()). But thank you for the first solution!"}], "tags": [], "owner": {"reputation": 28, "user_id": 5208259, "user_type": "registered", "profile_image": "https://graph.facebook.com/1150677414947766/picture?type=large", "display_name": "Ren&#233; Boschma", "link": "https://stackoverflow.com/users/5208259/ren%c3%a9-boschma"}, "is_accepted": true, "score": 0, "last_activity_date": 1452114297, "creation_date": 1452114297, "answer_id": 34642727, "question_id": 34642488, "link": "https://stackoverflow.com/questions/34642488/multithreading-not-running-on-parallel/34642727#34642727", "title": "Multithreading not running on parallel", "body": "<p>You are accepting a client twice in the run method of your ClientHandler.</p>\n\n<pre><code>Socket s = ss.accept();\n                if((s = ss.accept()) != null){\n</code></pre>\n\n<p>What happens is that ss.accept() waits for a client to connect. Its connects, and it continues to the if statement. Here again you call ss.accept(), so again the server waits untill a client connects. This second ss.accept() prevents the rest of your code from running. </p>\n\n<p>Solution: Get rid of one of the two ss.accept() statements. Example:</p>\n\n<pre><code>if(s!=null){\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5754276"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 34642727, "answer_count": 1, "score": 0, "last_activity_date": 1452117016, "creation_date": 1452113362, "last_edit_date": 1452117016, "question_id": 34642488, "link": "https://stackoverflow.com/questions/34642488/multithreading-not-running-on-parallel", "title": "Multithreading not running on parallel", "body": "<p>I started learning Java programming 3 days ago, before I was only able to code PHP etc. Now I have met a problem - I tried to make a server-client chat with multiple clients, where client's data is stored in an array when connecting(socket, datainputstream and dataoutputstream). Anyway, everything compiles like it should, but I have used 2 threads with runnable interface, but these threads are not running in parallel. First I started the server, then I started first client. The first client says it's connected to the server, but server doesn't recognise it. When starting second client, server recognises it and saves the data in the arrays, but when trying to write a text from client using writeUTF(), the server's MessageTransport thread doesn't work. Here is the full code, I'm using javafx with fxmlloader:<br />\nChat Server:</p>\n\n<pre><code>import java.net.*;\nimport java.io.*;\nimport java.util.*;\n\nclass ClientHandler extends Server implements Runnable{\n\n    private Thread t;\n    private String threadName;\n\n    ClientHandler(String name){\n        threadName = name;\n        System.out.println(\"Creating thread: \" + name);\n    }\n\n    public void run(){\n        System.out.println(\"Running thread: \" + threadName);\n        /*try{\n            Thread.sleep(500);\n        }catch(Exception e){\n            e.printStackTrace();\n        }*/\n        System.out.println(\"Waiting for clients...\");\n        while(true){\n            try{\n                Socket s;\n                if((s = ss.accept()) != null){\n                    clientSockets.add(s);\n                    DataInputStream din = new DataInputStream(s.getInputStream());\n                    dinStreams.add(din);\n                    DataOutputStream dout = new DataOutputStream(s.getOutputStream());\n                    doutStreams.add(dout);\n\n                    System.out.println(\"Client connected. Added to list.\");\n                }\n            }catch(Exception e){\n                e.printStackTrace();\n                break;\n            }\n        }\n    }\n    public void start(){\n        System.out.println(\"Starting thread: \" + threadName);\n        if(t == null){\n            t = new Thread(this, threadName);\n            t.start();\n        }else{\n            System.out.println(\"Failed to start thread \" + threadName + \". Thread already started.\");\n        }\n    }\n}\n\nclass MessageTransport extends Server implements Runnable{\n\n    private Thread t;\n    private String threadName;\n\n    MessageTransport(String name){\n        threadName = name;\n        System.out.println(\"Creating thread: \" + name);\n    }\n\n    public void run(){\n        System.out.println(\"Running thread: \" + threadName);\n        /*try{\n            Thread.sleep(1000);\n        }catch(Exception e){\n            e.printStackTrace();\n        }*/\n        System.out.println(\"Ready to transport messages...\");\n        while(true){\n            int i;\n            for(i=0;i&lt;clientSockets.size();i++){\n                try{\n                    DataInputStream din = dinStreams.get(i);\n                    if(!din.readUTF().equals(\"\")){\n                        int v;\n                        for(v=0; v&lt;clientSockets.size(); v++){\n                            DataOutputStream dout = doutStreams.get(v);\n                            dout.writeUTF(din.readUTF());\n                            dout.flush();\n                        }\n                    }else if(din.readUTF().equals(\"/System_exit\")){\n                        System.out.println(\"Client left.\");\n                        din.close();\n                        clientSockets.remove(i);\n                        dinStreams.remove(i);\n                        doutStreams.remove(i);\n                    }\n                }catch(Exception e){\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n    public void start(){\n        System.out.println(\"Starting thread: \" + threadName);\n        if(t == null){\n            t = new Thread(this, threadName);\n            t.start();\n        }else{\n            System.out.println(\"Failed to start thread \" + threadName + \". Thread already started.\");\n        }\n    }\n}\n\npublic class Server {\n\n    public static ServerSocket ss;\n    public static List&lt;Socket&gt; clientSockets;\n    public static List&lt;DataInputStream&gt; dinStreams;\n    public static List&lt;DataOutputStream&gt; doutStreams;\n\n    public static void main(String[] args){\n        try{\n            ss = new ServerSocket(5000);\n            clientSockets = new ArrayList&lt;&gt;();\n            dinStreams = new ArrayList&lt;&gt;();\n            doutStreams = new ArrayList&lt;&gt;();\n\n            System.out.println(\"Server opened. Waiting for clients\");\n            ClientHandler CH = new ClientHandler(\"Client_Handler\");\n            CH.start();\n            MessageTransport mt = new MessageTransport(\"Message Transmitter\");\n            mt.start();\n\n        }catch(Exception e){\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Chat client files...\nMain class:</p>\n\n<pre><code>package sample;\n\nimport javafx.application.Application;\n\nimport javafx.application.Platform;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.net.*;\nimport java.io.*;\n\npublic class Main extends Application{\n\n    private static Socket s = null;\n    private static Controller controller;\n    private static String username = \"priitkaard\";\n    private static DataOutputStream dout = null;\n    private static DataInputStream din = null;\n\n    @Override\n    public void start(Stage primaryStage) throws Exception{\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(\"chat_client.fxml\"));\n        VBox layout = loader.load();\n        controller = loader.getController();\n\n        primaryStage.setTitle(\"Chatbox\");\n        primaryStage.setScene(new Scene(layout, 600, 300));\n        primaryStage.show();\n        primaryStage.setOnCloseRequest(e -&gt; {\n            e.consume();\n            if(s != null){\n                try{\n                    if(dout != null){\n                        dout.writeUTF(\"/System_exit\");\n                    }\n                    s.close();\n                }catch(Exception l){\n                    l.printStackTrace();\n                }\n            }\n            Platform.exit();\n        });\n        try{\n            s = new Socket(\"localhost\", 5000);\n            controller.writeln(\"Connected to the server.\");\n            din = new DataInputStream(s.getInputStream());\n            dout = new DataOutputStream(s.getOutputStream());\n        }catch(ConnectException cE){\n            controller.writeln(\"Couldn't connect to the server.\");\n        }\n        MessageListener ml = new MessageListener();\n        ml.start();\n    }\n    public static Socket getSocket(){\n        return s;\n    }\n    public static DataInputStream getDin(){\n        return din;\n    }\n    public static DataOutputStream getDout(){\n        return dout;\n    }\n    public static Controller getChatController(){\n        return controller;\n    }\n    public static String getUsername(){\n        return username;\n    }\n\n    public static void main(String[] args) { launch(args); }\n}\nclass MessageListener implements Runnable{\n    private String threadName;\n    private Thread t;\n    MessageListener(){\n        threadName = \"messageListener\";\n    }\n    @Override\n    public void run() {\n        if(Main.getSocket() != null){\n            try{\n                DataInputStream din = Main.getDin();\n                while(true){\n                    if(!din.readUTF().equals(\"\")){\n                        Main.getChatController().writeln(din.readUTF());\n                    }\n                }\n            }catch(Exception e){\n                Main.getChatController().writeln(\"No connection.\");\n                e.printStackTrace();\n            }\n        }\n    }\n    public void start(){\n        if(t == null){\n            t = new Thread(this, threadName);\n            t.start();\n        }\n    }\n}\n</code></pre>\n\n<p>Controller class:</p>\n\n<pre><code>package sample;\n\nimport javafx.application.Platform;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.control.TextField;\n\nimport java.io.DataOutputStream;\n\n\npublic class Controller {\n    @FXML\n    private TextArea a;\n    @FXML private TextField b;\n\n    public void writeln(String message){\n        a.setText(a.getText() + \"\\n\" + message);\n    }\n\n    @FXML void sendText(){\n        if(b.getText().equals(\"/System_exit\")){\n            Platform.exit();\n        }else{\n            try{\n                DataOutputStream dout = Main.getDout();\n                dout.writeUTF(Main.getUsername() + \": \" + b.getText());\n                b.setText(\"\");\n                dout.flush();\n            }catch(Exception e){\n                writeln(\"Failed to send message.\");\n                e.printStackTrace();\n                b.setText(\"\");\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>chat_client.fxml file (GUI):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import java.lang.*?&gt;\n&lt;?import javafx.geometry.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.TextArea?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n\n&lt;VBox fx:controller=\"sample.Controller\" alignment=\"TOP_CENTER\" maxHeight=\"-Infinity\" maxWidth=\"-Infinity\" minHeight=\"-Infinity\" minWidth=\"-Infinity\" prefHeight=\"400.0\" prefWidth=\"600.0\" xmlns=\"http://javafx.com/javafx/8\" xmlns:fx=\"http://javafx.com/fxml/1\" &gt;\n   &lt;children&gt;\n      &lt;TextArea id=\"textArea\" fx:id=\"a\" editable=\"false\" prefHeight=\"350.0\" prefWidth=\"580.0\" VBox.vgrow=\"ALWAYS\"&gt;\n         &lt;VBox.margin&gt;\n            &lt;Insets bottom=\"10.0\" left=\"10.0\" right=\"10.0\" top=\"10.0\" /&gt;\n         &lt;/VBox.margin&gt;\n      &lt;/TextArea&gt;\n      &lt;HBox prefHeight=\"50.0\"&gt;\n         &lt;children&gt;\n            &lt;TextField fx:id=\"b\" prefHeight=\"30.0\" prefWidth=\"520.0\"&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=\"10.0\" right=\"10.0\" /&gt;\n               &lt;/padding&gt;\n            &lt;/TextField&gt;\n            &lt;Region prefHeight=\"30.0\" prefWidth=\"13.0\" HBox.hgrow=\"ALWAYS\" /&gt;\n            &lt;Button fx:id=\"c\" onAction=\"#sendText\" mnemonicParsing=\"false\" text=\"Send\" /&gt;\n         &lt;/children&gt;\n         &lt;padding&gt;\n            &lt;Insets bottom=\"10.0\" left=\"10.0\" right=\"10.0\" top=\"10.0\" /&gt;\n         &lt;/padding&gt;\n      &lt;/HBox&gt;\n   &lt;/children&gt;\n&lt;/VBox&gt;\n</code></pre>\n\n<p>... and ofcourse if there are some ways I could improve my code, I would like to learn from my mistakes ;)</p>\n"}, {"tags": ["java", "mysql", "tomcat", "jdbc", "connection-pooling"], "comments": [{"owner": {"reputation": 12717, "user_id": 821786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b243293209671ed2bcb6b1393cec05?s=128&d=identicon&r=PG", "display_name": "Gergely Bacso", "link": "https://stackoverflow.com/users/821786/gergely-bacso"}, "edited": false, "score": 0, "creation_date": 1452118794, "post_id": 34642381, "comment_id": 57033736, "body": "Where do you call <code>createConnection()</code> from? Where is the code for <code>getPooledConnection()</code>? Where do you call <code>executeStatement()</code> from?"}, {"owner": {"reputation": 63, "user_id": 2059324, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b6dde51b6fcd7ea6e4d8c42635e53e8?s=128&d=identicon&r=PG", "display_name": "clayton rogers", "link": "https://stackoverflow.com/users/2059324/clayton-rogers"}, "reply_to_user": {"reputation": 12717, "user_id": 821786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b243293209671ed2bcb6b1393cec05?s=128&d=identicon&r=PG", "display_name": "Gergely Bacso", "link": "https://stackoverflow.com/users/821786/gergely-bacso"}, "edited": false, "score": 0, "creation_date": 1452119458, "post_id": 34642381, "comment_id": 57034053, "body": "Thank you for the reply Gergely. I have added the methods getPooledConnection() and executeStatement();"}, {"owner": {"reputation": 63, "user_id": 2059324, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b6dde51b6fcd7ea6e4d8c42635e53e8?s=128&d=identicon&r=PG", "display_name": "clayton rogers", "link": "https://stackoverflow.com/users/2059324/clayton-rogers"}, "reply_to_user": {"reputation": 12717, "user_id": 821786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b243293209671ed2bcb6b1393cec05?s=128&d=identicon&r=PG", "display_name": "Gergely Bacso", "link": "https://stackoverflow.com/users/821786/gergely-bacso"}, "edited": false, "score": 0, "creation_date": 1452119502, "post_id": 34642381, "comment_id": 57034071, "body": "Thank you for the comment Gergely. I have added the missing methods. I am calling createConnection from the constructor of the DatabaseManager class."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 2059324, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b6dde51b6fcd7ea6e4d8c42635e53e8?s=128&d=identicon&r=PG", "display_name": "clayton rogers", "link": "https://stackoverflow.com/users/2059324/clayton-rogers"}, "edited": false, "score": 0, "creation_date": 1452119594, "post_id": 34643977, "comment_id": 57034114, "body": "I resorted to creating my own DataSource because the JNDI route of creating a context.xml file was not working for me. I am calling createConnection from the DatabaseManager class constructor."}], "tags": [], "owner": {"reputation": 43212, "user_id": 13447, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K6sTa.jpg?s=128&g=1", "display_name": "Olaf Kock", "link": "https://stackoverflow.com/users/13447/olaf-kock"}, "is_accepted": true, "score": 0, "last_activity_date": 1452118918, "creation_date": 1452118918, "answer_id": 34643977, "question_id": 34642381, "link": "https://stackoverflow.com/questions/34642381/tomcat-pooledconnections-using-mysql/34643977#34643977", "title": "Tomcat PooledConnections Using MYSQL", "body": "<p>You shouldn't create your own Datasource object. Tomcat does it for you. Check the <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/jndi-resources-howto.html#JDBC_Data_Sources\" rel=\"nofollow\">sample code in its documentation</a> and rather follow it.</p>\n\n<p>Further, if your creation of the Datasource object (in your method <code>createConnection()</code>) runs into any problems, you'll leave a half-configured datasource.</p>\n\n<p>Lastly: Make sure you call your <code>createConnection</code> method only once.</p>\n\n<p>If this all doesn't help: Show us your Tomcat-Datasource configuration (e.g. the xml)</p>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 2059324, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b6dde51b6fcd7ea6e4d8c42635e53e8?s=128&d=identicon&r=PG", "display_name": "clayton rogers", "link": "https://stackoverflow.com/users/2059324/clayton-rogers"}, "is_accepted": false, "score": 0, "last_activity_date": 1452121690, "creation_date": 1452121690, "answer_id": 34644573, "question_id": 34642381, "link": "https://stackoverflow.com/questions/34642381/tomcat-pooledconnections-using-mysql/34644573#34644573", "title": "Tomcat PooledConnections Using MYSQL", "body": "<p>The answer by @Olaf Kock got me investigating my original context.xml file located under the META-INF folder. Originally, I was using Tomcat to create my JNDI DataSource by configuring the context.xml file. This stopped working some days ago and so I resorted to creating the DataSource myself. </p>\n\n<p>After reading Olaf's comment, I went back to my context.xml file with fresh eyes and realized the name had been changed to content.xml! This lead to an error message <strong>org.apache.tomcat.dbcp.dbcp.SQLNestedException: Cannot create JDBC driver of class '' for connect URL 'null'</strong>  which several days ago I could not make sense of. Now that I am back to using the JNDI to create my DataSource, I am no longer receiving the max-connections error message. I am still not sure why creating my own DataSoure would cause the issue since I was closing out all connections per the tomcat documentation. The only conclusion I can come to is that by creating my own DataSource inside the construct of my DatabaseManager class, I was creating a separate DataSource each time which had its own connection.</p>\n\n<p>Thank you for your responses. </p>\n"}], "owner": {"reputation": 63, "user_id": 2059324, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b6dde51b6fcd7ea6e4d8c42635e53e8?s=128&d=identicon&r=PG", "display_name": "clayton rogers", "link": "https://stackoverflow.com/users/2059324/clayton-rogers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 34643977, "answer_count": 2, "score": 0, "last_activity_date": 1452121690, "creation_date": 1452112983, "last_edit_date": 1452119299, "question_id": 34642381, "link": "https://stackoverflow.com/questions/34642381/tomcat-pooledconnections-using-mysql", "title": "Tomcat PooledConnections Using MYSQL", "body": "<p>I am creating a RESTful webservice using jersey 2.0 which connects to a mysql database using Tomcat connection pooling. I have run into an issue where when I set the maxActive connections to anything greater than 1, I receive the following error message after about 15 subsequent request calls.</p>\n\n<p><strong>Data source rejected establishment of connection,  message from server: \"Too many connections\"</strong></p>\n\n<p>My understanding of pooling is it will create the max number of connections configured and then start reusing those connections, providing them on an as needed basis. I originally suspected a leak in the code but after review I am not sure what the issue could be. When maxActive is set to 1 the issue does not occur.</p>\n\n<p>Here is my code. </p>\n\n<pre><code>public DatabaseManager(Properties connProps){\n    this.connProps = connProps;\n    this.createConnection();\n    this.createTableRepository();\n}\n\npublic void createConnection()\n{\n    try {\n        Context context = new InitialContext();\n        Context envCtx = (Context)context.lookup(\"java:comp/env\");\n        this.dataSource = new DataSource();\n        PoolProperties props = new PoolProperties();\n        props.setUrl(this.connProps.getProperty(\"url\"));\n        props.setUsername(this.connProps.getProperty(\"username\"));\n        props.setPassword(this.connProps.getProperty(\"password\"));\n        props.setDriverClassName(this.connProps.getProperty(\"driverClassName\"));\n        props.setMaxActive(Integer.parseInt(this.connProps.getProperty(\"maxActive\")));\n        this.dataSource.setPoolProperties(props);\n    } catch (NamingException e) {\n\n    }\n}\n\nprivate void createTableRepository()\n{\n    this.tableRepository = new TableRepository();\n    Connection connection = null;\n    ResultSet rs = null;\n    try {\n        connection = getPooledConnection();\n        DatabaseMetaData dbMeta = (DatabaseMetaData)connection.getMetaData();\n        rs = dbMeta.getTables(null, null, \"%s\", null);\n        while(rs.next()){\n            String tableName = rs.getString(3);\n            TableMeta table = new TableMeta(tableName);\n            ResultSet columns = dbMeta.getColumns(null, null, tableName, null);\n            while(columns.next()){\n                table.addColumn(columns.getString(4));\n            }\n            this.tableRepository.addTable(tableName, table);\n        }\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n    finally{\n        if(rs != null){\n            try{\n                rs.close();\n                rs = null;\n                }\n            catch(SQLException e){}}\n        if(connection != null){\n            try{\n                connection.close();\n                connection = null;\n                }\n            catch(SQLException e){}}\n    }\n}\n\nprivate void executeStatement(IDBQuery dbQuery)\n{\n    Connection connection = null;\n    PreparedStatement statement = null;\n    ResultSet rs = null;\n    int rows = 0;\n    try {\n        connection = this.dataSource.getConnection();\n        statement = connection.prepareStatement(dbQuery.toString());\n        if(dbQuery instanceof DBQuerySelect){\n            rs = statement.executeQuery();\n            if(rs != null){\n                dbQuery.populateQueryResuls(rs);\n            }\n        }\n        else {\n            rows = statement.executeUpdate();\n            if(rows &gt; 0){\n                dbQuery.populateQueryResults(rows);\n            }\n        }\n        if(rs != null){\n            rs.close();\n        }\n        if(statement != null){\n            statement.close();\n        }\n        if(connection != null){\n            connection.close();\n        }\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n    finally {\n        if(rs != null){try{rs.close(); rs = null;}catch(SQLException e){}}\n        if(statement != null){try{statement.close(); statement = null;}catch(SQLException e){}}\n        if(connection != null){try{connection.close(); connection = null;}catch(SQLException e){}}\n    }\n}\n\npublic Connection getPooledConnection(){\n    Connection con = null;\n    try {\n        con = this.dataSource.getConnection();\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n    return con;\n}\n</code></pre>\n\n<p>I am calling the connection in two methods, each one closing the ResultSet, Statement, and Connection in the finally block to guarantee they are closed. I am at a loss as to what could be causing the connections to max out. </p>\n\n<p>I am using mysql-connector-java-5.1.38.jar for connections. </p>\n\n<p>Any help is greatly appreciated. </p>\n"}, {"tags": ["java", "mongodb", "jax-rs"], "comments": [{"owner": {"reputation": 221, "user_id": 1777564, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9c140a6df2d150e760612d0a6af10eb5?s=128&d=identicon&r=PG", "display_name": "Anvesh Vejandla", "link": "https://stackoverflow.com/users/1777564/anvesh-vejandla"}, "edited": false, "score": 0, "creation_date": 1452147770, "post_id": 34642337, "comment_id": 57042636, "body": "If using maven add dependency &lt;dependency&gt; \t&lt;groupId&gt;org.mongodb&lt;/groupId&gt; \t&lt;artifactId&gt;bson&lt;/artifactId&gt; \t&lt;version&gt;3.0.0&lt;/version&gt; &lt;/dependency&gt;       or download jar from <a href=\"http://mvnrepository.com/artifact/org.mongodb/bson/3.0.0\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.mongodb/bson/3.0.0</a> and add as external jar to your project"}, {"owner": {"reputation": 1275, "user_id": 2594446, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/100001309205840/picture?type=large", "display_name": "Krrish Raj", "link": "https://stackoverflow.com/users/2594446/krrish-raj"}, "reply_to_user": {"reputation": 221, "user_id": 1777564, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9c140a6df2d150e760612d0a6af10eb5?s=128&d=identicon&r=PG", "display_name": "Anvesh Vejandla", "link": "https://stackoverflow.com/users/1777564/anvesh-vejandla"}, "edited": false, "score": 0, "creation_date": 1452148591, "post_id": 34642337, "comment_id": 57042984, "body": "@Anvesh Vejandla I am not using maven. I already tried adding bson jar file, but still I am getting the same error.  I can see bson.connversions.Bson class even in mongo-java-driver. Still it is throwing the error at run time."}, {"owner": {"reputation": 221, "user_id": 1777564, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9c140a6df2d150e760612d0a6af10eb5?s=128&d=identicon&r=PG", "display_name": "Anvesh Vejandla", "link": "https://stackoverflow.com/users/1777564/anvesh-vejandla"}, "edited": false, "score": 0, "creation_date": 1452175296, "post_id": 34642337, "comment_id": 57059272, "body": "Add the jar in your class path"}], "owner": {"reputation": 1275, "user_id": 2594446, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/100001309205840/picture?type=large", "display_name": "Krrish Raj", "link": "https://stackoverflow.com/users/2594446/krrish-raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1452155139, "creation_date": 1452112807, "last_edit_date": 1452155139, "question_id": 34642337, "link": "https://stackoverflow.com/questions/34642337/error-returning-mongo-data-through-jax-rs", "title": "Error returning MONGO data through JAX-RS", "body": "<p>I am trying to  query document from mongodb and return it as JSON. But when I hit the url it gives me internal server error saying-<br></p>\n\n<pre><code>java.lang.ClassNotFoundException: org.bson.conversions.Bson\n</code></pre>\n\n<p>How can I fix it ? I am using \"mongo-java-driver-3.0.3.jar\"<br>I have been using same jar file for non-web projects and it runs fine.<br>Code:</p>\n\n<pre><code> @Path(\"/UserService\")\n public class UserService {\n\nUserDao userDao = new UserDao();\n\n@GET\n@Path(\"/users\")\n@Produces(MediaType.APPLICATION_JSON)\npublic List&lt;String&gt; getUsers(){\n   List&lt;String&gt; list= new ArrayList&lt;String&gt;();\n   MongoClient mongoClient = new MongoClient( \"localhost\" , 27017 );\n\n   MongoDatabase db = mongoClient.getDatabase(\"test\");\n\n   FindIterable&lt;Document&gt; iterable= db.getCollection(\"test\").find(new Document(\"_id\",\"1234\")).projection(new Document(\"_id\",0));\n   iterable.forEach(new Block&lt;Document&gt;() {\n\n       public void apply(final Document document) {\n        list.add(document.toJson());\n\n       }\n   });\n   mongoClient.close();\n\n\n\n\n  return list;\n  } \n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "collections", "java-8", "java-stream"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1456838809, "post_id": 34642254, "comment_id": 59122959, "body": "In cases where you have no choice but to use <code>collect(Collectors.toList())</code> or similar, you might hit this issue:  <a href=\"http://stackoverflow.com/a/35722167/3679676\">stackoverflow.com/a/35722167/3679676</a> (the issue, with workarounds)"}], "answers": [{"comments": [{"owner": {"reputation": 2142, "user_id": 117750, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a3c5aa6a5e3d8e33424f6ac89400c2ec?s=128&d=identicon&r=PG", "display_name": "arnab", "link": "https://stackoverflow.com/users/117750/arnab"}, "edited": false, "score": 0, "creation_date": 1458882586, "post_id": 34642255, "comment_id": 60061364, "body": "Is there an equivalent to Java8&#39;s parallelStream() in Kotlin?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 2142, "user_id": 117750, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a3c5aa6a5e3d8e33424f6ac89400c2ec?s=128&d=identicon&r=PG", "display_name": "arnab", "link": "https://stackoverflow.com/users/117750/arnab"}, "edited": false, "score": 0, "creation_date": 1459109215, "post_id": 34642255, "comment_id": 60133708, "body": "The answer about immutable collections and Kotlin is the same answer for @arnab here for parallel, other libraries exist, use them: <a href=\"http://stackoverflow.com/a/34476880/3679676\">stackoverflow.com/a/34476880/3679676</a>"}, {"owner": {"reputation": 164, "user_id": 2711105, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7207debf9f46350a4ce327f5b51c305e?s=128&d=identicon&r=PG", "display_name": "roborative", "link": "https://stackoverflow.com/users/2711105/roborative"}, "reply_to_user": {"reputation": 2142, "user_id": 117750, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a3c5aa6a5e3d8e33424f6ac89400c2ec?s=128&d=identicon&r=PG", "display_name": "arnab", "link": "https://stackoverflow.com/users/117750/arnab"}, "edited": false, "score": 2, "creation_date": 1477782023, "post_id": 34642255, "comment_id": 67904467, "body": "@arnab You might want to look at the Kotlin support for Java 7/8 features (in particular, kotlinx-support-jdk8) that was made available earlier this year: <a href=\"https://discuss.kotlinlang.org/t/jdk7-8-features-in-kotlin-1-0/1625\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/jdk7-8-features-in-kotlin-1-0/1625</a>"}, {"owner": {"reputation": 8911, "user_id": 775138, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XAKUy.jpg?s=128&g=1", "display_name": "herman", "link": "https://stackoverflow.com/users/775138/herman"}, "edited": false, "score": 0, "creation_date": 1521737047, "post_id": 34642255, "comment_id": 85870083, "body": "Is it really idiomatic to use 3 different &quot;it&quot; references in one statement?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 2, "creation_date": 1521844488, "post_id": 34642255, "comment_id": 85921178, "body": "It is a preference, in the samples above I was keeping them short and only providing a local name for a parameter if necessary."}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 274, "last_activity_date": 1557067146, "last_edit_date": 1557067146, "creation_date": 1452112475, "answer_id": 34642255, "question_id": 34642254, "link": "https://stackoverflow.com/questions/34642254/what-java-8-stream-collect-equivalents-are-available-in-the-standard-kotlin-libr/34642255#34642255", "title": "What Java 8 Stream.collect equivalents are available in the standard Kotlin library?", "body": "<p>There are functions in the Kotlin stdlib for average, count, distinct,filtering, finding, grouping, joining, mapping, min, max, partitioning, slicing, sorting, summing, to/from arrays, to/from lists, to/from maps, union, co-iteration, all the functional paradigms, and more.  So you can use those to create little 1-liners and there is no need to use the more complicated syntax of Java 8.  </p>\n\n<p><s><em>I think the only thing missing from the built-in Java 8 <code>Collectors</code> class is summarization (but in <a href=\"https://stackoverflow.com/a/34661483/3679676\">another answer to this question</a> is a simple solution)</em>.  </p>\n\n<p>One thing missing from both is batching by count, which is seen in <a href=\"https://stackoverflow.com/a/34504231/3679676\">another Stack Overflow answer</a> and has a simple answer as well. Another interesting case is this one also from Stack Overflow: <a href=\"https://stackoverflow.com/questions/32574783/idiomatic-way-to-spilt-sequence-into-three-lists-using-kotlin\">Idiomatic way to spilt sequence into three lists using Kotlin</a>.  And if you want to create something like <code>Stream.collect</code> for another purpose, see <a href=\"https://stackoverflow.com/questions/34639208\">Custom Stream.collect in Kotlin</a></s></p>\n\n<p><strong>EDIT 11.08.2017:</strong> Chunked/windowed collection operations were added in kotlin 1.2 M2, see <a href=\"https://blog.jetbrains.com/kotlin/2017/08/kotlin-1-2-m2-is-out/\" rel=\"noreferrer\">https://blog.jetbrains.com/kotlin/2017/08/kotlin-1-2-m2-is-out/</a></p>\n\n<hr>\n\n<p>It is always good to explore the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index.html\" rel=\"noreferrer\">API Reference for kotlin.collections</a> as a whole before creating new functions that might already exist there.</p>\n\n<p>Here are some conversions from Java 8 <code>Stream.collect</code> examples to the equivalent in Kotlin:</p>\n\n<p><strong>Accumulate names into a List</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:  \nList&lt;String&gt; list = people.stream().map(Person::getName).collect(Collectors.toList());\n</code></pre>\n\n<pre><code>// Kotlin:\nval list = people.map { it.name }  // toList() not needed\n</code></pre>\n\n<p><strong>Convert elements to strings and concatenate them, separated by commas</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nString joined = things.stream()\n                       .map(Object::toString)\n                       .collect(Collectors.joining(\", \"));\n</code></pre>\n\n<pre><code>// Kotlin:\nval joined = things.joinToString(\", \")\n</code></pre>\n\n<p><strong>Compute sum of salaries of employee</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nint total = employees.stream()\n                      .collect(Collectors.summingInt(Employee::getSalary)));\n</code></pre>\n\n<pre><code>// Kotlin:\nval total = employees.sumBy { it.salary }\n</code></pre>\n\n<p><strong>Group employees by department</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nMap&lt;Department, List&lt;Employee&gt;&gt; byDept\n     = employees.stream()\n                .collect(Collectors.groupingBy(Employee::getDepartment));\n</code></pre>\n\n<pre><code>// Kotlin:\nval byDept = employees.groupBy { it.department }\n</code></pre>\n\n<p><strong>Compute sum of salaries by department</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nMap&lt;Department, Integer&gt; totalByDept\n     = employees.stream()\n                .collect(Collectors.groupingBy(Employee::getDepartment,\n                     Collectors.summingInt(Employee::getSalary)));\n</code></pre>\n\n<pre><code>// Kotlin:\nval totalByDept = employees.groupBy { it.dept }.mapValues { it.value.sumBy { it.salary }}\n</code></pre>\n\n<p><strong>Partition students into passing and failing</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nMap&lt;Boolean, List&lt;Student&gt;&gt; passingFailing =\n     students.stream()\n             .collect(Collectors.partitioningBy(s -&gt; s.getGrade() &gt;= PASS_THRESHOLD));\n</code></pre>\n\n<pre><code>// Kotlin:\nval passingFailing = students.partition { it.grade &gt;= PASS_THRESHOLD }\n</code></pre>\n\n<p><strong>Names of male members</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nList&lt;String&gt; namesOfMaleMembers = roster\n    .stream()\n    .filter(p -&gt; p.getGender() == Person.Sex.MALE)\n    .map(p -&gt; p.getName())\n    .collect(Collectors.toList());\n</code></pre>\n\n<pre><code>// Kotlin:\nval namesOfMaleMembers = roster.filter { it.gender == Person.Sex.MALE }.map { it.name }\n</code></pre>\n\n<p><strong>Group names of members in roster by gender</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nMap&lt;Person.Sex, List&lt;String&gt;&gt; namesByGender =\n      roster.stream().collect(\n        Collectors.groupingBy(\n            Person::getGender,                      \n            Collectors.mapping(\n                Person::getName,\n                Collectors.toList())));\n</code></pre>\n\n<pre><code>// Kotlin:\nval namesByGender = roster.groupBy { it.gender }.mapValues { it.value.map { it.name } }   \n</code></pre>\n\n<p><strong>Filter a list to another list</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nList&lt;String&gt; filtered = items.stream()\n    .filter( item -&gt; item.startsWith(\"o\") )\n    .collect(Collectors.toList());\n</code></pre>\n\n<pre><code>// Kotlin:\nval filtered = items.filter { it.startsWith('o') } \n</code></pre>\n\n<p><strong>Finding shortest string a list</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nString shortest = items.stream()\n    .min(Comparator.comparing(item -&gt; item.length()))\n    .get();\n</code></pre>\n\n<pre><code>// Kotlin:\nval shortest = items.minBy { it.length }\n</code></pre>\n\n<p><strong>Counting items in a list after filter is applied</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nlong count = items.stream().filter( item -&gt; item.startsWith(\"t\")).count();\n</code></pre>\n\n<pre><code>// Kotlin:\nval count = items.filter { it.startsWith('t') }.size\n// but better to not filter, but count with a predicate\nval count = items.count { it.startsWith('t') }\n</code></pre>\n\n<p>and on it goes...  In all cases, no special fold, reduce, or other functionality was required to mimic <code>Stream.collect</code>.  If you have further use cases, add them in comments and we can see!</p>\n\n<h2>About laziness</h2>\n\n<p>If you want to lazy process a chain, you can convert to a <code>Sequence</code> using <code>asSequence()</code> before the chain.  At the end of the chain of functions, you usually end up with a <code>Sequence</code> as well.  Then you can use <code>toList()</code>, <code>toSet()</code>, <code>toMap()</code> or some other function to materialize the <code>Sequence</code> at the end.</p>\n\n<pre><code>// switch to and from lazy\nval someList = items.asSequence().filter { ... }.take(10).map { ... }.toList()\n\n// switch to lazy, but sorted() brings us out again at the end\nval someList = items.asSequence().filter { ... }.take(10).map { ... }.sorted()\n</code></pre>\n\n<h2>Why are there no Types?!?</h2>\n\n<p>You will notice the Kotlin examples do not specify the types.  This is because Kotlin has full type inference and is completely type safe at compile time.  More so than Java because it also has nullable types and can help prevent the dreaded NPE.  So this in Kotlin:</p>\n\n<pre><code>val someList = people.filter { it.age &lt;= 30 }.map { it.name }\n</code></pre>\n\n<p>is the same as:</p>\n\n<pre><code>val someList: List&lt;String&gt; = people.filter { it.age &lt;= 30 }.map { it.name }\n</code></pre>\n\n<p>Because Kotlin knows what <code>people</code> is, and that <code>people.age</code> is <code>Int</code> therefore the filter expression only allows comparison to an <code>Int</code>, and that <code>people.name</code> is a <code>String</code> therefore the <code>map</code> step produces a <code>List&lt;String&gt;</code> (readonly <code>List</code> of <code>String</code>).</p>\n\n<p>Now, if <code>people</code> were possibly <code>null</code>, as-in a <code>List&lt;People&gt;?</code> then:</p>\n\n<pre><code>val someList = people?.filter { it.age &lt;= 30 }?.map { it.name }\n</code></pre>\n\n<p>Returns a <code>List&lt;String&gt;?</code> that would need to be null checked (<em>or use one of the other Kotlin operators for nullable values, see this <a href=\"https://stackoverflow.com/questions/34498562/in-kotlin-what-is-the-idiomatic-way-to-deal-with-nullable-values-referencing-o\">Kotlin idiomatic way to deal with nullable values</a> and also <a href=\"https://stackoverflow.com/questions/26341225/idiomatic-way-of-handling-nullable-or-empty-list-in-kotlin\">Idiomatic way of handling nullable or empty list in Kotlin</a></em>)</p>\n\n<h2>See also:</h2>\n\n<ul>\n<li>API Reference for <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/kotlin.-iterable/index.html\" rel=\"noreferrer\">extension functions for Iterable</a></li>\n<li>API reference for <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/kotlin.-array/index.html\" rel=\"noreferrer\">extension functions for Array</a></li>\n<li>API reference for <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/kotlin.-list/index.html\" rel=\"noreferrer\">extension functions for List</a></li>\n<li>API reference for <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/kotlin.-map/index.html\" rel=\"noreferrer\">extension functions to Map</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 16853, "user_id": 4101725, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dGwoPMFb_tM/AAAAAAAAAAI/AAAAAAAABks/tMMqc6E9REg/photo.jpg?sz=128", "display_name": "Michele d&#39;Amico", "link": "https://stackoverflow.com/users/4101725/michele-damico"}, "edited": false, "score": 0, "creation_date": 1454935990, "post_id": 34661483, "comment_id": 58251432, "body": "In stream 5 there isn&#39;t any plus to use two maps instead of one <code>.map { it.substring(1).toInt() }</code>: as you know well inferred type is one of kotlin power."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 16853, "user_id": 4101725, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dGwoPMFb_tM/AAAAAAAAAAI/AAAAAAAABks/tMMqc6E9REg/photo.jpg?sz=128", "display_name": "Michele d&#39;Amico", "link": "https://stackoverflow.com/users/4101725/michele-damico"}, "edited": false, "score": 0, "creation_date": 1455037152, "post_id": 34661483, "comment_id": 58305759, "body": "true, but there is no downside either (for comparability I kept them separate)"}, {"owner": {"reputation": 920, "user_id": 1481689, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/10d0339242a000b0b683ed1d5e25a110?s=128&d=identicon&r=PG", "display_name": "Howard Lovatt", "link": "https://stackoverflow.com/users/1481689/howard-lovatt"}, "edited": false, "score": 0, "creation_date": 1523954944, "post_id": 34661483, "comment_id": 86762488, "body": "But the Java code can easily be made parallel, so in many cases you would be better off calling the Java stream code from Kotlin."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 920, "user_id": 1481689, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/10d0339242a000b0b683ed1d5e25a110?s=128&d=identicon&r=PG", "display_name": "Howard Lovatt", "link": "https://stackoverflow.com/users/1481689/howard-lovatt"}, "edited": false, "score": 0, "creation_date": 1524138494, "post_id": 34661483, "comment_id": 86856131, "body": "@HowardLovatt there are many cases where parallel is not the way to go, especially in heavy concurrent environments where you are already in a thread pool.  I&#39;m betting the average use case is NOT parallel, and it is the rare case.  But of course, you always have the option to use Java classes as you see fit, and none of this was really the purpose of this question and answer."}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 47, "last_activity_date": 1506356278, "last_edit_date": 1506356278, "creation_date": 1452187669, "answer_id": 34661483, "question_id": 34642254, "link": "https://stackoverflow.com/questions/34642254/what-java-8-stream-collect-equivalents-are-available-in-the-standard-kotlin-libr/34661483#34661483", "title": "What Java 8 Stream.collect equivalents are available in the standard Kotlin library?", "body": "<p>For additional examples, here are all the samples from <a href=\"http://winterbe.com/posts/2014/07/31/java8-stream-tutorial-examples/\" rel=\"noreferrer\">Java 8 Stream Tutorial</a> converted to Kotlin.  The title of each example, is derived from the source article:</p>\n\n<p><strong>How streams work</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nList&lt;String&gt; myList = Arrays.asList(\"a1\", \"a2\", \"b1\", \"c2\", \"c1\");\n\nmyList.stream()\n      .filter(s -&gt; s.startsWith(\"c\"))\n      .map(String::toUpperCase)\n     .sorted()\n     .forEach(System.out::println);\n\n// C1\n// C2\n</code></pre>\n\n<pre><code>// Kotlin:\nval list = listOf(\"a1\", \"a2\", \"b1\", \"c2\", \"c1\")\nlist.filter { it.startsWith('c') }.map (String::toUpperCase).sorted()\n        .forEach (::println)\n</code></pre>\n\n<p><strong>Different Kinds of Streams #1</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nArrays.asList(\"a1\", \"a2\", \"a3\")\n    .stream()\n    .findFirst()\n    .ifPresent(System.out::println);    \n</code></pre>\n\n<pre><code>// Kotlin:\nlistOf(\"a1\", \"a2\", \"a3\").firstOrNull()?.apply(::println)\n</code></pre>\n\n<p>or, create an extension function on String called ifPresent:</p>\n\n<pre><code>// Kotlin:\ninline fun String?.ifPresent(thenDo: (String)-&gt;Unit) = this?.apply { thenDo(this) }\n\n// now use the new extension function:\nlistOf(\"a1\", \"a2\", \"a3\").firstOrNull().ifPresent(::println)\n</code></pre>\n\n<p>See also: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html\" rel=\"noreferrer\"><code>apply()</code> function</a></p>\n\n<p>See also: <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"noreferrer\">Extension Functions</a></p>\n\n<p>See also:  <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"noreferrer\"><code>?.</code> Safe Call operator</a>, and in general nullability: <a href=\"https://stackoverflow.com/questions/34498562/in-kotlin-what-is-the-idiomatic-way-to-deal-with-nullable-values-referencing-o/34498563#34498563\">In Kotlin, what is the idiomatic way to deal with nullable values, referencing or converting them</a></p>\n\n<p><strong>Different Kinds of Streams #2</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nStream.of(\"a1\", \"a2\", \"a3\")\n    .findFirst()\n    .ifPresent(System.out::println);    \n</code></pre>\n\n<pre><code>// Kotlin:\nsequenceOf(\"a1\", \"a2\", \"a3\").firstOrNull()?.apply(::println)\n</code></pre>\n\n<p><strong>Different Kinds of Streams #3</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nIntStream.range(1, 4).forEach(System.out::println);\n</code></pre>\n\n<pre><code>// Kotlin:  (inclusive range)\n(1..3).forEach(::println)\n</code></pre>\n\n<p><strong>Different Kinds of Streams #4</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nArrays.stream(new int[] {1, 2, 3})\n    .map(n -&gt; 2 * n + 1)\n    .average()\n    .ifPresent(System.out::println); // 5.0    \n</code></pre>\n\n<pre><code>// Kotlin:\narrayOf(1,2,3).map { 2 * it + 1}.average().apply(::println)\n</code></pre>\n\n<p><strong>Different Kinds of Streams #5</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nStream.of(\"a1\", \"a2\", \"a3\")\n    .map(s -&gt; s.substring(1))\n    .mapToInt(Integer::parseInt)\n    .max()\n    .ifPresent(System.out::println);  // 3\n</code></pre>\n\n<pre><code>// Kotlin:\nsequenceOf(\"a1\", \"a2\", \"a3\")\n    .map { it.substring(1) }\n    .map(String::toInt)\n    .max().apply(::println)\n</code></pre>\n\n<p><strong>Different Kinds of Streams #6</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nIntStream.range(1, 4)\n    .mapToObj(i -&gt; \"a\" + i)\n    .forEach(System.out::println);\n\n// a1\n// a2\n// a3    \n</code></pre>\n\n<pre><code>// Kotlin:  (inclusive range)\n(1..3).map { \"a$it\" }.forEach(::println)\n</code></pre>\n\n<p><strong>Different Kinds of Streams #7</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nStream.of(1.0, 2.0, 3.0)\n    .mapToInt(Double::intValue)\n    .mapToObj(i -&gt; \"a\" + i)\n    .forEach(System.out::println);\n\n// a1\n// a2\n// a3\n</code></pre>\n\n<pre><code>// Kotlin:\nsequenceOf(1.0, 2.0, 3.0).map(Double::toInt).map { \"a$it\" }.forEach(::println)\n</code></pre>\n\n<h2>Why Order Matters</h2>\n\n<p>This section of the Java 8 Stream Tutorial is the same for Kotlin and Java.</p>\n\n<h2>Reusing Streams</h2>\n\n<p>In Kotlin, it depends on the type of collection whether it can be consumed more than once.  A <code>Sequence</code> generates a new iterator every time, and unless it asserts \"use only once\" it can reset to the start each time it is acted upon.  Therefore while the following fails in Java 8 stream, but works in Kotlin:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nStream&lt;String&gt; stream =\nStream.of(\"d2\", \"a2\", \"b1\", \"b3\", \"c\").filter(s -&gt; s.startsWith(\"b\"));\n\nstream.anyMatch(s -&gt; true);    // ok\nstream.noneMatch(s -&gt; true);   // exception\n</code></pre>\n\n<pre><code>// Kotlin:  \nval stream = listOf(\"d2\", \"a2\", \"b1\", \"b3\", \"c\").asSequence().filter { it.startsWith('b' ) }\n\nstream.forEach(::println) // b1, b2\n\nprintln(\"Any B ${stream.any { it.startsWith('b') }}\") // Any B true\nprintln(\"Any C ${stream.any { it.startsWith('c') }}\") // Any C false\n\nstream.forEach(::println) // b1, b2\n</code></pre>\n\n<p>And in Java to get the same behavior:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nSupplier&lt;Stream&lt;String&gt;&gt; streamSupplier =\n    () -&gt; Stream.of(\"d2\", \"a2\", \"b1\", \"b3\", \"c\")\n          .filter(s -&gt; s.startsWith(\"a\"));\n\nstreamSupplier.get().anyMatch(s -&gt; true);   // ok\nstreamSupplier.get().noneMatch(s -&gt; true);  // ok\n</code></pre>\n\n<p>Therefore in Kotlin the provider of the data decides if it can reset back and provide a new iterator or not.  But if you want to intentionally constrain a <code>Sequence</code> to one time iteration, you can use <code>constrainOnce()</code> function for <code>Sequence</code> as follows:</p>\n\n<pre><code>val stream = listOf(\"d2\", \"a2\", \"b1\", \"b3\", \"c\").asSequence().filter { it.startsWith('b' ) }\n        .constrainOnce()\n\nstream.forEach(::println) // b1, b2\nstream.forEach(::println) // Error:java.lang.IllegalStateException: This sequence can be consumed only once. \n</code></pre>\n\n<h2>Advanced Operations</h2>\n\n<p><strong>Collect example #5</strong> (yes, I skipped those already in the other answer)</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nString phrase = persons\n        .stream()\n        .filter(p -&gt; p.age &gt;= 18)\n        .map(p -&gt; p.name)\n        .collect(Collectors.joining(\" and \", \"In Germany \", \" are of legal age.\"));\n\n    System.out.println(phrase);\n    // In Germany Max and Peter and Pamela are of legal age.    \n</code></pre>\n\n<pre><code>// Kotlin:\nval phrase = persons.filter { it.age &gt;= 18 }.map { it.name }\n        .joinToString(\" and \", \"In Germany \", \" are of legal age.\")\n\nprintln(phrase)\n// In Germany Max and Peter and Pamela are of legal age.\n</code></pre>\n\n<p>And as a side note, in Kotlin we can create simple <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"noreferrer\">data classes</a> and instantiate the test data as follows:</p>\n\n<pre><code>// Kotlin:\n// data class has equals, hashcode, toString, and copy methods automagically\ndata class Person(val name: String, val age: Int) \n\nval persons = listOf(Person(\"Tod\", 5), Person(\"Max\", 33), \n                     Person(\"Frank\", 13), Person(\"Peter\", 80),\n                     Person(\"Pamela\", 18))\n</code></pre>\n\n<p><strong>Collect example #6</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nMap&lt;Integer, String&gt; map = persons\n        .stream()\n        .collect(Collectors.toMap(\n                p -&gt; p.age,\n                p -&gt; p.name,\n                (name1, name2) -&gt; name1 + \";\" + name2));\n\nSystem.out.println(map);\n// {18=Max, 23=Peter;Pamela, 12=David}    \n</code></pre>\n\n<p>Ok, a more interest case here for Kotlin.  First the wrong answers to explore variations of creating a <code>Map</code> from a collection/sequence: </p>\n\n<pre><code>// Kotlin:\nval map1 = persons.map { it.age to it.name }.toMap()\nprintln(map1)\n// output: {18=Max, 23=Pamela, 12=David} \n// Result: duplicates overridden, no exception similar to Java 8\n\nval map2 = persons.toMap({ it.age }, { it.name })\nprintln(map2)\n// output: {18=Max, 23=Pamela, 12=David} \n// Result: same as above, more verbose, duplicates overridden\n\nval map3 = persons.toMapBy { it.age }\nprintln(map3)\n// output: {18=Person(name=Max, age=18), 23=Person(name=Pamela, age=23), 12=Person(name=David, age=12)}\n// Result: duplicates overridden again\n\nval map4 = persons.groupBy { it.age }\nprintln(map4)\n// output: {18=[Person(name=Max, age=18)], 23=[Person(name=Peter, age=23), Person(name=Pamela, age=23)], 12=[Person(name=David, age=12)]}\n// Result: closer, but now have a Map&lt;Int, List&lt;Person&gt;&gt; instead of Map&lt;Int, String&gt;\n\nval map5 = persons.groupBy { it.age }.mapValues { it.value.map { it.name } }\nprintln(map5)\n// output: {18=[Max], 23=[Peter, Pamela], 12=[David]}\n// Result: closer, but now have a Map&lt;Int, List&lt;String&gt;&gt; instead of Map&lt;Int, String&gt;\n</code></pre>\n\n<p>And now for the correct answer:</p>\n\n<pre><code>// Kotlin:\nval map6 = persons.groupBy { it.age }.mapValues { it.value.joinToString(\";\") { it.name } }\n\nprintln(map6)\n// output: {18=Max, 23=Peter;Pamela, 12=David}\n// Result: YAY!!\n</code></pre>\n\n<p>We just needed to join the matching values to collapse the lists and provide a transformer to <code>jointToString</code> to move from <code>Person</code> instance to the <code>Person.name</code>.</p>\n\n<p><strong>Collect example #7</strong></p>\n\n<p>Ok, this one can easily be done without a custom <code>Collector</code>, so let's solve it the Kotlin way, then contrive a new example that shows how to do a similar process for <code>Collector.summarizingInt</code> which does not natively exist in Kotlin.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nCollector&lt;Person, StringJoiner, String&gt; personNameCollector =\nCollector.of(\n        () -&gt; new StringJoiner(\" | \"),          // supplier\n        (j, p) -&gt; j.add(p.name.toUpperCase()),  // accumulator\n        (j1, j2) -&gt; j1.merge(j2),               // combiner\n        StringJoiner::toString);                // finisher\n\nString names = persons\n        .stream()\n        .collect(personNameCollector);\n\nSystem.out.println(names);  // MAX | PETER | PAMELA | DAVID    \n</code></pre>\n\n<pre><code>// Kotlin:\nval names = persons.map { it.name.toUpperCase() }.joinToString(\" | \")\n</code></pre>\n\n<p><em>It's not my fault they picked a trivial example!!!</em>  Ok, here is a new <code>summarizingInt</code> method for Kotlin and a matching sample:</p>\n\n<p><strong>SummarizingInt Example</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Java:\nIntSummaryStatistics ageSummary =\n    persons.stream()\n           .collect(Collectors.summarizingInt(p -&gt; p.age));\n\nSystem.out.println(ageSummary);\n// IntSummaryStatistics{count=4, sum=76, min=12, average=19.000000, max=23}    \n</code></pre>\n\n<pre><code>// Kotlin:\n\n// something to hold the stats...\ndata class SummaryStatisticsInt(var count: Int = 0,  \n                                var sum: Int = 0, \n                                var min: Int = Int.MAX_VALUE, \n                                var max: Int = Int.MIN_VALUE, \n                                var avg: Double = 0.0) {\n    fun accumulate(newInt: Int): SummaryStatisticsInt {\n        count++\n        sum += newInt\n        min = min.coerceAtMost(newInt)\n        max = max.coerceAtLeast(newInt)\n        avg = sum.toDouble() / count\n        return this\n    }\n}\n\n// Now manually doing a fold, since Stream.collect is really just a fold\nval stats = persons.fold(SummaryStatisticsInt()) { stats, person -&gt; stats.accumulate(person.age) }\n\nprintln(stats)\n// output: SummaryStatisticsInt(count=4, sum=76, min=12, max=23, avg=19.0)\n</code></pre>\n\n<p>But it is better to create an extension function, 2 actually to match styles in Kotlin stdlib:</p>\n\n<pre><code>// Kotlin:\ninline fun Collection&lt;Int&gt;.summarizingInt(): SummaryStatisticsInt\n        = this.fold(SummaryStatisticsInt()) { stats, num -&gt; stats.accumulate(num) }\n\ninline fun &lt;T: Any&gt; Collection&lt;T&gt;.summarizingInt(transform: (T)-&gt;Int): SummaryStatisticsInt =\n        this.fold(SummaryStatisticsInt()) { stats, item -&gt; stats.accumulate(transform(item)) }\n</code></pre>\n\n<p>Now you have two ways to use the new <code>summarizingInt</code> functions:</p>\n\n<pre><code>val stats2 = persons.map { it.age }.summarizingInt()\n\n// or\n\nval stats3 = persons.summarizingInt { it.age }\n</code></pre>\n\n<p>And all of these produce the same results.  We can also create this extension to work on <code>Sequence</code> and for appropriate primitive types.</p>\n\n<p>For fun, <a href=\"https://gist.github.com/apatrida/fe04727fa0db290d140f\" rel=\"noreferrer\">compare the Java JDK code vs. Kotlin custom code</a> required to implement this summarization. </p>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 3, "last_activity_date": 1456839016, "creation_date": 1456839016, "answer_id": 35724284, "question_id": 34642254, "link": "https://stackoverflow.com/questions/34642254/what-java-8-stream-collect-equivalents-are-available-in-the-standard-kotlin-libr/35724284#35724284", "title": "What Java 8 Stream.collect equivalents are available in the standard Kotlin library?", "body": "<p>There are some cases where it is hard to avoid calling <code>collect(Collectors.toList())</code> or similar.  In those cases, you can more quickly change to a Kotlin equivalent using extension functions such as:</p>\n\n\n\n<pre><code>fun &lt;T: Any&gt; Stream&lt;T&gt;.toList(): List&lt;T&gt; = this.collect(Collectors.toList&lt;T&gt;())\nfun &lt;T: Any&gt; Stream&lt;T&gt;.asSequence(): Sequence&lt;T&gt; = this.iterator().asSequence()\n</code></pre>\n\n<p>Then you can simply <code>stream.toList()</code> or <code>stream.asSequence()</code> to move back into the Kotlin API.  A case such as <code>Files.list(path)</code> forces you into a <code>Stream</code> when you may not want it, and these extensions can help you to shift back into the standard collections and Kotlin API.</p>\n"}, {"tags": [], "owner": {"reputation": 8911, "user_id": 775138, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XAKUy.jpg?s=128&g=1", "display_name": "herman", "link": "https://stackoverflow.com/users/775138/herman"}, "is_accepted": false, "score": 2, "last_activity_date": 1521741768, "creation_date": 1521741768, "answer_id": 49435547, "question_id": 34642254, "link": "https://stackoverflow.com/questions/34642254/what-java-8-stream-collect-equivalents-are-available-in-the-standard-kotlin-libr/49435547#49435547", "title": "What Java 8 Stream.collect equivalents are available in the standard Kotlin library?", "body": "<h2>More on laziness</h2>\n\n<p>Let's take the example solution for \"Compute sum of salaries by department\" given by Jayson:</p>\n\n<pre><code>val totalByDept = employees.groupBy { it.dept }.mapValues { it.value.sumBy { it.salary }}\n</code></pre>\n\n<p>In order to make this lazy (i.e. avoid creating an intermediate map in the <code>groupBy</code> step), it is not possible to use <code>asSequence()</code>.  Instead, we must use <code>groupingBy</code> and <code>fold</code> operation:</p>\n\n<pre><code>val totalByDept = employees.groupingBy { it.dept }.fold(0) { acc, e -&gt; acc + e.salary }\n</code></pre>\n\n<p>To some people this may even be more readable, since you're not dealing with map entries: the <code>it.value</code> part in the solution was confusing for me too at first.</p>\n\n<p>Since this is a common case and we'd prefer not to write out the <code>fold</code> each time, it may be better to just provide a generic <code>sumBy</code> function on <code>Grouping</code>:</p>\n\n<pre><code>public inline fun &lt;T, K&gt; Grouping&lt;T, K&gt;.sumBy(\n        selector: (T) -&gt; Int\n): Map&lt;K, Int&gt; = \n        fold(0) { acc, element -&gt; acc + selector(element) }\n</code></pre>\n\n<p>so that we can simply write:</p>\n\n<pre><code>val totalByDept = employees.groupingBy { it.dept }.sumBy { it.salary }\n</code></pre>\n"}], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41041, "favorite_count": 107, "accepted_answer_id": 34642255, "answer_count": 4, "score": 190, "last_activity_date": 1557067146, "creation_date": 1452112475, "last_edit_date": 1551966431, "question_id": 34642254, "link": "https://stackoverflow.com/questions/34642254/what-java-8-stream-collect-equivalents-are-available-in-the-standard-kotlin-libr", "title": "What Java 8 Stream.collect equivalents are available in the standard Kotlin library?", "body": "<p>In Java 8, there is <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html#collect\" rel=\"noreferrer\"><code>Stream.collect</code></a> which allows aggregations on collections.  In Kotlin, this does not exist in the same way, other than maybe as a collection of extension functions in the stdlib.  But it isn't clear what the equivalences are for different use cases.  </p>\n\n<p>For example, at the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"noreferrer\">top of the JavaDoc for <code>Collectors</code></a> are examples written for Java 8, and when porting them to Kolin you can't use the Java 8 classes when on a different JDK version, so likely they should be written differently.  </p>\n\n<p>In terms of resources online showing examples of Kotlin collections, they are typically trivial and don't really compare to the same use cases.  What are good examples that really match the cases such as documented for Java 8 <code>Stream.collect</code>?  The list there is:</p>\n\n<ul>\n<li>Accumulate names into a List</li>\n<li>Accumulate names into a TreeSet</li>\n<li>Convert elements to strings and concatenate them, separated by commas</li>\n<li>Compute sum of salaries of employee</li>\n<li>Group employees by department</li>\n<li>Compute sum of salaries by department</li>\n<li>Partition students into passing and failing</li>\n</ul>\n\n<p>With details in the JavaDoc linked above.</p>\n\n<p><strong><em>Note:</em></strong> <em>this question is intentionally written and answered by the author (<a href=\"https://stackoverflow.blog/2011/07/01/its-ok-to-ask-and-answer-your-own-questions/\">Self-Answered Questions</a>), so that the idiomatic answers to commonly asked Kotlin topics are present in SO. Also to clarify some really old answers written for alphas of Kotlin that are not accurate for current-day Kotlin.</em></p>\n"}, {"tags": ["java", "spring-boot", "netflix", "netflix-feign"], "comments": [{"owner": {"reputation": 7383, "user_id": 562721, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/8f6ef5e2c4cb0e53d8309342a70131c5?s=128&d=identicon&r=PG", "display_name": "jny", "link": "https://stackoverflow.com/users/562721/jny"}, "edited": false, "score": 2, "creation_date": 1452118965, "post_id": 34642246, "comment_id": 57033820, "body": "I just tried your example and using <code>http:&#47;&#47;MovieService</code> (instead of https) solved this issue, I saw another one (<code>Exception in thread &quot;main&quot; feign.codec.DecodeException: java.util.List&lt;java.lang.String&gt; is not a type supported by this decoder.</code>) but that was because of missing decoder in the builder"}, {"owner": {"reputation": 2217, "user_id": 863180, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/Siyv1.jpg?s=128&g=1", "display_name": "cremersstijn", "link": "https://stackoverflow.com/users/863180/cremersstijn"}, "reply_to_user": {"reputation": 7383, "user_id": 562721, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/8f6ef5e2c4cb0e53d8309342a70131c5?s=128&d=identicon&r=PG", "display_name": "jny", "link": "https://stackoverflow.com/users/562721/jny"}, "edited": false, "score": 0, "creation_date": 1453316461, "post_id": 34642246, "comment_id": 57552506, "body": "that indeed solved my problem. Thanks"}], "owner": {"reputation": 2217, "user_id": 863180, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/Siyv1.jpg?s=128&g=1", "display_name": "cremersstijn", "link": "https://stackoverflow.com/users/863180/cremersstijn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1420, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1452113103, "creation_date": 1452112448, "last_edit_date": 1452113103, "question_id": 34642246, "link": "https://stackoverflow.com/questions/34642246/using-feign-with-ribbon-on-spring-boot-cannot-parse-header", "title": "Using feign with ribbon on spring boot cannot parse header", "body": "<p>I am doing some test with ribbon and feign to connect to an api. \nThe api is running using spring boot:</p>\n\n<pre><code>@Controller\n@EnableAutoConfiguration\npublic class MovieService {\n\n    @RequestMapping(\"/\")\n    @ResponseBody\n    List&lt;String&gt; findAllMovies() {\n        System.out.println(\"finding all movies\");\n        return Arrays.asList(\"start wars\", \"inception\", \"the martian\");\n    }\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(MovieService.class, args);\n    }\n}\n</code></pre>\n\n<p>This is my client code using:\nthe feign interface:</p>\n\n<pre><code>public interface MovieService {\n\n    @RequestLine(\"GET /\")\n    List&lt;String&gt; findAllMovies();\n\n}\n</code></pre>\n\n<p>When i use feign alone everything works:</p>\n\n<pre><code>public class MovieClient {\n\n    public static void main(String args[]) {\n        MovieService movieService = Feign.builder()\n                .decoder(new GsonDecoder())\n                .target(MovieService.class, \"http://localhost:8080\");\n        System.out.println(movieService.findAllMovies());\n\n    }\n\n}\n</code></pre>\n\n<p>But when i also use ribbon:</p>\n\n<pre><code>public class MovieClient {\n\n    public static void main(String args[]) {\n        ConfigurationManager.getConfigInstance().setProperty(\"MovieService.ribbon.\" + CommonClientConfigKey.MaxAutoRetriesNextServer, \"3\");\n        ConfigurationManager.getConfigInstance().setProperty(\"MovieService.ribbon.\" + CommonClientConfigKey.ListOfServers, \"localhost:8080\");\n\n        MovieService movieService = Feign.builder().client(RibbonClient.create()).target(MovieService.class, \"https://MovieService\");\n        System.out.println(movieService.findAllMovies());\n    }\n\n}\n</code></pre>\n\n<p>I get the following error in the spring boot server logging:</p>\n\n<pre><code>2016-01-06 21:26:50.670  INFO 61353 --- [nio-8080-exec-1] o.a.coyote.http11.Http11NioProcessor     : Error parsing HTTP request header\n Note: further occurrences of HTTP header parsing errors will be logged at DEBUG level.\n\njava.lang.ArrayIndexOutOfBoundsException: -64\n    at org.apache.coyote.http11.AbstractNioInputBuffer.parseHeader(AbstractNioInputBuffer.java:474) ~[tomcat-embed-core-8.0.30.jar:8.0.30]\n    at org.apache.coyote.http11.AbstractNioInputBuffer.parseHeaders(AbstractNioInputBuffer.java:381) ~[tomcat-embed-core-8.0.30.jar:8.0.30]\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1025) ~[tomcat-embed-core-8.0.30.jar:8.0.30]\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:674) [tomcat-embed-core-8.0.30.jar:8.0.30]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500) [tomcat-embed-core-8.0.30.jar:8.0.30]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456) [tomcat-embed-core-8.0.30.jar:8.0.30]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_05]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_05]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.0.30.jar:8.0.30]\n    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_05]\n</code></pre>\n\n<p>It looks like i am receiving the following header in my spring boot app:</p>\n\n<pre><code>2016-01-06 21:43:52.606 DEBUG 61415 --- [nio-8080-exec-9] o.a.c.http11.InternalNioInputBuffer      : Received [\u00cf\u00cbV|j\u00e0^kg\u00e1x\u00fe\u00e6\u00e8\u00f0Mn\u00a8{o\u00fd\u00b2]A\u00ec7F\u00c0#\u00c0'&lt;\u00c0%\u00c0)g@\u00c0  \u00c0/\u00c0\u00c032\u00c0\u00c0\u00c0\u00c0\u00c0+\u00c0/\u00c0-\u00c01\u00a2\u00c0\u00c0\n\u00ff\\\n42  \n</code></pre>\n\n<p>Any idea what i'm doing wrong? Am i missing something?</p>\n"}, {"tags": ["java", "apache", "tomcat", "ubuntu", "tomcat8"], "comments": [{"owner": {"reputation": 10192, "user_id": 2472820, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Yk9I5.jpg?s=128&g=1", "display_name": "Kon", "link": "https://stackoverflow.com/users/2472820/kon"}, "edited": false, "score": 0, "creation_date": 1452112349, "post_id": 34642211, "comment_id": 57030359, "body": "chmod to give permissions in full on that folder"}, {"owner": {"reputation": 199, "user_id": 5715878, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10153364821304308/picture?type=large", "display_name": "CSLearner", "link": "https://stackoverflow.com/users/5715878/cslearner"}, "reply_to_user": {"reputation": 10192, "user_id": 2472820, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Yk9I5.jpg?s=128&g=1", "display_name": "Kon", "link": "https://stackoverflow.com/users/2472820/kon"}, "edited": false, "score": 0, "creation_date": 1452112534, "post_id": 34642211, "comment_id": 57030458, "body": "Just chmod 777 everything?"}, {"owner": {"reputation": 43212, "user_id": 13447, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K6sTa.jpg?s=128&g=1", "display_name": "Olaf Kock", "link": "https://stackoverflow.com/users/13447/olaf-kock"}, "edited": false, "score": 0, "creation_date": 1452112599, "post_id": 34642211, "comment_id": 57030502, "body": "Open everything to the world? Well - your choice. I&#39;d not do it. Tomcat runs as a specific user. It&#39;s ok to just give that user permissions to the directory. Or not use manager - rather copy the file there through the OS"}, {"owner": {"reputation": 199, "user_id": 5715878, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10153364821304308/picture?type=large", "display_name": "CSLearner", "link": "https://stackoverflow.com/users/5715878/cslearner"}, "edited": false, "score": 0, "creation_date": 1452112835, "post_id": 34642211, "comment_id": 57030621, "body": "I&#39;m a newbie.  How would I go about creating the specific user and then giving it permissions to deploy the WAR?"}, {"owner": {"reputation": 43212, "user_id": 13447, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K6sTa.jpg?s=128&g=1", "display_name": "Olaf Kock", "link": "https://stackoverflow.com/users/13447/olaf-kock"}, "edited": false, "score": 0, "creation_date": 1452113030, "post_id": 34642211, "comment_id": 57030727, "body": "your /opt/tomcat/webapps directory belongs to someone (execute <code>ls -l &#47;opt&#47;tomcat&#47;webapps</code> to see whom it belongs to). While tomcat is running, execute <code>ps aux | grep catalina</code> to see which user is running tomcat. You <i>could</i> <code>chown thatuser &#47;opt&#47;tomcat&#47;webapps</code>. However, for production systems I&#39;d strongly recommend to not have the manager application running and tomcat&#39;s own directory writeable to itself. It opens up quite a few attack vectors and is bad practice"}, {"owner": {"reputation": 43212, "user_id": 13447, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K6sTa.jpg?s=128&g=1", "display_name": "Olaf Kock", "link": "https://stackoverflow.com/users/13447/olaf-kock"}, "edited": false, "score": 0, "creation_date": 1452113183, "post_id": 34642211, "comment_id": 57030807, "body": "(by the way: on a local dev system, the risk for <code>chmod 777</code> is lower and there&#39;s a point for doing it. Just be aware of the risk and don&#39;t do it to an internet-accessible system)"}, {"owner": {"reputation": 199, "user_id": 5715878, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10153364821304308/picture?type=large", "display_name": "CSLearner", "link": "https://stackoverflow.com/users/5715878/cslearner"}, "edited": false, "score": 0, "creation_date": 1452113291, "post_id": 34642211, "comment_id": 57030846, "body": "Yeah it&#39;s a local system but it never hurts to practice best practices whenever possible.  =)"}], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 5715878, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10153364821304308/picture?type=large", "display_name": "CSLearner", "link": "https://stackoverflow.com/users/5715878/cslearner"}, "edited": false, "score": 0, "creation_date": 1452132399, "post_id": 34643825, "comment_id": 57038172, "body": "Thanks for the help!"}], "tags": [], "owner": {"reputation": 43212, "user_id": 13447, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K6sTa.jpg?s=128&g=1", "display_name": "Olaf Kock", "link": "https://stackoverflow.com/users/13447/olaf-kock"}, "is_accepted": true, "score": 3, "last_activity_date": 1452118369, "creation_date": 1452118369, "answer_id": 34643825, "question_id": 34642211, "link": "https://stackoverflow.com/questions/34642211/error-while-trying-to-deploy-war-on-tomcat8-on-ubuntu-15-04/34643825#34643825", "title": "Error while trying to deploy WAR on Tomcat8 on Ubuntu 15.04", "body": "<p>Converting comments to an answer, adding more information:</p>\n\n<p>Your <code>/opt/tomcat/webapps</code> directory belongs to <em>someone</em> (execute <code>ls -l /opt/tomcat/webapps</code> to see whom it belongs to). </p>\n\n<p>While tomcat is running, execute <code>ps aux | grep catalina</code> to see which user is running tomcat (depends on the way you start it - might be your own current user). You <em>could</em> <code>chown &lt;thatuser&gt; /opt/tomcat/webapps</code>. However, for production systems I'd strongly recommend to not have the manager application running and tomcat's own directory writeable to itself. It opens up quite a few attack vectors and is bad practice IMHO</p>\n\n<p>If it's a local development system, comfort typically trumps security - and you might opt for keeping the manager app.</p>\n\n<p>To mitigate the potential manager-app problems in production, at least limit access to known IP-Addresses, keep the user database well maintained (not in tomcat-users.xml with clear text passwords). However, on my production systems, tomcat can not write to its own webapps directory - thus hot deployment of applications through the manager app won't work anyways...</p>\n"}], "owner": {"reputation": 199, "user_id": 5715878, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10153364821304308/picture?type=large", "display_name": "CSLearner", "link": "https://stackoverflow.com/users/5715878/cslearner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3364, "favorite_count": 0, "accepted_answer_id": 34643825, "answer_count": 1, "score": 1, "last_activity_date": 1452118369, "creation_date": 1452112315, "question_id": 34642211, "link": "https://stackoverflow.com/questions/34642211/error-while-trying-to-deploy-war-on-tomcat8-on-ubuntu-15-04", "title": "Error while trying to deploy WAR on Tomcat8 on Ubuntu 15.04", "body": "<p>I am trying to deploy a .war file using Tomcat8, Apache, and Ubuntu 15.04.  When I click \"Select WAR file to upload\" in the /manager section of tomcat I get the following error:</p>\n\n<blockquote>\n  <p>FAIL - Deploy Upload Failed, Exception: java.io.FileNotFoundException:\n  /opt/tomcat/webapps/musicStore.war (Permission denied)</p>\n</blockquote>\n\n<p>How would I fix this?</p>\n"}, {"tags": ["java", "sql", "jdbc", "sql-injection"], "comments": [{"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 4, "creation_date": 1452112360, "post_id": 34642190, "comment_id": 57030365, "body": "yes, you can enter login like <code>&#39;; drop table users_frontale; ---</code>"}, {"owner": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "edited": false, "score": 4, "creation_date": 1452112552, "post_id": 34642190, "comment_id": 57030470, "body": "No need to reinvent a wheel: use prepared statements."}, {"owner": {"reputation": 14844, "user_id": 243373, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NxxWB.jpg?s=128&g=1", "display_name": "TT.", "link": "https://stackoverflow.com/users/243373/tt"}, "edited": false, "score": 1, "creation_date": 1452112718, "post_id": 34642190, "comment_id": 57030567, "body": "To avoid SQL Injection, read up on OWASP SQL Injection guidelines."}, {"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 4, "creation_date": 1452112962, "post_id": 34642190, "comment_id": 57030686, "body": "Besides the obvious SQL injection problem, you are storing passwords unhashed which is also a security flaw."}, {"owner": {"reputation": 3840, "user_id": 3680045, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/21bacf881a89ca04db7db5172d49e9c4?s=128&d=identicon&r=PG&f=1", "display_name": "OPK", "link": "https://stackoverflow.com/users/3680045/opk"}, "edited": false, "score": 0, "creation_date": 1452113012, "post_id": 34642190, "comment_id": 57030721, "body": "Have you thought about using <code>Hibernate</code> instead of <code>JDBC</code>"}], "owner": {"reputation": 11, "user_id": 5057237, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10153301437996708/picture?type=large", "display_name": "Radouane Sefraoui", "link": "https://stackoverflow.com/users/5057237/radouane-sefraoui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1452112598, "creation_date": 1452112235, "last_edit_date": 1452112598, "question_id": 34642190, "link": "https://stackoverflow.com/questions/34642190/sql-injection-with-password-compared-from-keyboard", "title": "sql injection with password compared from keyboard", "body": "<p>im tryng to realise i java application, and i've been struggling with security beacause im new to this.\nso to avoid sql injection in authetification comparing the password directly from keyboard. </p>\n\n<p>so i want to know if there's any possible way we can still do an sql injection in this code? </p>\n\n<pre><code>login = in.readLine();\npass = in.readLine();\nresultat = conn.getConnexion().createStatement(\n            ResultSet.TYPE_SCROLL_INSENSITIVE,ResultSet.CONCUR_READ_ONLY).executeQuery(\"SELECT * FROM users_frontale WHERE login ='\"+login+\"'\");\n\n                if(resultat.first())    \n                    if(resultat.getString(\"password\").equals(pass))\n                        connexion=true;\n            } catch (SQLException e) {\n                e.printStackTrace();\n</code></pre>\n"}, {"tags": ["java", "android", "oop", "design-patterns"], "comments": [{"owner": {"reputation": 4639, "user_id": 4641455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80516e0fdc6fbaaf574bf3d00fa60395?s=128&d=identicon&r=PG&f=1", "display_name": "JFPicard", "link": "https://stackoverflow.com/users/4641455/jfpicard"}, "edited": false, "score": 0, "creation_date": 1452112511, "post_id": 34642170, "comment_id": 57030445, "body": "Maybe use Immutable objects.... Java String is implemented to be Immutable."}, {"owner": {"reputation": 2077, "user_id": 2801237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fSSw3.png?s=128&g=1", "display_name": "mawalker", "link": "https://stackoverflow.com/users/2801237/mawalker"}, "edited": false, "score": 0, "creation_date": 1452166727, "post_id": 34642170, "comment_id": 57053460, "body": "Please note that every single one of the examples below has a memory leak if the singleton is referenced inside a thread. You have to use WeakReference to store a context, otherwise you&#39;re context won&#39;t be GC&#39;d when it should be otherwise."}, {"owner": {"reputation": 4974, "user_id": 757293, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7529ae96ba82a11bc6fbbbdb86e5b561?s=128&d=identicon&r=PG", "display_name": "Vincent Hiribarren", "link": "https://stackoverflow.com/users/757293/vincent-hiribarren"}, "edited": false, "score": 0, "creation_date": 1452167066, "post_id": 34642170, "comment_id": 57053659, "body": "If you write about the context, usually a getApplicationContext() is done to have a context that encompass the whole activity lifecycle, so it is not GC&#39;ed while the app is live. I can modify the examples if you like."}], "answers": [{"comments": [{"owner": {"reputation": 4974, "user_id": 757293, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7529ae96ba82a11bc6fbbbdb86e5b561?s=128&d=identicon&r=PG", "display_name": "Vincent Hiribarren", "link": "https://stackoverflow.com/users/757293/vincent-hiribarren"}, "edited": false, "score": 0, "creation_date": 1452113283, "post_id": 34642356, "comment_id": 57030841, "body": "Not possible since the context object is not available everywhere, and other methods would require it. Dagger would have sense if I control the main app, but it is not the case, I only provide a library."}, {"owner": {"reputation": 30012, "user_id": 223429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58f9ade55e103e57dff12719da7f9e35?s=128&d=identicon&r=PG", "display_name": "Eugene Kuleshov", "link": "https://stackoverflow.com/users/223429/eugene-kuleshov"}, "reply_to_user": {"reputation": 4974, "user_id": 757293, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7529ae96ba82a11bc6fbbbdb86e5b561?s=128&d=identicon&r=PG", "display_name": "Vincent Hiribarren", "link": "https://stackoverflow.com/users/757293/vincent-hiribarren"}, "edited": false, "score": 0, "creation_date": 1452113479, "post_id": 34642356, "comment_id": 57030951, "body": "I&#39;m having a hard time to came up with an example when Context can&#39;t be obtained."}, {"owner": {"reputation": 4974, "user_id": 757293, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7529ae96ba82a11bc6fbbbdb86e5b561?s=128&d=identicon&r=PG", "display_name": "Vincent Hiribarren", "link": "https://stackoverflow.com/users/757293/vincent-hiribarren"}, "edited": false, "score": 0, "creation_date": 1452114151, "post_id": 34642356, "comment_id": 57031318, "body": "You&#39;re right, but I want to generalize my question with other possible configuration objects, not only context. Anyway, if all my methods needs a context instance and if I have to pass it to each method, we start to move from OOP to a more procedural style where you cannot encapsulate the state of the object :-)"}, {"owner": {"reputation": 30012, "user_id": 223429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58f9ade55e103e57dff12719da7f9e35?s=128&d=identicon&r=PG", "display_name": "Eugene Kuleshov", "link": "https://stackoverflow.com/users/223429/eugene-kuleshov"}, "reply_to_user": {"reputation": 4974, "user_id": 757293, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7529ae96ba82a11bc6fbbbdb86e5b561?s=128&d=identicon&r=PG", "display_name": "Vincent Hiribarren", "link": "https://stackoverflow.com/users/757293/vincent-hiribarren"}, "edited": false, "score": 0, "creation_date": 1452114372, "post_id": 34642356, "comment_id": 57031417, "body": "Perhaps. But in case of Context, it is not state, but link to an environment and saving it in an instance field is prone to various memory and resource leaks."}], "tags": [], "owner": {"reputation": 30012, "user_id": 223429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58f9ade55e103e57dff12719da7f9e35?s=128&d=identicon&r=PG", "display_name": "Eugene Kuleshov", "link": "https://stackoverflow.com/users/223429/eugene-kuleshov"}, "is_accepted": false, "score": 1, "last_activity_date": 1452112895, "creation_date": 1452112895, "answer_id": 34642356, "question_id": 34642170, "link": "https://stackoverflow.com/questions/34642170/how-to-implement-a-configurable-singleton/34642356#34642356", "title": "How to implement a configurable singleton?", "body": "<p>How about doing this instead:</p>\n\n<pre><code>  MySingleton.getInstance().doSomethingThatRequiresContext(context);\n</code></pre>\n\n<p>But generally it is better to use dependency injection approach instead of using manually created singletons. You may want to look at <a href=\"http://square.github.io/dagger/\" rel=\"nofollow\">Dagger</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 4974, "user_id": 757293, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7529ae96ba82a11bc6fbbbdb86e5b561?s=128&d=identicon&r=PG", "display_name": "Vincent Hiribarren", "link": "https://stackoverflow.com/users/757293/vincent-hiribarren"}, "edited": false, "score": 0, "creation_date": 1452113516, "post_id": 34642435, "comment_id": 57030971, "body": "Unfortunately it is very similar to my last example. Exceptions are more centralised to only one method, though."}, {"owner": {"reputation": 1439, "user_id": 1639324, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5bdee2e907311f48262c2ca050cadf24?s=128&d=identicon&r=PG", "display_name": "Josh Chappelle", "link": "https://stackoverflow.com/users/1639324/josh-chappelle"}, "reply_to_user": {"reputation": 4974, "user_id": 757293, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7529ae96ba82a11bc6fbbbdb86e5b561?s=128&d=identicon&r=PG", "display_name": "Vincent Hiribarren", "link": "https://stackoverflow.com/users/757293/vincent-hiribarren"}, "edited": false, "score": 1, "creation_date": 1452113783, "post_id": 34642435, "comment_id": 57031114, "body": "The user has to either pass the dependencies in the constructor, which we can&#39;t allow access to, or in each method call. The createInstance method is kind of like the constructor here, they have to construct your Object somewhere. I think it would be pretty easy to tell that you need to call createInstance if you accidentally call getInstance first because of the Exception."}, {"owner": {"reputation": 2077, "user_id": 2801237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fSSw3.png?s=128&g=1", "display_name": "mawalker", "link": "https://stackoverflow.com/users/2801237/mawalker"}, "edited": false, "score": 0, "creation_date": 1452166919, "post_id": 34642435, "comment_id": 57053581, "body": "This is pretty much the cleanest option available to you, but store Context references with &#39;WeakReference&#39; else you will run into issues with memory leak generation when the garbage collector can&#39;t run. This will happen with &#39;any&#39; kind of background processing."}], "tags": [], "owner": {"reputation": 1439, "user_id": 1639324, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5bdee2e907311f48262c2ca050cadf24?s=128&d=identicon&r=PG", "display_name": "Josh Chappelle", "link": "https://stackoverflow.com/users/1639324/josh-chappelle"}, "is_accepted": false, "score": 2, "last_activity_date": 1452113187, "creation_date": 1452113187, "answer_id": 34642435, "question_id": 34642170, "link": "https://stackoverflow.com/questions/34642170/how-to-implement-a-configurable-singleton/34642435#34642435", "title": "How to implement a configurable singleton?", "body": "<p>You could have a createInstance method that takes a Context and a getInstance that will return null or throw some meaningful exception if they call getInstance before create instance. Maybe throw a RuntimeException stating that createInstance must be called first.</p>\n\n<p>Also, createInstance will just return the already created instance if it has already been called. Here is a code sample of what I'm thinking:</p>\n\n<pre><code>public class MySingleton\n{\n    private static MySingleton INSTANCE;\n    private final Context context;\n\n    public static MySingleton createInstance(Context context)\n    {\n        if(INSTANCE == null)\n        {\n            INSTANCE = new MySingleton(context);\n        }\n        return INSTANCE;\n    }\n\n    public static MySingleton getInstance()\n    {\n        if(INSTANCE == null)\n        {\n            throw new RuntimeException(\"You must call createInstance first\");\n        }\n        return INSTANCE;\n    }\n\n    public void doSomethingThatRequiresContext()\n    {\n        context.doSomething();\n    }\n\n    private MySingleton(Context context)\n    {\n        this.context = context;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50933, "user_id": 360211, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/3baKW.png?s=128&g=1", "display_name": "weston", "link": "https://stackoverflow.com/users/360211/weston"}, "is_accepted": false, "score": 1, "last_activity_date": 1452116863, "last_edit_date": 1452116863, "creation_date": 1452114986, "answer_id": 34642907, "question_id": 34642170, "link": "https://stackoverflow.com/questions/34642170/how-to-implement-a-configurable-singleton/34642907#34642907", "title": "How to implement a configurable singleton?", "body": "<p>An alternative is to return an instance from a static <code>init</code> method, and have all the methods on the returned instance.</p>\n\n<pre><code>MyInstance instance = MyLibrary.init(context, and, whatever, else);\ninstance.doSomethingThatRequiresContext();\n</code></pre>\n\n<p>The order of the calls <em>cannot be reversed</em> now.</p>\n\n<p>Then all you would potentially need to guard against is calling <code>init</code> twice. Which you could do either with runtime exception, or return the previous instance, personally I would Runtime if <code>init</code> is called twice.</p>\n\n<blockquote>\n  <p>I want to ensure only one instance of my classes exists and can be grabbed anywhere in the code without passing references.</p>\n</blockquote>\n\n<p>Provide a <code>getInstance</code> that is valid only after a call to <code>init</code></p>\n\n<pre><code>//MyLibrary.getInstance() would throw before init\nMyInstance instance1 = MyLibrary.init(context, and, whatever, else);\nMyInstance instance2 = MyLibrary.getInstance();\nassertSame(instance1, instance2);\n</code></pre>\n\n<p>Note that although only subtly different to your original, by separating the responsibilities of allocation and singleton management in to <code>MyLibrary</code>, at least <em>only</em> the <code>init</code> and <code>getInstance</code> methods need to check that init has been called or not. None of the methods on <code>MyInstance</code> need to worry.</p>\n\n<blockquote>\n  <p>Even if I use runtime exceptions, it would be dangerous to use.</p>\n</blockquote>\n\n<p>I don't think you can't solve this problem without them. It's more dangerous to not throw when something is seriously wrong, like the user has not initialized. Just add a good error message to back up your documentation.</p>\n\n<p>Full listing:</p>\n\n<pre><code>public final class MyInstance {\n\n    private final Context context;\n\n    MyInstance(Context context, and, whatever, else) {\n        //package private, can't be directly instantiated by library user\n        this.context = context;\n    }\n\n    public void doSomethingThatRequiresContext() {\n      //no special checks required\n    }\n\n    //add other methods, this is just a normal class\n}\n\npublic static class MyLibrary {\n\n    private static Object lockObj = new Object();\n\n    private static MyInstance myInstance;\n\n    public static MyInstance init(context, and, whatever, else) { \n        synchronized(lockObj) {\n            if (myInstance != null)\n                throw new RuntimeException(\"Please do not call init more than once\");\n            myInstance = new MyInstance(context, and, whatever, else);\n            return myInstance;\n        }\n    }\n\n    public static MyInstance getInstance() {\n        synchronized(lockObj) {\n            if (myInstance == null)\n                throw new RuntimeException(\"Please call init before getInstance\");\n            return myInstance;\n        }\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 4974, "user_id": 757293, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7529ae96ba82a11bc6fbbbdb86e5b561?s=128&d=identicon&r=PG", "display_name": "Vincent Hiribarren", "link": "https://stackoverflow.com/users/757293/vincent-hiribarren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1507, "favorite_count": 1, "answer_count": 3, "score": 5, "last_activity_date": 1485187914, "creation_date": 1452112163, "last_edit_date": 1485187914, "question_id": 34642170, "link": "https://stackoverflow.com/questions/34642170/how-to-implement-a-configurable-singleton", "title": "How to implement a configurable singleton?", "body": "<p>This question is related to Android but can also be asked in other situations. I need to create a library where singletons are exposed; or I want to ensure only one instance of my classes exists and can be grabbed anywhere in the code without passing references.</p>\n\n<p>But thoses singletons needs some parameters. For instance in Android, a <code>Context</code> object is often needed. I must also precise that since I provide a library, I want things to be easy for the user and <strong>I do not have control of the <code>Application</code> class</strong> in Android (this class can sometimes be used to manage object instances for a whole app).</p>\n\n<p>One known solution is to do the following:</p>\n\n<pre><code>static MySingleton sInstance;\nMySingleton.getInstance(Context c) {\n    if (sInstance == null) {\n        sInstance = new MySingleton(c.getApplicationContext());\n    }\n    return sInstance;\n}\n</code></pre>\n\n<p>But it is strange since the parameter of <code>getInstance</code> is actually only used at the first creation of the singleton.</p>\n\n<p>I could provide a setter to the singleton and asks the developer to correctly set the needed parameters, but some strange situations could arise:</p>\n\n<pre><code>// Good usage\nMySingleton.getInstance().setContext(context.getApplicationContext());\nMySingleton.getInstance().doSomethingThatRequiresContext(); // OK\n\n// Bad usage\nMySingleton.getInstance().doSomethingThatRequiresContext(); // Error!\nMySingleton.getInstance().setContext(context.getApplicationContext());\n</code></pre>\n\n<p>I could check at the start of each method if the singleton is correctly configured and launch some exceptions in case of a bad state, but the API is less straightforward to use:</p>\n\n<pre><code>MySingleton.getInstance().setContext(context.getApplicationContext());\n\ntry {\n    MySingleton.getInstance().doSomethingThatRequiresContext();\n}\ncatch(BadSingletonConfiguration e) { }\n</code></pre>\n\n<p>Even if I use runtime exceptions, it would be dangerous to use.</p>\n\n<p>Unless I kindly ask the user to manually create the instance and to ensure himself only one instance will exist, I do not see a good solution.</p>\n"}, {"tags": ["java", "multithreading", "asynchttpclient"], "comments": [{"owner": {"reputation": 40055, "user_id": 545127, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/RJgJM.png?s=128&g=1", "display_name": "Raedwald", "link": "https://stackoverflow.com/users/545127/raedwald"}, "edited": false, "score": 0, "creation_date": 1452112566, "post_id": 34642114, "comment_id": 57030480, "body": "The exception message is clear enough. What do you understand about it?"}], "answers": [{"tags": [], "owner": {"reputation": 8153, "user_id": 5517633, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynu4n.jpg?s=128&g=1", "display_name": "Abdelhak", "link": "https://stackoverflow.com/users/5517633/abdelhak"}, "is_accepted": false, "score": 1, "last_activity_date": 1452112405, "creation_date": 1452112405, "answer_id": 34642234, "question_id": 34642114, "link": "https://stackoverflow.com/questions/34642114/error-java-lang-outofmemoryerror-unable-to-create-new-native-thread-in-loop/34642234#34642234", "title": "ERROR: java.lang.OutOfMemoryError: unable to create new native thread in Loop", "body": "<p>This is not a memory problem, but an operating system resource problem,this has nothing to do with programming, or linux.</p>\n"}, {"tags": [], "owner": {"reputation": 6657, "user_id": 1242157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769223c0c3c6d330abede6a7e432ba1b?s=128&d=identicon&r=PG", "display_name": "Stephane Landelle", "link": "https://stackoverflow.com/users/1242157/stephane-landelle"}, "is_accepted": true, "score": 2, "last_activity_date": 1452241599, "creation_date": 1452241599, "answer_id": 34672487, "question_id": 34642114, "link": "https://stackoverflow.com/questions/34642114/error-java-lang-outofmemoryerror-unable-to-create-new-native-thread-in-loop/34672487#34672487", "title": "ERROR: java.lang.OutOfMemoryError: unable to create new native thread in Loop", "body": "<p>Disclaimer: AsyncHttpClient author here</p>\n\n<p>First, I don't know why the answer above was validated, it's wrong.</p>\n\n<p>I suspect that you're creating tons of Melis instances. But you completely missed the point that an AsyncHttpClient instance must be used as a singleton (except for very specific use cases).</p>\n\n<p>As every Melis instance creates its own AsyncHttpClient instance, you end up creating tons of them, and you blow off resource usage.</p>\n\n<p>Note that your AsyncHttpClient instance(s) must be closed when you shut your application down so underlying resources get freed.</p>\n"}], "owner": {"reputation": 543, "user_id": 1505589, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fc00a51aa9dea3101b0baf3ddee619fd?s=128&d=identicon&r=PG&f=1", "display_name": "fguespe", "link": "https://stackoverflow.com/users/1505589/fguespe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1372, "favorite_count": 0, "accepted_answer_id": 34672487, "answer_count": 2, "score": 0, "last_activity_date": 1452241599, "creation_date": 1452111998, "last_edit_date": 1452241185, "question_id": 34642114, "link": "https://stackoverflow.com/questions/34642114/error-java-lang-outofmemoryerror-unable-to-create-new-native-thread-in-loop", "title": "ERROR: java.lang.OutOfMemoryError: unable to create new native thread in Loop", "body": "<p>Im getting a not so rare error, which happens to many, the thing is that im not using threads in my app. Its just a loop, one task after the other, so i dont understand why im getting out of threads.</p>\n\n<p>Basically for each line of the text file i make a GET request to an api, so i obtain some json data...</p>\n\n<p>Here is the error log:</p>\n\n<pre><code>106\n105\n104\n103\n102\nene 06, 2016 4:08:39 PM org.jboss.netty.channel.DefaultChannelFuture\nADVERTENCIA: An exception was thrown by ChannelFutureListener.\njava.lang.OutOfMemoryError: unable to create new native thread\n    at java.lang.Thread.start0(Native Method)\n    at java.lang.Thread.start(Thread.java:714)\n    at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:950)\n    at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1368)\n    at org.jboss.netty.channel.socket.nio.AbstractNioWorker.start(AbstractNioWorker.java:160)\n    at org.jboss.netty.channel.socket.nio.AbstractNioWorker.executeInIoThread(AbstractNioWorker.java:306)\n    at org.jboss.netty.channel.socket.nio.NioWorker.executeInIoThread(NioWorker.java:38)\n    at org.jboss.netty.channel.socket.nio.AbstractNioWorker.executeInIoThread(AbstractNioWorker.java:290)\n    at org.jboss.netty.channel.socket.nio.NioWorker.executeInIoThread(NioWorker.java:38)\n    at org.jboss.netty.channel.socket.nio.AbstractNioChannelSink.execute(AbstractNioChannelSink.java:34)\n    at org.jboss.netty.channel.Channels.fireExceptionCaughtLater(Channels.java:504)\n    at org.jboss.netty.channel.AbstractChannelSink.exceptionCaught(AbstractChannelSink.java:47)\n    at org.jboss.netty.channel.Channels.close(Channels.java:821)\n    at org.jboss.netty.channel.AbstractChannel.close(AbstractChannel.java:194)\n    at org.jboss.netty.channel.ChannelFutureListener$2.operationComplete(ChannelFutureListener.java:52)\n    at org.jboss.netty.channel.DefaultChannelFuture.notifyListener(DefaultChannelFuture.java:399)\n    at org.jboss.netty.channel.DefaultChannelFuture.notifyListeners(DefaultChannelFuture.java:385)\n    at org.jboss.netty.channel.DefaultChannelFuture.setFailure(DefaultChannelFuture.java:352)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.connect(NioClientSocketPipelineSink.java:404)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.processSelectedKeys(NioClientSocketPipelineSink.java:361)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.run(NioClientSocketPipelineSink.java:277)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\nERROR en getML():/orders/1045232034\ncom.mercadolibre.sdk.MeliException: java.util.concurrent.ExecutionException: java.net.ConnectException: unable to create new native thread to https://api.mercadolibre.com/orders/1045232034?access_token=APP_USR-1978251743308541-010613-c60e34a2a34d0fd5b8c936ccfb3e3732__K_I__-113746522\n    at com.nubimedia.app.ml.Melis.get(Melis.java:264)\n    at com.nubimedia.app.ml.Melis.getML(Melis.java:168)\n    at com.nubimedia.app.ModelML.encontrarMailsLog(ModelML.java:217)\n    at com.nubimedia.app.Pruebas.main(Pruebas.java:11)\nCaused by: java.util.concurrent.ExecutionException: java.net.ConnectException: unable to create new native thread to https://api.mercadolibre.com/orders/1045232034?access_token=APP_USR-1978251743308541-010613-c60e34a2a34d0fd5b8c936ccfb3e3732__K_I__-113746522\n    at com.ning.http.client.providers.netty.NettyResponseFuture.abort(NettyResponseFuture.java:297)\n    at com.ning.http.client.providers.netty.NettyConnectListener.operationComplete(NettyConnectListener.java:104)\n    at org.jboss.netty.channel.DefaultChannelFuture.notifyListener(DefaultChannelFuture.java:399)\n    at org.jboss.netty.channel.DefaultChannelFuture.notifyListeners(DefaultChannelFuture.java:390)\n    at org.jboss.netty.channel.DefaultChannelFuture.setFailure(DefaultChannelFuture.java:352)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.connect(NioClientSocketPipelineSink.java:404)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.processSelectedKeys(NioClientSocketPipelineSink.java:361)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.run(NioClientSocketPipelineSink.java:277)\n    at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.net.ConnectException: unable to create new native thread to https://api.mercadolibre.com/orders/1045232034?access_token=APP_USR-1978251743308541-010613-c60e34a2a34d0fd5b8c936ccfb3e3732__K_I__-113746522\n    at com.ning.http.client.providers.netty.NettyConnectListener.operationComplete(NettyConnectListener.java:100)\n    ... 10 more\nCaused by: java.lang.OutOfMemoryError: unable to create new native thread\n    at java.lang.Thread.start0(Native Method)\n    at java.lang.Thread.start(Thread.java:714)\n    at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:950)\n    at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1368)\n    at org.jboss.netty.channel.socket.nio.AbstractNioWorker.start(AbstractNioWorker.java:160)\n    at org.jboss.netty.channel.socket.nio.AbstractNioWorker.register(AbstractNioWorker.java:131)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.connect(NioClientSocketPipelineSink.java:401)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.processSelectedKeys(NioClientSocketPipelineSink.java:361)\n    at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink$Boss.run(NioClientSocketPipelineSink.java:277)\n    ... 3 more\nHubo un error\n101\nException in thread \"main\" java.lang.OutOfMemoryError: unable to create new native thread\n    at java.lang.Thread.start0(Native Method)\n    at java.lang.Thread.start(Thread.java:714)\n    at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:950)\n    at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1368)\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\n    at com.ning.http.client.providers.jdk.JDKAsyncHttpProvider.execute(JDKAsyncHttpProvider.java:159)\n    at com.ning.http.client.providers.jdk.JDKAsyncHttpProvider.execute(JDKAsyncHttpProvider.java:121)\n    at com.ning.http.client.AsyncHttpClient.executeRequest(AsyncHttpClient.java:512)\n    at com.ning.http.client.AsyncHttpClient$BoundRequestBuilder.execute(AsyncHttpClient.java:234)\n    at com.nubimedia.app.ml.Melis.get(Melis.java:262)\n    at com.nubimedia.app.ml.Melis.getML(Melis.java:168)\n    at com.nubimedia.app.ModelML.encontrarMailsLog(ModelML.java:217)\n    at com.nubimedia.app.Pruebas.main(Pruebas.java:11)\n</code></pre>\n\n<p>And here is the code:</p>\n\n<pre><code>public static void main(String[] args) throws IOException, MeliException {\n\n        ModelML.getInstance().encontrarMailsLog(731);\n    }\n\n\npublic void encontrarMailsLog(int max) throws IOException{\n    BufferedReader br = new BufferedReader(new FileReader(\"/Users/fabrizioguespe/Downloads/catalina.out\"));\n    Set&lt;String&gt; resources=new TreeSet&lt;String&gt;();\n\n    try {\n        StringBuilder sb = new StringBuilder();\n        String line = br.readLine();\n\n        while (line != null) {\n            if(line.equals(\"Nueva Request!\")){\n                String cliente=br.readLine();\n                String resource=br.readLine();\n                resources.add(cliente+\"-\"+resource);\n            }\n            sb.append(line);\n            sb.append(System.lineSeparator());\n            line = br.readLine();\n        }\n\n    } finally {\n        br.close();\n    }\n    Log.log(resources.size()+\" Para procesar\");\n    int i=resources.size();\n    for(String s: resources){\n        i--;\n        Log.log(i+\"\");\n        if(max&gt;0)\n            if(i&gt;max)continue;\n        String cliente=s.split(\"-\")[0];\n        String resource=s.split(\"-\")[1];\n        //Log.log(\"Cliente: \"+cliente+\" \"+resource);\n        ModelML.getInstance().procesarRequest(Melis.getML(resource, null,cliente,false),resource);\n    }\n}\n</code></pre>\n\n<p>UPDATED: As suggested, and makes sense. I may be doing async request, using the SDK provided by the API</p>\n\n<p>Here is the class</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.UnsupportedEncodingException;\nimport java.net.URLEncoder;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\n\nimport org.hibernate.Query;\nimport org.hibernate.Session;\n\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\nimport com.google.gson.JsonSyntaxException;\nimport com.mercadolibre.sdk.AuthorizationFailure;\nimport com.mercadolibre.sdk.MeliException;\nimport com.ning.http.client.AsyncHttpClient;\nimport com.ning.http.client.AsyncHttpClient.BoundRequestBuilder;\nimport com.ning.http.client.AsyncHttpClientConfig;\nimport com.ning.http.client.FluentStringsMap;\nimport com.ning.http.client.Response;\nimport com.nubimedia.app.ModelML;\nimport com.nubimedia.app.util.HibernateUtil;\nimport com.nubimedia.app.util.Log;\nimport com.sun.jersey.api.client.Client;\nimport com.sun.jersey.api.client.ClientResponse;\nimport com.sun.jersey.api.client.WebResource;\n\npublic class Melis {\n    public static String apiUrl = \"https://api.mercadolibre.com\";\n    private String accessToken;\n    private String refreshToken;\n    private Long clientId;\n    private String clientSecret;\n\n    //public static Map&lt;String,UserML&gt; clientes=new HashMap&lt;String,UserML&gt;();\n\n\n    public static UserML getCliente(String id) {//Solo para inicializar la aplicacion\n        Session s=HibernateUtil.getSessionFactory().openSession();\n        s.beginTransaction();\n        Query query = s.createQuery(\"from UserML where id = :id\");\n        query.setString(\"id\", id);\n        UserML q = (UserML) query.uniqueResult();\n        s.flush();\n        s.getTransaction().commit();\n        s.close();\n        return q;\n\n    }\n    public static List&lt;UserML&gt; getClientes() {\n        Session s=HibernateUtil.getSessionFactory().openSession();\n        s.beginTransaction();\n        Query query = s.createQuery(\"from UserML\");\n        @SuppressWarnings(\"unchecked\")\n        List&lt;UserML&gt; q = (List&lt;UserML&gt;) query.list();\n        s.flush();\n        s.getTransaction().commit();\n        s.close();\n        return q;\n\n    }\n    public static String preguntarML(String item,String pregunta,String idcliente){\n\n        UserML cliente=getCliente(idcliente);\n        if(cliente==null)return null;\n\n        Melis m = new Melis(Long.parseLong(ModelML.ml_appid),ModelML.ml_secret,cliente.getToken(),cliente.getToken());\n        String params=\"{\\\"text\\\":\\\"\"+pregunta.trim()+\"\\\",\\\"item_id\\\":\\\"\"+item+\"\\\"}\";\n        String json=Melis.postML(\"/questions/\"+item+\"?access_token=\"+m.getAccessToken(), null, cliente, params);\n        return json;\n    }\n\n    public static String postML(String resource,FluentStringsMap params,UserML cliente,String json){\n        try {\n            Melis m = new Melis(Long.parseLong(ModelML.ml_appid),ModelML.ml_secret,cliente.getToken(),cliente.getRefresh_token());\n            if(params==null){\n                params = new FluentStringsMap();\n                params.add(\"access_token\", m.getAccessToken());\n\n            }\n            Response respuesta = m.post(resource, params,json);\n            String jsons=respuesta.getResponseBody();\n            //jsons=new String(json.getBytes(\"ISO-8859-1\"),\"UTF-8\");\n\n            return jsons;\n        } catch (Exception e) {\n            Log.log(\"ERROR en getML():\"+resource);\n            e.printStackTrace();\n        }\n        return null;\n    }\n    public static String getUserId(String json){\n        try{\n            JsonParser parser = new JsonParser();\n\n            JsonObject venta= (JsonObject)parser.parse(json);\n            if(venta.isJsonNull())return null;\n            return venta.get(\"id\").getAsString();\n\n        }catch(Exception e){\n            e.printStackTrace();\n            Log.log(\"ERROR al parsear json VENTA mercadolibre: \");\n        }\n        return null;\n    }\n\n    public static String setToken(String token,String refresh_token,String idcliente) {\n        UserML a=getCliente(idcliente);\n        if(a==null)return null;\n        a.setToken(token);\n        a.setRefresh_token(refresh_token);\n        a.setLast_modif(new Date());\n        Session s=HibernateUtil.getSessionFactory().openSession();\n        s.beginTransaction();\n        s.saveOrUpdate(a);\n        s.flush();\n        s.getTransaction().commit();\n        s.close();\n\n        return null;\n\n    }\n    public static String getML2(String resource){\n        Client client = Client.create();\n        WebResource webResource = client.resource(apiUrl+resource);\n        ClientResponse response = webResource.accept(\"application/json\").get(ClientResponse.class);\n        if (response.getStatus() != 200) \n           throw new RuntimeException(\"Failed : HTTP error code : \" + response.getStatus());\n\n        return response.getEntity(String.class);\n\n    }\n    public static String remokeAccess(String idcliente){\n        try {\n            UserML cliente=getCliente(idcliente);\n            if(cliente==null)return null;\n            String resource=\"/users/\"+cliente+\"/applications/\"+ModelML.ml_appid+\"?access_token=\"+cliente.getToken();\n\n            Melis m = new Melis(Long.parseLong(ModelML.ml_appid),ModelML.ml_secret,cliente.getToken());\n            FluentStringsMap params = new FluentStringsMap();\n            params.add(\"access_token\", m.getAccessToken());\n\n            Response respuesta = m.delete(resource, params);\n            String json=respuesta.getResponseBody();\n            json=new String(json.getBytes(\"ISO-8859-1\"),\"UTF-8\");\n\n            return json;\n        } catch (Exception e) {\n            Log.log(\"ERROR en removkeAccess():\"+idcliente);\n            e.printStackTrace();\n        }\n        return null;\n\n    }\n    public static String getML(String resource,FluentStringsMap params,String idcliente,boolean access_final){\n        try {\n            UserML cliente=getCliente(idcliente);\n            if(cliente==null)return null;\n            Melis m = new Melis(Long.parseLong(ModelML.ml_appid),ModelML.ml_secret,cliente.getToken(),cliente.getRefresh_token());\n            if(params==null){\n                params = new FluentStringsMap();\n                params.add(\"access_token\", m.getAccessToken());\n\n            }\n            if(access_final)resource+=\"?access_token=\"+cliente.getToken();\n            Response respuesta = m.get(resource, params);\n            String json=respuesta.getResponseBody();\n            json=new String(json.getBytes(\"ISO-8859-1\"),\"UTF-8\");\n\n            return json;\n\n        } catch (Exception e) {\n            Log.log(\"ERROR en getML():\"+resource);\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    private AsyncHttpClient http;\n    {\n        AsyncHttpClientConfig cf = new AsyncHttpClientConfig.Builder()\n                 .setUserAgent(\"MELIJAVASDK0.0.1\").build();\n        http = new AsyncHttpClient(cf);\n    } \n\n\n    public Melis(Long clientId, String clientSecret ) {\n        this.clientId = clientId;\n        this.clientSecret = clientSecret;\n    }\n\n\n\n\n    public Melis(Long clientId, String clientSecret, String accessToken) {\n        this.accessToken = accessToken;\n        this.clientId = clientId;\n        this.clientSecret = clientSecret;\n    }\n\n    public Melis(Long clientId, String clientSecret, String accessToken,  String refreshToken) {\n        this.accessToken = accessToken;\n        this.clientId = clientId;\n        this.clientSecret = clientSecret;\n        this.refreshToken = refreshToken;\n    }\n\n    public String getAccessToken() {\n        return this.accessToken;\n    }\n\n\n\n    public Response get(String path) throws MeliException {\n    return get(path, new FluentStringsMap());\n    }\n\n    private BoundRequestBuilder prepareGet(String path, FluentStringsMap params) {\n    return http.prepareGet(apiUrl + path)\n        .addHeader(\"Accept\", \"application/json\")\n        .setQueryParameters(params);\n    }\n\n    private BoundRequestBuilder prepareDelete(String path,\n        FluentStringsMap params) {\n    return http.prepareDelete(apiUrl + path)\n        .addHeader(\"Accept\", \"application/json\")\n        .setQueryParameters(params);\n    }\n\n    private BoundRequestBuilder preparePost(String path,\n        FluentStringsMap params, String body) {\n    return http.preparePost(apiUrl + path)\n        .addHeader(\"Accept\", \"application/json\")\n        .setQueryParameters(params)\n        .setHeader(\"ContentType\", \"application/json\").setBody(body)\n        .setBodyEncoding(\"UTF8\");\n    }\n\n    private BoundRequestBuilder preparePut(String path,\n        FluentStringsMap params, String body) {\n    return http.preparePut(apiUrl + path)\n        .addHeader(\"Accept\", \"application/json\")\n        .setQueryParameters(params)\n        .setHeader(\"ContentType\", \"application/json\").setBody(body)\n        .setBodyEncoding(\"UTF8\");\n    }\n\n    private BoundRequestBuilder preparePost(String path, FluentStringsMap params) {\n    return http.preparePost(apiUrl + path)\n        .addHeader(\"Accept\", \"application/json\")\n        .setQueryParameters(params);\n    }\n\n    public Response get(String path, FluentStringsMap params)  throws MeliException {\n        BoundRequestBuilder r = prepareGet(path, params);\n\n        Response response;\n        try {\n            response = r.execute().get();\n        } catch (Exception e) {\n            throw new MeliException(e);\n        }\n        if (params.containsKey(\"access_token\") &amp;&amp; this.hasRefreshToken() &amp;&amp; response.getStatusCode() == 401) {\n            try {\n                refreshAccessToken();\n            } catch (AuthorizationFailure e1) {\n                Log.log(\"ERROR al refrescar token\");\n                return response;\n            }\n            params.replace(\"access_token\", this.accessToken);\n            r = prepareGet(path, params);\n\n            try {\n                response = r.execute().get();\n            } catch (Exception e) {\n                throw new MeliException(e);\n            }\n        }\n        return response;\n    }\n\n    public void refreshAccessToken() throws AuthorizationFailure {\n        FluentStringsMap params = new FluentStringsMap();\n        params.add(\"grant_type\", \"refresh_token\");\n        params.add(\"client_id\", String.valueOf(this.clientId));\n        params.add(\"client_secret\", this.clientSecret);\n        params.add(\"refresh_token\", this.refreshToken);\n        BoundRequestBuilder req = preparePost(\"/oauth/token\", params);\n\n        parseToken(req);\n    }\n\n    public String getAuthUrl(String callback) {\n    try {\n        return \"https://auth.mercadolibre.com.ar/authorization?response_type=code&amp;client_id=\"\n            + this.clientId\n            + \"&amp;redirect_uri=\"\n            + URLEncoder.encode(callback, \"UTF8\");\n    } catch (UnsupportedEncodingException e) {\n        return \"https://auth.mercadolibre.com.ar/authorization?response_type=code&amp;client_id=\"\n            + this.clientId + \"&amp;redirect_uri=\" + callback;\n    }\n    }\n\n   public String authorize(String code, String redirectUri) throws AuthorizationFailure {\n        FluentStringsMap params = new FluentStringsMap();\n\n        params.add(\"grant_type\", \"authorization_code\");\n        params.add(\"client_id\", String.valueOf(this.clientId));\n        params.add(\"client_secret\", this.clientSecret);\n        params.add(\"code\", code);\n        params.add(\"redirect_uri\", redirectUri);\n\n        BoundRequestBuilder r = preparePost(\"/oauth/token\", params);\n\n        return parseToken(r);\n    }\n\n    private String parseToken(BoundRequestBuilder r) throws AuthorizationFailure {\n        Response response = null;\n        String responseBody = \"\";\n        try {\n            response = r.execute().get();\n            responseBody = response.getResponseBody();\n        } catch (InterruptedException e) {\n            throw new AuthorizationFailure(e);\n        } catch (ExecutionException e) {\n            throw new AuthorizationFailure(e);\n        } catch (IOException e) {\n            throw new AuthorizationFailure(e);\n        }\n\n        JsonParser p = new JsonParser();\n        JsonObject object;\n\n        try {\n            object = p.parse(responseBody).getAsJsonObject();\n        } catch (JsonSyntaxException e) {\n            throw new AuthorizationFailure(responseBody);\n        }\n\n        if (response.getStatusCode() == 200) {\n            this.accessToken = object.get(\"access_token\").getAsString();\n            this.refreshToken = object.get(\"refresh_token\").getAsString();\n            String user_ID = object.get(\"user_id\").getAsString();\n            Melis.setToken(this.accessToken, this.refreshToken,user_ID);//PERSISTO\n            return object.toString();\n        } else return object.get(\"message\").getAsString();\n    }\n\n    private boolean hasRefreshToken() {\n    return this.refreshToken != null &amp;&amp; !this.refreshToken.isEmpty();\n    }\n\n    public Response post(String path, FluentStringsMap params, String body)\n        throws MeliException {\n    BoundRequestBuilder r = preparePost(path, params, body);\n\n    Response response;\n    try {\n        response = r.execute().get();\n    } catch (Exception e) {\n        throw new MeliException(e);\n    }\n    if (params.containsKey(\"access_token\") &amp;&amp; this.hasRefreshToken()    &amp;&amp; response.getStatusCode() == 401) {\n        try {\n        refreshAccessToken();\n        } catch (AuthorizationFailure e1) {\n        return response;\n        }\n        params.replace(\"access_token\", this.accessToken);\n        r = preparePost(path, params, body);\n\n        try {\n        response = r.execute().get();\n        } catch (Exception e) {\n        throw new MeliException(e);\n        }\n    }\n    return response;\n    }\n\n    public Response put(String path, FluentStringsMap params, String body)\n        throws MeliException {\n    BoundRequestBuilder r = preparePut(path, params, body);\n\n    Response response;\n    try {\n        response = r.execute().get();\n    } catch (Exception e) {\n        throw new MeliException(e);\n    }\n    if (params.containsKey(\"access_token\") &amp;&amp; this.hasRefreshToken()\n        &amp;&amp; response.getStatusCode() == 401) {\n        try {\n        refreshAccessToken();\n        } catch (AuthorizationFailure e1) {\n        return response;\n        }\n        params.replace(\"access_token\", this.accessToken);\n        r = preparePut(path, params, body);\n\n        try {\n        response = r.execute().get();\n        } catch (Exception e) {\n        throw new MeliException(e);\n        }\n    }\n    return response;\n    }\n\n    public Response delete(String path, FluentStringsMap params)\n        throws MeliException {\n    BoundRequestBuilder r = prepareDelete(path, params);\n\n    Response response;\n    try {\n        response = r.execute().get();\n    } catch (Exception e) {\n        throw new MeliException(e);\n    }\n    if (params.containsKey(\"access_token\") &amp;&amp; this.hasRefreshToken()\n        &amp;&amp; response.getStatusCode() == 401) {\n        try {\n        refreshAccessToken();\n        } catch (AuthorizationFailure e1) {\n        return response;\n        }\n        params.replace(\"access_token\", this.accessToken);\n        r = prepareDelete(path, params);\n\n        try {\n        response = r.execute().get();\n        } catch (Exception e) {\n        throw new MeliException(e);\n        }\n    }\n    return response;\n    }\n\n    public BoundRequestBuilder head(String path) {\n    return null;\n    }\n\n    public BoundRequestBuilder options(String path) {\n    return null;\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "c++", "c", "memory", "swig"], "owner": {"reputation": 11, "user_id": 5754218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0471e52c6acd0099de7b555471811568?s=128&d=identicon&r=PG&f=1", "display_name": "Ray", "link": "https://stackoverflow.com/users/5754218/ray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1452113718, "creation_date": 1452111879, "last_edit_date": 1452113718, "question_id": 34642083, "link": "https://stackoverflow.com/questions/34642083/want-to-change-the-default-wrapping-behavior-of-char-in-swig-java", "title": "Want to change the default wrapping behavior of char* in swig java", "body": "<p>So there's this line in the swig documentation</p>\n\n<blockquote>\n  <p>When <code>char *</code> members of a structure are wrapped, the contents are assumed to be dynamically allocated using malloc or new (depending on whether or not SWIG is run with the -c++ option). When the structure member is set, the old contents will be released and a new value created.</p>\n</blockquote>\n\n<p>I don't want the old contents to be released from memory because I'm using some sort of <code>char*</code> buffer, and I also need the default setter. I can use the <code>%ignore &lt;field&gt;</code> to overwrite the getter but then I'll lose the default setter.\nCan someone please help? Thanks.</p>\n"}, {"tags": ["java", "web-services", "ssl", "ssl-certificate"], "answers": [{"comments": [{"owner": {"reputation": 1029, "user_id": 1252603, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5c949572f14c5427759d332d84436fc?s=128&d=identicon&r=PG", "display_name": "Baderous", "link": "https://stackoverflow.com/users/1252603/baderous"}, "reply_to_user": {"reputation": 513, "user_id": 1687302, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ba8274b4ae9761f62850651c63ffdd40?s=128&d=identicon&r=PG", "display_name": "Sumanth", "link": "https://stackoverflow.com/users/1687302/sumanth"}, "edited": false, "score": 0, "creation_date": 1453067489, "post_id": 34810040, "comment_id": 57428963, "body": "You&#39;re welcome @Hello. Don&#39;t forget to assign the bounty prize to my answer. :)"}], "tags": [], "owner": {"reputation": 1029, "user_id": 1252603, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5c949572f14c5427759d332d84436fc?s=128&d=identicon&r=PG", "display_name": "Baderous", "link": "https://stackoverflow.com/users/1252603/baderous"}, "is_accepted": true, "score": 9, "last_activity_date": 1452857279, "last_edit_date": 1592644375, "creation_date": 1452857279, "answer_id": 34810040, "question_id": 34642055, "link": "https://stackoverflow.com/questions/34642055/certificate-mechanism-between-webservice-provider-and-consumer/34810040#34810040", "title": "certificate mechanism between webservice provider and consumer", "body": "<p>It looks like you're calling a web service where the HTTP connection is protected by TLS/SSL using X509 certificates. That means the server has set up a keystore with those certificates as well as the corresponding private keys. When you call the web service, the server will retrieve from its keystore the certificate used for the trust establishment (that is, to protect the TLS connection to the web service) and sends it to the client. When the client receives the response from the server it will check the trust of that certificate. Now we have two scenarios:</p>\n<ol>\n<li><p>If the server uses a self-signed certificate (can be used for developments and testing, but not in production), then the client won't recognize it as trusted because it's not stored in the client's truststore. By default, in a Java environment, the truststore is searched (by order) in the following two locations: <code>$JAVA_HOME/lib/security/jssecacerts</code> and <code>    $JAVA_HOME/lib/security/cacerts</code>. A custom truststore can also be used by running the client with <a href=\"https://stackoverflow.com/a/5871352/1252603\"><code>-Djavax.net.ssl.trustStore</code> and <code>-Djavax.net.ssl.trustStorePassword</code></a> or by using a custom <code>TrustManager</code>. As such, if the server self-signed certificate is not stored in one of these locations, the secure connection will fail. So the client will have to import the certificate into its truststore. To circumvent the import of self-signed certificates into the client's truststore, you can create a custom <code>X509TrustManager</code> as stated <a href=\"http://chadthedeveloper.blogspot.pt/2008/01/trust-all-certificates.html\" rel=\"noreferrer\">here</a>.</p>\n</li>\n<li><p>If the server uses a certificate signed by one of the recognized root CA authorities, then it'll be validated automagically because those CA's certificates are already installed in Java's default truststore. As such, the trusted TLS connection will be successful.</p>\n</li>\n</ol>\n<p>In the case where the server does not require client authentication the process is over (this is what happens when you connect to most HTTPS websites via browser).</p>\n<p>If the server requires client authentication, then the client will need to provide its own certificate from its keystore to the server, and the server will need to have it installed in its truststore. The web service provider must provide to the client the specification for the certificate profile that the client should use.</p>\n<p><a href=\"https://stackoverflow.com/a/6341566/1252603\">Here</a> you can find a good clarification to the keystore vs truststore terminology.</p>\n<p><a href=\"https://stackoverflow.com/a/9041012/1252603\">By default in Java environments, keystores and truststores are JKS files</a>.</p>\n<p>So you're saying you have a .p7b file provided by the web service provider. Quoting from <a href=\"https://www.sslshopper.com/ssl-converter.html\" rel=\"noreferrer\">this</a> page:</p>\n<blockquote>\n<p>PKCS#7/P7B Format</p>\n<p>The PKCS#7 or P7B format is usually stored in Base64 ASCII format and has a file extention of .p7b or .p7c. P7B certificates contain &quot;-----BEGIN PKCS7-----&quot; and &quot;-----END PKCS7-----&quot; statements. A P7B file only contains certificates and chain certificates, not the private key. Several platforms support P7B files including Microsoft Windows and Java Tomcat.</p>\n</blockquote>\n<p>So that P7B file contains the server certificate or certificate chain (more on this <a href=\"https://support.dnsimple.com/articles/what-is-ssl-certificate-chain/\" rel=\"noreferrer\">here</a>).</p>\n<p>I believe you're in a no-client-auth scenario. Therefore, you won't need your own keystore. You'll only need to import the server's certificate (P7B file) into the truststore you're using. You can directly import a P7B file without converting it to CER format:</p>\n<p><code>keytool -import -trustcacerts -alias web_service -keystore my_truststore.jks -file web_service.p7b</code></p>\n<p>In the case you still want a CER formatted certificate, you can convert from P7B to CER like this (to answer to your 2nd question):</p>\n<p><code>openssl pkcs7 -print_certs -in certificate.p7b -out certificate.cer</code></p>\n<p>If in fact client authentication is needed, then you'll need to create your keystore with your private key and public certificate and provide it to the connection by either the <a href=\"https://stackoverflow.com/a/882479/1252603\"><code>-Djavax.net.ssl.keyStore</code> and <code>-Djavax.net.ssl.keyStorePassword</code> parameters</a> or through a <code>KeyManager</code>. The same workflow previously explained applies now in the opposite direction.</p>\n"}], "owner": {"reputation": 513, "user_id": 1687302, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ba8274b4ae9761f62850651c63ffdd40?s=128&d=identicon&r=PG", "display_name": "Sumanth", "link": "https://stackoverflow.com/users/1687302/sumanth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2214, "favorite_count": 2, "accepted_answer_id": 34810040, "answer_count": 1, "score": 4, "last_activity_date": 1452857279, "creation_date": 1452111778, "question_id": 34642055, "link": "https://stackoverflow.com/questions/34642055/certificate-mechanism-between-webservice-provider-and-consumer", "title": "certificate mechanism between webservice provider and consumer", "body": "<p>What are the exact steps done by server and client to place a ssl certificate mechanism in a webservice call? Who(client/server/both) will generate .keystore,.p7b/.cer files? I have googled a lot but couldn't find the answer to it. \nIn my case, i am the client running a java application which consumes a soap webservice call. I have a .p7b file given by WebService provider. I know where to place the files(.keystore, .cer) and how to use it in the application.</p>\n\n<p>But, my questions are</p>\n\n<ol>\n<li>Do i need to generate keystore file or should i get it from\nwebservice provider? If i need to generate, how? Do i need private\nkey/passphrase?</li>\n<li>I need a .cer file, so how can i use keytool to convert .p7b to .cer\nfile?</li>\n</ol>\n\n<p>Thank you for your help in advance.</p>\n"}, {"tags": ["java", "xml", "xsd"], "comments": [{"owner": {"reputation": 4639, "user_id": 4641455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80516e0fdc6fbaaf574bf3d00fa60395?s=128&d=identicon&r=PG&f=1", "display_name": "JFPicard", "link": "https://stackoverflow.com/users/4641455/jfpicard"}, "edited": false, "score": 1, "creation_date": 1452111999, "post_id": 34642019, "comment_id": 57030173, "body": "Please post your error codes."}, {"owner": {"reputation": 31, "user_id": 1281681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac7e9a896d29b5220c90a3611106b173?s=128&d=identicon&r=PG", "display_name": "DarkStar", "link": "https://stackoverflow.com/users/1281681/darkstar"}, "reply_to_user": {"reputation": 4639, "user_id": 4641455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80516e0fdc6fbaaf574bf3d00fa60395?s=128&d=identicon&r=PG&f=1", "display_name": "JFPicard", "link": "https://stackoverflow.com/users/4641455/jfpicard"}, "edited": false, "score": 0, "creation_date": 1452164176, "post_id": 34642019, "comment_id": 57051743, "body": "cannot find symbol [ERROR] symbol:   method getPlans() [ERROR] location: variable xmlType of type com.xxx.xxxx.xxxxxxx.descriptor.XMLDeploymentDescriptorType    ----  XmlDeplymentDescriptorType is the generated class and I can see this under  generate-sources/xjc/com  etc.,"}], "owner": {"reputation": 31, "user_id": 1281681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac7e9a896d29b5220c90a3611106b173?s=128&d=identicon&r=PG", "display_name": "DarkStar", "link": "https://stackoverflow.com/users/1281681/darkstar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1452361014, "creation_date": 1452111650, "last_edit_date": 1452361014, "question_id": 34642019, "link": "https://stackoverflow.com/questions/34642019/jaxb-circular-dependency-maven-compile-error", "title": "jaxb circular dependency maven compile error", "body": "<p>I've code which generates classes and these are referenced in main package\nI'm using jaxb2 plugin and running on commandline. my code creates generate-sources ,but compile fails saying symbol can't find.\ncan somebody help me what's going wrong. here is my plugin in pom.xml</p>\n\n<pre><code>&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n     &lt;version&gt;2.3.2&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;source&gt;1.7&lt;/source&gt;\n      &lt;target&gt;1.7&lt;/target&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;generate&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;configuration&gt;\n            &lt;schemaIncludes&gt;\n                &lt;schemaInclude&gt;*-1.0.xsd&lt;/schemaInclude&gt;\n            &lt;/schemaIncludes&gt;\n            &lt;bindingIncludes&gt;\n                &lt;bindingInclude&gt;*bindings-1.0.xjb&lt;/bindingInclude&gt;\n            &lt;/bindingIncludes&gt;\n        &lt;/configuration&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n"}, {"tags": ["java", "arraylist", "intellij-idea"], "comments": [{"owner": {"reputation": 9984, "user_id": 1361506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5527d6bb829d75befe914163f5e8cf60?s=128&d=identicon&r=PG", "display_name": "azurefrog", "link": "https://stackoverflow.com/users/1361506/azurefrog"}, "edited": false, "score": 1, "creation_date": 1452111488, "post_id": 34641943, "comment_id": 57029847, "body": "That&#39;s the diamond operator. See <a href=\"http://stackoverflow.com/questions/4166966/what-is-the-point-of-the-diamond-operator-in-java-7\" title=\"what is the point of the diamond operator in java 7\">stackoverflow.com/questions/4166966/&hellip;</a>"}, {"owner": {"reputation": 2191, "user_id": 4771017, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/975661e1ab7e8f7e4a22ccbb6cde5ad6?s=128&d=identicon&r=PG&f=1", "display_name": "CubeJockey", "link": "https://stackoverflow.com/users/4771017/cubejockey"}, "reply_to_user": {"reputation": 9984, "user_id": 1361506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5527d6bb829d75befe914163f5e8cf60?s=128&d=identicon&r=PG", "display_name": "azurefrog", "link": "https://stackoverflow.com/users/1361506/azurefrog"}, "edited": false, "score": 0, "creation_date": 1452111587, "post_id": 34641943, "comment_id": 57029908, "body": "@azurefrog: OP isn&#39;t asking for the purpose of the diamond operator, but rather why their IDE is suggesting to remove the generic type."}, {"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 2, "creation_date": 1452111809, "post_id": 34641943, "comment_id": 57030057, "body": "The purpose of the diamond operator is, among others, to make an explicit type argument obsolete. In most such cases, explicitness is unnecessary. That&#39;s why Intellij warns you. Try to use the explicit type argument somewhere where it is necessary (some complicated generic inferrence cases), and Intellij won&#39;t warn you."}, {"owner": {"reputation": 1550, "user_id": 1899439, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/VRVcf.jpg?s=128&g=1", "display_name": "Marcio", "link": "https://stackoverflow.com/users/1899439/marcio"}, "edited": false, "score": 0, "creation_date": 1452111894, "post_id": 34641943, "comment_id": 57030112, "body": "This is because the Java and not IntelliJ IDEA. By changing the version of Java in the IDE, you can do as it has done until now."}], "owner": {"reputation": 1270, "user_id": 2318338, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/42638d9fd9c89b6eb4881166e4829c2c?s=128&d=identicon&r=PG&f=1", "display_name": "crazyCoder", "link": "https://stackoverflow.com/users/2318338/crazycoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "closed_date": 1452111483, "answer_count": 0, "score": 0, "last_activity_date": 1517205456, "creation_date": 1452111357, "last_edit_date": 1517205456, "question_id": 34641943, "link": "https://stackoverflow.com/questions/34641943/specifying-type-parameter-when-initializing-arraylists-in-java-in-intellij", "closed_reason": "Duplicate", "title": "Specifying type parameter when initializing Arraylists in java in intellij", "body": "<p>I'm a former eclipse user who currently made the jump to intellij. So far it's been great but I've noticed something interesting. </p>\n\n<p>In one of my projects I declared a List of type Document (a org.bson class) and initialized it with with an ArrayList of type Document. I immediately noticed that intellij threw a warning recommending that I \"replace &lt;Document> with &lt;>\"</p>\n\n<p>So it's recommending I change: </p>\n\n<pre><code>List&lt;Document&gt; documentList = new ArrayList&lt;Document&gt;();\n</code></pre>\n\n<p>to</p>\n\n<pre><code>List&lt;Document&gt; documentList = new ArrayList&lt;&gt;(); \n</code></pre>\n\n<p>This is very odd. I've always created lists using the first convention. I'm not sure if this some java best practice I've never knew about or a problem with intellij. Any explanation? </p>\n"}, {"tags": ["java", "maven", "profiles"], "answers": [{"tags": [], "owner": {"reputation": 4639, "user_id": 4641455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80516e0fdc6fbaaf574bf3d00fa60395?s=128&d=identicon&r=PG&f=1", "display_name": "JFPicard", "link": "https://stackoverflow.com/users/4641455/jfpicard"}, "is_accepted": true, "score": 2, "last_activity_date": 1452111795, "creation_date": 1452111795, "answer_id": 34642059, "question_id": 34641938, "link": "https://stackoverflow.com/questions/34641938/how-to-use-maven-profile-name-as-a-variable/34642059#34642059", "title": "How to use Maven Profile Name as a variable", "body": "<p>You must use the filtering concept of maven. See <a href=\"http://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\" rel=\"nofollow\">http://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html</a></p>\n\n<p>Add to your pom something like:</p>\n\n<pre><code>  &lt;resource&gt;\n    &lt;directory&gt;directory.to.servlet/servlet-context.xml&lt;/directory&gt;\n    &lt;filtering&gt;true&lt;/filtering&gt;\n  &lt;/resource&gt;\n</code></pre>\n\n<p>By replacing directory.to.servlet with the real directory</p>\n"}], "owner": {"reputation": 37, "user_id": 5572673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/044ff55f60eb472812c10aeeb004b83e?s=128&d=identicon&r=PG&f=1", "display_name": "DonSata", "link": "https://stackoverflow.com/users/5572673/donsata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3214, "favorite_count": 0, "accepted_answer_id": 34642059, "answer_count": 1, "score": 2, "last_activity_date": 1452126546, "creation_date": 1452111327, "last_edit_date": 1452126546, "question_id": 34641938, "link": "https://stackoverflow.com/questions/34641938/how-to-use-maven-profile-name-as-a-variable", "title": "How to use Maven Profile Name as a variable", "body": "<p>I need to build a war file that can call a JDBC connection depending on it's profile name.</p>\n\n<p>When I build with the dev profile, I need it to call the dev.properties file. And when I build with the prod profile, I need it to read from the prod.properties file.</p>\n\n<p>The idea that I came up with is to use the profile name as a variable somehow, but I can't figure out how to do it.</p>\n\n<p>POM.XML         </p>\n\n<pre><code>&lt;profile&gt;\n    &lt;id&gt;dev&lt;/id&gt;\n    &lt;activation&gt;\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n    &lt;/activation&gt;\n    &lt;properties&gt;\n        &lt;profile-id&gt;dev&lt;/profile-id&gt;\n    &lt;/properties&gt;\n&lt;/profile&gt;\n&lt;profile&gt;\n    &lt;id&gt;prod&lt;/id&gt;\n    &lt;properties&gt;\n        &lt;profile-id&gt;prod&lt;/profile-id&gt;\n    &lt;/properties&gt;\n&lt;/profile&gt;\n</code></pre>\n\n<p>servlet-context.xml</p>\n\n<pre><code>&lt;bean class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n    &lt;property name=\"location\"&gt;\n        &lt;value&gt;classpath:${profile-id}.properties&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n&lt;property name=\"dataSourceProperties\"&gt;\n    &lt;props&gt;                 \n        &lt;prop key=\"url\" &gt;${jdbc}&lt;/prop&gt;\n        &lt;prop key=\"user\"&gt;user&lt;/prop&gt;\n        &lt;prop key=\"password\"&gt;password&lt;/prop&gt;    \n        &lt;prop key=\"implicitCachingEnabled\"&gt;true&lt;/prop&gt;          \n    &lt;/props&gt;\n&lt;/property&gt;\n</code></pre>\n"}, {"tags": ["java", "swing", "jtable", "jcheckbox"], "comments": [{"owner": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "edited": false, "score": 0, "creation_date": 1452111613, "post_id": 34641832, "comment_id": 57029934, "body": "Have you tried <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#getBoolean(java.lang.String)\" rel=\"nofollow noreferrer\"><code>rs.getBoolean(&quot;FieldName&quot;)</code></a>?"}, {"owner": {"reputation": 117, "user_id": 5690993, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f54f2f0760990473b90a96e707ac489d?s=128&d=identicon&r=PG&f=1", "display_name": "ZenoX", "link": "https://stackoverflow.com/users/5690993/zenox"}, "reply_to_user": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "edited": false, "score": 0, "creation_date": 1452111802, "post_id": 34641832, "comment_id": 57030053, "body": "Yeah, it gives the same result unfortunately. :/"}, {"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1452117199, "post_id": 34641832, "comment_id": 57032938, "body": "<a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1038, "user_id": 4228138, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AlBb4.jpg?s=128&g=1", "display_name": "Mateusz Korwel", "link": "https://stackoverflow.com/users/4228138/mateusz-korwel"}, "is_accepted": true, "score": 5, "last_activity_date": 1452113430, "last_edit_date": 1452113430, "creation_date": 1452112452, "answer_id": 34642247, "question_id": 34641832, "link": "https://stackoverflow.com/questions/34641832/change-boolean-from-a-string-to-a-checkbox-jtable/34642247#34642247", "title": "Change Boolean from a String to a checkbox (JTable)", "body": "<p>First you have to save data as a Boolean in your model. So you should use this <code>rs.getBoolean(\"Fanta\")</code> instead of <code>rs.getString(\"Fanta\").trim()</code>.</p>\n\n<p>Second, you have to override a <code>public Class getColumnClass(int column)</code> method from your <code>JTable</code>. Your code could look like this:</p>\n\n<pre><code>JTable orderResults = new JTable() {\n    @Override\n    public Class getColumnClass(int column) {\n        // first 5 columns will be represented as an checkbox\n        if(column &lt;= 4){\n            return Boolean.class;\n        }\n\n        // rest of them as a text\n        return String.class;\n    }\n};\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 5690993, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f54f2f0760990473b90a96e707ac489d?s=128&d=identicon&r=PG&f=1", "display_name": "ZenoX", "link": "https://stackoverflow.com/users/5690993/zenox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 851, "favorite_count": 0, "accepted_answer_id": 34642247, "answer_count": 1, "score": 0, "last_activity_date": 1452178289, "creation_date": 1452110950, "last_edit_date": 1452178289, "question_id": 34641832, "link": "https://stackoverflow.com/questions/34641832/change-boolean-from-a-string-to-a-checkbox-jtable", "title": "Change Boolean from a String to a checkbox (JTable)", "body": "<p>I am having a small problem of showing results from my database to a JTable. It displays all of the data correctly, but at the moment it is showing \"true\" or \"false\" for boolean. </p>\n\n<p>I know it must be because I am using <code>getString</code>, but does anyone know what to use in order to change it to a checkbox instead?</p>\n\n<p>Current JTable:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KD25h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KD25h.png\" alt=\"enter image description here\"></a></p>\n\n<p>My Database:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6je0P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6je0P.png\" alt=\"enter image description here\"></a></p>\n\n<p>Code:</p>\n\n<pre><code>connection con=new connection();\nConnection getcon=null;\nVector col = new Vector();\nVector dat= new Vector();\nResultSet rs = null;\ntry{\n    getcon = con.creatConnection();\n    col.add(\"Fanta\");\n    col.add(\"Crisps\");\n    col.add(\"Beer\");\n    col.add(\"Wine\");// create income table default colum names and sore it\n    col.add(\"Water\");\n    col.add(\"Seat Row\");\n    col.add(\"Seat\");\n    col.add(\"Total Cost\");  \n    rs=getcon.createStatement().executeQuery(\"select*from orders\"); //getting all the information from the table\n\n    dat.clear();\n\n    while(rs.next()){// if record source avilable\n\n        Vector v =new Vector();\n        v.add(rs.getString(\"Fanta\").trim());\n        v.add(rs.getString(\"Crisps\").trim());\n        v.add(rs.getString(\"Beer\").trim());\n        v.add(rs.getString(\"Wine\").trim());// getting income values from database and store in dat\n        v.add(rs.getString(\"Water\").trim());\n        v.add(rs.getString(\"SeatRow\").trim());\n        v.add(rs.getString(\"Seat\").trim());\n        v.add(rs.getString(\"TotalCost\").trim());\n\n        dat.add(v);\n    }\n    orderResults.setModel(new DefaultTableModel(dat, col));\n}\ncatch(Exception ex){\n    JOptionPane.showMessageDialog(null, ex.getMessage());\n}\n</code></pre>\n"}, {"tags": ["java", "scroll", "codenameone"], "answers": [{"tags": [], "owner": {"reputation": 49574, "user_id": 756809, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/jFZnE.jpg?s=128&g=1", "display_name": "Shai Almog", "link": "https://stackoverflow.com/users/756809/shai-almog"}, "is_accepted": false, "score": 1, "last_activity_date": 1452139743, "creation_date": 1452139743, "answer_id": 34647202, "question_id": 34641763, "link": "https://stackoverflow.com/questions/34641763/scrolling-x-and-y-panes-at-the-same-time-in-codenameone/34647202#34647202", "title": "Scrolling X and Y panes at the same time in codenameone", "body": "<p>I think there is a specific lock there to prevent that from happening because otherwise the move becomes a bit too \"jerky\".</p>\n\n<p>Currently there is a strong assumption in Codename One that only one component is being scrolled at a time so when we handle the pointer drag events we make a choice based on the movement bias. If you want to see the very dirty and complex decision tree check out <code>Component.pointerDragged</code> but be warned its not pretty...</p>\n\n<p>You might be able to hack something by detecting this specific use case when overriding pointer dragged. </p>\n"}], "owner": {"reputation": 7336, "user_id": 2931146, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/35057c62300faa065d6894cf9e17d27c?s=128&d=identicon&r=PG", "display_name": "Diamond", "link": "https://stackoverflow.com/users/2931146/diamond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1452139743, "creation_date": 1452110628, "question_id": 34641763, "link": "https://stackoverflow.com/questions/34641763/scrolling-x-and-y-panes-at-the-same-time-in-codenameone", "title": "Scrolling X and Y panes at the same time in codenameone", "body": "<p>I have a scrollable-Y container that contains some components alongside a scrollable-X container. </p>\n\n<p>When I'm scrolling up or down and get to scrollable-X container, I can't scroll it left or right until the up and down scrolling comes to rest. The same thing happens vice-versa.</p>\n\n<p>How do I make both containers be scrollable at the same time? If I'm scrolling up and my thumb lay on the Scrollable-X container, I want to be able to scroll it too without stopping or waiting for Scrollable-Y container to stop.</p>\n"}, {"tags": ["java", "android", "asp.net", "asp.net-web-api", "fiddler"], "comments": [{"owner": {"reputation": 4561, "user_id": 2689390, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7263o.jpg?s=128&g=1", "display_name": "jpgrassi", "link": "https://stackoverflow.com/users/2689390/jpgrassi"}, "edited": false, "score": 0, "creation_date": 1452119877, "post_id": 34641542, "comment_id": 57034240, "body": "My best guess is that your parameters are not being sent. How in android you set the parameters? What is params.toString()? I&#39;m not an android developer but that seems wrong to me. See an example here: <a href=\"http://stackoverflow.com/questions/31478149/post-data-from-android-to-web-api-returns-404\" title=\"post data from android to web api returns 404\">stackoverflow.com/questions/31478149/&hellip;</a>"}, {"owner": {"reputation": 699, "user_id": 5007587, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9Isip.jpg?s=128&g=1", "display_name": "Malik Rizwan", "link": "https://stackoverflow.com/users/5007587/malik-rizwan"}, "reply_to_user": {"reputation": 4561, "user_id": 2689390, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7263o.jpg?s=128&g=1", "display_name": "jpgrassi", "link": "https://stackoverflow.com/users/2689390/jpgrassi"}, "edited": false, "score": 0, "creation_date": 1452140992, "post_id": 34641542, "comment_id": 57040320, "body": "param is a json object. i just convert my custom class object ino json using gson library. i did debug param has values as i set."}, {"owner": {"reputation": 699, "user_id": 5007587, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9Isip.jpg?s=128&g=1", "display_name": "Malik Rizwan", "link": "https://stackoverflow.com/users/5007587/malik-rizwan"}, "reply_to_user": {"reputation": 4561, "user_id": 2689390, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7263o.jpg?s=128&g=1", "display_name": "jpgrassi", "link": "https://stackoverflow.com/users/2689390/jpgrassi"}, "edited": false, "score": 0, "creation_date": 1452141130, "post_id": 34641542, "comment_id": 57040359, "body": "i also try fiddler but i can&#39;t get values in parameter of aps.net web api method."}, {"owner": {"reputation": 1241, "user_id": 2876977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ud3MR.gif?s=128&g=1", "display_name": "Kris", "link": "https://stackoverflow.com/users/2876977/kris"}, "edited": false, "score": 0, "creation_date": 1452150827, "post_id": 34641542, "comment_id": 57043934, "body": "Have you tried something like: MultipartEntity multipartEntity = new MultipartEntity();     multipartEntity.addPart(&quot;data&quot;, new StringBody(jsonObject.toString())); httpPost.setEntity(multipartEntity);"}], "owner": {"reputation": 699, "user_id": 5007587, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9Isip.jpg?s=128&g=1", "display_name": "Malik Rizwan", "link": "https://stackoverflow.com/users/5007587/malik-rizwan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 940, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1452109750, "creation_date": 1452109750, "question_id": 34641542, "link": "https://stackoverflow.com/questions/34641542/httppost-frombody-parameter-always-null", "title": "HttpPost [FromBody] parameter always null", "body": "<p><strong>Asp.net webApi 2</strong>\n[FromBody] parameter always null. (HttpGet method works fine.)\nif i try to pass json then and recieve <code>([FromBody] string param)</code> then i got null in param.\nif i try to get it in custom class object then object is not null but all properties found null.\n<strong>I did try to call post method from android and also from fiddler</strong> but faild to identify the problem.\n<a href=\"http://www.devcurry.com/2013/03/debugging-your-aspnet-web-apis-with.html\" rel=\"nofollow\">WebApi withfiddler example</a> i had download this source code and try it using fidler but this code also doesn't work.\n<strong>Please help where is the issue is there something wrong with my visual studio or i am doing wrong in my code. thanx in advance.</strong></p>\n\n<p><strong>here is api method</strong></p>\n\n<pre><code>[Route(\"Signup\")]\n    [HttpPost]\n    public string SignUp([FromBody] User user)\n    {\n        user.ip = ClientIp;\n        if (UserManager.SaveUser(user))\n        {\n            return \"succeed\";\n        }\n        else\n        {\n            return \"failed\";\n        }\n\n    }\n</code></pre>\n\n<p>if method recieve parameter like in above code then object properties are null but object is not null.</p>\n\n<pre><code>public string SignUp([FromBody] string param)\n</code></pre>\n\n<p>if it recieves string then it always found null.</p>\n\n<p><strong>here is android call</strong></p>\n\n<pre><code>DefaultHttpClient httpClient = new DefaultHttpClient();\n        HttpEntity httpEntity = null;\n        HttpResponse httpResponse = null;\n        StringEntity se=new StringEntity(params.toString());\n        // Checking http request method type\n        if (method == Constants.MethodInfo.POST) {\n            HttpPost httpPost = new HttpPost(url);\n            // adding post para[![try to post using Fiddler][2]][2]ms\n            if (se != null) {\n\n                httpPost.setEntity(new StringEntity(params.toString(),HTTP.UTF_8));\n                httpPost.setHeader(\"Content-type\", \"application/json\");\n            }\n\n            httpResponse = httpClient.execute(httpPost);\n</code></pre>\n"}, {"tags": ["java", "xml", "jaxb"], "answers": [{"tags": [], "owner": {"reputation": 636, "user_id": 5288966, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/77ae4210eca16905785b96c26ae2ad84?s=128&d=identicon&r=PG&f=1", "display_name": "jesric1029", "link": "https://stackoverflow.com/users/5288966/jesric1029"}, "is_accepted": false, "score": 0, "last_activity_date": 1452177191, "creation_date": 1452177191, "answer_id": 34657724, "question_id": 34641531, "link": "https://stackoverflow.com/questions/34641531/casting-variable-onto-bigdecimal/34657724#34657724", "title": "Casting variable onto bigDecimal", "body": "<p>I finally figured out the answer to this problem. The actual solution comes in the form of this field </p>\n\n<pre><code>adjAmt.setValue((BigDecimal) transInfo.get(\"amount\"));  \n</code></pre>\n\n<p>I am able to replace the amount in parenthesis with my desired amount. That amount is actually tied to another class I didn't post in the original question where \"amount\" is actually set in a JTextField then saved to a HashMap. </p>\n"}], "owner": {"reputation": 636, "user_id": 5288966, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/77ae4210eca16905785b96c26ae2ad84?s=128&d=identicon&r=PG&f=1", "display_name": "jesric1029", "link": "https://stackoverflow.com/users/5288966/jesric1029"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1452177191, "creation_date": 1452109705, "question_id": 34641531, "link": "https://stackoverflow.com/questions/34641531/casting-variable-onto-bigdecimal", "title": "Casting variable onto bigDecimal", "body": "<p>I am trying to make some changes to a program at work that is quite complicated. This program makes use of JAXB and has a host of different classes and features. At it's core the purpose is to allow a user to create an XML file that represents a card-based transaction. Right now the user has the ability to enter an amount which is then put into the final XML. I need to expand upon this by also giving the user the ability to split a transaction into multiple parts. This means that I need to be able to change the amount field. Unfortunately for me the way the author designed the amount field is a bit confusing, so I'm hoping someone could shed some light. There is tons of code and I can't paste it all but I'll do the best to show the issue. </p>\n\n<p>The main section of code I'm working with is this: </p>\n\n<pre><code>while(allocationCounter&gt;0){\n            StructuredRemittanceInformation9 Strd = objectFactory\n                    .createStructuredRemittanceInformation9(); // create Strd\n            ReferredDocumentInformation3 RfrdDocInf = objectFactory\n                    .createReferredDocumentInformation3(); // create RfrdDocInf\n            ReferredDocumentType2 tpdoc = objectFactory\n                    .createReferredDocumentType2(); // create tp\n            ReferredDocumentType1Choice cdOrPrtry = objectFactory\n                    .createReferredDocumentType1Choice(); // create CdOrPrtry\n            cdOrPrtry.setCd(DocumentType5Code.SOAC);\n            tpdoc.setCdOrPrtry(cdOrPrtry); // set CdorPrtry\n            RfrdDocInf.setTp(tpdoc); // set Tp\n            RfrdDocInf.setNb(\"0001\");\n            Strd.getRfrdDocInf().add(RfrdDocInf); // set RfrdDocInf\n\n            RemittanceAmount2 RfrdDocAmt = objectFactory.createRemittanceAmount2(); // create\n                                                                                    // RfrdDocAmt\n            DocumentAdjustment1 adjstmntAmt = objectFactory\n                    .createDocumentAdjustment1(); // create AdjstmntAmtAndRsn\n            ActiveOrHistoricCurrencyAndAmount adjAmt = objectFactory\n                    .createActiveOrHistoricCurrencyAndAmount(); // create Amt\n\n\n            adjAmt.setCcy(\"USD\");\n            adjAmt.setValue((BigDecimal) transInfo.get(\"amount\"));      \n            adjstmntAmt.setAmt(adjAmt); // set Amt\n            adjstmntAmt.setCdtDbtInd(CreditDebitCode.DBIT); // set CdtDbtInd\n            adjstmntAmt.setAddtlInf(transInfo.get(\"dbtrName\").toString()); // set\n                                                                            // AddtlInf\n            RfrdDocAmt.getAdjstmntAmtAndRsn().add(adjstmntAmt); // set\n                                                                // AdjstmntAmtAndRsn\n            Strd.setRfrdDocAmt(RfrdDocAmt); // set RfrdDocAmt\n\n            CreditorReferenceInformation2 cdtrRefInf = objectFactory\n                    .createCreditorReferenceInformation2(); // create CdtrRefInf\n            CreditorReferenceType2 cdtrTp = objectFactory\n                    .createCreditorReferenceType2(); // create Tp\n            CreditorReferenceType1Choice CdorPrtryTp = objectFactory\n                    .createCreditorReferenceType1Choice(); // create cdPrtry\n            CdorPrtryTp.setPrtry(\"BNR\");\n            cdtrTp.setCdOrPrtry(CdorPrtryTp);// set CdPrtry\n            cdtrRefInf.setTp(cdtrTp); // set Tp\n            cdtrRefInf.setRef(transInfo.get(\"referenceNumber\").toString());\n            Strd.setCdtrRefInf(cdtrRefInf);// set CdtrRefInf\n\n            rmtInf.getStrd().add(Strd); // set strd\n\n            System.out.println(\"TEST PASSED\");\n            allocationCounter--;\n            }\n</code></pre>\n\n<p>In particular this line of code</p>\n\n<pre><code>adjstmntAmt.setAmt(adjAmt); // set Amt\n</code></pre>\n\n<p>That is what sets the amount, and that is what I need to change. That amount links back through several classes but begins here:</p>\n\n<pre><code>transactionInfo.put(\"amount\", amount);\n</code></pre>\n\n<p>In that class the user puts the amount into a text field and it is then saved \nThe adjstmntAmt(adjAmt) I posted above is referenced in another class: \ninto the transactionInfo hash and called later. </p>\n\n<pre><code>//\n// This file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, v2.2.4-2 \n// See &lt;a href=\"http://java.sun.com/xml/jaxb\"&gt;http://java.sun.com/xml/jaxb&lt;/a&gt; \n// Any modifications to this file will be lost upon recompilation of the source schema. \n// Generated on: 2015.07.01 at 10:11:45 AM EDT \n//\n\n\npackage jaxBClasses;\n\nimport java.math.BigDecimal;\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlAttribute;\nimport javax.xml.bind.annotation.XmlType;\nimport javax.xml.bind.annotation.XmlValue;\n\n\n/**\n * &lt;p&gt;Java class for ActiveOrHistoricCurrencyAndAmount complex type.\n * \n * &lt;p&gt;The following schema fragment specifies the expected content contained within this class.\n * \n * &lt;pre&gt;\n * &amp;lt;complexType name=\"ActiveOrHistoricCurrencyAndAmount\"&gt;\n *   &amp;lt;simpleContent&gt;\n *     &amp;lt;extension base=\"&amp;lt;urn:iso:std:iso:20022:tech:xsd:pain.008.001.04&gt;ActiveOrHistoricCurrencyAndAmount_SimpleType\"&gt;\n *       &amp;lt;attribute name=\"Ccy\" use=\"required\" type=\"{urn:iso:std:iso:20022:tech:xsd:pain.008.001.04}ActiveOrHistoricCurrencyCode\" /&gt;\n *     &amp;lt;/extension&gt;\n *   &amp;lt;/simpleContent&gt;\n * &amp;lt;/complexType&gt;\n * &lt;/pre&gt;\n * \n * \n */\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"ActiveOrHistoricCurrencyAndAmount\", propOrder = {\n    \"value\"\n})\npublic class ActiveOrHistoricCurrencyAndAmount {\n\n    @XmlValue\n    protected BigDecimal value;\n    @XmlAttribute(name = \"Ccy\", required = true)\n    protected String ccy;\n\n    /**\n     * Gets the value of the value property.\n     * \n     * @return\n     *     possible object is\n     *     {@link BigDecimal }\n     *     \n     */\n    public BigDecimal getValue() {\n        return value;\n    }\n\n    /**\n     * Sets the value of the value property.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link BigDecimal }\n     *     \n     */\n    public void setValue(BigDecimal value) {\n        this.value = value;\n    }\n\n    /**\n     * Gets the value of the ccy property.\n     * \n     * @return\n     *     possible object is\n     *     {@link String }\n     *     \n     */\n    public String getCcy() {\n        return ccy;\n    }\n\n    /**\n     * Sets the value of the ccy property.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link String }\n     *     \n     */\n    public void setCcy(String value) {\n        this.ccy = value;\n    }\n\n}\n</code></pre>\n\n<p>and it also appears in this class: </p>\n\n<pre><code>//\n// This file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, v2.2.4-2 \n// See &lt;a href=\"http://java.sun.com/xml/jaxb\"&gt;http://java.sun.com/xml/jaxb&lt;/a&gt; \n// Any modifications to this file will be lost upon recompilation of the source schema. \n// Generated on: 2015.07.01 at 10:11:45 AM EDT \n//\n\n\npackage jaxBClasses;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlType;\n\n\n/**\n * &lt;p&gt;Java class for DocumentAdjustment1 complex type.\n * \n * &lt;p&gt;The following schema fragment specifies the expected content contained within this class.\n * \n * &lt;pre&gt;\n * &amp;lt;complexType name=\"DocumentAdjustment1\"&gt;\n *   &amp;lt;complexContent&gt;\n *     &amp;lt;restriction base=\"{http://www.w3.org/2001/XMLSchema}anyType\"&gt;\n *       &amp;lt;sequence&gt;\n *         &amp;lt;element name=\"Amt\" type=\"{urn:iso:std:iso:20022:tech:xsd:pain.008.001.04}ActiveOrHistoricCurrencyAndAmount\"/&gt;\n *         &amp;lt;element name=\"CdtDbtInd\" type=\"{urn:iso:std:iso:20022:tech:xsd:pain.008.001.04}CreditDebitCode\" minOccurs=\"0\"/&gt;\n *         &amp;lt;element name=\"Rsn\" type=\"{urn:iso:std:iso:20022:tech:xsd:pain.008.001.04}Max4Text\" minOccurs=\"0\"/&gt;\n *         &amp;lt;element name=\"AddtlInf\" type=\"{urn:iso:std:iso:20022:tech:xsd:pain.008.001.04}Max140Text\" minOccurs=\"0\"/&gt;\n *       &amp;lt;/sequence&gt;\n *     &amp;lt;/restriction&gt;\n *   &amp;lt;/complexContent&gt;\n * &amp;lt;/complexType&gt;\n * &lt;/pre&gt;\n * \n * \n */\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"DocumentAdjustment1\", propOrder = {\n    \"amt\",\n    \"cdtDbtInd\",\n    \"rsn\",\n    \"addtlInf\"\n})\npublic class DocumentAdjustment1 {\n\n    @XmlElement(name = \"Amt\", required = true)\n    protected ActiveOrHistoricCurrencyAndAmount amt;\n    @XmlElement(name = \"CdtDbtInd\")\n    protected CreditDebitCode cdtDbtInd;\n    @XmlElement(name = \"Rsn\")\n    protected String rsn;\n    @XmlElement(name = \"AddtlInf\")\n    protected String addtlInf;\n\n    /**\n     * Gets the value of the amt property.\n     * \n     * @return\n     *     possible object is\n     *     {@link ActiveOrHistoricCurrencyAndAmount }\n     *     \n     */\n    public ActiveOrHistoricCurrencyAndAmount getAmt() {\n        return amt;\n    }\n\n    /**\n     * Sets the value of the amt property.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link ActiveOrHistoricCurrencyAndAmount }\n     *     \n     */\n    public void setAmt(ActiveOrHistoricCurrencyAndAmount value) {\n\n        this.amt = value;\n    }\n\n    /**\n     * Gets the value of the cdtDbtInd property.\n     * \n     * @return\n     *     possible object is\n     *     {@link CreditDebitCode }\n     *     \n     */\n    public CreditDebitCode getCdtDbtInd() {\n        return cdtDbtInd;\n    }\n\n    /**\n     * Sets the value of the cdtDbtInd property.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link CreditDebitCode }\n     *     \n     */\n    public void setCdtDbtInd(CreditDebitCode value) {\n        this.cdtDbtInd = value;\n    }\n\n    /**\n     * Gets the value of the rsn property.\n     * \n     * @return\n     *     possible object is\n     *     {@link String }\n     *     \n     */\n    public String getRsn() {\n        return rsn;\n    }\n\n    /**\n     * Sets the value of the rsn property.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link String }\n     *     \n     */\n    public void setRsn(String value) {\n        this.rsn = value;\n    }\n\n    /**\n     * Gets the value of the addtlInf property.\n     * \n     * @return\n     *     possible object is\n     *     {@link String }\n     *     \n     */\n    public String getAddtlInf() {\n        return addtlInf;\n    }\n\n    /**\n     * Sets the value of the addtlInf property.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link String }\n     *     \n     */\n    public void setAddtlInf(String value) {\n        this.addtlInf = value;\n    }\n\n}\n</code></pre>\n\n<p>So my question is simply: What do I need to do to make it so that I can put any variable in that line of code that reads: </p>\n\n<pre><code>adjstmntAmt.setAmt(adjAmt); // set Amt\n</code></pre>\n\n<p>I've tried replacing adjAmt with my own variable but I get an error that says the type must be ActiveOrHistoricCurrencyAndAmount.. </p>\n\n<p>Any help is greatly appreciated!</p>\n"}, {"tags": ["java", "swing", "jframe"], "comments": [{"owner": {"reputation": 16165, "user_id": 3437460, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/7253131fc32bf734fa570977c79182e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3437460", "link": "https://stackoverflow.com/users/3437460/user3437460"}, "edited": false, "score": 0, "creation_date": 1452109848, "post_id": 34641523, "comment_id": 57028799, "body": "This question has been asked before, you may use an Observer pattern or even MVC."}, {"owner": {"reputation": 81, "user_id": 5579886, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/O5y5J.jpg?s=128&g=1", "display_name": "Oldmax", "link": "https://stackoverflow.com/users/5579886/oldmax"}, "reply_to_user": {"reputation": 16165, "user_id": 3437460, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/7253131fc32bf734fa570977c79182e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3437460", "link": "https://stackoverflow.com/users/3437460/user3437460"}, "edited": false, "score": 0, "creation_date": 1452109908, "post_id": 34641523, "comment_id": 57028839, "body": "Hope you got it. Please kindly fix my problem. If you can complete it for me, it will be a big help. Now i am 3 days trying to do this. But finally i am writing for you. Please look this. when i click button to setText from two, i can not use &quot;one one1 = new one();&quot; and &quot;one1.setVisible(true);&quot; . the reason it is one.java is running now. So my way is not working at that time. I need to fix it."}, {"owner": {"reputation": 16165, "user_id": 3437460, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/7253131fc32bf734fa570977c79182e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3437460", "link": "https://stackoverflow.com/users/3437460/user3437460"}, "edited": false, "score": 0, "creation_date": 1452110030, "post_id": 34641523, "comment_id": 57028908, "body": "From your codes, it looks like you used the drag and drop feature from Netbeans. I always find it tedious to edit auto generated codes. You can take a look on MVC. It is a simple pattern."}, {"owner": {"reputation": 81, "user_id": 5579886, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/O5y5J.jpg?s=128&g=1", "display_name": "Oldmax", "link": "https://stackoverflow.com/users/5579886/oldmax"}, "reply_to_user": {"reputation": 16165, "user_id": 3437460, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/7253131fc32bf734fa570977c79182e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3437460", "link": "https://stackoverflow.com/users/3437460/user3437460"}, "edited": false, "score": 0, "creation_date": 1452110316, "post_id": 34641523, "comment_id": 57029083, "body": "anyone here to fix my problem?"}, {"owner": {"reputation": 81, "user_id": 5579886, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/O5y5J.jpg?s=128&g=1", "display_name": "Oldmax", "link": "https://stackoverflow.com/users/5579886/oldmax"}, "reply_to_user": {"reputation": 16165, "user_id": 3437460, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/7253131fc32bf734fa570977c79182e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3437460", "link": "https://stackoverflow.com/users/3437460/user3437460"}, "edited": false, "score": 0, "creation_date": 1452110643, "post_id": 34641523, "comment_id": 57029297, "body": "anyone here to fix my problem? Finally i can simply say i need to know  how to get value from 2ndFrame to 1stFrame? The 2ndFrame is opened by 1stFrame. 1stFrame is the main one. At that time two Frames are visible to user. When user click button on 2ndFrame pass values to 1stFrame and exit 2ndFrame.  Using my code i can send values to 1stFrame to 2ndFrame. As well as but can not do it 2ndFrame to 1stFrame both are opened. Hope clear now. I am new one to java."}, {"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 2, "creation_date": 1452117421, "post_id": 34641523, "comment_id": 57033049, "body": "<a href=\"http://stackoverflow.com/q/9554636/418556\">The Use of Multiple JFrames, Good/Bad Practice?</a> and for a better idea of a solution maybe have a look at <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">How to Make Dialogs</a>"}, {"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1452117486, "post_id": 34641523, "comment_id": 57033080, "body": "You should also have a look at previous questions on the subject, as this gets asked way to often"}, {"owner": {"reputation": 196035, "user_id": 230513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/632732029bf05854c17d0dea6c82dcb4?s=128&d=identicon&r=PG", "display_name": "trashgod", "link": "https://stackoverflow.com/users/230513/trashgod"}, "edited": false, "score": 0, "creation_date": 1452124917, "post_id": 34641523, "comment_id": 57036122, "body": "This related <a href=\"http://stackoverflow.com/a/10523401/230513\">example</a> that uses a modeless dialog."}, {"owner": {"reputation": 81, "user_id": 5579886, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/O5y5J.jpg?s=128&g=1", "display_name": "Oldmax", "link": "https://stackoverflow.com/users/5579886/oldmax"}, "edited": false, "score": 0, "creation_date": 1452167588, "post_id": 34641523, "comment_id": 57053989, "body": "Thank you for your supports!!! i am trying to implement Dialogs!"}, {"owner": {"reputation": 81, "user_id": 5579886, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/O5y5J.jpg?s=128&g=1", "display_name": "Oldmax", "link": "https://stackoverflow.com/users/5579886/oldmax"}, "edited": false, "score": 0, "creation_date": 1452513038, "post_id": 34641523, "comment_id": 57187208, "body": "Thank you \u2013 MadProgrammer! Yes Dialogs solved my problem. Thank you again."}], "owner": {"reputation": 81, "user_id": 5579886, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/O5y5J.jpg?s=128&g=1", "display_name": "Oldmax", "link": "https://stackoverflow.com/users/5579886/oldmax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 252, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1452119900, "creation_date": 1452109680, "last_edit_date": 1452119900, "question_id": 34641523, "link": "https://stackoverflow.com/questions/34641523/how-to-pass-values-between-jframes-in-netbeans", "title": "How to pass values between Jframes in NetBeans?", "body": "<p>I make two JFrame.\n\"one.java\" for send value to \"two.java\". when i clicked \"Send to two\" button on the \"one.java\" it getting the \"one\" Text Field values and send to \"two.java\" and set it correctly. That process working well!!!</p>\n\n<p>As well it is working for other way. I mean first run the \"two.java\" and click \"Send to one\" then it set that values on \"one.java\" You can see it on netbeans.</p>\n\n<p>But in my case <strong>one.java</strong> is main one. <strong>two.java</strong> is child one. So i want to when open two.java by pressing <strong>Send to two</strong> button, send back text field values from <strong>two.java</strong> to <strong>one.java</strong> pressing Send to one.</p>\n\n<p>Hope you got my point. I am not good at for explain very well. Exactly i want to pass text field value from child  Jframe to main Jframe when child one opened by main jframe. At that time two Jframes are running. User can see two jframes.</p>\n\n<p>Hope you got it. Please kindly fix my problem. If you can complete it do it for me. Now i am 3 days trying to do this. But finally i writing for you.</p>\n\n<p>Here I post my code.</p>\n\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage testing;\n\nimport java.beans.PropertyChangeEvent;\nimport java.beans.PropertyChangeListener;\n\n/**\n *\n * @author Code\n */\npublic class one extends javax.swing.JFrame implements PropertyChangeListener{\n\n    /**\n     * Creates new form one\n     */\n    public one() {\n        initComponents();\n    }\n\n    one(two aThis) {\n        throw new UnsupportedOperationException(\"Not supported yet.\"); //To change body of generated methods, choose Tools | Templates.\n    }\n@Override\n    public void propertyChange(PropertyChangeEvent evt) {\n        if (evt.getPropertyName().equals(\"jButton1ActionPerformed\")){\n            System.out.println(\"button in frame1 was pressed\");\n            this.two.setText((String)evt.getNewValue());\n        }\n        if (evt.getPropertyName().equals(\"jTextField1KeyReleased\")){\n            System.out.println(\"user typed in frame1 jTextField\");\n            this.two.setText((String)evt.getNewValue());\n        }\n    }\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(\"unchecked\")\n    // &lt;editor-fold defaultstate=\"collapsed\" desc=\"Generated Code\"&gt;                          \n    private void initComponents() {\n\n        one = new javax.swing.JTextField();\n        two = new javax.swing.JTextField();\n        jButton1 = new javax.swing.JButton();\n        jLabel1 = new javax.swing.JLabel();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        one.addKeyListener(new java.awt.event.KeyAdapter() {\n            public void keyReleased(java.awt.event.KeyEvent evt) {\n                oneKeyReleased(evt);\n            }\n        });\n\n        jButton1.setText(\"Send to two\");\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton1ActionPerformed(evt);\n            }\n        });\n\n        jLabel1.setText(\"from two : \");\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(51, 51, 51)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)\n                    .addGroup(layout.createSequentialGroup()\n                        .addComponent(jLabel1)\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                        .addComponent(two, javax.swing.GroupLayout.PREFERRED_SIZE, 151, javax.swing.GroupLayout.PREFERRED_SIZE))\n                    .addGroup(layout.createSequentialGroup()\n                        .addComponent(one, javax.swing.GroupLayout.PREFERRED_SIZE, 151, javax.swing.GroupLayout.PREFERRED_SIZE)\n                        .addGap(31, 31, 31)\n                        .addComponent(jButton1)))\n                .addContainerGap(74, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\n                .addContainerGap(159, Short.MAX_VALUE)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(one, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(jButton1))\n                .addGap(76, 76, 76)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(two, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(jLabel1))\n                .addGap(21, 21, 21))\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void oneKeyReleased(java.awt.event.KeyEvent evt) {                                \n        // TODO add your handling code here:\n        firePropertyChange(\"jTextField1KeyReleased\", \"\", one.getText());\n    }                               \n\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here:\n        two two2 = new two();\n        this.addPropertyChangeListener((PropertyChangeListener) two2);\n        two2.setVisible(true);\n        firePropertyChange(\"jButton1ActionPerformed\", \"\",  one.getText());\n    }                                        \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=\"collapsed\" desc=\" Look and feel setting code (optional) \"&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (\"Nimbus\".equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(one.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(one.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(one.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(one.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new one().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton jButton1;\n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JTextField one;\n    private javax.swing.JTextField two;\n    // End of variables declaration                   \n}\n</code></pre>\n\n<p>Two.java</p>\n\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage testing;\nimport java.awt.Frame;\nimport java.beans.PropertyChangeEvent;\nimport java.beans.PropertyChangeListener;\n/**\n *\n * @author Code\n */\npublic class two extends javax.swing.JFrame implements PropertyChangeListener{\n\n    /**\n     * Creates new form two\n     */\n    public two() {\n        initComponents();\n    }\n @Override\n    public void propertyChange(PropertyChangeEvent evt) {\n        if (evt.getPropertyName().equals(\"jButton1ActionPerformed\")){\n            System.out.println(\"button in frame1 was pressed\");\n            this.one.setText((String)evt.getNewValue());\n        }\n        if (evt.getPropertyName().equals(\"jTextField1KeyReleased\")){\n            System.out.println(\"user typed in frame1 jTextField\");\n            this.one.setText((String)evt.getNewValue());\n        }\n    }\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(\"unchecked\")\n    // &lt;editor-fold defaultstate=\"collapsed\" desc=\"Generated Code\"&gt;                          \n    private void initComponents() {\n\n        one = new javax.swing.JTextField();\n        two = new javax.swing.JTextField();\n        jButton1 = new javax.swing.JButton();\n        jLabel1 = new javax.swing.JLabel();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        two.addKeyListener(new java.awt.event.KeyAdapter() {\n            public void keyReleased(java.awt.event.KeyEvent evt) {\n                twoKeyReleased(evt);\n            }\n        });\n\n        jButton1.setText(\"Send to one\");\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton1ActionPerformed(evt);\n            }\n        });\n\n        jLabel1.setText(\"From one  : \");\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(51, 51, 51)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)\n                    .addGroup(layout.createSequentialGroup()\n                        .addComponent(jLabel1)\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                        .addComponent(one, javax.swing.GroupLayout.PREFERRED_SIZE, 151, javax.swing.GroupLayout.PREFERRED_SIZE))\n                    .addGroup(layout.createSequentialGroup()\n                        .addComponent(two, javax.swing.GroupLayout.PREFERRED_SIZE, 151, javax.swing.GroupLayout.PREFERRED_SIZE)\n                        .addGap(18, 18, 18)\n                        .addComponent(jButton1)))\n                .addContainerGap(88, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\n                .addContainerGap(160, Short.MAX_VALUE)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(one, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(jLabel1))\n                .addGap(85, 85, 85)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(two, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(jButton1))\n                .addContainerGap())\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void twoKeyReleased(java.awt.event.KeyEvent evt) {                                \n        // TODO add your handling code here:\n        firePropertyChange(\"jTextField1KeyReleased\", \"\", two.getText());\n    }                               \n\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here:\n\n        one one1 = new one();\n        this.addPropertyChangeListener((PropertyChangeListener) one1);\n        one1.setVisible(true);\n        firePropertyChange(\"jButton1ActionPerformed\", \"\",  two.getText());\n    }                                        \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=\"collapsed\" desc=\" Look and feel setting code (optional) \"&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (\"Nimbus\".equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(two.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(two.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(two.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(two.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new two().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton jButton1;\n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JTextField one;\n    private javax.swing.JTextField two;\n    // End of variables declaration                   \n}\n</code></pre>\n"}, {"tags": ["java", "android"], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 5745558, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e7380bc396049ad45e915ac4c53ab9c7?s=128&d=identicon&r=PG&f=1", "display_name": "RexDough", "link": "https://stackoverflow.com/users/5745558/rexdough"}, "edited": false, "score": 0, "creation_date": 1452112561, "post_id": 34641649, "comment_id": 57030476, "body": "see currently i am using an array full of images which is randomised and an image is chosen at random to fill each image view using &#39;i&#39;. The problem i am facing to get the same image after the first is drawn i have to put &#39;i&#39; again before it is randomised again to choose the next pair of images."}, {"owner": {"reputation": 181, "user_id": 5745558, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e7380bc396049ad45e915ac4c53ab9c7?s=128&d=identicon&r=PG&f=1", "display_name": "RexDough", "link": "https://stackoverflow.com/users/5745558/rexdough"}, "edited": false, "score": 0, "creation_date": 1452112606, "post_id": 34641649, "comment_id": 57030505, "body": "but because i need two of the same images this is the way i have to do it, do you recommend any other way to go around this?"}, {"owner": {"reputation": 136, "user_id": 5749958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418930571b21c74e885d5c52a0595856?s=128&d=identicon&r=PG&f=1", "display_name": "H. Bhonsle", "link": "https://stackoverflow.com/users/5749958/h-bhonsle"}, "reply_to_user": {"reputation": 181, "user_id": 5745558, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e7380bc396049ad45e915ac4c53ab9c7?s=128&d=identicon&r=PG&f=1", "display_name": "RexDough", "link": "https://stackoverflow.com/users/5745558/rexdough"}, "edited": false, "score": 0, "creation_date": 1452113904, "post_id": 34641649, "comment_id": 57031175, "body": "What I suggested should still work for you, just double fill the array so each image has one duplicate in the array so the array is size 8 and not 4."}, {"owner": {"reputation": 181, "user_id": 5745558, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e7380bc396049ad45e915ac4c53ab9c7?s=128&d=identicon&r=PG&f=1", "display_name": "RexDough", "link": "https://stackoverflow.com/users/5745558/rexdough"}, "edited": false, "score": 0, "creation_date": 1452114332, "post_id": 34641649, "comment_id": 57031403, "body": "the array has 26 different images and 4 are chosen, if i duplicate them the chances of getting the same image are very high"}, {"owner": {"reputation": 136, "user_id": 5749958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418930571b21c74e885d5c52a0595856?s=128&d=identicon&r=PG&f=1", "display_name": "H. Bhonsle", "link": "https://stackoverflow.com/users/5749958/h-bhonsle"}, "reply_to_user": {"reputation": 181, "user_id": 5745558, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e7380bc396049ad45e915ac4c53ab9c7?s=128&d=identicon&r=PG&f=1", "display_name": "RexDough", "link": "https://stackoverflow.com/users/5745558/rexdough"}, "edited": false, "score": 0, "creation_date": 1452122165, "post_id": 34641649, "comment_id": 57035165, "body": "If you must shuffle the layouts that is doable too, just create a new linearlayout and add the imageviews to it, remove the old linearlayout and add the new one to your main layout."}], "tags": [], "owner": {"reputation": 136, "user_id": 5749958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418930571b21c74e885d5c52a0595856?s=128&d=identicon&r=PG&f=1", "display_name": "H. Bhonsle", "link": "https://stackoverflow.com/users/5749958/h-bhonsle"}, "is_accepted": false, "score": 0, "last_activity_date": 1452110156, "creation_date": 1452110156, "answer_id": 34641649, "question_id": 34641509, "link": "https://stackoverflow.com/questions/34641509/shuffling-image-views-positions/34641649#34641649", "title": "Shuffling image views positions", "body": "<p>Rather than changing the layouts of the image views which would require a lot of re-rendering, it would be more ideal to use an algorithm to randomly select out the images and set the images of the image views in order. This way you will still have a random ordering of pairs without having the shuffle around the layouts themselves. Note, you would also need to reassign any appropriate properties of the imageviews such as tags for a specific image you may be using.</p>\n"}, {"tags": [], "owner": {"reputation": 1183, "user_id": 4794878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03bd79c9187f977e4e89b6dd74ac0280?s=128&d=identicon&r=PG&f=1", "display_name": "Suhayl SH", "link": "https://stackoverflow.com/users/4794878/suhayl-sh"}, "is_accepted": false, "score": 1, "last_activity_date": 1469598253, "last_edit_date": 1469598253, "creation_date": 1469531404, "answer_id": 38588265, "question_id": 34641509, "link": "https://stackoverflow.com/questions/34641509/shuffling-image-views-positions/38588265#38588265", "title": "Shuffling image views positions", "body": "<p><em>Try this:</em></p>\n\n<pre><code>     private final int imageArray[] = {\n        R.drawable.image1, R.drawable.image2, R.drawable.image3,\n        R.drawable.image4, R.drawable.image5, R.drawable.image6\n     };\n</code></pre>\n\n<p><strong>Shuffle:</strong></p>\n\n<pre><code>static void shuffleArray(int[] arr)\n    {\n        Random rnd = new Random();\n        for (int i = arr.length - 1; i &gt; 0; i--)\n        {\n            int index = rnd.nextInt(i + 1);\n            // Swap\n            int a = arr[index];\n            arr[index] = arr[i];\n            arr[i] = a;\n        }\n    }\n</code></pre>\n\n<p><strong>Call the shuffle method and pass your image array as an argument:</strong></p>\n\n<pre><code>shuffleArray(imageArray) \n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 5745558, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e7380bc396049ad45e915ac4c53ab9c7?s=128&d=identicon&r=PG&f=1", "display_name": "RexDough", "link": "https://stackoverflow.com/users/5745558/rexdough"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1469598253, "creation_date": 1452109640, "question_id": 34641509, "link": "https://stackoverflow.com/questions/34641509/shuffling-image-views-positions", "title": "Shuffling image views positions", "body": "<p>I am making a pair matching game, where there are 8 image views with 4 different images. I am wondering when the page loads is there anyway to swap the positions of the image views? </p>\n\n<p>So that the order of each image changes each time?</p>\n"}, {"tags": ["java", "spring", "spring-boot", "integration-testing"], "answers": [{"comments": [{"owner": {"reputation": 1066, "user_id": 2452938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YtcyM.jpg?s=128&g=1", "display_name": "Mr. Doomsbuster", "link": "https://stackoverflow.com/users/2452938/mr-doomsbuster"}, "edited": false, "score": 8, "creation_date": 1499813472, "post_id": 34643205, "comment_id": 77065615, "body": "This solved it, thanks a bunch. Just one part to note is that the <code>HttpHeaders</code> needs to be from the <code>org.springframework.http</code> package"}], "tags": [], "owner": {"reputation": 39004, "user_id": 1393484, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/251d2d8ab5721e399a715d7531471448?s=128&d=identicon&r=PG", "display_name": "Ali Dehghani", "link": "https://stackoverflow.com/users/1393484/ali-dehghani"}, "is_accepted": false, "score": 36, "last_activity_date": 1475557510, "last_edit_date": 1475557510, "creation_date": 1452116005, "answer_id": 34643205, "question_id": 34641502, "link": "https://stackoverflow.com/questions/34641502/add-header-value-for-spring-testresttemplate-integration-test/34643205#34643205", "title": "Add Header Value For Spring TestRestTemplate Integration Test", "body": "<p><strong>Update</strong>: <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.4-Release-Notes#testresttemplate\" rel=\"noreferrer\">As of Spring Boot 1.4.0</a>, <a href=\"http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/web/client/TestRestTemplate.html\" rel=\"noreferrer\"><code>TestRestTemplate</code></a> does not extend <code>RestTemplate</code> anymore but still provides the same API as <code>RestTemplate</code>.</p>\n\n<p><code>TestRestTemplate</code> <del>extends <code>RestTemplate</code></del> provides the same API as the <code>RestTemplate</code>, so you can use that same API for sending requests. For example:</p>\n\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.add(\"your_header\", \"its_value\");\ntemplate.exchange(base, HttpMethod.GET, new HttpEntity&lt;&gt;(headers), Page.class);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2489, "user_id": 476817, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c6d04d50a4a06d5dccb4d56e4b28b33e?s=128&d=identicon&r=PG", "display_name": "DagR", "link": "https://stackoverflow.com/users/476817/dagr"}, "is_accepted": true, "score": 24, "last_activity_date": 1479465300, "creation_date": 1479465300, "answer_id": 40674875, "question_id": 34641502, "link": "https://stackoverflow.com/questions/34641502/add-header-value-for-spring-testresttemplate-integration-test/40674875#40674875", "title": "Add Header Value For Spring TestRestTemplate Integration Test", "body": "<p>If you want all of your requests using <code>TestRestTemplate</code> to include certain headers, you could add the following to your setup:</p>\n\n<pre><code>testRestTemplate.getRestTemplate().setInterceptors(\n        Collections.singletonList((request, body, execution) -&gt; {\n            request.getHeaders()\n                    .add(\"header-name\", \"value\");\n            return execution.execute(request, body);\n        }));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 8616857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a9853796b460d98e970292eb9da917e?s=128&d=identicon&r=PG&f=1", "display_name": "Vasu K S", "link": "https://stackoverflow.com/users/8616857/vasu-k-s"}, "is_accepted": false, "score": 2, "last_activity_date": 1505539514, "creation_date": 1505539514, "answer_id": 46250386, "question_id": 34641502, "link": "https://stackoverflow.com/questions/34641502/add-header-value-for-spring-testresttemplate-integration-test/46250386#46250386", "title": "Add Header Value For Spring TestRestTemplate Integration Test", "body": "<p>If you want to use multiple headers for all your requests, you can add the below</p>\n\n<pre><code> import org.apache.http.Header;\n import org.apache.http.impl.client.CloseableHttpClient;\n import org.apache.http.impl.client.HttpClients;\n import org.apache.http.message.BasicHeader;\n import org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\n\n\n private void setTestRestTemplateHeaders() {\n    Header header = new BasicHeader(\"header\", \"value\");\n    Header header2 = new BasicHeader(\"header2\", \"value2\");\n    List&lt;Header&gt; headers = new ArrayList&lt;Header&gt;();\n    headers.add(header);\n    headers.add(header2);\n    CloseableHttpClient httpClient = HttpClients.custom().setDefaultHeaders(headers).build();\n    testRestTemplate.getRestTemplate().setRequestFactory(new HttpComponentsClientHttpRequestFactory(httpClient));\n }\n</code></pre>\n\n<p>Once the headers are set you can either use <code>TestRestTemplate [testRestTemplate]</code> or <code>RestTemplate [testRestTemplate.getRestTemplate()]</code> for your REST calls</p>\n"}], "owner": {"reputation": 5491, "user_id": 1947251, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8cLuB.jpg?s=128&g=1", "display_name": "DavidR", "link": "https://stackoverflow.com/users/1947251/davidr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20158, "favorite_count": 4, "accepted_answer_id": 40674875, "answer_count": 3, "score": 32, "last_activity_date": 1505539514, "creation_date": 1452109594, "last_edit_date": 1475556976, "question_id": 34641502, "link": "https://stackoverflow.com/questions/34641502/add-header-value-for-spring-testresttemplate-integration-test", "title": "Add Header Value For Spring TestRestTemplate Integration Test", "body": "<p>I am using <code>TestRestTemplate</code> for integration testing on our product.</p>\n\n<p>I have one test that looks like this:</p>\n\n<pre><code>@Test\npublic void testDeviceQuery() {\n    ResponseEntity&lt;Page&gt; deviceInfoPage = template.getForEntity(base, Page.class);\n\n    // validation code here\n}\n</code></pre>\n\n<p>This particular request expects a Header value. Can someone please let me know how I can add a header to the <code>TestRestTemplate</code> call?</p>\n"}, {"tags": ["java", "mysql"], "comments": [{"owner": {"reputation": 19564, "user_id": 5292302, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b61b00d5bcb378f99eadff312544514?s=128&d=identicon&r=PG", "display_name": "Petter Friberg", "link": "https://stackoverflow.com/users/5292302/petter-friberg"}, "edited": false, "score": 0, "creation_date": 1452109795, "post_id": 34641495, "comment_id": 57028766, "body": "Check that con is not null when st = con.createStatement();, do a nice System.out.println(con) before... or even better try to debug with an IDE (step by step) and you will find it..."}, {"owner": {"reputation": 31, "user_id": 4605292, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E_NpSr2QuoE/AAAAAAAAAAI/AAAAAAAAAFc/JUKVTWXC79A/photo.jpg?sz=128", "display_name": "shashnatiq", "link": "https://stackoverflow.com/users/4605292/shashnatiq"}, "reply_to_user": {"reputation": 19564, "user_id": 5292302, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b61b00d5bcb378f99eadff312544514?s=128&d=identicon&r=PG", "display_name": "Petter Friberg", "link": "https://stackoverflow.com/users/5292302/petter-friberg"}, "edited": false, "score": 0, "creation_date": 1452109897, "post_id": 34641495, "comment_id": 57028829, "body": "Said it helped him Petter thanks :)"}], "owner": {"reputation": 31, "user_id": 4605292, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E_NpSr2QuoE/AAAAAAAAAAI/AAAAAAAAAFc/JUKVTWXC79A/photo.jpg?sz=128", "display_name": "shashnatiq", "link": "https://stackoverflow.com/users/4605292/shashnatiq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "closed_date": 1452109626, "answer_count": 0, "score": 0, "last_activity_date": 1452109663, "creation_date": 1452109551, "last_edit_date": 1452109663, "question_id": 34641495, "link": "https://stackoverflow.com/questions/34641495/why-does-this-nullpointexception-occur", "closed_reason": "Duplicate", "title": "Why does this NullPointException occur?", "body": "<p>The problem is that NullPointException occurs at st = con.createStatement();\n     rs = st.executeQuery(\"select * from noit\");\n     rs.next(); but they are declared to be null. The first code is for connection to MySQL and the second is to give a function to a button.</p>\n\n<p>Here is his code:</p>\n\n<pre><code>public class database {\npublic void con(){\nConnection con = null;\nStatement st = null;\nResultSet rs = null;\nString nqkuvsi = null;\ntry{\n    con = (Connection)DriverManager.getConnection(\"jdbc:mysql://localhost:3306/userlogin\",\"root\",\"1234\");       \n    if(con!=null){\n        System.out.println(\"successfull\");\n       }}catch(Exception e){\n    System.out.println(\"no connection\");\n    e.printStackTrace();\n}\n}\n}\n</code></pre>\n\n<p>Second code:</p>\n\n<pre><code>public void actionPerformed(ActionEvent a){\ndb.con();    \n    ResultSet res = null;       \n    int resul = 0;\n    Object s = a.getSource();           \n    if(s==jbut){\n     Random rand = new Random();\n        Random rand1 = new Random();\n             int rnd = rand.nextInt(2)+1;           \n             int rnd1 = rand1.nextInt(2) + 2;\n         String nqkuv = null;\n         String nqkuv1 = null,nqkuv2 = null,nqkuv3 = null;\n         if(rnd==1){                 \n             try{               \n             st = con.createStatement();\n             rs = st.executeQuery(\"select * from noit\");\n             rs.next();\n             nqkuv = rs.getString(rnd1);\n         }catch(SQLException e){\n             e.printStackTrace();\n         }\n</code></pre>\n\n<p>Any help appreciated!               </p>\n"}, {"tags": ["java", "generics", "bounded-wildcard"], "comments": [{"owner": {"reputation": 8784, "user_id": 786223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fi4pw.jpg?s=128&g=1", "display_name": "Chris Nauroth", "link": "https://stackoverflow.com/users/786223/chris-nauroth"}, "edited": false, "score": 0, "creation_date": 1452110851, "post_id": 34641441, "comment_id": 57029444, "body": "Can you please clarify how users of <code>Container</code> would use the return value of <code>getAllItems</code>?  The current example provides a <code>toString</code> override for <code>Type</code>.  Beyond that, in real-world usage, do the callers need to get back to the concrete type of each item?  If so, do you expect that to be done by runtime type checks and downcasting?  With the current example, I&#39;m having trouble seeing why you wouldn&#39;t return <code>Collection&lt;Type&lt;Object&gt;&gt;</code>."}, {"owner": {"reputation": 18202, "user_id": 2158288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glWQk.jpg?s=128&g=1", "display_name": "ZhongYu", "link": "https://stackoverflow.com/users/2158288/zhongyu"}, "edited": false, "score": 0, "creation_date": 1452736797, "post_id": 34641441, "comment_id": 57305951, "body": "well the book is wrong, so is everybody who echoes the point :) Don&#39;t worry about it; if a method calls for a return type with wildcard, just do it. <a href=\"http://stackoverflow.com/a/30548589/2158288\">stackoverflow.com/a/30548589/2158288</a>"}, {"owner": {"reputation": 18202, "user_id": 2158288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glWQk.jpg?s=128&g=1", "display_name": "ZhongYu", "link": "https://stackoverflow.com/users/2158288/zhongyu"}, "edited": false, "score": 0, "creation_date": 1452736857, "post_id": 34641441, "comment_id": 57305965, "body": "my article on wildcard - <a href=\"http://bayou.io/draft/Capturing_Wildcards.html\" rel=\"nofollow noreferrer\">bayou.io/draft/Capturing_Wildcards.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 60632, "user_id": 823393, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a37a096cfb6f7b8e40e4950dc1a9658?s=128&d=identicon&r=PG", "display_name": "OldCurmudgeon", "link": "https://stackoverflow.com/users/823393/oldcurmudgeon"}, "is_accepted": false, "score": 3, "last_activity_date": 1452113729, "creation_date": 1452113729, "answer_id": 34642587, "question_id": 34641441, "link": "https://stackoverflow.com/questions/34641441/using-generic-wildcard-types-in-return-parameters/34642587#34642587", "title": "Using generic wildcard types in return parameters", "body": "<p>If you truly intend to store objects of absolutely <em>any</em> type then use Object. There is no need to add type checking sugar when you specifically do not want types checked.</p>\n"}, {"comments": [{"owner": {"reputation": 432, "user_id": 1192286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf099da2b4f72ea6ffc5b58da637ba5f?s=128&d=identicon&r=PG", "display_name": "elk", "link": "https://stackoverflow.com/users/1192286/elk"}, "edited": false, "score": 0, "creation_date": 1452723584, "post_id": 34643085, "comment_id": 57301318, "body": "Thanks, this is probably the answer I was looking for. It helps to think about this problem in terms of interfaces and probably provides solutions for most of similar kind of problems."}, {"owner": {"reputation": 432, "user_id": 1192286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf099da2b4f72ea6ffc5b58da637ba5f?s=128&d=identicon&r=PG", "display_name": "elk", "link": "https://stackoverflow.com/users/1192286/elk"}, "edited": false, "score": 0, "creation_date": 1452724000, "post_id": 34643085, "comment_id": 57301482, "body": "Pressed Enter too early...  I still don&#39;t entirely agree that one can return <code>Collection&lt;Type&lt;Object&gt;&gt;</code> in this example. <code>Type&lt;Object&gt;</code> is an instruction to compiler that <code>Type</code> contains <code>Object</code> (and not a subtype of <code>Object</code>). For instance, if  we had <code>Type&lt;Integer&gt;</code> and defined method <code>setValue(T)</code>, one could write <code>Object o = new Object(); type.setValue(o);</code> circumventing requirement that <code>Type</code> must contain an <code>Integer</code>"}], "tags": [], "owner": {"reputation": 2117, "user_id": 3165552, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zvQzz.png?s=128&g=1", "display_name": "isaias-b", "link": "https://stackoverflow.com/users/3165552/isaias-b"}, "is_accepted": false, "score": 2, "last_activity_date": 1452125494, "last_edit_date": 1592644375, "creation_date": 1452115566, "answer_id": 34643085, "question_id": 34641441, "link": "https://stackoverflow.com/questions/34641441/using-generic-wildcard-types-in-return-parameters/34643085#34643085", "title": "Using generic wildcard types in return parameters", "body": "<p>I think the <code>Type</code> class silently provides two <em>interfaces</em><sup>*</sup>. One for users which do care about the generic type <code>T</code>, and another one for users which don't. I'll try to make this a little clearer with some code:</p>\n<pre><code>interface TypeWithoutT { Object getValueObj(); } // exposes untyped api\n\nclass Type&lt;T&gt; implements TypeWithoutT { // exposes several apis\n    private final T value;\n\n    // exposes typed part of the api (can be on a separate interface)\n    public T getValue() { return value; }\n    public Type(T value) { this.value = value; }\n\n    // overrides commonly available apis\n    @Override\n    public String toString() { return &quot;Type(&quot; + value + &quot;)&quot;; }\n\n    // exposes untyped part of the api and Object's api\n    public Object getValueObj() { return value; }\n}\n</code></pre>\n<p>The <em>typed interface</em> of class <code>Type&lt;T&gt;</code> can expose more type specific operations as the opponent <em>untyped interface</em> <code>TypeWithoutT</code>. The <code>toString</code> method is available on every instance so it is part of the commonly available interface of <code>Object</code> instances. Probably, there will be other useful operations besides the ones provided by <code>Object</code>, which should be exposed to the user, which is the <em>untyped</em> part of the api.</p>\n<h1>Rephrase</h1>\n<p>The question now is: What can a user do with a bunch of mixed <code>Type</code> instances? What do they expect of each instance within a mixed collection of <code>Type</code> instances?</p>\n<h1>Is <code>Object</code> sufficent?</h1>\n<p>They probably expect nothing else, than the same set of operations which are common to all <code>Type&lt;T&gt;</code> instances for any of the possible choices of <code>T</code>. Like the <code>toString</code> method from <code>Object</code>. If that is all the API users need to know about using collections of <code>Type</code> instances, it should definitely suffice to use <code>Collection&lt;Type&lt;Object&gt;&gt;</code> as the return type on the <code>getAllItems</code> method.</p>\n<h1>Or not?</h1>\n<p>If the API users expect much more than the interface provided by <code>Object</code> the above approach can be used to return a more specialized collection. In this case the return type of the <code>getAllItems</code> method could be changed to <code>Collection&lt;TypeWithoutT&gt;</code>.</p>\n<p>This way it is possible to explicitly expose a useful API to both users - the one who cares about the type and the one who doesn't.</p>\n<h1>However</h1>\n<p>I would stick with the best practices and not return a wildcard-ed type, except i have a really good reason for it. One of the given solutions should do - i guess.</p>\n<hr />\n<p><em>interface</em><sup>*</sup>: I mean interface in the general sense and not explicitly java interfaces. Thus, something with a contract and a set of operations.</p>\n"}, {"tags": [], "owner": {"reputation": 109950, "user_id": 86989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd262de5d82a235eeb64f71e4058198?s=128&d=identicon&r=PG", "display_name": "newacct", "link": "https://stackoverflow.com/users/86989/newacct"}, "is_accepted": false, "score": 1, "last_activity_date": 1452766477, "creation_date": 1452766477, "answer_id": 34786885, "question_id": 34641441, "link": "https://stackoverflow.com/questions/34641441/using-generic-wildcard-types-in-return-parameters/34786885#34786885", "title": "Using generic wildcard types in return parameters", "body": "<blockquote>\n  <p>However in certain cases it appears to be the most optimal choice,\n  such as in code below:</p>\n</blockquote>\n\n<p>But that's NOT a \"wildcard type\". A \"wildcard type\" would be something like <code>Foo&lt;?&gt;</code> or <code>Foo&lt;? extends Something&gt;</code> or <code>Foo&lt;? super Something&gt;</code>, where the type argument is a (possibly bounded) <code>?</code>. You can assign <code>Foo</code> of different type arguments to a variable of <code>Foo&lt;?&gt;</code> wildcard type. There's a kind of polymorphism that the wildcard type provides.</p>\n\n<p>You are talking about the type <code>Collection&lt;Type&lt;?&gt;&gt;</code>. In this case, the type argument is <code>Type&lt;?&gt;</code>, which is a specific type. This is very different. There is a <code>?</code> in there somewhere, but it is at a deeper level. With something like <code>Collection&lt;Type&lt;?&gt;&gt;</code>, you can't assign <code>Collection</code> of different type arguments to a variable of type <code>Collection&lt;Type&lt;?&gt;&gt;</code>. The type argument is fixed to be <code>Type&lt;?&gt;</code>; nothing else is compatible.</p>\n"}], "owner": {"reputation": 432, "user_id": 1192286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf099da2b4f72ea6ffc5b58da637ba5f?s=128&d=identicon&r=PG", "display_name": "elk", "link": "https://stackoverflow.com/users/1192286/elk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5398, "favorite_count": 2, "answer_count": 3, "score": 7, "last_activity_date": 1452766477, "creation_date": 1452109332, "last_edit_date": 1495535437, "question_id": 34641441, "link": "https://stackoverflow.com/questions/34641441/using-generic-wildcard-types-in-return-parameters", "title": "Using generic wildcard types in return parameters", "body": "<p>Using generic wildcard types in return parameters in Java is generally discouraged. For example Effective Java, Item 28 states:</p>\n\n<blockquote>\n  <p><strong>Do not use wildcard types as return types.</strong> Rather than providing additional flexibility for your users, it would force them to use wildcard types in client code.<p>\n  Properly used, wildcard types are nearly invisible to users of a class. They cause methods to accept the parameters they should accept and reject those they should reject. <strong>If the user of a class has to think about wildcard types, there is probably something wrong with the class\u2019s API.</strong></p>\n</blockquote>\n\n<p>However in certain cases it appears to be the most optimal choice, such as in code below:</p>\n\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\nclass Container\n{\n    private final Map&lt;String, Type&lt;?&gt;&gt; itemMap = new HashMap&lt;&gt;();\n\n    public &lt;T&gt; void addItem(String key, T t) {\n        itemMap.put(key, new Type&lt;&gt;(t));\n    }\n\n    public Collection&lt;Type&lt;?&gt;&gt; getAllItems() {\n        return itemMap.values();\n    }\n\n    public static class Type&lt;T&gt; {\n        private final T value;\n        public Type(T value) {\n            this.value = value;\n        }\n        @Override\n        public String toString() {\n            return \"Type(\" + value + \")\";\n        }\n    }\n\n    public static void main (String[] args)\n    {\n        Container c = new Container();\n        c.addItem(\"double\", 1.0);\n        c.addItem(\"string\", \"abc\");\n        System.out.println(c.getAllItems());\n    }\n}\n</code></pre>\n\n<p>The example is of course simplified, let's just assume there is a genuine reason for <code>Type&lt;T&gt;</code> to be generic.</p>\n\n<p>A method that returns collection of all items (<code>getAllItems()</code>) is required by design. Items stored in <code>itemMap</code> can have different type - therefore the type parameter T cannot be moved up to Container class declaration.  For the same reason we cannot return <code>Collection&lt;Type&lt;T&gt;&gt;</code> as that would imply all items have the same type T which they don't. According to Effective Java there is either something wrong with this method or with this class API, neither of which seem to be true in my opinion.</p>\n\n<p>I know that similar questions have been asked here before (e.g. <a href=\"https://stackoverflow.com/questions/22815023/generic-wildcard-types-should-not-be-used-in-return-parameters\">Generic wildcard types should not be used in return parameters</a>) but they either focus on specific example, which is slightly different from mine, or have answers revolving around the fact that it doesn't make sense to return collections of form <code>Collection&lt;? extends ...&gt;</code> when instead a bounded type parameter can be used. That does not apply to the above use case (and I'm not interested in others because I can see how they can be addressed).</p>\n\n<p>The question is this - if Effective Java is right (and so are other sources such as SonarQube rules and various articles on the web), what is the alternative to returning <code>Collection&lt;Type&lt;?&gt;&gt;</code> in the code above, or what is wrong with the design of class Container?</p>\n\n<p>UPDATE:</p>\n\n<p>A slightly modified/extended example to address some points raised in the comments (this is closer to the real code I'm working with):</p>\n\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\nclass Type&lt;T&gt; {\n    private T value;\n    private Class&lt;T&gt; clazz;\n\n    public Type(T value, Class&lt;T&gt; clazz) {\n        this.value = value;\n        this.clazz = clazz;\n    }\n    T getValue() {\n        return value;\n    }\n    void setValue(T value) {\n        this.value = value;\n    }\n    Class&lt;T&gt; getItemClass() {\n        return clazz;\n    }\n}\n\nabstract class BaseContainer\n{\n    protected abstract Collection&lt;Type&lt;?&gt;&gt; getItems();\n    // ... other methods\n}\n\nclass Client {\n\n    public void processItems(BaseContainer container) {\n        Collection&lt;Type&lt;?&gt;&gt; items = container.getItems();\n        for (Type&lt;?&gt; item: items) {\n            processItem(item);\n        }\n    }\n\n    public &lt;T&gt; void processItem(Type&lt;T&gt; item) {\n        T currentValue = item.getValue();\n        Class&lt;T&gt; clazz = item.getItemClass();\n        T newValue = null;\n        // ... calculate new value\n        item.setValue(newValue);\n    }\n}\n</code></pre>\n\n<p>If <code>BaseContainer.getItems()</code> return type is declared as <code>Collection&lt;Type&lt;Object&gt;&gt;</code> we provide a loophole for \"rogue\" clients to put a value of invalid type into an instance of Type. It is for the same reason that <code>List&lt;Object&gt;</code> is not the same as <code>List&lt;Integer&gt;</code> - it is easy to see how returning former instead of latter would allow anybody to put as String into a List of integers (<code>List&lt;Integer&gt;</code> <strong>is</strong> however <code>List&lt;? extends Object&gt;</code>).</p>\n\n<p>Following an approach suggested by @isi we could make Type implement some interface (non-generic) and use that in the return type of <code>getItems</code> instead. I can see how that can work. But in the real code that would mean a whole new interface mimicking most methods of the generic type without type parameter, which feels somewhat clumsy. It also looks like one essentially writes down the interface of <code>Type&lt;T&gt;</code> with T = Object, which is bordering on code duplication. In a way I see <code>Type&lt;?&gt;</code> as a convenient shorthand for avoiding this work and extra interface.</p>\n"}, {"tags": ["java", "android", "memory-leaks", "runnable", "weak-references"], "comments": [{"owner": {"reputation": 3266, "user_id": 3707125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b56d9090b628338b4e109aa6b8d8e4be?s=128&d=identicon&r=PG&f=1", "display_name": "user3707125", "link": "https://stackoverflow.com/users/3707125/user3707125"}, "edited": false, "score": 0, "creation_date": 1452110145, "post_id": 34641427, "comment_id": 57028983, "body": "Why do you think that there is a memory leak?"}, {"owner": {"reputation": 21, "user_id": 5666586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ded480ac9b6c90c70936dd616a01fed?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidFan", "link": "https://stackoverflow.com/users/5666586/androidfan"}, "reply_to_user": {"reputation": 3266, "user_id": 3707125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b56d9090b628338b4e109aa6b8d8e4be?s=128&d=identicon&r=PG&f=1", "display_name": "user3707125", "link": "https://stackoverflow.com/users/3707125/user3707125"}, "edited": false, "score": 0, "creation_date": 1452111052, "post_id": 34641427, "comment_id": 57029565, "body": "I used android memory monitor, and the app gets from 9mb to 100 and crashes)"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 5666586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ded480ac9b6c90c70936dd616a01fed?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidFan", "link": "https://stackoverflow.com/users/5666586/androidfan"}, "is_accepted": true, "score": 0, "last_activity_date": 1452174673, "creation_date": 1452174673, "answer_id": 34656831, "question_id": 34641427, "link": "https://stackoverflow.com/questions/34641427/http-request-callback-leaking-memory-or-is-it/34656831#34656831", "title": "http request callback leaking memory, or is it?", "body": "<pre><code>private void executeDownloadsAndWriteToDataBase() {\n        runnable = null; //this is what was reason for the memory leak, the runnable was recreating itself\n        runnable = new Runnable() {\n\n            @Override\n            public void run() {\n                try {\n                    downloadData();\n                    mHandler.postDelayed(this, 1000);\n                } catch (Exception e) {\n                    // TODO: handle exception\n                    e.printStackTrace();\n                } finally {\n                    //also call the same runnable\n                    mHandler.postDelayed(this, 20000);\n                }\n            }\n        };\n\n        mHandler.postDelayed(runnable, 30000);\n    }\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5666586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ded480ac9b6c90c70936dd616a01fed?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidFan", "link": "https://stackoverflow.com/users/5666586/androidfan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 0, "accepted_answer_id": 34656831, "answer_count": 1, "score": 0, "last_activity_date": 1452174673, "creation_date": 1452109287, "question_id": 34641427, "link": "https://stackoverflow.com/questions/34641427/http-request-callback-leaking-memory-or-is-it", "title": "http request callback leaking memory, or is it?", "body": "<p>I am having a serious trouble with my app as its leaking memory.\nThe application (service) is looping every 30 secs, downloading data and putting it into the database.\nI am using a callback listener which  seem to be leaking memory, isn\u2019t about the library as I tried  both volley and httpok, my only guess is that it\u2019s actually the dbhelper. I suppose I have  to use weakreference somewhere around  the code, I tried that, as I refactored the request itself to a different class, I also tried WeakHashMap, still no success. I tried isolating the runnable handler (I am using weakhandler lib right now) still no go :(\nThis is a cry for help, I am writing the same versions of code for 4 days!  </p>\n\n<pre><code>import android.app.Service;\nimport android.content.Intent;\nimport android.os.IBinder;\n\nimport com.badoo.mobile.util.WeakHandler;\n\nimport java.io.IOException;\nimport java.util.Map;\n\nimport okhttp3.Call;\nimport okhttp3.Callback;\nimport okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.Response;\nimport prefs.Settings;\nimport tools.DBHelper;\n\npublic class tempclass extends Service {\n    private dbhelperFortempclass dbHelper;\n    private WeakHandler mHandler;\n    private Runnable runnable;\n    private OkHttpClient okHttpClient;\n\n    public tempclass() {\n    }\n\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        dbHelper = dbhelperFortempclass.getInstance(); //\u0438\u043d\u0446\u0438\u0438\u0440\u0443\u0435\u043c sql\n        mHandler = new WeakHandler();\n\n        okHttpClient = new OkHttpClient();\n        executeDownloadsAndWriteToDataBase();\n    }\n\n    public void onDestroy() {\n        super.onDestroy();\n    }\n\n    public int onStartCommand(Intent intent, int flags, int startId) {\n\n\n        return super.onStartCommand(intent, flags, startId);\n    }\n\n    public IBinder onBind(Intent arg0) {\n        return null;\n    }\n\n\n    private void executeDownloadsAndWriteToDataBase() {\n\n        runnable = new Runnable() {\n\n            @Override\n            public void run() {\n                try {\n                    downloadData();\n                    mHandler.postDelayed(this, 1000);\n                } catch (Exception e) {\n                    // TODO: handle exception\n                    e.printStackTrace();\n                } finally {\n                    //also call the same runnable\n                    mHandler.postDelayed(this, 20000);\n                }\n            }\n        };\n\n        mHandler.postDelayed(runnable, 30000);\n    }\n\n    private void downloadData() throws IOException {\n\n\n        for (Map.Entry&lt;String, Settings.ListofCurrencies&gt; entry : Settings.MyCurrencyList.entrySet()) {\n            DownloadAndWriteToDBExecute(entry.getKey());\n\n        }\n\n    }\n\n\n    public void DownloadAndWriteToDBExecute(final String whatToGet) {\n        Request request = new Request.Builder().url(whatToGet).build();\n        Call call = okHttpClient.newCall(request);\n        call.enqueue(new Callback() {\n            @Override\n            public void onFailure(Request request, IOException e) {\n                //logger.log(Level.SEVERE, \"Failed to execute \" + request, e);\n            }\n\n            @Override\n            public void onResponse(Response response) throws IOException {\n                if (response.isSuccessful()) {\n                    DBHelper.execSQL(\"sql code\");\n                } else throw new IOException(\"Unexpected code \" + response);\n\n            }\n        });\n\n    }\n\n\n}\n\n\n\nimport android.content.Context;\nimport android.database.sqlite.SQLiteDatabase;\n\n\npublic class dbhelperFortempclass {\n\n    private static SQLiteDatabase mydb;\n    private static Context myContext;\n\n    private static dbhelperFortempclass dbHelper = null;\n\n    protected dbhelperFortempclass() {\n    }\n\n\n    public static dbhelperFortempclass getInstance() {\n        if (dbHelper == null) {\n            myContext = MainActivity.getAppContext();\n            dbHelper = new dbhelperFortempclass();\n        }\n\n        return dbHelper;\n    }\n\n\n    public static void execSQL(String cmd) {\n        mydb.execSQL(cmd);\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "parse-platform", "notifications", "push-notification"], "comments": [{"owner": {"reputation": 6067, "user_id": 3251783, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6eRHv.jpg?s=128&g=1", "display_name": "Kishore Jethava", "link": "https://stackoverflow.com/users/3251783/kishore-jethava"}, "edited": false, "score": 0, "creation_date": 1452150353, "post_id": 34641415, "comment_id": 57043712, "body": "post <code>ParsePushBroadcastReceiver</code> code"}], "answers": [{"comments": [{"owner": {"reputation": 763, "user_id": 3088712, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/c022b56380e0bb014f70e1da6409ce53?s=128&d=identicon&r=PG&f=1", "display_name": "lawonga", "link": "https://stackoverflow.com/users/3088712/lawonga"}, "reply_to_user": {"reputation": 23, "user_id": 3099329, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002320478774/picture?type=large", "display_name": "Walid Abou Ali", "link": "https://stackoverflow.com/users/3099329/walid-abou-ali"}, "edited": false, "score": 0, "creation_date": 1452194590, "post_id": 34643795, "comment_id": 57072328, "body": "Don&#39;t forget to set as question answered/complete when you are satisfied with your solution!"}], "tags": [], "owner": {"reputation": 763, "user_id": 3088712, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/c022b56380e0bb014f70e1da6409ce53?s=128&d=identicon&r=PG&f=1", "display_name": "lawonga", "link": "https://stackoverflow.com/users/3088712/lawonga"}, "is_accepted": false, "score": 0, "last_activity_date": 1452118253, "creation_date": 1452118253, "answer_id": 34643795, "question_id": 34641415, "link": "https://stackoverflow.com/questions/34641415/parse-android-notification-not-received/34643795#34643795", "title": "Parse Android Notification not received", "body": "<p>Change </p>\n\n<pre><code>Log.e(\"PARSE\", \"Successfully subscribed to Parse!\");\n</code></pre>\n\n<p>to</p>\n\n<pre><code>if (e==null){\n  Log.e(\"Parse\", \"Success\");\n} else {\n  Log.e(\"PARSE\", e.toString());\n}\n</code></pre>\n\n<p>see what the error is or if it is actually successful for that portion.</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 3099329, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002320478774/picture?type=large", "display_name": "Walid Abou Ali", "link": "https://stackoverflow.com/users/3099329/walid-abou-ali"}, "edited": false, "score": 0, "creation_date": 1452181463, "post_id": 34647129, "comment_id": 57063811, "body": "I followed your code , there is was a problem in the channel name &quot;247APP&quot; as  its starts with number, I changed it to twofourseven, and now it shows &quot;Successfully subscribed to Parse channel&quot; but it still can&#39;t recieve notifications , please note that I have in my app codes for user registration with parse, and loggin , Thanks"}, {"owner": {"reputation": 16, "user_id": 2411672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb00c030c1ff1c617667557f5d6ba1a?s=128&d=identicon&r=PG&f=1", "display_name": "AlvinHKH", "link": "https://stackoverflow.com/users/2411672/alvinhkh"}, "reply_to_user": {"reputation": 23, "user_id": 3099329, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002320478774/picture?type=large", "display_name": "Walid Abou Ali", "link": "https://stackoverflow.com/users/3099329/walid-abou-ali"}, "edited": false, "score": 0, "creation_date": 1452192969, "post_id": 34647129, "comment_id": 57071404, "body": "is it missing the .permission in &lt;permission&gt; and &lt;uses-permission&gt; tag?"}], "tags": [], "owner": {"reputation": 16, "user_id": 2411672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb00c030c1ff1c617667557f5d6ba1a?s=128&d=identicon&r=PG&f=1", "display_name": "AlvinHKH", "link": "https://stackoverflow.com/users/2411672/alvinhkh"}, "is_accepted": true, "score": 0, "last_activity_date": 1452192910, "last_edit_date": 1452192910, "creation_date": 1452139146, "answer_id": 34647129, "question_id": 34641415, "link": "https://stackoverflow.com/questions/34641415/parse-android-notification-not-received/34647129#34647129", "title": "Parse Android Notification not received", "body": "<p><strong>Call Parse.initialize from the onCreate method of your Application class (instead of your Launcher Activity)</strong></p>\n\n<p>AndroidManifest.xml</p>\n\n<pre><code>&lt;application\n    android:name=\".MyApplication\"\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/Theme.AppCompat.Light.NoActionBar\"&gt;\n</code></pre>\n\n<p>MyApplication.java</p>\n\n<pre><code>public class MyApplication extends Application {\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        // Enable Local Datastore.\n        Parse.enableLocalDatastore(this);\n\n        // Add your initialization code here\n        Parse.initialize(this, getResources().getString(R.string.ParseAppID), getResources().getString(R.string.ParseClientID));\n\n        // Subscribe to a channel\n        ParsePush.subscribeInBackground(\"twofourseven\", new SaveCallback() {\n            @Override\n            public void done(ParseException e) {\n                if (e == null) {\n                    Log.d(\"PARSE\", \"Successfully subscribed to Parse channel\");\n                } else {\n                    Log.d(\"PARSE\", \"Failed to subscribe to Parse channel\");\n                }\n            }\n        });\n\n        ParseUser.enableAutomaticUser();\n        ParseACL defaultACL = new ParseACL();\n        // Optionally enable public read access.\n        // defaultACL.setPublicReadAccess(true);\n        ParseACL.setDefaultACL(defaultACL, true);\n    }\n}\n</code></pre>\n\n<p>edit:</p>\n\n<p>package name + \".permission.C2D_MESSAGE\" (missing .permission)</p>\n\n<pre><code>&lt;permission android:protectionLevel=\"signature\" android:name=\"com.walid.app_247_parse.permission.C2D_MESSAGE\" /&gt;\n&lt;uses-permission android:name=\"com.walid.app_247_parse.permission.C2D_MESSAGE\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 3099329, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002320478774/picture?type=large", "display_name": "Walid Abou Ali", "link": "https://stackoverflow.com/users/3099329/walid-abou-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 1, "accepted_answer_id": 34647129, "answer_count": 2, "score": 1, "last_activity_date": 1452192910, "creation_date": 1452109237, "last_edit_date": 1452113538, "question_id": 34641415, "link": "https://stackoverflow.com/questions/34641415/parse-android-notification-not-received", "title": "Parse Android Notification not received", "body": "<p>I followed thus tutorial for parse notification on android\n<a href=\"https://parse.com/apps/quickstart#parse_push/android/native/existing\" rel=\"nofollow\">https://parse.com/apps/quickstart#parse_push/android/native/existing</a></p>\n\n<p>But I still can't receive the notifications in my App, this is my Manifest</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"com.walid.app_247_parse\"&gt;\n\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_CALL_LOG\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.CALL_PHONE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"com.google.android.c2dm.permission.RECEIVE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WAKE_LOCK\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_CONTACTS\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_CONTACTS\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"com.google.android.providers.gsf.permission.READ_GSERVICES\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WAKE_LOCK\" /&gt;\n&lt;uses-permission android:name=\"android.permission.RECEIVE_BOOT_COMPLETED\" /&gt;\n&lt;uses-permission android:name=\"android.permission.VIBRATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.GET_ACCOUNTS\" /&gt;\n&lt;uses-permission android:name=\"com.google.android.c2dm.permission.RECEIVE\" /&gt;\n&lt;permission android:protectionLevel=\"signature\"\n    android:name=\"com.walid.app_247_parse.C2D_MESSAGE\" /&gt;\n&lt;uses-permission android:name=\"com.walid.app_247_parse.C2D_MESSAGE\" /&gt;\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;activity android:name=\".Splash\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity android:name=\".UserPhoneNumber\" /&gt;\n    &lt;activity android:name=\".MainPage\" /&gt;\n    &lt;activity android:name=\".ChatView\" /&gt;\n    &lt;activity android:name=\".Connect_Main\" /&gt;\n\n    &lt;meta-data\n        android:name=\"com.google.android.geo.API_KEY\"\n        android:value=\"AIzaSyAZmjxQ_QZRG-0m-oMNcl0zC0H_eOEB8Jw\" /&gt;\n\n    &lt;service android:name=\"com.parse.PushService\" /&gt;\n    &lt;receiver android:name=\"com.parse.ParsePushBroadcastReceiver\"\n        android:exported=\"false\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"com.parse.push.intent.RECEIVE\" /&gt;\n            &lt;action android:name=\"com.parse.push.intent.DELETE\" /&gt;\n            &lt;action android:name=\"com.parse.push.intent.OPEN\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n    &lt;receiver android:name=\"com.parse.GcmBroadcastReceiver\"\n        android:permission=\"com.google.android.c2dm.permission.SEND\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"com.google.android.c2dm.intent.RECEIVE\" /&gt;\n            &lt;action android:name=\"com.google.android.c2dm.intent.REGISTRATION\" /&gt;\n\n\n            &lt;category android:name=\"com.walid.app_247_parse\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n\n<p>Also in my Launcher Activity I added these lines</p>\n\n<pre><code> Parse.initialize(this, getResources().getString(R.string.ParseAppID), getResources().getString(R.string.ParseClientID));\n\n    ParseInstallation.getCurrentInstallation().saveInBackground();\n\n    ParsePush.subscribeInBackground(\"247APP\", new SaveCallback() {\n        @Override\n        public void done(com.parse.ParseException e) {\n            Log.e(\"PARSE\", \"Successfully subscribed to Parse!\");\n        }\n\n\n    });\n</code></pre>\n\n<p>And I can see the log of Successfully subscribed , and still whenever I send notification from parse.com nothing shown in my device.\nPlease note that I am testing the App on Asus Zenfone 2 running android 5.</p>\n"}, {"tags": ["java", "postgresql", "timezone", "jodatime", "jooq"], "comments": [{"owner": {"reputation": 4258, "user_id": 2532275, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qFBUh.png?s=128&g=1", "display_name": "innoSPG", "link": "https://stackoverflow.com/users/2532275/innospg"}, "edited": false, "score": 1, "creation_date": 1452109962, "post_id": 34641377, "comment_id": 57028871, "body": "I am not a specialist of PostgreSQL nor of phpPgAdmin. But what I am thinking of is that either phpPgAdmin is set up to display local time and/or PostgreSQL is set up to store local time. You can check the PostgreSQL by using command line connection if it exists or using java code again."}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 2, "creation_date": 1452110761, "post_id": 34641377, "comment_id": 57029380, "body": "It probably <i>is</i> being stored in UTC.  You&#39;re just seeing it converted to a time zone when you view it."}, {"owner": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "reply_to_user": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 0, "creation_date": 1452113190, "post_id": 34641377, "comment_id": 57030813, "body": "@MattJohnson But why doesn&#39;t it convert it back to the timezone I stored it in? I can&#39;t imagine that phpPgAdmin just converts every timestamp to my local time. Why would it do that? But I will try it out."}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 0, "creation_date": 1452113614, "post_id": 34641377, "comment_id": 57031015, "body": "It doesn&#39;t <i>store</i> the time zone.  It uses the session time zone at time of retrieval.  (If you&#39;re used to <code>datetimeoffset</code> in SQL Server, which <i>does</i> store the offset - this is not the same behavior.)"}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 0, "creation_date": 1452113894, "post_id": 34641377, "comment_id": 57031170, "body": "Actually - nevermind the session timezone.  That&#39;s <i>sometimes</i> the case, but in your case there&#39;s a simpler answer.  I&#39;ll write an answer shortly..."}], "answers": [{"comments": [{"owner": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "edited": false, "score": 0, "creation_date": 1452113126, "post_id": 34642213, "comment_id": 57030774, "body": "Hm, but I create a <code>DateTime</code> in the UTC timezone: <code>DateTime day_from = new DateTime(DateTimeZone.UTC);</code>."}, {"owner": {"reputation": 48919, "user_id": 238814, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4f93d624a8c2c7792b56547b662435de?s=128&d=identicon&r=PG", "display_name": "Daniel V&#233;rit&#233;", "link": "https://stackoverflow.com/users/238814/daniel-v%c3%a9rit%c3%a9"}, "reply_to_user": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "edited": false, "score": 0, "creation_date": 1452113625, "post_id": 34642213, "comment_id": 57031020, "body": "@Stefan: presumably you&#39;re assuming that it should store this timezone along with the datetime and then return it back unmodified when you read back the column. It&#39;s a frequent misunderstanding due to the name of the type, but that&#39;s now how it works. The input timezone is only used to compute the UTC value, and then it&#39;s lost."}, {"owner": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "edited": false, "score": 0, "creation_date": 1452118069, "post_id": 34642213, "comment_id": 57033384, "body": "Okay, that is freaked up. So I want a <code>TIMESTAMP</code> <b>with</b> timezone but what I get is a UTC timestamp that gets converted to the current timezone that the machine is running on/in as it says in &quot;<i>it is always converted from UTC to the current timezone zone, and displayed as local time in that zone</i>&quot;? Because that&#39;s absolutely not what I want. I want to get UTC out if I put UTC in ^^"}, {"owner": {"reputation": 48919, "user_id": 238814, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4f93d624a8c2c7792b56547b662435de?s=128&d=identicon&r=PG", "display_name": "Daniel V&#233;rit&#233;", "link": "https://stackoverflow.com/users/238814/daniel-v%c3%a9rit%c3%a9"}, "reply_to_user": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "edited": false, "score": 0, "creation_date": 1452171934, "post_id": 34642213, "comment_id": 57056876, "body": "@Stefan: consider either <code>timestamp without time zone</code> (if you&#39;re only ever interested in UTC), or if you wish to keep the original time zone or offset to GMT, you want to add a separate column to store it."}], "tags": [], "owner": {"reputation": 48919, "user_id": 238814, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4f93d624a8c2c7792b56547b662435de?s=128&d=identicon&r=PG", "display_name": "Daniel V&#233;rit&#233;", "link": "https://stackoverflow.com/users/238814/daniel-v%c3%a9rit%c3%a9"}, "is_accepted": false, "score": 1, "last_activity_date": 1452112318, "creation_date": 1452112318, "answer_id": 34642213, "question_id": 34641377, "link": "https://stackoverflow.com/questions/34641377/why-are-the-timestamps-not-stored-in-utc-time/34642213#34642213", "title": "Why are the timestamps not stored in UTC time?", "body": "<p>This behavior conforms to the definition of the <code>timestamp with time zone</code> data type, from:\n<a href=\"http://www.postgresql.org/docs/current/static/datatype-datetime.html\" rel=\"nofollow\">http://www.postgresql.org/docs/current/static/datatype-datetime.html</a></p>\n\n<blockquote>\n  <p>For timestamp with time zone, <strong>the internally stored value is always in\n  UTC (Universal Coordinated Time</strong>, traditionally known as Greenwich Mean\n  Time, GMT). An input value that has an explicit time zone specified is\n  converted to UTC using the appropriate offset for that time zone. If\n  no time zone is stated in the input string, then it is assumed to be\n  in the time zone indicated by the system's TimeZone parameter, and is\n  converted to UTC using the offset for the timezone zone.</p>\n  \n  <p>When a timestamp with time zone value is output, <strong>it is always\n  converted from UTC to the current timezone zone, and displayed as\n  local time in that zone</strong>. To see the time in another time zone, either\n  change timezone or use the AT TIME ZONE construct (see Section 9.9.3).</p>\n</blockquote>\n\n<p>with the parts that exactly answer your questions in bold face.</p>\n"}, {"tags": [], "owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "is_accepted": false, "score": 0, "last_activity_date": 1452114373, "creation_date": 1452114373, "answer_id": 34642742, "question_id": 34641377, "link": "https://stackoverflow.com/questions/34641377/why-are-the-timestamps-not-stored-in-utc-time/34642742#34642742", "title": "Why are the timestamps not stored in UTC time?", "body": "<p>In your code, when you construct a <code>DateTime</code>, you're using the constructor that accepts the <code>long</code> timestamp.  The timestamp itself is UTC-based, despite using <code>timestamp with time zone</code> in postgres, because postgres does not <em>store</em> the time zone.</p>\n\n<p>That particular constructor says <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#DateTime-long-\" rel=\"nofollow\">in the javadocs</a>:</p>\n\n<blockquote>\n  <p>Constructs an instance set to the milliseconds from <code>1970-01-01T00:00:00Z</code> using <code>ISOChronology</code> <strong><em>in the default time zone</em></strong>.</p>\n</blockquote>\n\n<p>The key being that the default time zone (either your system's local time zone, or the one you have explicitly set with <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html#setDefault-org.joda.time.DateTimeZone-\" rel=\"nofollow\"><code>DateTimeZone.setDefault</code></a>) is used when you do not specify a time zone.</p>\n\n<p>If you can determine the time zone with some other means (perhaps stored elsewhere in your application or database), then you can use <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#DateTime-long-org.joda.time.DateTimeZone-\" rel=\"nofollow\">the constructor of <code>DateTime</code> that accepts a <code>DateTimeZone</code> as a second parameter</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "is_accepted": false, "score": 0, "last_activity_date": 1452120684, "creation_date": 1452120684, "answer_id": 34644374, "question_id": 34641377, "link": "https://stackoverflow.com/questions/34641377/why-are-the-timestamps-not-stored-in-utc-time/34644374#34644374", "title": "Why are the timestamps not stored in UTC time?", "body": "<p>This is a problem on the JDBC <em>and</em> database level. You're using a <code>java.sql.Timestamp</code> on your <code>Converter&lt;T, U&gt;</code> as the <code>&lt;T&gt;</code> type. jOOQ will bind this timestamp to JDBC, which specifies that <code>Timestamp</code> is your <em>local time</em>.</p>\n\n<p>Note that jOOQ's code generator doesn't fully support <code>TIMESTAMP WITH TIME ZONE</code> yet. This is a pending feature request:\n<a href=\"https://github.com/jOOQ/jOOQ/issues/4429\" rel=\"nofollow\">https://github.com/jOOQ/jOOQ/issues/4429</a></p>\n\n<p>If you want to bind joda time's <code>DateTime</code>, you'll have to use an <a href=\"http://www.jooq.org/doc/latest/manual/sql-building/queryparts/custom-bindings/\" rel=\"nofollow\"><code>org.jooq.Binding</code></a> to implement the binding on the JDBC level yourself. That way, you're in full control of what is sent to the server and retrieved from it.</p>\n"}], "owner": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 649, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1452120684, "creation_date": 1452109095, "question_id": 34641377, "link": "https://stackoverflow.com/questions/34641377/why-are-the-timestamps-not-stored-in-utc-time", "title": "Why are the timestamps not stored in UTC time?", "body": "<p>I am having a <code>store_time_period</code> that is supposed to hold two <code>TIMESTAMP WITH TIMEZONE</code>. I am using joda <code>org.joda.time.DateTime</code> instead of <code>java.sql.Timestamp</code> and I am initializing my variables like e.g. this:</p>\n\n<pre><code>DateTime day_from = new DateTime(DateTimeZone.UTC);\n</code></pre>\n\n<p>However, in phpPgAdmin what I see is this string:</p>\n\n<blockquote>\n  <p>2016-01-06 20:14:09.339+01</p>\n</blockquote>\n\n<p>instead of </p>\n\n<blockquote>\n  <p>2016-01-06 19:14:09.339+00</p>\n</blockquote>\n\n<p>for UTC time. Why is that so? </p>\n\n<p>This is how I convert <code>DateTime</code> and <code>TimeStamp</code>:</p>\n\n<pre><code>public class JodaDateTimeConverter implements Converter&lt;Timestamp, DateTime&gt; {\n    @Override\n    public DateTime from(Timestamp timestamp) {\n        DateTime dateTime = new DateTime(timestamp.getTime());\n        return dateTime;\n    }\n\n    @Override\n    public Timestamp to(DateTime dateTime) {\n        Timestamp timestamp = new Timestamp(dateTime.getMillis());\n        return timestamp;\n    }\n\n    @Override\n    public Class&lt;Timestamp&gt; fromType() {\n        return Timestamp.class;\n    }\n\n    @Override\n    public Class&lt;DateTime&gt; toType() {\n        return DateTime.class;\n    }\n}\n</code></pre>\n\n<p>And here is the PostgreSQL code for <code>store_time_period</code>:</p>\n\n<pre><code>CREATE TABLE store_time_period (\n\n    -- PRIMARY KEY\n\n    id BIGSERIAL PRIMARY KEY,\n\n    -- ATTRIBUTES\n\n    day_from TIMESTAMP WITH TIME ZONE NOT NULL, \n    day_to TIMESTAMP WITH TIME ZONE NOT NULL\n);\n</code></pre>\n"}, {"tags": ["java", "groovy", "grails-3.0", "intellij-15"], "comments": [{"owner": {"reputation": 3869, "user_id": 74057, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/43b366c599e4af01190174ee63f6b611?s=128&d=identicon&r=PG", "display_name": "aldrin", "link": "https://stackoverflow.com/users/74057/aldrin"}, "edited": false, "score": 0, "creation_date": 1453278322, "post_id": 34641344, "comment_id": 57526693, "body": "What versions of grails, groovy and JDK? Did you try a <code>grails clean</code> and then the <code>grails run-app</code> again?"}, {"owner": {"reputation": 356, "user_id": 5029432, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/989785317722828/picture?type=large", "display_name": "Abdullah Al Hafiz", "link": "https://stackoverflow.com/users/5029432/abdullah-al-hafiz"}, "reply_to_user": {"reputation": 3869, "user_id": 74057, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/43b366c599e4af01190174ee63f6b611?s=128&d=identicon&r=PG", "display_name": "aldrin", "link": "https://stackoverflow.com/users/74057/aldrin"}, "edited": false, "score": 0, "creation_date": 1453368405, "post_id": 34641344, "comment_id": 57573554, "body": "jdk-8u65, grails-3.1.0.RC1,intelijIdea-15. I am tried commandLine and intelijIdea, both are same error &quot;classNotFound Exception javax/persistence/Entity&quot;"}, {"owner": {"reputation": 356, "user_id": 5029432, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/989785317722828/picture?type=large", "display_name": "Abdullah Al Hafiz", "link": "https://stackoverflow.com/users/5029432/abdullah-al-hafiz"}, "reply_to_user": {"reputation": 3869, "user_id": 74057, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/43b366c599e4af01190174ee63f6b611?s=128&d=identicon&r=PG", "display_name": "aldrin", "link": "https://stackoverflow.com/users/74057/aldrin"}, "edited": false, "score": 0, "creation_date": 1453744482, "post_id": 34641344, "comment_id": 57726020, "body": "Grails Version: 3.1.0.RC1 Groovy Version: 2.4.5 JVM Version: 1.8.0_66"}], "owner": {"reputation": 356, "user_id": 5029432, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/989785317722828/picture?type=large", "display_name": "Abdullah Al Hafiz", "link": "https://stackoverflow.com/users/5029432/abdullah-al-hafiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3700, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1456393306, "creation_date": 1452109001, "last_edit_date": 1453264858, "question_id": 34641344, "link": "https://stackoverflow.com/questions/34641344/execution-failed-for-task-compilegroovy-javax-persistence-entity", "title": "Execution failed for task &#39;:compileGroovy&#39;. javax/persistence/Entity", "body": "<p>Here is My build.gradle.</p>\n\n<pre><code>buildscript {\n    ext {\n        grailsVersion = project.grailsVersion\n    }\n    repositories {\n        mavenLocal()\n        maven { url \"https://repo.grails.org/grails/core\" }\n    }\n    dependencies {        \n        classpath \"org.grails:grails-gradle-plugin:$grailsVersion\"\n        classpath 'com.bertramlabs.plugins:asset-pipeline-gradle:2.5.0'\n        classpath \"org.grails.plugins:hibernate:4.3.10.5\"\n\n    }\n}\n\nplugins {\n    id \"io.spring.dependency-management\" version \"0.5.2.RELEASE\"\n\n}\n\nversion \"0.1\"\ngroup \"testapp\"\n\napply plugin: \"spring-boot\"\napply plugin: \"war\"\napply plugin: \"asset-pipeline\"\napply plugin: 'eclipse'\napply plugin: 'idea'\napply plugin: \"org.grails.grails-web\"\napply plugin: \"org.grails.grails-gsp\"\n\next {\n    grailsVersion = project.grailsVersion\n    gradleWrapperVersion = project.gradleWrapperVersion\n}\n\nassets {\n    minifyJs = true\n    minifyCss = true\n}\n\nrepositories {\n    mavenLocal()\n    maven { url \"https://repo.grails.org/grails/core\" }\n}\n\ndependencyManagement {\n    imports {\n        mavenBom \"org.grails:grails-bom:$grailsVersion\"\n    }\n    applyMavenExclusions false\n}\n\ndependencies {\n    compile \"org.springframework.boot:spring-boot-starter-logging\"\n    compile \"org.springframework.boot:spring-boot-starter-actuator\"\n    compile \"org.springframework.boot:spring-boot-autoconfigure\"\n    compile \"org.springframework.boot:spring-boot-starter-tomcat\"\n    compile \"org.grails:grails-dependencies\"\n    compile \"org.grails:grails-web-boot\"\n\n    compile \"org.grails.plugins:hibernate\"\n    compile \"org.grails.plugins:cache\"\n    compile \"org.hibernate:hibernate-ehcache\"\n    compile \"org.grails.plugins:scaffolding\"\n\n\n\n\n\n\n    runtime \"org.grails.plugins:asset-pipeline\"\n\n    testCompile \"org.grails:grails-plugin-testing\"\n    testCompile \"org.grails.plugins:geb\"\n\n    // Note: It is recommended to update to a more robust driver (Chrome, Firefox etc.)\n    testRuntime 'org.seleniumhq.selenium:selenium-htmlunit-driver:2.44.0'\n\n    console \"org.grails:grails-console\"\n}\n\ntask wrapper(type: Wrapper) {\n    gradleVersion = gradleWrapperVersion\n}\n</code></pre>\n\n<p>after grails run-app getting below error</p>\n\n<p>FAILURE: Build failed with an exception.</p>\n\n<ul>\n<li><p>What went wrong:\nExecution failed for task ':compileGroovy'.</p>\n\n<blockquote>\n  <p>javax/persistence/Entity</p>\n</blockquote></li>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug\noption to get more log output.\n| Error Failed to start server (Use --stacktrace to see the full trace)</p></li>\n</ul>\n"}, {"tags": ["java", "security", "jar", "jvm", "java-security"], "comments": [{"owner": {"reputation": 770, "user_id": 141639, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/44bf17d97a5d1fd3c78996f3d0164c32?s=128&d=identicon&r=PG", "display_name": "Thiago Le&#227;o Moreira", "link": "https://stackoverflow.com/users/141639/thiago-le%c3%a3o-moreira"}, "edited": false, "score": 0, "creation_date": 1455721185, "post_id": 34641305, "comment_id": 58616582, "body": "Hey @endrigoantonini, did you figured it out?"}, {"owner": {"reputation": 1051, "user_id": 1501876, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/434f77c22f37911d3614664c7d6524b0?s=128&d=identicon&r=PG", "display_name": "endrigoantonini", "link": "https://stackoverflow.com/users/1501876/endrigoantonini"}, "reply_to_user": {"reputation": 770, "user_id": 141639, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/44bf17d97a5d1fd3c78996f3d0164c32?s=128&d=identicon&r=PG", "display_name": "Thiago Le&#227;o Moreira", "link": "https://stackoverflow.com/users/141639/thiago-le%c3%a3o-moreira"}, "edited": false, "score": 0, "creation_date": 1455758044, "post_id": 34641305, "comment_id": 58637304, "body": "@ThiagoLe&#227;oMoreira Unfortunately no. I tried to find a lot of options inside the configuration even properties files and didn&#39;t found that. Do you have any clue?"}, {"owner": {"reputation": 770, "user_id": 141639, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/44bf17d97a5d1fd3c78996f3d0164c32?s=128&d=identicon&r=PG", "display_name": "Thiago Le&#227;o Moreira", "link": "https://stackoverflow.com/users/141639/thiago-le%c3%a3o-moreira"}, "edited": false, "score": 0, "creation_date": 1455843791, "post_id": 34641305, "comment_id": 58683387, "body": "Not yet, I&#39;m working in a project that one of the providers said that is feasible... but I didn&#39;t find any document/post that states it is doable. Perhaps a special classloader?"}], "answers": [{"tags": [], "owner": {"reputation": 42073, "user_id": 113632, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f0aa6977c75f54ca9033d4f4d0244023?s=128&d=identicon&r=PG", "display_name": "dimo414", "link": "https://stackoverflow.com/users/113632/dimo414"}, "is_accepted": false, "score": 3, "last_activity_date": 1468989589, "last_edit_date": 1495540430, "creation_date": 1468812365, "answer_id": 38428161, "question_id": 34641305, "link": "https://stackoverflow.com/questions/34641305/is-it-possible-to-force-jvm-to-check-that-every-jar-must-be-signed/38428161#38428161", "title": "Is it possible to force JVM to check that every jar must be signed?", "body": "<p>This is certainly possible (<a href=\"https://security.stackexchange.com/a/57698/46357\">security is a central tenant of Java's design philosophy</a>, after all), but generally Java handles such issues lazily rather than at JVM startup.</p>\n\n<p>The <a href=\"https://docs.oracle.com/javase/tutorial/security/toolsign/receiver.html\" rel=\"nofollow noreferrer\">generally recommended strategy</a> is to install a security manager which will prevent any untrusted code (trust is defined by a <a href=\"https://docs.oracle.com/javase/tutorial/security/toolsign/rstep3.html\" rel=\"nofollow noreferrer\">policy file</a> associated with the security manager) from accessing the OS or critical parts of the JVM. However such untrusted code can still run in the JVM sandbox, and your application won't crash until the untrusted code attempts to break out of the sandbox. Generally this is viewed as a feature.</p>\n\n<p>If you really do need to verify at runtime that all Jars are signed you can inspect the classpath to get all the Jars being loaded and inspect their contents to verify they are signed. <a href=\"https://stackoverflow.com/a/1796775/113632\">This answer</a> provides example code detailing how to do this.</p>\n\n<p>However the better practice is to avoid even spinning up the JVM with untrusted code in the first place, which is where the <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/verify.html\" rel=\"nofollow noreferrer\"><code>jarsigner</code></a> application comes in. Before adding any Jars to your classpath verify them with <code>jarsigner</code> and you can be confident your JVM is only running trusted code. Once the JVM has started your options are more limited, so the best course of action is to only spin up the JVM once you're confident either in your security policy or the classes being loaded.</p>\n"}], "owner": {"reputation": 1051, "user_id": 1501876, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/434f77c22f37911d3614664c7d6524b0?s=128&d=identicon&r=PG", "display_name": "endrigoantonini", "link": "https://stackoverflow.com/users/1501876/endrigoantonini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1842, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1468989589, "creation_date": 1452108871, "question_id": 34641305, "link": "https://stackoverflow.com/questions/34641305/is-it-possible-to-force-jvm-to-check-that-every-jar-must-be-signed", "title": "Is it possible to force JVM to check that every jar must be signed?", "body": "<p>Is it possible to force JVM to check that every JAR that is been loaded on the classloader is signed?</p>\n\n<p>The behavior that I expect is that: if the signature is wrong or jar file is not signed, the JVM crashes, otherwise the program runs smoothly.</p>\n"}, {"tags": ["java", "swing", "jtable"], "comments": [{"owner": {"reputation": 14844, "user_id": 243373, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NxxWB.jpg?s=128&g=1", "display_name": "TT.", "link": "https://stackoverflow.com/users/243373/tt"}, "edited": false, "score": 0, "creation_date": 1452108722, "post_id": 34641223, "comment_id": 57028050, "body": "Can you edit your question with the exception stack trace, so people can see where the exception is happening?"}, {"owner": {"reputation": 1749, "user_id": 3557027, "user_type": "registered", "profile_image": "https://graph.facebook.com/602209829919627/picture?type=large", "display_name": "Rabbit Guy", "link": "https://stackoverflow.com/users/3557027/rabbit-guy"}, "edited": false, "score": 0, "creation_date": 1452109399, "post_id": 34641223, "comment_id": 57028495, "body": "Why don&#39;t you have it select the row from what is clicked?"}], "answers": [{"tags": [], "owner": {"reputation": 306906, "user_id": 131872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0ced8e21d2a761db718acb6362b9225?s=128&d=identicon&r=PG", "display_name": "camickr", "link": "https://stackoverflow.com/users/131872/camickr"}, "is_accepted": false, "score": 4, "last_activity_date": 1452110562, "last_edit_date": 1452110562, "creation_date": 1452110075, "answer_id": 34641626, "question_id": 34641223, "link": "https://stackoverflow.com/questions/34641223/jtable-index-is-wrong/34641626#34641626", "title": "jTable index is wrong", "body": "<pre><code>private void tableRecSearchKeyReleased(java.awt.event.KeyEvent evt)\n</code></pre>\n\n<p>I have no idea what that event is. Maybe the row selection hasn't completed yet.</p>\n\n<p>If you want to know when the row selection has changed then add a <code>ListSelectionListener</code> to the table.</p>\n\n<pre><code>table.getSelectionModel().addListSelectionListener(...);\n</code></pre>\n\n<p>Read the section from the Swing tutorial on <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/events/listselectionlistener.html\" rel=\"nofollow\">How to Write a List Selection Listener</a> for more information and examples.</p>\n\n<pre><code>    //int rowCount = dtm.getRowCount();\n    //for (int i = 0; i &lt; rowCount; i++) {\n    //    dtm.removeRow(0);\n    //}\n</code></pre>\n\n<p>To remove all the rows from the table model you can just use:</p>\n\n<pre><code>dtm.setRowCount(0);\n</code></pre>\n"}], "owner": {"reputation": 3655, "user_id": 4465118, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-js6xvX-rPmM/AAAAAAAAAAI/AAAAAAAAALk/L990q1hdBzU/photo.jpg?sz=128", "display_name": "Janaka Pushpakumara", "link": "https://stackoverflow.com/users/4465118/janaka-pushpakumara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1452110562, "creation_date": 1452108546, "last_edit_date": 1452109454, "question_id": 34641223, "link": "https://stackoverflow.com/questions/34641223/jtable-index-is-wrong", "title": "jTable index is wrong", "body": "<p>When I select the row in jtable, it always returns <code>-1</code> as a table row index. </p>\n\n<p>This is how I fill the data to jtable:</p>\n\n<pre><code>private void addResultToRecTable(DefaultTableModel dtm, ArrayList&lt;RecipeModule&gt; al) {\n\n    if (al != null) {\n        int rowCount = dtm.getRowCount();\n        for (int i = 0; i &lt; rowCount; i++) {\n            dtm.removeRow(0);\n        }\n\n        for (int i = 0; i &lt; al.size(); i++) {\n            String[] recArray = {al.get(i).getRecID(), al.get(i).getRecName(), al.get(i).getRecCategory(), al.get(i).getRecQty(), al.get(i).getRecUnit()};\n            dtm.addRow(recArray);\n\n        }\n    }\n</code></pre>\n\n<p>This is how I pass the data to the <code>addResultToRecTable()</code> method:</p>\n\n<pre><code>ArrayList&lt;RecipeModule&gt; al = RecipeController.searchRecipes(txtRepSearchName.getText(), txtRecSearchCate.getText());\naddResultToRecTable(recDefaultTableModel, al);\n</code></pre>\n\n<p>After I filled the data to table. I selected a row in the table and printout selected row index. Then I got this error.</p>\n\n<pre><code>private void tableRecSearchKeyReleased(java.awt.event.KeyEvent evt) {   \n    try{\n        int selectedRow = tableRecIngredients.getSelectedRow();\n        System.out.println(selectedRow);\n    }\n</code></pre>\n\n<p>But I get this error:</p>\n\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: -1\n</code></pre>\n\n<p>I'm not sure what the problem is. Any advice?</p>\n"}, {"tags": ["java", "arrays", "object", "exception", "null"], "comments": [{"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 0, "creation_date": 1452108900, "post_id": 34641204, "comment_id": 57028180, "body": "I&#39;ll rethink this duplicate, if you show us how <code>zar1</code>, <code>zar2</code>, etc. are initialized."}, {"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "reply_to_user": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 0, "creation_date": 1452108968, "post_id": 34641204, "comment_id": 57028230, "body": "@SotiriosDelimanolis this <a href=\"http://stackoverflow.com/questions/5364278/creating-an-array-of-objects-in-java\">other question</a> better matches the nature of the problem"}, {"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "reply_to_user": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1452109042, "post_id": 34641204, "comment_id": 57028269, "body": "@Smac89, once we get clarification from the OP on their program flow."}, {"owner": {"reputation": 1, "user_id": 4258664, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sCbFTD3tlWk/AAAAAAAAAAI/AAAAAAAACY4/fb6kJnpjQ3E/photo.jpg?sz=128", "display_name": "Fabio &#199;imo", "link": "https://stackoverflow.com/users/4258664/fabio-%c3%87imo"}, "reply_to_user": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 0, "creation_date": 1452109750, "post_id": 34641204, "comment_id": 57028738, "body": "@SotiriosDelimanolis initialization is done like this: private javax.swing.JToggleButton zar1; but it is done by the netbeans builder It is about rolling a dice, and I need to set the png for the random values generated"}, {"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 0, "creation_date": 1452109778, "post_id": 34641204, "comment_id": 57028754, "body": "Edit your question. Add the details there. Also, that&#39;s only a declaration, not an initialization."}], "answers": [{"tags": [], "owner": {"reputation": 16323, "user_id": 4150352, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bjoHS.jpg?s=128&g=1", "display_name": "Mohammed Aouf Zouag", "link": "https://stackoverflow.com/users/4150352/mohammed-aouf-zouag"}, "is_accepted": true, "score": 1, "last_activity_date": 1452108552, "creation_date": 1452108552, "answer_id": 34641225, "question_id": 34641204, "link": "https://stackoverflow.com/questions/34641204/object-array-returning-null-values-java/34641225#34641225", "title": "Object Array returning null values? - Java", "body": "<p>You need to initialize those <code>JToggleButton</code>s before calling <code>setIcon()</code> on them:</p>\n\n<pre><code>for (int i=0; i &lt; zarObj.length; i++) {\n    zarObj[i] = new JToggleButton(params);\n    zarObj[i].setIcon(var);\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4258664, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sCbFTD3tlWk/AAAAAAAAAAI/AAAAAAAACY4/fb6kJnpjQ3E/photo.jpg?sz=128", "display_name": "Fabio &#199;imo", "link": "https://stackoverflow.com/users/4258664/fabio-%c3%87imo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1125, "favorite_count": 0, "closed_date": 1452108862, "accepted_answer_id": 34641225, "answer_count": 1, "score": -2, "last_activity_date": 1567717884, "creation_date": 1452108479, "last_edit_date": 1567717884, "question_id": 34641204, "link": "https://stackoverflow.com/questions/34641204/object-array-returning-null-values-java", "closed_reason": "Duplicate", "title": "Object Array returning null values? - Java", "body": "<p>I've declared this in Java:</p>\n\n<pre><code>private JToggleButton[] zarObj;\n</code></pre>\n\n<p>Then on the class constructor filled the array:</p>\n\n<pre><code>this.zarObj = new JToggleButton[]{zar1, zar2, zar3, zar4, zar5};\n</code></pre>\n\n<p>I need to use zarObj[i] to apply the setIcon method like so in a for loop:</p>\n\n<pre><code>zarObj[i].setIcon(var);\n</code></pre>\n\n<p>But I'm getting the nullPointerException. And when trying to access the objects:\n <code>for (int i=0; i&lt;5; i++) { System.out.println(zarObj[i]);</code> I get 5 null messages in the console.</p>\n"}, {"tags": ["java", "c#", "sockets", "stream"], "comments": [{"owner": {"reputation": 65, "user_id": 4512318, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/3b159e2815fac7bbefc6dd392136fb09?s=128&d=identicon&r=PG&f=1", "display_name": "TotorAndMimine", "link": "https://stackoverflow.com/users/4512318/totorandmimine"}, "edited": false, "score": 0, "creation_date": 1452108488, "post_id": 34641149, "comment_id": 57027891, "body": "And the equivalent of the methods &quot;getOutputStream()&quot; and &quot;getInputStream()&quot; for a Socket ?"}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 4512318, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/3b159e2815fac7bbefc6dd392136fb09?s=128&d=identicon&r=PG&f=1", "display_name": "TotorAndMimine", "link": "https://stackoverflow.com/users/4512318/totorandmimine"}, "edited": false, "score": 0, "creation_date": 1452109675, "post_id": 34641468, "comment_id": 57028689, "body": "Thanks!  And what is the equivalent of it &quot; in = new ObjectInputStream(new BufferedInputStream(sock.getInputStream())); &quot; in order to write in a socket ?"}, {"owner": {"reputation": 763, "user_id": 521179, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9531e0a99ee5937ad78e5875e0c24994?s=128&d=identicon&r=PG", "display_name": "Andrew Au", "link": "https://stackoverflow.com/users/521179/andrew-au"}, "reply_to_user": {"reputation": 65, "user_id": 4512318, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/3b159e2815fac7bbefc6dd392136fb09?s=128&d=identicon&r=PG&f=1", "display_name": "TotorAndMimine", "link": "https://stackoverflow.com/users/4512318/totorandmimine"}, "edited": false, "score": 0, "creation_date": 1452110648, "post_id": 34641468, "comment_id": 57029298, "body": "It does not work that way in C# You create a NetworkStream object instance, and then use a Serializer object to write to that stream.       It is more like       in = new ObjectInputStream(new BufferedInputStream(sock.getInputStream()); in.writeObject(objectToWrite);       will translate to       NetworkStream ns = new NetworkStream(sock); BinaryFormatter bf = new BinaryFormatter(); bf.Serialize(objectToWrite, ns);"}], "tags": [], "owner": {"reputation": 763, "user_id": 521179, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9531e0a99ee5937ad78e5875e0c24994?s=128&d=identicon&r=PG", "display_name": "Andrew Au", "link": "https://stackoverflow.com/users/521179/andrew-au"}, "is_accepted": false, "score": 2, "last_activity_date": 1452109429, "creation_date": 1452109429, "answer_id": 34641468, "question_id": 34641149, "link": "https://stackoverflow.com/questions/34641149/equivalent-of-objectinputstream-and-objectoutputstream-in-c/34641468#34641468", "title": "Equivalent of ObjectInputStream and ObjectOutputStream in C#", "body": "<p>There are many serializer available on .NET.</p>\n\n<p>The simplest one is binary serialization. It is the most similar equivalent in C#</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/4abbf6k0(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/4abbf6k0(v=vs.110).aspx</a></p>\n\n<p>The problem with that is that if you use this, your server and client will need to upgrade in lock steps (i.e. if you upgrade your server, you have to update all your clients, or the server wouldn't be able to deserialize requests from old clients)</p>\n\n<p>DataContractSerializer provides XML formatted message and have options that is designed for web services so that it can do some version tolerance.</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.runtime.serialization.datacontractserializer(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/system.runtime.serialization.datacontractserializer(v=vs.110).aspx</a></p>\n\n<p>In particular, it allow missed property (for example, when server is upgraded to allow more knobs, but old clients are not sending them).</p>\n\n<p>For your another question.\nTo obtain a stream from a Socket, just create a System.Net.Socket.NetworkStream object instance with the socket as an argument.</p>\n\n<pre><code>Stream s = new NetworkStream(socket);\n</code></pre>\n\n<p>Windows Communication Foundation (WCF) abstract away a lot of details on programming distributed systems. It is much easier to program a server client application using WCF instead of messing with raw sockets.</p>\n"}, {"tags": [], "owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "is_accepted": false, "score": 2, "last_activity_date": 1452109448, "creation_date": 1452109448, "answer_id": 34641472, "question_id": 34641149, "link": "https://stackoverflow.com/questions/34641149/equivalent-of-objectinputstream-and-objectoutputstream-in-c/34641472#34641472", "title": "Equivalent of ObjectInputStream and ObjectOutputStream in C#", "body": "<p>There's no direct equivalent of it, but it's functionality is very easily achieved using a plain Stream and XmlSerializer/BinaryFormatter.</p>\n\n<p>Here is an example using XmlSerializer:</p>\n\n<pre><code>public void StoreToFile&lt;T&gt;(T ObjectToStore, string FileName)\n{\n    XmlSerializer ser = new XmlSerializer(typeof(T));\n    using(Stream str = File.Create(FileName))\n        ser.Serialize(str, ObjectToStore);\n}\n\npublic T RetrieveFromFile(string FileName)\n{\n    XmlSerializer ser = new XmlSerializer(typeof(T));\n    using(Stream str = File.Open(FileName))\n        return (T)ser.Deserialize(str);\n}\n</code></pre>\n\n<p>Then, when you want to store a class in a file use:</p>\n\n<pre><code>MyClass instance = new MyClass(); //The class we want to store.\nStoreToFile(instance, \"instance.dat\");\n</code></pre>\n\n<p>And to retrieve it:</p>\n\n<pre><code>MyClass instance = RetrieveFromFile&lt;MyClass&gt;(\"instance.dat\");\n</code></pre>\n\n<p>This is a basic example storing just one class in a file, but you can extend it to store more items concatenated on these streams.</p>\n\n<p>Also, the getOutputStream and getInputStream doesn't have a direct counterpart, you can always use a NetworkStream:</p>\n\n<pre><code>NetworkStream myStream = new NetworkStream(theSocket);\n</code></pre>\n\n<p>It will behave as an input and output stream, in .net streams usually are read/write, so no need to have two sepparated streams.  </p>\n"}], "owner": {"reputation": 65, "user_id": 4512318, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/3b159e2815fac7bbefc6dd392136fb09?s=128&d=identicon&r=PG&f=1", "display_name": "TotorAndMimine", "link": "https://stackoverflow.com/users/4512318/totorandmimine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3095, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1452109448, "creation_date": 1452108325, "question_id": 34641149, "link": "https://stackoverflow.com/questions/34641149/equivalent-of-objectinputstream-and-objectoutputstream-in-c", "title": "Equivalent of ObjectInputStream and ObjectOutputStream in C#", "body": "<p>What is the equivalent of theses Java classes in CSharp ?</p>\n\n<p>It is for implement an interface with a socket.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["java", "android-fragments", "android-activity", "material-design"], "comments": [{"owner": {"reputation": 57206, "user_id": 974731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG", "display_name": "cybersam", "link": "https://stackoverflow.com/users/974731/cybersam"}, "edited": false, "score": 0, "creation_date": 1452110406, "post_id": 34641101, "comment_id": 57029153, "body": "What, exactly, is not working?"}, {"owner": {"reputation": 608, "user_id": 1945693, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/MeB76.jpg?s=128&g=1", "display_name": "Anoop Kanyan", "link": "https://stackoverflow.com/users/1945693/anoop-kanyan"}, "reply_to_user": {"reputation": 57206, "user_id": 974731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG", "display_name": "cybersam", "link": "https://stackoverflow.com/users/974731/cybersam"}, "edited": false, "score": 0, "creation_date": 1452110815, "post_id": 34641101, "comment_id": 57029414, "body": "It doesn&#39;t start the activity for handling voice actions, inside onVoiceClicked()"}], "answers": [{"comments": [{"owner": {"reputation": 608, "user_id": 1945693, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/MeB76.jpg?s=128&g=1", "display_name": "Anoop Kanyan", "link": "https://stackoverflow.com/users/1945693/anoop-kanyan"}, "edited": false, "score": 0, "creation_date": 1452190025, "post_id": 34642623, "comment_id": 57069714, "body": "Edited the library&#39;s code and now it works. Thanks !"}], "tags": [], "owner": {"reputation": 57206, "user_id": 974731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG", "display_name": "cybersam", "link": "https://stackoverflow.com/users/974731/cybersam"}, "is_accepted": true, "score": 1, "last_activity_date": 1452113859, "creation_date": 1452113859, "answer_id": 34642623, "question_id": 34641101, "link": "https://stackoverflow.com/questions/34641101/android-using-fragment-instead-of-activity-for-a-library/34642623#34642623", "title": "Android using Fragment instead of activity for a library", "body": "<p><code>mContext</code> might not be an <code>Activity</code>.</p>\n\n<p>Try using this logic (copied from <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/5.1.1_r1/android/support/v7/app/MediaRouteButton.java#MediaRouteButton.getActivity%28%29\" rel=\"nofollow\">MediaRouteButton.getActivity()</a>) to get the <code>Activity</code>.</p>\n\n<pre><code>Activity getActivity() {\n    Context context = getContext();\n    while (context instanceof ContextWrapper) {\n        if (context instanceof Activity) {\n            return (Activity)context;\n        }\n        context = ((ContextWrapper)context).getBaseContext();\n    }\n    return null;\n}\n</code></pre>\n"}], "owner": {"reputation": 608, "user_id": 1945693, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/MeB76.jpg?s=128&g=1", "display_name": "Anoop Kanyan", "link": "https://stackoverflow.com/users/1945693/anoop-kanyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "accepted_answer_id": 34642623, "answer_count": 1, "score": 0, "last_activity_date": 1452113859, "creation_date": 1452108155, "last_edit_date": 1452110113, "question_id": 34641101, "link": "https://stackoverflow.com/questions/34641101/android-using-fragment-instead-of-activity-for-a-library", "title": "Android using Fragment instead of activity for a library", "body": "<p>I am using this library <a href=\"https://github.com/krishnakapil/MaterialSeachView\" rel=\"nofollow\">MaterialSearchView</a> in my app for implementing Gmail like search view. The library has provided the implementation details using an Activity. I tried the code inside a fragment, making the necessary changes. </p>\n\n<p>To implement it we do something like this from an activity: </p>\n\n<pre><code>MaterialSearchView searchView = (MaterialSearchView) findViewById(R.id.search_view);\n</code></pre>\n\n<p>But, I am using a fragment instead so what I do is:</p>\n\n<pre><code>searchView = (MaterialSearchView) getActivity().findViewById(R.id.search_view);\n</code></pre>\n\n<p>Everything works fine except the VoiceSearch. The library implements voice search using the following code:</p>\n\n<pre><code>private void onVoiceClicked() {\n    Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n    intent.putExtra(RecognizerIntent.EXTRA_PROMPT, \"Speak an item name or number\");    // user hint\n    intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_WEB_SEARCH);    // setting recognition model, optimized for short phrases \u2013 search queries\n    intent.putExtra(RecognizerIntent.EXTRA_MAX_RESULTS, 1);    // quantity of results we want to receive\n    if (mContext instanceof Activity) {\n        ((Activity) mContext).startActivityForResult(intent, REQUEST_VOICE);\n    }\n</code></pre>\n\n<p>How can I make this work? <code>mContext</code> in the above code is set inside the constructor as:</p>\n\n<pre><code>public MaterialSearchView(Context context) {\n    this(context, null);\n}\n</code></pre>\n\n<p>How can I make it work from a fragment? Code for the <a href=\"https://github.com/krishnakapil/MaterialSeachView/blob/master/library/src/main/java/com/search/material/library/MaterialSearchView.java#L217\" rel=\"nofollow\">library</a></p>\n"}, {"tags": ["java", "jsoup"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2626585"}, "edited": false, "score": 0, "creation_date": 1452108365, "post_id": 34641095, "comment_id": 57027814, "body": "Of course, you&#39;ve got <code>main</code> method in <code>WS1</code>?"}, {"owner": {"reputation": 53, "user_id": 5390288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fc8e56f6d9de1ee14d646512e9a04a9?s=128&d=identicon&r=PG&f=1", "display_name": "fletch367", "link": "https://stackoverflow.com/users/5390288/fletch367"}, "edited": false, "score": 0, "creation_date": 1452108597, "post_id": 34641095, "comment_id": 57027958, "body": "I do.  Funny thing is... I had to double check before I answered :)"}, {"owner": {"reputation": 53, "user_id": 5390288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fc8e56f6d9de1ee14d646512e9a04a9?s=128&d=identicon&r=PG&f=1", "display_name": "fletch367", "link": "https://stackoverflow.com/users/5390288/fletch367"}, "edited": false, "score": 0, "creation_date": 1452108663, "post_id": 34641095, "comment_id": 57028008, "body": "If i leave out the -cp flag it attempts to run but fails because it can&#39;t find the JSOUP library."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2626585"}, "edited": false, "score": 0, "creation_date": 1452108705, "post_id": 34641095, "comment_id": 57028036, "body": "Can you post the source code of <code>WS1</code>?"}, {"owner": {"reputation": 53, "user_id": 5390288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fc8e56f6d9de1ee14d646512e9a04a9?s=128&d=identicon&r=PG&f=1", "display_name": "fletch367", "link": "https://stackoverflow.com/users/5390288/fletch367"}, "edited": false, "score": 0, "creation_date": 1452108835, "post_id": 34641095, "comment_id": 57028130, "body": "I copied this from another website.  Can&#39;t remember where to give them credit. Only reason I&#39;m running this is to get JSOUP to run."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2626585"}, "edited": false, "score": 0, "creation_date": 1452109213, "post_id": 34641095, "comment_id": 57028368, "body": "Ok, try <code>java -cp c:\\js\\jsoup.jar;. WS1</code> You need to add current directory to the classpath."}, {"owner": {"reputation": 53, "user_id": 5390288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fc8e56f6d9de1ee14d646512e9a04a9?s=128&d=identicon&r=PG&f=1", "display_name": "fletch367", "link": "https://stackoverflow.com/users/5390288/fletch367"}, "edited": false, "score": 0, "creation_date": 1452112197, "post_id": 34641095, "comment_id": 57030278, "body": "That was it. You are awesome. I changed my classpath to this to avoid having to use -cp everytime. C:\\js\\jsoup.jar;.;    The period was key to fixing it"}, {"owner": {"reputation": 11144, "user_id": 4428462, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BQbHx.png?s=128&g=1", "display_name": "JonasCz", "link": "https://stackoverflow.com/users/4428462/jonascz"}, "edited": false, "score": 0, "creation_date": 1452159570, "post_id": 34641095, "comment_id": 57048561, "body": "You really should consider using an IDE instead of a text editor.. You&#39;ll spend less time fixing problems like this one, and more time actually writing code."}, {"owner": {"reputation": 53, "user_id": 5390288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fc8e56f6d9de1ee14d646512e9a04a9?s=128&d=identicon&r=PG&f=1", "display_name": "fletch367", "link": "https://stackoverflow.com/users/5390288/fletch367"}, "edited": false, "score": 0, "creation_date": 1452191223, "post_id": 34641095, "comment_id": 57070392, "body": "That may be true for some people but I learn so much more by doing it this way.  For example, with this specific situation, I was simply trying to download JSOUP and get it running on my computer.  Had I been using an IDE, such as Eclipse, I could have made a couple of clicks and gotten it running.  Using the text editor and command line, I now understand how to pack/unpack JAR files. I learned that the dot means current directory.  I learned what the Import statement does and where the JVM looks for this data. If I had used IDE, I wouldn&#39;t have learned this and many more things."}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 5390288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fc8e56f6d9de1ee14d646512e9a04a9?s=128&d=identicon&r=PG&f=1", "display_name": "fletch367", "link": "https://stackoverflow.com/users/5390288/fletch367"}, "is_accepted": false, "score": 4, "last_activity_date": 1452114486, "last_edit_date": 1452114486, "creation_date": 1452108941, "answer_id": 34641326, "question_id": 34641095, "link": "https://stackoverflow.com/questions/34641095/jsoup-issues-could-not-find-or-load-main-class/34641326#34641326", "title": "JSOUP Issues - Could not find or load main Class", "body": "<p>Thanks to Dariusz this problem is resolved.  In order to use a JAR file through the command line you have two options:</p>\n\n<p>1)use the -cp switch.  For example, to compile:</p>\n\n<pre><code>javac -cp c:\\yourFolder\\yourJarFile.jar yourSourceCode.java\n</code></pre>\n\n<p>Then to run your java program:</p>\n\n<pre><code>java -cp c:\\yourFolder\\yourJarFile.jar;. yourClassFile\n</code></pre>\n\n<p>yourJarFile in this case was jsoup.jar</p>\n\n<p>yourClassFile was WS1 and</p>\n\n<p>yourSourceCode was WS1.java</p>\n\n<p>2) Your second option is to create/add the following to your classpath system variable:</p>\n\n<pre><code>c:\\yourFolder\\yourJarFile.jar;.;%classpath%\n</code></pre>\n\n<p>Option 2 is the one I went with.  This allows me to not have to use the -cp flag everytime I compile/run my java code.  </p>\n\n<p>The main thing that was holding me up here was the period or dot.  I knew that I needed to add the current directory but didn't know how.  So, make sure that you add the location of your added JAR file and the period/dot for the current directory and you'll be good to go.</p>\n\n<p>THANK YOU ALL FOR YOUR HELP!!!\nJF</p>\n"}], "owner": {"reputation": 53, "user_id": 5390288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fc8e56f6d9de1ee14d646512e9a04a9?s=128&d=identicon&r=PG&f=1", "display_name": "fletch367", "link": "https://stackoverflow.com/users/5390288/fletch367"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 609, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452114486, "creation_date": 1452108142, "question_id": 34641095, "link": "https://stackoverflow.com/questions/34641095/jsoup-issues-could-not-find-or-load-main-class", "title": "JSOUP Issues - Could not find or load main Class", "body": "<p>I'm having an issue getting JSOUP going on my computer.  I've downloaded JSOUP1.8.3 from the web and have tried many things to get it going.</p>\n\n<p>I'm running JRE7 on Windows 7.  I feel like I learn more using the command line so I've stuck with that.  I type my programs in NotePad++ and use the command line to run them.</p>\n\n<p>Here's what I've tried:\n1)setting CLASSPATH to point to my JSOUP.jar file.  This works with compiling but when I try to run my file I get the error \"Could not find or load main Class\"\n2)unpacking the JAR file, adding the JSOUP folder to the ORG folder then recompiling.  This didn't work and caused an error (Cant remember the error but my computer didn't like it.)\n3)using the -cp switch.  Again this works for compiling but not for running.  </p>\n\n<p>To compile:</p>\n\n<pre><code>javac -cp c:\\js\\jsoup.jar WS1.java\n</code></pre>\n\n<p>This works with no issues.  When I try to run it with</p>\n\n<pre><code>java -cp c:\\js\\jsoup.jar WS1\n</code></pre>\n\n<p>I get the error \"Could not find or load main class.\"</p>\n\n<p>I'm not sure what other info you need to help me with this issue.  I've been working on this for hours and just can't figure it out.  Let me know if you need more info - Thanks - JF</p>\n"}, {"tags": ["java", "vert.x", "vertx3"], "answers": [{"tags": [], "owner": {"reputation": 6274, "user_id": 2159867, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/UrXXu.jpg?s=128&g=1", "display_name": "prasun", "link": "https://stackoverflow.com/users/2159867/prasun"}, "is_accepted": true, "score": 2, "last_activity_date": 1452161593, "last_edit_date": 1495541760, "creation_date": 1452145622, "answer_id": 34648148, "question_id": 34641064, "link": "https://stackoverflow.com/questions/34641064/vertx-io-vertical-stop-working-on-exception/34648148#34648148", "title": "vertx.io vertical stop working on exception", "body": "<p>You should catch the current thread's unhanded exception using:</p>\n\n<pre><code>Thread.currentThread().setUncaughtExceptionHandler(\n     new Thread.UncaughtExceptionHandler() {\n  public void uncaughtException(Thread t, Throwable e) {\n     LOGGER.error(t + \" throws exception: \" + e);\n  }\n});\n</code></pre>\n\n<p>If you are using multiple vertical, I would recommend that you add <code>UncaughtExceptionhandler</code> for each vertical, as each vertical will have its own event loop and hence, its own thread.</p>\n\n<p>There is a similar question for java already answered: <a href=\"https://stackoverflow.com/questions/19422366/java-uncaught-global-exception-handler\">Java uncaught global exception handler</a> </p>\n"}], "owner": {"reputation": 12881, "user_id": 732497, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9a2b84253079164fd16cb4195ad468d3?s=128&d=identicon&r=PG", "display_name": "David Laberge", "link": "https://stackoverflow.com/users/732497/david-laberge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 761, "favorite_count": 0, "accepted_answer_id": 34648148, "answer_count": 1, "score": 1, "last_activity_date": 1452396668, "creation_date": 1452108044, "last_edit_date": 1452396668, "question_id": 34641064, "link": "https://stackoverflow.com/questions/34641064/vertx-io-vertical-stop-working-on-exception", "title": "vertx.io vertical stop working on exception", "body": "<p>Working with vertx.io 3.0.0, when an exception is thrown and not catch in the JAVA API the vertical freezes. We are working on a single server environment, the server is not in a cluster.</p>\n\n<p>Any thoughts?</p>\n"}, {"tags": ["java", "casting"], "comments": [{"owner": {"reputation": 16323, "user_id": 4150352, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bjoHS.jpg?s=128&g=1", "display_name": "Mohammed Aouf Zouag", "link": "https://stackoverflow.com/users/4150352/mohammed-aouf-zouag"}, "edited": false, "score": 0, "creation_date": 1452107864, "post_id": 34641001, "comment_id": 57027518, "body": "A bit of <b>&quot;try it out&quot;</b> code would be useful."}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1452108091, "post_id": 34641001, "comment_id": 57027665, "body": "Thinking of types as &quot;bigger&quot; or &quot;smaller&quot; is a problem by itself.  All references are the same size."}, {"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 0, "creation_date": 1452108273, "post_id": 34641001, "comment_id": 57027763, "body": "casting does not mean converting, you&#39;re not &quot;shrinking&quot; object B to object A, you just say that variable a1 is &quot;at least A&quot;, as soon as every B is always &quot;at least A&quot;, you don&#39;t need to do explicit casting"}, {"owner": {"reputation": 3840, "user_id": 3680045, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/21bacf881a89ca04db7db5172d49e9c4?s=128&d=identicon&r=PG&f=1", "display_name": "OPK", "link": "https://stackoverflow.com/users/3680045/opk"}, "edited": false, "score": 2, "creation_date": 1452108279, "post_id": 34641001, "comment_id": 57027766, "body": "Something needs to point out: <code>A a1=new (A)B();</code> is explicit casting, NOT implicit"}, {"owner": {"reputation": 85046, "user_id": 217324, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc91a8e29fedbd6a6d7e03a8394009ab?s=128&d=identicon&r=PG", "display_name": "Nathan Hughes", "link": "https://stackoverflow.com/users/217324/nathan-hughes"}, "reply_to_user": {"reputation": 3840, "user_id": 3680045, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/21bacf881a89ca04db7db5172d49e9c4?s=128&d=identicon&r=PG&f=1", "display_name": "OPK", "link": "https://stackoverflow.com/users/3680045/opk"}, "edited": false, "score": 3, "creation_date": 1452108337, "post_id": 34641001, "comment_id": 57027798, "body": "@Jason: actually <code>new (A)B();</code> isn&#39;t casting, it&#39;s just a compile error."}, {"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "reply_to_user": {"reputation": 16165, "user_id": 3437460, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/7253131fc32bf734fa570977c79182e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3437460", "link": "https://stackoverflow.com/users/3437460/user3437460"}, "edited": false, "score": 0, "creation_date": 1452108411, "post_id": 34641001, "comment_id": 57027840, "body": "@user3437460 I could imagine such construction in c++ language with casting operation overloaded, not in java"}, {"owner": {"reputation": 16165, "user_id": 3437460, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/7253131fc32bf734fa570977c79182e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3437460", "link": "https://stackoverflow.com/users/3437460/user3437460"}, "edited": false, "score": 0, "creation_date": 1452109624, "post_id": 34641001, "comment_id": 57028664, "body": "@AslanBasha Take a look at my solution below and let me know whether it helps."}], "answers": [{"tags": [], "owner": {"reputation": 449, "user_id": 1965524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z38Yc.jpg?s=128&g=1", "display_name": "drognisep", "link": "https://stackoverflow.com/users/1965524/drognisep"}, "is_accepted": false, "score": 0, "last_activity_date": 1483939970, "last_edit_date": 1483939970, "creation_date": 1452108325, "answer_id": 34641148, "question_id": 34641001, "link": "https://stackoverflow.com/questions/34641001/upcasting-in-java-for-non-primitive-types/34641148#34641148", "title": "Upcasting in Java for non primitive types", "body": "<p>The cast isn't actually implicit like you're saying. What is actually happening is this:</p>\n\n<pre><code>B b1 = new B();\nA a1 = (A)b;\n</code></pre>\n\n<p>The <code>(A)</code> is an <strong>explicit</strong> cast, what's more important is to stop considering the <em>size</em> of things in the sense that the <em>size</em> of <code>B</code> is different from the <em>size</em> of <code>A</code>. This can be an implicit assignment because <code>B</code> IS-A <code>A</code>, so using <code>A</code> as an interface for <code>B</code> is completely safe, because we know that <code>B</code> has <strong>at least</strong> the same members as defined by <code>A</code>.</p>\n\n<p>So the perfectly safe (and not erroneous) method of doing this is simple:</p>\n\n<pre><code>A a1 = new B();\n</code></pre>\n\n<p>Done!</p>\n"}, {"tags": [], "owner": {"reputation": 2352, "user_id": 5711725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cfaab398800db4fd0e9b0aae6621bda?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Mart&#237;n", "link": "https://stackoverflow.com/users/5711725/javier-mart%c3%adn"}, "is_accepted": false, "score": 1, "last_activity_date": 1452108395, "creation_date": 1452108395, "answer_id": 34641179, "question_id": 34641001, "link": "https://stackoverflow.com/questions/34641001/upcasting-in-java-for-non-primitive-types/34641179#34641179", "title": "Upcasting in Java for non primitive types", "body": "<p>You are thinking in terms of object size, but in Java, non primitive types are never contained, only referred to. Thus, your code is casting the result of <code>new B()</code>, which is of type \"reference to B\", to type \" reference to A\". Since all references are the same size, no data is lost in the cast.</p>\n"}, {"tags": [], "owner": {"reputation": 72, "user_id": 3183595, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/oWWdn.jpg?s=128&g=1", "display_name": "nervousDev", "link": "https://stackoverflow.com/users/3183595/nervousdev"}, "is_accepted": false, "score": 0, "last_activity_date": 1452108446, "creation_date": 1452108446, "answer_id": 34641196, "question_id": 34641001, "link": "https://stackoverflow.com/questions/34641001/upcasting-in-java-for-non-primitive-types/34641196#34641196", "title": "Upcasting in Java for non primitive types", "body": "<p>So, I really don't understand your question. I just think you are confused about what happens to the class B members when a upcast to his super class is made. In that case, you ended up with a instance of A wich means that Object type is A and non of B stored data will remain.</p>\n"}, {"tags": [], "owner": {"reputation": 11685, "user_id": 4142130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e50f6c44a570a709b1fd0f4e04b0b8ae?s=128&d=identicon&r=PG&f=1", "display_name": "Hoopje", "link": "https://stackoverflow.com/users/4142130/hoopje"}, "is_accepted": false, "score": 0, "last_activity_date": 1452108491, "creation_date": 1452108491, "answer_id": 34641208, "question_id": 34641001, "link": "https://stackoverflow.com/questions/34641001/upcasting-in-java-for-non-primitive-types/34641208#34641208", "title": "Upcasting in Java for non primitive types", "body": "<p>In Java, with</p>\n\n<pre><code>B b = new B();\nA a = b;\n</code></pre>\n\n<p>one defines <em>references</em> <code>b</code> and <code>a</code>. Under the hood, references are implemented with pointers, and thus, all references are the same size. Of course, an instance of a <code>B</code> might indeed require more memory than an instance of <code>A</code> (I take it, this is what you mean by \"bigger\").</p>\n\n<p>By the way, in C++ this is not the case. </p>\n\n<pre><code>B b();\n</code></pre>\n\n<p>does define an object, not a reference, and therefore</p>\n\n<pre><code>A a = b;\n</code></pre>\n\n<p>in C++ is indeed <em>not</em> allowed.  </p>\n"}, {"tags": [], "owner": {"reputation": 16165, "user_id": 3437460, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/7253131fc32bf734fa570977c79182e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3437460", "link": "https://stackoverflow.com/users/3437460/user3437460"}, "is_accepted": false, "score": 0, "last_activity_date": 1452109689, "last_edit_date": 1452109689, "creation_date": 1452109269, "answer_id": 34641422, "question_id": 34641001, "link": "https://stackoverflow.com/questions/34641001/upcasting-in-java-for-non-primitive-types/34641422#34641422", "title": "Upcasting in Java for non primitive types", "body": "<p>Think about this:</p>\n\n<pre><code>class Animal{\n    public void eat(){}\n}\n\nclass Monkey extends Animal{\n    public void climbTree(){}\n}\n</code></pre>\n\n<p>I can now do this:</p>\n\n<pre><code>Animal someAnimal = new Monkey();  //This is ok. (Create a Monkey and identify is as an Animal)\nsomeAnimal.eat();                  //This is ok too. (All Animal objects can eat)\nsomeAnimal.climbTree();            //Not ok. Java sees someAnimal as a general Animal, not a Monkey yet.\n</code></pre>\n\n<p>From the above example, someAnimal is a <code>Monkey</code> object which is stored within a variable of higher hierarchy (<code>Animal</code>).\nThe object itself is perceived as the a more general class (The <code>Animal</code> class) and I don't think an implicit casting is done here since all Monkeys are already Animals (but not the other way round).</p>\n\n<p>Explicit casting can be done when you want to let the compiler knows that the object actually belongs to a more specific class. For example:</p>\n\n<pre><code>((Monkey)someAnimal).climbTree();  //This is ok. Inform Java someAnimal is actually a Monkey which knows how to climb.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 75, "user_id": 5480781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36fd5b37d4cf69f10e423a7bb4ec66aa?s=128&d=identicon&r=PG&f=1", "display_name": "jayachsi", "link": "https://stackoverflow.com/users/5480781/jayachsi"}, "is_accepted": false, "score": 0, "last_activity_date": 1452113125, "last_edit_date": 1452113125, "creation_date": 1452110444, "answer_id": 34641720, "question_id": 34641001, "link": "https://stackoverflow.com/questions/34641001/upcasting-in-java-for-non-primitive-types/34641720#34641720", "title": "Upcasting in Java for non primitive types", "body": "<p>Example :</p>\n\n<pre><code>Class Employee {\n\n    private String name;\n    private double Salary;\n\n//getter &amp; setter\n\n//mutators to increase salary etc;\n}\n\nclass Manager extends Employee {\n\n    private double bonus;\n\n//inherits methods from superclass\n\n// sub class specific methods\n\n}\n\nEmployee e = new Manager(); //is fine as manager is also an Employee...\n</code></pre>\n\n<p>The prefixes super and sub come from the language of sets used in theoretical computer science and mathematics. The set of all employees contains the set of all managers, and thus is said to be a superset of the set of managers. Or, to put it another way, the set of all managers is a subset of the set of all employees.</p>\n\n<p>~ From core java series\nhope this helps...</p>\n"}], "owner": {"reputation": 1, "user_id": 5753962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b4d35a0658744eb1201037f35fa9c78?s=128&d=identicon&r=PG&f=1", "display_name": "Aslam Basha", "link": "https://stackoverflow.com/users/5753962/aslam-basha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 872, "favorite_count": 0, "answer_count": 6, "score": -3, "last_activity_date": 1483939970, "creation_date": 1452107815, "last_edit_date": 1452108133, "question_id": 34641001, "link": "https://stackoverflow.com/questions/34641001/upcasting-in-java-for-non-primitive-types", "title": "Upcasting in Java for non primitive types", "body": "<p>Let us consider we have two classes A and B. B is a sub class for A because B extends A. If We create an instance of A Class and assign that in to a A type will contains all the properties of A. Similarly when I create an Instance of B and assign it to B type will get all the properties of B along with properties of A because it is inheriting from A. According to above lines instance of A contains properties a few as compared to properties contains to instance B. That means Instance of B is Bigger than Instance of A as casting should be explicit when narrowing implicit when widening. According to my theory Instance of B is bigger we are trying to store it in A type we need conversion.</p>\n\n<pre><code>A a1=new (A)B();\n</code></pre>\n\n<p>The above conversion is taking place implicitly. But my question is how it is implicit, Instance of B is bigger we are trying to convert that to small type which is A. How this is possible??? </p>\n\n<p>Answer me with examples thank you in advance. </p>\n"}]