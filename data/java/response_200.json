[{"tags": ["java", "javafx", "ant", "fxml"], "comments": [{"owner": {"reputation": 1257, "user_id": 3876382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R2ODc.jpg?s=128&g=1", "display_name": "michaeak", "link": "https://stackoverflow.com/users/3876382/michaeak"}, "edited": false, "score": 0, "creation_date": 1541634830, "post_id": 53199615, "comment_id": 93287830, "body": "The error says that there are classes which have been compiled with another incompatible version, so this JRE can\u2019t use them"}, {"owner": {"reputation": 1, "user_id": 10617987, "user_type": "registered", "profile_image": "https://graph.facebook.com/2240762265956726/picture?type=large", "display_name": "Mikael", "link": "https://stackoverflow.com/users/10617987/mikael"}, "reply_to_user": {"reputation": 1257, "user_id": 3876382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R2ODc.jpg?s=128&g=1", "display_name": "michaeak", "link": "https://stackoverflow.com/users/3876382/michaeak"}, "edited": false, "score": 0, "creation_date": 1541637212, "post_id": 53199615, "comment_id": 93288369, "body": "@michaeak But I&#39;m creating applications as I am used to, but now it runs in two different ways and therefore creates some type of error. Just want it back as it used to be. When I create a project it creates a dist folder and other files that I&#39;ve never had before."}, {"owner": {"reputation": 1257, "user_id": 3876382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R2ODc.jpg?s=128&g=1", "display_name": "michaeak", "link": "https://stackoverflow.com/users/3876382/michaeak"}, "edited": false, "score": 0, "creation_date": 1541664589, "post_id": 53199615, "comment_id": 93295430, "body": "Maybe this helps? <a href=\"https://stackoverflow.com/questions/949678/ant-is-using-wrong-java-version\" title=\"ant is using wrong java version\">stackoverflow.com/questions/949678/&hellip;</a>"}], "owner": {"reputation": 1, "user_id": 10617987, "user_type": "registered", "profile_image": "https://graph.facebook.com/2240762265956726/picture?type=large", "display_name": "Mikael", "link": "https://stackoverflow.com/users/10617987/mikael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541634457, "creation_date": 1541634457, "question_id": 53199615, "link": "https://stackoverflow.com/questions/53199615/javafx-application-gives-a-lot-of-ant-errors", "title": "JavaFX - Application gives a lot of ant errors", "body": "<p>Today I created a JavaFX FXML project for fun but I got some errors right away, so I deleted the project and created a normal JavaFX project since that was what I originally needed. Now when I create normal JavaFX-projects, the folders and files and different than before. When I press the \"Run Project\"-button it runs as \"jfxsa-run\" and I get a lot of errors, but when I right-click and run the file it runs as \"run-single\" and I have no problems at all. \nWhen I run an old JavaFX-project it only runs as \"run\". How do I get it back as it used to be?</p>\n\n<p>The error: <a href=\"http://piclair.com/wwesb\" rel=\"nofollow noreferrer\">http://piclair.com/wwesb</a> (It's a picture)</p>\n"}, {"tags": ["java", "openstreetmap"], "answers": [{"tags": [], "owner": {"reputation": 618, "user_id": 1558687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae2281976f440268014d2d246eb9d309?s=128&d=identicon&r=PG", "display_name": "matthieun", "link": "https://stackoverflow.com/users/1558687/matthieun"}, "is_accepted": true, "score": 0, "last_activity_date": 1541634236, "creation_date": 1541634236, "answer_id": 53199590, "question_id": 53199589, "link": "https://stackoverflow.com/questions/53199589/how-to-count-the-total-lake-area-in-an-atlas/53199590#53199590", "title": "How to count the total lake area in an Atlas", "body": "<p>Atlas comes with a <a href=\"https://github.com/osmlab/atlas/tree/5.2.4/src/main/java/org/openstreetmap/atlas/geography/atlas/items/complex#complex-entities\" rel=\"nofollow noreferrer\"><code>ComplexEntity</code></a> concept that allows the user to construct higher-level entities based on specific concepts. The <code>ComplexWaterEntity</code> object should fit that need:</p>\n\n<pre><code>Atlas atlas;\nIterable&lt;ComplexWaterEntity&gt; waterEntities =\n    new ComplexWaterEntityFinder().find(atlas);\n\n// Get all water bodies and keep lakes only.\n// This will include the multipolygon ones.\nIterable&lt;ComplexWaterBody&gt; lakes = Iterables.stream(waterEntities)\n    .filter(entity -&gt; WaterType.LAKE == entity.getWaterType())\n    .map(entity -&gt; (ComplexWaterBody) entity);\n\n// Add all the surface areas\nSurface result = Surface.MINIMUM;\nfor (ComplexWaterBody lake : lakes)\n{\n    result = result.add(lake.getGeometry().getSurface()));\n}\nSystem.out.println(result.asKilometerSquared());\n</code></pre>\n"}], "owner": {"reputation": 618, "user_id": 1558687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae2281976f440268014d2d246eb9d309?s=128&d=identicon&r=PG", "display_name": "matthieun", "link": "https://stackoverflow.com/users/1558687/matthieun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 53199590, "answer_count": 1, "score": 0, "last_activity_date": 1541634236, "creation_date": 1541634236, "question_id": 53199589, "link": "https://stackoverflow.com/questions/53199589/how-to-count-the-total-lake-area-in-an-atlas", "title": "How to count the total lake area in an Atlas", "body": "<p>Once I have loaded an <a href=\"https://github.com/osmlab/atlas/tree/5.2.4#atlas\" rel=\"nofollow noreferrer\">Atlas</a> object in memory, what is the best way to count the total lake area? Doing a simple tag search finds all the simple <code>Area</code> lakes but I am missing all the lakes based on type=multipolygon <code>Relations</code> that are built on \"outer\" ways that, stitched together, make a full lake.</p>\n"}, {"tags": ["java", "docker", "jboss", "console", "wildfly"], "comments": [{"owner": {"reputation": 1373, "user_id": 188587, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7dd9828ed0f9df9d89d876f0470e0e46?s=128&d=identicon&r=PG", "display_name": "djb", "link": "https://stackoverflow.com/users/188587/djb"}, "edited": false, "score": 0, "creation_date": 1541667654, "post_id": 53199584, "comment_id": 93296837, "body": "I think you need to specify the port mapping with -P, so like -P 18080:8080"}], "answers": [{"tags": [], "owner": {"reputation": 1078, "user_id": 8207836, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GdWC.png?s=128&g=1", "display_name": "huytmb", "link": "https://stackoverflow.com/users/8207836/huytmb"}, "is_accepted": false, "score": 1, "last_activity_date": 1542129386, "last_edit_date": 1542129386, "creation_date": 1542128838, "answer_id": 53286193, "question_id": 53199584, "link": "https://stackoverflow.com/questions/53199584/error-docker-wildfly-console-ports-not-by-default/53286193#53286193", "title": "Error --- Docker wildfly console ports not by default", "body": "<p>You need to sepecify the port mapping with \"-p\":</p>\n\n<pre><code>-p=[]      : Publish a container's port or a range of ports to the host\n</code></pre>\n\n<p>With <strong>\"-P\" (uppercase)</strong> option: Publish all <strong>exposed ports</strong> to the host interfaces. </p>\n\n<p>If you still want to use \"-P\" option, using the Dockerfile: (add EXPOSE port for management administration console)</p>\n\n<pre><code>    FROM jboss/wildfly\n\n    # Expose the ports we're interested in\n    EXPOSE 9990\n\n    RUN /opt/jboss/wildfly/bin/add-user.sh admin Admin#70365 --silent\n    CMD [\"/opt/jboss/wildfly/bin/standalone.sh\", \"-b\", \"0.0.0.0\", \"-bmanagement\", \"0.0.0.0\"]\n</code></pre>\n\n<p>Then you can build the image:</p>\n\n<pre><code> docker build --tag=jboss/wildfly-admin .\n</code></pre>\n\n<p>Run it:</p>\n\n<pre><code>docker run -it -P jboss/wildfly-admin\n</code></pre>\n\n<p>List containers:</p>\n\n<pre><code>docker container ls\n</code></pre>\n\n<p>You can get the result same here:</p>\n\n<pre><code>CONTAINER ID        IMAGE                 COMMAND                  CREATED             STATUS              PORTS                                              NAMES\n91b6bc131b28        jboss/wildfly-admin   \"/opt/jboss/wildfly/\u2026\"   13 seconds ago      Up 12 seconds       0.0.0.0:32771-&gt;8080/tcp, 0.0.0.0:32770-&gt;9990/tcp   quirky_nightingale\n</code></pre>\n\n<p>Your container is running and expose port 32770 for management.\nThe administration console should be available at <a href=\"http://localhost:32770\" rel=\"nofollow noreferrer\">http://localhost:32770</a> (for my case)</p>\n"}], "owner": {"reputation": 1, "user_id": 5917601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5359aee4ea56d0ca6df948301909b236?s=128&d=identicon&r=PG&f=1", "display_name": "rncantos", "link": "https://stackoverflow.com/users/5917601/rncantos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 836, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542129386, "creation_date": 1541634221, "last_edit_date": 1541734319, "question_id": 53199584, "link": "https://stackoverflow.com/questions/53199584/error-docker-wildfly-console-ports-not-by-default", "title": "Error --- Docker wildfly console ports not by default", "body": "<p>I have a problem with a docker wildfly container. The problem is the following, I want to launch the container with the different ports that are loaded by default 8080 for the application and 9090 for the console. I have managed to change the default port of the application, with this instruction</p>\n\n<pre><code>docker run -P -d jboss / wildfly /opt/jboss/wildfly/bin/standalone.sh -b 0.0.0.0 -bmanagement 0.0.0.0\n</code></pre>\n\n<p>-P flag map any network ports inside the image it to a random high port from the range 49153 to 65535 on Docker host</p>\n\n<p>But I can not access the administration console, on the other hand I have created a dockerfile with these values</p>\n\n<pre><code>FROM jboss / wildfly\nRUN /opt/jboss/wildfly/bin/add-user.sh admin Admin # 70365 --silent\nCMD [\"/opt/jboss/wildfly/bin/standalone.sh\", \"-b\", \"0.0.0.0\", \"-bmanagement\", \"0.0.0.0\", \"-Djboss.socket.binding.port-offset = 5 \"]\n</code></pre>\n\n<p>And another one by removing the offset values</p>\n\n<pre><code>FROM jboss / wildfly\nRUN /opt/jboss/wildfly/bin/add-user.sh admin Admin # 70365 --silent\nCMD [\"/opt/jboss/wildfly/bin/standalone.sh\", \"-b\", \"0.0.0.0\", \"-bmanagement\", \"0.0.0.0\"]\n</code></pre>\n\n<p>I can lift the container but I still do not have access to the Wildfly management console. What can I do to get the console up?</p>\n"}, {"tags": ["java", "hibernate"], "answers": [{"comments": [{"owner": {"reputation": 1826, "user_id": 8716287, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/79769dea065acc845cf650899a940f1d?s=128&d=identicon&r=PG&f=1", "display_name": "valik", "link": "https://stackoverflow.com/users/8716287/valik"}, "edited": false, "score": 0, "creation_date": 1541643784, "post_id": 53200093, "comment_id": 93289921, "body": "so we should two getImagePath ?you answer is not clear can you re write the whole so i get what u mean ?"}, {"owner": {"reputation": 198, "user_id": 5651746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/894693f80478905271710d412efa44f0?s=128&d=identicon&r=PG&f=1", "display_name": "Taf", "link": "https://stackoverflow.com/users/5651746/taf"}, "reply_to_user": {"reputation": 1826, "user_id": 8716287, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/79769dea065acc845cf650899a940f1d?s=128&d=identicon&r=PG&f=1", "display_name": "valik", "link": "https://stackoverflow.com/users/8716287/valik"}, "edited": false, "score": 0, "creation_date": 1541784937, "post_id": 53200093, "comment_id": 93348214, "body": "getImagePathStr() allows you to retrieve the string path from the database while getImagePath is a transient method to convert the string path into a Path object."}], "tags": [], "owner": {"reputation": 198, "user_id": 5651746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/894693f80478905271710d412efa44f0?s=128&d=identicon&r=PG&f=1", "display_name": "Taf", "link": "https://stackoverflow.com/users/5651746/taf"}, "is_accepted": false, "score": 0, "last_activity_date": 1541638430, "creation_date": 1541638430, "answer_id": 53200093, "question_id": 53199558, "link": "https://stackoverflow.com/questions/53199558/hibernate-mapping-exception-could-not-determine-type-for-java-nio-file-path/53200093#53200093", "title": "Hibernate Mapping Exception Could not determine type for: java.nio.file.Path", "body": "<p>Path is not an Entity, so if you want the db to store it as String, you will have to change the type to String and use the following Paths.get(String path) to return the Path</p>\n\n<pre><code>@Entity\nclass Photo {\n\n     String imagePathStr;\n\npublic String getImagePathStr(){\n     return imagePath;\n// setter\n}\n\n@Transient\npublic Path getImagePath(){\n     return Paths.get(imagePathStr);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "is_accepted": true, "score": 7, "last_activity_date": 1541646532, "last_edit_date": 1541646532, "creation_date": 1541646163, "answer_id": 53200955, "question_id": 53199558, "link": "https://stackoverflow.com/questions/53199558/hibernate-mapping-exception-could-not-determine-type-for-java-nio-file-path/53200955#53200955", "title": "Hibernate Mapping Exception Could not determine type for: java.nio.file.Path", "body": "<p>You could use an <code>AttributeConverter</code>.</p>\n\n<pre><code>import java.nio.file.Path;\nimport java.nio.file.Paths;\nimport javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\n\n@Converter // may want to set autoApply to true\npublic class PathConverter implements AttributeConverter&lt;Path, String&gt; {\n\n    @Override\n    public String convertToDatabaseColumn(Path attribute) {\n        return attribute == null ? null : attribute.toString();\n    }\n\n    @Override\n    public Path convertToEntityAttribute(String dbData) {\n        return dbData == null ? null : Paths.get(dbData);\n    }\n\n}\n</code></pre>\n\n<p>This converter example will only store the path part of the <code>Path</code>. It won't maintain any other information such as what <code>FileSystem</code> it belongs to (and will assume the default <code>FileSystem</code> when converting from <code>String</code> to <code>Path</code>). </p>\n\n<pre><code>import java.nio.file.Path;\nimport javax.persistence.Convert;\nimport javax.persistence.Entity;\n\n@Entity\npublic class Photo {\n\n    @Convert(converter = PathConverter.class) // needed if autoApply isn't true\n    private Path imagePath;\n\n}\n</code></pre>\n\n<p>See the documentation of the following for more information:</p>\n\n<ul>\n<li><a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/persistence/AttributeConverter.html\" rel=\"noreferrer\"><code>AttributeConverter</code></a></li>\n<li><a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/persistence/Converter.html\" rel=\"noreferrer\"><code>Converter</code></a></li>\n<li><a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/persistence/Convert.html\" rel=\"noreferrer\"><code>Convert</code></a></li>\n</ul>\n"}], "owner": {"reputation": 1826, "user_id": 8716287, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/79769dea065acc845cf650899a940f1d?s=128&d=identicon&r=PG&f=1", "display_name": "valik", "link": "https://stackoverflow.com/users/8716287/valik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 498, "favorite_count": 0, "accepted_answer_id": 53200955, "answer_count": 2, "score": 4, "last_activity_date": 1541646532, "creation_date": 1541634041, "question_id": 53199558, "link": "https://stackoverflow.com/questions/53199558/hibernate-mapping-exception-could-not-determine-type-for-java-nio-file-path", "title": "Hibernate Mapping Exception Could not determine type for: java.nio.file.Path", "body": "<p>I have an entity Photo as below </p>\n\n<pre><code>@Entity\nclass Photo {\n\nPath imagePath;\n\npublic Path getImagePath(){\nreturn imagePath;\n// setter\n}\n</code></pre>\n\n<p>In this entity i have to nio.Path how can i solve thiss problem or make the table in db to accept strings as path \nthe error stack is below </p>\n\n<pre><code>Caused by: org.hibernate.MappingException: Could not determine type for: java.nio.file.Path, at table: photo, for columns: [org.hibernate.mapping.Column(image_path)]\n    at org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:431)\n</code></pre>\n"}, {"tags": ["java", "google-cloud-platform", "apache-beam", "msgpack", "apache-beam-io"], "answers": [{"comments": [{"owner": {"reputation": 21113, "user_id": 1549918, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/wAHqV.png?s=128&g=1", "display_name": "Chris Halcrow", "link": "https://stackoverflow.com/users/1549918/chris-halcrow"}, "edited": false, "score": 0, "creation_date": 1541634661, "post_id": 53199587, "comment_id": 93287797, "body": "Thanks @Justin +1 - I was thinking on these lines. I&#39;ve posted the solution - I needed an additional import for <code>ValueFactory</code>."}], "tags": [], "owner": {"reputation": 1215, "user_id": 3969789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ae5dbda0385c6dd51799115056de1a0?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/3969789/justin"}, "is_accepted": false, "score": 2, "last_activity_date": 1541634226, "creation_date": 1541634226, "answer_id": 53199587, "question_id": 53199525, "link": "https://stackoverflow.com/questions/53199525/apache-beam-with-messagepack-how-do-i-get-values-from-mapvalue-value/53199587#53199587", "title": "Apache beam with MessagePack - how do I get values from Map&lt;Value, Value&gt;?", "body": "<p>The map is Map, so the key is a value object, but you are using a String s the key when you do map.get(\"Tz\") </p>\n\n<p>Can you create a Value object using Tz and attempt to get based on that Value object?</p>\n"}, {"tags": [], "owner": {"reputation": 21113, "user_id": 1549918, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/wAHqV.png?s=128&g=1", "display_name": "Chris Halcrow", "link": "https://stackoverflow.com/users/1549918/chris-halcrow"}, "is_accepted": false, "score": 2, "last_activity_date": 1541985367, "last_edit_date": 1541985367, "creation_date": 1541634616, "answer_id": 53199636, "question_id": 53199525, "link": "https://stackoverflow.com/questions/53199525/apache-beam-with-messagepack-how-do-i-get-values-from-mapvalue-value/53199636#53199636", "title": "Apache beam with MessagePack - how do I get values from Map&lt;Value, Value&gt;?", "body": "<p>The map keys are MessagePack <code>Value</code> objects, so I needed to do this to reference the key, and return the values as strings:</p>\n\n<pre><code>import org.msgpack.value.ValueFactory;\n\nmap.get(ValueFactory.newString(\"Tz\")).toString()\n</code></pre>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/17993145/in-messagepack-error-while-getting-value-from-mapvalue-please-help-me\">In messagepack, error while getting value from MapValue.. Please help me</a> (the solution didn't work in my case, but there are some suggestions there for dealing with different types that can be used in a <code>Map</code>)</p>\n"}], "owner": {"reputation": 21113, "user_id": 1549918, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/wAHqV.png?s=128&g=1", "display_name": "Chris Halcrow", "link": "https://stackoverflow.com/users/1549918/chris-halcrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1541985367, "creation_date": 1541633720, "last_edit_date": 1541634244, "question_id": 53199525, "link": "https://stackoverflow.com/questions/53199525/apache-beam-with-messagepack-how-do-i-get-values-from-mapvalue-value", "title": "Apache beam with MessagePack - how do I get values from Map&lt;Value, Value&gt;?", "body": "<p>Inside an Apache Beam transform I can successfully transform pub/sub values (in MessagePack format) that I read from Google Cloud Pub/Sub into a map of MessagePack <code>Value</code> objects like this:</p>\n\n<pre><code>    @ProcessElement\n    public void processElement(ProcessContext c) \n    {\n        Map&lt;Value, Value&gt; map = MessagePack.newDefaultUnpacker(c.element().getPayload()).unpackValue().asMapValue().map();\n</code></pre>\n\n<p>When I inspect <code>map</code> I can see the following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZUyKT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZUyKT.png\" alt=\"enter image description here\"></a></p>\n\n<p>If I then try to get a value like this it always returns null:</p>\n\n<pre><code>map.get(\"Tz\")\n</code></pre>\n\n<p>How do I get a value? Do I need to transform the values in a different way, or do I need a different way of retrieving them?</p>\n"}, {"tags": ["java", "java-8", "java-stream"], "comments": [{"owner": {"reputation": 34704, "user_id": 1746118, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/a4a3P.png?s=128&g=1", "display_name": "Naman", "link": "https://stackoverflow.com/users/1746118/naman"}, "edited": false, "score": 1, "creation_date": 1541645875, "post_id": 53199445, "comment_id": 93290363, "body": "Few points in general. 1. Your final output in the <code>map</code> currently is not a <code>List&lt;String&gt;</code>, its a <code>Set</code>. 2. Your initialization of a <code>Set</code> wouldn&#39;t work that way unless you end up creating your own implementation of the interface. 3. Initializing <code>Set&lt;String&gt; mySet = myMap.get(s);</code> for every string in someList also doesn&#39;t make sense for the output you&#39;re looking to obtain."}, {"owner": {"reputation": 163, "user_id": 2334438, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/550eccd4fdbe9da08db06d5d7a87b1eb?s=128&d=identicon&r=PG", "display_name": "Andrew Robie", "link": "https://stackoverflow.com/users/2334438/andrew-robie"}, "reply_to_user": {"reputation": 34704, "user_id": 1746118, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/a4a3P.png?s=128&g=1", "display_name": "Naman", "link": "https://stackoverflow.com/users/1746118/naman"}, "edited": false, "score": 0, "creation_date": 1541680580, "post_id": 53199445, "comment_id": 93303711, "body": "The examples are pseudo-code in some spots where the actual way to do it is rather verbose. Probably should have specified that in the initial question. My thinking re 3 is that there needs to be the null check, and initializing the set saves having to retrieve from the map in both the if and the add in the else."}, {"owner": {"reputation": 163, "user_id": 2334438, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/550eccd4fdbe9da08db06d5d7a87b1eb?s=128&d=identicon&r=PG", "display_name": "Andrew Robie", "link": "https://stackoverflow.com/users/2334438/andrew-robie"}, "reply_to_user": {"reputation": 34704, "user_id": 1746118, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/a4a3P.png?s=128&g=1", "display_name": "Naman", "link": "https://stackoverflow.com/users/1746118/naman"}, "edited": false, "score": 0, "creation_date": 1541680958, "post_id": 53199445, "comment_id": 93303910, "body": "Oh, I think I see what you mean. Just do a contains key check instead of the actual init."}, {"owner": {"reputation": 163, "user_id": 2334438, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/550eccd4fdbe9da08db06d5d7a87b1eb?s=128&d=identicon&r=PG", "display_name": "Andrew Robie", "link": "https://stackoverflow.com/users/2334438/andrew-robie"}, "reply_to_user": {"reputation": 34704, "user_id": 1746118, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/a4a3P.png?s=128&g=1", "display_name": "Naman", "link": "https://stackoverflow.com/users/1746118/naman"}, "edited": false, "score": 0, "creation_date": 1541681291, "post_id": 53199445, "comment_id": 93304076, "body": "Edited example to use the actual syntax."}], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 2334438, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/550eccd4fdbe9da08db06d5d7a87b1eb?s=128&d=identicon&r=PG", "display_name": "Andrew Robie", "link": "https://stackoverflow.com/users/2334438/andrew-robie"}, "edited": false, "score": 0, "creation_date": 1541640426, "post_id": 53199856, "comment_id": 93289156, "body": "Basically duplication within someList. In an ideal world, I&#39;d just switch it to a set, but that&#39;s off the table so I figured converting a set to a list at the end was better than iterating over foo.someList every pass."}], "tags": [], "owner": {"reputation": 1215, "user_id": 3969789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ae5dbda0385c6dd51799115056de1a0?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/3969789/justin"}, "is_accepted": false, "score": 0, "last_activity_date": 1541636398, "creation_date": 1541636398, "answer_id": 53199856, "question_id": 53199445, "link": "https://stackoverflow.com/questions/53199445/switch-direction-of-association-between-objects/53199856#53199856", "title": "Switch direction of association between objects", "body": "<p>Why not create the foo objects in your nested loop like this?</p>\n\n<pre><code>Map&lt;String, foo&gt; myMap;\n\n for(foo f : arr1) {\n  for(String s : f.someList) {\n    foo myFoo= myMap.get(s);\n    if(mySet == null) {\n        myFoo= new foo(s, new ArrayList&lt;String&gt;);\n        myMap.put(s, myFoo);\n\n    } \n    myFoo.somelist.add(f.someString);\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1539, "user_id": 10610826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lhqqt.png?s=128&g=1", "display_name": "Mykhailo Moskura", "link": "https://stackoverflow.com/users/10610826/mykhailo-moskura"}, "is_accepted": false, "score": 0, "last_activity_date": 1541642720, "last_edit_date": 1541642720, "creation_date": 1541641917, "answer_id": 53200466, "question_id": 53199445, "link": "https://stackoverflow.com/questions/53199445/switch-direction-of-association-between-objects/53200466#53200466", "title": "Switch direction of association between objects", "body": "<p>Here is the sample on java 8 with Guava library:</p>\n\n<pre><code>private static Function&lt;Foo,Set&lt;Foo&gt;&gt; fooStream(final Map&lt;String,Foo&gt; map){\n        return foo -&gt; foo.getSomeList().stream()\n                .map(createNewFoo(foo.getSomeString(),map)).collect(Collectors.toSet());\n\n    }\n\n    private static Function&lt;String,Foo&gt; createNewFoo(final String someString,final Map&lt;String,Foo&gt; map){\n        return s-&gt;{\n            if(Objects.nonNull(map.get(s))){\n                map.get(s).getSomeList().add(someString);\n                return map.get(s);\n            }\n            return createNewFoo(s,someString,map);\n        };\n    }\n\n    private static Foo createNewFoo(final String someListValue , final String someString,final Map&lt;String,Foo&gt; map){\n        final Foo foo = new Foo(someListValue,Lists.newArrayList(someString));\n        map.put(someListValue,foo);\n        return foo;\n    }\n</code></pre>\n\n<p>And here how you can call it in main method :</p>\n\n<pre><code>final Map&lt;String, Foo&gt; myMap = Maps.newHashMap(); \nfinal Foo foo1 = new Foo(\"test1\",Arrays.asList(\"A\",\"B\")); \nfinal Foo foo2 = new Foo(\"test2\",Arrays.asList(\"B\",\"C\")); \nfinal List&lt;Foo&gt; foos = Arrays.asList(foo1,foo2); \nfinal Set&lt;Foo&gt; fooSet = foos.stream()\n.map(fooStream(myMap)) \n.flatMap(Set::stream).collect(Collectors.toSet());\n</code></pre>\n\n<p>Where Foo class is :</p>\n\n<pre><code>public class Foo {\n    private String someString;\n    private List&lt;String&gt; someList;\n\n    public Foo(String someString, List&lt;String&gt; someList) {\n        this.someString = someString;\n        this.someList = someList;\n    }\n//getters and setters\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 34704, "user_id": 1746118, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/a4a3P.png?s=128&g=1", "display_name": "Naman", "link": "https://stackoverflow.com/users/1746118/naman"}, "edited": false, "score": 1, "creation_date": 1541651545, "post_id": 53201396, "comment_id": 93291540, "body": "Just to add to clarify, then that <i>appropriate constructor</i> shall convert the <code>Set</code> of Strings into <code>List</code> as expected in the object to be."}, {"owner": {"reputation": 163, "user_id": 2334438, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/550eccd4fdbe9da08db06d5d7a87b1eb?s=128&d=identicon&r=PG", "display_name": "Andrew Robie", "link": "https://stackoverflow.com/users/2334438/andrew-robie"}, "edited": false, "score": 1, "creation_date": 1541682248, "post_id": 53201396, "comment_id": 93304558, "body": "This is great, thanks! This might be a dumb question. Is LinkedHashSet just to maintain order or is there some additional reason to use it?"}, {"owner": {"reputation": 30223, "user_id": 1876620, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/WyEns.jpg?s=128&g=1", "display_name": "fps", "link": "https://stackoverflow.com/users/1876620/fps"}, "reply_to_user": {"reputation": 163, "user_id": 2334438, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/550eccd4fdbe9da08db06d5d7a87b1eb?s=128&d=identicon&r=PG", "display_name": "Andrew Robie", "link": "https://stackoverflow.com/users/2334438/andrew-robie"}, "edited": false, "score": 1, "creation_date": 1541682683, "post_id": 53201396, "comment_id": 93304800, "body": "@AndrewRobie Just to maintain insertion order."}], "tags": [], "owner": {"reputation": 30223, "user_id": 1876620, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/WyEns.jpg?s=128&g=1", "display_name": "fps", "link": "https://stackoverflow.com/users/1876620/fps"}, "is_accepted": true, "score": 3, "last_activity_date": 1541651862, "last_edit_date": 1541651862, "creation_date": 1541649770, "answer_id": 53201396, "question_id": 53199445, "link": "https://stackoverflow.com/questions/53199445/switch-direction-of-association-between-objects/53201396#53201396", "title": "Switch direction of association between objects", "body": "<p>First flip your objects by using a map:</p>\n\n<pre><code>Map&lt;String, Set&lt;String&gt;&gt; map = new LinkedHashMap&lt;&gt;();\narr1.forEach(foo -&gt; \n        foo.someList.forEach(s -&gt; \n                map.computeIfAbsent(\n                    s, \n                    k -&gt; new LinkedHashSet&lt;&gt;())\n                .add(foo.someString)));\n</code></pre>\n\n<p>Then create the <code>foo</code> objects from the map:</p>\n\n<pre><code>List&lt;foo&gt; result = new ArrayList&lt;&gt;();\nmap.forEach((k, v) -&gt; list.add(new foo(k, new ArrayList&lt;&gt;(v))));\n</code></pre>\n\n<p>This assumes you have the appropriate constructor.</p>\n"}], "owner": {"reputation": 163, "user_id": 2334438, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/550eccd4fdbe9da08db06d5d7a87b1eb?s=128&d=identicon&r=PG", "display_name": "Andrew Robie", "link": "https://stackoverflow.com/users/2334438/andrew-robie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 2, "accepted_answer_id": 53201396, "answer_count": 3, "score": 5, "last_activity_date": 1541681270, "creation_date": 1541633276, "last_edit_date": 1541681270, "question_id": 53199445, "link": "https://stackoverflow.com/questions/53199445/switch-direction-of-association-between-objects", "title": "Switch direction of association between objects", "body": "<p>Say I have a class <code>foo</code>:</p>\n\n<pre><code>class foo {\n    String someString;\n    List&lt;String&gt; someList;\n}\n</code></pre>\n\n<p>If I have a list of <code>foo</code>'s, is there a way for me to create a new list/array/whatever of <code>foo</code>'s with essentially the <code>someString</code> and <code>someList</code> values remapped? For example:</p>\n\n<pre><code>arr1: [\n    foo {\n        someString: 'test1',\n        someList: ['a', 'b']\n    },\n    foo {\n        someString: 'test2',\n        someList: ['b', 'c']\n    }\n]\n</code></pre>\n\n<p>Would become</p>\n\n<pre><code>arr2: [\n    foo {\n        someString: 'a',\n        someList: ['test1']\n    },\n    foo {\n        someString: 'b',\n        someList: ['test1', 'test2']\n    },\n    foo {\n        someString: 'c',\n        someList: ['test2']\n    },\n]\n</code></pre>\n\n<p>Right now, I have a nested loop that iterates over each element of <code>someList</code> for each foo and compiles them into a map where the key is the <code>someList</code> value and the value is a set of the <code>someString</code> values that have come from foos where the <code>someList</code> value was present. Then do a map of the entry set to convert it to new foos with the key and value passed as constructor params.</p>\n\n<pre><code>Map&lt;String, Set&lt;String&gt;&gt; myMap;\n\nfor(foo f : arr1) {\n    for(String s : f.someList) {\n        Set&lt;String&gt; mySet = myMap.get(s);\n        if(mySet == null) {\n            myMap.put(s, new HashSet&lt;String&gt;(Arrays.asList(f.someString)));\n        } else {\n            mySet.add(f.someString);\n        }\n    }\n}\n\nList&lt;String&gt; myNewList = myMap.entrySet()\n                              .stream()\n                              .map(e -&gt; \n                                    new foo(e.key, new ArrayList&lt;String&gt;(e.value)))\n                              .collect(Collectors.toList());\n</code></pre>\n\n<p>It seems to work fine, but it's not the prettiest in the world, so I was wondering if there's another approach to doing this.</p>\n"}, {"tags": ["java", "spring-mvc", "spring-boot"], "comments": [{"owner": {"reputation": 7829, "user_id": 1479895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a8a81497dcd8075c18af030f61bf40e9?s=128&d=identicon&r=PG", "display_name": "Anton Belev", "link": "https://stackoverflow.com/users/1479895/anton-belev"}, "edited": false, "score": 0, "creation_date": 1541634535, "post_id": 53199417, "comment_id": 93287764, "body": "<a href=\"https://stackoverflow.com/questions/38777723/how-i-create-an-error-handler-404-500-in-spring-boot-mvc/38789106\" title=\"how i create an error handler 404 500 in spring boot mvc\">stackoverflow.com/questions/38777723/&hellip;</a> ?"}], "answers": [{"tags": [], "owner": {"reputation": 28727, "user_id": 9959152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSjIJ.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/9959152/deadpool"}, "is_accepted": true, "score": 2, "last_activity_date": 1541637389, "creation_date": 1541637389, "answer_id": 53199979, "question_id": 53199417, "link": "https://stackoverflow.com/questions/53199417/how-do-i-log-the-request-path-for-invalid-404-requests-in-spring-boot/53199979#53199979", "title": "How do I log the request path for invalid 404 requests in Spring Boot?", "body": "<p>you can get actual uri by using <code>Request Dispatcher</code> <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/RequestDispatcher.html#FORWARD_REQUEST_URI\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>request.getAttribute(RequestDispatcher.FORWARD_REQUEST_URI);\n</code></pre>\n"}], "owner": {"reputation": 20989, "user_id": 148844, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/263aa1ae12d9757f78167b80e596c3df?s=128&d=identicon&r=PG", "display_name": "Chloe", "link": "https://stackoverflow.com/users/148844/chloe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 53199979, "answer_count": 1, "score": 1, "last_activity_date": 1541637389, "creation_date": 1541633046, "question_id": 53199417, "link": "https://stackoverflow.com/questions/53199417/how-do-i-log-the-request-path-for-invalid-404-requests-in-spring-boot", "title": "How do I log the request path for invalid 404 requests in Spring Boot?", "body": "<p>I tried the following to log the request path but they are not giving the correct values. The request is not being redirected either.</p>\n\n<pre><code>@Controller\n@ApiIgnore\npublic class AppController implements ErrorController{\n\n  @RequestMapping(\"/error\")\n  public void invalidRequest(HttpServletRequest request, HttpServletResponse response){\n\n    CustomLogger.error(TAG, \"invalidRequest()\", \"invalid request: \" + request.getHeader(\"path\"));\n    CustomLogger.error(TAG, \"invalidRequest()\", \"invalid request: \" + request.getPathInfo());\n    CustomLogger.error(TAG, \"invalidRequest()\", \"invalid request: \" + request.getPathTranslated());\n    CustomLogger.error(TAG, \"invalidRequest()\", \"invalid request: \" + request.getContextPath());\n    CustomLogger.error(TAG, \"invalidRequest()\", \"invalid request: \" + request.getServletPath());\n    ...\n  }\n\n  @Override\n  public String getErrorPath() {\n    return \"/error\";\n  }\n</code></pre>\n\n<p>When I make the request, I get</p>\n\n<pre><code>$ curl -i localhost:8080/static/img/notthere.png\nHTTP/1.1 200\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 1; mode=block\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nX-Frame-Options: DENY\nContent-Length: 27\nDate: Wed, 07 Nov 2018 23:13:30 GMT\n\nThis is not a valid request\n</code></pre>\n\n<p>And this is what's printed in the logs:</p>\n\n<pre><code>2018-11-07 18:13:30.967 ERROR 14432 --- [nio-8080-exec-1] c.s.s.apis.AppController  : invalid request: null\n2018-11-07 18:13:30.968 ERROR 14432 --- [nio-8080-exec-1] c.s.s.apis.AppController  : invalid request: null\n2018-11-07 18:13:30.968 ERROR 14432 --- [nio-8080-exec-1] c.s.s.apis.AppController  : invalid request: null\n2018-11-07 18:13:30.969 ERROR 14432 --- [nio-8080-exec-1] c.s.s.apis.AppController  : invalid request:\n2018-11-07 18:13:30.969 ERROR 14432 --- [nio-8080-exec-1] c.s.s.apis.AppController  : invalid request: /error\n</code></pre>\n"}, {"tags": ["java", "spring-data-jpa", "spring-data", "spring-data-rest"], "owner": {"reputation": 1600, "user_id": 2353080, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/vXN8Q.png?s=128&g=1", "display_name": "Michal", "link": "https://stackoverflow.com/users/2353080/michal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541739148, "creation_date": 1541633023, "last_edit_date": 1541739148, "question_id": 53199412, "link": "https://stackoverflow.com/questions/53199412/why-spring-data-rest-maintains-arbitrary-order-of-inherited-entities", "title": "Why spring data rest maintains arbitrary order of inherited entities", "body": "<p>I am facing a challenge with spring data rest where sorting only applies to instances within entity implementations, not across whole result set.</p>\n\n<p><strong>Entities:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Inheritance(strategy=InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = \"Entity_Type\")\npublic abstract class BaseEntity implements Identifiable&lt;Long&gt; {\n    public Long getId();\n\n    @ManyToOne\n    RelatedEntity related;\n}\n\n@Entity\n@DiscriminatorValue(\"Entity1\")\npublic class Entity1 extends BaseEntity { }\n\n@Entity\n@DiscriminatorValue(\"Entity2\")\npublic class Entity2 extends BaseEntity { }\n</code></pre>\n\n<p><strong>Repositories:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@NoRepositoryBean\npublic interface AbstractEntityRepository&lt;T extends BaseEntity&gt; extends PagingAndSortingRepository&lt;T, Long&gt; {\n   List&lt;T&gt; findByRelatedEntityId(@Param(\"id\") Long id, Sort sort);\n}\n\n@RepositoryRestResource\npublic interface BaseEntityRepository extends AbstractEntityRepository&lt;BaseEntity&gt; { }\n\n+ repository for each \"T extends BaseEntity\"\n</code></pre>\n\n<p><strong>Now the problem:</strong></p>\n\n<p>search method <code>baseEntityRepository/search/findByRelatedEntity?id=...</code> <strong>with</strong> specified <code>&amp;sort=id,asc</code> or <code>&amp;sort=id,desc</code> correctly orders the entities within the entity \"groups\" but the order of the entity \"groups\" is presented in arbitrary fashion. The arbitrary order seems to be different for <code>findAll</code> but it's difficult to confirm without knowing what exactly is going on. Example output:</p>\n\n<p><strong>Examples:</strong></p>\n\n<p>sort=id,asc</p>\n\n<pre><code>{\n    \"_embedded\": {\n        \"entity1s\": [ \"id\": 1... ],\n        \"entity2s\": [ \"id\": 3... ],\n        \"entity3s\": [ \"id\": 2,10,20,... ],   &lt;--- illustrates order is correct within group\n        \"entity4s\": [ \"id\": 4... ]\n   }\n}\n</code></pre>\n\n<p>sort=id,desc</p>\n\n<pre><code>{\n    \"_embedded\": {\n        \"entity4s\": [ \"id\": 4... ],\n        \"entity1s\": [ \"id\": 1... ],\n        \"entity3s\": [ \"id\": 20,10,2... ],  &lt;--- illustrates order is correct within group\n        \"entity2s\": [ \"id\": 3] \n   }\n}\n</code></pre>\n\n<p><strong>Questions:</strong></p>\n\n<p>1 - How are the \"groups\" called in spring data rest?</p>\n\n<p>2 - What is the cause of the arbitrary order? Why doesn't <code>entity3s</code> (lowest ID = 2) come before <code>entity2s</code> (lowest ID = 3) in the first example?</p>\n\n<p>3 - Can I get entities sorted purely by ID, even if it mixed up the entities?</p>\n\n<p>4 - For <code>findAll</code>, why is the result different for paginated output (first 20 records) and full output? (<code>&amp;size=1000</code>)</p>\n"}, {"tags": ["java", "sql", "postgresql", "hibernate", "spring-data-jpa"], "comments": [{"owner": {"reputation": 1257, "user_id": 3876382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R2ODc.jpg?s=128&g=1", "display_name": "michaeak", "link": "https://stackoverflow.com/users/3876382/michaeak"}, "edited": false, "score": 0, "creation_date": 1541634421, "post_id": 53199407, "comment_id": 93287736, "body": "Why would you want to keep incorrect data, even though it is original data?"}, {"owner": {"reputation": 1520, "user_id": 267932, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0bf034022f33f1932c7affefe2e00d8f?s=128&d=identicon&r=PG", "display_name": "kozyr", "link": "https://stackoverflow.com/users/267932/kozyr"}, "reply_to_user": {"reputation": 1257, "user_id": 3876382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R2ODc.jpg?s=128&g=1", "display_name": "michaeak", "link": "https://stackoverflow.com/users/3876382/michaeak"}, "edited": false, "score": 1, "creation_date": 1541638490, "post_id": 53199407, "comment_id": 93288691, "body": "What if I make an incorrect change to otherwise correct data? In that case, I won&#39;t be able to know I&#39;ve changed a specific field, nor would I know what the original value was."}, {"owner": {"reputation": 1520, "user_id": 267932, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0bf034022f33f1932c7affefe2e00d8f?s=128&d=identicon&r=PG", "display_name": "kozyr", "link": "https://stackoverflow.com/users/267932/kozyr"}, "reply_to_user": {"reputation": 1257, "user_id": 3876382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R2ODc.jpg?s=128&g=1", "display_name": "michaeak", "link": "https://stackoverflow.com/users/3876382/michaeak"}, "edited": false, "score": 1, "creation_date": 1541638846, "post_id": 53199407, "comment_id": 93288778, "body": "Another reason for keeping the original is to compare it to the new data coming from this source - if both original sourced and newly sourced data are the same, and there was an edit to the original data, I can safely keep the edit, otherwise some manual reconciliation would be required."}], "answers": [{"comments": [{"owner": {"reputation": 1520, "user_id": 267932, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0bf034022f33f1932c7affefe2e00d8f?s=128&d=identicon&r=PG", "display_name": "kozyr", "link": "https://stackoverflow.com/users/267932/kozyr"}, "edited": false, "score": 0, "creation_date": 1541804389, "post_id": 53201784, "comment_id": 93355370, "body": "Hibernate Envers looks like a way to go for us, thanks!"}], "tags": [], "owner": {"reputation": 64961, "user_id": 66686, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5c09f46f4edab31c43465b9f36638678?s=128&d=identicon&r=PG", "display_name": "Jens Schauder", "link": "https://stackoverflow.com/users/66686/jens-schauder"}, "is_accepted": false, "score": 2, "last_activity_date": 1541653073, "creation_date": 1541653073, "answer_id": 53201784, "question_id": 53199407, "link": "https://stackoverflow.com/questions/53199407/table-data-overrides/53201784#53201784", "title": "Table data overrides", "body": "<p>As so often there are various options:</p>\n\n<ol>\n<li><p>Use Hibernate Envers. It will keep a complete history of changes, so if you do multiple changes each will result in a row in the auditing tables. These tables are separate from your main data tables which might be a pro or a con, depending on your requirements.</p></li>\n<li><p>Use the approach that you described: Write the original dataset, copy it before modifying it. You'll need two additional attributes:</p>\n\n<p>A flag marking the original and a technical id do have a unique primary key. </p></li>\n<li><p>Just as the second version, but you could actually do that in a trigger in the database. Which probably is faster, works no matter how the data gets inserted and to copy rows in the database is actually really easy, while it feels rather cumbersome in Java. Of course, writing triggers is considered a PITA in itself by many Java developers. If your application doesn't usually use triggers and stored procedures it is also really easy to forget about the trigger and being rather confused where these additional rows come from.</p></li>\n</ol>\n"}], "owner": {"reputation": 1520, "user_id": 267932, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0bf034022f33f1932c7affefe2e00d8f?s=128&d=identicon&r=PG", "display_name": "kozyr", "link": "https://stackoverflow.com/users/267932/kozyr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1541653073, "creation_date": 1541632975, "last_edit_date": 1541638618, "question_id": 53199407, "link": "https://stackoverflow.com/questions/53199407/table-data-overrides", "title": "Table data overrides", "body": "<p>I'm currently sourcing some static data from a third party. It's a simple one-to-many, like this</p>\n\n<pre><code>garage:\n    id\n    name\n    desc\n    location\ngarage_price:\n    id\n    garage_id\n    price_type\n    price\n</code></pre>\n\n<p>Sometimes, the data is incorrect, and I will need to correct it. At the same time, I'd like to preserve the original sourced data somewhere and potentially run some queries to show the changes. </p>\n\n<p>My question is whether someone is doing something like this with SQL, Java and Hibernate, and what's the approach you've taken, or would take. </p>\n\n<p>I could add a boolean column, \"original_data\", to both tables, and before an update happens, run a trigger to copy the row from garage or garage_price into an \"original_garage\" or \"original_price\" table as long as original_data is true. Then set original_data to false, and all further updates will just happen on the garage/garage_price tables. </p>\n\n<p>Anything wrong with that approach, and how do people typically work with multiple tables with the same data in Hibernate/JPA? Previously, I'd create a class that holds all the data, and subclass it twice, once per each table, while setting </p>\n\n<blockquote>\n  <p>@Inheritance(strategy=InheritanceType.TABLE_PER_CLASS)</p>\n</blockquote>\n\n<p>on the parent.  </p>\n"}, {"tags": ["java", "big-o"], "comments": [{"owner": {"reputation": 1257, "user_id": 3876382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R2ODc.jpg?s=128&g=1", "display_name": "michaeak", "link": "https://stackoverflow.com/users/3876382/michaeak"}, "edited": false, "score": 1, "creation_date": 1541633946, "post_id": 53199386, "comment_id": 93287615, "body": "I recommend to not have \u02cbLinkedList\u02cb as type of argument, rather use \u02cbList\u02cb. In this way you can also use an \u02cbArrayList\u02cb and the runtime is lower. For this problem it would also reduce complexity if you put the initial list to an \u02cbArrayList\u02cb"}, {"owner": {"reputation": 941, "user_id": 1653268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d2da45dc061eaae0a3250bf6282578ee?s=128&d=identicon&r=PG", "display_name": "Dominik Kunicki", "link": "https://stackoverflow.com/users/1653268/dominik-kunicki"}, "edited": false, "score": 1, "creation_date": 1541634387, "post_id": 53199386, "comment_id": 93287729, "body": "You can do the same with O(N^2) complexity by using iterators: for (int tgt :list) {  //O(N) loop"}], "answers": [{"tags": [], "owner": {"reputation": 3193, "user_id": 10400050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5aecb8122434c05b6b545176abef5b?s=128&d=identicon&r=PG&f=1", "display_name": "Johan", "link": "https://stackoverflow.com/users/10400050/johan"}, "is_accepted": true, "score": 3, "last_activity_date": 1541939664, "last_edit_date": 1541939664, "creation_date": 1541633214, "answer_id": 53199439, "question_id": 53199386, "link": "https://stackoverflow.com/questions/53199386/why-is-this-on3-and-not-on4/53199439#53199439", "title": "Why is this O(N^3) and not O(N^4)?", "body": "<p>The if statements has nothing to do with the time complexity - the operation of an if-statement has time complexity <code>O(1)</code>, but the work in an if-statement can have a greater time complexity.</p>\n\n<p>It's because <code>list.get(i)</code> is of <code>O(n)</code>. To get the n:th element of a LinkedList you need to step n times in the list to find it. This is because a LinkedList doesn't save its indexes, only the first and last element in the list, and then its direct neighbours.</p>\n\n<p>This is the time complexity for each of your functions:</p>\n\n<pre><code>public static int g(LinkedList&lt;Integer&gt; list) {\n    int t = 0;\n\n    for (int i = 0; i &lt; list.size(); i++) {           // O(n) - loop\n        int tgt = list.get(i);                        // O(n)\n\n        for (int j = i + 1; j &lt; list.size(); j++) {   // O(n) - loop\n            if (list.get(j) == tgt)                   // O(n)\n                t += list.get(j);                     // O(n)\n        }\n    }\n\n    return t;\n}\n</code></pre>\n\n<p>Since you're only iterating over 2 loops, it will initially make the time complexity <code>O(n^2)</code>. The 3 calls of <code>list.get(i)</code> will make each make a time complexity of <code>O(n)</code>, thus resulting in <code>3*O(n)</code>. This is however defaulted to <code>O(n)</code>, and making the final time complexity to <code>O(n) * O(n) * 3*O(n) =&gt; O(n^3)</code></p>\n\n<h3>Extra</h3>\n\n<p><strong>On an unrelated note</strong>: You see that when you call <code>list.get(j)</code> twice, in the innermost loop, you will cause the program to iterate over the list twice, even though you just got the value.</p>\n\n<pre><code>if (list.get(j) == tgt)\n    t += list.get(j);\n</code></pre>\n\n<p>Chances are that the processor or compiler will optimize this and save the value in the cache, but it's still a good idea to call <code>list.get(j)</code> once and store its value.</p>\n"}, {"tags": [], "owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "is_accepted": false, "score": 2, "last_activity_date": 1541633300, "creation_date": 1541633300, "answer_id": 53199452, "question_id": 53199386, "link": "https://stackoverflow.com/questions/53199386/why-is-this-on3-and-not-on4/53199452#53199452", "title": "Why is this O(N^3) and not O(N^4)?", "body": "<p>If statements are not loops.</p>\n\n<p>Each get may take O(n), but the statements in its body are executed after the condition. So the if statement takes O(n)+O(n) (for the two gets), which is O(n).</p>\n\n<p>That is nested inside two nested loops over a list of size n, so overall it is O(n^3).</p>\n"}], "owner": {"reputation": 23, "user_id": 10621067, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-M6WSMDOBtB4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVnH3676QpAeWOERXcrO6M8Z2db_A/mo/photo.jpg?sz=128", "display_name": "Nabil Zubair", "link": "https://stackoverflow.com/users/10621067/nabil-zubair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 53199439, "answer_count": 2, "score": 2, "last_activity_date": 1541939664, "creation_date": 1541632856, "last_edit_date": 1541633078, "question_id": 53199386, "link": "https://stackoverflow.com/questions/53199386/why-is-this-on3-and-not-on4", "title": "Why is this O(N^3) and not O(N^4)?", "body": "<pre><code>public static int g(LinkedList&lt;Integer&gt; list) {\n    int t = 0;\n\n    for (int i = 0; i &lt; list.size(); i++) {\n        int tgt = list.get(i);\n\n        for (int j = i + 1; j &lt; list.size(); j++) {\n            if (list.get(j) == tgt) \n                t += list.get(j);\n        }\n    }\n\n    return t;\n}\n</code></pre>\n\n<p>Shouldn't the if statement make the complexity O(N^4)?</p>\n"}, {"tags": ["java", "hadoop", "hbase", "apache-zookeeper"], "owner": {"reputation": 973, "user_id": 1810431, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d0d7e682c9537bc66960e049cb8f2e28?s=128&d=identicon&r=PG", "display_name": "Giorgio", "link": "https://stackoverflow.com/users/1810431/giorgio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541632613, "creation_date": 1541632613, "question_id": 53199352, "link": "https://stackoverflow.com/questions/53199352/get-all-regions-of-hbase-avoiding-zookeeper-client-reconnection", "title": "Get all Regions of HBase avoiding Zookeeper client reconnection", "body": "<p>for project requirement I need to extract HBase metadata for all regions.\nPrecisely for each region I need this fields:</p>\n\n<ul>\n<li>Schema name</li>\n<li>Table name</li>\n<li>Encode name</li>\n<li>Start key</li>\n<li>End key</li>\n</ul>\n\n<p>So I came up with this solution:</p>\n\n<pre><code>List&lt;HTableDescriptor&gt; hTableDescriptors = Arrays.asList(admin.listTables());\n        for (HTableDescriptor hTableDescriptor : hTableDescriptors) {\n            TableName name = hTableDescriptor.getTableName();\n            List&lt;HRegionInfo&gt; tableRegions = admin.getTableRegions(name);\n            LOG.info(\"Found {} regions\",tableRegions.size());\n            for (HRegionInfo region : tableRegions) {\n                RegionDetailInfo detailInfo = new RegionDetailInfo();\n                detailInfo.setSchemaName(name.getNamespaceAsString());\n                detailInfo.setTableName(name.getNameAsString());\n                detailInfo.setEncodeName(region.getEncodedName());\n            detailInfo.setStartKey(Bytes.toString(region.getStartKey()));\n                    detailInfo.setEndKey(Bytes.toString(region.getEndKey()));\n/* other stuff */\n                }\n            }\n</code></pre>\n\n<p>The problem here is that the statement: <code>admin.getTableRegions(name);</code>\nneed to establish a zookeeper connection for every table.\nSo reading metadata is very very slow.</p>\n\n<p>Is there any other way to accomplish the same task?</p>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 14453, "user_id": 2345933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/b2BbE.jpg?s=128&g=1", "display_name": "Adam Siemion", "link": "https://stackoverflow.com/users/2345933/adam-siemion"}, "edited": false, "score": 0, "creation_date": 1541632233, "post_id": 53199254, "comment_id": 93287140, "body": "Is there a way to define multiple methods with the same name and different return types? <b>No</b>."}, {"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1541632294, "post_id": 53199254, "comment_id": 93287162, "body": "As you seem to have discovered, it would be near impossible to create a &quot;generalised&quot; interface which could possible cover all the possible combinations you might ever need.  You could uses a &quot;generic&quot; approach, where the properties for the operation come from a different, &quot;generic&quot; source, but that runs the risk of it not having available information (you&#39;d run into the same issue using a <code>Map</code>).  You could change tact and define the <code>CRUD</code> so that it passes in some kind of &quot;configuration&quot; object to which the implementation must provide information to...as an idea"}, {"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1541632937, "post_id": 53199254, "comment_id": 93287359, "body": "You could turn the concept on it&#39;s head and define one or interfaces which describe the operations, ie <code>insertable</code>, <code>deletable</code>, <code>updatable</code>, to which your objects would then implement these.  Each <code>interface</code> would describe a zero parameter method, such as <code>insert()</code>, which the object would need to implement, in it&#39; own unique way and you could then pass onto your &quot;persistence&quot; layer, which would just call the appropriate method..."}, {"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1541633501, "post_id": 53199254, "comment_id": 93287479, "body": "My &quot;personal&quot; desire would be getting to a point where you could just go <code>instanceOfUser.insert()</code>, but this would likely require some kind of factory which could generate the implementations.  Another choice would be to pass the &quot;persistence API&quot; into the method, for example - <code>instanceOfUser.insert(persistenceEngine)</code> which could then configured in some abstract way to store the properties of the object"}, {"owner": {"reputation": 3250, "user_id": 4378853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XjxSP.png?s=128&g=1", "display_name": "GotoFinal", "link": "https://stackoverflow.com/users/4378853/gotofinal"}, "edited": false, "score": 0, "creation_date": 1541634365, "post_id": 53199254, "comment_id": 93287721, "body": "but what is a point of this interface then? as you can&#39;t really use it anymore as normal interface as it would be impossible to call &quot;create&quot; method on some generic &quot;crud&quot; instance as you don&#39;t know that parameter types. Maybe you want something jak spring repositories? interfaces with methods that are scanned via reflections to implement them"}], "answers": [{"tags": [], "owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "is_accepted": false, "score": 2, "last_activity_date": 1541632288, "creation_date": 1541632288, "answer_id": 53199298, "question_id": 53199254, "link": "https://stackoverflow.com/questions/53199254/java-interface-to-only-define-method-names-ie-variable-argument/53199298#53199298", "title": "Java interface to only define method names (ie variable argument)", "body": "<p>Type the interface:</p>\n\n<pre><code>interface CRUD&lt;T&gt; {\n    int create(T arg);\n}\n</code></pre>\n\n<p>where T may be <code>List&lt;String&gt;</code> or <code>String[]</code> or a value object.</p>\n\n<p>Or, to change the <em>number</em> of arguments, if they are the same type:</p>\n\n<pre><code>interface CRUD {\n    int create(String... args);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1001, "user_id": 954602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88b7173692dc35314894fb8af0adf937?s=128&d=identicon&r=PG", "display_name": "Selim Ok", "link": "https://stackoverflow.com/users/954602/selim-ok"}, "is_accepted": false, "score": 0, "last_activity_date": 1541632420, "creation_date": 1541632420, "answer_id": 53199325, "question_id": 53199254, "link": "https://stackoverflow.com/questions/53199254/java-interface-to-only-define-method-names-ie-variable-argument/53199325#53199325", "title": "Java interface to only define method names (ie variable argument)", "body": "<p>No, the only hacky way to do it with some limitation is to define method signature as follows</p>\n\n<p>int create(String... parameters);</p>\n\n<p>In that way you can only provide String parameters, all implementing classes should parse given input array in a predefined way. </p>\n\n<p>In the end, it's a bad idea!</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10386912"}, "is_accepted": true, "score": 2, "last_activity_date": 1541634133, "creation_date": 1541634133, "answer_id": 53199569, "question_id": 53199254, "link": "https://stackoverflow.com/questions/53199254/java-interface-to-only-define-method-names-ie-variable-argument/53199569#53199569", "title": "Java interface to only define method names (ie variable argument)", "body": "<p>A flavour of @Bohemian's solution would be to have a generic interface and objects encapsulating the methods parameters</p>\n\n<pre><code>class UserParam {\n    String fristName;\n    String lastName;\n}\n\nclass CountryParam {\n    String name;\n}\n\ninterface CRUD&lt;T&gt; {\n    int create(T param);\n}\n\nclass User implements CRUD&lt;UserParam&gt; {\n    int create(UserParam param) {\n        // do something based on received param of type UserParam\n    }\n}\n\nclass Country implements CRUD&lt;CountryParam&gt; {\n    int create(CountryParam param) {\n        // do something based on received param of type CountryParam\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21939, "user_id": 834045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vpxna.jpg?s=128&g=1", "display_name": "Kousha", "link": "https://stackoverflow.com/users/834045/kousha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 53199569, "answer_count": 3, "score": 0, "last_activity_date": 1541634133, "creation_date": 1541632016, "question_id": 53199254, "link": "https://stackoverflow.com/questions/53199254/java-interface-to-only-define-method-names-ie-variable-argument", "title": "Java interface to only define method names (ie variable argument)", "body": "<p>Let's say I want to create some CRUD resources. Each will have <code>create</code>, <code>update</code>, <code>delete</code>, <code>fetch</code>, and <code>list</code> method. The return type for all of these would be identical, but the argument to these things will be different. </p>\n\n<p>Is there a way that I can create an interface that defines the return type and the method name, but allows for variable argument? </p>\n\n<p>For example,</p>\n\n<pre><code>class User implements CRUD {\n    int create(final String first_name, final String last_name);\n}\n\nclass Country implements CRUD {\n    int create(final String name);\n}\n</code></pre>\n\n<p>Both have a <code>create</code> method that returns <code>int</code>, but each has a different argument.</p>\n"}, {"tags": ["javascript", "java", "maven", "sonarqube"], "comments": [{"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1541632025, "post_id": 53199234, "comment_id": 93287051, "body": "Doesn&#39;t it tell you <i>why</i> it failed?"}, {"owner": {"reputation": 1156, "user_id": 1811426, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/H0DRL.jpg?s=128&g=1", "display_name": "Upen", "link": "https://stackoverflow.com/users/1811426/upen"}, "reply_to_user": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1541632209, "post_id": 53199234, "comment_id": 93287128, "body": "@Andreas I have a quality gate which is set for minimum 60% code coverage. This should only be run if java code is available. In this case, even without any java code, the quality gate fails."}, {"owner": {"reputation": 343, "user_id": 5107365, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Wwhr5T5n8w0/AAAAAAAAAAI/AAAAAAAAD40/l6LxDUV7lIQ/photo.jpg?sz=128", "display_name": "Raj", "link": "https://stackoverflow.com/users/5107365/raj"}, "edited": false, "score": 0, "creation_date": 1541633312, "post_id": 53199234, "comment_id": 93287450, "body": "could this be due to this bug reported <a href=\"https://jira.sonarsource.com/browse/SONAR-9384\" rel=\"nofollow noreferrer\">jira.sonarsource.com/browse/SONAR-9384</a>? Fix release version marked on it is 7.2"}, {"owner": {"reputation": 1156, "user_id": 1811426, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/H0DRL.jpg?s=128&g=1", "display_name": "Upen", "link": "https://stackoverflow.com/users/1811426/upen"}, "reply_to_user": {"reputation": 343, "user_id": 5107365, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Wwhr5T5n8w0/AAAAAAAAAAI/AAAAAAAAD40/l6LxDUV7lIQ/photo.jpg?sz=128", "display_name": "Raj", "link": "https://stackoverflow.com/users/5107365/raj"}, "edited": false, "score": 0, "creation_date": 1541642210, "post_id": 53199234, "comment_id": 93289593, "body": "@Raj this is a different issue."}], "answers": [{"tags": [], "owner": {"reputation": 1156, "user_id": 1811426, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/H0DRL.jpg?s=128&g=1", "display_name": "Upen", "link": "https://stackoverflow.com/users/1811426/upen"}, "is_accepted": true, "score": 1, "last_activity_date": 1541717075, "creation_date": 1541717075, "answer_id": 53217266, "question_id": 53199234, "link": "https://stackoverflow.com/questions/53199234/sonarqube-6-7-5-calculating-code-coverage-even-when-the-project-does-not-have-sr/53217266#53217266", "title": "Sonarqube 6.7.5 Calculating Code Coverage even when the project does not have src/main/java folder", "body": "<p>Worked around this issue using the </p>\n\n<pre><code>sonar.coverage.exclusions=**/*.js\n</code></pre>\n\n<p>Now the analysis scope has been reduced to avoid .js files from coverage report. </p>\n"}], "owner": {"reputation": 1156, "user_id": 1811426, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/H0DRL.jpg?s=128&g=1", "display_name": "Upen", "link": "https://stackoverflow.com/users/1811426/upen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 53217266, "answer_count": 1, "score": 0, "last_activity_date": 1541717075, "creation_date": 1541631820, "last_edit_date": 1541632282, "question_id": 53199234, "link": "https://stackoverflow.com/questions/53199234/sonarqube-6-7-5-calculating-code-coverage-even-when-the-project-does-not-have-sr", "title": "Sonarqube 6.7.5 Calculating Code Coverage even when the project does not have src/main/java folder", "body": "<p>When I run an analysis on a UI project with only JS code in it, and no src/main/java folder, the quality gate for code coverage fails. Before on 5.6.6, it was working fine. After upgrade to 6.7.5, I started seeing this issue.</p>\n\n<p>I use Jenkins Sonar for running analysis using maven. </p>\n\n<pre><code>[ERROR] Coverage: 0.0 &lt; 60\n[ERROR] Critical Issues: 277 &gt; 0\n[ERROR] Blocker Issues: 38 &gt; 0\n[ERROR] [BUILD BREAKER] Project did not meet 3 conditions\n</code></pre>\n"}, {"tags": ["javascript", "java", "selenium", "events", "onchange"], "answers": [{"comments": [{"owner": {"reputation": 134, "user_id": 2419789, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jQVke.jpg?s=128&g=1", "display_name": "CamelCamelius", "link": "https://stackoverflow.com/users/2419789/camelcamelius"}, "edited": false, "score": 0, "creation_date": 1541694108, "post_id": 53199630, "comment_id": 93311694, "body": "Thanks. Just a side note, I am working with input fields instead of buttons. I would use <code>ExpectedConditions.elementToBeClickable</code> but I get an exception so I just check <code>ExpectedConditions.visibilityOf</code>. The issue is that the <code>onchange</code> events on fields seem to be clearing other fields if they haven&#39;t been validated so I wanted to see a way to determine when the event finishes"}, {"owner": {"reputation": 26, "user_id": 10620774, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-58otpING53g/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAo-1vnBTYiZxtP3GSjvhhyTQ5mPg/mo/photo.jpg?sz=128", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/10620774/mateusz"}, "reply_to_user": {"reputation": 134, "user_id": 2419789, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jQVke.jpg?s=128&g=1", "display_name": "CamelCamelius", "link": "https://stackoverflow.com/users/2419789/camelcamelius"}, "edited": false, "score": 0, "creation_date": 1541696501, "post_id": 53199630, "comment_id": 93313039, "body": "That was just an idea, maybe I could give a better solution, but I&#39;m still unclear about what You&#39;re trying to achieve. If the idea is to see if the fields are empty you could write some custom ExpectedCondition to wait for that specific situation."}, {"owner": {"reputation": 134, "user_id": 2419789, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jQVke.jpg?s=128&g=1", "display_name": "CamelCamelius", "link": "https://stackoverflow.com/users/2419789/camelcamelius"}, "edited": false, "score": 0, "creation_date": 1541706064, "post_id": 53199630, "comment_id": 93317530, "body": "Got it. Fields are empty and I setup a value. After that it runs some JavaScript. If I populate the next related field immediately, it loses it&#39;s content but if I give some time so the JavaScript finishes whatever it is doing, I can update the next related field without issues. Also they look the same before and after the <code>onchange</code> event...it&#39;s just the background processing what&#39;s giving issues and wanted to check if there was a way to do it without hardcoding a sleep time. Thanks"}, {"owner": {"reputation": 26, "user_id": 10620774, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-58otpING53g/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAo-1vnBTYiZxtP3GSjvhhyTQ5mPg/mo/photo.jpg?sz=128", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/10620774/mateusz"}, "reply_to_user": {"reputation": 134, "user_id": 2419789, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jQVke.jpg?s=128&g=1", "display_name": "CamelCamelius", "link": "https://stackoverflow.com/users/2419789/camelcamelius"}, "edited": false, "score": 0, "creation_date": 1541708358, "post_id": 53199630, "comment_id": 93318674, "body": "Ok, I think I understand now. You have a set of connected input fields, that if you change one, the asynchronous task prohibits you from changing the next one, however, it does not change its original value (the next one)."}, {"owner": {"reputation": 26, "user_id": 10620774, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-58otpING53g/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAo-1vnBTYiZxtP3GSjvhhyTQ5mPg/mo/photo.jpg?sz=128", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/10620774/mateusz"}, "reply_to_user": {"reputation": 134, "user_id": 2419789, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jQVke.jpg?s=128&g=1", "display_name": "CamelCamelius", "link": "https://stackoverflow.com/users/2419789/camelcamelius"}, "edited": false, "score": 0, "creation_date": 1541709001, "post_id": 53199630, "comment_id": 93318980, "body": "I also must ask are there any visible indications for the user of such process taking place in the background?"}, {"owner": {"reputation": 134, "user_id": 2419789, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jQVke.jpg?s=128&g=1", "display_name": "CamelCamelius", "link": "https://stackoverflow.com/users/2419789/camelcamelius"}, "edited": false, "score": 0, "creation_date": 1541714429, "post_id": 53199630, "comment_id": 93321258, "body": "<b>First comment&#39;s answer:</b> I would say the asynchronous task modifies the other fields instead of prohibiting you to change them because if you do it manually very fast you see the value disappear. I think it might be storing them. <b>Second comment&#39;s answer:</b> I don&#39;t see any visible indication for the processing"}, {"owner": {"reputation": 26, "user_id": 10620774, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-58otpING53g/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAo-1vnBTYiZxtP3GSjvhhyTQ5mPg/mo/photo.jpg?sz=128", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/10620774/mateusz"}, "reply_to_user": {"reputation": 134, "user_id": 2419789, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jQVke.jpg?s=128&g=1", "display_name": "CamelCamelius", "link": "https://stackoverflow.com/users/2419789/camelcamelius"}, "edited": false, "score": 0, "creation_date": 1541768525, "post_id": 53199630, "comment_id": 93339151, "body": "I am assuming that you don&#39;t have influence over the javaScript code, but the situation you are describing seems like a case of bad UI, so it would seem like a good idea to report it. I would also like You to try manually to do the following: (1) set dummy data on the second field. (2) set desired data on the first one (3) after few second see if the first value is set, and the second is reset or default. If that would be the case I may be able to help You with some workaround."}, {"owner": {"reputation": 134, "user_id": 2419789, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jQVke.jpg?s=128&g=1", "display_name": "CamelCamelius", "link": "https://stackoverflow.com/users/2419789/camelcamelius"}, "edited": false, "score": 0, "creation_date": 1541835350, "post_id": 53199630, "comment_id": 93360058, "body": "Correct, I don&#39;t have influence in the JS. I tried manually setting the Second field first and the same thing happened. If I do it fast the value disappears but if I do it fast the value persists...after moving the code I got something different...I am editing question to add findings...also after some debugging I included your code in the original question because it works like a charm :)"}], "tags": [], "owner": {"reputation": 26, "user_id": 10620774, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-58otpING53g/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAo-1vnBTYiZxtP3GSjvhhyTQ5mPg/mo/photo.jpg?sz=128", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/10620774/mateusz"}, "is_accepted": false, "score": 0, "last_activity_date": 1541898865, "last_edit_date": 1541898865, "creation_date": 1541634548, "answer_id": 53199630, "question_id": 53199159, "link": "https://stackoverflow.com/questions/53199159/java-wait-for-javascript-event-e-g-onchange-to-complete-using-selenium/53199630#53199630", "title": "Java - Wait for JavaScript event (e.g. onchange) to complete using Selenium", "body": "<p>To my best of knowledge, you can't wait for an asynchronous event using Selenium Web Driver. You may, however, be able to wait for effects of that event using WebDriverWait class. If events You mentioned, make some changes in the DOM, you can detect those changes by using selected ExpectedConditions.</p>\n\n<pre><code>   Wait&lt;WebDriver&gt; wait = new WebDriverWait(driver, 15, 500);\n\n   // here you make some change to the input\n\n   wait.until(ExpectedConditions.elementToBeClickable(By.xpath(\"//input\")));\n</code></pre>\n\n<p>This simple example would wait until a button is active.\nIf the expected conditions are not met in the next 15s exception will be thrown.</p>\n\n<p>In case, that provided set of ExpectedConditions is insufficient you can always create your own by implementing ExpectedCondition interface.\nFor more information visit the documentation.</p>\n\n<p><a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/package-summary.html\" rel=\"nofollow noreferrer\">https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/package-summary.html</a>\n<a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/package-summary.html\" rel=\"nofollow noreferrer\">https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/package-summary.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 134, "user_id": 2419789, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jQVke.jpg?s=128&g=1", "display_name": "CamelCamelius", "link": "https://stackoverflow.com/users/2419789/camelcamelius"}, "edited": false, "score": 0, "creation_date": 1541695750, "post_id": 53209807, "comment_id": 93312598, "body": "Thanks. JQuery is not being used. Interesting <code>jQuery.active</code>. Didn&#39;t know about it. According to <a href=\"https://stackoverflow.com/questions/3148225/jquery-active-function\">question</a> it would work only if the code in execution is an ajax call, did I get it right ? Is there anything like that but that works with JavaScript ?"}, {"owner": {"reputation": 2630, "user_id": 5749062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/72aMs.png?s=128&g=1", "display_name": "Bill Hileman", "link": "https://stackoverflow.com/users/5749062/bill-hileman"}, "reply_to_user": {"reputation": 134, "user_id": 2419789, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jQVke.jpg?s=128&g=1", "display_name": "CamelCamelius", "link": "https://stackoverflow.com/users/2419789/camelcamelius"}, "edited": false, "score": 0, "creation_date": 1541698903, "post_id": 53209807, "comment_id": 93314254, "body": "I do have a more general waitForPageToLoad method that uses javascript to check the document ready state for &quot;complete&quot;  It might help, since that flag might be getting changed while the web elements are &quot;busy&quot;  I&#39;ll post it as a separate answer."}], "tags": [], "owner": {"reputation": 2630, "user_id": 5749062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/72aMs.png?s=128&g=1", "display_name": "Bill Hileman", "link": "https://stackoverflow.com/users/5749062/bill-hileman"}, "is_accepted": false, "score": 1, "last_activity_date": 1541687390, "creation_date": 1541687390, "answer_id": 53209807, "question_id": 53199159, "link": "https://stackoverflow.com/questions/53199159/java-wait-for-javascript-event-e-g-onchange-to-complete-using-selenium/53209807#53209807", "title": "Java - Wait for JavaScript event (e.g. onchange) to complete using Selenium", "body": "<p>You might try this method which waits until JQuery is set to inactive:</p>\n\n<pre><code>/**\n * Wait until JQuery is inactive\n * @author Bill Hileman\n */\npublic void waitForJQueryToBeInactive() {\n\n    Boolean isJqueryUsed = (Boolean) ((JavascriptExecutor) driver)\n            .executeScript(\"return (typeof(jQuery) != 'undefined')\");\n\n    if (isJqueryUsed) {\n        while (true) {\n            // JavaScript test to verify jQuery is active or not\n            Boolean ajaxIsComplete = (Boolean) (((JavascriptExecutor) driver)\n                    .executeScript(\"return jQuery.active == 0\"));\n            if (ajaxIsComplete)\n                break;\n            try {\n                Thread.sleep(100);\n            } catch (InterruptedException e) {\n            }\n        }\n    }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 134, "user_id": 2419789, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jQVke.jpg?s=128&g=1", "display_name": "CamelCamelius", "link": "https://stackoverflow.com/users/2419789/camelcamelius"}, "edited": false, "score": 0, "creation_date": 1541714869, "post_id": 53213370, "comment_id": 93321422, "body": "Thanks Bill! Unfortunately I am already executing <code>return document.readyState</code> so everything is already loaded. Sometimes I even have to get the element everytime I want to execute an action on it or I end up getting an error saying that the element is no longer in cache, so I verify elements are there."}], "tags": [], "owner": {"reputation": 2630, "user_id": 5749062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/72aMs.png?s=128&g=1", "display_name": "Bill Hileman", "link": "https://stackoverflow.com/users/5749062/bill-hileman"}, "is_accepted": false, "score": 0, "last_activity_date": 1541698996, "creation_date": 1541698996, "answer_id": 53213370, "question_id": 53199159, "link": "https://stackoverflow.com/questions/53199159/java-wait-for-javascript-event-e-g-onchange-to-complete-using-selenium/53213370#53213370", "title": "Java - Wait for JavaScript event (e.g. onchange) to complete using Selenium", "body": "<p>The following routine checks the document ready state for \"complete\" and returns when the page is finished loading/changing.</p>\n\n<pre><code>/**\n * Wait for the web page to finish loading\n * @author Bill Hileman\n */\npublic void waitForPageToLoad() {\n\n    WebDriverWait wait = new WebDriverWait(driver, 10);\n    wait.until(new ExpectedCondition&lt;Boolean&gt;() {\n\n        public Boolean apply(WebDriver wdriver) {\n            return ((JavascriptExecutor) driver).executeScript(\"return document.readyState\").equals(\"complete\");\n        }\n    });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 134, "user_id": 2419789, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jQVke.jpg?s=128&g=1", "display_name": "CamelCamelius", "link": "https://stackoverflow.com/users/2419789/camelcamelius"}, "is_accepted": true, "score": 2, "last_activity_date": 1541931717, "creation_date": 1541931717, "answer_id": 53247782, "question_id": 53199159, "link": "https://stackoverflow.com/questions/53199159/java-wait-for-javascript-event-e-g-onchange-to-complete-using-selenium/53247782#53247782", "title": "Java - Wait for JavaScript event (e.g. onchange) to complete using Selenium", "body": "<p>After serious refactoring and some research, I finally made it. The <code>onchange</code> event fires when the value of the <code>input</code> field is changed and the element loses focus. Manipulating the fields with <code>WebElement</code> (e.g. <code>sendKeys()</code>) is not an option because you are not in control of the background processing, so using <code>JavascriptExecutor</code> is the choice. First, I updated the value of the field using JavaScript (which does NOT trigger the event), and after that, I triggered the <code>onchange</code> event, also using JavaScript:</p>\n\n<pre><code>//Setting implicit wait to 0 to avoid mess with explicit waits\ndriver.manage().timeouts().implicitlyWait(0, TimeUnit.SECONDS);\n//Use WebDriverWait instead of FluentWait (it's superclass)\nWait&lt;WebDriver&gt; wait = new WebDriverWait(driver, 25, 500);\nfor(int i = 1; i &lt;= fieldCount; i++) {\n    String elementId = \"field$\" + i;\n    String javaScript = String.format(\"document.getElementById('%s').value='%s';\", elementId , myValue);\n    Object jsResult = wait.until(ExpectedConditions.javaScriptThrowsNoExceptions(javaScript));\n    javaScript = String.format(\"return document.getElementById('%s').dispatchEvent(new Event('change'));\", elementId);\n    jsResult = wait.until(ExpectedConditions.jsReturnsValue(javaScript));\n}\n</code></pre>\n\n<p>There are some key aspects here. </p>\n\n<ul>\n<li>Do NOT mix implicit and explicit waits (I learnt it the hard way), it will cause unexpected results.</li>\n<li>Use <code>WebDriverWait</code> (specialization of <code>FluentWait</code>) instead of its superclass, unless you have a very specific requirement. If you use <code>FluentWait</code> make sure to ignore appropriate exceptions; otherwise you will start getting <code>NoSuchElementException</code>.</li>\n<li>The <code>onchange</code> event fires when the value of the <code>input</code> field is changed and the element loses focus.</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/dispatchEvent\" rel=\"nofollow noreferrer\"><code>dispatchEvent()</code></a> dispatches an Event at the specified EventTarget, (<strong><a href=\"https://stackoverflow.com/a/22924862/2419789\">synchronously</a></strong>) invoking the affected EventListeners in the appropriate order. This applies for <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events\" rel=\"nofollow noreferrer\">custom events</a> as well. This is a <a href=\"https://javascript.info/dispatch-events\" rel=\"nofollow noreferrer\">very nice post</a> for events.</li>\n</ul>\n\n<p>I used the following code to get a better grasp of <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#javaScriptThrowsNoExceptions-java.lang.String-\" rel=\"nofollow noreferrer\"><code>ExpectedConditions.javaScriptThrowsNoExceptions</code></a> and <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#jsReturnsValue-java.lang.String-\" rel=\"nofollow noreferrer\"><code>ExpectedConditions.jsReturnsValue</code></a>. It is a JavaScript function call that just keeps the engine busy for few seconds. That way you can see the interaction of the explicit wait with JavaScript and inspect the return values. Notice that the JS code is slightly different for each <code>ExpectedCondition</code>:</p>\n\n<pre><code>//ExpectedConditions.jsReturnsValue\nString javaScript = \"(function watcher(ms){var start=new Date().getTime();var end = start;while(end&lt;start+ms){end=new Date().getTime();};return 'complete';})(5000);return 'success';\";\nlog.trace(\"javaScript={}\", javaScript);\nObject jsResult = wait.until(ExpectedConditions.jsReturnsValue(javaScript));\nlog.trace(\"jsResult={}\", jsResult);\n\n//ExpectedConditions.javaScriptThrowsNoExceptions\njavaScript = \"(function watcher(ms){var start=new Date().getTime();var end = start;while(end&lt;start+ms){end=new Date().getTime();};return 'complete';})(5000);\";\nlog.trace(\"javaScript={}\", javaScript);\njsResult = wait.until(ExpectedConditions.javaScriptThrowsNoExceptions(javaScript));\nlog.trace(\"jsResult={}\", jsResult);\n</code></pre>\n"}], "owner": {"reputation": 134, "user_id": 2419789, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jQVke.jpg?s=128&g=1", "display_name": "CamelCamelius", "link": "https://stackoverflow.com/users/2419789/camelcamelius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1989, "favorite_count": 0, "accepted_answer_id": 53247782, "answer_count": 4, "score": 2, "last_activity_date": 1541963083, "creation_date": 1541631392, "last_edit_date": 1541963083, "question_id": 53199159, "link": "https://stackoverflow.com/questions/53199159/java-wait-for-javascript-event-e-g-onchange-to-complete-using-selenium", "title": "Java - Wait for JavaScript event (e.g. onchange) to complete using Selenium", "body": "<p>A set of logically related <code>input</code> fields have an <strong><code>onchange</code></strong> event. After iterating over the fields and modifying their values some get updated correctly and some don't because of the stuff done by <code>onchange</code> event.</p>\n\n<p>The moment the <code>onchange</code> event triggers on a field, it starts some processing (involving other related fields), stores the value somewhere and clears other related fields if they weren't previously processed by their own <code>onchange</code> event.</p>\n\n<p>I could put the thread to sleep for an arbitrary amount of time but that doesn't look good. It would be just guessing how much time is going to take the processing and choosing between wasting time in a generous sleep or having a script that can abort due timeouts.</p>\n\n<p>Is there a way to know when the JavaScript code (which is called by the <code>onchange</code> event) has finished doing its work?</p>\n\n<h2>Original Code</h2>\n\n<pre><code>Wait&lt;WebDriver&gt; wait = new WebDriverWait(driver, 25, 500);\nfor(int i = 1; i &lt;= fieldCount; i++) {\n    elementId = \"field$\" + i;\n    wait.until(ExpectedConditions.elementToBeClickable(By.id(elementId)));\n    driver.findElementById(elementId).sendKeys(data);\n    //The mess happens if I don't sleep\n    Thread.sleep(3000);\n}\n</code></pre>\n\n<h2>Output</h2>\n\n<p>With sleep:    <code>Field1</code>:<code>_w_</code> ...  <code>Field2</code>:<code>_x_</code> ...  <code>Field3</code>:<code>_y_</code> ...  <code>FieldN</code>:<code>_z_</code></p>\n\n<p>Without sleep:    <code>Field1</code>:<code>_w_</code> ...  <code>Field2</code>:<code>___</code> ...  <code>Field3</code>:<code>_y_</code> ...  <code>FieldN</code>:<code>___</code></p>\n\n<p><strong>Notes:</strong></p>\n\n<p>I experienced some issues in the way so I just think it's worth mentioning the lessons learned in brief notes:</p>\n\n<blockquote>\n  <p><a href=\"https://www.seleniumhq.org/docs/04_webdriver_advanced.jsp\" rel=\"nofollow noreferrer\">WARNING</a>: Do not mix implicit and explicit waits.</p>\n  \n  <p>Use <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html\" rel=\"nofollow noreferrer\"><code>WebDriverWait</code></a> (specialization of <code>FluentWait</code>) instead of <code>FluentWait</code>, unless you have a very specific requirement. E.g., <code>WebDriverWait</code> ignores <code>NotFoundException</code> (<code>NoSuchElementException</code>'s superclass) by default. See <a href=\"https://stackoverflow.com/a/42959391/2419789\">recomendation</a>.</p>\n</blockquote>\n"}, {"tags": ["java", "hibernate", "for-loop", "jpa", "spring-data-jpa"], "answers": [{"comments": [{"owner": {"reputation": 1685, "user_id": 8534285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K2AXH.jpg?s=128&g=1", "display_name": "Ajay Kumar", "link": "https://stackoverflow.com/users/8534285/ajay-kumar"}, "edited": false, "score": 0, "creation_date": 1541695181, "post_id": 53201821, "comment_id": 93312304, "body": "What a dumbo I am.! . Yes you are right Jens. Your trick is working.!!"}], "tags": [], "owner": {"reputation": 64961, "user_id": 66686, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5c09f46f4edab31c43465b9f36638678?s=128&d=identicon&r=PG", "display_name": "Jens Schauder", "link": "https://stackoverflow.com/users/66686/jens-schauder"}, "is_accepted": true, "score": 1, "last_activity_date": 1541653382, "creation_date": 1541653382, "answer_id": 53201821, "question_id": 53199151, "link": "https://stackoverflow.com/questions/53199151/spring-data-jpa-for-loop-not-saving-entity/53201821#53201821", "title": "Spring Data JPA - for loop not saving entity", "body": "<p>Why would JPA append <code>String</code>s in a column when you are replacing them on the Java side?</p>\n\n<p>If you want them appended in the column you need to append them on the Java side as well.\nReplacing </p>\n\n<pre><code>entity.setPersonpropertyname(app.getPersonpropertyname());\n</code></pre>\n\n<p>with</p>\n\n<pre><code>entity.setPersonpropertyname(entity.getPersonpropertyname() + app.getPersonpropertyname());\n</code></pre>\n\n<p>should do the trick.</p>\n"}], "owner": {"reputation": 1685, "user_id": 8534285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K2AXH.jpg?s=128&g=1", "display_name": "Ajay Kumar", "link": "https://stackoverflow.com/users/8534285/ajay-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 0, "accepted_answer_id": 53201821, "answer_count": 1, "score": 0, "last_activity_date": 1541653463, "creation_date": 1541631323, "last_edit_date": 1541653463, "question_id": 53199151, "link": "https://stackoverflow.com/questions/53199151/spring-data-jpa-for-loop-not-saving-entity", "title": "Spring Data JPA - for loop not saving entity", "body": "<p>I am trying to save multiple strings into one column into MySQL DB. Using Spring Data JPA with Hibernate.</p>\n\n<p>I have my <code>PersonserviceImpl</code> as </p>\n\n<pre><code>    @Override\npublic void createnewPerson(AppPerson appPerson) {\n\n    List&lt;AppPersonproperty&gt; personProperties = personpropertyRepository\n            .findByPersonid(appPerson.getAppPersontype().getId());\n\n        for (AppPersonproperty app : personProperties) {\n            System.out.println(app.getPersonpropertyname());\n            entity.setPersonpropertyname(app.getPersonpropertyname());\n        }\n\n    personRepository.save(entity);\n}\n</code></pre>\n\n<p>Only the last value gets save from Person's previous names.</p>\n\n<p>Sysout: </p>\n\n<pre><code>SpiderMan\nSpidey\n</code></pre>\n\n<p>Expected value in the column: </p>\n\n<pre><code>SpiderManSpidey\n</code></pre>\n\n<p>Actual value in the column: </p>\n\n<pre><code>Spidey\n</code></pre>\n\n<p>What am I doing wrong here?</p>\n"}, {"tags": ["java", "arrays", "methods"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1541631696, "post_id": 53199144, "comment_id": 93286929, "body": "Your array always has 0 row and 0 column, since you initialize with hotel and years, that are initialized to 0. Put the array initialization in the constructor, and use the arguments passed to the constructor. The two int fields are useless."}, {"owner": {"reputation": 1, "user_id": 10273337, "user_type": "registered", "profile_image": "https://graph.facebook.com/1806416612799104/picture?type=large", "display_name": "Scott Robinson", "link": "https://stackoverflow.com/users/10273337/scott-robinson"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1541633534, "post_id": 53199144, "comment_id": 93287488, "body": "So your saying declare the array outside of the constructor but initialize it inside the constructor?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1541633581, "post_id": 53199144, "comment_id": 93287505, "body": "Yes. That&#39;s what a constructor is for: initializing fields."}, {"owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "edited": false, "score": 0, "creation_date": 1541639032, "post_id": 53199144, "comment_id": 93288833, "body": "If you used a debugger, you would have been able to find out for yourself that the array is empty. Learning to use a debugger is an important part of learning to code."}], "owner": {"reputation": 1, "user_id": 10273337, "user_type": "registered", "profile_image": "https://graph.facebook.com/1806416612799104/picture?type=large", "display_name": "Scott Robinson", "link": "https://stackoverflow.com/users/10273337/scott-robinson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541631283, "creation_date": 1541631283, "question_id": 53199144, "link": "https://stackoverflow.com/questions/53199144/how-to-create-a-class-with-multiple-method-and-then-pass-the-values-back-to-the", "title": "How to create a class with multiple method and then pass the values back to the main method", "body": "<p>I am trying to create a class that has a few methods in it. I am attempting to only pass the values entered by the user into the methods. Then, each method is run and the value is printed in the main method. Here is what I have.</p>\n\n<pre><code>public class HotelRating{\n   private int hotel = 0;\n   private int years = 0;\n   int [][] Ratingarray = new int [hotel][years];\n\n   public HotelRating(){\n   }\n\n\n   public HotelRating(int hotel, int years){\n   this.hotel = hotel;\n   this.years = years;\n        for (int row = 0; row &lt; Ratingarray.length; row++){\n         for (int column = 0; column &lt; Ratingarray[row].length; column++){\n            Ratingarray[row][column] = (int) (Math.random() * 5 + 1);\n         }\n      }\n   }\n\n   public String fiveStarsHotels(){\n      String result = \"\";\n      System.out.print(\"Five stars hotels indices: \");\n      System.out.println();\n      for (int row = 0; row &lt; Ratingarray.length; row++){\n         for (int column = 0; column &lt; Ratingarray[row].length; column++){\n            switch (Ratingarray[row][column]){\n               case 1:\n                  break;\n               case 2:\n                  break;\n               case 3:\n                  break;\n               case 4:\n                  break;\n               case 5:\n                  result = (row + 1 + \",\");\n            }\n         }\n      }\n      return result;\n   }\n\n  }\n</code></pre>\n\n<p>Here is how I am attempting to call this method in the main method:</p>\n\n<pre><code>import java.util.*;\npublic class TestHotelRating{\n   public static void main (String[] args){\n         Scanner input = new Scanner(System.in);\n\n         System.out.println (\"Please enter the amount of hotels: \");\n         int hotel = input.nextInt();\n\n         System.out.println (\"Please enter the number of years: \");\n         int years = input.nextInt();\n\n         HotelRating myObject = new HotelRating (hotel, years);\n\n         System.out.println(myObject.fiveStarsHotels());\n      }\n   }\n}\n</code></pre>\n\n<p>When I call the method, it returns nothing. I'm not sure why.</p>\n"}, {"tags": ["java", "lambda"], "comments": [{"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 1, "creation_date": 1541631744, "post_id": 53199070, "comment_id": 93286947, "body": "You say &quot;a json&quot;, but you almost certainly are just talking about a POJO where you inserted <i>the exact same object</i> (not duplicate copies) for either the value of <code>member</code> or the entries inside it."}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1541632183, "post_id": 53199070, "comment_id": 93287104, "body": "Maybe field <code>salary</code> is <code>static</code>? Just a guess, because <b>we can&#39;t see your code</b>."}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 689876, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1fc7c091daa7757022a36f4962abfcc4?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/689876/david"}, "edited": false, "score": 0, "creation_date": 1541631728, "post_id": 53199210, "comment_id": 93286939, "body": "How can I see the reference? I tried to do it with system.out.println but no possible to get the address"}, {"owner": {"reputation": 1, "user_id": 6082258, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dDe-VIN2mmk/AAAAAAAAAAI/AAAAAAAAAJ0/9Xji-MyGqGw/photo.jpg?sz=128", "display_name": "Leonzio", "link": "https://stackoverflow.com/users/6082258/leonzio"}, "reply_to_user": {"reputation": 149, "user_id": 689876, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1fc7c091daa7757022a36f4962abfcc4?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/689876/david"}, "edited": false, "score": 0, "creation_date": 1541631800, "post_id": 53199210, "comment_id": 93286967, "body": "Check it on debug mode."}], "tags": [], "owner": {"reputation": 1, "user_id": 6082258, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dDe-VIN2mmk/AAAAAAAAAAI/AAAAAAAAAJ0/9Xji-MyGqGw/photo.jpg?sz=128", "display_name": "Leonzio", "link": "https://stackoverflow.com/users/6082258/leonzio"}, "is_accepted": false, "score": 0, "last_activity_date": 1541631666, "creation_date": 1541631666, "answer_id": 53199210, "question_id": 53199070, "link": "https://stackoverflow.com/questions/53199070/lambda-java-iterate-a-json-object-it-looks-like-inside-is-duplicated/53199210#53199210", "title": "Lambda Java - Iterate a Json Object. It looks like inside is duplicated", "body": "<p>Check if objects in <code>member</code> collection for 123 and 124 are different, have different reference. It sounds like those objects has the same reference in those two collections. Try maybe to override equals and hashCode.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5693138, "user_type": "registered", "profile_image": "https://graph.facebook.com/529902310507123/picture?type=large", "display_name": "Vang B\u1eddm", "link": "https://stackoverflow.com/users/5693138/vang-b%e1%bb%9dm"}, "is_accepted": false, "score": 0, "last_activity_date": 1541632594, "creation_date": 1541632594, "answer_id": 53199349, "question_id": 53199070, "link": "https://stackoverflow.com/questions/53199070/lambda-java-iterate-a-json-object-it-looks-like-inside-is-duplicated/53199349#53199349", "title": "Lambda Java - Iterate a Json Object. It looks like inside is duplicated", "body": "<p>so I am assuming the corrected result should be:</p>\n\n<p>false\nfalse\nfalse\nfalse</p>\n\n<p>this statement member.setSalary(true); is shouldn't be affected</p>\n\n<p>\"member\" is should be in separate object it shouldn't refer to same reference (pretty weird)</p>\n\n<p>can u post the full block of code?</p>\n"}], "owner": {"reputation": 149, "user_id": 689876, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1fc7c091daa7757022a36f4962abfcc4?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/689876/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541632594, "creation_date": 1541630824, "question_id": 53199070, "link": "https://stackoverflow.com/questions/53199070/lambda-java-iterate-a-json-object-it-looks-like-inside-is-duplicated", "title": "Lambda Java - Iterate a Json Object. It looks like inside is duplicated", "body": "<p>I have a json like this and I use forEach to go over family</p>\n\n<pre><code>{\n\"people\": {\n    \"family\": [\n        {\n            \"id\": \"123\",\n            \"member\": [\n                {\n                    \"id\": \"11\",\n                    \"salary\": false\n                },\n                {\n                    \"id\": \"12\",\n                    \"salary\": false\n                }\n            ]\n        },\n        {\n            \"id\": \"124\",\n            \"member\": [\n                {\n                    \"id\": \"11\",\n                    \"salary\": false\n                },\n                {\n                    \"id\": \"12\",\n                    \"salary\": false\n                }\n            ]\n        }\n    ]\n}\n</code></pre>\n\n<p>}</p>\n\n<p>For instance, if I set the salary in true in the first member id 123, when i go through the second element of family (id 124), salary is also in true.</p>\n\n<p>If I change something in the second one id 124, the first id 123 has the same value. It looks like every family element it's the same object but not sure how I can find out that and also how to fix it.</p>\n\n<p>The code is really big, but basically I'm doing something like this:</p>\n\n<pre><code>.forEach(family -&gt; {\n    family.getId() // I get 123 and then 124\n    family.getMember().forEach(member -&gt; {\n                       System.out.println(member.getSalary()) // Show false for id 123 but then for id 124, show true when i would be false at this point\n                       member.setSalary(true);\n</code></pre>\n\n<p>Any idea? not sure what else I can do.... Thanks</p>\n"}, {"tags": ["java", "arrays", "methods"], "comments": [{"owner": {"reputation": 43882, "user_id": 4922375, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2f70cb2cc341b8ceda0e1f801316d85f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Tobilko", "link": "https://stackoverflow.com/users/4922375/andrew-tobilko"}, "edited": false, "score": 0, "creation_date": 1541630668, "post_id": 53198958, "comment_id": 93286593, "body": "do you want to move the array initialisation in a separate method? It&#39;s unclear what you&#39;re asking because the snippet looks viable"}, {"owner": {"reputation": 29, "user_id": 10440215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cd7c60e34e5e39eaf8dcbe1662a9e86?s=128&d=identicon&r=PG&f=1", "display_name": "Jade", "link": "https://stackoverflow.com/users/10440215/jade"}, "reply_to_user": {"reputation": 43882, "user_id": 4922375, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2f70cb2cc341b8ceda0e1f801316d85f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Tobilko", "link": "https://stackoverflow.com/users/4922375/andrew-tobilko"}, "edited": false, "score": 0, "creation_date": 1541630964, "post_id": 53198958, "comment_id": 93286708, "body": "yes to the method public static student[] create()"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1541630998, "post_id": 53198958, "comment_id": 93286715, "body": "Did you create the class <code>Student</code>?"}, {"owner": {"reputation": 43882, "user_id": 4922375, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2f70cb2cc341b8ceda0e1f801316d85f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Tobilko", "link": "https://stackoverflow.com/users/4922375/andrew-tobilko"}, "edited": false, "score": 0, "creation_date": 1541674729, "post_id": 53198958, "comment_id": 93300686, "body": "@Jade do you have the <code>Student</code> class to create a <code>Student[]</code> array?"}, {"owner": {"reputation": 43882, "user_id": 4922375, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2f70cb2cc341b8ceda0e1f801316d85f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Tobilko", "link": "https://stackoverflow.com/users/4922375/andrew-tobilko"}, "edited": false, "score": 0, "creation_date": 1541692960, "post_id": 53198958, "comment_id": 93311017, "body": "@Jade we can&#39;t see it, add it to the snippet"}, {"owner": {"reputation": 29, "user_id": 10440215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cd7c60e34e5e39eaf8dcbe1662a9e86?s=128&d=identicon&r=PG&f=1", "display_name": "Jade", "link": "https://stackoverflow.com/users/10440215/jade"}, "reply_to_user": {"reputation": 43882, "user_id": 4922375, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2f70cb2cc341b8ceda0e1f801316d85f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Tobilko", "link": "https://stackoverflow.com/users/4922375/andrew-tobilko"}, "edited": false, "score": 0, "creation_date": 1541693735, "post_id": 53198958, "comment_id": 93311479, "body": "@AndrewTobilko done"}, {"owner": {"reputation": 43882, "user_id": 4922375, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2f70cb2cc341b8ceda0e1f801316d85f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Tobilko", "link": "https://stackoverflow.com/users/4922375/andrew-tobilko"}, "edited": false, "score": 0, "creation_date": 1541693786, "post_id": 53198958, "comment_id": 93311519, "body": "@Jade how precisely is the method <code>create</code> defined?"}, {"owner": {"reputation": 29, "user_id": 10440215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cd7c60e34e5e39eaf8dcbe1662a9e86?s=128&d=identicon&r=PG&f=1", "display_name": "Jade", "link": "https://stackoverflow.com/users/10440215/jade"}, "reply_to_user": {"reputation": 43882, "user_id": 4922375, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2f70cb2cc341b8ceda0e1f801316d85f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Tobilko", "link": "https://stackoverflow.com/users/4922375/andrew-tobilko"}, "edited": false, "score": 0, "creation_date": 1541698024, "post_id": 53198958, "comment_id": 93313870, "body": "@AndrewTobilko as &quot;method which asks the user for the size they wish the array to be and then creates an array of type Student of the specified size&quot;"}, {"owner": {"reputation": 43882, "user_id": 4922375, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2f70cb2cc341b8ceda0e1f801316d85f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Tobilko", "link": "https://stackoverflow.com/users/4922375/andrew-tobilko"}, "edited": false, "score": 0, "creation_date": 1541698222, "post_id": 53198958, "comment_id": 93313964, "body": "@Jade how you did you define it? how did you write the method signature? what&#39;s in the method body?"}, {"owner": {"reputation": 29, "user_id": 10440215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cd7c60e34e5e39eaf8dcbe1662a9e86?s=128&d=identicon&r=PG&f=1", "display_name": "Jade", "link": "https://stackoverflow.com/users/10440215/jade"}, "reply_to_user": {"reputation": 43882, "user_id": 4922375, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2f70cb2cc341b8ceda0e1f801316d85f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Tobilko", "link": "https://stackoverflow.com/users/4922375/andrew-tobilko"}, "edited": false, "score": 0, "creation_date": 1541704384, "post_id": 53198958, "comment_id": 93316789, "body": "@AndrewTobilko That&#39;s my question.  I explained what I attempted to do in the question"}], "owner": {"reputation": 29, "user_id": 10440215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cd7c60e34e5e39eaf8dcbe1662a9e86?s=128&d=identicon&r=PG&f=1", "display_name": "Jade", "link": "https://stackoverflow.com/users/10440215/jade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541693713, "creation_date": 1541630280, "last_edit_date": 1541693713, "question_id": 53198958, "link": "https://stackoverflow.com/questions/53198958/method-header-for-user-defined-array", "title": "method header for user-defined array", "body": "<pre><code>public class studentDriver {\n\n    public static void main(String[] args) {\n\n\n        Scanner scan = new Scanner(System.in);\n\n\n        System.out.print(\"How many students are there?: \");\n        int numberOfstuds = scan.nextInt();\n\n        int[] nOEarray = new int[numberOfstuds];\n\n        System.out.println(\"\\nEnter names of students up to the entered amount (\" + numberOfstuds + \"):\");\n\n        String[] namesArray = new String[numberOfstuds];\n\n        for (int i = 0; i &lt; numberOfstuds; i++) {\n            namesArray[i] = scan.next();\n        }\n        System.out.println(Arrays.toString(namesArray));\n    }\n}\n</code></pre>\n\n<p>That is part of my code for letting user input array size, however I am tasked with using the header below just for a method to get the size of the array, but I have tried inserting it and keep getting different error messages such as needs body(if I put semi-colon) or \"requires ';'\" if I don't and when I put curly braces around the section where it gets  the array size it returns errors :Syntax error, insert \"[ ]\" to complete Dimension\n    - Syntax error, insert \";\" to complete BlockStatements\n    - Syntax error on token \"create\", AnnotationName expected after \n     this token</p>\n\n<pre><code>public static Student[] create()\n</code></pre>\n\n<p>Here is the Student class</p>\n\n<pre><code>public class Student {\n    //private data members\n    private String name;\n    private long idNUmber;\n\n    //constructor\n    public Student(){\n      name=\"Unassigned\";\n      idNUmber=0;\n    }\n    //overloaded constructor\n    public Student(String x, long y) {\n        name=x;\n        idNUmber=y;\n    }\n    //getters\n    public String getName() {\n        return name;\n    }\n    public long getIdNUmber() {\n        return idNUmber;    \n    }\n    //setters\n    public void setName(String n) {\n        name=n;\n    }\n    public void setIdNUmber(long i) {\n        idNUmber=i;\n    }\n    //override\n    public String toString() {\n        return \"Name: \"+getName()+\"\\nID number: \"+getIdNUmber();\n    }\n</code></pre>\n"}, {"tags": ["java", "android", "json"], "comments": [{"owner": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1541636639, "post_id": 53198954, "comment_id": 93288239, "body": "It&#39;d help to elaborate what is meant by &quot;don&#39;t get expected results&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1541636566, "post_id": 53199634, "comment_id": 93288214, "body": "We don&#39;t know if <code>DataModel</code> is parcelable."}, {"owner": {"reputation": 1535, "user_id": 931639, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/T8TU5.jpg?s=128&g=1", "display_name": "Boe-Dev", "link": "https://stackoverflow.com/users/931639/boe-dev"}, "edited": false, "score": 0, "creation_date": 1541687082, "post_id": 53199634, "comment_id": 93307325, "body": "Plz check my changes"}], "tags": [], "owner": {"reputation": 1535, "user_id": 931639, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/T8TU5.jpg?s=128&g=1", "display_name": "Boe-Dev", "link": "https://stackoverflow.com/users/931639/boe-dev"}, "is_accepted": false, "score": 0, "last_activity_date": 1541687042, "last_edit_date": 1541687042, "creation_date": 1541634578, "answer_id": 53199634, "question_id": 53198954, "link": "https://stackoverflow.com/questions/53198954/how-to-pass-the-id-of-a-record-from-a-listview/53199634#53199634", "title": "How to pass the id of a record from a listview", "body": "<p>What you should do there is:</p>\n\n<pre><code>DataModel model = (DataModel) listData.get(position);\nintent.putExtra(\"ListViewValue\", model);\nstartActivity(intent);\n</code></pre>\n\n<p>your DataModel should <code>implements Serializable</code></p>\n\n<p>this should fix your problem.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 8831562, "user_type": "registered", "profile_image": "https://graph.facebook.com/820839861409328/picture?type=large", "display_name": "Zameer Mullah Jojna", "link": "https://stackoverflow.com/users/8831562/zameer-mullah-jojna"}, "edited": false, "score": 0, "creation_date": 1541676802, "post_id": 53206909, "comment_id": 93301765, "body": "try above code passing object based on postion of item"}, {"owner": {"reputation": 3, "user_id": 7806660, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OjadtuxxmyY/AAAAAAAAAAI/AAAAAAAAAGM/3iEhl8fvK2M/photo.jpg?sz=128", "display_name": "Kiran Balraj", "link": "https://stackoverflow.com/users/7806660/kiran-balraj"}, "edited": false, "score": 0, "creation_date": 1541976903, "post_id": 53206909, "comment_id": 93392671, "body": "This ends up passing a null value"}], "tags": [], "owner": {"reputation": 11, "user_id": 8831562, "user_type": "registered", "profile_image": "https://graph.facebook.com/820839861409328/picture?type=large", "display_name": "Zameer Mullah Jojna", "link": "https://stackoverflow.com/users/8831562/zameer-mullah-jojna"}, "is_accepted": false, "score": 0, "last_activity_date": 1541676752, "creation_date": 1541676752, "answer_id": 53206909, "question_id": 53198954, "link": "https://stackoverflow.com/questions/53198954/how-to-pass-the-id-of-a-record-from-a-listview/53206909#53206909", "title": "How to pass the id of a record from a listview", "body": "<pre><code> listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n             // get postion from arraylist\n                modelclass u = arrayList.get(position);\n                Intent in = new Intent(currentacticity.this, nextactivity.class);\n                in.putExtra(\"send\", u);\n                startActivity(in);\n                   }\n        });\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7806660, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OjadtuxxmyY/AAAAAAAAAAI/AAAAAAAAAGM/3iEhl8fvK2M/photo.jpg?sz=128", "display_name": "Kiran Balraj", "link": "https://stackoverflow.com/users/7806660/kiran-balraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541687042, "creation_date": 1541630261, "question_id": 53198954, "link": "https://stackoverflow.com/questions/53198954/how-to-pass-the-id-of-a-record-from-a-listview", "title": "How to pass the id of a record from a listview", "body": "<pre><code>public class searchEvent extends AppCompatActivity implements SwipeRefreshLayout.OnRefreshListener,\n    SearchView.OnQueryTextListener {\nprivate SessionManager session;\nProgressDialog pDialog;\nList&lt;DataModel&gt; listData = new ArrayList&lt;DataModel&gt;();\nAdapter adapter;\nSwipeRefreshLayout swipe;\nListView list_view;\n\n\npublic static final String url_data = \"http://10.0.2.2/TriniRec/eventList.php?email=\";\npublic static final String url_cari = \"http://10.0.2.2/TriniRec/search.php?email=\";\n\nprivate static final String TAG = searchEvent.class.getSimpleName();\n\npublic static final String TAG_ID = \"eventID\";\npublic static final String TAG_NAMA = \"name\";\npublic static final String TAG_RESULTS = \"results\";\npublic static final String TAG_MESSAGE = \"message\";\npublic static final String TAG_VALUE = \"value\";\n\nString tag_json_obj = \"json_obj_req\";\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_search_event);\n    // session manager\n    session = new SessionManager(getApplicationContext());\n\n    swipe = (SwipeRefreshLayout) findViewById(R.id.swipe_refresh);\n    list_view = (ListView) findViewById(R.id.list_view);\n\n    adapter = new Adapter(searchEvent.this, listData);\n    list_view.setAdapter(adapter);\n\n    swipe.setOnRefreshListener(this);\n\n    swipe.post(new Runnable() {\n                   @Override\n                   public void run() {\n                       swipe.setRefreshing(true);\n                       callData();\n                   }\n               }\n    );\n    //Adding ListView Item click Listener.\n   list_view.setOnItemClickListener(new AdapterView.OnItemClickListener()\n    {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n            Intent intent = new Intent(searchEvent.this,ShowSingleRecordActivity.class);\n\n            // Sending ListView clicked value using intent.\n            intent.putExtra(\"ListViewValue\",listData.get(position).toString());\n\n            startActivity(intent);\n\n            //Finishing current activity after open next activity.\n            finish();\n\n        }\n    });\n}\n\n\nprivate void callData() {\n    listData.clear();\n    adapter.notifyDataSetChanged();\n    swipe.setRefreshing(true);\n    String email = session.getEmail();\n    // Creating volley request obj\n    JsonArrayRequest jArr = new JsonArrayRequest(url_data + email, new Response.Listener&lt;JSONArray&gt;() {\n\n        @Override\n        public void onResponse(JSONArray response) {\n            Log.e(TAG, response.toString());\n\n            // Parsing json\n            for (int i = 0; i &lt; response.length(); i++) {\n                try {\n\n                    JSONObject obj = response.getJSONObject(i);\n\n                    DataModel item = new DataModel();\n\n                    item.setEventID(obj.getString(TAG_ID));\n                    item.setName(obj.getString(TAG_NAMA));\n\n\n                    listData.add(item);\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n            }\n\n            // notifying list adapter about data changes\n            // so that it renders the list view with updated data\n            adapter.notifyDataSetChanged();\n            swipe.setRefreshing(false);\n        }\n    }, new Response.ErrorListener() {\n\n        @Override\n        public void onErrorResponse(VolleyError error) {\n            VolleyLog.e(TAG, \"Error: \" + error.getMessage());\n            Toast.makeText(searchEvent.this, error.getMessage(), Toast.LENGTH_LONG).show();\n            swipe.setRefreshing(false);\n        }\n    });\n\n    // Adding request to request queue\n    AppController.getInstance().addToRequestQueue(jArr);\n}\n\n@Override\npublic void onRefresh() {\n    callData();\n}\n\n@Override\npublic boolean onQueryTextSubmit(String query) {\n    cariData(query);\n    return false;\n}\n\n@Override\npublic boolean onQueryTextChange(String newText) {\n    return false;\n}\n</code></pre>\n\n<p>Here i am displaying a list of events from mysql database, i want to be able for the user to click on a list record and take them to the next activity with all the details of the record, for that i need to pass the record id.\nI tried passing it the array position through the intent but i dont get the expected results, i think i am passing the wrong value can someone tell me what i have to pass here. I am new to java and android studio so sorry for the lack of detail.</p>\n"}, {"tags": ["java", "multithreading", "guava", "java-memory-model"], "comments": [{"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 3, "creation_date": 1541630765, "post_id": 53198863, "comment_id": 93286637, "body": "Your proposed race condition isn&#39;t clear. Did you also read <a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-17.html#jls-17.5\" rel=\"nofollow noreferrer\">17.5, final field semantics</a>? Note specifically that <code>RegularImmutableList.array</code> <i>is</i> final."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1541630962, "post_id": 53198863, "comment_id": 93286707, "body": "The writes performed in the builder happen-before the creation of the list, since both happen in the same thread (see first case in your list). Can you elaborate and post an example where a write in the builder wouldn&#39;t happen before a read, and specify what those writes and reads would be?"}, {"owner": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "reply_to_user": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1541631647, "post_id": 53198863, "comment_id": 93286920, "body": "@chrylis  Yes, the write of the reference to the array is thread-safe on account of it being <code>final</code>. So that&#39;s clearly thread safe. What I was wondering about were the writes of the individual elements. The elements of the array are neither <code>final</code> nor <code>volatile</code>. Yet they seem to be written by one thread and read by another without synchronization."}, {"owner": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1541631696, "post_id": 53198863, "comment_id": 93286930, "body": "@JBNizet I&#39;ve edited the question. I&#39;m asking about the writes of the individual elements, not the array itself."}, {"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1541631879, "post_id": 53198863, "comment_id": 93286995, "body": "The writes into the array happen on the same thread (i.e., happen-before) the assignment of that array to the field."}, {"owner": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "reply_to_user": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1541632058, "post_id": 53198863, "comment_id": 93287062, "body": "@chrylis Writes can be reordered by the compiler. Are there guarantees regarding the order of writes to final and non-final fields?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 4, "creation_date": 1541632766, "post_id": 53198863, "comment_id": 93287310, "body": "@Matt (emphasis mine): &quot;The usage model for final fields is a simple one: Set the final fields for an object in that object&#39;s constructor; and do not write a reference to the object being constructed in a place where another thread can see it before the object&#39;s constructor is finished. If this is followed, then when the object is seen by another thread, that thread will always see the correctly constructed version of that object&#39;s final fields. <b>It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are</b>.&quot;"}, {"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1541632876, "post_id": 53198863, "comment_id": 93287344, "body": "Yes, there are guarantees--that&#39;s specifically what the &quot;program order&quot; hb means."}, {"owner": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1541633750, "post_id": 53198863, "comment_id": 93287564, "body": "@JBNizet Does that mean that writes to <code>final</code> fields are essentially memory barriers that cause the cpu to flush the cache to the main memory? The writes into that array could have been in the cpu cache."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1541633981, "post_id": 53198863, "comment_id": 93287623, "body": "I don&#39;t know enough about that to tell. I&#39;m just relying on what the specification says."}, {"owner": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1541636664, "post_id": 53198863, "comment_id": 93288245, "body": "@JBNizet Could you post an answer? That quote from the memory model seems to be the best answer so far."}], "answers": [{"comments": [{"owner": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "edited": false, "score": 0, "creation_date": 1541631759, "post_id": 53199045, "comment_id": 93286953, "body": "1. The writes to that array were performed in a different thread. What guarantees that they will be visible to the readers?   2. I don&#39;t understand your second point. Could you clarify?"}, {"owner": {"reputation": 5538, "user_id": 812787, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9bfd1118658eeaac257e60eb9f0cb5de?s=128&d=identicon&r=PG", "display_name": "tsolakp", "link": "https://stackoverflow.com/users/812787/tsolakp"}, "reply_to_user": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "edited": false, "score": 0, "creation_date": 1541633902, "post_id": 53199045, "comment_id": 93287600, "body": "@Malt. I hope my update to the answer explains it better."}, {"owner": {"reputation": 5538, "user_id": 812787, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9bfd1118658eeaac257e60eb9f0cb5de?s=128&d=identicon&r=PG", "display_name": "tsolakp", "link": "https://stackoverflow.com/users/812787/tsolakp"}, "reply_to_user": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "edited": false, "score": 0, "creation_date": 1541635276, "post_id": 53199045, "comment_id": 93287926, "body": "@Malt. Not sure where is my &quot;misunderstanding&quot;. Write to <code>volatile</code> should flash cache into the main and read from <code>volatile</code> should invalidate the cache so that other thread will read from main."}], "tags": [], "owner": {"reputation": 5538, "user_id": 812787, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9bfd1118658eeaac257e60eb9f0cb5de?s=128&d=identicon&r=PG", "display_name": "tsolakp", "link": "https://stackoverflow.com/users/812787/tsolakp"}, "is_accepted": false, "score": 0, "last_activity_date": 1541633857, "last_edit_date": 1541633857, "creation_date": 1541630691, "answer_id": 53199045, "question_id": 53198863, "link": "https://stackoverflow.com/questions/53198863/what-guarantees-the-thread-safety-of-guavas-immutablelist/53199045#53199045", "title": "What guarantees the thread safety of Guava&#39;s ImmutableList?", "body": "<p>You are talking about two different things in here.</p>\n\n<ol>\n<li><p>Access to already built <code>RegularImmutableList</code> and its <code>array</code> is thread safe because there wont be any concurrent writes and reads to that array. Only concurrent reads.</p></li>\n<li><p>The threading issue can happen when you pass it to another thread. But that has nothing to do with <code>RegularImmutableList</code> but with how other threads see reference to it. \nLets say one thread creates <code>RegularImmutableList</code> and passes its reference to another thread. For the other thread to see that the reference has been updated and is now pointing to new created <code>RegularImmutableList</code> you will need to use either <code>synchronization</code> or <code>volatile</code>.</p></li>\n</ol>\n\n<p>EDIT:</p>\n\n<p>I think the concern OP has is how JMM makes sure that whatever got written into the <code>array</code> after its creation from one building thread gets visible to other threads after its reference gets passed to them.</p>\n\n<p>This happens by the use or <code>volatile</code> or <code>synchronization</code>. When for example reader thread assigns <code>RegularImmutableList</code> to volatile variable the JMM will make sure that all writes to array get flashed into main memory and when other thread reads from it JMM makes sure that it will see all flashed writes. </p>\n"}, {"comments": [{"owner": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "edited": false, "score": 0, "creation_date": 1541631637, "post_id": 53199082, "comment_id": 93286917, "body": "Yes, the write of the reference to the array is thread-safe on account of it being <code>final</code>. So that&#39;s clearly thread safe. What I was wondering about were the writes of the individual elements. The elements of the array are neither <code>final</code> nor <code>volatile</code>. Yet they seem to be written by one thread and read by another without synchronization."}, {"owner": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "edited": false, "score": 0, "creation_date": 1541632550, "post_id": 53199082, "comment_id": 93287239, "body": "That&#39;s a very good find. Thank you. But it only applies to OpenJDK, not Java in general. The fact that it&#39;s something that OpenJDK guarantees doesn&#39;t mean anything regarding other implementations if it&#39;s not in the memory model."}, {"owner": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "edited": false, "score": 0, "creation_date": 1541632749, "post_id": 53199082, "comment_id": 93287302, "body": "Wait, that seems to apply to &quot;the effects of initialization&quot;, meaning the write of the reference to <code>array</code>. Not the writes into the array itself."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "edited": false, "score": 0, "creation_date": 1541633911, "post_id": 53199082, "comment_id": 93287605, "body": "@Malt Any object shared by threads must be created and then somehow given to other threads. That process has to ensure that every bit of the object creation is visible to every thread that receives the created object. This is true for all objects and there is nothing special about this one. However you create the object and then tell other threads about it must establish the necessary happens-before relationship between construction and subsequent access."}, {"owner": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1541634184, "post_id": 53199082, "comment_id": 93287673, "body": "@DavidSchwartz I don&#39;t understand your point. I never said that there&#39;s something special about this list. It&#39;s obvious that when passing objects between threads we must preserve the happens-before relationship, that&#39;s the premise of the question."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "edited": false, "score": 1, "creation_date": 1541634839, "post_id": 53199082, "comment_id": 93287835, "body": "@Malt Then you probably should have just asked what ensures thread safety when an object is created in one thread and then passed to another thread. The answer is in your question, &quot;<i>Each action in a thread happens-before every action in that thread that comes later in the program&#39;s order.</i>&quot;. So if a thread creates an object and then (in its program order) does something after that to make that object visible to other threads, that establishes the required relationship between the construction (and all its effects) and the giving other threads access."}], "tags": [], "owner": {"reputation": 13085, "user_id": 2668232, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8uJTm.jpg?s=128&g=1", "display_name": "Oleksandr Pyrohov", "link": "https://stackoverflow.com/users/2668232/oleksandr-pyrohov"}, "is_accepted": true, "score": 2, "last_activity_date": 1541941251, "last_edit_date": 1592644375, "creation_date": 1541630884, "answer_id": 53199082, "question_id": 53198863, "link": "https://stackoverflow.com/questions/53198863/what-guarantees-the-thread-safety-of-guavas-immutablelist/53199082#53199082", "title": "What guarantees the thread safety of Guava&#39;s ImmutableList?", "body": "<p>JMM guarantees safe initialization (all values initialized in the constructor will be visible to readers) if all fields in the object are <code>final</code> and there is no leakage of <code>this</code> from constructor<sup>1</sup>:</p>\n<pre><code>class RegularImmutableList&lt;E&gt; extends ImmutableList&lt;E&gt; {\n\n    final transient Object[] array;\n      ^\n\n    RegularImmutableList(Object[] array) {\n        this.array = array;\n    }\n}\n</code></pre>\n<p><a href=\"http://hg.openjdk.java.net/jdk9/jdk9/hotspot/file/ae45df3285c9/src/share/vm/opto/parse1.cpp#l930\" rel=\"nofollow noreferrer\">The final field semantics</a> guarantees that readers will see an up-to-date array:</p>\n<blockquote>\n<p>The effects of all initializations must be committed to memory before\nany code after constructor publishes the reference to the newly\nconstructed object.</p>\n</blockquote>\n<hr />\n<p><sup>Thank you to @JBNizet and to @chrylis for the link to the JLS.</sup></p>\n<p><sup>1 - &quot;If this is followed, then when the object is seen by another thread, that thread will always see the correctly constructed version of that object's final fields. <strong>It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are</strong>.&quot; - JLS <a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-17.html#jls-17.5\" rel=\"nofollow noreferrer\">\u00a717.5</a>.</sup></p>\n"}, {"comments": [{"owner": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "edited": false, "score": 0, "creation_date": 1541636304, "post_id": 53199699, "comment_id": 93288144, "body": "According to the memory model, the thread that built the object is guaranteed to see the effect of all of its writes. But writes can be reordered (<a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-17.html#jls-17.4\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se10/html/jls-17.html#jls-&zwnj;&#8203;17.4</a>). Plus, some writes might have already reached the main memory, while others could have remained in the thread&#39;s cache. So the java memory model is very careful about guarantees around which writes of the original thread are going to be visible to other threads."}, {"owner": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "edited": false, "score": 0, "creation_date": 1541636328, "post_id": 53199699, "comment_id": 93288150, "body": "So my question can be boiled down to &quot;does a write to a final field by thread A guarantee that other threads see the all previous writes by the same thread&quot;? To which the closest answer is the quote JB Nizet found: &quot;Set the final fields for an object in that object&#39;s constructor... If this is followed, then when the object is seen by another thread, that thread will always see the correctly constructed version of that object&#39;s final fields. It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are. &quot;"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "edited": false, "score": 1, "creation_date": 1541638362, "post_id": 53199699, "comment_id": 93288665, "body": "@Malt It doesn&#39;t matter either way in this case though. The other threads can&#39;t possibly even attempt the read until they are given access to the object somehow (otherwise they could access it before it&#39;s even constructed). And whatever gives them access happens after the writes."}, {"owner": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "edited": false, "score": 0, "creation_date": 1541700310, "post_id": 53199699, "comment_id": 93314916, "body": "Would you have said the same if the array wasn&#39;t <code>final</code>? No, right? That would clearly be unsafe. It has nothing to do with how the constructed list is passed to other threads. The list might be passed from thread to thread without locks or volatile writes. What guarantees the thread safety regardless of how the list is used is that the array is final. <code>final</code> guarantees that the writes of the array elements have been flushed to main memory before the construction is complete. That&#39;s what JB Nizet quoted from the memory model."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "edited": false, "score": 0, "creation_date": 1541701627, "post_id": 53199699, "comment_id": 93315559, "body": "Yes, I would say the same if the array wasn&#39;t <code>final</code>. What guarantees the thread safety is that the list <i>can&#39;t</i> be passed from thread to thread by any method whatsoever until the constructor returns and the thread that called the constructor does something, <i>anything</i>, to make that object accessible to other threads. If the object couldn&#39;t be accessed before the constructor started, it can&#39;t be accessed until after the constructor returns in the program order of the thread that calls the constructor, and that&#39;s sufficient."}, {"owner": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "edited": false, "score": 0, "creation_date": 1541706974, "post_id": 53199699, "comment_id": 93317971, "body": "I think you&#39;re mistaken. If the array wasn&#39;t final, the thread that built the list would be guaranteed to see a fully constructed object. But there is not such guarantee regarding other threads since the writes could have been reordered by the compiler (see example: <a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-17.html#jls-17.4\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se10/html/jls-17.html#jls-1&zwnj;&#8203;7.4</a>) or written to cache and not the main memory. It&#39;s explicitly demonstrated by this example in the Java memory model: <a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-17.html#jls-17.5\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se10/html/jls-17.html#jls-1&zwnj;&#8203;7.5</a>"}, {"owner": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "edited": false, "score": 0, "creation_date": 1541707012, "post_id": 53199699, "comment_id": 93317994, "body": "Would you like to continue discussing this in chat? This is getting a bit long for the comments."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "edited": false, "score": 0, "creation_date": 1541707751, "post_id": 53199699, "comment_id": 93318341, "body": "@Malt How would the thread give other threads access to the object without establishing the required relationship? And if a thread did that, wouldn&#39;t that be a bug in that thread regardless of how this class is implemented? Consider an immutable integer. It would be a bug to construct an instance of the immutable integer and then somehow give another thread access to that immutable integer if you didn&#39;t ensure the thread could see the results of the constructor. It has nothing to do with the thread-safety of the integer but of the code that passes the reference."}, {"owner": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "edited": false, "score": 0, "creation_date": 1541708176, "post_id": 53199699, "comment_id": 93318584, "body": "As demonstrated by example 17.5-1 linked above, a thread could write the list to to a non-volatile/non-final field. Then, Java doesn&#39;t guarantee that the other thread would see the writes performed by the first thread in the same order. This is explicitly written in both example 17.5-1 and 17.4-1."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "edited": false, "score": 0, "creation_date": 1541708421, "post_id": 53199699, "comment_id": 93318703, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/183320/discussion-between-david-schwartz-and-malt\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "is_accepted": false, "score": 1, "last_activity_date": 1541702142, "last_edit_date": 1541702142, "creation_date": 1541635275, "answer_id": 53199699, "question_id": 53198863, "link": "https://stackoverflow.com/questions/53198863/what-guarantees-the-thread-safety-of-guavas-immutablelist/53199699#53199699", "title": "What guarantees the thread safety of Guava&#39;s ImmutableList?", "body": "<p>As you stated: \"<em>Each action in a thread happens-before every action in that thread that comes later in the program's order.</em>\"</p>\n\n<p>Obviously, if a thread could somehow access the object before the constructor was even invoked, you would be screwed. So something must prevent the object from being accessed before its constructor returns. But once the constructor returns, anything that lets another thread access the object is safe because it happens after in the constructing thread's program order.</p>\n\n<p>Basic thread safety with any shared object is accomplished by ensuring that whatever allows threads to access the object does not take place until the constructor returns, establishing that anything the constructor might do happens before any other thread might access the object.</p>\n\n<p>The flow is:</p>\n\n<ol>\n<li>The object does not exist and cannot be accessed.</li>\n<li>Some thread calls the object's constructor (or does whatever else is needed to get the object ready to be used).</li>\n<li>That thread then does something to allow other threads to access the object.</li>\n<li>Other threads can now access the object.</li>\n</ol>\n\n<p>Program order of the thread invoking the constructor ensures that no part of 4 happens until all of 2 is done.</p>\n\n<p>Note that this applies just the same if things need to be done after the constructor returns, you can just consider them logically part of the construction process. And similarly, parts of the job can be done by other threads so long as anything that needs to see work done by another thread cannot start until some relationship is established with the work that other thread did.</p>\n\n<p>Does that not 100% answer your question?</p>\n\n<p>To restate:</p>\n\n<blockquote>\n  <p>How is this be thread safe? What guarantees the happens-before relationship between the writes performed in the Builder and the reads from RegularImmutableList?</p>\n</blockquote>\n\n<p>The answer is whatever prevented the object from being accessed before the constructor was even called (which has to be something, otherwise we'd be completely screwed) continues to prevent the object from being accessed until after the constructor returns. The constructor is effectively an atomic operation because no other thread could possibly attempt to access the object while it's running. Once the constructor returns, whatever the thread that called the constructor does to allow other threads to access the object necessarily takes place after the constructor returns because, \"[e]ach action in a thread happens-before every action in that thread that comes later in the program's order.\"</p>\n\n<p>And, one more time:</p>\n\n<blockquote>\n  <p>If some thread builds the list and passes its reference to some other threads without using locks (for example via a final or volatile field), I don't see what guarantees thread-safety. What am I missing?</p>\n</blockquote>\n\n<p>The thread first builds the list and then next passes its reference. The building of the list \"happens-before every action in that thread that comes later in the program's order\" and thus happens-before the passing of the reference. Thus any thread that sees the passing of the reference happens-after the building of the list completed.</p>\n\n<p>Were this not the case, there would be no good way to construct an object in one thread and then give other threads access to it. But this is perfectly safe to do because whatever method you use to hand the object from one thread to another will establish the necessarily relationship.</p>\n"}], "owner": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 1, "accepted_answer_id": 53199082, "answer_count": 3, "score": 4, "last_activity_date": 1551011032, "creation_date": 1541629784, "last_edit_date": 1551011032, "question_id": 53198863, "link": "https://stackoverflow.com/questions/53198863/what-guarantees-the-thread-safety-of-guavas-immutablelist", "title": "What guarantees the thread safety of Guava&#39;s ImmutableList?", "body": "<p>The Javadoc in Guava's <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/ImmutableList.java\" rel=\"nofollow noreferrer\">ImmutableList</a> says that the class has the properties of Guava's <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/ImmutableCollection.java\" rel=\"nofollow noreferrer\">ImmutableCollection</a>, one of which is thread safety:</p>\n\n<blockquote>\n  <p><strong>Thread safety.</strong> It is safe to access this collection concurrently from multiple threads.</p>\n</blockquote>\n\n<p>But look at how the <code>ImmutableList</code> is built by its Builder - The <code>Builder</code> keeps all elements in a <code>Object[]</code> (that's okay since no one said that the builder was thread safe) and upon construction passes that array (or possibly a copy) to the constructor of <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/RegularImmutableList.java\" rel=\"nofollow noreferrer\">RegularImmutableList</a>:</p>\n\n<pre><code>public abstract class ImmutableList&lt;E&gt; extends ImmutableCollection&lt;E&gt;\nimplements List&lt;E&gt;, RandomAccess {\n    ...\n    static &lt;E&gt; ImmutableList&lt;E&gt; asImmutableList(Object[] elements, int length) {\n      switch (length) {\n        case 0:\n          return of();\n        case 1:\n          return of((E) elements[0]);\n        default:\n          if (length &lt; elements.length) {\n            elements = Arrays.copyOf(elements, length);\n          }\n          return new RegularImmutableList&lt;E&gt;(elements);\n      }\n    }\n    ...\n    public static final class Builder&lt;E&gt; extends ImmutableCollection.Builder&lt;E&gt; {\n        Object[] contents;\n        ...\n        public ImmutableList&lt;E&gt; build() { //Builder's build() method\n          forceCopy = true;\n          return asImmutableList(contents, size);\n        }\n        ...\n    }\n\n}\n</code></pre>\n\n<p>What does <code>RegularImmutableList</code> do with these elements? What you'd expect, simply initiates its internal array, which is then used for all read oprations:</p>\n\n<pre><code>class RegularImmutableList&lt;E&gt; extends ImmutableList&lt;E&gt; {\n    final transient Object[] array;\n\n    RegularImmutableList(Object[] array) {\n      this.array = array;\n    }\n\n    ...\n}\n</code></pre>\n\n<p>How is this be thread safe? What guarantees the <strong>happens-before</strong> relationship between the <strong>writes</strong> performed in the <code>Builder</code> and the <strong>reads</strong> from <code>RegularImmutableList</code>?</p>\n\n<p>According to the <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">Java memory model</a> there is a happens-before relationship in only five cases (from the <a href=\"https://docs.oracle.com/javase/8/docs/api/?java/util/concurrent/package-summary.html\" rel=\"nofollow noreferrer\">Javadoc</a> for <code>java.util.concurrent</code>):</p>\n\n<blockquote>\n  <ul>\n  <li>Each action in a thread happens-before every action in that thread that comes later in the program's order.</li>\n  <li>An unlock (synchronized block or method exit) of a monitor happens-before every subsequent lock (synchronized block or method\n  entry) of that same monitor. And because the happens-before relation\n  is transitive, all actions of a thread prior to unlocking\n  happen-before all actions subsequent to any thread locking that\n  monitor.</li>\n  <li>A write to a volatile field happens-before every subsequent read of that same field. Writes and reads of volatile fields have similar\n  memory consistency effects as entering and exiting monitors, but do\n  not entail mutual exclusion locking.</li>\n  <li>A call to start on a thread happens-before any action in the started thread.</li>\n  <li>All actions in a thread happen-before any other thread successfully returns from a join on that thread.</li>\n  </ul>\n</blockquote>\n\n<p>None of these seem to apply here. If some thread builds the list and passes its reference to some other threads without using locks (for example via a <code>final</code> or <code>volatile</code> field), I don't see what guarantees thread-safety. What am I missing?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Yes, the write of the reference to the array is thread-safe on account of it being <code>final</code>. So that's clearly thread safe.\nWhat I was wondering about were the writes of the individual elements. The elements of the array are neither <code>final</code> nor <code>volatile</code>. Yet they seem to be written by one thread and read by another without synchronization. </p>\n\n<p>So the question can be boiled down to \"if thread A writes to a <code>final</code> field, does that guarantee that other threads will see not just that write but all of A's previous writes as well?\"</p>\n"}, {"tags": ["java", "eclipse", "maven", "eclipse-plugin"], "comments": [{"owner": {"reputation": 2940, "user_id": 411459, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fd0d688d86106a1481e4695d75bb7810?s=128&d=identicon&r=PG", "display_name": "Duncan Krebs", "link": "https://stackoverflow.com/users/411459/duncan-krebs"}, "edited": false, "score": 0, "creation_date": 1541798449, "post_id": 53198838, "comment_id": 93353691, "body": "Did you see the answer I posted, did it work for you?"}], "answers": [{"comments": [{"owner": {"reputation": 279, "user_id": 6357152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79eb078ccd72e0c51f55a3c153d6e2e1?s=128&d=identicon&r=PG&f=1", "display_name": "PLee", "link": "https://stackoverflow.com/users/6357152/plee"}, "edited": false, "score": 0, "creation_date": 1541800348, "post_id": 53201544, "comment_id": 93354246, "body": "Hi Duncan, thanks for your answer. I think your answer should work, but due to some security issue, it does not work for my company computer. Then I ask for a super user access. It works."}, {"owner": {"reputation": 2940, "user_id": 411459, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fd0d688d86106a1481e4695d75bb7810?s=128&d=identicon&r=PG", "display_name": "Duncan Krebs", "link": "https://stackoverflow.com/users/411459/duncan-krebs"}, "reply_to_user": {"reputation": 279, "user_id": 6357152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79eb078ccd72e0c51f55a3c153d6e2e1?s=128&d=identicon&r=PG&f=1", "display_name": "PLee", "link": "https://stackoverflow.com/users/6357152/plee"}, "edited": false, "score": 0, "creation_date": 1541801000, "post_id": 53201544, "comment_id": 93354447, "body": "Hi Peter, I agree this stuff is a pain. I work for a pretty large company (AT&amp;T) and their solution is having internal maven repositories that we point to so we don&#39;t have to get out to the internet. Good luck! comment if you have any other questions."}], "tags": [], "owner": {"reputation": 2940, "user_id": 411459, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fd0d688d86106a1481e4695d75bb7810?s=128&d=identicon&r=PG", "display_name": "Duncan Krebs", "link": "https://stackoverflow.com/users/411459/duncan-krebs"}, "is_accepted": true, "score": 1, "last_activity_date": 1541652039, "last_edit_date": 1541652039, "creation_date": 1541651115, "answer_id": 53201544, "question_id": 53198838, "link": "https://stackoverflow.com/questions/53198838/eclipse-maven-is-blocked/53201544#53201544", "title": "Eclipse Maven is blocked", "body": "<p>You need to set the proxy server in eclipse by going to preferences and setting the proxy server your company uses. </p>\n\n<p><a href=\"https://i.stack.imgur.com/hmNHv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hmNHv.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you don't know your proxy server and are using windows run cmd as administrator and execute this command.</p>\n\n<blockquote>\n  <p>netsh winhttp show proxy</p>\n</blockquote>\n\n<p>If you are using another OS Google is your friend, but you need to set the proxy server in network connections of preferences dialog located in windows -> preferences of eclipse and search for proxy.</p>\n\n<p>Another option is to set proxy in your home directory /.m2.settings.xml here is an exmaple\n<a href=\"https://www.mkyong.com/maven/how-to-enable-proxy-setting-in-maven/\" rel=\"nofollow noreferrer\">https://www.mkyong.com/maven/how-to-enable-proxy-setting-in-maven/</a></p>\n"}], "owner": {"reputation": 279, "user_id": 6357152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79eb078ccd72e0c51f55a3c153d6e2e1?s=128&d=identicon&r=PG&f=1", "display_name": "PLee", "link": "https://stackoverflow.com/users/6357152/plee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "accepted_answer_id": 53201544, "answer_count": 1, "score": 1, "last_activity_date": 1541652039, "creation_date": 1541629673, "question_id": 53198838, "link": "https://stackoverflow.com/questions/53198838/eclipse-maven-is-blocked", "title": "Eclipse Maven is blocked", "body": "<p>I tried to use Maven on my company's computer. I use the same issue as in <a href=\"https://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources\">stackoverflow another question</a>. I suppose it is the proxy issue. Does anyone know which link I need to ask security to put into white list to use Maven in eclipse? </p>\n\n<p>Thanks\nPeter</p>\n"}, {"tags": ["java", "matrix", "multidimensional-array"], "comments": [{"owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "edited": false, "score": 1, "creation_date": 1541630211, "post_id": 53198814, "comment_id": 93286419, "body": "Deleted my answer, as &quot;Antisymmetric&quot; is not the oposite of &quot;Symmetric&quot; :-) (long long time ago...)"}, {"owner": {"reputation": 147, "user_id": 9576749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b70225b4adf81588dd47508d5e46fb59?s=128&d=identicon&r=PG&f=1", "display_name": "C0DeX", "link": "https://stackoverflow.com/users/9576749/c0dex"}, "reply_to_user": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "edited": false, "score": 0, "creation_date": 1541630725, "post_id": 53198814, "comment_id": 93286616, "body": "Thanks for your feedback!"}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 9576749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b70225b4adf81588dd47508d5e46fb59?s=128&d=identicon&r=PG&f=1", "display_name": "C0DeX", "link": "https://stackoverflow.com/users/9576749/c0dex"}, "edited": false, "score": 0, "creation_date": 1541630912, "post_id": 53198993, "comment_id": 93286686, "body": "This is helpful! I&#39;ll make some changes and see if I can figure out something."}, {"owner": {"reputation": 147, "user_id": 9576749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b70225b4adf81588dd47508d5e46fb59?s=128&d=identicon&r=PG&f=1", "display_name": "C0DeX", "link": "https://stackoverflow.com/users/9576749/c0dex"}, "edited": false, "score": 0, "creation_date": 1541631572, "post_id": 53198993, "comment_id": 93286893, "body": "Thanks! The code has finally been fixed! Now I have to work on transitive... which I think it&#39;s a lot hard hahahaha. I&#39;ll spend another 5 hours hahaha. Thanks a lot for your help."}], "tags": [], "owner": {"reputation": 2295, "user_id": 792779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99528e625676b23a593f5a3daa005793?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/792779/john"}, "is_accepted": true, "score": 1, "last_activity_date": 1541631834, "last_edit_date": 1541631834, "creation_date": 1541630429, "answer_id": 53198993, "question_id": 53198814, "link": "https://stackoverflow.com/questions/53198814/how-to-check-if-a-matrix-is-antisymmetric/53198993#53198993", "title": "How to check if a matrix is antisymmetric", "body": "<p>Asymmetry implies that for every i, j where i != j, M(i, j) == 0 or M(j, i) == 0.</p>\n\n<p>Your current condition:</p>\n\n<pre><code>if((graph.getEdge(i, j) == graph.getEdge(j, i)) &amp;&amp; (i == j))\n</code></pre>\n\n<p>Due to the <code>i == j</code> in your condition, you're checking the diagonal down the center of the matrix. This implies that <code>getEdge(i, j) == getEdge(i, i) == getEdge(j, j) == getEdge(j, i)</code>, since <code>i == j</code>. So your check will always pass since you're comparing a matrix entry to itself.</p>\n\n<p>Try implementing the condition specified in the definition you provided, which basically states that one of the two must be <code>0</code>:</p>\n\n<pre><code>if((graph.getEdge(i, j) == 0 || graph.getEdge(j, i) == 0) &amp;&amp; (i != j))\n</code></pre>\n\n<p>However, your logic for breaking out of the loop is flawed as well, since you'd return true if the first pair satisfies this condition rather than the whole matrix. Try checking for failures and exit early, otherwise if you make it through the matrix without failing then you know the condition was successful for each pair and the matrix is asymmetric:</p>\n\n<pre><code>// AntiSymmetric\npublic static boolean checkAntisymmetric(Graph graph, int vertices){\n    for(int i = 1; i &lt;= vertices; i++) {\n        for(int j = 1; j &lt;= vertices; j++){\n            if((i != j) &amp;&amp; graph.getEdge(i, j) != 0 &amp;&amp; graph.getEdge(j, i) != 0) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>We essentially check to see if any pairs don't satisfy the condition.</p>\n"}], "owner": {"reputation": 147, "user_id": 9576749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b70225b4adf81588dd47508d5e46fb59?s=128&d=identicon&r=PG&f=1", "display_name": "C0DeX", "link": "https://stackoverflow.com/users/9576749/c0dex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2717, "favorite_count": 1, "accepted_answer_id": 53198993, "answer_count": 1, "score": 1, "last_activity_date": 1541631834, "creation_date": 1541629547, "last_edit_date": 1541631688, "question_id": 53198814, "link": "https://stackoverflow.com/questions/53198814/how-to-check-if-a-matrix-is-antisymmetric", "title": "How to check if a matrix is antisymmetric", "body": "<p>Here's my code to check if a matrix is antisymmetric. (A relation R on a set A is called antisymmetric if and only if for any a, and b in A, whenever (a,b) in R , and (b,a) in R , a = b must hold.)</p>\n\n<pre><code>// AntiSymmetric\npublic static boolean checkAntisymmetric(Graph graph, int vertices){\n    boolean antisymmetric = false;\n    for(int i = 1; i &lt;= vertices; i++) {\n        for(int j = 1; j &lt;= vertices; j++){\n            if((graph.getEdge(i, j) == graph.getEdge(j, i)) &amp;&amp; (i == j)){\n                antisymmetric = true;\n                break;\n            }\n        }\n    }\n    if(antisymmetric){\n        return true;\n    }\n    else {\n        return false;\n    }\n}\n</code></pre>\n\n<p>And my getEdge function is:</p>\n\n<pre><code>public int getEdge(int to, int from){\n    try{\n        return adjencencyMatrix[to][from];\n    } catch(ArrayIndexOutOfBoundsException index){\n        System.out.println(\"Vertices does not exist\");\n    }\n    return -1;\n}\n</code></pre>\n\n<p>For example, if I give the edges represented by pairs: (2,3) (3,5) (3,2) (5,1) (4,4)\nIt should be return false because of (4,4).\nAdditionally I used this as reference:<a href=\"https://i.stack.imgur.com/2RZaC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2RZaC.png\" alt=\"Representing Relations\"></a> </p>\n\n<p>I was able to create a function in which checks if a matrix is indeed symmetric. The only thing different is that my anti-symmetric function has the condition (i == j) within the if statement. Could someone see why it's always returning true? Thanks.\nAn example Matrix I've been using to test the function is shown here:</p>\n\n<pre><code>0 0 0 0 0\n0 0 1 0 0\n0 1 0 0 1\n0 0 0 0 0\n1 0 0 0 0\n</code></pre>\n\n<p>For the pairs: (2,3) (3,5) (3,2) (5,1)</p>\n"}, {"tags": ["java", "debugging", "wildfly", "remote-debugging", "java-11"], "comments": [{"owner": {"reputation": 34704, "user_id": 1746118, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/a4a3P.png?s=128&g=1", "display_name": "Naman", "link": "https://stackoverflow.com/users/1746118/naman"}, "edited": false, "score": 0, "creation_date": 1541647058, "post_id": 53198798, "comment_id": 93290590, "body": "Few doubts in general - Does that work on any other port by the way? What is the content of <code>standalone.sh</code>? How about tracing any failure logs for this?"}, {"owner": {"reputation": 3689, "user_id": 4014509, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/885519be72418878095cf1375d7e8567?s=128&d=identicon&r=PG", "display_name": "Sebastian S", "link": "https://stackoverflow.com/users/4014509/sebastian-s"}, "reply_to_user": {"reputation": 34704, "user_id": 1746118, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/a4a3P.png?s=128&g=1", "display_name": "Naman", "link": "https://stackoverflow.com/users/1746118/naman"}, "edited": false, "score": 0, "creation_date": 1541662777, "post_id": 53198798, "comment_id": 93294661, "body": "<code>standalone.sh</code> is the <a href=\"https://github.com/wildfly/wildfly-core/blob/6.0.2.Final/core-feature-pack/src/main/resources/content/bin/standalone.sh\" rel=\"nofollow noreferrer\">unpatched file from Wildfly 14.0.1</a>. Like what other ports? Wildfly is reachable via 8080, 8443 and 9990. 8787 is clearly exposed as debug port in the aforementioned JAVA_OPTS."}, {"owner": {"reputation": 2015, "user_id": 1398228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3feff958d2b9ecf5bf131ab690eb83f3?s=128&d=identicon&r=PG", "display_name": "ehsavoie", "link": "https://stackoverflow.com/users/1398228/ehsavoie"}, "edited": false, "score": 1, "creation_date": 1541664292, "post_id": 53198798, "comment_id": 93295312, "body": "and if you set suspend to yes (y) does the startup suspend ? Just checking that the debug option is taken into account by the JVM"}, {"owner": {"reputation": 3689, "user_id": 4014509, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/885519be72418878095cf1375d7e8567?s=128&d=identicon&r=PG", "display_name": "Sebastian S", "link": "https://stackoverflow.com/users/4014509/sebastian-s"}, "reply_to_user": {"reputation": 2015, "user_id": 1398228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3feff958d2b9ecf5bf131ab690eb83f3?s=128&d=identicon&r=PG", "display_name": "ehsavoie", "link": "https://stackoverflow.com/users/1398228/ehsavoie"}, "edited": false, "score": 0, "creation_date": 1541667648, "post_id": 53198798, "comment_id": 93296835, "body": "@ehsavoie indeed Wildfly suspends after logging <code>Listening for transport dt_socket at address: 8787</code>. However my IDE (IntelliJ Idea) still says <code>Unable to open debugger port (localhost:8787): java.io.IOException &quot;handshake failed - connection prematurally closed&quot;</code>"}, {"owner": {"reputation": 2015, "user_id": 1398228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3feff958d2b9ecf5bf131ab690eb83f3?s=128&d=identicon&r=PG", "display_name": "ehsavoie", "link": "https://stackoverflow.com/users/1398228/ehsavoie"}, "edited": false, "score": 1, "creation_date": 1541687550, "post_id": 53198798, "comment_id": 93307648, "body": "What does netstat -ln show ?"}, {"owner": {"reputation": 3689, "user_id": 4014509, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/885519be72418878095cf1375d7e8567?s=128&d=identicon&r=PG", "display_name": "Sebastian S", "link": "https://stackoverflow.com/users/4014509/sebastian-s"}, "reply_to_user": {"reputation": 2015, "user_id": 1398228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3feff958d2b9ecf5bf131ab690eb83f3?s=128&d=identicon&r=PG", "display_name": "ehsavoie", "link": "https://stackoverflow.com/users/1398228/ehsavoie"}, "edited": false, "score": 0, "creation_date": 1541688494, "post_id": 53198798, "comment_id": 93308233, "body": "@ehsavoie that was the important hint. According to netstat the debug port was bound to <code>127.0.0.1:8787</code> instead of <code>0.0.0.0:8787</code>. Apparently this changed with one of the latest Java releases. I&#39;d accept this as an answer if you want to write one. Starting Wildfly with <code>standalone.sh --debug 0.0.0.0:8787</code> solves it."}], "answers": [{"tags": [], "owner": {"reputation": 3689, "user_id": 4014509, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/885519be72418878095cf1375d7e8567?s=128&d=identicon&r=PG", "display_name": "Sebastian S", "link": "https://stackoverflow.com/users/4014509/sebastian-s"}, "is_accepted": true, "score": 25, "last_activity_date": 1542181530, "creation_date": 1542181530, "answer_id": 53295262, "question_id": 53198798, "link": "https://stackoverflow.com/questions/53198798/remote-debugging-no-connection-to-wildfly-14-on-openjdk-11-at-port-8787/53295262#53295262", "title": "Remote debugging: No connection to Wildfly 14 on OpenJDK 11 at port 8787", "body": "<p>The cause lies in the default behaviour that changed with Java 9 according to <a href=\"https://stackoverflow.com/a/48396996/4014509\">this answer</a>: Beginning with Java 9, the JVM only accepts local connections unless otherwise specified.</p>\n\n<p>Therefore the solution is fairly easy:</p>\n\n<p>While with Java 8 it is sufficient to start Wildfly with <code>--debug</code>, with Java 9 I needed to change this to <code>--debug *:8787</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 10862, "user_id": 9950, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xHe3E.jpg?s=128&g=1", "display_name": "Peter Kahn", "link": "https://stackoverflow.com/users/9950/peter-kahn"}, "edited": false, "score": 0, "creation_date": 1574778700, "post_id": 53595258, "comment_id": 104346146, "body": "Seems like in java8 address could just be port and by java11 address means address and port for systems with multiple interface, I presume.  Thanks for this."}], "tags": [], "owner": {"reputation": 331, "user_id": 5251115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb03c2d774f3608acd0eaae20237e42?s=128&d=identicon&r=PG&f=1", "display_name": "white.black", "link": "https://stackoverflow.com/users/5251115/white-black"}, "is_accepted": false, "score": 33, "last_activity_date": 1543845149, "creation_date": 1543845149, "answer_id": 53595258, "question_id": 53198798, "link": "https://stackoverflow.com/questions/53198798/remote-debugging-no-connection-to-wildfly-14-on-openjdk-11-at-port-8787/53595258#53595258", "title": "Remote debugging: No connection to Wildfly 14 on OpenJDK 11 at port 8787", "body": "<p>For jdk 11,you should use </p>\n\n<pre><code>-agentlib:jdwp=transport=dt_socket,address=*:8787,server=y,suspend=n\n</code></pre>\n\n<p>instead.</p>\n"}, {"tags": [], "owner": {"reputation": 1080, "user_id": 1861001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7a7cf463f21ec516c7779463c650fa4?s=128&d=identicon&r=PG", "display_name": "brunobastosg", "link": "https://stackoverflow.com/users/1861001/brunobastosg"}, "is_accepted": false, "score": 1, "last_activity_date": 1565718514, "creation_date": 1565718514, "answer_id": 57482938, "question_id": 53198798, "link": "https://stackoverflow.com/questions/53198798/remote-debugging-no-connection-to-wildfly-14-on-openjdk-11-at-port-8787/57482938#57482938", "title": "Remote debugging: No connection to Wildfly 14 on OpenJDK 11 at port 8787", "body": "<p>In my case, I was using Java 8 in my machine, but the remote Wildfly instance was running on Java 11.</p>\n\n<p>When I changed my Java version to 11, it worked.</p>\n"}], "owner": {"reputation": 3689, "user_id": 4014509, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/885519be72418878095cf1375d7e8567?s=128&d=identicon&r=PG", "display_name": "Sebastian S", "link": "https://stackoverflow.com/users/4014509/sebastian-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7383, "favorite_count": 1, "accepted_answer_id": 53295262, "answer_count": 3, "score": 20, "last_activity_date": 1565718514, "creation_date": 1541629466, "last_edit_date": 1541843117, "question_id": 53198798, "link": "https://stackoverflow.com/questions/53198798/remote-debugging-no-connection-to-wildfly-14-on-openjdk-11-at-port-8787", "title": "Remote debugging: No connection to Wildfly 14 on OpenJDK 11 at port 8787", "body": "<p>I'm trying to connect my debugger to Wildlfy running on Open JDK 11.</p>\n\n<p>Despite Wildfly says: </p>\n\n<blockquote>\n  <p><code>Listening for transport dt_socket at address: 8787</code> </p>\n</blockquote>\n\n<p>My IDE (IntelliJ IDEA CE 2018.1) claims that it doesn't get any connection:</p>\n\n<blockquote>\n  <p><code>Unable to open debugger port (localhost:8787): java.io.IOException \"handshake failed - connection prematurally closed\"</code>.</p>\n</blockquote>\n\n<p>I'm starting Wildfly via <code>standalone.sh --debug</code> resulting in the following <code>JAVA_OPTS</code>:</p>\n\n<pre><code>-server\n-Xms64m\n-Xmx512m\n-XX:MetaspaceSize=96M\n-XX:MaxMetaspaceSize=256m\n-Djava.net.preferIPv4Stack=true\n-Djboss.modules.system.pkgs=org.jboss.byteman\n-Djava.awt.headless=true\n-agentlib:jdwp=transport=dt_socket,address=8787,server=y,suspend=n\n--add-exports=java.base/sun.nio.ch=ALL-UNNAMED\n--add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\n--add-exports=jdk.unsupported/sun.reflect=ALL-UNNAMED\n--add-modules=java.se\n</code></pre>\n\n<p>Did something change in Java 9/10/11? Remote debugging with the exact same setup works fine when using Oracle JDK 8.</p>\n\n<p>Using telnet I can confirm, that port <code>8787</code> is indeed not reachable.</p>\n\n<p><strong>Update</strong> after reading @ehsavoie's comment: <code>netstat -ln</code> on the server running Wildfly shows:</p>\n\n<pre><code>Proto Recv-Q Send-Q Local Address           Foreign Address         State   \ntcp        0      0 127.0.0.1:8787          0.0.0.0:*               LISTEN \n</code></pre>\n\n<p>So apparently with OpenJDK 11 the debug port is now bound to localhost by default.</p>\n"}, {"tags": ["java", "android", "random", "switch-statement", "bounds"], "comments": [{"owner": {"reputation": 10057, "user_id": 2423906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rkpYv.jpg?s=128&g=1", "display_name": "Sedrick", "link": "https://stackoverflow.com/users/2423906/sedrick"}, "edited": false, "score": 1, "creation_date": 1541629224, "post_id": 53198737, "comment_id": 93286061, "body": "Is this Android?"}, {"owner": {"reputation": 10057, "user_id": 2423906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rkpYv.jpg?s=128&g=1", "display_name": "Sedrick", "link": "https://stackoverflow.com/users/2423906/sedrick"}, "edited": false, "score": 0, "creation_date": 1541629628, "post_id": 53198737, "comment_id": 93286206, "body": "Don&#39;t use a <code>Switch-Statement</code>. Use/pass a List to the next <code>Activity</code>."}, {"owner": {"reputation": 10057, "user_id": 2423906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rkpYv.jpg?s=128&g=1", "display_name": "Sedrick", "link": "https://stackoverflow.com/users/2423906/sedrick"}, "edited": false, "score": 1, "creation_date": 1541629740, "post_id": 53198737, "comment_id": 93286242, "body": "I assumed this is <code>Android</code> from the code and added the <code>Android</code> Tag. You need to start here.-&gt;   Welcome to Where Developers Learn, Share, &amp; Build Careers! <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 8709361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojJ76.jpg?s=128&g=1", "display_name": "Keanu Dirkse", "link": "https://stackoverflow.com/users/8709361/keanu-dirkse"}, "is_accepted": false, "score": 0, "last_activity_date": 1541629890, "creation_date": 1541629890, "answer_id": 53198889, "question_id": 53198737, "link": "https://stackoverflow.com/questions/53198737/random-switch-bound-depending-on-filled-textviews/53198889#53198889", "title": "Random switch bound depending on filled TextViews", "body": "<p>You could try checking if the views are empty first and then using a counter to keep track. Then use that counter as the bound.</p>\n\n<p>You can check if a Textview is empty like this:</p>\n\n<pre><code>TextView text= findById(R.id.textview);\nBoolean isEmpty =text.getText().toString().isEmpty();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6082258, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dDe-VIN2mmk/AAAAAAAAAAI/AAAAAAAAAJ0/9Xji-MyGqGw/photo.jpg?sz=128", "display_name": "Leonzio", "link": "https://stackoverflow.com/users/6082258/leonzio"}, "is_accepted": false, "score": 0, "last_activity_date": 1541630305, "creation_date": 1541630305, "answer_id": 53198961, "question_id": 53198737, "link": "https://stackoverflow.com/questions/53198737/random-switch-bound-depending-on-filled-textviews/53198961#53198961", "title": "Random switch bound depending on filled TextViews", "body": "<p>But what will happend if <code>if else (textview1 filled &amp;&amp; TextView2 filled &amp;&amp; TextView3 empty) {x=1} etc.</code> third field will be empty and fourt will not? Better is collect all your fields in array and iterate. If field is filled then add 1 to counter. Something like this: </p>\n\n<pre><code>int filledCount = 0;\nTextView[] views = {TextView1, TextView2, ...};\nfor (TextView view : views)\n{if (view.filled) filledCount++;}\n</code></pre>\n\n<p>If you use java 8 use streams. <code>Stream.of(TextView1,TextView2,...).filter(TextView::isFilled).count();</code></p>\n"}], "owner": {"reputation": 1, "user_id": 10620830, "user_type": "registered", "profile_image": "https://graph.facebook.com/1990835224316648/picture?type=large", "display_name": "Leon", "link": "https://stackoverflow.com/users/10620830/leon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541630305, "creation_date": 1541629090, "last_edit_date": 1541629259, "question_id": 53198737, "link": "https://stackoverflow.com/questions/53198737/random-switch-bound-depending-on-filled-textviews", "title": "Random switch bound depending on filled TextViews", "body": "<p>I started coding some months ago and started practicing on my own app.<br>\nSix names can be entered and after that random names are matches with random tasks, which works fine if you enter all six names.</p>\n\n<p>Now I want the random bound to be capped by the textViews that actually contain entered names...  </p>\n\n<pre><code>Random r = new Random();\nint Case = r.nextInt(6);\n\nswitch(Case){  \ncase 0: tv = findViewById(R.id.textView2);  \n    st = getIntent().getExtras().getString(\"Player\");  \n    tv.setText(st);  \nbreak;  \n\n\ncase 1: tv = findViewById(R.id.textView2);  \n    st = getIntent().getExtras().getString(\"Player2\");  \n    tv.setText(st);  \nbreak;  \n\ncase 2: tv = findViewById(R.id.textView2);  \n    st = getIntent().getExtras().getString(\"Player3\");  \n    tv.setText(st);  \nbreak;  \n\ncase 3: tv = findViewById(R.id.textView2);  \n    st = getIntent().getExtras().getString(\"Player4\");  \n    tv.setText(st);  \nbreak;  \n\ncase 4: tv = findViewById(R.id.textView2);  \n    st = getIntent().getExtras().getString(\"Player5\");  \n    tv.setText(st);  \nbreak;  \n\ncase 5: tv = findViewById(R.id.textView2);  \n    st = getIntent().getExtras().getString(\"Player6\");  \n    tv.setText(st);  \nbreak;  \n\ncase 6: tv = findViewById(R.id.textView2);  \n    st = getIntent().getExtras().getString(\"Player7\");  \n    tv.setText(st);  \nbreak;\n</code></pre>\n\n<p>I think of using something like </p>\n\n<pre><code>int x;\nif (textView1 filled &amp;&amp; TextView2 empty){x=0}\nif else (textview1 filled &amp;&amp; TextView2 filled &amp;&amp; TextView3 empty) {x=1} etc.\nRandom r = new Random();\nint Case = r.nextInt(x);\n</code></pre>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 33492, "user_id": 7212686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ey8ll.png?s=128&g=1", "display_name": "azro", "link": "https://stackoverflow.com/users/7212686/azro"}, "edited": false, "score": 0, "creation_date": 1541628983, "post_id": 53198672, "comment_id": 93285971, "body": "Please give an example with real elements, your text is unclear"}, {"owner": {"reputation": 17, "user_id": 10593111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceea15e58f58ae982f393565b485d156?s=128&d=identicon&r=PG&f=1", "display_name": "JFed", "link": "https://stackoverflow.com/users/10593111/jfed"}, "reply_to_user": {"reputation": 33492, "user_id": 7212686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ey8ll.png?s=128&g=1", "display_name": "azro", "link": "https://stackoverflow.com/users/7212686/azro"}, "edited": false, "score": 0, "creation_date": 1541708294, "post_id": 53198672, "comment_id": 93318643, "body": "Since I cannot paste the real data, I provided a updated sample from my map, with my next question I will add more clear data."}, {"owner": {"reputation": 33492, "user_id": 7212686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ey8ll.png?s=128&g=1", "display_name": "azro", "link": "https://stackoverflow.com/users/7212686/azro"}, "edited": false, "score": 0, "creation_date": 1541708363, "post_id": 53198672, "comment_id": 93318677, "body": "WHen i say &quot;real element&quot; just use the ones of your example, instead of the sentence you make at the end. Because I don&#39;t think there is a need of &quot;compare&quot; here"}, {"owner": {"reputation": 17, "user_id": 10593111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceea15e58f58ae982f393565b485d156?s=128&d=identicon&r=PG&f=1", "display_name": "JFed", "link": "https://stackoverflow.com/users/10593111/jfed"}, "reply_to_user": {"reputation": 33492, "user_id": 7212686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ey8ll.png?s=128&g=1", "display_name": "azro", "link": "https://stackoverflow.com/users/7212686/azro"}, "edited": false, "score": 0, "creation_date": 1541708583, "post_id": 53198672, "comment_id": 93318788, "body": "Sure, will use it accordingly from next questions. Thank you for your reply, trying the suggestion provided."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 10593111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceea15e58f58ae982f393565b485d156?s=128&d=identicon&r=PG&f=1", "display_name": "JFed", "link": "https://stackoverflow.com/users/10593111/jfed"}, "edited": false, "score": 0, "creation_date": 1541716910, "post_id": 53198979, "comment_id": 93322195, "body": "I tried iterating through each entrySet in my map and there was a lot of manipulations included, getOrDefault method seems fine, thank you."}], "tags": [], "owner": {"reputation": 33492, "user_id": 7212686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ey8ll.png?s=128&g=1", "display_name": "azro", "link": "https://stackoverflow.com/users/7212686/azro"}, "is_accepted": true, "score": 0, "last_activity_date": 1541704136, "last_edit_date": 1541704136, "creation_date": 1541630374, "answer_id": 53198979, "question_id": 53198672, "link": "https://stackoverflow.com/questions/53198672/take-value-from-a-map-of-certain-key-and-add-it-as-another-entryset-in-another-m/53198979#53198979", "title": "take value from a map of certain key and add it as another entrySet in another map", "body": "<p>If I understand your problem well, you need to get <code>Set&lt;String&gt;</code> corresponding to <code>ID</code> and add it to the same subMap as the <code>ID</code> <strong>:</strong></p>\n\n<ul>\n<li>Iterate throught the pairs</li>\n<li>get back the <code>ID</code></li>\n<li>get the <code>Set&lt;String&gt;</code> from the <code>ID</code></li>\n<li>add the <code>set</code> to the value's pair</li>\n</ul>\n\n\n\n<pre><code>for (Map.Entry&lt;String, Map&lt;String, Object&gt;&gt; account : accounts.entrySet()) {\n    Map&lt;String, Object&gt; accountVal = account.getValue();\n    String id = accountVal.getOrDefault(\"ID\", \"\").toString();\n    Set&lt;String&gt; setValues = entitlementMap.getOrDefault(id, Collections.emptySet());\n    accountVal.put(\"name\", new HashSet&lt;&gt;(setValues));\n}\n</code></pre>\n\n<hr>\n\n<p>With <a href=\"https://ideone.com/8my10M\" rel=\"nofollow noreferrer\"><kbd>Code Demo</kbd></a> you'll see the following content <strong>:</strong> </p>\n\n<pre><code>// From\nEntry52={Status=A, DisplayName=Test52, ID=052}\nEntry01={Status=A, DisplayName=Test01, ID=001}\nEntry02={Status=T, DisplayName=Test02, ID=002}\n\n// To \nEntry52={Status=A, DisplayName=Test52, ID=052, name=[]}\nEntry01={Status=A, DisplayName=Test01, ID=001, name=[Value01, Value02]}\nEntry02={Status=T, DisplayName=Test02, ID=002, name=[Value15, Value09, Value08]}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 10593111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceea15e58f58ae982f393565b485d156?s=128&d=identicon&r=PG&f=1", "display_name": "JFed", "link": "https://stackoverflow.com/users/10593111/jfed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 53198979, "answer_count": 1, "score": -1, "last_activity_date": 1541719913, "creation_date": 1541628849, "last_edit_date": 1541719913, "question_id": 53198672, "link": "https://stackoverflow.com/questions/53198672/take-value-from-a-map-of-certain-key-and-add-it-as-another-entryset-in-another-m", "title": "take value from a map of certain key and add it as another entrySet in another map", "body": "<ol>\n<li><p>My first map </p>\n\n<pre><code>Map&lt; String,Map&lt; String,Object&gt;&gt; accounts = new HashMap&lt; String,Map&lt; String,Object&gt;&gt;();\n</code></pre>\n\n<p>Example :</p>\n\n<pre><code>{Entry01={DisplayName=Test01, ID=001, Status=A}, \n Entry01={DisplayName=Test02, ID=002, Status=T}, \n Entry52={DisplayName=Test52, ID=052, Status=A}}\n</code></pre></li>\n<li><p>My second map </p>\n\n<pre><code>Map&lt; String,Set&lt; String&gt;&gt; groupMap = new HashMap&lt; String,Set&lt; String&gt;&gt;();\n</code></pre>\n\n<p>Example :</p>\n\n<pre><code>{001=[Value01, Value02], \n 002=[Value08, Value09, Value15], \n 013=[Value58, Value89, Value90]}\n</code></pre></li>\n</ol>\n\n<p>Need to compare both these map and based on the ID key value from first map, I need to get the value from my second map and add it back to my first map with the key name and value.</p>\n\n<p>I tired iterating through map but my map has many entries but only certain entry will have value. </p>\n"}, {"tags": ["java", "xmlbeans", "jlink"], "comments": [{"owner": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "edited": false, "score": 1, "creation_date": 1541630820, "post_id": 53198660, "comment_id": 93286671, "body": "Modules are encapsulated, which means other modules are not allowed to look at their contents, unless a module specifically allows it.  Adding <code>opens schemaorg_apache_xmlbeans.system.sD4E93FD3AF9AB0042ABA3EB739&zwnj;&#8203;A1C5B8;</code> to the module-info.java of the .jar that contains index.xsb might be sufficient."}, {"owner": {"reputation": 3953, "user_id": 466410, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e048a299c7ddc828e89f1b5fb166a2a6?s=128&d=identicon&r=PG", "display_name": "Marquinio", "link": "https://stackoverflow.com/users/466410/marquinio"}, "reply_to_user": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "edited": false, "score": 0, "creation_date": 1541685387, "post_id": 53198660, "comment_id": 93306266, "body": "Yeah opens fixed problem. Thanks!"}, {"owner": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "edited": false, "score": 0, "creation_date": 1541720245, "post_id": 53198660, "comment_id": 93323254, "body": "It\u2019s not an ideal solution.  <code>opens</code> is to modules what <code>public</code> is to class members.  But, it may be necessary for libraries that rely on reflection."}], "owner": {"reputation": 3953, "user_id": 466410, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e048a299c7ddc828e89f1b5fb166a2a6?s=128&d=identicon&r=PG", "display_name": "Marquinio", "link": "https://stackoverflow.com/users/466410/marquinio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 688, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541628779, "creation_date": 1541628779, "question_id": 53198660, "link": "https://stackoverflow.com/questions/53198660/xmlbeans-change-default-generated-xsb-files-location", "title": "XMLBeans change default generated .xsb files location", "body": "<p>OK so I have a main application that uses XMLBeans 3.0. I'm trying to create a self contained JVM using Java10 and Jlink.  So I use scomp command to generate my Java classes based on some XSD file and I name this JAR say custom.jar.\nI opened custom.jar and noticed that scomp places the .xsb files under this package: </p>\n\n<pre><code> schemaorg_apache_xmlbeans.system.s2CA052CB375796887D9B5CB20D4C89AC\n</code></pre>\n\n<p>Now my JLink project also depends on xbean.jar.  And it seems that this JAR also has a package like this similar to custom.jar:</p>\n\n<pre><code>schemaorg_apache_xmlbeans.system\n</code></pre>\n\n<p>So I compile main project and create a JVM runtime image using JLink.  Then I'm able to bring up my application.<br>\nProblem is that during runtime my application references a class from my custom.jar, I'm getting a missing file error.\nLooking at the stacktrace it seems that the classloader is trying to find my custom .xsb file under the xbean.jar, but of course it doesn't exist on that JAR.</p>\n\n<p>I'm not too familiar how classloading works especially now in Java10/modules, but anyone knows a way to fix this issue?  </p>\n\n<p>These are the exports from module-info xbean.jar for that package path in question:</p>\n\n<pre><code>exports schemaorg_apache_xmlbeans.system.sXMLCONFIG;\nexports schemaorg_apache_xmlbeans.system.sXMLLANG;\nexports schemaorg_apache_xmlbeans.system.sXMLSCHEMA;\nexports schemaorg_apache_xmlbeans.system.sXMLTOOLS;\n</code></pre>\n\n<p>These are the exports for my custom.jar for that similar package path:</p>\n\n<pre><code>exports schemaorg_apache_xmlbeans.system.s2CA052CB375796887D9B5CB20D4C89AC;\n</code></pre>\n\n<p>Below is the stacktrace but looking at the xbean.jar source code this is the line that cannot find the .xsb file:</p>\n\n<pre><code>SchemaTypeSystemImpl.this._resourceLoader.getResourceAsStream(resourcename);\n</code></pre>\n\n<p>Maybe a modification in any of the module-info files or how to tell scomp to change the default schemaorg_apache_xmlbeans.system package ?</p>\n\n<p>Thank in advance.</p>\n\n<pre><code>        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.lang.RuntimeException: Could not instantiate SchemaTypeSystemImpl (java.lang.reflect.InvocationTargetException): is the version of xbean.jar correct?\n        at custom/schemaorg_apache_xmlbeans.system.sD4E93FD3AF9AB0042ABA3EB739A1C5B8.TypeSystemHolder.loadTypeSystem(Unknown Source)\n        at custom/schemaorg_apache_xmlbeans.system.sD4E93FD3AF9AB0042ABA3EB739A1C5B8.TypeSystemHolder.&lt;clinit&gt;(Unknown Source)\n        ... 48 more\nCaused by: java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:488)\n        ... 50 more\nCaused by: org.apache.xmlbeans.SchemaTypeLoaderException: XML-BEANS compiled schema: Could not locate compiled schema resource schemaorg_apache_xmlbeans/system/sD4E93FD3AF9AB0042ABA3EB739A1C5B8/index.xsb (schemaorg_apache_xmlbeans.system.sD4E93FD3AF9AB0042ABA3EB739A1C5B8.index) - code 0\n        at xbean/org.apache.xmlbeans.impl.schema.SchemaTypeSystemImpl$XsbReader.&lt;init&gt;(SchemaTypeSystemImpl.java:1519)\n        at xbean/org.apache.xmlbeans.impl.schema.SchemaTypeSystemImpl.initFromHeader(SchemaTypeSystemImpl.java:273)\n        at xbean/org.apache.xmlbeans.impl.schema.SchemaTypeSystemImpl.&lt;init&gt;(SchemaTypeSystemImpl.java:185)\n        ... 54 more\n</code></pre>\n"}, {"tags": ["java", "c++", "stl", "yaml", "yaml-cpp"], "answers": [{"comments": [{"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 0, "creation_date": 1541948977, "post_id": 53247246, "comment_id": 93384967, "body": "Welcome to <a href=\"https://stackoverflow.com\">Stack Overflow</a>. Asking questions in an answer is not really appropriate. Either write a comment (once you have enough reputation) asking the OP which version (s)he/it is using. You can just write your version information so it is clear what you used. If the OP has a different, incompatible version, you&#39;ll probably get a comment stating that."}, {"owner": {"reputation": 35, "user_id": 10635545, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9rZU0C4-huY/AAAAAAAAAAI/AAAAAAAAAGE/AFqiHILtu30/photo.jpg?sz=128", "display_name": "Crow", "link": "https://stackoverflow.com/users/10635545/crow"}, "reply_to_user": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 0, "creation_date": 1542024055, "post_id": 53247246, "comment_id": 93407711, "body": "@Anthon Thanks for your suggestion, my answer may be so verbose.I will make it concise and clear at next answer"}, {"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 1, "creation_date": 1542037595, "post_id": 53247246, "comment_id": 93415209, "body": "I don&#39;t think your answer is too verbose. I have made much more verbose ones. Just restrict yourself to statement. And if some aspect in the question is not 100% clear, just state what assumption you made. Or do something like &quot;If you have version x.y, then ... and if you have version x.z you do .... For older versions I don&#39;t think .....&quot;"}], "tags": [], "owner": {"reputation": 35, "user_id": 10635545, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9rZU0C4-huY/AAAAAAAAAAI/AAAAAAAAAGE/AFqiHILtu30/photo.jpg?sz=128", "display_name": "Crow", "link": "https://stackoverflow.com/users/10635545/crow"}, "is_accepted": false, "score": 1, "last_activity_date": 1541948767, "last_edit_date": 1541948767, "creation_date": 1541927065, "answer_id": 53247246, "question_id": 53198608, "link": "https://stackoverflow.com/questions/53198608/add-yaml-values-to-std-map-using-yaml-cpp/53247246#53247246", "title": "Add YAML values to std map using YAML-CPP", "body": "<p>I've used this great library for YAML parser for 2 days. So, I may also have some mistakes. I use yaml-cpp ver0.6.2.</p>\n\n<p>The main idea is to build your own structure.\nAfter that, template specialization is used for specific types of transformation.</p>\n\n<p>I think the structure of your document is not very good. It feels like nesting for std::map. I think you can look at this example <a href=\"https://github.com/jbeder/yaml-cpp/wiki/How-To-Parse-A-Document-(Old-API)#a-complete-example\" rel=\"nofollow noreferrer\">Only for yaml file</a>, Because these API are old</p>\n\n<p>At last, you can pull the values into structures you've constructed.</p>\n\n<p>I sorry, I'm poor in English. So show you my code. And you can ask me again if you have new problems.</p>\n\n<p>Also, the code author is here. You may get more accurate answers from him .</p>\n\n<pre><code>struct Planet {\n    std::string earth;\n};\n\nstruct Satellite {\n    std::string moon;\n};\n\nstruct SolarSystem {\n    Planet p;\n    Satellite s;\n};\n\nnamespace YAML {\ntemplate&lt;&gt;\nstruct convert&lt;Planet&gt; {\n    static Node encode(const Planet &amp;rhs) {\n        Node node;\n        node[\"earth\"] = rhs.earth;\n        return node;\n    }\n\n    static bool decode(const Node &amp;node, Planet &amp;rhs) {\n        if (!node.IsMap())\n            return false;\n        rhs.earth = node[\"earth\"].as&lt;std::string&gt;();\n        return true;\n    }\n};\n\ntemplate&lt;&gt;\nstruct convert&lt;Satellite&gt; {\n    static Node encode(const Satellite &amp;rhs) {\n        Node node;\n        node[\"moon\"] = rhs.moon;\n        return node;\n    }\n\n    static bool decode(const Node &amp;node, Satellite &amp;rhs) {\n        if (!node.IsMap())\n            return false;\n        rhs.moon = node[\"moon\"].as&lt;std::string&gt;();\n        return true;\n    }\n};\n\ntemplate&lt;&gt;\nstruct convert&lt;SolarSystem&gt; {\n    static Node encode(const SolarSystem &amp;rhs) {\n        Node node;\n        node[\"my/planet\"] = rhs.p;\n        node[\"my/satellite\"] = rhs.s;\n        return node;\n    }\n\n    static bool decode(const Node &amp;node, SolarSystem &amp;rhs) {\n        if (!node.IsMap())\n            return false;\n\n        rhs.p = node[\"my/planet\"].as&lt;Planet&gt;();\n        rhs.s = node[\"my/satellite\"].as&lt;Satellite&gt;();\n        return true;\n    }\n};\n}\n\nint main(void)\n{\n    YAML::Node doc = YAML::LoadFile(\"path/to/your/file\");\n    SolarSystem ss = doc[\"SOLAR-SYSTEM\"].as&lt;SolarSystem&gt;();\n\n    std::cout &lt;&lt; ss.p.earth &lt;&lt; std::endl;      // \"blue\"\n    std::cout &lt;&lt; ss.s.moon &lt;&lt; std::endl;       // \"white\"\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 189, "user_id": 6828175, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6e9d001d0030aca9d02a98b0f6456de8?s=128&d=identicon&r=PG&f=1", "display_name": "hal9000", "link": "https://stackoverflow.com/users/6828175/hal9000"}, "is_accepted": true, "score": 0, "last_activity_date": 1542304481, "creation_date": 1542304481, "answer_id": 53325316, "question_id": 53198608, "link": "https://stackoverflow.com/questions/53198608/add-yaml-values-to-std-map-using-yaml-cpp/53325316#53325316", "title": "Add YAML values to std map using YAML-CPP", "body": "<p>Not sure why it was downvoted. Thanks to @Crow for the answer. I couldn't use it as it involved hard coding the values. Here is the solution i devised:</p>\n\n<pre><code>try {\n        YAML::Node firstTierNode = YAML::LoadFile(\"config.yml\");\n\n        std::map&lt;std::string, std::map&lt;std::string, std::map&lt;std::string, std::string&gt;&gt;&gt; newMap1;\n        for (YAML::const_iterator it = firstTierNode.begin(); it != firstTierNode.end(); ++it) {\n\n            string level1First = it-&gt;first.as&lt;std::string&gt;();\n\n            YAML::Node secondTierNode = it-&gt;second;\n\n            std::map&lt;std::string, std::map&lt;std::string, std::string&gt;&gt;  newMap2;\n            for (YAML::const_iterator it = secondTierNode.begin(); it != secondTierNode.end(); ++it) {\n\n                string level2First = it-&gt;first.as&lt;std::string&gt;();\n\n                YAML::Node thirdTierNode = it-&gt;second;\n\n                std::map&lt;std::string, std::string&gt; newMap3;\n                for (YAML::const_iterator it = thirdTierNode.begin(); it != thirdTierNode.end(); ++it) {\n\n                    string level3First = it-&gt;first.as&lt;std::string&gt;();\n\n                    string level3SecondString = it-&gt;second.as&lt;std::string&gt;();\n\n                    newMap3.insert(std::pair&lt;std::string, std::string&gt;(level3First, level3SecondString));\n                }\n\n                newMap2.insert(std::pair&lt;std::string, std::map&lt;string, string&gt;&gt;(level2First, newMap3));\n\n            }\n\n            newMap1.insert(std::pair&lt;std::string, std::map&lt;string, std::map&lt;string, string&gt;&gt;&gt;(level1First, newMap2));\n\n        }\n\n        for (const auto&amp; x : newMap1) {\n            std::cout &lt;&lt;x.first &lt;&lt; endl &lt;&lt; endl;\n            for (const auto&amp; y : x.second) {\n                std::cout &lt;&lt; y.first &lt;&lt; endl &lt;&lt; endl;\n                for (const auto&amp; z : y.second) {\n                    std::cout &lt;&lt; z.first &lt;&lt; endl &lt;&lt; z.second &lt;&lt; endl &lt;&lt; endl &lt;&lt; endl;\n                }\n            }\n        }\n\n        return 1;\n    }\n    catch (exception&amp; e) {\n            cerr &lt;&lt;e.what()&lt;&lt; endl;\n    }\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 6828175, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6e9d001d0030aca9d02a98b0f6456de8?s=128&d=identicon&r=PG&f=1", "display_name": "hal9000", "link": "https://stackoverflow.com/users/6828175/hal9000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1200, "favorite_count": 0, "accepted_answer_id": 53325316, "answer_count": 2, "score": -1, "last_activity_date": 1542304481, "creation_date": 1541628467, "last_edit_date": 1541956715, "question_id": 53198608, "link": "https://stackoverflow.com/questions/53198608/add-yaml-values-to-std-map-using-yaml-cpp", "title": "Add YAML values to std map using YAML-CPP", "body": "<p>I have a <strong>yaml</strong> file which has nested maps in it:</p>\n\n<pre><code>SOLAR-SYSTEM:\n  my/planet:\n    earth: blue\n  my/satellite:\n    moon: white\n</code></pre>\n\n<p>I am using <strong>yaml-cpp</strong> to parse these values.</p>\n\n<p>Is there any way I can pull out these values from the yaml file and add them to a <strong>stl map</strong>? </p>\n\n<p>Which brings me to second part of the question.</p>\n\n<p>I am fairly new to C++ so not exactly sure how maps work in it.</p>\n\n<p>In Java I parse the same yaml file using <strong>snakeyaml</strong>.</p>\n\n<p>It adds the map to a triple hashmap data structure:</p>\n\n<pre><code>HashMap&lt;String, Map&lt;String, Map&lt;String, String&gt;&gt;&gt;\n</code></pre>\n\n<p>And I can conveniently do a get in this.</p>\n\n<p>Is there any easy way to do something like this in C++?</p>\n"}, {"tags": ["java", "drjava"], "comments": [{"owner": {"reputation": 33492, "user_id": 7212686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ey8ll.png?s=128&g=1", "display_name": "azro", "link": "https://stackoverflow.com/users/7212686/azro"}, "edited": false, "score": 1, "creation_date": 1541628440, "post_id": 53198583, "comment_id": 93285781, "body": "Please give the output you have, and the diffenrence with the expected output"}], "answers": [{"tags": [], "owner": {"reputation": 33492, "user_id": 7212686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ey8ll.png?s=128&g=1", "display_name": "azro", "link": "https://stackoverflow.com/users/7212686/azro"}, "is_accepted": false, "score": 1, "last_activity_date": 1541628582, "creation_date": 1541628582, "answer_id": 53198626, "question_id": 53198583, "link": "https://stackoverflow.com/questions/53198583/rolling-dice-program/53198626#53198626", "title": "Rolling dice program", "body": "<p>You just forgot to reset the <code>stars</code> variable before iterate on the counting <strong>:</strong></p>\n\n<pre><code>for (int i = 2; i &lt; frequency.length; i++) {\n    stars = \"\";\n    for ( int j = 0; j &lt; frequency[i]; j++) {\n        stars = stars + \"*\"; \n    }\n    percentage = (frequency[i] * 100.0) / n;\n\n    System.out.printf(\"%7d\\t%9d\\t%10.2f\\t%s\\n\",i,frequency[i], percentage, stars);\n}\n</code></pre>\n\n<p>Also <code>%6d</code> should be <code>%9d</code> as <em>Frequency</em> is 9-length</p>\n"}], "owner": {"reputation": 89, "user_id": 10470569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a799721177f701084c9276e9eae4402?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/10470569/nicholas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541628582, "creation_date": 1541628323, "question_id": 53198583, "link": "https://stackoverflow.com/questions/53198583/rolling-dice-program", "title": "Rolling dice program", "body": "<p>new to programming here. I am working on dice simulator project that is almost finished but I am having trouble adding a histogram that prints an asterisk equivalent to the frequency. I believe i need to use nested for loops but am getting very confused with the for loops i have created.The first outcome always seems to be correct but the rest are not. Any help would be greatly appreciated. </p>\n\n<pre><code>import java.util.Random;\nimport java.util.Scanner; \n\npublic class RollingDice{\n\n   public static int getInt(Scanner scan) {\n    int input;\n    while ( !scan.hasNextInt() ) { \n      String garbage = scan.nextLine();\n      System.out.println(\"Please enter an integer. \");\n    }\n    input = scan.nextInt();\n    scan.nextLine();\n    return input;\n  }\n\n\npublic static void main(String [] args){\n\n    Scanner scan = new Scanner(System.in); \n    Random rand = new Random();\n    int dice1, dice2;\n    int [] frequency = new int [13];\n    int [] rolls = new int [13];\n    String stars = \"\"; \n    double percentage; \n    System.out.println(\"Enter the number of trials:\"); \n    int n = getInt(scan); \n\n\n    for (int i = 0; i &lt; n; i++) {\n        dice1 = rand.nextInt(6)+1; \n        dice2 = rand.nextInt(6)+1;\n        frequency[dice1+dice2]++;\n\n    }\n\n\n    System.out.printf(\"Outcome\\tFrequency\\tPercentage\\tHistogram\\n\");\n    for (int i = 2; i &lt; frequency.length; i++) {\n      for ( int j = 0; j &lt; frequency[i]; j++) {\n        stars = stars + \"*\"; \n      }\n         percentage = (frequency[i] * 100.0) / n;\n\n         System.out.printf(\"%7d\\t%6d\\t%10.2f\\t%s\\n\",i,frequency[i], percentage, stars);\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["java", "android", "toast"], "answers": [{"tags": [], "owner": {"reputation": 7532, "user_id": 1753073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c84fc25306e27dd3393559721ba869cd?s=128&d=identicon&r=PG", "display_name": "navylover", "link": "https://stackoverflow.com/users/1753073/navylover"}, "is_accepted": false, "score": 0, "last_activity_date": 1541628775, "creation_date": 1541628775, "answer_id": 53198659, "question_id": 53198437, "link": "https://stackoverflow.com/questions/53198437/how-to-do-toast-queue/53198659#53198659", "title": "How to do toast queue?", "body": "<p>You could use <a href=\"https://developer.android.com/reference/android/os/Handler#postDelayed(java.lang.Runnable,%20long)\" rel=\"nofollow noreferrer\">postDelayed</a>. </p>\n\n<blockquote>\n  <p>Causes the Runnable r to be added to the message queue, to be run\n  after the specified amount of time elapses.</p>\n</blockquote>\n\n<p>for example:</p>\n\n<pre><code>final Handler handler = new Handler();\nhandler.postDelayed(new Runnable() {\n  @Override\n  public void run() {\n    //Do something after 1500ms\n  }\n}, 1500);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 110, "user_id": 3497201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b859772722d23b0a7616b3b16559c24?s=128&d=identicon&r=PG&f=1", "display_name": "billy.mccarthy", "link": "https://stackoverflow.com/users/3497201/billy-mccarthy"}, "reply_to_user": {"reputation": 606, "user_id": 5230705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hj2P7.jpg?s=128&g=1", "display_name": "OMANSAK", "link": "https://stackoverflow.com/users/5230705/omansak"}, "edited": false, "score": 0, "creation_date": 1541637543, "post_id": 53198683, "comment_id": 93288445, "body": "Interesting. Did you try the previous answer using postDelayed?"}, {"owner": {"reputation": 110, "user_id": 3497201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b859772722d23b0a7616b3b16559c24?s=128&d=identicon&r=PG&f=1", "display_name": "billy.mccarthy", "link": "https://stackoverflow.com/users/3497201/billy-mccarthy"}, "reply_to_user": {"reputation": 606, "user_id": 5230705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hj2P7.jpg?s=128&g=1", "display_name": "OMANSAK", "link": "https://stackoverflow.com/users/5230705/omansak"}, "edited": false, "score": 0, "creation_date": 1541640494, "post_id": 53198683, "comment_id": 93289173, "body": "Just dis some reading in order to see the toast appear from a separate thread have a look at this <a href=\"https://stackoverflow.com/questions/3134683/android-toast-in-a-thread\" title=\"android toast in a thread\">stackoverflow.com/questions/3134683/android-toast-in-a-threa&zwnj;&#8203;d</a>"}], "tags": [], "owner": {"reputation": 110, "user_id": 3497201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b859772722d23b0a7616b3b16559c24?s=128&d=identicon&r=PG&f=1", "display_name": "billy.mccarthy", "link": "https://stackoverflow.com/users/3497201/billy-mccarthy"}, "is_accepted": false, "score": 0, "last_activity_date": 1541629222, "last_edit_date": 1541629222, "creation_date": 1541628878, "answer_id": 53198683, "question_id": 53198437, "link": "https://stackoverflow.com/questions/53198437/how-to-do-toast-queue/53198683#53198683", "title": "How to do toast queue?", "body": "<blockquote>\n  <p>A Handler allows you to send and process Message and Runnable objects associated with a thread's MessageQueue. Each Handler instance is associated with a single thread and that thread's message queue. When you create a new Handler, it is bound to the thread / message queue of the thread that is creating it -- from that point on, it will deliver messages and runnables to that message queue and execute them as they come out of the message queue.</p>\n</blockquote>\n\n<p>See <a href=\"https://stackoverflow.com/questions/51062798/handler-created-in-main-thread-acts-like-it-is-on-another-thread\">this</a> answer for why it is behaving that way.</p>\n\n<p>From my understanding if you don't want it to interrupt the main thread you will need to create the Handler in a seperate thread as the handler posts the runnable on the thread it was created on. </p>\n\n<pre><code>new Thread(()-&gt;{\n    _toastQueue.add(toastSettings);\n    if (_toastQueue.size() == 1) {\n        new Handler().post(new Runnable() {\n            @Override\n            public void run() {\n                while (_toastQueue.size() != 0) {\n                    Toast.makeText(_toastQueue.get(0).getContext(), _toastQueue.get(0).getMessage(), _toastQueue.get(0).isLong() ? Toast.LENGTH_LONG : Toast.LENGTH_SHORT).show();\n                    _toastQueue.remove(_toastQueue.get(0));\n                    //thread sleep 4sec ??\n                }\n            }\n        });\n    }\n}).start();\n</code></pre>\n\n<p>Wrapping the code you have in a separate thread and starting it should allow the toast to run independently from the main.</p>\n"}], "owner": {"reputation": 606, "user_id": 5230705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hj2P7.jpg?s=128&g=1", "display_name": "OMANSAK", "link": "https://stackoverflow.com/users/5230705/omansak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 587, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541629222, "creation_date": 1541627713, "question_id": 53198437, "link": "https://stackoverflow.com/questions/53198437/how-to-do-toast-queue", "title": "How to do toast queue?", "body": "<p>I am working on Thread Queue. My aim is ensure not overlap that more than one toast at same time. Example Call toasts in onCreate,onStart,onResume states.</p>\n\n<p>Firsty i create a class for toast helper that has toast queue with activity context. That queue execute a thread until queue has no items but this code is not work. But i dont know toast how to do wait a thread for toast ? if i use Thread.Sleep(4000) then main UI freezes</p>\n\n<pre><code> public static void CreateToast(final ToastSettings toastSettings) {\n        _toastQueue.add(toastSettings);\n        if (_toastQueue.size() == 1) {\n            new Handler().post(new Runnable() {\n                @Override\n                public void run() {\n                    while (_toastQueue.size() != 0) {\n                        Toast.makeText(_toastQueue.get(0).getContext(), _toastQueue.get(0).getMessage(), _toastQueue.get(0).isLong() ? Toast.LENGTH_LONG : Toast.LENGTH_SHORT).show();\n                        _toastQueue.remove(_toastQueue.get(0));\n                        //thread sleep 4sec ??\n                    }\n                }\n            });\n        }\n    }\n</code></pre>\n"}, {"tags": ["java", "database", "jira"], "owner": {"reputation": 11, "user_id": 10574835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63e69a4dfa50d9cdf4da9c4702ea143c?s=128&d=identicon&r=PG&f=1", "display_name": "jebak", "link": "https://stackoverflow.com/users/10574835/jebak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541627522, "creation_date": 1541627522, "question_id": 53198397, "link": "https://stackoverflow.com/questions/53198397/how-to-retrieve-data-from-database-developing-jira-plugin", "title": "How to retrieve data from database developing jira plugin?", "body": "<p>Im simply developing CRUD Jira plugin using Atlassian-Sd. I have my application on localhost <a href=\"http://localhost:2990/jira\" rel=\"nofollow noreferrer\">http://localhost:2990/jira</a>, I created simple projects and issues.\nIn my class I use Active Objects layer. </p>\n\n<p>Im using for example </p>\n\n<pre><code>public ExampleEntry getID(String id){\n    return ao.get(ExampleEntry.class, 3);\n}\n</code></pre>\n\n<p>It's working fine, I have result in my Velocity, but implementing Entity in Jira Api it's a little difficult. Not like in JpaRepository. \nHow can I make simple CRUD operations, like get Issue, delete issue, update issue, get list of issue. Thanks for respond </p>\n"}, {"tags": ["java", "spring", "spring-integration", "spring-integration-sftp"], "comments": [{"owner": {"reputation": 5538, "user_id": 812787, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9bfd1118658eeaac257e60eb9f0cb5de?s=128&d=identicon&r=PG", "display_name": "tsolakp", "link": "https://stackoverflow.com/users/812787/tsolakp"}, "edited": false, "score": 1, "creation_date": 1541627737, "post_id": 53198365, "comment_id": 93285484, "body": "<code>@Poller</code> takes <code>taskExecutor</code> which you can configure to run asynchronously."}, {"owner": {"reputation": 91346, "user_id": 2756547, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=128&d=identicon&r=PG", "display_name": "Artem Bilan", "link": "https://stackoverflow.com/users/2756547/artem-bilan"}, "edited": false, "score": 0, "creation_date": 1541627905, "post_id": 53198365, "comment_id": 93285563, "body": "Please, form your comment as an answer. This is really correct."}, {"owner": {"reputation": 123, "user_id": 10549443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6d2f52acb42e622eda39b21554aae5?s=128&d=identicon&r=PG&f=1", "display_name": "user311633", "link": "https://stackoverflow.com/users/10549443/user311633"}, "reply_to_user": {"reputation": 5538, "user_id": 812787, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9bfd1118658eeaac257e60eb9f0cb5de?s=128&d=identicon&r=PG", "display_name": "tsolakp", "link": "https://stackoverflow.com/users/812787/tsolakp"}, "edited": false, "score": 0, "creation_date": 1541628755, "post_id": 53198365, "comment_id": 93285892, "body": "thanks @tsolakp. In the taskExecutor, do I only execute the task? but then how do I configure the thread? <code>ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();  executor.setMaxPoolSize(5);</code> for example: <code>pool.execute(() -&gt; process(payload, timestamp), 1000);</code>   Do you have a sample?"}, {"owner": {"reputation": 5538, "user_id": 812787, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9bfd1118658eeaac257e60eb9f0cb5de?s=128&d=identicon&r=PG", "display_name": "tsolakp", "link": "https://stackoverflow.com/users/812787/tsolakp"}, "reply_to_user": {"reputation": 91346, "user_id": 2756547, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=128&d=identicon&r=PG", "display_name": "Artem Bilan", "link": "https://stackoverflow.com/users/2756547/artem-bilan"}, "edited": false, "score": 0, "creation_date": 1541629599, "post_id": 53198365, "comment_id": 93286192, "body": "I dont have example but this post from @Artem Bilan might help: <a href=\"https://stackoverflow.com/questions/36169903/how-to-covert-xml-based-spring-integration-email-configuration-to-java-based-con\" title=\"how to covert xml based spring integration email configuration to java based con\">stackoverflow.com/questions/36169903/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3503, "user_id": 4259032, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fzRmI.jpg?s=128&g=1", "display_name": "Alain Cruz", "link": "https://stackoverflow.com/users/4259032/alain-cruz"}, "is_accepted": false, "score": 1, "last_activity_date": 1541629937, "creation_date": 1541629937, "answer_id": 53198899, "question_id": 53198365, "link": "https://stackoverflow.com/questions/53198365/how-to-run-spring-integration-with-multithread/53198899#53198899", "title": "How to run spring integration with multithread", "body": "<p>You can use the <code>@Async</code> annotation to run any method in a separate thread. You just need to add <code>@EnableAsync</code> in any <code>@Configuration</code> file and when you call it, it will run asynchronously. You can find more information in this <a href=\"https://www.baeldung.com/spring-async\" rel=\"nofollow noreferrer\">blog</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 123, "user_id": 10549443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6d2f52acb42e622eda39b21554aae5?s=128&d=identicon&r=PG&f=1", "display_name": "user311633", "link": "https://stackoverflow.com/users/10549443/user311633"}, "edited": false, "score": 0, "creation_date": 1541635770, "post_id": 53199566, "comment_id": 93288021, "body": "I tried your example but the poller seems only run on 1 thread only :&#39;( <code>ThreadPoolTaskExecutor executor</code> keeps running on task1"}, {"owner": {"reputation": 91346, "user_id": 2756547, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=128&d=identicon&r=PG", "display_name": "Artem Bilan", "link": "https://stackoverflow.com/users/2756547/artem-bilan"}, "reply_to_user": {"reputation": 123, "user_id": 10549443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6d2f52acb42e622eda39b21554aae5?s=128&d=identicon&r=PG&f=1", "display_name": "user311633", "link": "https://stackoverflow.com/users/10549443/user311633"}, "edited": false, "score": 1, "creation_date": 1541635956, "post_id": 53199566, "comment_id": 93288073, "body": "Poller - true, because you use a fixedDelay, so a new task is not going to start until the finish of the current plus those 100000 milliseconds. On the other hand you 3 messages should be processed in parallel"}, {"owner": {"reputation": 123, "user_id": 10549443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6d2f52acb42e622eda39b21554aae5?s=128&d=identicon&r=PG&f=1", "display_name": "user311633", "link": "https://stackoverflow.com/users/10549443/user311633"}, "edited": false, "score": 0, "creation_date": 1541637643, "post_id": 53199566, "comment_id": 93288463, "body": "maybe I miss understood about this inbound channel. So the poller is just to pull the files from sftp, correct? and it does pull 2 files at the time. So in that case should I create another thread for service activator, so that I can process my file (send to http and S3) after the poller pull them on a different thread?"}, {"owner": {"reputation": 91346, "user_id": 2756547, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=128&d=identicon&r=PG", "display_name": "Artem Bilan", "link": "https://stackoverflow.com/users/2756547/artem-bilan"}, "reply_to_user": {"reputation": 123, "user_id": 10549443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6d2f52acb42e622eda39b21554aae5?s=128&d=identicon&r=PG&f=1", "display_name": "user311633", "link": "https://stackoverflow.com/users/10549443/user311633"}, "edited": false, "score": 1, "creation_date": 1541637785, "post_id": 53199566, "comment_id": 93288489, "body": "I guess you need to consider to use a <code>PublishSubcribeChannel</code> with an executor for parallelism and those http and S3 as subscribers"}], "tags": [], "owner": {"reputation": 91346, "user_id": 2756547, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=128&d=identicon&r=PG", "display_name": "Artem Bilan", "link": "https://stackoverflow.com/users/2756547/artem-bilan"}, "is_accepted": false, "score": 1, "last_activity_date": 1541634091, "last_edit_date": 1592644375, "creation_date": 1541634091, "answer_id": 53199566, "question_id": 53198365, "link": "https://stackoverflow.com/questions/53198365/how-to-run-spring-integration-with-multithread/53199566#53199566", "title": "How to run spring integration with multithread", "body": "<p>Something like this:</p>\n<pre><code>@Bean\npublic ThreadPoolTaskExecutor executor() {\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n    executor.setMaxPoolSize(5);\n    return executor; \n}\n</code></pre>\n<p>And use that <code>executor</code> as a bean name in the <code>@Poller</code> of the <code>@InboundChannelAdapter</code>:</p>\n<pre><code>@Bean\n@InboundChannelAdapter(channel = &quot;sftpChannel&quot;, \n        poller = @Poller(fixedDelay = &quot;100000&quot;, maxMessagesPerPoll = &quot;3&quot;, taskExecutor=&quot;executor&quot;))\n</code></pre>\n<p>See <code>@Poller</code> JavaDocs:</p>\n<pre><code>/**\n * @return The {@link org.springframework.core.task.TaskExecutor} bean name.\n */\nString taskExecutor() default &quot;&quot;;\n</code></pre>\n<p>And also see docs in the Reference Manual: <a href=\"https://docs.spring.io/spring-integration/docs/5.0.9.RELEASE/reference/html/messaging-channels-section.html#conditional-pollers\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/5.0.9.RELEASE/reference/html/messaging-channels-section.html#conditional-pollers</a></p>\n<blockquote>\n<p>Important: Async Handoff</p>\n<p>This advice modifies the trigger based on the <code>receive()</code> result. This will only work if the advice is called on the poller thread. It will not work if the poller has a <code>task-executor</code>. To use this advice where you wish to use async operations after the result of a poll, do the async handoff later, perhaps by using an <code>ExecutorChannel</code>.</p>\n</blockquote>\n"}], "owner": {"reputation": 123, "user_id": 10549443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6d2f52acb42e622eda39b21554aae5?s=128&d=identicon&r=PG&f=1", "display_name": "user311633", "link": "https://stackoverflow.com/users/10549443/user311633"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1948, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541634091, "creation_date": 1541627345, "question_id": 53198365, "link": "https://stackoverflow.com/questions/53198365/how-to-run-spring-integration-with-multithread", "title": "How to run spring integration with multithread", "body": "<p>I would like to do the following with spring integration</p>\n\n<ol>\n<li>Fetch files from sftp</li>\n<li>Send the downloaded files to http and also to s3</li>\n</ol>\n\n<p>Here is what I have so far.</p>\n\n<pre><code>@Bean\n@InboundChannelAdapter(channel = \"sftpChannel\", poller = @Poller(fixedDelay = \"100000\", maxMessagesPerPoll = \"3\"))\n    public MessageSource&lt;File&gt; sftpMessageSource() {\n        SftpInboundFileSynchronizingMessageSource source = new SftpInboundFileSynchronizingMessageSource(sftpInboundFileSynchronizer());\n        source.setLocalDirectory(new File(\"sftp-inbound\"));\n        source.setAutoCreateLocalDirectory(true);\n        source.setMaxFetchSize(2);\n        return source;\n    }\n</code></pre>\n\n<p>Here is my service activator.\nThe problem with my service activator is this run in the same thread as the poller, so when the file process too long, it doesn't process the next until the first one is done.</p>\n\n<pre><code>@ServiceActivator(inputChannel = \"sftpChannel\")\n        public void sftpChannel(@Payload File payload, @Header(\"timestamp\") long timestamp) {\n            log.info(\"Message arrived at sftpChannel\");\n         //do something with file\n    }\n</code></pre>\n\n<p>How can I run the file process on separate thread and release the poller thread instead, so the poller can continue to pull files from sftp?</p>\n"}, {"tags": ["java", "methods"], "comments": [{"owner": {"reputation": 4505, "user_id": 4417306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc90fc44a31eb2bdc442686e75a1a4dd?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4417306/mark"}, "edited": false, "score": 0, "creation_date": 1541627064, "post_id": 53198269, "comment_id": 93285207, "body": "A <code>NullPointerException</code> is a runtime error, which is why it does not show any errors or warnings before running but only when running."}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 0, "creation_date": 1541627068, "post_id": 53198269, "comment_id": 93285209, "body": "Maybe not be the problem you&#39;re asking about, but <code>GenerateRandomNumber()</code> and <code>OutputResult()</code> both have infinite recursions."}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1541627340, "post_id": 53198269, "comment_id": 93285307, "body": "<code>main</code> must be a <code>static</code> method. Make it <code>static</code>, and fix the compilation errors that causes."}, {"owner": {"reputation": 17061, "user_id": 507738, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7ghSp.jpg?s=128&g=1", "display_name": "MC Emperor", "link": "https://stackoverflow.com/users/507738/mc-emperor"}, "edited": false, "score": 0, "creation_date": 1541628348, "post_id": 53198269, "comment_id": 93285742, "body": "Follow the Java Naming Conventions: method names should start with lowercase."}], "owner": {"reputation": 29, "user_id": 10415628, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sbV5Gd0axcU/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUk0bkhQMS0pWXfPWWuVyTkfdfViQ/mo/photo.jpg?sz=128", "display_name": "Pkd", "link": "https://stackoverflow.com/users/10415628/pkd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541626926, "creation_date": 1541626926, "question_id": 53198269, "link": "https://stackoverflow.com/questions/53198269/how-do-i-get-different-methods-in-main-to-interact-with-each-other-when-they-are", "title": "How do I get different methods in main to interact with each other when they are previously called?", "body": "<p>I called several different methods in the main method, which is essentially a \"composite\" version of the file, combining those existing methods into one method. Each method that gets called in the main method has its own unique properties that are defined outside of the main method in the same file. There are 5 methods in main, and each of them are defined outside of the main method with int and Strings that are defined on the class level.</p>\n\n<pre><code>        import java.util.Scanner;\n        public class Chapter5 \n        {\n          Scanner scan = new Scanner(System.in);\n\n        int randomNumber1, randomNumber2, randomNumber3, randomNumber4, randomNumber5, randomNumber6;\n\n        int counter = 0;\n\n        int userInput1 = scan.nextInt();\n        int userInput2 = scan.nextInt();\n        int userInput3 = scan.nextInt();\n        int userInput4 = scan.nextInt();\n        int userInput5 = scan.nextInt();\n        int userInput6 = scan.nextInt();\n\n        int numberMatch = 0;\n        int matchingIndex;\n\n        public void main(String[] args)\n        {\n          GenerateRandomNumber();\n          IsDuplicateNumber();\n          GetUserInput();\n          ValidateUserInputNumber();\n          OutputResult();\n        }\n\n        public int GenerateRandomNumber(){\n\n              randomNumber1 = (int) (Math.random() * 60) + 1;\n              randomNumber2 = (int) (Math.random() * 60) + 1;\n              randomNumber3 = (int) (Math.random() * 60) + 1;\n              randomNumber4 = (int) (Math.random() * 60) + 1;\n              randomNumber5 = (int) (Math.random() * 60) + 1;\n              randomNumber6 = (int) (Math.random() * 60) + 1; \n              return GenerateRandomNumber();\n            }\n\n    public boolean IsDuplicateNumber() {\n      if (randomNumber2 == randomNumber1) {\n        randomNumber2 = (int)(Math.random() * 60) + 1;\n        return true;}\n      else if (randomNumber3 == randomNumber1 || randomNumber3 == randomNumber2){\n        randomNumber3 = (int) (Math.random() * 60) + 1;\n        return true;}\n      else if (randomNumber4 == randomNumber1 || randomNumber4 == randomNumber2 || randomNumber4 == randomNumber3){\n              randomNumber4 = (int) (Math.random() * 60) + 1;\n              return true;}\n      else if (randomNumber5 == randomNumber1 || randomNumber5 == randomNumber2 || randomNumber5 == randomNumber3 || randomNumber5 == randomNumber4){\n              randomNumber5 = (int) (Math.random() * 60) + 1;\n              return true;}\n      else if (randomNumber6 == randomNumber1 || randomNumber6 == randomNumber2 || randomNumber6 == randomNumber3 || randomNumber6 == randomNumber4 || randomNumber6 == randomNumber5){\n              randomNumber6 = (int) (Math.random() * 60) + 1;\n              return true;}\n      return true;\n    }\n\n    public void GetUserInput() {\n\n          System.out.println(\"Enter a number between 1-60: \");\n          userInput1 = scan.nextInt();\n          System.out.println(\"Enter a number between 1-60: \");\n          userInput2 = scan.nextInt();\n          System.out.println(\"Enter a number between 1-60: \");\n          userInput3 = scan.nextInt();\n          System.out.println(\"Enter a number between 1-60: \");\n          userInput4 = scan.nextInt();\n          System.out.println(\"Enter a number between 1-60: \");\n          userInput5 = scan.nextInt();\n          System.out.println(\"Enter a number between 1-60: \");\n          userInput6 = scan.nextInt();\n    }\n\n    public boolean ValidateUserInputNumber() {\n\n      if (userInput1 &gt; 60 || userInput1 &lt; 1) {\n        System.out.println(\"Invalid input\");}\n      if (userInput2 &gt; 60 || userInput2 &lt; 1) {\n        System.out.println(\"Invalid input\");}\n      if (userInput3 &gt; 60 || userInput3 &lt; 1) {\n        System.out.println(\"Invalid input\");}\n      if (userInput4 &gt; 60 || userInput4 &lt; 1) {\n        System.out.println(\"Invalid input\");}\n      if (userInput5 &gt; 60 || userInput5 &lt; 1) {\n        System.out.println(\"Invalid input\");}\n      if (userInput6 &gt; 60 || userInput6 &lt; 1) {\n        System.out.println(\"Invalid input\");}\n\n      if (userInput2 == userInput1)\n        while(userInput2 == userInput1)\n      {\n        System.out.println(\"Duplicate\");\n        userInput2 = scan.nextInt();\n      }\n      if (userInput3  == userInput1 || userInput3 == userInput2)\n        while(userInput3  == userInput1 || userInput3 == userInput2)\n      {\n        System.out.println(\"Duplicate\");\n        userInput3=scan.nextInt();\n      }\n      if (userInput4 == userInput1 || userInput4 == userInput2 || userInput4 == userInput3)\n        while(userInput4 == userInput1 || userInput4 == userInput2 || userInput4 == userInput3)\n      {\n        System.out.println(\"Duplicate\");\n        userInput4=scan.nextInt();\n      }\n      if (userInput5 == userInput1 || userInput5 == userInput2 || userInput5 == userInput3 || userInput5 == userInput4)\n        while(userInput5 == userInput1 || userInput5 == userInput2 || userInput5 == userInput3 || userInput5 == userInput4)\n      {\n        System.out.println(\"Duplicate\");\n        userInput5=scan.nextInt();\n      }\n       if (userInput6 == userInput1 || userInput6 == userInput2 || userInput6 == userInput3 || userInput6 == userInput4 || userInput6 == userInput5)\n        while(userInput6 == userInput1 || userInput6 == userInput2 || userInput6 == userInput3 || userInput6 == userInput4 || userInput6 == userInput5)\n      {\n        System.out.println(\"Duplicate\");\n        userInput6=scan.nextInt();\n      }\n      return true;\n    }\n\n    public int OutputResult() {\n      getNumOfMatches();\n     if (userInput1 == randomNumber1 || userInput2 == randomNumber2 || \n    userInput3 == randomNumber3 || userInput4 == randomNumber4 || userInput5 == \n    randomNumber5 || userInput6 == randomNumber6) {\n                System.out.println(\"Exact match: you win $1,000,000\");\n            }\n            else if (5 == getNumOfMatches()) {\n                System.out.println(\"Match all digits: you win $100,000\");\n            }\n            else if (4 == getNumOfMatches()) {\n                System.out.println(\"Match all digits: you win $8,000\");\n            }\n            else if (3 == getNumOfMatches()) {\n                System.out.println(\"Match three digits: you win $20\");\n            }\n            else if (2 == getNumOfMatches()) {\n                System.out.println(\"Match two digits: you win $6\");\n            }\n            else if (1 == getNumOfMatches()) {\n                System.out.println(\"Match two digit: you win $2\");\n            }\n            else {\n                System.out.println(\"Sorry, no match; $0\");\n            }\n      return OutputResult();\n</code></pre>\n\n<p>Furthermore, I have two methods that are invoked within the pre-existing methods. They are both called in the method OutputResult();</p>\n\n<pre><code>      public boolean foundInLottery(int uInput)\n        {\n          if(uInput == randomNumber1 || uInput == randomNumber2 \n                    || uInput == randomNumber3 || uInput == randomNumber4 \n                    || uInput == randomNumber5 || uInput == randomNumber6)\n            return true;\n          else\n            return false;\n        }\n\n        public int getNumOfMatches()\n        {\n          int iMatches = 0;\n          if (foundInLottery(userInput1)) { iMatches =iMatches + 1 ;}\n          if (foundInLottery(userInput2)) { iMatches =iMatches + 1 ;}\n          if (foundInLottery(userInput3)) { iMatches =iMatches + 1 ;}\n          if (foundInLottery(userInput4)) { iMatches =iMatches + 1 ;}\n          if (foundInLottery(userInput5)) { iMatches =iMatches + 1 ;}\n          if (foundInLottery(userInput6)) { iMatches =iMatches + 1 ;}\n\n           return iMatches;\n        }\n</code></pre>\n\n<p>This program does compile with no errors or warnings, but when it runs, the message in the output window says</p>\n\n<pre><code>java.lang.NullPointerException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at edu.rice.cs.drjava.model.compiler.JavacCompiler.runCommand(JavacCompiler.java:272)\n</code></pre>\n"}, {"tags": ["java", "intellij-idea", "javac"], "answers": [{"comments": [{"owner": {"reputation": 411, "user_id": 7038723, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efa19ff8f6e0178b20554e1f0c5e82?s=128&d=identicon&r=PG&f=1", "display_name": "Jvalant Dave", "link": "https://stackoverflow.com/users/7038723/jvalant-dave"}, "edited": false, "score": 0, "creation_date": 1541689292, "post_id": 53199236, "comment_id": 93308716, "body": "Thanks, I did both of these and it fixed the issue!"}], "tags": [], "owner": {"reputation": 3606, "user_id": 178274, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8bcbf9deef69f1d6a2f658eefe4487c4?s=128&d=identicon&r=PG", "display_name": "denis.zhdanov", "link": "https://stackoverflow.com/users/178274/denis-zhdanov"}, "is_accepted": true, "score": 7, "last_activity_date": 1541631838, "creation_date": 1541631838, "answer_id": 53199236, "question_id": 53198264, "link": "https://stackoverflow.com/questions/53198264/cant-resolve-source-errors-on-intellij-with-regards-to-project-language-level/53199236#53199236", "title": "Can&#39;t resolve -source errors on IntelliJ with regards to Project Language Level", "body": "<p>Please make sure that you do not override language level in module settings:</p>\n\n<p><a href=\"https://i.stack.imgur.com/pqNv6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pqNv6.png\" alt=\"enter image description here\"></a></p>\n\n<p>and compiler settings</p>\n\n<p><a href=\"https://i.stack.imgur.com/zmBgx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zmBgx.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 411, "user_id": 7038723, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efa19ff8f6e0178b20554e1f0c5e82?s=128&d=identicon&r=PG&f=1", "display_name": "Jvalant Dave", "link": "https://stackoverflow.com/users/7038723/jvalant-dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1945, "favorite_count": 0, "accepted_answer_id": 53199236, "answer_count": 1, "score": 1, "last_activity_date": 1541631838, "creation_date": 1541626908, "question_id": 53198264, "link": "https://stackoverflow.com/questions/53198264/cant-resolve-source-errors-on-intellij-with-regards-to-project-language-level", "title": "Can&#39;t resolve -source errors on IntelliJ with regards to Project Language Level", "body": "<p>I am running into errors like these while trying to build my project on IntelliJ on Mac. </p>\n\n<pre><code>Error:(12, 39) java: diamond operator is not supported in -source 1.5\n  (use -source 7 or higher to enable diamond operator)\n\nError:(122, 48) java: method references are not supported in -source 1.5\n  (use -source 8 or higher to enable method references)\n\nError:(124, 51) java: lambda expressions are not supported in -source 1.5\n  (use -source 8 or higher to enable lambda expressions)\n</code></pre>\n\n<p>Looking at other answers on this site, it has to do with Project Language Level being too low. However, mine is set to the following :</p>\n\n<p><a href=\"https://i.stack.imgur.com/4ci4a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4ci4a.png\" alt=\"Screenshot of Project Settings\"></a></p>\n\n<p>Seems like I have the right option selected but I'm still getting the same errors. How do I resolve these issues.</p>\n\n<p>Here is the first part of the log if I used JDK 11.0.1 : </p>\n\n<pre><code>Information:java: JPS build failed to load optimized file manager for javac:\njava.lang.NoClassDefFoundError: com/sun/tools/javac/util/DefaultFileManager\njava.lang.NoClassDefFoundError: com/sun/tools/javac/file/JavacFileManager\nInformation:java: Errors occurred while compiling module 'notification-processor'\nInformation:javac 8 was used to compile java sources\nInformation:Module \"notification-processor\" was fully rebuilt due to project configuration/dependencies changes\nInformation:2018-11-07, 4:38 PM - Compilation completed with 19 errors and 4 warnings in 3 s 490 ms\nWarning:java: class org.jetbrains.jps.javac.ast.ExternalRefCollectorCompilerToolExtension : com/sun/source/util/TaskListener\nWarning:java: source value 1.5 is obsolete and will be removed in a future release\nWarning:java: target value 1.5 is obsolete and will be removed in a future release\nWarning:java: To suppress warnings about obsolete options, use -Xlint:-options.\n</code></pre>\n\n<p>Here is the first part of the logs if I use JDK 8 :</p>\n\n<pre><code>Information:java: Errors occurred while compiling module 'notification-processor'\nInformation:javac 1.8.0_191 was used to compile java sources\nInformation:Module \"notification-processor\" was fully rebuilt due to project configuration/dependencies changes\nInformation:2018-11-07, 4:39 PM - Compilation completed with 19 errors and 3 warnings in 2 s 858 ms\nWarning:java: source value 1.5 is obsolete and will be removed in a future release\nWarning:java: target value 1.5 is obsolete and will be removed in a future release\nWarning:java: To suppress warnings about obsolete options, use -Xlint:-options.\n</code></pre>\n"}, {"tags": ["java", "android", "data-structures", "queue", "accelerometer"], "comments": [{"owner": {"reputation": 757, "user_id": 1366937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96c0f10312f84ed2253d57737be8877?s=128&d=identicon&r=PG", "display_name": "Perdi Estaquel", "link": "https://stackoverflow.com/users/1366937/perdi-estaquel"}, "edited": false, "score": 0, "creation_date": 1541637830, "post_id": 53198184, "comment_id": 93288503, "body": "Why is having to call poll as well not a good solution?"}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1541640707, "post_id": 53198184, "comment_id": 93289227, "body": "As soon as you box primitives you&#39;ll have a performance hit - if performance is key stick to primitives. As you stated the problem is with <code>BlockingQueue</code> - if you reach 7 items it will fail to offer any more until a <code>poll</code> operation .. so you need to consume values (usually on different threads).  I&#39;m not sure you need a data structure to take a &quot;sampled&quot; amount of data in every 100, simple counters could be used,"}, {"owner": {"reputation": 3341, "user_id": 3204706, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/GIk0b.jpg?s=128&g=1", "display_name": "Tina J", "link": "https://stackoverflow.com/users/3204706/tina-j"}, "edited": false, "score": 0, "creation_date": 1541692993, "post_id": 53198184, "comment_id": 93311039, "body": "I was told about Apache and Guava&#39;s data structure for that. I will use those."}], "owner": {"reputation": 3341, "user_id": 3204706, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/GIk0b.jpg?s=128&g=1", "display_name": "Tina J", "link": "https://stackoverflow.com/users/3204706/tina-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1541626527, "creation_date": 1541626527, "question_id": 53198184, "link": "https://stackoverflow.com/questions/53198184/implement-a-moving-window-queue-in-java", "title": "Implement a moving window (queue) in Java", "body": "<p>I'm playing around with Android's accelerometer sensor, which produces some data at the rate of 100HZ. I need to get a queue of last <code>X</code> values, say <code>X=7</code> as the figure below shows. Is there a light-weight data structure that I can use for that?</p>\n\n<p>I was trying to use a queue for that, but every time I do <code>offer</code>, apparently I also need to do a <code>poll</code> as well. So we might need to find a similar data structure that automatically polls.</p>\n\n<pre><code>public static LinkedBlockingQueue&lt;Double&gt; accelerationQueue = new LinkedBlockingQueue&lt;&gt;(7);\n</code></pre>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 6812, "user_id": 1410303, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UVBNS.png?s=128&g=1", "display_name": "SomeDude", "link": "https://stackoverflow.com/users/1410303/somedude"}, "edited": false, "score": 0, "creation_date": 1541626621, "post_id": 53198180, "comment_id": 93285034, "body": "Exactly what you think unless selectedPath is null :)"}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 0, "creation_date": 1541632844, "post_id": 53198180, "comment_id": 93287332, "body": "Search Stack Overflow thoroughly before posting."}], "answers": [{"tags": [], "owner": {"reputation": 1213, "user_id": 2688525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/byRyv.png?s=128&g=1", "display_name": "Eduardo Montoya", "link": "https://stackoverflow.com/users/2688525/eduardo-montoya"}, "is_accepted": true, "score": 1, "last_activity_date": 1541632938, "last_edit_date": 1541632938, "creation_date": 1541627307, "answer_id": 53198358, "question_id": 53198180, "link": "https://stackoverflow.com/questions/53198180/what-does-the-and-mean-in-this-statement-in-java/53198358#53198358", "title": "What does the ? and : mean in this statement in Java?", "body": "<h1>Ternary operator</h1>\n\n<p>The <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\" rel=\"nofollow noreferrer\">ternary operator</a> is a way to do an \"if else\" that actually returns a value so if you have a function such as:</p>\n\n<pre><code>int f(boolean a, int b, int c) {\n    if (a) {\n        return b;\n     } else {\n         return c;\n     }\n }\n</code></pre>\n\n<p>and then you call the function like:</p>\n\n<pre><code>int y = f(b &gt; c, b, c);\n</code></pre>\n\n<p>you can avoid the function by doing:</p>\n\n<pre><code>int y = b &gt; c ? b : c;\n</code></pre>\n\n<p>So it means that, if you have the following expresion:</p>\n\n<pre><code>a ? b : c\n</code></pre>\n\n<p>it means:</p>\n\n<p>if a is true, then return b; otherwise return c.</p>\n\n<p>Specifically in your case, it means, as you said, that if selectedPath is equal to \"/\" then return \"/\" otherwise return the value at the right of the ':' character.</p>\n"}], "owner": {"reputation": 35, "user_id": 9375040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49b8916d2e2fdc85b1538a04ca6cef67?s=128&d=identicon&r=PG&f=1", "display_name": "AMVPlusPlus", "link": "https://stackoverflow.com/users/9375040/amvplusplus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "closed_date": 1541626596, "accepted_answer_id": 53198358, "answer_count": 1, "score": -3, "last_activity_date": 1541632938, "creation_date": 1541626512, "question_id": 53198180, "link": "https://stackoverflow.com/questions/53198180/what-does-the-and-mean-in-this-statement-in-java", "closed_reason": "Duplicate", "title": "What does the ? and : mean in this statement in Java?", "body": "<p>What exactly does this mean? </p>\n\n<pre><code>String path = selectedPath.equals(\"/\") ? \"/\" : selectedDir;\n</code></pre>\n\n<p>What I think it is saying is set path to the selectedPath if it equals \"/\" and if it doesn't set the path to selectedDir.</p>\n"}, {"tags": ["java", "sleep"], "comments": [{"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 1, "creation_date": 1541626448, "post_id": 53198135, "comment_id": 93284946, "body": "What does it do when it works? What does it do when it doesn&#39;t work?"}, {"owner": {"reputation": 3809, "user_id": 657224, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/2a159be2028abb3480e907bbc6e07390?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/657224/mike"}, "edited": false, "score": 2, "creation_date": 1541626491, "post_id": 53198135, "comment_id": 93284965, "body": "What doesn&#39;t work exactly? <code>Thread.sleep()</code> throws <code>InterruptedException</code>, and your code is not catching that type of exception."}, {"owner": {"reputation": 4532, "user_id": 441878, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9eac559b789683ececa4d52a1470fb9f?s=128&d=identicon&r=PG", "display_name": "ow3n", "link": "https://stackoverflow.com/users/441878/ow3n"}, "edited": false, "score": 0, "creation_date": 1541626510, "post_id": 53198135, "comment_id": 93284972, "body": "It&#39;s in the title. I&#39;ll elaborate in the post."}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "reply_to_user": {"reputation": 3809, "user_id": 657224, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/2a159be2028abb3480e907bbc6e07390?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/657224/mike"}, "edited": false, "score": 0, "creation_date": 1541626531, "post_id": 53198135, "comment_id": 93284986, "body": "@Mike I don&#39;t see why that should be a problem. The <code>main</code> method declares that it throws <code>InterruptedException</code>."}, {"owner": {"reputation": 4532, "user_id": 441878, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9eac559b789683ececa4d52a1470fb9f?s=128&d=identicon&r=PG", "display_name": "ow3n", "link": "https://stackoverflow.com/users/441878/ow3n"}, "edited": false, "score": 0, "creation_date": 1541626747, "post_id": 53198135, "comment_id": 93285083, "body": "I want to write every .1 seconds, but sleep is causing it to not write."}, {"owner": {"reputation": 1852, "user_id": 369604, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/613ba412b35c0d51e4de306d92858bd4?s=128&d=identicon&r=PG", "display_name": "Loduwijk", "link": "https://stackoverflow.com/users/369604/loduwijk"}, "edited": false, "score": 0, "creation_date": 1541626807, "post_id": 53198135, "comment_id": 93285098, "body": "You say that when adding the sleep it does not print to the external file, but does it still print to the console? That is, do you still see the results of <code>System.out.println(System.currentTimeMillis() + &quot; hi \\n&quot;);</code>?"}, {"owner": {"reputation": 4532, "user_id": 441878, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9eac559b789683ececa4d52a1470fb9f?s=128&d=identicon&r=PG", "display_name": "ow3n", "link": "https://stackoverflow.com/users/441878/ow3n"}, "reply_to_user": {"reputation": 1852, "user_id": 369604, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/613ba412b35c0d51e4de306d92858bd4?s=128&d=identicon&r=PG", "display_name": "Loduwijk", "link": "https://stackoverflow.com/users/369604/loduwijk"}, "edited": false, "score": 0, "creation_date": 1541626836, "post_id": 53198135, "comment_id": 93285106, "body": "@Aaron yes it still prints to the console."}, {"owner": {"reputation": 1852, "user_id": 369604, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/613ba412b35c0d51e4de306d92858bd4?s=128&d=identicon&r=PG", "display_name": "Loduwijk", "link": "https://stackoverflow.com/users/369604/loduwijk"}, "edited": false, "score": 0, "creation_date": 1541627057, "post_id": 53198135, "comment_id": 93285206, "body": "What if you were to comment out the <code>while(true)</code> so that it is not in a loop and instead happens only 1 time; does it write to the file then after sleeping?"}, {"owner": {"reputation": 1852, "user_id": 369604, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/613ba412b35c0d51e4de306d92858bd4?s=128&d=identicon&r=PG", "display_name": "Loduwijk", "link": "https://stackoverflow.com/users/369604/loduwijk"}, "edited": false, "score": 1, "creation_date": 1541627114, "post_id": 53198135, "comment_id": 93285223, "body": "The reason for my previous question about removing the loop is related to file flushing."}], "answers": [{"comments": [{"owner": {"reputation": 628808, "user_id": 139985, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=128&d=identicon&r=PG", "display_name": "Stephen C", "link": "https://stackoverflow.com/users/139985/stephen-c"}, "edited": false, "score": 2, "creation_date": 1541631420, "post_id": 53198326, "comment_id": 93286851, "body": "Or add a flush call for each loop iteration."}, {"owner": {"reputation": 4532, "user_id": 441878, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9eac559b789683ececa4d52a1470fb9f?s=128&d=identicon&r=PG", "display_name": "ow3n", "link": "https://stackoverflow.com/users/441878/ow3n"}, "reply_to_user": {"reputation": 628808, "user_id": 139985, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=128&d=identicon&r=PG", "display_name": "Stephen C", "link": "https://stackoverflow.com/users/139985/stephen-c"}, "edited": false, "score": 0, "creation_date": 1541677818, "post_id": 53198326, "comment_id": 93302328, "body": "Thanks. The problem I didn&#39;t understand is the difference between stream and buffer. Or that the buffer would eventually dump. Changing the sleep time is not desirable because I don&#39;t want that much data, but I was able to add <code>printWriter.flush();</code> to the loop as @StephenC suggested to flush the buffered data into the file."}], "tags": [], "owner": {"reputation": 5538, "user_id": 812787, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9bfd1118658eeaac257e60eb9f0cb5de?s=128&d=identicon&r=PG", "display_name": "tsolakp", "link": "https://stackoverflow.com/users/812787/tsolakp"}, "is_accepted": true, "score": 3, "last_activity_date": 1541631465, "last_edit_date": 1541631465, "creation_date": 1541627182, "answer_id": 53198326, "question_id": 53198135, "link": "https://stackoverflow.com/questions/53198135/why-doesnt-printwriter-work-with-thread-sleep/53198326#53198326", "title": "Why doesn&#39;t PrintWriter work with Thread.sleep()", "body": "<p>The difference <code>sleep</code> makes in your case is that it slows down frequency of writes and and it will take a while until the writes get flushed into the file. By removing the <code>sleep</code> you are causing the write flush to happen much more earlier. Change the sleep time into something smaller (like 5 instead of 100) or wait a little longer and see that the file gets written over.</p>\n"}], "owner": {"reputation": 4532, "user_id": 441878, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9eac559b789683ececa4d52a1470fb9f?s=128&d=identicon&r=PG", "display_name": "ow3n", "link": "https://stackoverflow.com/users/441878/ow3n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 53198326, "answer_count": 1, "score": 0, "last_activity_date": 1541631465, "creation_date": 1541626297, "last_edit_date": 1541626876, "question_id": 53198135, "link": "https://stackoverflow.com/questions/53198135/why-doesnt-printwriter-work-with-thread-sleep", "title": "Why doesn&#39;t PrintWriter work with Thread.sleep()", "body": "<p>PrintWriter works (it writes to the external file) until I add the line that says <code>Thread.sleep(100);</code>. Then the code still compiles just fine, and it continues writing to the console, but it won't print to the external file. But I can't figure out why? </p>\n\n<pre><code>import java.io.*; \nimport java.io.PrintWriter;\nimport java.io.File;\nimport javax.swing.*;\n\npublic class RecordMouse {\n  public static void main(String[] args) throws InterruptedException{\n\n    String line = \"\";\n\n    // string for filename\n    String filename = System.currentTimeMillis() + \"out.txt\";\n    // create file\n    File file = new File(filename);\n    // create writer\n    PrintWriter printWriter = null;\n\n    try\n    {\n        printWriter = new PrintWriter(file);\n\n        while(true){\n            //Thread.sleep(100);\n            System.out.println(System.currentTimeMillis() + \" hi \\n\");\n            printWriter.println(System.currentTimeMillis() + \" hi\");\n        }\n\n    }\n    catch (FileNotFoundException e)\n    {\n        e.printStackTrace();\n    }\n    finally\n    {\n        if ( printWriter != null ) \n        {\n            printWriter.close();\n        }\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["java", "arrays", "parameters", "command-line-arguments", "main"], "comments": [{"owner": {"reputation": 7873, "user_id": 442451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a095ed5b56acd4518d2265e90814889?s=128&d=identicon&r=PG", "display_name": "GriffeyDog", "link": "https://stackoverflow.com/users/442451/griffeydog"}, "edited": false, "score": 1, "creation_date": 1541627585, "post_id": 53198087, "comment_id": 93285408, "body": "You have to pass <code>new String[] {&quot;first&quot;, &quot;second&quot;, &quot;ect&quot;}</code> instead of <code>{&quot;first&quot;, &quot;second&quot;, &quot;ect&quot;}</code> when calling a method."}, {"owner": {"reputation": 17061, "user_id": 507738, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7ghSp.jpg?s=128&g=1", "display_name": "MC Emperor", "link": "https://stackoverflow.com/users/507738/mc-emperor"}, "edited": false, "score": 1, "creation_date": 1541627881, "post_id": 53198087, "comment_id": 93285552, "body": "<code>{ &quot;first&quot;, &quot;second&quot; }</code> is called an array initializer, and is shorthand for <code>new String[] { &quot;first&quot;, &quot;second&quot; }</code>. The thing is, <b>omitting the <code>new String[]</code> part is only allowed at the time of declaration of the array</b>."}, {"owner": {"reputation": 17061, "user_id": 507738, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7ghSp.jpg?s=128&g=1", "display_name": "MC Emperor", "link": "https://stackoverflow.com/users/507738/mc-emperor"}, "edited": false, "score": 1, "creation_date": 1541628220, "post_id": 53198087, "comment_id": 93285691, "body": "The <code>args</code> string array is constructed by the JVM and passed to your <code>main(String[])</code> method upon start."}], "answers": [{"tags": [], "owner": {"reputation": 2351, "user_id": 10533011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cf679869635f63c1d842fa24604a02?s=128&d=identicon&r=PG&f=1", "display_name": "Donat", "link": "https://stackoverflow.com/users/10533011/donat"}, "is_accepted": true, "score": 0, "last_activity_date": 1541877174, "last_edit_date": 1541877174, "creation_date": 1541633722, "answer_id": 53199526, "question_id": 53198087, "link": "https://stackoverflow.com/questions/53198087/does-the-main-method-get-an-initialized-array-or-are-the-strings-in-the-command/53199526#53199526", "title": "Does the main method get an initialized array or are the strings in the command line enter directly in to the parameter as I type?", "body": "<p>Supposed you run your java class file like this</p>\n\n<pre><code>javac Test.java\njava -cp . Test firstParam secondParam thirdParam\n</code></pre>\n\n<p>Then in your main method args will have a value like</p>\n\n<pre><code>args = new String[]{\"firstParam\", \"secondParam\", \"thirdParam\"};\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10277505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a827a4f8c61d07bf7ec14e55eeebf9d?s=128&d=identicon&r=PG&f=1", "display_name": "ploni almoni", "link": "https://stackoverflow.com/users/10277505/ploni-almoni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 53199526, "answer_count": 1, "score": -2, "last_activity_date": 1541877174, "creation_date": 1541626073, "last_edit_date": 1541627001, "question_id": 53198087, "link": "https://stackoverflow.com/questions/53198087/does-the-main-method-get-an-initialized-array-or-are-the-strings-in-the-command", "title": "Does the main method get an initialized array or are the strings in the command line enter directly in to the parameter as I type?", "body": "<p>For example, if I want to print an array length, I can not do that:</p>\n\n<pre><code>public class Test{\n     public static void main(String [] args){\n          System.out.println(worngParam({\"first\", \"second\", \"ect\"}));\n     }\n     public static int worngParam(String [] strings){\n          return strings.length;\n     }\n}\n</code></pre>\n\n<p>This is an error!</p>\n\n<p>The first two lines in main must be</p>\n\n<pre><code>String [] strings = {\"first\", \"second\", \"ect\"};\nSystem.out.println(worngParam(strings));\n</code></pre>\n\n<p>But even so I can do that:</p>\n\n<pre><code>System.out.println(args.length);//If of course args is not empty\n</code></pre>\n\n<p>My question is how does the parameter get into the main method?</p>\n\n<p>Although any method can accept a constant variabls such as <code>3, \"word\", 'a'</code>. But she can not get an initialization of an array like this <code>{1,8}</code> or <code>{\"word2\", \"word3\"}</code></p>\n"}, {"tags": ["java", "oop", "data-structures", "linked-list", "min-heap"], "comments": [{"owner": {"reputation": 196, "user_id": 3170251, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f635a8ab2105c4371d7827d01f512aa8?s=128&d=identicon&r=PG&f=1", "display_name": "user3170251", "link": "https://stackoverflow.com/users/3170251/user3170251"}, "edited": false, "score": 0, "creation_date": 1541626282, "post_id": 53198029, "comment_id": 93284861, "body": "your data structure class should contain an <code>add()</code> or <code>insert()</code> method or something similar to add a new object to. For example, an <code>ArrayList&lt;String&gt; arr</code> in Java has an <code>add()</code> to add new Strings to the list ( <code>arr.add(&quot;hello&quot;)</code> )"}, {"owner": {"reputation": 7720, "user_id": 8921755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dec518adc2024784cc770596a0aa200?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/8921755/ivan"}, "edited": false, "score": 0, "creation_date": 1541626390, "post_id": 53198029, "comment_id": 93284917, "body": "You can check implementation of collections included into JDK like <code>ArrayList</code>, <code>LinkedList</code>, <code>PriorityQueue</code>"}, {"owner": {"reputation": 17, "user_id": 9486397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ec8801aef7381b0c40f623c6fd25c0d?s=128&d=identicon&r=PG&f=1", "display_name": "RHH", "link": "https://stackoverflow.com/users/9486397/rhh"}, "edited": false, "score": 0, "creation_date": 1541626547, "post_id": 53198029, "comment_id": 93284998, "body": "the task set out is that i cannot use any collections so i have created my own min-heap and linkedlist but now need to be able to understand how to link the requests to whicever datastructure i pick"}, {"owner": {"reputation": 7720, "user_id": 8921755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dec518adc2024784cc770596a0aa200?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/8921755/ivan"}, "edited": false, "score": 0, "creation_date": 1541628856, "post_id": 53198029, "comment_id": 93285925, "body": "What&#39;s the difference between you checking source code of collection yourself and reading the very same code as answer for your question on SO provided by another person?"}], "answers": [{"tags": [], "owner": {"reputation": 79, "user_id": 9752598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a78c496e356350037fc5ab5efb0d49d?s=128&d=identicon&r=PG&f=1", "display_name": "Liad Saubron", "link": "https://stackoverflow.com/users/9752598/liad-saubron"}, "is_accepted": false, "score": 0, "last_activity_date": 1541714855, "creation_date": 1541714855, "answer_id": 53216873, "question_id": 53198029, "link": "https://stackoverflow.com/questions/53198029/oop-linking-classes/53216873#53216873", "title": "OOP linking classes", "body": "<p>Use the LinkList structure with insertion sort, keep the highest priority at the head or tail, that way each insert will cost you O(n) while finding the min will always cost you O(1), you need to implement comapreTo for each node and you can use it for the sorting.</p>\n\n<p>if you have two classes you can use the request as a decorator for the ticket itself. that way the request will \"hold\" the ticket.</p>\n"}], "owner": {"reputation": 17, "user_id": 9486397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ec8801aef7381b0c40f623c6fd25c0d?s=128&d=identicon&r=PG&f=1", "display_name": "RHH", "link": "https://stackoverflow.com/users/9486397/rhh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1541714855, "creation_date": 1541625799, "question_id": 53198029, "link": "https://stackoverflow.com/questions/53198029/oop-linking-classes", "title": "OOP linking classes", "body": "<p>I have to implement a data structure for a IT ticket system which is ordered by priority. So i am going to implement a priority queue. I have both a linkedlist class(and a node class for this) and a min-heap class but not sure which i want to use yet. I also have a main class which basically tests that the data structure works. I then have a request class which holds information about a request:</p>\n\n<ul>\n<li>String creatorName;</li>\n<li>String problemDescription;</li>\n<li>String ownerName;</li>\n<li>int uniqueID;</li>\n<li>int priorityNo;</li>\n</ul>\n\n<p>What im stuck on is how i link the data in the request class to the data structure class so that it can store it and perform the methods correctly.\nAny help would be greatly appreciated.</p>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 7, "creation_date": 1541625205, "post_id": 53197874, "comment_id": 93284379, "body": "The advantage of <code>LinkedHashSet</code> over a normal <code>HashSet</code> is that it preserves the order of insertion. It&#39;s not better in any other respect."}], "answers": [{"tags": [], "owner": {"reputation": 20315, "user_id": 963881, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e82a2a2b9ddf6fb580a9c34b2eca65f4?s=128&d=identicon&r=PG&f=1", "display_name": "syntagma", "link": "https://stackoverflow.com/users/963881/syntagma"}, "is_accepted": false, "score": 1, "last_activity_date": 1541625327, "creation_date": 1541625327, "answer_id": 53197917, "question_id": 53197874, "link": "https://stackoverflow.com/questions/53197874/is-linkedhashset-best-if-the-frequent-operation-is-both-search-and-insert/53197917#53197917", "title": "Is LinkedHashSet best if the frequent operation is both search and insert", "body": "<p>Both <code>LinkedHashSet</code> and <code>HashSet</code> have the same time complexity for both insert (add) and search (contains): O(1). </p>\n\n<p><code>LinkedHashSet</code> is better in that it preserves the order of insertion and also it's next operation upon iteration works in O(1), whereas for <code>HashSet</code> it's O(h/n), where h - current capacity of the hash collection, n - number of elements in the collection.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10419911"}, "is_accepted": false, "score": 0, "last_activity_date": 1541625404, "creation_date": 1541625404, "answer_id": 53197934, "question_id": 53197874, "link": "https://stackoverflow.com/questions/53197874/is-linkedhashset-best-if-the-frequent-operation-is-both-search-and-insert/53197934#53197934", "title": "Is LinkedHashSet best if the frequent operation is both search and insert", "body": "<p>See: <a href=\"http://bigocheatsheet.com/\" rel=\"nofollow noreferrer\">http://bigocheatsheet.com/</a>\nHashmap is usually a tiny bit faster as it does not deal with insertion order, but complexity wise they are equal.</p>\n"}], "owner": {"reputation": 41, "user_id": 7739151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47efe6d096b44ee8e780ae2724bbd9c6?s=128&d=identicon&r=PG&f=1", "display_name": "PragmaticFire", "link": "https://stackoverflow.com/users/7739151/pragmaticfire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1541625404, "creation_date": 1541625097, "question_id": 53197874, "link": "https://stackoverflow.com/questions/53197874/is-linkedhashset-best-if-the-frequent-operation-is-both-search-and-insert", "title": "Is LinkedHashSet best if the frequent operation is both search and insert", "body": "<p>Is LinkedHashSet considered to be a best data structure in terms of time complexity/performance when the frequent is insert <strong>and</strong> search?\nDoublyLinked is best for insertion and Hashing concept is best for search.</p>\n"}, {"tags": ["java", "jpa", "jpql", "objectdb"], "comments": [{"owner": {"reputation": 7720, "user_id": 8921755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dec518adc2024784cc770596a0aa200?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/8921755/ivan"}, "edited": false, "score": 0, "creation_date": 1541625405, "post_id": 53197831, "comment_id": 93284476, "body": "When you query entity JPA engine converts properties to types defined in your Java class"}, {"owner": {"reputation": 1294, "user_id": 1057389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e607227116f67137b430c4813d6506d4?s=128&d=identicon&r=PG", "display_name": "ObjectDB", "link": "https://stackoverflow.com/users/1057389/objectdb"}, "edited": false, "score": 0, "creation_date": 1541625475, "post_id": 53197831, "comment_id": 93284503, "body": "Is it possible that this specific id field changed its type from int to long and that the specific entity object was stored in the database before the change?"}, {"owner": {"reputation": 23, "user_id": 9958258, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7w280rpPNJ8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2x9A26EwNNLxoGfSXsOD3gq2iHOg/mo/photo.jpg?sz=128", "display_name": "MIeraK", "link": "https://stackoverflow.com/users/9958258/mierak"}, "reply_to_user": {"reputation": 1294, "user_id": 1057389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e607227116f67137b430c4813d6506d4?s=128&d=identicon&r=PG", "display_name": "ObjectDB", "link": "https://stackoverflow.com/users/1057389/objectdb"}, "edited": false, "score": 0, "creation_date": 1541626072, "post_id": 53197831, "comment_id": 93284775, "body": "@ObjectDB No its not, this very database is hours old - I am still in early development. I deleted the whole database file and everything was resaved again(the source data is a JSON API) after making some changes to the code, but no changes were done to the Post entity class anyway."}, {"owner": {"reputation": 23, "user_id": 9958258, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7w280rpPNJ8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2x9A26EwNNLxoGfSXsOD3gq2iHOg/mo/photo.jpg?sz=128", "display_name": "MIeraK", "link": "https://stackoverflow.com/users/9958258/mierak"}, "reply_to_user": {"reputation": 7720, "user_id": 8921755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dec518adc2024784cc770596a0aa200?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/8921755/ivan"}, "edited": false, "score": 0, "creation_date": 1541626787, "post_id": 53197831, "comment_id": 93285093, "body": "@Ivan I have troubles understanding your comment. Since the source entity is Post with id defined as primitive long and when I issue query to the DB it again creates a Post entity with id field as primite long - there shouldnt be any conversion happening?. Also if I just query the DB in my program to select the whole Post the ID in the Post instance is yet again, long."}, {"owner": {"reputation": 7720, "user_id": 8921755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dec518adc2024784cc770596a0aa200?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/8921755/ivan"}, "edited": false, "score": 0, "creation_date": 1541626987, "post_id": 53197831, "comment_id": 93285174, "body": "This is regarding your <b>EDIT</b> part of the question. Since your entity <code>id</code> property defined as <code>long</code> (primitive) you will always see <code>long</code> when querying entity"}, {"owner": {"reputation": 23, "user_id": 9958258, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7w280rpPNJ8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2x9A26EwNNLxoGfSXsOD3gq2iHOg/mo/photo.jpg?sz=128", "display_name": "MIeraK", "link": "https://stackoverflow.com/users/9958258/mierak"}, "edited": false, "score": 0, "creation_date": 1541627297, "post_id": 53197831, "comment_id": 93285283, "body": "So you mean that the underlying persisted field is indeed Integer and when I query for the whole entity it gets converted to long, but when I query just the ID it doesnt do that because its not trying to create the Post entity?"}, {"owner": {"reputation": 1294, "user_id": 1057389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e607227116f67137b430c4813d6506d4?s=128&d=identicon&r=PG", "display_name": "ObjectDB", "link": "https://stackoverflow.com/users/1057389/objectdb"}, "edited": false, "score": 0, "creation_date": 1541631893, "post_id": 53197831, "comment_id": 93286997, "body": "You may want to post a complete small runnable test case that demonstrates the issue. See <a href=\"https://www.objectdb.com/database/post\" rel=\"nofollow noreferrer\">objectdb.com/database/post</a> for a template test case that you can start with."}, {"owner": {"reputation": 23, "user_id": 9958258, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7w280rpPNJ8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2x9A26EwNNLxoGfSXsOD3gq2iHOg/mo/photo.jpg?sz=128", "display_name": "MIeraK", "link": "https://stackoverflow.com/users/9958258/mierak"}, "edited": false, "score": 0, "creation_date": 1541638129, "post_id": 53197831, "comment_id": 93288599, "body": "I will try to isolate the problem, the project is not that small."}], "owner": {"reputation": 23, "user_id": 9958258, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7w280rpPNJ8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2x9A26EwNNLxoGfSXsOD3gq2iHOg/mo/photo.jpg?sz=128", "display_name": "MIeraK", "link": "https://stackoverflow.com/users/9958258/mierak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541624853, "creation_date": 1541624853, "last_edit_date": 1592644375, "question_id": 53197831, "link": "https://stackoverflow.com/questions/53197831/objectdb-returns-integer-instead-of-long-when-i-select-just-id-but-just-for-som", "title": "ObjectDB returns Integer instead of Long when I select just ID, but just for some entities", "body": "<p>Testing in ObjectDB explorer while running query:</p>\n<pre><code>SELECT FROM Post p\nWHERE id=:id\n</code></pre>\n<p>with parameter id set to 3007120 gives me this result:\n<a href=\"https://i.stack.imgur.com/DQCmN.png\" rel=\"nofollow noreferrer\">Result for Post id 3007120</a></p>\n<p>But running a query:</p>\n<pre><code>SELECT p.id FROM Post p\nWHERE id=:id\n</code></pre>\n<p>with the same parameter id of 3007120 returns an integer. <a href=\"https://i.stack.imgur.com/IPaYE.png\" rel=\"nofollow noreferrer\">Result for a second query</a></p>\n<p>The weird part is, other entities, stored at basically the same time, from exactly the same source, with the very same process, return Long and long respectively.</p>\n<p>Checking the Database schema in ObjectDB explorer tells me that the field is supposed to be long.\nIn my Entity class the field is annotated with just ID and has only standard get/set methods</p>\n<pre><code> @Id private long id;\n</code></pre>\n<p>Tried whatever I could think of and just cant figure this one out.</p>\n<p>EDIT: As an additional question, why does it say long - the primitive type, when I retrieve the whole Entity but shows Long/Integer when i retrieve just the id?</p>\n"}, {"tags": ["java", "sql"], "comments": [{"owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "edited": false, "score": 0, "creation_date": 1541624789, "post_id": 53197789, "comment_id": 93284193, "body": "The query itself looks fine. Can you share the Java code that produces this error?"}, {"owner": {"reputation": 7720, "user_id": 8921755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dec518adc2024784cc770596a0aa200?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/8921755/ivan"}, "edited": false, "score": 0, "creation_date": 1541624803, "post_id": 53197789, "comment_id": 93284202, "body": "Please add piece of Java code where you define this query. Possibly you&#39;ve missed space or newline somewhere"}, {"owner": {"reputation": 85, "user_id": 10517244, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wQvosJY5kNY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWUHstrK0lS3alRVEQ0ssak19Afbw/mo/photo.jpg?sz=128", "display_name": "uma", "link": "https://stackoverflow.com/users/10517244/uma"}, "reply_to_user": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "edited": false, "score": 0, "creation_date": 1541650774, "post_id": 53197789, "comment_id": 93291371, "body": "@Mureinik I update the code up"}, {"owner": {"reputation": 434877, "user_id": 330315, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4b152262d9ba55197f609625358ff7e0?s=128&d=identicon&r=PG", "display_name": "a_horse_with_no_name", "link": "https://stackoverflow.com/users/330315/a-horse-with-no-name"}, "edited": false, "score": 0, "creation_date": 1541659682, "post_id": 53197789, "comment_id": 93293561, "body": "Print the generated statements, then run those - that will immediately show you were the error is."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10224520, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Gqy0vSTCK78/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r52JWF4JloSloE0EmsGKjgbzGSiQ/mo/photo.jpg?sz=128", "display_name": "Pyro", "link": "https://stackoverflow.com/users/10224520/pyro"}, "is_accepted": false, "score": 0, "last_activity_date": 1541625616, "creation_date": 1541625616, "answer_id": 53197991, "question_id": 53197789, "link": "https://stackoverflow.com/questions/53197789/what-is-meaning-with-sql-command-not-properly-ended-when-the-query-work/53197991#53197991", "title": "What is meaning with sql command not properly ended when the query work", "body": "<p>Have you tried adding a \";\" at the end?</p>\n"}, {"tags": [], "owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "is_accepted": false, "score": 0, "last_activity_date": 1541660596, "last_edit_date": 1541660596, "creation_date": 1541655921, "answer_id": 53202140, "question_id": 53197789, "link": "https://stackoverflow.com/questions/53197789/what-is-meaning-with-sql-command-not-properly-ended-when-the-query-work/53202140#53202140", "title": "What is meaning with sql command not properly ended when the query work", "body": "<p>In all three queries where you concat string literals, you're missing a space before the <code>\"AND\"</code> on the second line, which will result in the syntax error you're getting.</p>\n\n<p>E.g., in the first <code>if</code> statement:</p>\n\n<pre><code>preparedStatement = connection.prepareStatement(\n             \"SELECT I_ID,I_NO,I_TITLE,I_DESCRIPITION,I_CREATED_DATE,STATUS.S_DESCRIPTION,CREATOR_USER.U_NAME,APPROVER_USER.U_NAME,OFFICER_USER.U_NAME FROM IDEA IDEA,STATUS STATUS,APPL_USER CREATOR_USER,APPL_USER APPROVER_USER,APPL_USER OFFICER_USER  WHERE IDEA.I_STATUS_CODE= STATUS.S_CODE AND IDEA.I_CREATED_USER_ID  = CREATOR_USER.U_SEQ AND IDEA.I_APPROVER_NAME_CODE= APPROVER_USER.U_SEQ AND IDEA.I_IMMPLEMENTATION_OFFICER = OFFICER_USER.U_SEQ\"\n                           + \" AND STATUS.S_CODE = ? AND IDEA.I_NO = ? AND IDEA.I_TITLE like ?\");\n// This space was missing ----^\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 10517244, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wQvosJY5kNY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWUHstrK0lS3alRVEQ0ssak19Afbw/mo/photo.jpg?sz=128", "display_name": "uma", "link": "https://stackoverflow.com/users/10517244/uma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1541660596, "creation_date": 1541624641, "last_edit_date": 1541642264, "question_id": 53197789, "link": "https://stackoverflow.com/questions/53197789/what-is-meaning-with-sql-command-not-properly-ended-when-the-query-work", "title": "What is meaning with sql command not properly ended when the query work", "body": "<p>I have this query, it is work in sql developer and I get the result but in the java it give me sql command not properly ended. This query to make search beasd on 3 fields if all fields are null breing all beasd on the where cluse and f any one entered breing the result of the enterd filed.</p>\n\n<p>This is the query:</p>\n\n<pre><code> public List&lt;IdeaSearchResultDto&gt; searchAwardTeamUI(IdeaSearchDto ideaSearchDto) {\n\n          Connection connection = null;\n\n          PreparedStatement preparedStatement = null;\n          ResultSet searchResultSet = null;\n\n          try {\n                 connection = getConnection();\n\n                 if (ideaSearchDto.getIdeaNo() == null &amp;&amp; ideaSearchDto.getIdeaStatus() == null\n                              &amp;&amp; ideaSearchDto.getIdeaTitle() == null) {\n                       preparedStatement = connection.prepareStatement(\"SELECT I_ID,I_NO,I_TITLE,I_DESCRIPITION,I_CREATED_DATE,STATUS.S_DESCRIPTION,CREATOR_USER.U_NAME,APPROVER_USER.U_NAME,OFFICER_USER.U_NAME FROM IDEA IDEA,STATUS STATUS,APPL_USER CREATOR_USER,APPL_USER APPROVER_USER,APPL_USER OFFICER_USER WHERE IDEA.I_STATUS_CODE = STATUS.S_CODE AND IDEA.I_CREATED_USER_ID = CREATOR_USER.U_SEQ AND IDEA.I_APPROVER_NAME_CODE = APPROVER_USER.U_SEQ AND IDEA.I_IMMPLEMENTATION_OFFICER = OFFICER_USER.U_SEQ\");\n                 }\n\n                 if (ideaSearchDto.getIdeaNo() != null &amp;&amp; ideaSearchDto.getIdeaTitle() != null\n                              &amp;&amp; ideaSearchDto.getIdeaStatus() != null) {\n                       preparedStatement = connection.prepareStatement(\n                                     \"SELECT I_ID,I_NO,I_TITLE,I_DESCRIPITION,I_CREATED_DATE,STATUS.S_DESCRIPTION,CREATOR_USER.U_NAME,APPROVER_USER.U_NAME,OFFICER_USER.U_NAME FROM IDEA IDEA,STATUS STATUS,APPL_USER CREATOR_USER,APPL_USER APPROVER_USER,APPL_USER OFFICER_USER  WHERE IDEA.I_STATUS_CODE= STATUS.S_CODE AND IDEA.I_CREATED_USER_ID  = CREATOR_USER.U_SEQ AND IDEA.I_APPROVER_NAME_CODE= APPROVER_USER.U_SEQ AND IDEA.I_IMMPLEMENTATION_OFFICER = OFFICER_USER.U_SEQ\"\n                                                   + \"AND STATUS.S_CODE = ? AND IDEA.I_NO = ? AND IDEA.I_TITLE like ?\");\n                       preparedStatement.setObject(1, ideaSearchDto.getIdeaStatus());\n\n                       preparedStatement.setObject(2, ideaSearchDto.getIdeaNo());\n                       preparedStatement.setString(3, \"%\" + ideaSearchDto.getIdeaTitle() + \"%\");\n\n                 }\n                 if (ideaSearchDto.getIdeaNo() != null &amp;&amp; ideaSearchDto.getIdeaTitle() == null\n                              &amp;&amp; ideaSearchDto.getIdeaStatus() == null) {\n\n                       preparedStatement = connection.prepareStatement(\n                                     \"SELECT I_ID,I_NO,I_TITLE,I_DESCRIPITION,I_CREATED_DATE,STATUS.S_DESCRIPTION,CREATOR_USER.U_NAME,APPROVER_USER.U_NAME,OFFICER_USER.U_NAME FROM IDEA IDEA,STATUS STATUS,APPL_USER CREATOR_USER,APPL_USER APPROVER_USER,APPL_USER OFFICER_USER  WHERE IDEA.I_STATUS_CODE= STATUS.S_CODE AND IDEA.I_CREATED_USER_ID  = CREATOR_USER.U_SEQ AND IDEA.I_APPROVER_NAME_CODE= APPROVER_USER.U_SEQ AND IDEA.I_IMMPLEMENTATION_OFFICER = OFFICER_USER.U_SEQ\"\n                                                   + \"AND IDEA.I_NO = ?\");\n                       preparedStatement.setObject(1, ideaSearchDto.getIdeaNo());\n\n                 }\n                 if (ideaSearchDto.getIdeaNo() == null &amp;&amp; ideaSearchDto.getIdeaTitle() != null\n                              &amp;&amp; ideaSearchDto.getIdeaStatus() == null) {\n                       preparedStatement = connection.prepareStatement(\n                                     \"SELECT I_ID,I_NO,I_TITLE,I_DESCRIPITION,I_CREATED_DATE,STATUS.S_DESCRIPTION,CREATOR_USER.U_NAME,APPROVER_USER.U_NAME,OFFICER_USER.U_NAME FROM IDEA IDEA,STATUS STATUS,APPL_USER CREATOR_USER,APPL_USER APPROVER_USER,APPL_USER OFFICER_USER  WHERE IDEA.I_STATUS_CODE= STATUS.S_CODE AND IDEA.I_CREATED_USER_ID  = CREATOR_USER.U_SEQ AND IDEA.I_APPROVER_NAME_CODE= APPROVER_USER.U_SEQ AND IDEA.I_IMMPLEMENTATION_OFFICER = OFFICER_USER.U_SEQ\"\n                                                   + \"AND IDEA.I_TITLE LIKE ?\");\n                       preparedStatement.setObject(1, \"%\" + ideaSearchDto.getIdeaTitle() + \"%\");\n                 }\n                 if (ideaSearchDto.getIdeaNo() == null &amp;&amp; ideaSearchDto.getIdeaTitle() == null\n                              &amp;&amp; ideaSearchDto.getIdeaStatus() != null) {\n                       preparedStatement = connection.prepareStatement(\n                                     \"SELECT I_ID,I_NO,I_TITLE,I_DESCRIPITION,I_CREATED_DATE,STATUS.S_DESCRIPTION,CREATOR_USER.U_NAME,APPROVER_USER.U_NAME,OFFICER_USER.U_NAME FROM IDEA IDEA,STATUS STATUS,APPL_USER CREATOR_USER,APPL_USER APPROVER_USER,APPL_USER OFFICER_USER  WHERE IDEA.I_STATUS_CODE= STATUS.S_CODE AND IDEA.I_CREATED_USER_ID  = CREATOR_USER.U_SEQ AND IDEA.I_APPROVER_NAME_CODE= APPROVER_USER.U_SEQ AND IDEA.I_IMMPLEMENTATION_OFFICER = OFFICER_USER.U_SEQ\"\n                                                   + \"AND STATUS.S_CODE = ?\");\n                       preparedStatement.setObject(1, ideaSearchDto.getIdeaStatus());\n                 }\n                 searchResultSet = preparedStatement.executeQuery();\n\n                 return searchAwardTeamUI(searchResultSet);\n\n          } catch (Exception e) {\n                 throw new RuntimeException(e);\n          } finally {\n                 try {\n                       if (searchResultSet != null) {\n                              searchResultSet.close();\n                       }\n\n                       preparedStatement.close();\n                 } catch (SQLException e) {\n                       throw new RuntimeException(e);\n                 }\n          }\n   }\n\n       private List&lt;IdeaSearchResultDto&gt; searchAwardTeamUI(ResultSet searchResultSet) throws SQLException {\n          List&lt;IdeaSearchResultDto&gt; result = new ArrayList&lt;IdeaSearchResultDto&gt;();\n\n          IdeaSearchResultDto ideaSearchResultDto = null;\n\n          while (searchResultSet.next()) {\n                 ideaSearchResultDto = new IdeaSearchResultDto();\n\n                 ideaSearchResultDto.setIdeaId(searchResultSet.getLong(1));\n                 ideaSearchResultDto.setIdeaNo(searchResultSet.getLong(2));\n                 ideaSearchResultDto.setTitle(searchResultSet.getString(3));\n                 ideaSearchResultDto.setDescription(searchResultSet.getString(4));\n                 ideaSearchResultDto.setCreatedDate(searchResultSet.getDate(5));\n                 ideaSearchResultDto.setStatusDescription(searchResultSet.getString(6));\n                 ideaSearchResultDto.setIdeaCreator(searchResultSet.getString(7));\n                 ideaSearchResultDto.setIdeaApprover(searchResultSet.getString(8));\n                 ideaSearchResultDto.setIdeaImmplementationOffName(searchResultSet.getString(9));\n\n\n                 result.add(ideaSearchResultDto);\n\n          }\n\n          return result;\n   }\n</code></pre>\n\n<p>I update the code </p>\n"}, {"tags": ["java", "mongodb", "spring-boot", "spring-data-mongodb", "spring-webflux"], "comments": [{"owner": {"reputation": 1715, "user_id": 3811763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZ6iX.jpg?s=128&g=1", "display_name": "uneq95", "link": "https://stackoverflow.com/users/3811763/uneq95"}, "edited": false, "score": 0, "creation_date": 1541698437, "post_id": 53197785, "comment_id": 93314062, "body": "I, too, had made such API in the past. I too faced the same error but somehow even after showing the 500 error the updates were successful."}, {"owner": {"reputation": 1715, "user_id": 3811763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZ6iX.jpg?s=128&g=1", "display_name": "uneq95", "link": "https://stackoverflow.com/users/3811763/uneq95"}, "edited": false, "score": 0, "creation_date": 1541698489, "post_id": 53197785, "comment_id": 93314086, "body": "Instead of inserting one by one, try inserting in one go. Convert the flux into a mono of list of foobar and then insert that list into the repo."}, {"owner": {"reputation": 319, "user_id": 4256563, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/1ce52df78c2dbe95916c68a8503e042a?s=128&d=identicon&r=PG&f=1", "display_name": "A5300", "link": "https://stackoverflow.com/users/4256563/a5300"}, "reply_to_user": {"reputation": 1715, "user_id": 3811763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZ6iX.jpg?s=128&g=1", "display_name": "uneq95", "link": "https://stackoverflow.com/users/3811763/uneq95"}, "edited": false, "score": 0, "creation_date": 1541705394, "post_id": 53197785, "comment_id": 93317250, "body": "@uneq95 I don&#39;t want to do that as I&#39;m reading a huge file with more than 10k lines"}, {"owner": {"reputation": 1715, "user_id": 3811763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZ6iX.jpg?s=128&g=1", "display_name": "uneq95", "link": "https://stackoverflow.com/users/3811763/uneq95"}, "edited": false, "score": 0, "creation_date": 1541732084, "post_id": 53197785, "comment_id": 93325738, "body": "Then update in batches."}, {"owner": {"reputation": 1715, "user_id": 3811763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZ6iX.jpg?s=128&g=1", "display_name": "uneq95", "link": "https://stackoverflow.com/users/3811763/uneq95"}, "edited": false, "score": 0, "creation_date": 1541732917, "post_id": 53197785, "comment_id": 93325925, "body": "See this <a href=\"https://dzone.com/articles/bulk-operations-in-mongodb\" rel=\"nofollow noreferrer\">dzone.com/articles/bulk-operations-in-mongodb</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1715, "user_id": 3811763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZ6iX.jpg?s=128&g=1", "display_name": "uneq95", "link": "https://stackoverflow.com/users/3811763/uneq95"}, "edited": false, "score": 0, "creation_date": 1541916694, "post_id": 53232480, "comment_id": 93377548, "body": "Looks like a workaround to me and not a legitimate solution."}], "tags": [], "owner": {"reputation": 319, "user_id": 4256563, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/1ce52df78c2dbe95916c68a8503e042a?s=128&d=identicon&r=PG&f=1", "display_name": "A5300", "link": "https://stackoverflow.com/users/4256563/a5300"}, "is_accepted": false, "score": 0, "last_activity_date": 1541793317, "creation_date": 1541793317, "answer_id": 53232480, "question_id": 53197785, "link": "https://stackoverflow.com/questions/53197785/spring-reactive-with-mongodb-fails-for-more-than-1000-records/53232480#53232480", "title": "Spring Reactive with MongoDB fails for more than 1000 records", "body": "<p>actually all data was inserted into database but with the error I described. I changed a bit the code and now everything is ok:</p>\n\n<pre><code> webClient.post()\n            .uri(\"/foobar/bulk\")\n            .contentType(APPLICATION_STREAM_JSON)\n            .body(createFlux(), Foobar.class)\n            .retrieve()\n            .bodyToMono(Long.class)\n            .subscribe(count -&gt; log.info(\"items sent and received: \" + count));\n</code></pre>\n\n<p>And the receiver:</p>\n\n<pre><code>@PostMapping(value = \"/bulk\", consumes = APPLICATION_STREAM_JSON_VALUE)\npublic Mono&lt;Long&gt; bulkInsert(@RequestBody Flux&lt;Foobar&gt; foobars) {\n    return foobarReactiveRepository.insert(foobars).count();\n}\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 4256563, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/1ce52df78c2dbe95916c68a8503e042a?s=128&d=identicon&r=PG&f=1", "display_name": "A5300", "link": "https://stackoverflow.com/users/4256563/a5300"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 705, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1541793317, "creation_date": 1541624622, "last_edit_date": 1541695291, "question_id": 53197785, "link": "https://stackoverflow.com/questions/53197785/spring-reactive-with-mongodb-fails-for-more-than-1000-records", "title": "Spring Reactive with MongoDB fails for more than 1000 records", "body": "<p>I have two Spring Boot services, first one reads a file line by line transforming into a flux and makes a POST request:</p>\n\n<pre><code>webClient.post()\n            .uri(\"/foobar/bulk\")\n            .contentType(APPLICATION_STREAM_JSON)\n            .body(createFlux(), Foobar.class)\n            .retrieve()\n            .bodyToMono(Void.class)\n            .subscribe();\n</code></pre>\n\n<p>The second service receives a <code>Flux&lt;Foobar&gt;</code> and saves it to database:</p>\n\n<pre><code>@ResponseStatus(HttpStatus.CREATED)\n@PostMapping(value = \"/foobar/bulk\", consumes = APPLICATION_STREAM_JSON_VALUE)\npublic Mono&lt;Void&gt; bulkInsert(@RequestBody Flux&lt;Foobar&gt; foobars) {\n    return foobarReactiveRepository.insert(foobars).then();\n}\n</code></pre>\n\n<p>But only ~1000 objects are saved into mongo db and then it fails (in first service) with:</p>\n\n<pre><code>reactor.core.Exceptions$ErrorCallbackNotImplemented: \n\norg.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error\nCaused by: org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error\n    at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:151) ~[spring-webflux-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at org.springframework.web.reactive.function.client.DefaultWebClient$DefaultResponseSpec.lambda$createResponseException$7(DefaultWebClient.java:466) ~[spring-webflux-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:100) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]\n    at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:92) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:121) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]\n    at reactor.core.publisher.FluxContextStart$ContextStartSubscriber.onNext(FluxContextStart.java:103) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:287) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]\n    at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:331) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1476) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]\n    at reactor.core.publisher.MonoCollectList$MonoBufferAllSubscriber.onComplete(MonoCollectList.java:118) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:136) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:136) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]\n    at reactor.netty.channel.FluxReceive.terminateReceiver(FluxReceive.java:378) ~[reactor-netty-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n    at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:202) ~[reactor-netty-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n    at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:343) ~[reactor-netty-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n    at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:325) ~[reactor-netty-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n    at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:372) ~[reactor-netty-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n    at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:522) ~[reactor-netty-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n    at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:141) ~[reactor-netty-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102) ~[netty-codec-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438) ~[netty-transport-4.1.29.Final.jar:4.1.29.Final]\n</code></pre>\n\n<p>Not sure if it's important but in second service logs I can see around 10 lines like:</p>\n\n<pre><code>[ntLoopGroup-2-7] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:7, serverValue:1424}] to localhost:27017\n</code></pre>\n\n<p>If I increase <code>maxPoolSize</code> param for <code>spring.data.mongodb.uri</code> I get more objects into database and more logs like above.</p>\n\n<p>I'm using </p>\n\n<ul>\n<li><code>spring-boot-starter-webflux:2.1.0.RELEASE'</code></li>\n<li><code>spring-boot-starter-data-mongodb-reactive:2.1.0.RELEASE</code></li>\n</ul>\n\n<p>Have I misconfigured something or using wrongly mongo/reactive API ?</p>\n"}, {"tags": ["java", "json", "amazon-web-services", "amazon-ec2"], "comments": [{"owner": {"reputation": 109324, "user_id": 21926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6e61d47f9a6ec0a7a286835e51f3332?s=128&d=identicon&r=PG", "display_name": "Sean Bright", "link": "https://stackoverflow.com/users/21926/sean-bright"}, "edited": false, "score": 2, "creation_date": 1541625205, "post_id": 53197764, "comment_id": 93284378, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4105795/pretty-print-json-in-java\">Pretty-Print JSON in Java</a>"}, {"owner": {"reputation": 6272, "user_id": 3591528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/euYKd.png?s=128&g=1", "display_name": "teppic", "link": "https://stackoverflow.com/users/3591528/teppic"}, "edited": false, "score": 0, "creation_date": 1541625894, "post_id": 53197764, "comment_id": 93284704, "body": "If you want a quick general solution, just pipe your output through <a href=\"https://stedolan.github.io/jq/\" rel=\"nofollow noreferrer\">jq</a>."}], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 7535818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06efd5899b8fec0cbfd8b42a87a2304c?s=128&d=identicon&r=PG&f=1", "display_name": "bayrem404", "link": "https://stackoverflow.com/users/7535818/bayrem404"}, "is_accepted": false, "score": 0, "last_activity_date": 1541625607, "creation_date": 1541625607, "answer_id": 53197990, "question_id": 53197764, "link": "https://stackoverflow.com/questions/53197764/pretty-print-string-to-json-format/53197990#53197990", "title": "Pretty print String to JSON format", "body": "<p>Both represent a json array containing jsonObjects of same structure.\nDisplaying result will depend on your front implementation not the layaout of your jsonRespense.</p>\n"}, {"tags": [], "owner": {"reputation": 15145, "user_id": 155695, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f0b27ae89380502a86b50445857b0080?s=128&d=identicon&r=PG", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/155695/jimmy"}, "is_accepted": true, "score": 3, "last_activity_date": 1541626567, "creation_date": 1541626567, "answer_id": 53198194, "question_id": 53197764, "link": "https://stackoverflow.com/questions/53197764/pretty-print-string-to-json-format/53198194#53198194", "title": "Pretty print String to JSON format", "body": "<p>You're calling the <code>.toString()</code> on the response object, just be careful with this as there is no guarantee that will always be json, as you're seeing above, it's not even valid json as it's missing quotes around the attribute names and values.</p>\n\n<p>One option to get what you want is to call <code>response.getSpotPriceHistory()</code> to get you the array of spot prices, then pass that thru ObjectMapper and write it as a pretty string, like so:</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n\n    AmazonEC2 client = AmazonEC2Client.builder().build();\n    DescribeSpotPriceHistoryRequest request = new DescribeSpotPriceHistoryRequest()\n        .withEndTime(new Date())\n        .withInstanceTypes(\"m1.xlarge\").withProductDescriptions(\"Linux/UNIX (Amazon VPC)\")\n        .withStartTime(new Date());\n    DescribeSpotPriceHistoryResult response = client.describeSpotPriceHistory(request);\n\n    ObjectMapper mapper = new ObjectMapper();\n    String asPrettyJSon = mapper.writerWithDefaultPrettyPrinter()\n        .writeValueAsString(response.getSpotPriceHistory());\n    System.out.println(asPrettyJSon);\n    }\n</code></pre>\n"}], "owner": {"reputation": 1940, "user_id": 1251787, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2fd207b0ac82e637b82c099e33df1790?s=128&d=identicon&r=PG", "display_name": "Mehdi", "link": "https://stackoverflow.com/users/1251787/mehdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 53198194, "answer_count": 2, "score": 0, "last_activity_date": 1541888356, "creation_date": 1541624548, "last_edit_date": 1541888356, "question_id": 53197764, "link": "https://stackoverflow.com/questions/53197764/pretty-print-string-to-json-format", "title": "Pretty print String to JSON format", "body": "<p>I execute an AWS command to retrieve the spot price history.</p>\n\n<pre><code>DescribeSpotPriceHistoryRequest request = new DescribeSpotPriceHistoryRequest().withEndTime(start)\n        .withInstanceTypes(\"m1.xlarge\").withProductDescriptions(\"Linux/UNIX (Amazon VPC)\").withStartTime(end);\n        DescribeSpotPriceHistoryResult response = client.describeSpotPriceHistory(request);\n        System.out.println(response.toString());\n</code></pre>\n\n<p>I obtained the result in json format but I receive it in String like:</p>\n\n<pre><code>{SpotPriceHistory: [{AvailabilityZone: us-east-1d,InstanceType: m1.xlarge,ProductDescription: Linux/UNIX,SpotPrice: 0.035000,Timestamp: Wed Nov 07 00:18:50 CET 2018}, {AvailabilityZone: us-east-1c,InstanceType: m1.xlarge,ProductDescription: Linux/UNIX,SpotPrice: 0.035000,Timestamp: Wed Nov 07 00:18:50 CET 2018}, {AvailabilityZone: us-east-1b,InstanceType: m1.xlarge,ProductDescription: Linux/UNIX,SpotPrice: 0.035000,Timestamp: Wed Nov 07 00:18:50 CET 2018}, {AvailabilityZone: us-east-1a,InstanceType: m1.xlarge,ProductDescription: Linux/UNIX,SpotPrice: 0.035000,Timestamp: Wed Nov 07 00:18:50 CET 2018}, {AvailabilityZone: us-east-1e,InstanceType: m1.xlarge,ProductDescription: Linux/UNIX,SpotPrice: 0.350000,Timestamp: Thu Sep 20 01:08:39 CEST 2018}]}\n</code></pre>\n\n<p>my question is: How can I improve the displaying of the results ? like</p>\n\n<pre><code>        {\n            \"Timestamp\": \"2018-09-08T17:07:14.000Z\", \n            \"AvailabilityZone\": \"us-east-1d\", \n            \"InstanceType\": \"p2.16xlarge\", \n            \"ProductDescription\": \"Linux/UNIX\", \n            \"SpotPrice\": \"4.320000\"\n        }, \n        {\n            \"Timestamp\": \"2018-09-08T17:07:14.000Z\", \n            \"AvailabilityZone\": \"us-east-1c\", \n            \"InstanceType\": \"p2.16xlarge\", \n            \"ProductDescription\": \"Linux/UNIX\", \n            \"SpotPrice\": \"4.320000\"\n        }, \n        {\n            \"Timestamp\": \"2018-09-08T17:07:14.000Z\", \n            \"AvailabilityZone\": \"us-east-1b\", \n            \"InstanceType\": \"p2.16xlarge\", \n            \"ProductDescription\": \"Linux/UNIX\", \n            \"SpotPrice\": \"4.320000\"\n        }, \n        {\n            \"Timestamp\": \"2018-09-08T12:32:28.000Z\", \n            \"AvailabilityZone\": \"us-east-1e\", \n            \"InstanceType\": \"p2.16xlarge\", \n            \"ProductDescription\": \"Linux/UNIX\", \n            \"SpotPrice\": \"4.320000\"\n        }\n    ]\n}\n</code></pre>\n"}, {"tags": ["java", "lambda"], "comments": [{"owner": {"reputation": 5538, "user_id": 812787, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9bfd1118658eeaac257e60eb9f0cb5de?s=128&d=identicon&r=PG", "display_name": "tsolakp", "link": "https://stackoverflow.com/users/812787/tsolakp"}, "edited": false, "score": 1, "creation_date": 1541624520, "post_id": 53197726, "comment_id": 93284053, "body": "Where exactly are you seeing the error? Also don&#39;t do mutation operation in the <code>Optional.map</code>. The right place is in <code>Optional.ifPresent</code>."}, {"owner": {"reputation": 149, "user_id": 689876, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1fc7c091daa7757022a36f4962abfcc4?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/689876/david"}, "reply_to_user": {"reputation": 5538, "user_id": 812787, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9bfd1118658eeaac257e60eb9f0cb5de?s=128&d=identicon&r=PG", "display_name": "tsolakp", "link": "https://stackoverflow.com/users/812787/tsolakp"}, "edited": false, "score": 0, "creation_date": 1541624552, "post_id": 53197726, "comment_id": 93284069, "body": "This line, .map(profile -&gt; profile.setProperty(true))"}, {"owner": {"reputation": 28727, "user_id": 9959152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSjIJ.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/9959152/deadpool"}, "edited": false, "score": 1, "creation_date": 1541624726, "post_id": 53197726, "comment_id": 93284164, "body": "what does <code>setProperty()</code> return?"}, {"owner": {"reputation": 149, "user_id": 689876, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1fc7c091daa7757022a36f4962abfcc4?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/689876/david"}, "edited": false, "score": 0, "creation_date": 1541624785, "post_id": 53197726, "comment_id": 93284190, "body": "empty value, void"}, {"owner": {"reputation": 28727, "user_id": 9959152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSjIJ.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/9959152/deadpool"}, "edited": false, "score": 0, "creation_date": 1541625085, "post_id": 53197726, "comment_id": 93284329, "body": "you can try this too, change <code>setProperty()</code> to return <code>this</code> current object, it should work @David"}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 689876, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1fc7c091daa7757022a36f4962abfcc4?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/689876/david"}, "edited": false, "score": 0, "creation_date": 1541624726, "post_id": 53197768, "comment_id": 93284163, "body": "what could i do to change that value? no possible to use foreach since i&#39;m just getting the first value"}, {"owner": {"reputation": 28727, "user_id": 9959152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSjIJ.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/9959152/deadpool"}, "edited": false, "score": 0, "creation_date": 1541624959, "post_id": 53197768, "comment_id": 93284274, "body": "if <code>setProperty()</code> return Profile object then it should work right? <code>map expects that the lambda passed to it returns a new value, instead of modifying an existing one</code> this is what my concern, do really need to return new object? @Louis"}, {"owner": {"reputation": 5538, "user_id": 812787, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9bfd1118658eeaac257e60eb9f0cb5de?s=128&d=identicon&r=PG", "display_name": "tsolakp", "link": "https://stackoverflow.com/users/812787/tsolakp"}, "reply_to_user": {"reputation": 28727, "user_id": 9959152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSjIJ.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/9959152/deadpool"}, "edited": false, "score": 0, "creation_date": 1541626368, "post_id": 53197768, "comment_id": 93284907, "body": "@Deadpool. <code>Optional</code> API does not guarantee that function passed to <code>map</code> will be called at all even if <code>profile.setProperty(true)</code> would have returned a value."}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 1, "creation_date": 1541629237, "post_id": 53197768, "comment_id": 93286064, "body": "<code>ifPresent</code> is what you&#39;d use for <code>Optional</code> instead of <code>forEach</code>.  It does not have to be a new object so much as it has to be an object at all, but if it passes you a new object and you don&#39;t <i>store</i> it, then you&#39;ve accomplished nothing."}], "tags": [], "owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "is_accepted": false, "score": 4, "last_activity_date": 1541624551, "creation_date": 1541624551, "answer_id": 53197768, "question_id": 53197726, "link": "https://stackoverflow.com/questions/53197726/java-8-lambda-stream-filter-change-a-value/53197768#53197768", "title": "Java 8 Lambda - Stream filter change a value", "body": "<pre><code>.map(profile -&gt; profile.setProperty(true))\n</code></pre>\n\n<p>is incorrect; <em>how</em> it's incorrect and how to fix it is up to you.</p>\n\n<p><code>map</code> expects that the lambda passed to it returns a <em>new</em> value, instead of modifying an existing one.  You can create a new value with <code>property</code> set to true, or you could use <code>ifPresent</code> instead of <code>map</code> to change the existing values in-place.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14677027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5338cd732c1e56393197c0a7aa93bb32?s=128&d=identicon&r=PG&f=1", "display_name": "Katsaros Giannis", "link": "https://stackoverflow.com/users/14677027/katsaros-giannis"}, "is_accepted": false, "score": 0, "last_activity_date": 1605891880, "creation_date": 1605891880, "answer_id": 64933749, "question_id": 53197726, "link": "https://stackoverflow.com/questions/53197726/java-8-lambda-stream-filter-change-a-value/64933749#64933749", "title": "Java 8 Lambda - Stream filter change a value", "body": "<p>If anyone is struggling with that, this is the way to do it with ifPresent (as the above mentioned):</p>\n<pre><code>.stream()\n.filter(profile -&gt; profile.getValue().equals(&quot;test&quot;))\n.findFirst()\n.ifpresent(profile -&gt; profile.setProperty(true))\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 689876, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1fc7c091daa7757022a36f4962abfcc4?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/689876/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 962, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1605891880, "creation_date": 1541624395, "question_id": 53197726, "link": "https://stackoverflow.com/questions/53197726/java-8-lambda-stream-filter-change-a-value", "title": "Java 8 Lambda - Stream filter change a value", "body": "<p>I need to change a value that I get from a filter</p>\n\n<pre><code>.stream()\n.filter(profile -&gt; profile.getValue().equals(\"test\"))\n.findFirst()\n.map(profile -&gt; profile.setProperty(true))\n</code></pre>\n\n<p>I'm getting incompatible types: inferred type does not conform to upper bound(s), thanks</p>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "edited": false, "score": 0, "creation_date": 1541625114, "post_id": 53197713, "comment_id": 93284345, "body": "Can you please edit your exact <code>pom.xml</code> into the question."}, {"owner": {"reputation": 121, "user_id": 2718960, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002521211601/picture?type=large", "display_name": "George Sexton", "link": "https://stackoverflow.com/users/2718960/george-sexton"}, "reply_to_user": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "edited": false, "score": 0, "creation_date": 1541626559, "post_id": 53197713, "comment_id": 93285005, "body": "@rustyx I&#39;ve added the complete pom as requested."}], "owner": {"reputation": 121, "user_id": 2718960, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002521211601/picture?type=large", "display_name": "George Sexton", "link": "https://stackoverflow.com/users/2718960/george-sexton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 400, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541626528, "creation_date": 1541624334, "last_edit_date": 1541626528, "question_id": 53197713, "link": "https://stackoverflow.com/questions/53197713/im-having-openjdk11-compatibility-issues", "title": "I&#39;m having OpenJDK11 Compatibility issues", "body": "<p>I'm having a problem running a simple embedded tomcat app. The project is here:</p>\n\n<p><a href=\"https://devcenter.heroku.com/articles/create-a-java-web-application-using-embedded-tomcat\" rel=\"nofollow noreferrer\">https://devcenter.heroku.com/articles/create-a-java-web-application-using-embedded-tomcat</a></p>\n\n<p>I updated the Tomcat version to 8.5.34, and added the maven compiler plugin to set the source/target to 11.</p>\n\n<p>If I run it using OpenJDK 11:</p>\n\n<p>openjdk version \"11.0.1\" 2018-10-16<br>\nOpenJDK Runtime Environment (build 11.0.1+13-suse-lp150.2.6.1-x8664)<br>\nOpenJDK 64-Bit Server VM (build 11.0.1+13-suse-lp150.2.6.1-x8664, mixed mode)<br></p>\n\n<p>I get the error:</p>\n\n<pre><code> Caused by: java.lang.IllegalAccessError: class  org.apache.catalina.startup.WebAnnotationSet (in unnamed module @0x18eed359) cannot access class javax.annotation.security.DeclareRoles (in module java.annotation) because module java.annotation does not export javax.annotation.security to unnamed module @0x18eed359\n        at org.apache.catalina.startup.WebAnnotationSet.loadClassAnnotation(WebAnnotationSet.java:258)\n        at org.apache.catalina.startup.WebAnnotationSet.loadApplicationServletAnnotations(WebAnnotationSet.java:136)\n        at org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:69)\n        at org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:328)\n        at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:768)\n        at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:299)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:94)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5154)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n</code></pre>\n\n<p>If I run it using Java SE 11.0.1 downloaded from Oracle's website on the same machine, it works as expected. The Oracle Java information is:</p>\n\n<p>java version \"11.0.1\" 2018-10-16 LTS<br>\nJava(TM) SE Runtime Environment 18.9 (build 11.0.1+13-LTS)<br>\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.1+13-LTS, mixed mode)<br></p>\n\n<p>The complete pom.xml file is:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.heroku.sample&lt;/groupId&gt;\n  &lt;artifactId&gt;embeddedTomcatSample&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;name&gt;embeddedTomcatSample Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;properties&gt;\n    &lt;tomcat.version&gt;8.5.34&lt;/tomcat.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n        &lt;version&gt;${tomcat.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;version&gt;${tomcat.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\n        &lt;version&gt;${tomcat.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-jasper-el&lt;/artifactId&gt;\n        &lt;version&gt;${tomcat.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;${tomcat.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;embeddedTomcatSample&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;assembleDirectory&gt;target&lt;/assembleDirectory&gt;\n                &lt;programs&gt;\n                    &lt;program&gt;\n                        &lt;mainClass&gt;launch.Main&lt;/mainClass&gt;\n                        &lt;name&gt;webapp&lt;/name&gt;\n                    &lt;/program&gt;\n                &lt;/programs&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;assemble&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Can anyone help me understand what's happening?</p>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 2481, "user_id": 1444748, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WqxKU.jpg?s=128&g=1", "display_name": "Morad", "link": "https://stackoverflow.com/users/1444748/morad"}, "edited": false, "score": 0, "creation_date": 1541625340, "post_id": 53197693, "comment_id": 93284452, "body": "What is Arr[1] and array[0]? What are the expected values in split[] and s[]?"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 10620522, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ppW7BF0RnM0/AAAAAAAAAAI/AAAAAAAAFos/KN4GMcRZl1k/photo.jpg?sz=128", "display_name": "Damien", "link": "https://stackoverflow.com/users/10620522/damien"}, "edited": false, "score": 0, "creation_date": 1541683313, "post_id": 53197966, "comment_id": 93305121, "body": "Done. Thanks for your help."}], "tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 0, "last_activity_date": 1541625533, "creation_date": 1541625533, "answer_id": 53197966, "question_id": 53197693, "link": "https://stackoverflow.com/questions/53197693/splitting-a-string-in-to-multiple-value/53197966#53197966", "title": "Splitting a string in to multiple value", "body": "<p>By making a change to <code>\"\\\\d\\\\.\\\\s\"</code> to the delimiter, this code:</p>\n\n<pre><code>String delimiter = \"\\\\d\\\\.\\\\s\";\nString cl =  \".WKS 1. Lotus Worksheet (filename extension). 2. Microsoft Works document (filename extension).\";\nString split[] = cl.split(\" \", 2);\n\nString name = split[0];\n\nString description = split[1];\n\nString splitted[] = description.split(delimiter);\n\nSystem.out.println(\"name=\" + name);\nSystem.out.println(\"description\" + description);\n\nfor (String s : splitted) {\n    System.out.println(s);\n}\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>name=.WKS\ndescription=1. Lotus Worksheet (filename extension). 2. Microsoft Works document (filename extension)).\n\nLotus Worksheet (filename extension). \nMicrosoft Works document (filename extension).\n</code></pre>\n\n<p>Notice the empty line, this means that <code>splitted[0]</code> is empty.  <br/>\nIs this what you want?</p>\n"}], "owner": {"reputation": 9, "user_id": 10620522, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ppW7BF0RnM0/AAAAAAAAAAI/AAAAAAAAFos/KN4GMcRZl1k/photo.jpg?sz=128", "display_name": "Damien", "link": "https://stackoverflow.com/users/10620522/damien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 53197966, "answer_count": 1, "score": -1, "last_activity_date": 1541625533, "creation_date": 1541624207, "question_id": 53197693, "link": "https://stackoverflow.com/questions/53197693/splitting-a-string-in-to-multiple-value", "title": "Splitting a string in to multiple value", "body": "<pre><code>BufferedReader br = new BufferedReader(new FileReader(file));\n        String delimiter = \"\\\\s\\\\d\\\\.\\\\s\";\n        String cl;\n\n        while ((cl = br.readLine()) != null) {\n            String split[] = cl.split(\" \", 2);\n            String name = split[0];\n            //System.out.println( name);\n            String description = split[1];\n\n            String s[] = description.split(delimiter);\n\n        }\n\n        br.close();\n</code></pre>\n\n<p>trying to read in something like this in and split by the delimiter above</p>\n\n<p>(\n.WKS 1. Lotus Worksheet (filename extension). 2. Microsoft Works document (filename extension)). )</p>\n\n<p>However, I get back an empty space and it doesn't put anything in Arr[1] just array[0]. </p>\n\n<p>My end goal is to store them with .WKS as key and store the rest of them into a hash table under that key with chaining.</p>\n"}, {"tags": ["java", "android", "android-studio", "android-fragments"], "comments": [{"owner": {"reputation": 2854, "user_id": 9164071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGIdi.jpg?s=128&g=1", "display_name": "Themelis", "link": "https://stackoverflow.com/users/9164071/themelis"}, "edited": false, "score": 0, "creation_date": 1541624639, "post_id": 53197639, "comment_id": 93284116, "body": "Can you post also the activity code?"}, {"owner": {"reputation": 13, "user_id": 10145537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7136ae6db6f3075a55a3bbd363af5ee1?s=128&d=identicon&r=PG&f=1", "display_name": "H. Tunc", "link": "https://stackoverflow.com/users/10145537/h-tunc"}, "reply_to_user": {"reputation": 2854, "user_id": 9164071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGIdi.jpg?s=128&g=1", "display_name": "Themelis", "link": "https://stackoverflow.com/users/9164071/themelis"}, "edited": false, "score": 0, "creation_date": 1541626521, "post_id": 53197639, "comment_id": 93284978, "body": "Editted. Chronometer defined in mainactivity."}], "answers": [{"tags": [], "owner": {"reputation": 630, "user_id": 5343907, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vJJcv8aqNac/AAAAAAAAAAI/AAAAAAAAAEI/SNbWlPTe5K0/photo.jpg?sz=128", "display_name": "Pavel B.", "link": "https://stackoverflow.com/users/5343907/pavel-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1541628184, "creation_date": 1541628184, "answer_id": 53198549, "question_id": 53197639, "link": "https://stackoverflow.com/questions/53197639/my-chronometer-stops-when-i-change-the-activity-how-can-i-prevent-this/53198549#53198549", "title": "My chronometer stops when i change the activity. How can i prevent this?", "body": "<p>Try using setRetainInstance(true) in onCreate of the fragment, as described here.</p>\n\n<p><a href=\"https://stackoverflow.com/a/22884377/5343907\">https://stackoverflow.com/a/22884377/5343907</a></p>\n"}, {"comments": [{"owner": {"reputation": 2854, "user_id": 9164071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGIdi.jpg?s=128&g=1", "display_name": "Themelis", "link": "https://stackoverflow.com/users/9164071/themelis"}, "reply_to_user": {"reputation": 13, "user_id": 10145537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7136ae6db6f3075a55a3bbd363af5ee1?s=128&d=identicon&r=PG&f=1", "display_name": "H. Tunc", "link": "https://stackoverflow.com/users/10145537/h-tunc"}, "edited": false, "score": 0, "creation_date": 1541632811, "post_id": 53198635, "comment_id": 93287322, "body": "Could you provide a link to download your project and test it on my machine?"}, {"owner": {"reputation": 2854, "user_id": 9164071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGIdi.jpg?s=128&g=1", "display_name": "Themelis", "link": "https://stackoverflow.com/users/9164071/themelis"}, "reply_to_user": {"reputation": 13, "user_id": 10145537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7136ae6db6f3075a55a3bbd363af5ee1?s=128&d=identicon&r=PG&f=1", "display_name": "H. Tunc", "link": "https://stackoverflow.com/users/10145537/h-tunc"}, "edited": false, "score": 0, "creation_date": 1541757967, "post_id": 53198635, "comment_id": 93334006, "body": "Ok I&#39;ll take a look"}, {"owner": {"reputation": 13, "user_id": 10145537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7136ae6db6f3075a55a3bbd363af5ee1?s=128&d=identicon&r=PG&f=1", "display_name": "H. Tunc", "link": "https://stackoverflow.com/users/10145537/h-tunc"}, "edited": false, "score": 0, "creation_date": 1541879560, "post_id": 53198635, "comment_id": 93371097, "body": "Did you find anything ?"}, {"owner": {"reputation": 2854, "user_id": 9164071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGIdi.jpg?s=128&g=1", "display_name": "Themelis", "link": "https://stackoverflow.com/users/9164071/themelis"}, "reply_to_user": {"reputation": 13, "user_id": 10145537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7136ae6db6f3075a55a3bbd363af5ee1?s=128&d=identicon&r=PG&f=1", "display_name": "H. Tunc", "link": "https://stackoverflow.com/users/10145537/h-tunc"}, "edited": false, "score": 0, "creation_date": 1541886018, "post_id": 53198635, "comment_id": 93372808, "body": "Check the link above"}], "tags": [], "owner": {"reputation": 2854, "user_id": 9164071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGIdi.jpg?s=128&g=1", "display_name": "Themelis", "link": "https://stackoverflow.com/users/9164071/themelis"}, "is_accepted": false, "score": 0, "last_activity_date": 1541883887, "last_edit_date": 1541883887, "creation_date": 1541628618, "answer_id": 53198635, "question_id": 53197639, "link": "https://stackoverflow.com/questions/53197639/my-chronometer-stops-when-i-change-the-activity-how-can-i-prevent-this/53198635#53198635", "title": "My chronometer stops when i change the activity. How can i prevent this?", "body": "<p>Maybe this suits your needs. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/28326221/android-how-to-restore-the-state-of-a-stopped-chronometer-after-rotation\">Android: How to restore the state of a stopped chronometer after rotation?</a></p>\n"}], "owner": {"reputation": 13, "user_id": 10145537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7136ae6db6f3075a55a3bbd363af5ee1?s=128&d=identicon&r=PG&f=1", "display_name": "H. Tunc", "link": "https://stackoverflow.com/users/10145537/h-tunc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541883887, "creation_date": 1541623979, "last_edit_date": 1541626462, "question_id": 53197639, "link": "https://stackoverflow.com/questions/53197639/my-chronometer-stops-when-i-change-the-activity-how-can-i-prevent-this", "title": "My chronometer stops when i change the activity. How can i prevent this?", "body": "<p>I have one activity and three fragments. In fragment(1), i have a chronometer that works perfectly. Firstly, i click chronometer start button. When chronometer shows 00:10, i open fragment(2). Then i return after 6 seconds, chronometer shows 00:00. I want it to show 00:16 and keep working while i changing  fragments.</p>\n\n<p>Fragment (1) xml.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:orientation=\"vertical\"\n&gt;\n\n&lt;Chronometer\n    android:id=\"@+id/chronometer\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentTop=\"true\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_marginTop=\"25dp\"\n    android:textSize=\"70dp\"\n    android:textColor=\"#fff\"\n    /&gt;\n\n&lt;Button\n    android:id=\"@+id/btn_Start\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Start\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_marginTop=\"20dp\"\n    android:layout_below=\"@+id/chronometer\"\n    android:background=\"@drawable/btn_bg\"\n    android:textColor=\"#fff\"\n    /&gt;\n\n&lt;Button\n    android:id=\"@+id/btn_Pause\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Pause\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_below=\"@+id/btn_Start\"\n    android:background=\"@drawable/btn_bg\"\n    android:layout_marginTop=\"20dp\"\n    android:textColor=\"#fff\"/&gt;\n\n&lt;Button\n    android:id=\"@+id/btn_Reset\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Reset\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_below=\"@+id/btn_Pause\"\n    android:background=\"@drawable/btn_bg\"\n    android:layout_marginTop=\"20dp\"\n    android:textColor=\"#fff\"/&gt;\n\n&lt;Button\n    android:id=\"@+id/btn_Back\"\n    android:layout_width=\"50dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignTop=\"@+id/btn_Reset\"\n    android:layout_alignParentStart=\"true\"\n    android:layout_alignParentLeft=\"true\"\n    android:layout_marginLeft=\"20dp\"\n    android:layout_marginTop=\"0dp\"\n    android:background=\"@drawable/btn_bg_2\"\n    android:drawableRight=\"@drawable/ic_fast_rewind_black_24dp\"\n    android:textColor=\"#fff\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/btn_Forward\"\n    android:layout_width=\"50dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignTop=\"@+id/btn_Reset\"\n    android:layout_alignParentRight=\"true\"\n    android:layout_marginRight=\"30dp\"\n    android:background=\"@drawable/btn_bg_2\"\n    android:drawableLeft=\"@drawable/ic_fast_forward_black_24dp\"\n    android:textColor=\"#fff\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>This is my fragment(1) java code.</p>\n\n<pre><code>public class HomeFragment extends Fragment {\n\n\nprivate Button btn_start;\nprivate Button btn_pause;\nprivate Button btn_reset;\nprivate Button btn_back;\nprivate Button btn_forward;\n\n\n@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable \nViewGroup container, @Nullable Bundle savedInstanceState) {\n    View view= inflater.inflate(R.layout.fragment_home, container, false);\n\n\n\n    chronometer = view.findViewById(R.id.chronometer);\n    chronometer.setFormat(\"%s\");\n\n    btn_forward= view.findViewById(R.id.btn_Forward);\n    btn_back = view.findViewById(R.id.btn_Back);\n    btn_start= view.findViewById(R.id.btn_Start);\n    btn_pause= view.findViewById(R.id.btn_Pause);\n    btn_reset= view.findViewById(R.id.btn_Reset);\n\n    btn_back.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            backChronometer();\n        }\n    });\n\n    btn_forward.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            forwardChronometer();\n        }\n    });\n\n    btn_start.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            startChronometer();\n        }\n    });\n\n    btn_pause.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            pauseChronometer();\n        }\n    });\n\n    btn_reset.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            pauseChronometer();\n            resetChronometer();\n        }\n    });\n\n    return view;\n}\n}\n</code></pre>\n\n<p>This is chronometer java code. (methods)</p>\n\n<pre><code>public class Chronometer {\n\npublic static long pauseOffset;\npublic static boolean running;\n\npublic static void startChronometer (){\n    if(!running){\n        chronometer.setBase(SystemClock.elapsedRealtime() - pauseOffset);\n        chronometer.start();\n        running = true;\n    }\n\n}\npublic static void pauseChronometer (){\n\n    if (running){\n        pauseOffset = SystemClock.elapsedRealtime() - chronometer.getBase();\n        chronometer.stop();\n        running = false;\n    }\n\n}\npublic static void resetChronometer (){\n\n    chronometer.setBase(SystemClock.elapsedRealtime());\n    pauseOffset = 0;\n}\npublic static void forwardChronometer (){\n    if (running) {\n        chronometer.setBase(chronometer.getBase()-1000);\n    }\n}\npublic static void backChronometer (){\n    if (running) {\n        chronometer.setBase(chronometer.getBase()+1000);\n    }\n}\n}\n</code></pre>\n\n<p>MainActivity java code.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\npublic static Chronometer chronometer;\npublic static TextView tv_rune;\npublic static SeekBar sb_rune;\npublic static int minrune = 0, maxrune = 35, currentrune;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n\n    BottomNavigationView bottomNav = findViewById(R.id.bottom_navigation);\n    bottomNav.setOnNavigationItemSelectedListener(navListener);\n\n    getSupportFragmentManager().beginTransaction().replace(R.id.main_frame, \nnew HomeFragment()).commit();\n\n}\nprivate BottomNavigationView.OnNavigationItemSelectedListener navListener =\n        new BottomNavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem \nmenuItem) {\n\n                Fragment selectedFragment = null;\n\n                switch (menuItem.getItemId()){\n                    case R.id.navigation_home:\n                        selectedFragment = new HomeFragment();\n                        break;\n\n                    case R.id.navigation_notifications:\n                        selectedFragment = new NotificationsFragment();\n                        break;\n\n                    case R.id.navigation_info:\n                        selectedFragment = new InfoFragment();\n                        break;\n                }\n\n\ngetSupportFragmentManager().beginTransaction().replace(R.id.main_frame,\n                        selectedFragment).commit();\n\n                return true;\n            }\n        };\n\n}\n</code></pre>\n\n<p>Also I want to keep seekbar datas from fragment(2) to use them in fragment (1).\nActually, I wonder how can we keep data protected.</p>\n"}, {"tags": ["java", "arrays"], "comments": [{"owner": {"reputation": 6361, "user_id": 2097529, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/QnP8n.jpg?s=128&g=1", "display_name": "Kick Buttowski", "link": "https://stackoverflow.com/users/2097529/kick-buttowski"}, "edited": false, "score": 1, "creation_date": 1541624095, "post_id": 53197633, "comment_id": 93283867, "body": "please show some codes and what you have done so far."}, {"owner": {"reputation": 8503, "user_id": 6485651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2tGDI.png?s=128&g=1", "display_name": "Zephyr", "link": "https://stackoverflow.com/users/6485651/zephyr"}, "edited": false, "score": 0, "creation_date": 1541624163, "post_id": 53197633, "comment_id": 93283904, "body": "Are you trying to merge two objects or combine the elements from two different arrays? Not sure what you&#39;re trying to accomplish here."}, {"owner": {"reputation": 3472, "user_id": 1744230, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3bf3a7398f2545d8eeb0b50e2770878b?s=128&d=identicon&r=PG", "display_name": "QBrute", "link": "https://stackoverflow.com/users/1744230/qbrute"}, "edited": false, "score": 0, "creation_date": 1541624188, "post_id": 53197633, "comment_id": 93283917, "body": "It is not clear what you mean by &quot;merge&quot;?"}, {"owner": {"reputation": 2448, "user_id": 6015339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd2e20a818433354017cd7bd6353a5de?s=128&d=identicon&r=PG&f=1", "display_name": "Glains", "link": "https://stackoverflow.com/users/6015339/glains"}, "edited": false, "score": 0, "creation_date": 1541624227, "post_id": 53197633, "comment_id": 93283941, "body": "There is no generic way to merge all type of objects. You have to write that functionality yourself. Keep in mind that for some types (for example Collection#add All) this does already exist."}, {"owner": {"reputation": 378, "user_id": 8980015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b9ba86fe32c5b8a4fecd2389f4e9278?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/8980015/stefan"}, "reply_to_user": {"reputation": 8503, "user_id": 6485651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2tGDI.png?s=128&g=1", "display_name": "Zephyr", "link": "https://stackoverflow.com/users/6485651/zephyr"}, "edited": false, "score": 0, "creation_date": 1541624265, "post_id": 53197633, "comment_id": 93283960, "body": "@Zephyr Get the elements from the new object and add them to the existing one aka the <code>this</code> object."}, {"owner": {"reputation": 8503, "user_id": 6485651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2tGDI.png?s=128&g=1", "display_name": "Zephyr", "link": "https://stackoverflow.com/users/6485651/zephyr"}, "edited": false, "score": 0, "creation_date": 1541624304, "post_id": 53197633, "comment_id": 93283974, "body": "And what have you tried so far? Any code you can show?"}, {"owner": {"reputation": 378, "user_id": 8980015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b9ba86fe32c5b8a4fecd2389f4e9278?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/8980015/stefan"}, "reply_to_user": {"reputation": 8503, "user_id": 6485651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2tGDI.png?s=128&g=1", "display_name": "Zephyr", "link": "https://stackoverflow.com/users/6485651/zephyr"}, "edited": false, "score": 0, "creation_date": 1541624471, "post_id": 53197633, "comment_id": 93284036, "body": "@Zephyr I&#39;m asking because I don&#39;t know where to start i don&#39;t know the logic behind it. I&#39;m not looking for a direct code answer any hint/tip will be appreciated."}, {"owner": {"reputation": 8503, "user_id": 6485651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2tGDI.png?s=128&g=1", "display_name": "Zephyr", "link": "https://stackoverflow.com/users/6485651/zephyr"}, "edited": false, "score": 1, "creation_date": 1541624529, "post_id": 53197633, "comment_id": 93284058, "body": "The problem is, from what you&#39;ve provided, we don&#39;t know what you&#39;re trying to accomplish. Maybe include some of your code and indicate the portion you&#39;re stuck on. What are your input values and what do you expect to get back in return?"}, {"owner": {"reputation": 378, "user_id": 8980015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b9ba86fe32c5b8a4fecd2389f4e9278?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/8980015/stefan"}, "reply_to_user": {"reputation": 8503, "user_id": 6485651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2tGDI.png?s=128&g=1", "display_name": "Zephyr", "link": "https://stackoverflow.com/users/6485651/zephyr"}, "edited": false, "score": 0, "creation_date": 1541624693, "post_id": 53197633, "comment_id": 93284142, "body": "@Zephyr Edited to show my full class. I want to get the <code>this</code> object from this class and add the values of  object <code>ia</code> (as seen on the contact method), returning a new object with the values of <code>this</code> object and the <code>ia</code> object."}], "answers": [{"tags": [], "owner": {"reputation": 4123, "user_id": 7210739, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TqQRB.jpg?s=128&g=1", "display_name": "DontKnowMuchBut Getting Better", "link": "https://stackoverflow.com/users/7210739/dontknowmuchbut-getting-better"}, "is_accepted": true, "score": 1, "last_activity_date": 1541626261, "creation_date": 1541626261, "answer_id": 53198129, "question_id": 53197633, "link": "https://stackoverflow.com/questions/53197633/merging-a-new-object-in-java-with-an-already-existing-one/53198129#53198129", "title": "Merging a new object in java with an already existing one", "body": "<p>In your merge method, you need to create a new <code>int[]</code>, one whose length is the size of the <code>this.a.length</code> + the other object's length, use for loops to place the <code>this.a</code> values into the new array, and then another for-loop to place the merging object's array's values in. Note that you must be careful to use the correct indices for the new array when adding inthe 2nd array -- you must add the first int array's length to the index when referencing the new array item. Then create a new IntegerArray object with this newly created longer array.</p>\n\n<pre><code>public IntegerArray merge(IntegerArray other) {\n    int[] newA = new int[a.length + other.a.length];\n    for (int i = 0; i &lt; a.length; i++) {\n        newA[i] = a[i];\n    }\n    for (int i = 0; i &lt; other.a.length; i++) {\n        // here is where you need to be careful about the index\n        newA[i + a.length] = other.a[i];\n    }\n    return new IntegerArray(newA);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4046, "user_id": 4971422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4abf51a937ddda51cc6813445605c50?s=128&d=identicon&r=PG&f=1", "display_name": "FredK", "link": "https://stackoverflow.com/users/4971422/fredk"}, "is_accepted": false, "score": 1, "last_activity_date": 1541626406, "creation_date": 1541626406, "answer_id": 53198165, "question_id": 53197633, "link": "https://stackoverflow.com/questions/53197633/merging-a-new-object-in-java-with-an-already-existing-one/53198165#53198165", "title": "Merging a new object in java with an already existing one", "body": "<p>In the contact() method, you need to create an array whose length is equal to the sum of the lengths of the this.a and ia, arrays then copy the this.a array into that new array and also copy the contents of ia into it. Then you can create a new IntegerArray passing that new array as the argument to the constructor.</p>\n\n<pre><code>  int temp[] = new int[sum_of_lengths];\n  // copy this.a elements into temp\n  // copy ia elements into temp\n  IntegerArray merged = new IntegerArray(temp);\n</code></pre>\n\n<p>Aah - @DontKnowMuchBut beat me by a few seconds</p>\n"}], "owner": {"reputation": 378, "user_id": 8980015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b9ba86fe32c5b8a4fecd2389f4e9278?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/8980015/stefan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 53198129, "answer_count": 2, "score": -2, "last_activity_date": 1541626406, "creation_date": 1541623940, "last_edit_date": 1541624614, "question_id": 53197633, "link": "https://stackoverflow.com/questions/53197633/merging-a-new-object-in-java-with-an-already-existing-one", "title": "Merging a new object in java with an already existing one", "body": "<p>I want to know how can i merge two objects in java. I've tried creating a 3rd class but to no avail. The first one being the <code>this</code> object and the next one is given through the method.  Something like:</p>\n\n<pre><code>import java.util.Arrays;\n\npublic final class IntegerArray {\n    private int[] a;\n\n    public IntegerArray(int[] a) {\n        this.a = a;\n    }\n\n    public int length() {\n        return a.length;\n    }\n\n    public int getElementAt(int i) {\n        return a[i];\n    }\n\n    public int sum() {\n        int sum = 0;\n        for(int i: a) {\n            sum += i;\n        }\n        return sum;\n    }\n\n    public double average() {\n        int i, sum = 0, armean;\n        for(i = 0; i &lt; a.length; i++) {\n            sum = sum + a[i];\n        }\n        armean = sum / i;\n        return armean;\n    }\n\n    public IntegerArray getSorted() {\n        int[] b = a.clone();\n        Arrays.sort(b);\n        return new IntegerArray(b);\n    }\n\n    public IntegerArray contact(IntegerArray ia) {\n        IntegerArray merged  = new IntegerArray(this.a);\n    }\n\n    @Override\n    public String toString() {\n        return a.toString();\n    }\n\n\n}\n</code></pre>\n"}, {"tags": ["java", "performance", "tomcat", "tomcat9"], "comments": [{"owner": {"reputation": 4505, "user_id": 4417306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc90fc44a31eb2bdc442686e75a1a4dd?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4417306/mark"}, "edited": false, "score": 0, "creation_date": 1541627406, "post_id": 53197601, "comment_id": 93285340, "body": "Don&#39;t know much about tomcat but you appear to confuse <code>non blocking</code> and <code>blocking</code>, blocking means it will process one after another, non blocking means parallel processing is possible."}, {"owner": {"reputation": 55, "user_id": 9593558, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "cool cool", "link": "https://stackoverflow.com/users/9593558/cool-cool"}, "reply_to_user": {"reputation": 4505, "user_id": 4417306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc90fc44a31eb2bdc442686e75a1a4dd?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4417306/mark"}, "edited": false, "score": 0, "creation_date": 1541668190, "post_id": 53197601, "comment_id": 93297093, "body": "blocking mean it will create new thread for each request while for non-blocking it will put all request in queue then a single thread will process one after another."}, {"owner": {"reputation": 4505, "user_id": 4417306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc90fc44a31eb2bdc442686e75a1a4dd?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4417306/mark"}, "edited": false, "score": 0, "creation_date": 1541668752, "post_id": 53197601, "comment_id": 93297405, "body": "I am 99% sure it&#39;s the other way around."}, {"owner": {"reputation": 55, "user_id": 9593558, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "cool cool", "link": "https://stackoverflow.com/users/9593558/cool-cool"}, "reply_to_user": {"reputation": 4505, "user_id": 4417306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc90fc44a31eb2bdc442686e75a1a4dd?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4417306/mark"}, "edited": false, "score": 0, "creation_date": 1541677993, "post_id": 53197601, "comment_id": 93302419, "body": "So, should i worry about performance?"}, {"owner": {"reputation": 390, "user_id": 10099219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d041b76b7944d7d8d14f2692db0a8c69?s=128&d=identicon&r=PG&f=1", "display_name": "PriyankaW", "link": "https://stackoverflow.com/users/10099219/priyankaw"}, "edited": false, "score": 0, "creation_date": 1547729199, "post_id": 53197601, "comment_id": 95297086, "body": "Just for reference <a href=\"http://tutorials.jenkov.com/java-nio/nio-vs-io.html\" rel=\"nofollow noreferrer\">blocking vs non-blocking</a>. And perhaps you are looking for - <a href=\"https://stackoverflow.com/questions/7611152/nio-performance-improvement-compared-to-traditional-io-in-java\">nio-performance-improvement-compared-to-traditional-io-in-ja&zwnj;&#8203;va</a>"}], "owner": {"reputation": 55, "user_id": 9593558, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "cool cool", "link": "https://stackoverflow.com/users/9593558/cool-cool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 340, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541623777, "creation_date": 1541623777, "question_id": 53197601, "link": "https://stackoverflow.com/questions/53197601/should-i-worry-about-my-website-performance-since-tomcat-9-is-not-using-blocking", "title": "Should I worry about my website performance since tomcat 9 is not using blocking io", "body": "<p>I was working on my spring MCV project and using tomcat 9 then i notice something strange.\nmy tomcat log was saying</p>\n\n<pre><code>INFO: Initializing ProtocolHandler [\"http-nio-8080\"]\n</code></pre>\n\n<p>After some searching I found on tomcat official site.</p>\n\n<blockquote>\n  <p>The Java blocking IO implementation (BIO) for both HTTP and AJP has\n  been removed. Users are recommended to switch to the Java non-blocking\n  IO implementation (NIO).</p>\n</blockquote>\n\n<p>It means tomcat no longer using blocking-IO,</p>\n\n<p>Now i am little bit confused and scared about my web application performance.</p>\n\n<p>I am not using any non-blocking code in my web application.\nThe thing i heard non-blocking structure runs on single thread for all request. </p>\n\n<p>Does it means my application will not work properly on multiple request?.</p>\n\n<p>like my all code is blocking when i am writing files, connecting to databases.</p>\n\n<p>so does it mean now my structure is running like node?</p>\n\n<p>should i worry about it?</p>\n\n<p>please help.</p>\n"}, {"tags": ["java", "jdbc", "rowset"], "comments": [{"owner": {"reputation": 7720, "user_id": 8921755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dec518adc2024784cc770596a0aa200?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/8921755/ivan"}, "edited": false, "score": 1, "creation_date": 1541624500, "post_id": 53197584, "comment_id": 93284048, "body": "There is <code>FilteredRowSetImpl</code> which extends <code>WebRowSet</code> and has possibility to add predicates for filtering"}, {"owner": {"reputation": 8230, "user_id": 4679320, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/OsEre.jpg?s=128&g=1", "display_name": "prasad_", "link": "https://stackoverflow.com/users/4679320/prasad"}, "edited": false, "score": 1, "creation_date": 1541640919, "post_id": 53197584, "comment_id": 93289281, "body": "These are code samples of using <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/filteredrowset.html\" rel=\"nofollow noreferrer\">Filtered rowsets</a> -and- <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/webrowset.html\" rel=\"nofollow noreferrer\">Web rowsets</a>. Both the row sets are sub-interfaces of <code>CachedRowSet</code>; and <code>FilteredRowSet</code> extends <code>WebRowSet</code> interface."}], "owner": {"reputation": 8541, "user_id": 228600, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/feb498559e743f2328e030ab29b8dc25?s=128&d=identicon&r=PG", "display_name": "marcprux", "link": "https://stackoverflow.com/users/228600/marcprux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541754557, "creation_date": 1541623733, "last_edit_date": 1541754557, "question_id": 53197584, "link": "https://stackoverflow.com/questions/53197584/populate-a-rowset-with-a-sub-set-of-a-resultset", "title": "Populate a RowSet with a sub-set of a ResultSet", "body": "<p>I have an application with works with a <code>java.sql.ResultSet</code>, and it needs to be able to export a user-specified subset of the <code>ResultSet</code> to XML. I'd like to use <code>javax.sql.rowset.WebRowSet</code> for this, like:</p>\n\n<pre><code>var resultset = connection.createStatement().executeQuery(\"SELECT \u2026\");\nvar rowset = javax.sql.rowset.RowSetProvider.newFactory().createWebRowSet();\nrowset.populate(resultset);\nvar writer = new StringWriter();\nrowset.writeXml(writer);\nreturn writer.toString();\n</code></pre>\n\n<p>However, this always serializes the entire <code>ResultSet</code> (which sometimes contains millions of rows). How can I serialize just a few rows of an open <code>ResultSet</code> to XML without re-executing the query?</p>\n"}, {"tags": ["java", "excel", "apache"], "comments": [{"owner": {"reputation": 444, "user_id": 4682816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A5AbC.gif?s=128&g=1", "display_name": "scigs", "link": "https://stackoverflow.com/users/4682816/scigs"}, "edited": false, "score": 0, "creation_date": 1541623814, "post_id": 53197569, "comment_id": 93283726, "body": "&quot;but I had error on&quot; what error? compiler error? runtime error? what is the error/what is it supposed to be doing that its not?"}, {"owner": {"reputation": 153, "user_id": 9930221, "user_type": "registered", "profile_image": "https://graph.facebook.com/125726854984328/picture?type=large", "display_name": "Ezz Eddin Othman", "link": "https://stackoverflow.com/users/9930221/ezz-eddin-othman"}, "reply_to_user": {"reputation": 444, "user_id": 4682816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A5AbC.gif?s=128&g=1", "display_name": "scigs", "link": "https://stackoverflow.com/users/4682816/scigs"}, "edited": false, "score": 0, "creation_date": 1541871893, "post_id": 53197569, "comment_id": 93368978, "body": "@scigs can you please see the question after editing."}], "answers": [{"tags": [], "owner": {"reputation": 218, "user_id": 10544615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58H8r.jpg?s=128&g=1", "display_name": "Centos", "link": "https://stackoverflow.com/users/10544615/centos"}, "is_accepted": false, "score": 0, "last_activity_date": 1541624441, "creation_date": 1541624441, "answer_id": 53197737, "question_id": 53197569, "link": "https://stackoverflow.com/questions/53197569/setting-background-custom-color-xssfworkbook/53197737#53197737", "title": "Setting background custom color, XSSFWorkbook", "body": "<p>Create cell style object:</p>\n\n<pre><code>CellStyle backgroundStyle = workbook.createCellStyle(); \n</code></pre>\n\n<p>Set custom color:</p>\n\n<pre><code>backgroundStyle.setFillForegroundColor(IndexedColors.YELLOW.getIndex());\n</code></pre>\n\n<p>Add style to the cell:</p>\n\n<pre><code>cell.setCellStyle(backgroundStyle);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1412, "user_id": 8534088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CrzSh.png?s=128&g=1", "display_name": "Dmitriy Popov", "link": "https://stackoverflow.com/users/8534088/dmitriy-popov"}, "edited": false, "score": 0, "creation_date": 1608761237, "post_id": 53241992, "comment_id": 115680233, "body": "Does not work in modern POI 4.1.2, unfortunately. We can&#39;t set <code>XSSFColor</code> to <code>setFillForegroundColor</code> anymore :("}], "tags": [], "owner": {"reputation": 153, "user_id": 9930221, "user_type": "registered", "profile_image": "https://graph.facebook.com/125726854984328/picture?type=large", "display_name": "Ezz Eddin Othman", "link": "https://stackoverflow.com/users/9930221/ezz-eddin-othman"}, "is_accepted": true, "score": 3, "last_activity_date": 1541873708, "creation_date": 1541873708, "answer_id": 53241992, "question_id": 53197569, "link": "https://stackoverflow.com/questions/53197569/setting-background-custom-color-xssfworkbook/53241992#53241992", "title": "Setting background custom color, XSSFWorkbook", "body": "<p>Thanks all\nI found solution now</p>\n\n<pre><code>        XSSFCellStyle cellStyle = wb.createCellStyle();\n\n        XSSFColor color = new XSSFColor(new java.awt.Color(value, 0, 0));\n\n        ((XSSFCellStyle)cellStyle).setFillBackgroundColor(color);\n        cellStyle.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n        cellStyle.setFillForegroundColor(color); \n        cell.setCellStyle(cellStyle);\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 9930221, "user_type": "registered", "profile_image": "https://graph.facebook.com/125726854984328/picture?type=large", "display_name": "Ezz Eddin Othman", "link": "https://stackoverflow.com/users/9930221/ezz-eddin-othman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 912, "favorite_count": 0, "accepted_answer_id": 53241992, "answer_count": 2, "score": 0, "last_activity_date": 1541873708, "creation_date": 1541623669, "last_edit_date": 1541871822, "question_id": 53197569, "link": "https://stackoverflow.com/questions/53197569/setting-background-custom-color-xssfworkbook", "title": "Setting background custom color, XSSFWorkbook", "body": "<p>I use this code to change the font in excel to color, which I define</p>\n\n<pre><code>        Color sColor = new Color (value,0,0);\n        XSSFColor userColor = new XSSFColor(sColor);\n\n        CellStyle style = wb.createCellStyle();\n        XSSFFont font = wb.createFont();\n\n        font.setColor(userColor);\n        style.setFont(font);\n        cell.setCellStyle(style);\n</code></pre>\n\n<p>Can I change the cell's Background same way.</p>\n\n<p>I saw the question here\n <a href=\"https://stackoverflow.com/questions/34861987/setting-background-custom-color-not-working-for-xssf-in-apache-poi\">Setting background custom color not working for XSSF in Apache POI</a>\nAnd I used the code: </p>\n\n<pre><code>        XSSFCellStyle cellStyle = wb.createCellStyle();\n        XSSFColor color = new XSSFColor(new java.awt.Color(value, 0, 0));\n        ((XSSFCellStyle)cellStyle).setFillBackgroundColor(color);\n\n        cell.setCellStyle(cellStyle);\n</code></pre>\n\n<p>The background still always white.</p>\n\n<p>Am sure that all other parts of the code written properly, because it works when I changed the font.</p>\n\n<p>I have office 2010 on my computer </p>\n"}, {"tags": ["java", "arrays", "chess"], "comments": [{"owner": {"reputation": 444, "user_id": 4682816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A5AbC.gif?s=128&g=1", "display_name": "scigs", "link": "https://stackoverflow.com/users/4682816/scigs"}, "edited": false, "score": 1, "creation_date": 1541623905, "post_id": 53197568, "comment_id": 93283772, "body": "what have you tried so far?"}, {"owner": {"reputation": 21, "user_id": 10500251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b186abcf4c87aef19b965214de1cc96?s=128&d=identicon&r=PG&f=1", "display_name": "sheenareid", "link": "https://stackoverflow.com/users/10500251/sheenareid"}, "reply_to_user": {"reputation": 444, "user_id": 4682816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A5AbC.gif?s=128&g=1", "display_name": "scigs", "link": "https://stackoverflow.com/users/4682816/scigs"}, "edited": false, "score": 0, "creation_date": 1541624039, "post_id": 53197568, "comment_id": 93283837, "body": "for the rook,   if(Math.abs(xTo-xFrom)&gt;1  &amp;&amp;. Math.abs(yTo-yFrom)==0){ }"}, {"owner": {"reputation": 444, "user_id": 4682816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A5AbC.gif?s=128&g=1", "display_name": "scigs", "link": "https://stackoverflow.com/users/4682816/scigs"}, "edited": false, "score": 0, "creation_date": 1541624260, "post_id": 53197568, "comment_id": 93283958, "body": "OK, that is a logical statement and it looks like your on the right path in terms of logic. but that statement is not alone is a program. do you have a main class? how are you running it? What is the error you are seeing? what is it doing that its not supposed to do? please update the question with these details -- these details are crucial to get a good SO reply"}, {"owner": {"reputation": 5203, "user_id": 3995261, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/54754c59e35649b7d22d70b72ce2989a?s=128&d=identicon&r=PG&f=1", "display_name": "YakovL", "link": "https://stackoverflow.com/users/3995261/yakovl"}, "edited": false, "score": 0, "creation_date": 1541673094, "post_id": 53197568, "comment_id": 93299855, "body": "Yes, please show the code you have tried in your post itself (use the &quot;edit&quot; button) and explain how it fails so that we can help you with a specific issue. Currently, there&#39;s no question in your.. question"}, {"owner": {"reputation": 5203, "user_id": 3995261, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/54754c59e35649b7d22d70b72ce2989a?s=128&d=identicon&r=PG&f=1", "display_name": "YakovL", "link": "https://stackoverflow.com/users/3995261/yakovl"}, "edited": false, "score": 0, "creation_date": 1541673216, "post_id": 53197568, "comment_id": 93299941, "body": "looks like you have an unnecessary <code>.</code> after <code>&amp;&amp;</code>; does your expression have any problems aside that?"}], "answers": [{"comments": [{"owner": {"reputation": 2327, "user_id": 4742570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0017a2bafead37c0b8dab5d6df77138c?s=128&d=identicon&r=PG&f=1", "display_name": "jsheeran", "link": "https://stackoverflow.com/users/4742570/jsheeran"}, "edited": false, "score": 0, "creation_date": 1541677799, "post_id": 53206180, "comment_id": 93302318, "body": "Castling is a king move, not a rook move, so it would most likely be handled separately from the logic of a rook move."}, {"owner": {"reputation": 18690, "user_id": 340088, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e01618347bd158e35c34cce5bc006a92?s=128&d=identicon&r=PG", "display_name": "jbx", "link": "https://stackoverflow.com/users/340088/jbx"}, "reply_to_user": {"reputation": 2327, "user_id": 4742570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0017a2bafead37c0b8dab5d6df77138c?s=128&d=identicon&r=PG&f=1", "display_name": "jsheeran", "link": "https://stackoverflow.com/users/4742570/jsheeran"}, "edited": false, "score": 0, "creation_date": 1541684113, "post_id": 53206180, "comment_id": 93305543, "body": "@jsheeran Well implement it as you wish I guess. Just keep it in mind as another possibility."}, {"owner": {"reputation": 18690, "user_id": 340088, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e01618347bd158e35c34cce5bc006a92?s=128&d=identicon&r=PG", "display_name": "jbx", "link": "https://stackoverflow.com/users/340088/jbx"}, "reply_to_user": {"reputation": 21, "user_id": 10500251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b186abcf4c87aef19b965214de1cc96?s=128&d=identicon&r=PG&f=1", "display_name": "sheenareid", "link": "https://stackoverflow.com/users/10500251/sheenareid"}, "edited": false, "score": 0, "creation_date": 1541715909, "post_id": 53206180, "comment_id": 93321814, "body": "@sheenareid please accept the answer if it is correct"}], "tags": [], "owner": {"reputation": 18690, "user_id": 340088, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e01618347bd158e35c34cce5bc006a92?s=128&d=identicon&r=PG", "display_name": "jbx", "link": "https://stackoverflow.com/users/340088/jbx"}, "is_accepted": true, "score": 1, "last_activity_date": 1541674718, "last_edit_date": 1541674718, "creation_date": 1541674198, "answer_id": 53206180, "question_id": 53197568, "link": "https://stackoverflow.com/questions/53197568/how-to-convert-array-indices-into-possible-moves-for-a-rook-and-bishop-chess-pie/53206180#53206180", "title": "How to convert array indices into possible moves for a rook and bishop chess piece", "body": "<p>The rook moves horizontally and vertically. So either the <code>x</code> coordinate changes with the <code>y</code> remaining unchanged, or the <code>y</code> coordinate changes with the <code>x</code> coordinate remaining unchanged.</p>\n\n<p><code>if ((xFrom != xTo) &amp;&amp; (yFrom == yTo) || (xFrom == xTo) &amp;&amp; (yFrom != yTo))</code></p>\n\n<p>Alternatively, you can use an exclusive OR (XOR), which is essentially the same thing as above just more concise.</p>\n\n<p><code>if ((xFrom != xTo) ^ (yFrom != yTo))</code></p>\n\n<p>An XOR returns true if one of them is true, but not both. </p>\n\n<p>Remember that the Rook also has a special Castling move with the King, which you will need to cater for depending on the state of the game (both the rook and king haven't moved, the king is not in check, etc.)</p>\n\n<p>The bishop moves diagonally, so the difference between xFrom and xTo must be the same as the difference between yFrom and yTo, in both directions.  </p>\n\n<p>So this should do the trick for the bishop:</p>\n\n<p><code>if (Math.abs(xTo - xFrom) == Math.abs(yTo - yFrom))</code></p>\n\n<p>Of course there is much more to both the Rook and Bishop. You have to make sure that the path is clear up till the destination coordinate, you have to make sure that the destination coordinate is not occupied by a piece of the same player, and you have to check that the move does not put the king of the same player in check (which you have to do anyway for any piece move). </p>\n"}], "owner": {"reputation": 21, "user_id": 10500251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b186abcf4c87aef19b965214de1cc96?s=128&d=identicon&r=PG&f=1", "display_name": "sheenareid", "link": "https://stackoverflow.com/users/10500251/sheenareid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 53206180, "answer_count": 1, "score": 0, "last_activity_date": 1541674718, "creation_date": 1541623663, "last_edit_date": 1541673216, "question_id": 53197568, "link": "https://stackoverflow.com/questions/53197568/how-to-convert-array-indices-into-possible-moves-for-a-rook-and-bishop-chess-pie", "title": "How to convert array indices into possible moves for a rook and bishop chess piece", "body": "<p>I'm struggling to work out how to convert index numbers in a 2D array into possible moves for a rook and bishop to move. I want to get a boolean expression to see if a move is legal. Sorry, I'm new to programming, I'd really appreciate some help</p>\n\n<p>for the rook, I have</p>\n\n<pre><code>if(Math.abs(xTo-xFrom)&gt;1 &amp;&amp;. Math.abs(yTo-yFrom)==0){ }\n</code></pre>\n"}, {"tags": ["java", "spring", "hibernate", "jpa", "spring-data"], "comments": [{"owner": {"reputation": 20801, "user_id": 1356423, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/NOnT0.jpg?s=128&g=1", "display_name": "Alan Hay", "link": "https://stackoverflow.com/users/1356423/alan-hay"}, "edited": false, "score": 0, "creation_date": 1541629646, "post_id": 53197534, "comment_id": 93286216, "body": "<a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-data/spring-el-generic-repository.html\" rel=\"nofollow noreferrer\">logicbig.com/tutorials/spring-framework/spring-data/&hellip;</a>"}, {"owner": {"reputation": 20801, "user_id": 1356423, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/NOnT0.jpg?s=128&g=1", "display_name": "Alan Hay", "link": "https://stackoverflow.com/users/1356423/alan-hay"}, "edited": false, "score": 0, "creation_date": 1541629866, "post_id": 53197534, "comment_id": 93286295, "body": "Also as covered in the official docs <a href=\"https://docs.spring.io/spring-data/data-jpa/docs/1.7.x/reference/html/#jpa.query.spel-expressions\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/data-jpa/docs/1.7.x/reference/htm&zwnj;&#8203;l/&hellip;</a>"}, {"owner": {"reputation": 9673, "user_id": 2044302, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JDKSu.jpg?s=128&g=1", "display_name": "Alexander Petrov", "link": "https://stackoverflow.com/users/2044302/alexander-petrov"}, "reply_to_user": {"reputation": 20801, "user_id": 1356423, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/NOnT0.jpg?s=128&g=1", "display_name": "Alan Hay", "link": "https://stackoverflow.com/users/1356423/alan-hay"}, "edited": false, "score": 0, "creation_date": 1541663551, "post_id": 53197534, "comment_id": 93295015, "body": "There they use concrete implementation of repository for each subclass. Exactly the oppsite of What i want."}, {"owner": {"reputation": 20801, "user_id": 1356423, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/NOnT0.jpg?s=128&g=1", "display_name": "Alan Hay", "link": "https://stackoverflow.com/users/1356423/alan-hay"}, "edited": false, "score": 0, "creation_date": 1541665278, "post_id": 53197534, "comment_id": 93295716, "body": "If it could done more easily then I guess they would have documented that.Creating an empty interface for each class is hardly a great hardship given the  functionality you get for free."}, {"owner": {"reputation": 9673, "user_id": 2044302, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JDKSu.jpg?s=128&g=1", "display_name": "Alexander Petrov", "link": "https://stackoverflow.com/users/2044302/alexander-petrov"}, "reply_to_user": {"reputation": 20801, "user_id": 1356423, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/NOnT0.jpg?s=128&g=1", "display_name": "Alan Hay", "link": "https://stackoverflow.com/users/1356423/alan-hay"}, "edited": false, "score": 0, "creation_date": 1541677768, "post_id": 53197534, "comment_id": 93302300, "body": "But if i have 8 subclases i need to inject 8 different repositories. Of course i dont need all of them at once, but What if i want to work wit 3-4 different states? Cancel, reject, create ,confirm?? I need to inject 4 different repos ? Realy ?"}, {"owner": {"reputation": 9673, "user_id": 2044302, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JDKSu.jpg?s=128&g=1", "display_name": "Alexander Petrov", "link": "https://stackoverflow.com/users/2044302/alexander-petrov"}, "reply_to_user": {"reputation": 20801, "user_id": 1356423, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/NOnT0.jpg?s=128&g=1", "display_name": "Alan Hay", "link": "https://stackoverflow.com/users/1356423/alan-hay"}, "edited": false, "score": 0, "creation_date": 1541677904, "post_id": 53197534, "comment_id": 93302373, "body": "I find it much more convinient to use one repository with 8 Finder methods then polymorhism here."}, {"owner": {"reputation": 8756, "user_id": 3795036, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c01d5584e40e3d19507e9a5eaf0bae15?s=128&d=identicon&r=PG", "display_name": "K.Nicholas", "link": "https://stackoverflow.com/users/3795036/k-nicholas"}, "edited": false, "score": 0, "creation_date": 1541728409, "post_id": 53197534, "comment_id": 93324932, "body": "If you have an inheritance hierarchy that&#39;s likely to change along with the problem domain requirements then you probably have a poor design and are using inheritance improperly. You should look at different design options, for example the decorator pattern can be used to address issues like this."}, {"owner": {"reputation": 9673, "user_id": 2044302, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JDKSu.jpg?s=128&g=1", "display_name": "Alexander Petrov", "link": "https://stackoverflow.com/users/2044302/alexander-petrov"}, "edited": false, "score": 0, "creation_date": 1541753459, "post_id": 53197534, "comment_id": 93331766, "body": "I dissagree, Events are very good example on something that can be extended in trghe future. You can start with one set of events at one point new feature request comes suddenly you have a new event."}], "owner": {"reputation": 9673, "user_id": 2044302, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JDKSu.jpg?s=128&g=1", "display_name": "Alexander Petrov", "link": "https://stackoverflow.com/users/2044302/alexander-petrov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 919, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541624295, "creation_date": 1541623473, "last_edit_date": 1541624295, "question_id": 53197534, "link": "https://stackoverflow.com/questions/53197534/writing-spring-data-repository-for-polymorphic-entity-inheritancetype-single-t", "title": "Writing spring data repository for polymorphic entity - InheritanceType.SINGLE_TABLE", "body": "<p>Hello I have the following example:</p>\n\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = \"EVENT_TYPE\")\nabstract class BaseEvent {\n}\n@Entity\n@DiscriminatorValue(\"ACCEPT_EVENT\")\nclass AcceptEvent {\n\n}\n\n@Entity\n@DiscriminatorValue(\"CANCEL_EVENT\")\nclass CancelEvent {\n\n}\n</code></pre>\n\n<p>I would like to write a repository for this Polymorphic entity. The thing is that I may have many EventTypes so I would prefer If I don't have to write One Repository class per Event Type. I was hoping that #{#entityName} can be applied in a generic repository like this:</p>\n\n<pre><code>interface EventRepositort&lt;T&gt; extends CRUDRepository&lt;T&gt; {\n\n   @Query(select e from #{#entityName} e where e.completionDate is null)\n   public T findIncompleteEvents();\n}\n</code></pre>\n\n<p>I was hoping that if I have a service and I inject the repository with specific generic type it will figure out what the #{#entityName} so I did the following:</p>\n\n<pre><code>@Service\nclass EventService {\n  @Autowire\n  private EventRepository&lt;AcceptEvent&gt; acceptEventRepo;\n\n  public runUnfinishedEvents() {\n      List&lt;AcceptEvent&gt; unfinishedEvents = acceptEventRepo.findIncompleteEvents();\n  }\n}\n</code></pre>\n\n<p>It apears though that even though I have defined what the generic type is on the event repository the method findIncompleteEvents is not able to resolve the generic declaration with #{#entityName} basicly it returns both the CancelEvent and the AcceptEvent</p>\n\n<p>Now my question:</p>\n\n<p>Is there a way to express what I want without writing 10 different reposities for each subclass of the BaseEvent ?</p>\n"}, {"tags": ["java", "binding", "javafx-8"], "comments": [{"owner": {"reputation": 2710, "user_id": 7825294, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7dc1eea5eda0b5e32893eceb46e07e56?s=128&d=identicon&r=PG&f=1", "display_name": "Sunflame", "link": "https://stackoverflow.com/users/7825294/sunflame"}, "edited": false, "score": 0, "creation_date": 1541675977, "post_id": 53197469, "comment_id": 93301269, "body": "Binding you can do between Properties, since <code>Hashtable</code> isn&#39;t a <code>javafx.beans.property.Property</code> how would you like to achieve that?"}], "answers": [{"tags": [], "owner": {"reputation": 1868, "user_id": 6594646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac2c94510c243614d5cf2bfdb9b868c4?s=128&d=identicon&r=PG&f=1", "display_name": "MalloyDelacroix", "link": "https://stackoverflow.com/users/6594646/malloydelacroix"}, "is_accepted": true, "score": 1, "last_activity_date": 1541794200, "creation_date": 1541794200, "answer_id": 53232669, "question_id": 53197469, "link": "https://stackoverflow.com/questions/53197469/complex-binding-situation/53232669#53232669", "title": "Complex binding situation", "body": "<p>By using a <code>String</code> object in your <code>Hashtable</code> you cannot use any <code>Property</code>'s binding method to interact with it, but you should still be able to accomplish your goal by using listeners on these properties.  Here is a rough example:</p>\n\n<pre><code>public class Controller {\n\n    private VBox base = new VBox();\n    private ComboBox&lt;Locale&gt; comboBox = new ComboBox&lt;&gt;();\n    private TextField textField = new TextField();\n    private Button button = new Button(\"Print\");\n\n    private Hashtable&lt;Locale, String&gt; map = new Hashtable&lt;&gt;();\n\n    public VBox getBase() {\n        return base;\n    }\n\n    public Controller() {\n        setupUi();\n\n        addItem(\"Chinese\");\n        addItem(\"French\");\n        addItem(\"English\");\n        comboBox.getItems().add(new Locale(\"Russia\", \"Some Russian Text\"));\n\n        comboBox.getSelectionModel().selectedItemProperty()\n                .addListener((obs, oldVal, newVal) -&gt; textField.setText(map.get(newVal)));\n\n        textField.textProperty().addListener((obs, oldVal, newVal) -&gt; {\n            if (newVal == null || newVal.equals(\"\")) {\n                map.remove(comboBox.getValue());\n            } else {\n                map.put(comboBox.getValue(), newVal);\n            }\n        });\n\n        comboBox.getSelectionModel().selectFirst();\n    }\n\n    private void setupUi() {\n        base.getChildren().addAll(comboBox, textField, button);\n        button.setOnAction(event -&gt; System.out.println(map));\n    }\n\n    private void addItem(String name) {\n        Locale locale = new Locale(name, String.format(\"Some %s text\", name));\n        map.put(locale, locale.text);\n        comboBox.getItems().add(locale);\n    }\n\n}\n\n\nclass Locale {\n\n    String name;\n    String text;\n\n    Locale(String name, String text) {\n        this.name = name;\n        this.text = text;\n    }\n\n    @Override\n    public String toString() {\n        return name;\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 1151816, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/69eb6b1e76cc6d19396ac473e0c004e6?s=128&d=identicon&r=PG", "display_name": "user1151816", "link": "https://stackoverflow.com/users/1151816/user1151816"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 53232669, "answer_count": 1, "score": 0, "last_activity_date": 1541794200, "creation_date": 1541623155, "question_id": 53197469, "link": "https://stackoverflow.com/questions/53197469/complex-binding-situation", "title": "Complex binding situation", "body": "<p>In a javafx scene I have:</p>\n\n<ul>\n<li><p>A combobox with some locales as items</p></li>\n<li><p>A hashtable with entries (Locale, String)</p></li>\n<li><p>A textfield to show and edit text</p></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/z4fvt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z4fvt.png\" alt=\"enter image description here\"></a></p>\n\n<p>What I want to do is:</p>\n\n<ul>\n<li><p>When locale combobox change, textield show the text stored in the hashtable according to locate selected. Example 1: if frech is selected, textfield shows 'french text'. Example 2: if chinese is selected, textfield doesn't show anything (hashtable doesn't contains zh key).</p></li>\n<li><p>As some text is being typed in textfield, hashtable execute a put with the locale selected in combobox. Example 1: if 'aaa' is typed and french is selected, hashtable modify the entry fr with the text 'aaa'. Example 2: if 'bbb' is typed and chinese is selected, hastable add the entry (zh,'bbb'). Example 3: if textfiled has no text and english is selected, hashtable removes en entry.</p></li>\n</ul>\n\n<p>Initially hashtable haven't empty strings and combobox always have a locate selected. Is it possible to achieve this?</p>\n"}, {"tags": ["java", "optional"], "comments": [{"owner": {"reputation": 218, "user_id": 10544615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58H8r.jpg?s=128&g=1", "display_name": "Centos", "link": "https://stackoverflow.com/users/10544615/centos"}, "edited": false, "score": 0, "creation_date": 1541623073, "post_id": 53197393, "comment_id": 93283362, "body": "Take a look at this answer: <a href=\"https://stackoverflow.com/questions/24228279/proper-usage-of-optional-ifpresent\" title=\"proper usage of optional ifpresent\">stackoverflow.com/questions/24228279/&hellip;</a>"}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 2, "creation_date": 1541623261, "post_id": 53197393, "comment_id": 93283449, "body": "It might be more reasonable if the value was already an optional, instead of a nullable value."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 3, "creation_date": 1541623705, "post_id": 53197393, "comment_id": 93283658, "body": "I think Optional is intended to be used as return value from functions. The general guidance is to use it at the point of an public interface (so for example <code>getIdentifiantAAA</code> might return an Optional) and not absolutely everywhere. You probably wouldn&#39;t use it in the example you show, where it adds unnecessary overhead for little benefit."}, {"owner": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "edited": false, "score": 1, "creation_date": 1541629397, "post_id": 53197393, "comment_id": 93286120, "body": "Your opinion is correct.  That first example is highly inappropriate.  Optional is not supposed to be a fancy replacement for <code>if</code> statements.  Authoritative description of the purpose of Optional: <a href=\"https://stackoverflow.com/a/23464794/1831987\">stackoverflow.com/a/23464794/1831987</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5538, "user_id": 812787, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9bfd1118658eeaac257e60eb9f0cb5de?s=128&d=identicon&r=PG", "display_name": "tsolakp", "link": "https://stackoverflow.com/users/812787/tsolakp"}, "is_accepted": false, "score": -1, "last_activity_date": 1541622946, "creation_date": 1541622946, "answer_id": 53197417, "question_id": 53197393, "link": "https://stackoverflow.com/questions/53197393/wrap-object-in-optional-to-use-ifpresent-method/53197417#53197417", "title": "Wrap object in Optional to use ifPresent method?", "body": "<p>It really depends on preference. The whole point of <code>Optional</code> is to void dealing with <code>null</code> like you have in <code>if (user.getIdentifiantAAA() != null)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 3809, "user_id": 657224, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/2a159be2028abb3480e907bbc6e07390?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/657224/mike"}, "is_accepted": false, "score": 0, "last_activity_date": 1541623395, "creation_date": 1541623395, "answer_id": 53197517, "question_id": 53197393, "link": "https://stackoverflow.com/questions/53197393/wrap-object-in-optional-to-use-ifpresent-method/53197517#53197517", "title": "Wrap object in Optional to use ifPresent method?", "body": "<p>Not sure there's a <em>wrong</em> way to use it, but one way I use it a lot is with Functional Interfaces.</p>\n\n<p>Consider this code:</p>\n\n<pre><code>Lock lock;\n\ntry {\n   lock = acquireLock();\n   // do some work\n}\nfinally {\n    if(lock != null) {\n        releaseLock(lock);\n    }\n}\n</code></pre>\n\n<p>Using Optional I can make this a little cleaner:</p>\n\n<pre><code>Optional&lt;Lock&gt; lock;\n\ntry {\n   lock = acquireLock();\n   // do some work\n}\nfinally {\n    lock.ifPresent(this::releaseLock);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43882, "user_id": 4922375, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2f70cb2cc341b8ceda0e1f801316d85f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Tobilko", "link": "https://stackoverflow.com/users/4922375/andrew-tobilko"}, "edited": false, "score": 1, "creation_date": 1541624861, "post_id": 53197555, "comment_id": 93284228, "body": "I disagree with the &quot;extended logic&quot; part. Even if it looks so convenient, there is no reason to wrap everything up into <code>Optional</code>"}, {"owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "reply_to_user": {"reputation": 43882, "user_id": 4922375, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2f70cb2cc341b8ceda0e1f801316d85f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Tobilko", "link": "https://stackoverflow.com/users/4922375/andrew-tobilko"}, "edited": false, "score": 0, "creation_date": 1541625944, "post_id": 53197555, "comment_id": 93284722, "body": "@AndrewTobilko sure, thing. I am not saying one &quot;needs to&quot; wrap it in an optional but as mentioned &quot;it would make sense&quot; had there been extended logic."}], "tags": [], "owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "is_accepted": false, "score": 3, "last_activity_date": 1541623592, "creation_date": 1541623592, "answer_id": 53197555, "question_id": 53197393, "link": "https://stackoverflow.com/questions/53197393/wrap-object-in-optional-to-use-ifpresent-method/53197555#53197555", "title": "Wrap object in Optional to use ifPresent method?", "body": "<p><code>Optional&lt;T&gt;</code> is not meant as a replacement for simple <code>if</code> checks, the first example is definitely <em>not</em> the reason why <code>Optional&lt;T&gt;</code> was created. </p>\n\n<p>it would only make sense to use <code>ifPresent</code> if you're performing some extended logic as such of:</p>\n\n<pre><code>Optional.ofNullable(user.getIdentifiantAAA())\n        .map(...)\n        .ifPresent(...);\n</code></pre>\n\n<p>or if the value you're operating on is already an <code>Optional&lt;T&gt;</code>, maybe an <code>Optional&lt;T&gt;</code> returned from a method call or some computation.</p>\n"}, {"tags": [], "owner": {"reputation": 43882, "user_id": 4922375, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2f70cb2cc341b8ceda0e1f801316d85f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Tobilko", "link": "https://stackoverflow.com/users/4922375/andrew-tobilko"}, "is_accepted": false, "score": 1, "last_activity_date": 1541623786, "creation_date": 1541623786, "answer_id": 53197604, "question_id": 53197393, "link": "https://stackoverflow.com/questions/53197393/wrap-object-in-optional-to-use-ifpresent-method/53197604#53197604", "title": "Wrap object in Optional to use ifPresent method?", "body": "<p>I dare say that there are no requirements for a <code>Consumer</code> that the method <code>ifPresent</code> takes. Personally, I see nothing wrong with the line:</p>\n\n<pre><code>.ifPresent(id -&gt; identifiants.add(new Identifiant(id, IdentifiantType.AAA));\n</code></pre>\n\n<p>The problem here is that you wrapped <code>user.getIdentifiantAAA()</code> in <code>Optional</code> just to use its methods, which is a bad practice and pertains to <a href=\"https://stackoverflow.com/questions/23454952/uses-for-optional\">this thread</a>.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10386912"}, "is_accepted": false, "score": 2, "last_activity_date": 1541630869, "last_edit_date": 1541630869, "creation_date": 1541624864, "answer_id": 53197832, "question_id": 53197393, "link": "https://stackoverflow.com/questions/53197393/wrap-object-in-optional-to-use-ifpresent-method/53197832#53197832", "title": "Wrap object in Optional to use ifPresent method?", "body": "<p>In <a href=\"https://www.voxxed.com/2015/02/defence-java-8s-optional-use/\" rel=\"nofollow noreferrer\">Optional the mother of all bike sheds</a> talk @Devoxx US, Stuart Marks from Oracle details how are optional useful (and some more aspects about optional)</p>\n\n<p>The main use case where are useful is for returns, as @Paul Rooney mentioned too</p>\n"}], "owner": {"reputation": 1517, "user_id": 5134102, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/xJNR5.jpg?s=128&g=1", "display_name": "Jesus Zavarce", "link": "https://stackoverflow.com/users/5134102/jesus-zavarce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2116, "favorite_count": 0, "closed_date": 1541901189, "answer_count": 5, "score": 3, "last_activity_date": 1541630869, "creation_date": 1541622839, "last_edit_date": 1541628232, "question_id": 53197393, "link": "https://stackoverflow.com/questions/53197393/wrap-object-in-optional-to-use-ifpresent-method", "closed_reason": "Opinion-based", "title": "Wrap object in Optional to use ifPresent method?", "body": "<p>I'm learning about Optional class. I'm just a bit confused about the correct use of the method <code>Optional.ifPresent(Consumer&lt;? super T&gt; consumer)</code> .</p>\n\n<p>I see this example on one project:</p>\n\n<pre><code>Optional.ofNullable(user.getIdentifiantAAA())\n.ifPresent(id -&gt; identifiants.add(new Identifiant(id, IdentifiantType.AAA));\n</code></pre>\n\n<p>IMHO, this is less readable than:</p>\n\n<pre><code>if (user.getIdentifiantAAA() != null) {\n   identifiants.add(user.getIdentifiantAAA());\n}\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\">The class Optional is:</a></p>\n\n<blockquote>\n  <p>A container object which may or may not contain a non-null value. If a\n  value is present, isPresent() will return true and get() will return\n  the value.</p>\n</blockquote>\n\n<p>I feel that the use of Optional.ifPresent of the example breaks the principal propose of this class. An instance of Optional is created only to use the isPresent method, is it really necessary for this case? </p>\n\n<p>So, my question is:  should be wrap objects in Optional to ckeck non null and execute code with the method  <code>Optional.ifPresent(Consumer&lt;? super T&gt; consumer)</code>?</p>\n"}, {"tags": ["java", "permissions", "location", "processing", "android-gps"], "comments": [{"owner": {"reputation": 39281, "user_id": 873165, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Zjzso.jpg?s=128&g=1", "display_name": "Kevin Workman", "link": "https://stackoverflow.com/users/873165/kevin-workman"}, "edited": false, "score": 0, "creation_date": 1541623084, "post_id": 53197389, "comment_id": 93283367, "body": "Have you tried looking in the logs for errors?"}, {"owner": {"reputation": 91, "user_id": 9618437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ff66778a04db4be0b9e5f0207c4aee5?s=128&d=identicon&r=PG&f=1", "display_name": "Oliver Tworkowski", "link": "https://stackoverflow.com/users/9618437/oliver-tworkowski"}, "reply_to_user": {"reputation": 39281, "user_id": 873165, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Zjzso.jpg?s=128&g=1", "display_name": "Kevin Workman", "link": "https://stackoverflow.com/users/873165/kevin-workman"}, "edited": false, "score": 0, "creation_date": 1541627054, "post_id": 53197389, "comment_id": 93285205, "body": "there are no errors. Everything runs smoothly except its not getting the data. It recognizes that gps permissions exist and gps access is allowed"}], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 9618437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ff66778a04db4be0b9e5f0207c4aee5?s=128&d=identicon&r=PG&f=1", "display_name": "Oliver Tworkowski", "link": "https://stackoverflow.com/users/9618437/oliver-tworkowski"}, "is_accepted": true, "score": 0, "last_activity_date": 1542375570, "creation_date": 1542375570, "answer_id": 53339004, "question_id": 53197389, "link": "https://stackoverflow.com/questions/53197389/getting-location-via-gps-on-android-with-processing/53339004#53339004", "title": "getting location via GPS on android with Processing", "body": "<p>The solution:</p>\n\n<ul>\n<li><p>change the \"0, 0\" in <code>locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 0, 0, locationListener);</code> to a \"1000, 0\" depending on how often you want to get your current position in this case: 1000 ms. Im not gonna talk about the second 0.</p></li>\n<li><p>also instead of using <code>NETWORK_PROVIDER</code> use <code>GPS_PROVIDER</code> to get your true GPS pos instead of networked pos.</p></li>\n</ul>\n"}], "owner": {"reputation": 91, "user_id": 9618437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ff66778a04db4be0b9e5f0207c4aee5?s=128&d=identicon&r=PG&f=1", "display_name": "Oliver Tworkowski", "link": "https://stackoverflow.com/users/9618437/oliver-tworkowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 472, "favorite_count": 0, "accepted_answer_id": 53339004, "answer_count": 1, "score": 0, "last_activity_date": 1542375570, "creation_date": 1541622802, "question_id": 53197389, "link": "https://stackoverflow.com/questions/53197389/getting-location-via-gps-on-android-with-processing", "title": "getting location via GPS on android with Processing", "body": "<p>im working on a small app that needs access to GPS so that i can track my position.\nHowever i pasted some code that i can use to check if it works. I will rewrite it later so that it can be adjusted but for now i just want to try it.\n<strong>BUT</strong> when i execute the app all paramaters stay the way they were initialized.\nI do have all permissions enabled and also GPS enabled. Even went outside to check if it works, but it will always stay the same.\nafter the app asks if i allow the app to use gps service everything is executed correctly. It returns positive for location tracking.</p>\n\n<p>Here is the code: (it can also be found under here: <a href=\"https://github.com/codeanticode/processing-android-tutorials/blob/master/location_permissions/ex1_gps/ex1_gps.pde\" rel=\"nofollow noreferrer\">https://github.com/codeanticode/processing-android-tutorials/blob/master/location_permissions/ex1_gps/ex1_gps.pde</a>)</p>\n\n<pre><code>/*****************************************************************************************\n Android Processing GPS example\n\n Query the phone's GPS and display the data on the screen\n\n Rolf van Gelder - v 22/02/2011 - http://cage.nl :: http://cagewebdev.com :: info@cage.nl\n\n Check the ACCESS_FINE_LOCATION permission in Sketch Permissions!\n\n *****************************************************************************************/\n\n// Import needed Android libs\nimport android.content.Context;\nimport android.location.Location;\nimport android.location.LocationListener;\nimport android.location.LocationManager;\nimport android.provider.Settings;\nimport android.os.Bundle;\nimport android.Manifest;\nimport android.Manifest;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\n\n// Set up the variables for the LocationManager and LocationListener\nLocationManager locationManager;\nMyLocationListener locationListener;\n\n// Variables to hold the current GPS data\nfloat currentLatitude  = 0;\nfloat currentLongitude = 0;\nfloat currentAccuracy  = 0;\nString currentProvider = \"\";\n\nboolean hasLocation = false;\n\nvoid setup () {\n  fullScreen();\n  orientation(PORTRAIT);  \n  textFont(createFont(\"SansSerif\", 26 * displayDensity));\n  textAlign(CENTER, CENTER);\n  requestPermission(\"android.permission.ACCESS_FINE_LOCATION\", \"initLocation\");\n}\n\nvoid draw() {\n  background(0);\n  if (hasPermission(\"android.permission.ACCESS_FINE_LOCATION\")) {\n    text(\"Latitude: \" + currentLatitude + \"\\n\" +\n         \"Longitude: \" + currentLongitude + \"\\n\" +\n         \"Accuracy: \" + currentAccuracy + \"\\n\" +\n         \"Provider: \" + currentProvider, 0, 0, width, height);\n  } else {\n    text(\"No permissions to access location\", 0, 0, width, height);\n  }\n}\n\nvoid initLocation(boolean granted) {\n  if (granted) {    \n    Context context = getContext();\n    locationListener = new MyLocationListener();\n    locationManager = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE);    \n    // Register the listener with the Location Manager to receive location updates\n    locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 0, 0, locationListener);\n    hasLocation = true;\n  } else {\n    hasLocation = false;\n  }\n}\n\n// Class for capturing the GPS data\nclass MyLocationListener implements LocationListener {\n  public void onLocationChanged(Location location) {\n    currentLatitude  = (float)location.getLatitude();\n    currentLongitude = (float)location.getLongitude();\n    currentAccuracy  = (float)location.getAccuracy();\n    currentProvider  = location.getProvider();\n  }\n\n  public void onProviderDisabled (String provider) { \n    currentProvider = \"\";\n  }\n\n  public void onProviderEnabled (String provider) { \n    currentProvider = provider;\n  }\n\n  public void onStatusChanged (String provider, int status, Bundle extras) {\n  }\n}\n</code></pre>\n"}, {"tags": ["java", "arrays", "input", "compiler-errors"], "comments": [{"owner": {"reputation": 11114, "user_id": 1712135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cErYR.png?s=128&g=1", "display_name": "deHaar", "link": "https://stackoverflow.com/users/1712135/dehaar"}, "edited": false, "score": 0, "creation_date": 1541622879, "post_id": 53197381, "comment_id": 93283275, "body": "Either you add a <code>throws IOException</code> to your method signature or you <code>try {} catch (IOException e) {}</code> it... You have those two options to <i>report</i> possible <code>Exception</code>s."}, {"owner": {"reputation": 275558, "user_id": 522444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16b6783e9b99b1199c75761eaf5c0685?s=128&d=identicon&r=PG", "display_name": "Hovercraft Full Of Eels", "link": "https://stackoverflow.com/users/522444/hovercraft-full-of-eels"}, "edited": false, "score": 0, "creation_date": 1541623022, "post_id": 53197381, "comment_id": 93283348, "body": "Please <a href=\"https://www.google.com/search?q=unreported+exception+ioexception+must+be+caught+or+declared+to+be+thrown\" rel=\"nofollow noreferrer\">Google your error message</a> (please click on link) before asking as most questions have been asked before, and in this case <b><i>many</i></b> times before."}], "answers": [{"tags": [], "owner": {"reputation": 3809, "user_id": 657224, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/2a159be2028abb3480e907bbc6e07390?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/657224/mike"}, "is_accepted": false, "score": 0, "last_activity_date": 1541622969, "creation_date": 1541622969, "answer_id": 53197423, "question_id": 53197381, "link": "https://stackoverflow.com/questions/53197381/java-unreported-exception-reading-an-input-stream/53197423#53197423", "title": "Java unreported exception reading an input stream", "body": "<p><code>BufferedReader.readLine()</code> throws an <code>IOException</code>:</p>\n\n<pre><code>public String readLine() throws IOException {\n</code></pre>\n\n<p>So any call to it must handle it by either:</p>\n\n<ul>\n<li>Surrounding with try/catch block</li>\n<li>Declaring that your method also throws that exception.</li>\n</ul>\n"}], "owner": {"reputation": 7, "user_id": 6921778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dc15eda41bc3ff22f71a184530a3fe4?s=128&d=identicon&r=PG&f=1", "display_name": "A.Cvijanovic", "link": "https://stackoverflow.com/users/6921778/a-cvijanovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "closed_date": 1541622967, "answer_count": 1, "score": -2, "last_activity_date": 1541622969, "creation_date": 1541622780, "question_id": 53197381, "link": "https://stackoverflow.com/questions/53197381/java-unreported-exception-reading-an-input-stream", "closed_reason": "Duplicate", "title": "Java unreported exception reading an input stream", "body": "<p>My code for reading an input stream of numbers and sorts them into an array, returns \nerror:</p>\n\n<p>unreported exception IOException; must be caught or declared to be thrown</p>\n\n<p>on             String lines = br.readLine();</p>\n\n<pre><code> public int[] inputArr()  {\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n    String lines = br.readLine();\n    String[] strs = lines.trim().split(\"\\\\s+\");\n    int [] a = new int [strs.length];\n    for (int i = 0; i &lt; strs.length; i++) {\n        a[i] = Integer.parseInt(strs[i]);\n    }\n    return a ;\n}\n</code></pre>\n\n<p>Any help please on this?</p>\n"}, {"tags": ["java", "swing", "jpanel", "jbutton"], "comments": [{"owner": {"reputation": 2251, "user_id": 6650475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3543c7ccbd9324d2bc28abd8bd8d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew S", "link": "https://stackoverflow.com/users/6650475/andrew-s"}, "edited": false, "score": 0, "creation_date": 1541624011, "post_id": 53197308, "comment_id": 93283821, "body": "What do you mean by <i>all have functions assigned</i>?  Each button in the first row could have its own listener instance so that large if/else could be avoided.  The other buttons could share a listener and for example use <code>event.getSource().getParent(),dispatchEvent()</code>, and the JPanel that needs to do something will get the event (if the JPanel has a registered listener.)"}, {"owner": {"reputation": 39, "user_id": 8629912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/826b7fdf340c250d2c82976cdcf71b72?s=128&d=identicon&r=PG&f=1", "display_name": "Eli K", "link": "https://stackoverflow.com/users/8629912/eli-k"}, "reply_to_user": {"reputation": 2251, "user_id": 6650475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3543c7ccbd9324d2bc28abd8bd8d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew S", "link": "https://stackoverflow.com/users/6650475/andrew-s"}, "edited": false, "score": 0, "creation_date": 1541629126, "post_id": 53197308, "comment_id": 93286021, "body": "@AndrewS In all honestly, I kind of brushed over the top row of buttons (I was just trying to explain what the point of this is, e.g. a set of buttons that have functions assigned to them). I actually updated them to... err, I think the term is &#39;anonymous functions&#39;? shortly after I posted my question. .getParent() seems to be the method I was looking for, thanks. ~~I&#39;ll update if that solves my problem.~~ That does in fact solve my problem, thanks. If you want to post your answer as a top-level, go ahead - otherwise I&#39;ll answer it myself later."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 8629912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/826b7fdf340c250d2c82976cdcf71b72?s=128&d=identicon&r=PG&f=1", "display_name": "Eli K", "link": "https://stackoverflow.com/users/8629912/eli-k"}, "edited": false, "score": 0, "creation_date": 1541905755, "post_id": 53199318, "comment_id": 93376172, "body": "Thank you very much for the detailed response! This has, in addition to earlier comments, mostly solved my issues.  For some greater context (largely irrelevant to original question), a friend of mine and I are working on a dinky little game for a high school computer science project. It&#39;s essentially roguelite fire emblem, and we have a Character() object assigned to each tile in the array. By finding the source of the button, we can interact with the character object which is part of the button. We&#39;ve figured out a way to work past that through some.. questionable enum-like behavior..."}, {"owner": {"reputation": 39, "user_id": 8629912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/826b7fdf340c250d2c82976cdcf71b72?s=128&d=identicon&r=PG&f=1", "display_name": "Eli K", "link": "https://stackoverflow.com/users/8629912/eli-k"}, "edited": false, "score": 0, "creation_date": 1541905969, "post_id": 53199318, "comment_id": 93376204, "body": "However, we&#39;re not being graded too heavily on proper code quality and just achieving functionality, but we&#39;re doing our best to keep things smooth.  I think the array is necessary for what we&#39;re doing, though - e.x. if tile 4,5 is clicked, turn tile 2,3 red seems to be most simply solved with an array of Tile objects. If that&#39;s not the case, I&#39;m obviously open to correction, but I haven&#39;t found a better one :)"}, {"owner": {"reputation": 50650, "user_id": 3182664, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/2s35X.png?s=128&g=1", "display_name": "Marco13", "link": "https://stackoverflow.com/users/3182664/marco13"}, "reply_to_user": {"reputation": 39, "user_id": 8629912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/826b7fdf340c250d2c82976cdcf71b72?s=128&d=identicon&r=PG&f=1", "display_name": "Eli K", "link": "https://stackoverflow.com/users/8629912/eli-k"}, "edited": false, "score": 0, "creation_date": 1541938265, "post_id": 53199318, "comment_id": 93382089, "body": "@EliK One could talk very broadly about different aspects of &quot;software design&quot;. From what you described, there should/could probably some sort of &quot;Game Model&quot; - a representation of <i>the game itself</i> that is largely unaware of the UI. (Basically in the sense of <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">MVC</a> ). So there <i>will</i> be some form of &quot;array&quot; for representing the board, but in a &quot;clean design&quot;, this array should not contain <i>buttons</i>, but only the (UI-agnostic) game elements. Describing this is beyond the scope of a comment or answer here, though."}], "tags": [], "owner": {"reputation": 50650, "user_id": 3182664, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/2s35X.png?s=128&g=1", "display_name": "Marco13", "link": "https://stackoverflow.com/users/3182664/marco13"}, "is_accepted": true, "score": 0, "last_activity_date": 1541632391, "creation_date": 1541632391, "answer_id": 53199318, "question_id": 53197308, "link": "https://stackoverflow.com/questions/53197308/how-to-determine-which-panel-holds-a-button-that-was-pressed-application-windo/53199318#53199318", "title": "How to determine which panel holds a button that was pressed - Application Window", "body": "<p>Determining the \"source\" of an action like a button press in the <code>actionPerformed</code> method is usually brittle (and fortunately, hardly ever necessary).</p>\n\n<p>This means that this is <strong>highly</strong> questionable:</p>\n\n<pre><code>class ButtonListener implements ActionListener {\n    @Override \n    public void actionPerformed(ActionEvent e) {\n        // DON'T DO THIS!\n        if (e.getSource() == someButton) doThis();\n        if (e.getSource() == someOtherButton) doThad();\n    }\n}\n</code></pre>\n\n<p>You should usually <strong>NOT</strong> do this.</p>\n\n<p>And of course, it's even worse to add casts and walk up some container hierarchy:</p>\n\n<pre><code>// DON'T DO THIS!\nObject source = e.getSource();\nComponent button = (Component)source;\nComponent parent = button.getParent();\nif (parent == somePanel) doThis();\nif (parent == someOtherPanel) doThat();\n</code></pre>\n\n<hr>\n\n<p>In basically all cases, it is far more flexible and elegant to attach a listener to the button that is <em>specific</em> for the button - meaning that it <strong>knows</strong> what the button should do.</p>\n\n<p>For individual buttons, this can be solved the old-fashioned way, using an anonymous inner class:</p>\n\n<pre><code>class Gui {\n\n    void create() {\n        JButton startButton = new JButton(\"Start\");\n        startButton.addActionListener(new ActionListener() {\n            @Override \n            public void actionPerformed(ActionEvent e) {\n                startSomething();\n            }\n        });\n    }\n\n    private void startSomething() { ... }\n}\n</code></pre>\n\n<p>The same can be written far more concisely using lambda expressions with Java 8:</p>\n\n<pre><code>class Gui {\n\n    void create() {\n        JButton startButton = new JButton(\"Start\");\n        startButton.addActionListener(e -&gt; startSomething());\n    }\n\n    private void startSomething() { ... }\n}\n</code></pre>\n\n<p>(A side note: I consider it as a good practice to only call a single method in the <code>ActionListener</code> implementation anyhow. The <code>actionPerformed</code> method should not contain many lines of code, and particularly no \"business logic\". There should be a dedicated method for <em>what the button does</em> - for example, to <code>startSomething</code>, as in the example above)</p>\n\n<hr>\n\n<p>For buttons that are contained in arrays, as in the example in your question, there is a neat trick to retain the information about the button that was clicked:</p>\n\n<pre><code>class Gui {\n\n    JButton buttons[];\n\n    void create() {\n\n        buttons = new JButton[5];\n        for (int i=0; j&lt;buttons.length; i++) { \n            int index = i;\n            buttons[i] = new JButton(\"Button \" + i);\n            buttons[i].addActionListener(e -&gt; clickedButton(index));\n        }\n    }\n\n    private void clickedButton(int index) { \n        System.out.println(\"Clicked button at index \" + index);\n    }\n}\n</code></pre>\n\n<p>In many cases, you then don't even have to keep the <code>JButton buttons[]</code> array any more. Often you can just create the buttons, add them to some panel, and then are only interested in the <code>index</code> that is passed to the <code>clickedButton</code> method. (The <code>button[]</code> array may be necessary in some cases, though - for example, if you want to change the label of a button after it was clicked).</p>\n"}], "owner": {"reputation": 39, "user_id": 8629912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/826b7fdf340c250d2c82976cdcf71b72?s=128&d=identicon&r=PG&f=1", "display_name": "Eli K", "link": "https://stackoverflow.com/users/8629912/eli-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 53199318, "answer_count": 1, "score": 0, "last_activity_date": 1541888022, "creation_date": 1541622402, "last_edit_date": 1541888022, "question_id": 53197308, "link": "https://stackoverflow.com/questions/53197308/how-to-determine-which-panel-holds-a-button-that-was-pressed-application-windo", "title": "How to determine which panel holds a button that was pressed - Application Window", "body": "<p>I have an array of Tile objects (Panel, Button to a tile) in a JPanel, 20x20. If button 1 is clicked, a thing happens, button 2 is pressed, a thing happens, etc.</p>\n\n<p>I want a specific function to happen every time a button other than one in the top row is clicked (the top row of buttons all have functions assigned, the other 380 buttons do not have assigned functions). </p>\n\n<p>So in the top buttons' cases I have the code:</p>\n\n<pre><code>if(e.getSource() == tiles[0][0].button)\n    {\n    //do stuff\n    }\nelse if(e.getSource() == tiles[0][1].button)\n    {\n    //do stuff\n    }\n</code></pre>\n\n<p>For the other buttons, I want something along the lines of:</p>\n\n<pre><code>JButton button;\nbutton = e.getSource();\nJPanel hostPanel = button.PanelInWhichButtonisContained();\n</code></pre>\n\n<p>but I'm not sure what the syntax or what sort I would to do achieve that task. I don't really have any code to present prior attempts because I'm not sure how to approach this task, but I haven't been able to find anything on the World Wide Web to help me in this task.</p>\n\n<p>I'm currently just using default application window libraries and classes (javax.swing, java.awt, etc) but I'm completely open to downloading external libraries.</p>\n"}, {"tags": ["java", "android"], "comments": [{"owner": {"reputation": 1, "user_id": 10620439, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_gDr83uLScA/AAAAAAAAAAI/AAAAAAAAABM/s4kfGa2WuF4/photo.jpg?sz=128", "display_name": "Far Gh", "link": "https://stackoverflow.com/users/10620439/far-gh"}, "edited": false, "score": 0, "creation_date": 1541622481, "post_id": 53197291, "comment_id": 93283121, "body": "manifest: &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;"}, {"owner": {"reputation": 3756, "user_id": 3586851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cFYU8.jpg?s=128&g=1", "display_name": "Heri", "link": "https://stackoverflow.com/users/3586851/heri"}, "edited": false, "score": 1, "creation_date": 1541622862, "post_id": 53197291, "comment_id": 93283269, "body": "It seems that the &#39;s&#39; in Log.i is null. But I am astonished that Log.i does not handle that itself. You should insert a null check before the call to Log.i"}, {"owner": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 1, "creation_date": 1541623399, "post_id": 53197291, "comment_id": 93283507, "body": "You&#39;re passing a <code>null</code> to <code>Log.i(&quot;InternetData&quot;,s);</code>"}, {"owner": {"reputation": 491, "user_id": 6515164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b69ead9bbbe78614bba7cee52d027fe4?s=128&d=identicon&r=PG&f=1", "display_name": "Maksim", "link": "https://stackoverflow.com/users/6515164/maksim"}, "edited": false, "score": 0, "creation_date": 1541623701, "post_id": 53197291, "comment_id": 93283654, "body": "BTW: As you do not use HTTP POST, you should take off the line ` connection.setDoOutput(true);`"}, {"owner": {"reputation": 1, "user_id": 10620439, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_gDr83uLScA/AAAAAAAAAAI/AAAAAAAAABM/s4kfGa2WuF4/photo.jpg?sz=128", "display_name": "Far Gh", "link": "https://stackoverflow.com/users/10620439/far-gh"}, "reply_to_user": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1541624106, "post_id": 53197291, "comment_id": 93283871, "body": "@JeffreyBlattman I watch a move for learning android. in move its work! and in the MainActivity Execute"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10620439, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_gDr83uLScA/AAAAAAAAAAI/AAAAAAAAABM/s4kfGa2WuF4/photo.jpg?sz=128", "display_name": "Far Gh", "link": "https://stackoverflow.com/users/10620439/far-gh"}, "edited": false, "score": 0, "creation_date": 1541625836, "post_id": 53197841, "comment_id": 93284681, "body": "thas is right, but i want to get data from a website. on MainActivity i run this code:  execute(&quot;www.anything.com&quot;), but its null yet,"}, {"owner": {"reputation": 9086, "user_id": 1176870, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Zpacy.jpg?s=128&g=1", "display_name": "Chris Stillwell", "link": "https://stackoverflow.com/users/1176870/chris-stillwell"}, "reply_to_user": {"reputation": 1, "user_id": 10620439, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_gDr83uLScA/AAAAAAAAAAI/AAAAAAAAABM/s4kfGa2WuF4/photo.jpg?sz=128", "display_name": "Far Gh", "link": "https://stackoverflow.com/users/10620439/far-gh"}, "edited": false, "score": 0, "creation_date": 1541625947, "post_id": 53197841, "comment_id": 93284724, "body": "@FarGh Right, so you are likely throwing one of your two caught exceptions. What is the stacktrace getting printed right before the error?"}, {"owner": {"reputation": 1, "user_id": 10620439, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_gDr83uLScA/AAAAAAAAAAI/AAAAAAAAABM/s4kfGa2WuF4/photo.jpg?sz=128", "display_name": "Far Gh", "link": "https://stackoverflow.com/users/10620439/far-gh"}, "edited": false, "score": 0, "creation_date": 1541626887, "post_id": 53197841, "comment_id": 93285128, "body": "W/System.err: java.io.FileNotFoundException: <a href=\"http://www.google.com\" rel=\"nofollow noreferrer\">google.com</a> W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInp&zwnj;&#8203;utStream(HttpURLConn&zwnj;&#8203;ectionImpl.java:254)  W/System.err:     at com.fr6ad.testweathwe.TestInternetClass.doInBackground(TestI&zwnj;&#8203;nternetClass.java:30&zwnj;&#8203;)  W/System.err:     at com.fr6ad.testweathwe.TestInternetClass.doInBackground(TestI&zwnj;&#8203;nternetClass.java:19&zwnj;&#8203;)  W/System.err:     at android.os.AsyncTask$2.call(AsyncTask.java:304)"}, {"owner": {"reputation": 1, "user_id": 10620439, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_gDr83uLScA/AAAAAAAAAAI/AAAAAAAAABM/s4kfGa2WuF4/photo.jpg?sz=128", "display_name": "Far Gh", "link": "https://stackoverflow.com/users/10620439/far-gh"}, "edited": false, "score": 0, "creation_date": 1541626917, "post_id": 53197841, "comment_id": 93285142, "body": "W/System.err:     at java.util.concurrent.FutureTask.run(FutureTask.java:237)  W/System.err:     at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:243&zwnj;&#8203;)  W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPool&zwnj;&#8203;Executor.java:1133)  W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoo&zwnj;&#8203;lExecutor.java:607)  W/System.err:     at java.lang.Thread.run(Thread.java:762)"}, {"owner": {"reputation": 9086, "user_id": 1176870, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Zpacy.jpg?s=128&g=1", "display_name": "Chris Stillwell", "link": "https://stackoverflow.com/users/1176870/chris-stillwell"}, "reply_to_user": {"reputation": 1, "user_id": 10620439, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_gDr83uLScA/AAAAAAAAAAI/AAAAAAAAABM/s4kfGa2WuF4/photo.jpg?sz=128", "display_name": "Far Gh", "link": "https://stackoverflow.com/users/10620439/far-gh"}, "edited": false, "score": 0, "creation_date": 1541627113, "post_id": 53197841, "comment_id": 93285222, "body": "@FarGh you need to add the protocol. Try passing &quot;<code>http:&#47;&#47;www.google.com&#47;</code>&quot; instead."}], "tags": [], "owner": {"reputation": 9086, "user_id": 1176870, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Zpacy.jpg?s=128&g=1", "display_name": "Chris Stillwell", "link": "https://stackoverflow.com/users/1176870/chris-stillwell"}, "is_accepted": false, "score": 0, "last_activity_date": 1541624900, "creation_date": 1541624900, "answer_id": 53197841, "question_id": 53197291, "link": "https://stackoverflow.com/questions/53197291/fatal-exception-when-i-want-to-read-from-a-website/53197841#53197841", "title": "Fatal Exception When I want to read From a website", "body": "<p>You are returning <code>null</code> from your <code>doInBackground()</code> function and your <code>onPostExecute(String s)</code>'s <code>Log.i</code> call doesn't expect a null argument. Like others have said, adding a null check will correct the immediate issue, but it masks a larger underlying issue. That issue being, you've thrown either a MalformedURLException or IOException. </p>\n\n<p>The immediate fix is to simply add a null check</p>\n\n<pre><code>@Override\nprotected void onPostExecute(String s) {\n    if(s == null) Log.e(\"InternetData\", \"Null was returned by the background task!\");\n    else Log.i(\"InternetData\", s);\n    super.onPostExecute(s);\n}\n</code></pre>\n\n<p>However, I highly recommend you find out what else is going on in your code and what the real error is with regards to the MalformedURLException or IOException you are throwing.</p>\n"}], "owner": {"reputation": 1, "user_id": 10620439, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_gDr83uLScA/AAAAAAAAAAI/AAAAAAAAABM/s4kfGa2WuF4/photo.jpg?sz=128", "display_name": "Far Gh", "link": "https://stackoverflow.com/users/10620439/far-gh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541624900, "creation_date": 1541622333, "last_edit_date": 1541623719, "question_id": 53197291, "link": "https://stackoverflow.com/questions/53197291/fatal-exception-when-i-want-to-read-from-a-website", "title": "Fatal Exception When I want to read From a website", "body": "<p>I have FATAL EXCEPTION when try to get data from a web site;\nmy code is here,</p>\n\n<p>this is my code Java class:</p>\n\n<pre><code>public class TestInternetClass extends AsyncTask&lt;String, Void, String&gt; {\n\n    @Override\n    protected String doInBackground(String... strings) {\n        try {\n            URL url=new URL(strings[0]);\n            HttpURLConnection connection= (HttpURLConnection) url.openConnection();\n            connection.setRequestMethod(\"GET\");\n            connection.setDoInput(true);\n            connection.setDoOutput(true);\n            connection.connect();\n            InputStream stream=connection.getInputStream();\n            InputStreamReader reader=new InputStreamReader(stream);\n            StringBuilder builder=new StringBuilder();\n            int temp=reader.read();\n            while (temp!=-1){\n                builder.append((char)temp);\n             temp=reader.read();\n            }\n            reader.close();\n            stream.close();\n            connection.disconnect();\n            return builder.toString();\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n\n    }\n\n    @Override\n    protected void onPostExecute(String s) {\n        Log.i(\"InternetData\",s);\n        super.onPostExecute(s);\n    }\n}\n</code></pre>\n\n<p>and in the main:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        TestInternetClass testInternetClass=new TestInternetClass();\n       testInternetClass.execute(\"https://www.gsm.ir/\");\n\n    }\n}\n</code></pre>\n\n<p>my manifest:</p>\n\n<pre><code>    android:name=\"android.permission.INTERNET\"/&gt;\n  android:name=\"android.permission.ACCESS_NETWORK_STATE\"/&gt;\n</code></pre>\n\n<p>this is my Error:</p>\n\n<pre><code>11-07 23:46:07.318 9703-9703/com.fr6ad.testweathwe E/AndroidRuntime: FATAL EXCEPTION: main\n Process: com.fr6ad.testweathwe, PID: 9703\n java.lang.NullPointerException: println needs a message\n     at android.util.Log.println_native(Native Method)\n     at android.util.Log.i(Log.java:211)\n     at com.fr6ad.testweathwe.TestInternetClass.onPostExecute(TestInternetClass.java:53)\n     at com.fr6ad.testweathwe.TestInternetClass.onPostExecute(TestInternetClass.java:19)\n     at android.os.AsyncTask.finish(AsyncTask.java:660)\n     at android.os.AsyncTask.-wrap1(AsyncTask.java)\n     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:677)\n     at android.os.Handler.dispatchMessage(Handler.java:102)\n     at android.os.Looper.loop(Looper.java:154)\n     at android.app.ActivityThread.main(ActivityThread.java:6682)\n     at java.lang.reflect.Method.invoke(Native Method)\n     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1520)\n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1410)\n</code></pre>\n"}, {"tags": ["java", "arrays"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10620398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea3967f961c2fcd2edf59afae2474367?s=128&d=identicon&r=PG&f=1", "display_name": "protyus", "link": "https://stackoverflow.com/users/10620398/protyus"}, "edited": false, "score": 0, "creation_date": 1541708086, "post_id": 53199184, "comment_id": 93318533, "body": "Appreciate the help. I ended up leaving it as a String and dropped the String array. Then removed the newline and backslash continuation characters:  <code>String patternString = &quot;[\\\\n\\\\s]?-(\\\\w+)(\\\\s+)([^\\\\s]+)&quot;; Pattern pat = Pattern.compile(patternString); Matcher match = pat.matcher(lines); match.matches();  int lastMatchPos = 0; while (match.find()) {     System.out.println(match.group(1));      System.out.println(match.group(3));      lastMatchPos = match.end(); }</code>"}], "tags": [], "owner": {"reputation": 66, "user_id": 7804652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c511845d4c8fb34179059204307681b7?s=128&d=identicon&r=PG&f=1", "display_name": "dinosaur", "link": "https://stackoverflow.com/users/7804652/dinosaur"}, "is_accepted": false, "score": 0, "last_activity_date": 1541631522, "creation_date": 1541631522, "answer_id": 53199184, "question_id": 53197255, "link": "https://stackoverflow.com/questions/53197255/consuming-java-string-array-to-set-key-value-pairs/53199184#53199184", "title": "Consuming Java String Array to set Key Value Pairs", "body": "<p>i recommend to use Regex to do this.\nYou can capture the first example like this:</p>\n\n<pre><code>String firstTest = \"-filePickupDir /export/home/PickupDir/ \\\\\";\n\n//the capture groups are in the parantheses\nString patternString = \"[\\\\n\\\\s]?-(\\\\w+)(.+)\\\\\\\\\";\n\nPattern pat =  Pattern.compile(patternString);\nMatcher match = pat.matcher(firstTest);\nmatch.find();\n\nSystem.out.println(match.group(0)); //whole String\nSystem.out.println(match.group(1)); //first capture group\nSystem.out.println(match.group(2)); //second capture group\n//results:\n//0 -filePickupDir /export/home/PickupDir/ \\\n//1 filePickupDir\n//2 /export/home/PickupDir/ \n</code></pre>\n\n<p>If you further extend the regex you will be able to capture exactly as you described.</p>\n"}], "owner": {"reputation": 11, "user_id": 10620398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea3967f961c2fcd2edf59afae2474367?s=128&d=identicon&r=PG&f=1", "display_name": "protyus", "link": "https://stackoverflow.com/users/10620398/protyus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1541631522, "creation_date": 1541622192, "last_edit_date": 1592644375, "question_id": 53197255, "link": "https://stackoverflow.com/questions/53197255/consuming-java-string-array-to-set-key-value-pairs", "title": "Consuming Java String Array to set Key Value Pairs", "body": "<p>Having trouble keeping state in mind here. Appreciate any help. I have a string that is set by end users and has no validation and is open text. I need to take this in and set key value pairs. I ignore all other lines (e.g: starting with : or !) I do know that the key will start with a dash (e.g: -filePickupDir) and then the value will either be after the next space or after the next space with newline character. If there is a continuation slash (), then I know there is another key value pair. Some examples on how the users may have put this in place:</p>\n<blockquote>\n<p>-filePickupDir /export/home/PickupDir/ \\</p>\n</blockquote>\n<p>or</p>\n<blockquote>\n<p>-filePickupDir \\</p>\n<p>/export/home/AdjPickupDir/ \\</p>\n</blockquote>\n<p>Example Code:</p>\n<pre><code>HashMap&lt;String, String&gt; processMap = new HashMap&lt;&gt;();\n    String jobProcess = job.getProcess(); //this is a method that gets the string\n    String lines[] = jobProcess.split(&quot;[\\\\r\\\\n]+&quot;);\n\n    int varCount = 0;\n    for (String s: lines) {\n        String key = &quot;&quot;;\n        String val = &quot;&quot;;\n        int count = 0;\n        int count2 = 0;\n        if (s.startsWith(&quot;!&quot;)) {\n\n        } else if (s.startsWith(&quot;:&quot;)) {\n\n        } else if (s.startsWith(&quot;-&quot;)) {\n            count = s.length() - s.replace(&quot; &quot;, &quot;&quot;).length();\n            count2 = s.length() - s.replace(&quot;\\\\&quot;, &quot;&quot;).length();\n            System.out.println(&quot;Line space count: &quot; + count + &quot; continue line count: &quot; + count2);\n            if (count == 1 &amp;&amp; count2 == 0 || count == 3 &amp;&amp; count2 == 1 || count == 1 &amp;&amp; count2 == 1) {\n                s = s.trim();\n                int keyIndex = s.indexOf(&quot;-&quot;);\n                keyIndex = +1;\n                int firstSpaceIndex = s.indexOf(&quot; &quot;);\n                int spaceAfterFirstSpaceIndex = firstSpaceIndex + 1;\n                int lastIndex = s.length();\n                String keyString = s.substring(keyIndex, firstSpaceIndex);\n                String valueString = s.substring(spaceAfterFirstSpaceIndex, lastIndex);\n                if (count == 3 &amp;&amp; count2 == 1) {\n                    int removeSlashIndex = valueString.length();\n                    valueString = valueString.substring(1, removeSlashIndex - 3);\n                }\n            } else if (count == 1 &amp;&amp; count2 == 1) {\n                //value is on the next line\n                //We need to let the program know we have a key but no value and need to maintain state\n            }\n\n            //String split = String.valueOf(s.split(&quot;^-(\\\\w|\\\\d|\\\\s)+&quot;));\n            //System.out.println(&quot;split is: &quot;+split.toString());\n\n\n        } else {\n            //This is value if the key is on its own line above\n            s = s.trim();\n            System.out.println(&quot;Value: &quot; + s);\n        }\n    }\n</code></pre>\n<p>I'm having problems wrapping my head around keeping state here. I basically just need a key that starts with a slash (-) and then the value is the next string separated by either a space or a space and a newline. Continue processing until all key pairs are found.</p>\n<p>Example String array to consume:</p>\n<blockquote>\n<p>-hostIds \\</p>\n<p>9 \\</p>\n<p>-maxRecords \\</p>\n<p>1000 \\</p>\n<p>-xsl \\</p>\n<p>$batchslx/ziproot/EmailXsl</p>\n</blockquote>\n"}, {"tags": ["java", "redis", "jedis", "spring-data-redis"], "answers": [{"tags": [], "owner": {"reputation": 6807, "user_id": 2929562, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f7ea127833d314cefdd5acb40836237a?s=128&d=identicon&r=PG&f=1", "display_name": "Pra_A", "link": "https://stackoverflow.com/users/2929562/pra-a"}, "is_accepted": true, "score": 1, "last_activity_date": 1541660283, "creation_date": 1541660283, "answer_id": 53202792, "question_id": 53197199, "link": "https://stackoverflow.com/questions/53197199/parameter-0-of-method-repositories-in-com-example-redisapplication-required-a-be/53202792#53202792", "title": "Parameter 0 of method repositories in com.example.RedisApplication required a bean of type that could not be found", "body": "<p>I was able to solve this issue. Somehow repository reference of Order and LineItem was not available. So I simply moved the POJO and Repository classes out of main method.</p>\n\n<p>RedisApplication.java</p>\n\n<pre><code>@Log\n@SpringBootApplication\npublic class RedisApplication {\n\n    @Autowired\n    private OrderRepository orderRepository;\n    @Autowired\n    private LineItemRepository lineItemRepository;\n\n    private ApplicationRunner titleRunner(String title, ApplicationRunner rr) {\n        return args -&gt; {\n            log.info(title.toUpperCase() + \":\");\n            rr.run(args);\n        };\n    }\n\n    @Bean\n    ApplicationRunner geography(RedisTemplate&lt;String, String&gt; rt) {\n        return titleRunner(\"geography\", args -&gt; {\n            GeoOperations&lt;String, String&gt; geo = rt.opsForGeo();\n            geo.add(\"Sicily\", new Point(13.361389, 38.155556), \"Arigento\");\n            geo.add(\"Sicily\", new Point(15.087269, 37.502669), \"Catania\");\n            geo.add(\"Sicily\", new Point(13.583333, 37.316667), \"Palermo\");\n\n            Circle circle = new Circle(new Point(13.583333, 37.316667),\n                    new Distance(100, RedisGeoCommands.DistanceUnit.KILOMETERS));\n\n            GeoResults&lt;GeoLocation&lt;String&gt;&gt; radius = geo.radius(\"Sicily\", circle);\n            radius.getContent().forEach(c -&gt; log.info(c.toString()));\n        });\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(RedisApplication.class, args);\n    }\n\n\n\n    @Bean\n    ApplicationRunner repositories() {\n        return titleRunner(\"repositories\", args -&gt; {\n            Long orderId = generateId();\n\n            List&lt;LineItem&gt; itemsList = Arrays.asList(\n                        new LineItem(orderId, generateId(), \"plunger\"),\n                        new LineItem(orderId, generateId(), \"soup\"), \n                        new LineItem(orderId, generateId(), \"cofee mug\"));\n\n            itemsList.stream().map(lineItemRepository::save).forEach(li -&gt; log.info(li.toString()));\n\n            Order order = new Order(orderId, new Date(), itemsList);\n            orderRepository.save(order);\n\n            Collection&lt;Order&gt; found = orderRepository.findByWhen(order.getWhen());\n            found.forEach(o -&gt; log.info(\"found : \" + o.toString()));\n        });\n    }\n\n    private Long generateId() {\n        long tmp = new Random().nextLong();\n        return Math.max(tmp, tmp * -1);\n    }\n}\n</code></pre>\n\n<p><strong>Here is the output -</strong> </p>\n\n<pre><code>2018-11-08 12:25:23.469  INFO 4380 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2018-11-08 12:25:23.473  INFO 4380 --- [           main] com.example.RedisApplication             : Started RedisApplication in 4.272 seconds (JVM running for 5.071)\n2018-11-08 12:25:23.473  INFO 4380 --- [           main] com.example.RedisApplication             : GEOGRAPHY:\n2018-11-08 12:25:23.497  INFO 4380 --- [           main] com.example.RedisApplication             : GeoResult [content: RedisGeoCommands.GeoLocation(name=Palermo, point=null), distance: 0.0, ]\n2018-11-08 12:25:23.497  INFO 4380 --- [           main] com.example.RedisApplication             : GeoResult [content: RedisGeoCommands.GeoLocation(name=Arigento, point=null), distance: 0.0, ]\n2018-11-08 12:25:23.497  INFO 4380 --- [           main] com.example.RedisApplication             : REPOSITORIES:\n2018-11-08 12:25:23.581  INFO 4380 --- [           main] com.example.RedisApplication             : LineItem(orderId=3202446132704215083, id=1657375889205537882, description=plunger)\n2018-11-08 12:25:23.589  INFO 4380 --- [           main] com.example.RedisApplication             : LineItem(orderId=3202446132704215083, id=5508942963105786137, description=soup)\n2018-11-08 12:25:23.593  INFO 4380 --- [           main] com.example.RedisApplication             : LineItem(orderId=3202446132704215083, id=2166030250698224804, description=cofee mug)\n2018-11-08 12:25:23.665  INFO 4380 --- [           main] com.example.RedisApplication             : found : Order(Id=3202446132704215083, when=Thu Nov 08 12:25:23 IST 2018, lineItems=[LineItem(orderId=3202446132704215083, id=1657375889205537882, description=plunger), LineItem(orderId=3202446132704215083, id=5508942963105786137, description=soup), LineItem(orderId=3202446132704215083, id=2166030250698224804, description=cofee mug)])\n</code></pre>\n"}], "owner": {"reputation": 6807, "user_id": 2929562, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f7ea127833d314cefdd5acb40836237a?s=128&d=identicon&r=PG&f=1", "display_name": "Pra_A", "link": "https://stackoverflow.com/users/2929562/pra-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 314, "favorite_count": 1, "accepted_answer_id": 53202792, "answer_count": 1, "score": 0, "last_activity_date": 1541660283, "creation_date": 1541621972, "question_id": 53197199, "link": "https://stackoverflow.com/questions/53197199/parameter-0-of-method-repositories-in-com-example-redisapplication-required-a-be", "title": "Parameter 0 of method repositories in com.example.RedisApplication required a bean of type that could not be found", "body": "<p>I am doing POC on <strong>Spring Boot + Spring Data Redis</strong> by taking reference from <strong><a href=\"https://www.youtube.com/watch?v=_M8xoagybzU&amp;t=231s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=_M8xoagybzU&amp;t=231s</a></strong> and simply following the tutorial using Spring Boot version <code>2.1.0.RELEASE</code> instead of <code>2.0.0.RELEASE</code>.</p>\n\n<p>I am simply updating the Redis cache into DB and getting the below error.</p>\n\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method repositories in com.example.RedisApplication required a bean of type 'com.example.RedisApplication$LineItemRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.example.RedisApplication$LineItemRepository' in your configuration.\n</code></pre>\n\n<p><strong>RedisApplication.java</strong></p>\n\n<pre><code>@Log\n@SpringBootApplication\npublic class RedisApplication {\n\n    private ApplicationRunner titleRunner(String title, ApplicationRunner rr) {\n        return args -&gt; {\n            log.info(title.toUpperCase() + \":\");\n            rr.run(args);\n        };\n    }\n\n    @Bean\n    ApplicationRunner geography(RedisTemplate&lt;String, String&gt; rt) {\n        return titleRunner(\"geography\", args -&gt; {\n            GeoOperations&lt;String, String&gt; geo = rt.opsForGeo();\n            geo.add(\"Sicily\", new Point(13.361389, 38.155556), \"Arigento\");\n            geo.add(\"Sicily\", new Point(15.087269, 37.502669), \"Catania\");\n            geo.add(\"Sicily\", new Point(13.583333, 37.316667), \"Palermo\");\n\n            Circle circle = new Circle(new Point(13.583333, 37.316667),\n                    new Distance(100, RedisGeoCommands.DistanceUnit.KILOMETERS));\n            GeoResults&lt;GeoLocation&lt;String&gt;&gt; radius = geo.radius(\"Sicily\", circle);\n            radius.getContent().forEach(c -&gt; log.info(c.toString()));\n        });\n    }\n\n    @Bean\n    ApplicationRunner repositories(LineItemRepository  lineItemRepository) {\n        return titleRunner(\"repositories\", args -&gt; {\n            Long orderId = generateId();\n\n            List&lt;LineItem&gt; itemsList = Arrays.asList(\n                    new LineItem(orderId, generateId(), \"plunger\"),\n                    new LineItem(orderId, generateId(), \"soup\"), \n                    new LineItem(orderId, generateId(), \"cofee mug\"));\n\n            itemsList.stream().map( lineItemRepository::save).forEach(li -&gt; log.info(li.toString()));\n        });\n    }\n\n    private Long generateId() {\n        long tmp = new Random().nextLong();\n        return Math.max(tmp, tmp * -1);\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(RedisApplication.class, args);\n    }\n\n    @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @RedisHash(\"orders\")\n    public class Order implements Serializable {\n        @Id\n        private Long Id;\n\n        @Indexed\n        private Date when;\n\n        @Reference\n        private List&lt;LineItem&gt; lineItems;\n    }\n\n    @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @RedisHash(\"lineItems\")\n    public class LineItem implements Serializable {\n        @Indexed\n        private Long orderId;\n\n        @Id\n        private Long id;\n\n        private String description;\n    }\n\n    interface LineItemRepository extends CrudRepository&lt;LineItem, Long&gt; {\n\n    }\n\n    interface OrderRepository extends CrudRepository&lt;Order, Long&gt; {\n        Collection&lt;Order&gt; findByWhen(Date date);\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android"], "answers": [{"comments": [{"owner": {"reputation": 1861, "user_id": 5605365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0bcaecd20a17e1bd30a208a7a6f15438?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5605365/matt"}, "edited": false, "score": 0, "creation_date": 1541688494, "post_id": 53198102, "comment_id": 93308232, "body": "Sorry, I should have added that I am on a rooted device with a custom ROM. I&#39;m doing this from a system app. So I just add <code>sharedUserId=&quot;android.uid.shell&quot;</code>?"}, {"owner": {"reputation": 3902, "user_id": 10302746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t5ySG.png?s=128&g=1", "display_name": "Lev M.", "link": "https://stackoverflow.com/users/10302746/lev-m"}, "reply_to_user": {"reputation": 1861, "user_id": 5605365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0bcaecd20a17e1bd30a208a7a6f15438?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5605365/matt"}, "edited": false, "score": 0, "creation_date": 1541712338, "post_id": 53198102, "comment_id": 93320446, "body": "Depends on your Android version. If you are on Android 5 or higher, yes. If you are on an older version like 4.x add sharedUserId=&quot;android.uid.system&quot;"}, {"owner": {"reputation": 1861, "user_id": 5605365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0bcaecd20a17e1bd30a208a7a6f15438?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5605365/matt"}, "edited": false, "score": 0, "creation_date": 1541778054, "post_id": 53198102, "comment_id": 93344390, "body": "I&#39;m on 5 or higher, but doing that isn&#39;t working. I still get <code>exec command: setprop: failed to set property &#39;service.adb.tcp.port&#39; to &#39;5555&#39;</code>. How do I sign it with a system certificate?"}, {"owner": {"reputation": 3902, "user_id": 10302746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t5ySG.png?s=128&g=1", "display_name": "Lev M.", "link": "https://stackoverflow.com/users/10302746/lev-m"}, "reply_to_user": {"reputation": 1861, "user_id": 5605365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0bcaecd20a17e1bd30a208a7a6f15438?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5605365/matt"}, "edited": false, "score": 0, "creation_date": 1541785294, "post_id": 53198102, "comment_id": 93348398, "body": "If you have su in the system, you should just use that. For signing, you need the key pair the ROM was built with. Here is where AOSP stores their test keys: <a href=\"https://github.com/aosp-mirror/platform_build/tree/master/target/product/security\" rel=\"nofollow noreferrer\">github.com/aosp-mirror/platform_build/tree/master/target/&hellip;</a> It&#39;s the platform.pk8 and platform.x509.pem If you don&#39;t have access to these keys for your ROM, you won&#39;t be able to sign the app"}], "tags": [], "owner": {"reputation": 3902, "user_id": 10302746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t5ySG.png?s=128&g=1", "display_name": "Lev M.", "link": "https://stackoverflow.com/users/10302746/lev-m"}, "is_accepted": true, "score": 4, "last_activity_date": 1541626140, "creation_date": 1541626140, "answer_id": 53198102, "question_id": 53197179, "link": "https://stackoverflow.com/questions/53197179/how-to-set-a-system-property-from-an-android-app/53198102#53198102", "title": "How to set a system property from an android app?", "body": "<p>You can't set this particular property from a regular app.\nIt is protected by the system.</p>\n\n<p>Before Android 5, you need your app to have <code>sharedUserId=\"android.uid.system\"</code> in your manifest, and from Android 5 and up it needs to be <code>sharedUserId=\"android.uid.shell\"</code>.</p>\n\n<p>However, if your app has one of these user IDs, it must be signed with the system certificate to be installed, so you can only do this on development boards and custom ROMs.</p>\n\n<p>Another option is if your device is rooted, you can run the setprop command with su.</p>\n"}], "owner": {"reputation": 1861, "user_id": 5605365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0bcaecd20a17e1bd30a208a7a6f15438?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5605365/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4087, "favorite_count": 0, "accepted_answer_id": 53198102, "answer_count": 1, "score": 3, "last_activity_date": 1571767276, "creation_date": 1541621845, "last_edit_date": 1541688394, "question_id": 53197179, "link": "https://stackoverflow.com/questions/53197179/how-to-set-a-system-property-from-an-android-app", "title": "How to set a system property from an android app?", "body": "<p>I need to do <code>setprop</code> but from an app.</p>\n\n<p>Right now I'm trying to just run it as a shell command:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private static final String TAG = \"test:MainActivity\";\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        exec(\"setprop service.adb.tcp.port 5555\");\n    }\n\n    private void exec(String cmd) {\n        Process proc = null;\n        BufferedReader successResult = null;\n        BufferedReader errorResult = null;\n\n        Runtime runtime = Runtime.getRuntime();\n        Log.d(TAG, \"exec command: \" + cmd);\n        try {\n            proc = runtime.exec(cmd);\n            successResult = new BufferedReader(new InputStreamReader(proc.getInputStream()));\n            errorResult = new BufferedReader(new InputStreamReader(proc.getErrorStream()));\n            String s;\n            while ((s = successResult.readLine()) != null) {\n                Log.d(TAG, \"exec command: \" + s);\n            }\n            while ((s = errorResult.readLine()) != null) {\n                Log.d(TAG, \"exec command: \" + s);\n            }\n        } catch (IOException e) {\n            Log.e(TAG, \"Error running shell command:\", e);\n        } finally {\n            try {\n                if (successResult != null) {\n                    successResult.close();\n                }\n                if (errorResult != null) {\n                    errorResult.close();\n                }\n            } catch (IOException e) {\n                Log.e(TAG, \"Error running shell command:\", e);\n            }\n\n            if (proc != null) {\n                proc.destroy();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This give me:</p>\n\n<blockquote>\n  <p>exec command: setprop service.adb.tcp.port 5555</p>\n  \n  <p>exec command: setprop: failed to set property 'service.adb.tcp.port'\n  to '5555'</p>\n</blockquote>\n\n<p>How can I set a system property from an application?</p>\n\n<p>Edit: Sorry, I should have I added my device is rooted and this app is a system app.</p>\n"}, {"tags": ["java", "c#", "web-services", "wcf"], "answers": [{"comments": [{"owner": {"reputation": 12764, "user_id": 648723, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/XMmlf.jpg?s=128&g=1", "display_name": "Arian", "link": "https://stackoverflow.com/users/648723/arian"}, "edited": false, "score": 0, "creation_date": 1541623588, "post_id": 53197459, "comment_id": 93283590, "body": "I&#39;m using <code>WCF</code> for create web services so it serialize data to <code>XML</code>.Have you ever worked with this type of services?"}, {"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "reply_to_user": {"reputation": 12764, "user_id": 648723, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/XMmlf.jpg?s=128&g=1", "display_name": "Arian", "link": "https://stackoverflow.com/users/648723/arian"}, "edited": false, "score": 0, "creation_date": 1541623668, "post_id": 53197459, "comment_id": 93283637, "body": "@Arian I avoid XML, but the principle is the same--XML doesn&#39;t distinguish between &quot;list&quot; or &quot;array&quot;, just a sequence of elements, so you should be fine either way. Conventions around property names will vary. Note of course that Web Services\u2122 is generally a pain to use, but Java has as good support for it as anything else."}], "tags": [], "owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "is_accepted": false, "score": 1, "last_activity_date": 1541623108, "creation_date": 1541623108, "answer_id": 53197459, "question_id": 53197154, "link": "https://stackoverflow.com/questions/53197154/calling-a-web-service-that-accept-array-or-list-of-a-class-in-java/53197459#53197459", "title": "Calling a web service that accept array or list of a class in Java", "body": "<p>Presumably your HTTP API serializes this as JSON (or maybe XML). In either case, libraries such as Jackson can handle it just fine, and most REST clients will even handle that part automatically. Standards compliance is the rule, and so as long as your <code>List&lt;Product&gt;</code> is converted to/from a regular JSON array, everything should work smoothly.</p>\n\n<p>JSON doesn't have separate list types, just the plain array, so either array or list-based serialization should be equivalent.</p>\n\n<p>As a note, most APIs use either <code>camelCase</code> or <code>snake_case</code> for properties, so your property names (in JSON) would be expected to be <code>stringValue</code>, <code>products</code>, <code>pid</code>, and <code>pName</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "is_accepted": false, "score": 1, "last_activity_date": 1541724091, "last_edit_date": 1541724091, "creation_date": 1541686396, "answer_id": 53209524, "question_id": 53197154, "link": "https://stackoverflow.com/questions/53197154/calling-a-web-service-that-accept-array-or-list-of-a-class-in-java/53209524#53209524", "title": "Calling a web service that accept array or list of a class in Java", "body": "<p>As with .Net client calling WCF using the Svcutil tool, most Java users use the asis2 library which is a webservice engine to invoke web service.<br>\nWebService is a specification that any service that implements it can be called WebService. they  use SOAP message based on XML to communicate. they use WSDL to describe the service details, which is used for generating the client proxy class. The reason why WCF can be called across service boundaries by various platforms is that it is also a web service. Although there may be different data types on various platforms, as long as we specify how to represent it in XML and how to serialize it, the service can be called correctly by others platforms, By default, List is specified to be serialized using a one-dimensional array.</p>\n"}], "owner": {"reputation": 12764, "user_id": 648723, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/XMmlf.jpg?s=128&g=1", "display_name": "Arian", "link": "https://stackoverflow.com/users/648723/arian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541724091, "creation_date": 1541621756, "question_id": 53197154, "link": "https://stackoverflow.com/questions/53197154/calling-a-web-service-that-accept-array-or-list-of-a-class-in-java", "title": "Calling a web service that accept array or list of a class in Java", "body": "<p>I want to create a web service using C#. In web service I have a web method that accept list of a specific class:</p>\n\n<pre><code>[DataContract]\npublic class CompositeType\n{\n    string stringValue = \"Hello \";\n\n    [DataMember]\n    public string StringValue\n    {\n        get { return stringValue; }\n        set { stringValue = value; }\n    }\n\n    [DataMember]\n    public List&lt;Product&gt; Products { get; set; }\n}\n\n[DataContract]\npublic class Product\n{\n    [DataMember]\n    public int PID { get; set; }\n\n    [DataMember]\n    public string PName { get; set; }\n}\n</code></pre>\n\n<p>and my web method:</p>\n\n<pre><code>[OperationContract]\nCompositeType GetDataUsingDataContract(CompositeType composite);\n</code></pre>\n\n<p>I want to publish this service using <code>BasicHttpBinding</code> that Java users can call it too. Now since the Java programmer is not around me, I wanted to ask those who have the experience to do this :</p>\n\n<p>1) Can Java programmers call my web method that accept <code>List&lt;Product&gt;</code>?</p>\n\n<p>2)Should I change <code>List</code> to <code>Array</code>?</p>\n\n<p>Thanks for you contribution</p>\n"}, {"tags": ["java", "ruby-on-rails", "ruby", "rubygems"], "answers": [{"comments": [{"owner": {"reputation": 460, "user_id": 6336045, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/dWWGM.png?s=128&g=1", "display_name": "xSlok", "link": "https://stackoverflow.com/users/6336045/xslok"}, "edited": false, "score": 0, "creation_date": 1541655499, "post_id": 53197435, "comment_id": 93292456, "body": "What gem are you talking  about? Postgresql driver? If so, that wouldn&#39;t really help, considering I&#39;m connecting using a JDBC connection on a non jruby project. As for the jar file for the driver, I&#39;m loading it using Rjb.add_jar and Rjb.include"}], "tags": [], "owner": {"reputation": 1, "user_id": 10620516, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/3871df85f95b09acca9ced4da77295df?s=128&d=identicon&r=PG", "display_name": "user10620516", "link": "https://stackoverflow.com/users/10620516/user10620516"}, "is_accepted": false, "score": 0, "last_activity_date": 1541623642, "last_edit_date": 1541623642, "creation_date": 1541623030, "answer_id": 53197435, "question_id": 53197148, "link": "https://stackoverflow.com/questions/53197148/ruby-java-bridge-jdbc-connection-rails/53197435#53197435", "title": "Ruby-Java bridge JDBC Connection Rails", "body": "<p>Have you installed the gem? Meaning have you ran the command that installs the gem on the gemfile you're working on. </p>\n"}], "owner": {"reputation": 460, "user_id": 6336045, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/dWWGM.png?s=128&g=1", "display_name": "xSlok", "link": "https://stackoverflow.com/users/6336045/xslok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541623642, "creation_date": 1541621703, "question_id": 53197148, "link": "https://stackoverflow.com/questions/53197148/ruby-java-bridge-jdbc-connection-rails", "title": "Ruby-Java bridge JDBC Connection Rails", "body": "<p>I'm trying to create a connection with postgresql using a gem called RJB (Ruby-Java bridge) by importing the \"Class\" class and the \"DriverManager\" class, and running the following code: </p>\n\n<pre><code>Class.forName(\"org.postgresql.Driver\")\nurl = \"jdbc:postgresql://localhost:5432/database\"\ncon = DriverManager.getConnection(url, 'root', '123')\n</code></pre>\n\n<p>but I get the following error: \nSQLException: No suitable driver found for <code>jdbc:postgresql://localhost:5432/database</code>\nis there a way to make it work?\nThanks!</p>\n"}, {"tags": ["java", "android", "android-studio", "math", "calculator"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 10232812, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pzt31CF6eMI/AAAAAAAAAAI/AAAAAAAAAHk/XA048aXX_JA/photo.jpg?sz=128", "display_name": "Ardalan Sajedi", "link": "https://stackoverflow.com/users/10232812/ardalan-sajedi"}, "reply_to_user": {"reputation": 482, "user_id": 10590445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5897024648b12a260172971fb46c20a?s=128&d=identicon&r=PG&f=1", "display_name": "Raghav Herugu", "link": "https://stackoverflow.com/users/10590445/raghav-herugu"}, "edited": false, "score": 0, "creation_date": 1541622566, "post_id": 53197266, "comment_id": 93283161, "body": "i say that :))))"}], "tags": [], "owner": {"reputation": 5, "user_id": 10232812, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pzt31CF6eMI/AAAAAAAAAAI/AAAAAAAAAHk/XA048aXX_JA/photo.jpg?sz=128", "display_name": "Ardalan Sajedi", "link": "https://stackoverflow.com/users/10232812/ardalan-sajedi"}, "is_accepted": false, "score": 0, "last_activity_date": 1541622220, "creation_date": 1541622220, "answer_id": 53197266, "question_id": 53197119, "link": "https://stackoverflow.com/questions/53197119/one-textfieldedit-text-in-java-calculator/53197266#53197266", "title": "One TextField(Edit Text) in java calculator", "body": "<p>you can use two variable and wait when user touch each operator like \"+\" \"-\" \"*\" you get the edit text value and save to first variable and clear that with <code>.setText(null)</code> and wait for second number and when click on \"=\" checked if first variable is not empty get the edit text and put to second variable </p>\n"}], "owner": {"reputation": 482, "user_id": 10590445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5897024648b12a260172971fb46c20a?s=128&d=identicon&r=PG&f=1", "display_name": "Raghav Herugu", "link": "https://stackoverflow.com/users/10590445/raghav-herugu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1541622220, "creation_date": 1541621599, "question_id": 53197119, "link": "https://stackoverflow.com/questions/53197119/one-textfieldedit-text-in-java-calculator", "title": "One TextField(Edit Text) in java calculator", "body": "<p>I have this calculator app that works perfectly fine, however, I have two text fields. Num1, and num2. I want to make it only num1, or only one edit text. I have no clue on how to do this, so I hope you guy's can help me. I am currently making this calculator app on android studio, and my acivity main layout is fine. I will include my java code(caution, it's a lot of code):</p>\n\n<pre><code>package com.example.lenovouser.calculator123;\n//IMPORT\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport android.widget.ToggleButton;\n\n\npublic class MainActivity extends AppCompatActivity {\n    // ASSIGNING THE NAMES OR VARIABLES\n    TextView result, textView8;\n    EditText number1, number2;\n    Button add,subtract,divide,multiply,squareroot,square,cube,clear,Exponent,percent,sind, cosd, tand;\nToggleButton switch2, switch3;\ndouble resultnum = 0.0;\nfloat num1 = 0, num2 = 0, num3 = 0, p = 0, e = 0;\n\nboolean radiant = false, degree = false;\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    //ASSIGNING THE VARIABLES TO THE ANDROID WIDGETS.\n    result = (TextView)findViewById(R.id.sum);\n    number1 = (EditText)findViewById(R.id.number1);\n    number2 = (EditText)findViewById(R.id.number2);\n    add = (Button)findViewById(R.id.button);\n    subtract = (Button)findViewById(R.id.button2);\n    multiply = (Button)findViewById(R.id.button3);\n    divide = (Button)findViewById(R.id.button4);\n    squareroot =(Button)findViewById(R.id.button6);\n    square = (Button)findViewById(R.id.button5);\n    clear = (Button)findViewById(R.id.button8);\n    Exponent = (Button)findViewById(R.id.button9);\n    percent = (Button)findViewById(R.id.button10);\n    sind = (Button)findViewById(R.id.button18);\n    cosd = (Button)findViewById(R.id.button19);\n    tand = (Button)findViewById(R.id.button20);\n    switch2 = (ToggleButton) findViewById(R.id.switch2);\n    switch3 = (ToggleButton) findViewById(R.id.switch3);\n    textView8 = (TextView)findViewById(R.id.textView8);\n    cube = (Button)findViewById(R.id.cube);\n\n    add.setOnClickListener(new View.OnClickListener() {\n\n        @Override\n        public void onClick(View v) {\n            //ADD\n\n            if (number1.getText().length() != 0) {\n                num1 = Float.parseFloat(number1.getText().toString());\n\n            }\n            if (number2.getText().length() != 0) {\n                num2 = Float.parseFloat(number2.getText().toString());\n            }\n\n\n            if (num1 == 0){\n                Toast.makeText(getApplicationContext(),\"Please enter a number\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            if (num2 == 0){\n                Toast.makeText(getApplicationContext(),\"Please enter a number\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            resultnum = num1 + num2;\n            result.setText(String.valueOf(resultnum));\n        }\n    });\n\n\n\n\n    subtract.setOnClickListener(new View.OnClickListener(){\n        //SUBTRACT\n        @Override\n        public void onClick(View v){\n\n            if (number1.getText().length() != 0)\n                num1 = Float.parseFloat(number1.getText().toString());\n            if (number2.getText().length() != 0)\n                num2 = Float.parseFloat(number2.getText().toString());\n\n            if (num1 == 0){\n                Toast.makeText(getApplicationContext(),\"Please enter a number\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            if (num2 == 0){\n                Toast.makeText(getApplicationContext(),\"Please enter a number\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n\n            resultnum = num1 - num2;\n            result.setText(String.valueOf(resultnum));\n        }\n    });\n\n\n\n\n    multiply.setOnClickListener(new View.OnClickListener(){\n        //MULTIPLY\n        @Override\n        public void onClick(View v){\n\n            if (number1.getText().length() != 0)\n                num1 = Float.parseFloat(number1.getText().toString());\n            if (number2.getText().length() != 0)\n                num2 = Float.parseFloat(number2.getText().toString());\n            if (num1 == 0){\n                Toast.makeText(getApplicationContext(),\"Please enter a number\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            if (num2 == 0){\n                Toast.makeText(getApplicationContext(),\"Please enter a number\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            resultnum = num1 * num2;\n            result.setText(String.valueOf(resultnum));\n        }\n    });\n\n\n\n\n\n    divide.setOnClickListener(new View.OnClickListener(){\n        //DIVIDE\n        @Override\n        public void onClick(View v){\n\n            if (number1.getText().length() != 0)\n                num1 = Float.parseFloat(number1.getText().toString());\n            if (number2.getText().length() != 0)\n                num2 = Float.parseFloat(number2.getText().toString());\n            if (num1 == 0){\n                Toast.makeText(getApplicationContext(),\"Please enter a number\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            if (num2 == 0){\n                Toast.makeText(getApplicationContext(),\"Please enter a number\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            resultnum = num1 / num2;\n            result.setText(String.valueOf(resultnum));\n        }\n    });\n\n\n    squareroot.setOnClickListener(new View.OnClickListener(){\n        //SQUAREROOT\n        @Override\n        public void onClick(View v){\n\n            if (number1.getText().length() != 0)\n                num1 = Float.parseFloat(number1.getText().toString());\n            if (number2.getText().length() != 0)\n                num2 = Float.parseFloat(number2.getText().toString());\n\n            if (num1 == 0){\n                Toast.makeText(getApplicationContext(),\"Please enter a number\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n\n\n\n            resultnum = (Math.sqrt(num1));\n            result.setText(String.valueOf(resultnum));\n        }\n    });\n\n\n    square.setOnClickListener(new View.OnClickListener(){\n        //SQUARE\n        @Override\n        public void onClick(View v){\n            if (number1.getText().length() != 0)\n                num1 = Float.parseFloat(number1.getText().toString());\n            if (number2.getText().length() != 0)\n                num2 = Float.parseFloat(number2.getText().toString());\n\n            if (num1 == 0){\n                Toast.makeText(getApplicationContext(),\"Please enter a number\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n\n\n\n            resultnum = num1*num1;\n            result.setText(String.valueOf(resultnum));\n        }\n    });\n\n\n    cube.setOnClickListener(new View.OnClickListener(){\n        //SQUARE\n        @Override\n        public void onClick(View v){\n\n            if (number1.getText().length() != 0)\n                num1 = Float.parseFloat(number1.getText().toString());\n            if (number2.getText().length() != 0)\n                num2 = Float.parseFloat(number2.getText().toString());\n\n            if (num1 == 0){\n                Toast.makeText(getApplicationContext(),\"Please enter a number\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n\n\n            resultnum = num1*num1*num1;\n            result.setText(String.valueOf(resultnum));\n        }\n    });\n\n\n    clear.setOnClickListener(new View.OnClickListener(){\n\n        @Override\n        public void onClick(View v){\n            //CLEAR\n            num1 = (0);\n            num2 = (0);\n            num3 = (0);\n            number1.setText(\"\");\n            number2.setText(\"\");\n            //txt.setText(\"\");\n            resultnum = 0;\n            result.setText(String.valueOf(resultnum));\n        }\n    });\n\n\n    Exponent.setOnClickListener(new View.OnClickListener(){\n\n        @Override\n        public void onClick(View v){\n\n            //EXPONENT\n\n            if (number1.getText().length() != 0) {\n                p = Float.parseFloat(number1.getText().toString());\n            }\n            if (number2.getText().length() != 0) {\n                e = Float.parseFloat(number2.getText().toString());\n            }\n            if (p == 0){\n                Toast.makeText(getApplicationContext(),\"Please enter a number\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n            if (e == 0){\n                Toast.makeText(getApplicationContext(),\"Please enter a number\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n            resultnum = (Math.pow(p, e));\n            p = 0;\n            e = 0;\n            result.setText(String.valueOf(resultnum));\n        }\n    });\n\n\n\n    percent.setOnClickListener(new View.OnClickListener(){\n\n        @Override\n        public void onClick(View v){\n\n            //PERCENT\n            if (number1.getText().length() != 0)\n                num1 = Float.parseFloat(number1.getText().toString());\n            if (number2.getText().length() != 0)\n                num2 = Float.parseFloat(number2.getText().toString());\n            if (num1 == 0){\n                Toast.makeText(getApplicationContext(),\"Please enter a number\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            if (num2 == 0){\n                Toast.makeText(getApplicationContext(),\"Please enter a number\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n            num1 = Float.parseFloat(number1.getText().toString());\n            num2 = Integer.parseInt(number2.getText().toString());\n            float resultnum = num1 * num2 / 100;\n            result.setText(String.valueOf(resultnum));\n        }\n    });\n\n\n\n\n    sind.setOnClickListener(new View.OnClickListener(){\n\n        @Override\n        public void onClick(View v){\n\n            //SIN num2\n            if (number1.getText().length() != 0)\n                num1 = Float.parseFloat(number1.getText().toString());\n            if (number2.getText().length() != 0)\n                num2 = Float.parseFloat(number2.getText().toString());\n            if (num1 == 0){\n                Toast.makeText(getApplicationContext(),\"Please enter a number\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n\n            if (degree = true)\n            {\n                num1 = Integer.parseInt(number1.getText().toString());\n                //num2 = Integer.parseInt(number2.getText().toString());\n                resultnum = Math.sin(Math.toDegrees(num1));\n                result.setText(String.valueOf(resultnum));\n            }\n\n            if (radiant = true){\n                num1 = Integer.parseInt(number1.getText().toString());\n                //num2 = Integer.parseInt(number2.getText().toString());\n                resultnum = Math.sin(Math.toRadians(num1));\n                result.setText(String.valueOf(resultnum));\n\n                if (degree = false)\n                {\n                    Toast.makeText(getApplicationContext(),\"Please choose degree or radiant\",Toast.LENGTH_SHORT).show();\n                    return;\n                }\n\n                if (radiant = false){\n                    Toast.makeText(getApplicationContext(),\"Please choose degree or radiant\",Toast.LENGTH_SHORT).show();\n                    return;\n                }\n            }\n        }\n    });\n\n\n    cosd.setOnClickListener(new View.OnClickListener(){\n\n        @Override\n        public void onClick(View v) {\n            if (number1.getText().length() != 0)\n                num1 = Float.parseFloat(number1.getText().toString());\n            if (number2.getText().length() != 0)\n                num2 = Float.parseFloat(number2.getText().toString());\n            if (num1 == 0){\n                Toast.makeText(getApplicationContext(),\"Please enter a number\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n\n            //COS num2\n            if (degree = true)\n            {\n                num1 = Integer.parseInt(number1.getText().toString());\n                // num2 = Integer.parseInt(number2.getText().toString());\n                resultnum = Math.cos(Math.toDegrees(num1));\n                result.setText(String.valueOf(resultnum));\n            }\n\n            if (radiant = true){\n                num1 = Integer.parseInt(number1.getText().toString());\n                //num2 = Integer.parseInt(number2.getText().toString());\n                resultnum = Math.cos(Math.toRadians(num1));\n                result.setText(String.valueOf(resultnum));\n\n            }\n\n            if (degree = false)\n            {\n                Toast.makeText(getApplicationContext(),\"Please choose degree or radiant\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            if (radiant = false){\n                Toast.makeText(getApplicationContext(),\"Please choose degree or radiant\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n        }\n\n    });\n\n\n    tand.setOnClickListener(new View.OnClickListener(){\n\n        @Override\n        public void onClick(View v){\n            if (number1.getText().length() != 0)\n                num1 = Float.parseFloat(number1.getText().toString());\n            if (number2.getText().length() != 0)\n                num2 = Float.parseFloat(number2.getText().toString());\n\n            //TAN num2\n            if (num1 == 0){\n                Toast.makeText(getApplicationContext(),\"Please enter a number\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n\n            if (degree =true)\n            {\n                num1 = Integer.parseInt(number1.getText().toString());\n                //num2 = Integer.parseInt(number2.getText().toString());\n                resultnum = Math.tan(Math.toDegrees(num1));\n                result.setText(String.valueOf(resultnum));\n            }\n\n            if (radiant=true){\n                num1 = Integer.parseInt(number1.getText().toString());\n                // num2 = Integer.parseInt(number2.getText().toString());\n                resultnum = Math.tan(Math.toRadians(num1));\n                result.setText(String.valueOf(resultnum));\n\n            }\n\n\n\n            if (degree=false)\n            {\n                Toast.makeText(getApplicationContext(),\"Please choose degree or radiant\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            if (radiant = false){\n                Toast.makeText(getApplicationContext(),\"Please choose degree or radiant\",Toast.LENGTH_SHORT).show();\n                return;\n            }\n        }\n    });\n\n\n    switch2.setOnClickListener(new View.OnClickListener(){\n\n        @Override\n        public void onClick(View v){\n\n            //switchR\n            radiant = true;\n            degree = false;\n\n            textView8.setText((\"Radians MODE\"));\n        }\n    });\n\n    switch3.setOnClickListener(new View.OnClickListener(){\n\n        @Override\n        public void onClick(View v){\n\n            //switchD\n            degree = true;\n            radiant = false;\n            textView8.setText((\"Degree MODE\"));\n        }\n    });\n\n\n}}\n</code></pre>\n"}, {"tags": ["java", "android"], "answers": [{"tags": [], "owner": {"reputation": 653, "user_id": 10261731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80e089a67dcafde373ee26d0b56175dd?s=128&d=identicon&r=PG&f=1", "display_name": "Stanislav Mukhametshin", "link": "https://stackoverflow.com/users/10261731/stanislav-mukhametshin"}, "is_accepted": false, "score": 4, "last_activity_date": 1541622342, "creation_date": 1541622342, "answer_id": 53197295, "question_id": 53197110, "link": "https://stackoverflow.com/questions/53197110/how-set-animation-end-listener-for-animatorset/53197295#53197295", "title": "how set animation end listener for AnimatorSet", "body": "<p>Try this</p>\n\n<pre><code>    animatorSet.addListener(new AnimatorListenerAdapter() {\n        @Override\n        public void onAnimationEnd(Animator animation) {\n            super.onAnimationEnd(animation);\n        }\n    });\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 8967642, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LmgCvb5fiLQ/AAAAAAAAAAI/AAAAAAAAAYo/P8PX7DAVr-0/photo.jpg?sz=128", "display_name": "Amin Shabanzadeh", "link": "https://stackoverflow.com/users/8967642/amin-shabanzadeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 647, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1541622342, "creation_date": 1541621563, "question_id": 53197110, "link": "https://stackoverflow.com/questions/53197110/how-set-animation-end-listener-for-animatorset", "title": "how set animation end listener for AnimatorSet", "body": "<p>we want set end listener in below method:</p>\n\n<pre><code> private void animation1() {\n        ObjectAnimator scaleXAnimation = ObjectAnimator.ofFloat(mLogo, \"scaleX\", 5.0F, 1.0F);\n        scaleXAnimation.setInterpolator(new AccelerateDecelerateInterpolator());\n        scaleXAnimation.setDuration(1200);\n        ObjectAnimator scaleYAnimation = ObjectAnimator.ofFloat(mLogo, \"scaleY\", 5.0F, 1.0F);\n        scaleYAnimation.setInterpolator(new AccelerateDecelerateInterpolator());\n        scaleYAnimation.setDuration(1200);\n        ObjectAnimator alphaAnimation = ObjectAnimator.ofFloat(mLogo, \"alpha\", 0.0F, 1.0F);\n        alphaAnimation.setInterpolator(new AccelerateDecelerateInterpolator());\n        alphaAnimation.setDuration(1200);\n        AnimatorSet animatorSet = new AnimatorSet();\n        animatorSet.play(scaleXAnimation).with(scaleYAnimation).with(alphaAnimation);\n        animatorSet.setStartDelay(500);\n        animatorSet.start();\n    }\n</code></pre>\n\n<p>how can we do something after this animation be end?</p>\n"}, {"tags": ["java", "spring", "spring-webflux", "reactive"], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 3333810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/60IVg.png?s=128&g=1", "display_name": "joliva", "link": "https://stackoverflow.com/users/3333810/joliva"}, "edited": false, "score": 0, "creation_date": 1541681850, "post_id": 53199186, "comment_id": 93304349, "body": "Thanks Selim, just a quick question, if a create different webclients for different &quot;host&quot; this will automatically share the underlaying netty resources? i mean, the event loop and threads, or this will create a new one for this webclient?"}, {"owner": {"reputation": 1001, "user_id": 954602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88b7173692dc35314894fb8af0adf937?s=128&d=identicon&r=PG", "display_name": "Selim Ok", "link": "https://stackoverflow.com/users/954602/selim-ok"}, "reply_to_user": {"reputation": 161, "user_id": 3333810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/60IVg.png?s=128&g=1", "display_name": "joliva", "link": "https://stackoverflow.com/users/3333810/joliva"}, "edited": false, "score": 0, "creation_date": 1541682511, "post_id": 53199186, "comment_id": 93304701, "body": "According to documentation if you use WebClient.Builder to create WebClient instances spring boot uses the same ClientHttpConnector for each one. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-webclient.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a> &quot;Spring Boot creates and pre-configures a WebClient.Builder for you; it is strongly advised to inject it in your components and use it to create WebClient instances. Spring Boot is configuring that builder to share HTTP resources,&quot;"}], "tags": [], "owner": {"reputation": 1001, "user_id": 954602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88b7173692dc35314894fb8af0adf937?s=128&d=identicon&r=PG", "display_name": "Selim Ok", "link": "https://stackoverflow.com/users/954602/selim-ok"}, "is_accepted": false, "score": 2, "last_activity_date": 1541631526, "creation_date": 1541631526, "answer_id": 53199186, "question_id": 53197085, "link": "https://stackoverflow.com/questions/53197085/spring-webclient-how-many-instances/53199186#53199186", "title": "Spring webclient, how many instances?", "body": "<p>Since WebClient instances are immutable you have no other option than to create for different API's different WebClient's using its built-in builders. </p>\n\n<p>You can copy existing WebClient configurations using mutate() method or create a bare new instance.</p>\n\n<p>See also <a href=\"https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/web-reactive.html#webflux-client\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/web-reactive.html#webflux-client</a> and <a href=\"https://stackoverflow.com/questions/49095366/right-way-to-use-spring-webclient-in-multi-thread-environment\">Right way to use Spring WebClient in multi-thread environment</a></p>\n"}], "owner": {"reputation": 161, "user_id": 3333810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/60IVg.png?s=128&g=1", "display_name": "joliva", "link": "https://stackoverflow.com/users/3333810/joliva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2386, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1541631526, "creation_date": 1541621461, "question_id": 53197085, "link": "https://stackoverflow.com/questions/53197085/spring-webclient-how-many-instances", "title": "Spring webclient, how many instances?", "body": "<p>I have read in the spring documentation <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-concurrency-model\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-concurrency-model</a> that when using reactor netty for client and server the event loop resources are shared, thats mean that when i create more than one instance of webclient the event loop resources also are shared? \nIf i want to communicate with different APIs from my code should i create multiple Webclient instances or should i share the same instance? </p>\n"}, {"tags": ["java", "android", "android-fragments", "android-viewpager", "tabview"], "comments": [{"owner": {"reputation": 9086, "user_id": 1176870, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Zpacy.jpg?s=128&g=1", "display_name": "Chris Stillwell", "link": "https://stackoverflow.com/users/1176870/chris-stillwell"}, "edited": false, "score": 1, "creation_date": 1541621823, "post_id": 53197062, "comment_id": 93282841, "body": "Your question is really broad, but I&#39;m thinking this would best be implemented using a RecyclerView for your tabs. It would be a lot less resource intensive than a ViewPager since all you would have to do is update your CheckBox items based on the item selected in your RecylerView and not reloading your view by &quot;paging&quot; to it."}, {"owner": {"reputation": 214, "user_id": 10406788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49155bc896d875af2907325786dfb63e?s=128&d=identicon&r=PG&f=1", "display_name": "Jan Meyer", "link": "https://stackoverflow.com/users/10406788/jan-meyer"}, "reply_to_user": {"reputation": 9086, "user_id": 1176870, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Zpacy.jpg?s=128&g=1", "display_name": "Chris Stillwell", "link": "https://stackoverflow.com/users/1176870/chris-stillwell"}, "edited": false, "score": 0, "creation_date": 1541847727, "post_id": 53197062, "comment_id": 93362564, "body": "But how can I get a slide animation without viewpager?"}], "owner": {"reputation": 214, "user_id": 10406788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49155bc896d875af2907325786dfb63e?s=128&d=identicon&r=PG&f=1", "display_name": "Jan Meyer", "link": "https://stackoverflow.com/users/10406788/jan-meyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541621310, "creation_date": 1541621310, "question_id": 53197062, "link": "https://stackoverflow.com/questions/53197062/how-to-implement-a-endless-viewpager", "title": "How to implement a endless ViewPager?", "body": "<p><strong>My app</strong><br>\nMy App shows a ListView with CheckBoxes in each row. The CheckBoxes are saved for each day. Buttons are used to navigate between the different days.     </p>\n\n<p><strong>The Problem</strong><br>\nI want a slideable TabView instead. I tried to use ViewPager, but I don\u00b4t know how to implement it the right way. The problem is that I need tabs for the days between year 2000 and now. How can I achieve this?    </p>\n\n<p><strong>This is how the app should look like</strong>\n<a href=\"https://i.stack.imgur.com/EJfpz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EJfpz.png\" alt=\"This is how my app should look like\"></a></p>\n"}, {"tags": ["java", "web-services", "restful-authentication"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 2966853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bd51444f26c81e13542fd24fa724199?s=128&d=identicon&r=PG&f=1", "display_name": "user2966853", "link": "https://stackoverflow.com/users/2966853/user2966853"}, "edited": false, "score": 0, "creation_date": 1541622949, "post_id": 53197157, "comment_id": 93283303, "body": "I do not want to include at all, the corresponding @Query parameter in the next query I want to make. it is as if not exists the specific value of parameter and not it has a default parameter.. Is it possible that?"}, {"owner": {"reputation": 28727, "user_id": 9959152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSjIJ.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/9959152/deadpool"}, "reply_to_user": {"reputation": 31, "user_id": 2966853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bd51444f26c81e13542fd24fa724199?s=128&d=identicon&r=PG&f=1", "display_name": "user2966853", "link": "https://stackoverflow.com/users/2966853/user2966853"}, "edited": false, "score": 0, "creation_date": 1541623535, "post_id": 53197157, "comment_id": 93283567, "body": "if i understand correctly, you want to do <code>GET</code> call without some <code>@query</code> parameters (even though in the controller method you have them) right? yes if this is the case it will work, and the parameters which you don&#39;t include in query will set to <code>null</code> by default"}, {"owner": {"reputation": 31, "user_id": 2966853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bd51444f26c81e13542fd24fa724199?s=128&d=identicon&r=PG&f=1", "display_name": "user2966853", "link": "https://stackoverflow.com/users/2966853/user2966853"}, "edited": false, "score": 0, "creation_date": 1541623575, "post_id": 53197157, "comment_id": 93283586, "body": "if i send values to all the Query parameters, after i make a query for all of them.. Now If some of them stay null because i didn&#39;t send a value, i want to exclude them from the next query, and not give them a default value. Like the null parameter not exists"}, {"owner": {"reputation": 28727, "user_id": 9959152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSjIJ.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/9959152/deadpool"}, "reply_to_user": {"reputation": 31, "user_id": 2966853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bd51444f26c81e13542fd24fa724199?s=128&d=identicon&r=PG&f=1", "display_name": "user2966853", "link": "https://stackoverflow.com/users/2966853/user2966853"}, "edited": false, "score": 0, "creation_date": 1541623811, "post_id": 53197157, "comment_id": 93283722, "body": "ya it will work, give a try without parameters and do <code>sysout</code> inside method"}], "tags": [], "owner": {"reputation": 28727, "user_id": 9959152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSjIJ.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/9959152/deadpool"}, "is_accepted": true, "score": 1, "last_activity_date": 1541622624, "last_edit_date": 1541622624, "creation_date": 1541621769, "answer_id": 53197157, "question_id": 53197018, "link": "https://stackoverflow.com/questions/53197018/ignore-optional-query-parameters/53197157#53197157", "title": "ignore optional @Query parameters", "body": "<p>In JAX-RS parameters are not mandatory, if you don't send value to parameters the default value will be <code>null</code>, you can also use <code>@DefaultValue</code> annotation to provide default value.</p>\n\n<p>Use can also use spring frame work <code>@RequestParam</code> and you can specify <code>required=false</code> so which is optional\n<a href=\"https://stackoverflow.com/questions/12296642/is-it-possible-to-have-empty-requestparam-values-use-the-defaultvalue\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 3333810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/60IVg.png?s=128&g=1", "display_name": "joliva", "link": "https://stackoverflow.com/users/3333810/joliva"}, "is_accepted": false, "score": 0, "last_activity_date": 1541621798, "creation_date": 1541621798, "answer_id": 53197164, "question_id": 53197018, "link": "https://stackoverflow.com/questions/53197018/ignore-optional-query-parameters/53197164#53197164", "title": "ignore optional @Query parameters", "body": "<p>You could use @DefaultValue so if the param is not filled you get the default value</p>\n\n<p><a href=\"https://www.mkyong.com/webservices/jax-rs/jax-rs-queryparam-example/\" rel=\"nofollow noreferrer\">https://www.mkyong.com/webservices/jax-rs/jax-rs-queryparam-example/</a> </p>\n"}], "owner": {"reputation": 31, "user_id": 2966853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bd51444f26c81e13542fd24fa724199?s=128&d=identicon&r=PG&f=1", "display_name": "user2966853", "link": "https://stackoverflow.com/users/2966853/user2966853"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2040, "favorite_count": 0, "accepted_answer_id": 53197157, "answer_count": 2, "score": 0, "last_activity_date": 1541623047, "creation_date": 1541621119, "last_edit_date": 1541623047, "question_id": 53197018, "link": "https://stackoverflow.com/questions/53197018/ignore-optional-query-parameters", "title": "ignore optional @Query parameters", "body": "<p>Is there a possibility to ignore some of the optional <code>@Query</code> parameters dynamic if the corresponding value is not declared?</p>\n\n<pre><code>@Path(\"/users\")\npublic class Services {\n\n@GET\n@Path(\"/get\")\npublic Response getUsers(\n    @QueryParam(\"from\") int from,\n    @QueryParam(\"to\") int to,\n    @QueryParam(\"age\") int age,\n    @QueryParam(\"name\") String name\n    @QueryParam(\"username\") String username) \n</code></pre>\n"}, {"tags": ["java", "spring", "spring-boot"], "comments": [{"owner": {"reputation": 401, "user_id": 2905072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2Hmc.jpg?s=128&g=1", "display_name": "moonlighter", "link": "https://stackoverflow.com/users/2905072/moonlighter"}, "edited": false, "score": 1, "creation_date": 1541621099, "post_id": 53196979, "comment_id": 93282490, "body": "use equals not == when comparing strings.. if(&quot;host&quot;.equals(user.getRole()))"}, {"owner": {"reputation": 13, "user_id": 8677936, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lsQDAcim9Sk/AAAAAAAAAAI/AAAAAAAAAAs/gqYa8sHBHTc/photo.jpg?sz=128", "display_name": "Patrick Kilpatrick", "link": "https://stackoverflow.com/users/8677936/patrick-kilpatrick"}, "edited": false, "score": 0, "creation_date": 1541621171, "post_id": 53196979, "comment_id": 93282532, "body": "Yep. That was it. Thank you! I keep forgetting about .equals()!"}], "owner": {"reputation": 13, "user_id": 8677936, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lsQDAcim9Sk/AAAAAAAAAAI/AAAAAAAAAAs/gqYa8sHBHTc/photo.jpg?sz=128", "display_name": "Patrick Kilpatrick", "link": "https://stackoverflow.com/users/8677936/patrick-kilpatrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "closed_date": 1541621209, "answer_count": 0, "score": 0, "last_activity_date": 1541620962, "creation_date": 1541620962, "question_id": 53196979, "link": "https://stackoverflow.com/questions/53196979/two-identical-strings-are-not-matching", "closed_reason": "Duplicate", "title": "Two identical strings are not matching", "body": "<p>I am relatively new to Java and have had the same issue on two projects in a row. In my controller I am comparing two strings using an if statement. If the strings match one set of logic is run and if the strings don't match a second set of logic is run. The first string is being pulled from a form using @ModelAttribute. I have two strings that clearly match but the proper logic isn't being performed and I'm confused.</p>\n\n<p>Here is my form:</p>\n\n<pre><code>&lt;form:form method=\"POST\" action=\"/registration\" modelAttribute=\"user\"&gt;\n                    &lt;p&gt;\n                        &lt;form:label path=\"firstName\"&gt;First Name:&lt;/form:label&gt;\n                        &lt;form:input class=\"floatRight\" path=\"firstName\"/&gt;\n                    &lt;/p&gt;\n                    &lt;p&gt;\n                        &lt;form:label path=\"lastName\"&gt;Last Name:&lt;/form:label&gt;\n                        &lt;form:input class=\"floatRight\" path=\"lastName\"/&gt;\n                    &lt;/p&gt;\n                    &lt;p&gt;\n                        &lt;form:label path=\"username\"&gt;Email:&lt;/form:label&gt;\n                        &lt;form:input class=\"floatRight\" path=\"username\"/&gt;\n                    &lt;/p&gt;\n                    &lt;p&gt;\n                        &lt;form:label path=\"password\"&gt;Password:&lt;/form:label&gt;\n                        &lt;form:password class=\"floatRight\" path=\"password\"/&gt;\n                    &lt;/p&gt;\n                    &lt;p&gt;\n                        &lt;form:label path=\"passwordConfirmation\"&gt;Password Confirmation:&lt;/form:label&gt;\n                        &lt;form:password class=\"floatRight\" path=\"passwordConfirmation\"/&gt;\n                    &lt;/p&gt;\n                    &lt;p&gt;\n                        &lt;form:select path=\"role\"&gt;\n                            &lt;form:option value=\"host\" label=\"Host\"/&gt;\n                            &lt;form:option value=\"guest\" label=\"Guest\"/&gt;\n                        &lt;/form:select&gt;\n                    &lt;/p&gt;\n                    &lt;input class=\"floatRight\" type=\"submit\" value=\"Register\"/&gt;\n                &lt;/form:form&gt;\n</code></pre>\n\n<p>The value I'm grabbing that is relevant to my question is the form:select with the values of either \"host\" or \"guest\".</p>\n\n<p>Here is my controller:</p>\n\n<pre><code>@RequestMapping(value=\"/registration\", method=RequestMethod.POST)\npublic String registration(@Valid @ModelAttribute(\"user\") User user, BindingResult result, Model model, HttpSession session) {\n    userValidator.validate(user, result);\n    if(result.hasErrors() ) {\n        return \"/main/loginReg.jsp\";\n    } else {\n        if(user.getRole() == \"host\") {\n            System.out.println(\"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\");\n            System.out.println(\"host \" + user.getRole());\n            System.out.println(\"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\");\n            userService.createHostUser(user);\n            model.addAttribute(\"registered\", \"You have successfully registered your account! Please log in.\");\n            return \"/main/loginReg.jsp\";\n        } else {\n            System.out.println(\"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\");\n            System.out.println(\"guest \" + user.getRole());\n            System.out.println(\"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\");\n            userService.createGuestUser(user);\n            model.addAttribute(\"registered\", \"You have successfully registered your account! Please log in.\");\n            return \"/main/loginReg.jsp\";\n        }\n    }\n}\n</code></pre>\n\n<p>When I create a new user via the form, the else statement is activated even when I use the \"host\" select on the form. I know the data is being transferred properly and that the else statement is activating because the System.out is printing \"guest host\". And my user is being created properly, albeit with the incorrect role.</p>\n\n<p>Can anyone explian why the user.getRole() is giving me \"host\" but it doesn't match the string \"host\"? I sincerely appreciate any insight!</p>\n"}, {"tags": ["java", "spring", "spring-webflow"], "answers": [{"tags": [], "owner": {"reputation": 4699, "user_id": 796761, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5753a5c71aa5ab839635f6852c04c3ae?s=128&d=identicon&r=PG", "display_name": "dbreaux", "link": "https://stackoverflow.com/users/796761/dbreaux"}, "is_accepted": false, "score": 1, "last_activity_date": 1542856156, "creation_date": 1542856156, "answer_id": 53423316, "question_id": 53196940, "link": "https://stackoverflow.com/questions/53196940/spring-webflow-error-on-spring-context-xml-file/53423316#53423316", "title": "Spring Webflow - error on spring-context.xml file", "body": "<p>Replace the <code>schemaLocation</code> URL with this newer one::</p>\n\n<pre><code>http://www.springframework.org/schema/webflow-config/spring-webflow-config.xsd\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 9457646, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tka6p.png?s=128&g=1", "display_name": "Diogo A.", "link": "https://stackoverflow.com/users/9457646/diogo-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 430, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1542856156, "creation_date": 1541620834, "question_id": 53196940, "link": "https://stackoverflow.com/questions/53196940/spring-webflow-error-on-spring-context-xml-file", "title": "Spring Webflow - error on spring-context.xml file", "body": "<p>I have a project using Spring Webflow and I am getting an error on spring-context.xml file.</p>\n\n<p>Error: </p>\n\n<p>cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element 'webflow:flow-executor'.   spring-context.xml  /GestaoAcademicaWeb/WebContent/WEB-INF  line 76 XML</p>\n\n<p>cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element 'webflow:flow-registry'.   spring-context.xml  /GestaoAcademicaWeb/WebContent/WEB-INF  line 78 XML</p>\n\n<p>My attempts to fix the issue on lines 76 and 78 caused other errors to happen. Any guess of what is wrong on this file?</p>\n\n<p>This is the spring-context.xml file.</p>\n\n<pre><code>   &lt;?xml  version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:aop=\"http://www.springframework.org/schema/aop\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:jee=\"http://www.springframework.org/schema/jee\"\n    xmlns:lang=\"http://www.springframework.org/schema/lang\"\n    xmlns:p=\"http://www.springframework.org/schema/p\"\n    xmlns:tx=\"http://www.springframework.org/schema/tx\"\n    xmlns:util=\"http://www.springframework.org/schema/util\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n    xmlns:webflow=\"http://www.springframework.org/schema/webflow-config\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans \n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/aop \n        http://www.springframework.org/schema/aop/spring-aop.xsd\n        http://www.springframework.org/schema/context \n        http://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/jee \n        http://www.springframework.org/schema/jee/spring-jee.xsd\n        http://www.springframework.org/schema/lang \n        http://www.springframework.org/schema/lang/spring-lang.xsd\n        http://www.springframework.org/schema/tx \n        http://www.springframework.org/schema/tx/spring-tx.xsd\n        http://www.springframework.org/schema/util \n        http://www.springframework.org/schema/util/spring-util.xsd\n        http://www.springframework.org/schema/mvc\n        http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\n        http://www.springframework.org/schema/webflow-config\n        http://www.springframework.org/schema/webflow-config/spring-webflow-config-2.0.xsd\"&gt;\n\n    &lt;context:annotation-config /&gt;\n    &lt;context:component-scan\n        base-package=\"br.com.devmedia.gestaoacademicaweb\" /&gt;\n\n\n    &lt;bean id=\"jspViewResolver\"\n        class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;property name=\"viewClass\"\n            value=\"org.springframework.web.servlet.view.JstlView\" /&gt;\n        &lt;property name=\"prefix\" value=\"/WEB-INF/views/\" /&gt;\n        &lt;property name=\"suffix\" value=\".jsp\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"propertyConfigurer\"\n        class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"\n        p:location=\"/WEB-INF/jdbc.properties\" /&gt;\n\n    &lt;bean id=\"dataSource\"\n        class=\"org.apache.commons.dbcp.BasicDataSource\" destroy-method=\"close\"\n        p:driverClassName=\"${jdbc.driverClassName}\"\n        p:url=\"${jdbc.databaseurl}\" p:username=\"${jdbc.username}\"\n        p:password=\"${jdbc.password}\" /&gt;\n\n    &lt;bean id=\"sessionFactory\"\n        class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n        &lt;property name=\"configLocation\"&gt;\n            &lt;value&gt;classpath:hibernate.cfg.xml&lt;/value&gt;\n        &lt;/property&gt;\n\n        &lt;property name=\"hibernateProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"hibernate.dialect\"&gt;${jdbc.dialect}&lt;/prop&gt;\n                &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;tx:annotation-driven /&gt;\n    &lt;bean id=\"transactionManager\"\n        class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"&gt;\n        &lt;property name=\"sessionFactory\" ref=\"sessionFactory\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;webflow:flow-executor id=\"flowExecutor\" /&gt;\n\n    &lt;webflow:flow-registry id=\"flowRegistry\"&gt;\n        &lt;webflow:flow-location\n            path=\"/WEB-INF/flows/inserirDocente.xml\" id=\"inserirDocente\" /&gt;\n    &lt;/webflow:flow-registry&gt;\n\n    &lt;bean\n        class=\"org.springframework.webflow.mvc.servlet.FlowHandlerMapping\"&gt;\n        &lt;property name=\"flowRegistry\" ref=\"flowRegistry\" /&gt;\n        &lt;property name=\"order\" value=\"0\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean\n        class=\"org.springframework.webflow.mvc.servlet.FlowHandlerAdapter\"&gt;\n        &lt;property name=\"flowExecutor\" ref=\"flowExecutor\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean name=\"docenteController\"\n        class=\"br.com.devmedia.gestaoacademicaweb.control.DocenteController\" /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n"}, {"tags": ["java", "web-scraping", "concurrency", "jsoup"], "answers": [{"comments": [{"owner": {"reputation": 68, "user_id": 10496332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/143fa2236c68365b9a89b4babb63434e?s=128&d=identicon&r=PG&f=1", "display_name": "P.Raber", "link": "https://stackoverflow.com/users/10496332/p-raber"}, "edited": false, "score": 0, "creation_date": 1541770358, "post_id": 53212056, "comment_id": 93340136, "body": "Hey, thanks for the inspiration. It helped me solving the problem :)"}, {"owner": {"reputation": 403, "user_id": 9705070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KiPKG.jpg?s=128&g=1", "display_name": "alvarobartt", "link": "https://stackoverflow.com/users/9705070/alvarobartt"}, "reply_to_user": {"reputation": 68, "user_id": 10496332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/143fa2236c68365b9a89b4babb63434e?s=128&d=identicon&r=PG&f=1", "display_name": "P.Raber", "link": "https://stackoverflow.com/users/10496332/p-raber"}, "edited": false, "score": 0, "creation_date": 1541775899, "post_id": 53212056, "comment_id": 93343164, "body": "@P.Raber no problem! upvote if you found it useful! +1"}], "tags": [], "owner": {"reputation": 403, "user_id": 9705070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KiPKG.jpg?s=128&g=1", "display_name": "alvarobartt", "link": "https://stackoverflow.com/users/9705070/alvarobartt"}, "is_accepted": true, "score": 2, "last_activity_date": 1541694633, "creation_date": 1541694633, "answer_id": 53212056, "question_id": 53196886, "link": "https://stackoverflow.com/questions/53196886/concurrency-for-recursive-webcrawler-algorithm-in-java/53212056#53212056", "title": "Concurrency for recursive webcrawler-algorithm in Java", "body": "<p>To use threads and also keep the sets consistent, you just need to create a thread that receives the variable you want to add to the Set but created empty, so the thread fills it when done and then adds it to the Set.</p>\n\n<p>A simple example of that could be:</p>\n\n<ul>\n<li><p>Main.class</p>\n\n<pre><code>for (String link : links) {\n    String validUrl = null;\n    taskThread = new Thread( new WebDownloadThreadHanlder(link, validUrl, barrier));\n    taskThread.start();\n\n    if (validUrl != null) {\n        allUrlsOfDomain.add(validUrl);\n    }\n}\n\nbarrier.acquireUninterruptibly(links.size());\n</code></pre></li>\n<li><p>WebDownloadThreadHandler.class</p>\n\n<pre><code>public class WebDownloadThreadHandler implements Runnable {\n        private String link;\n        private String validUrl;\n        private Semaphore barrier;\n\n        public ScopusThreadHandler(String link, String validUrl, Semaphore barrier) {\n            this.link = link;\n            this.validUrl = null;\n            this.barrier = barrier;\n        }\n\n        public void run () {\n            try {\n                Document document = Jsoup.connect(this.link).userAgent(\"Mozilla/5.0\");\n                Elements elements = document.select(YOUR CSS QUERY);\n\n                /*\n                YOUR JSOUP CODE GOES HERE, AND STORE THE VALID URL IN: this.validUrl = THE VALUE YOU GET;\n                */\n\n            } catch (IOException) {\n                e.printStackTrace();\n            }\n\n            this.barrier.release();\n      }\n}\n</code></pre></li>\n</ul>\n\n<p>What you are doing here is creating a thread for every web you want to get all the links from, and storing them into variables, if you want to retrieve more than one lvalid link from every page, you can do it using a Set and adding it a to a global set (appending it). The thing is that to keep your code consistent you need to store the retrieved values in the variable you pass the thread as argument using <strong>THIS</strong> keyword.</p>\n\n<p>Hope it helps! If you need anything else feel free to ask me!</p>\n"}], "owner": {"reputation": 68, "user_id": 10496332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/143fa2236c68365b9a89b4babb63434e?s=128&d=identicon&r=PG&f=1", "display_name": "P.Raber", "link": "https://stackoverflow.com/users/10496332/p-raber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 53212056, "answer_count": 1, "score": -1, "last_activity_date": 1541694633, "creation_date": 1541620625, "question_id": 53196886, "link": "https://stackoverflow.com/questions/53196886/concurrency-for-recursive-webcrawler-algorithm-in-java", "title": "Concurrency for recursive webcrawler-algorithm in Java", "body": "<p>I wrote a program in Java to find all pages of a website, starting with the URL of the startpage (using Jsoup as webcrawler). It is ok for small websites but too slow for sites with 200 or more pages:</p>\n\n<pre><code>public class SiteInspector {\n\nprivate ObservableSet&lt;String&gt; allUrlsOfDomain; // all URLS found for site\nprivate Set&lt;String&gt; toVisit; // pages that were found but not visited yet\nprivate Set&lt;String&gt; visited; // URLS that were visited\nprivate List&lt;String&gt; invalid; // broken URLs\n\npublic SiteInspector() {...}\n\npublic void getAllWebPagesOfSite(String entry) //entry must be startpage of a site\n{\n    toVisit.add(entry);\n    allUrlsOfDomain.add(entry);\n    while(!toVisit.isEmpty())\n    {\n        String next = popElement(toVisit);\n        getAllLinksOfPage(next);  //expensive\n        toVisit.remove(next);\n    }\n}\n\n\npublic void getAllLinksOfPage(String pageURL) {\n    try {\n\n        if (urlIsValid(pageURL)) {\n            visited.add(pageURL);\n            Document document = Jsoup.connect(pageURL).get();  //connect to pageURL (expensive network operation)\n            Elements links = document.select(\"a\");             //get all links from page \n            for(Element link : links)\n            {\n                String nextUrl = link.attr(\"abs:href\");            // \"http://...\"\n                if(nextUrl.contains(new URL(pageURL).getHost()))  //ignore URLs to external hosts\n                {\n                    if(!isForbiddenForCrawlers(nextUrl))           // URLS forbidden by robots.txt\n                    {\n                        if(!visited.contains(nextUrl))\n                        {\n                            toVisit.add(nextUrl);\n                        }\n                    }\n                    allUrlsOfDomain.add(nextUrl);\n                }\n            }\n        } \n        else\n        {\n            invalid.add(pageURL); //URL-validation fails\n        }\n    } \n    catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\nprivate boolean isForbiddenForCrawlers(String url){...}\nprivate boolean urlIsValid(String url) {...}\npublic String popElement(Set&lt;String&gt; set) {...}\n</code></pre>\n\n<p>I know I have to run the expensive network-operation in extra threads.</p>\n\n<pre><code>Document document = Jsoup.connect(pageURL).get();  //connect to pageURL\n</code></pre>\n\n<p>My problem is that I have no idea how to properly outsource this operation while keeping the sets consistent (how to synchronize?). If possible I want to use a <a href=\"https://docs.oracle.com/javase/7/docs/api/\" rel=\"nofollow noreferrer\">ThreadPoolExecutor</a> to control the amount of threads that is getting started during the process. Do you guys have an idea how to solve this? Thanks in advance.</p>\n"}, {"tags": ["java", "unit-testing", "mockito"], "answers": [{"comments": [{"owner": {"reputation": 158, "user_id": 8003571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bed8ceb422f3d2b981fc7bdb8f16cafc?s=128&d=identicon&r=PG", "display_name": "Vadim Cote", "link": "https://stackoverflow.com/users/8003571/vadim-cote"}, "edited": false, "score": 0, "creation_date": 1541621251, "post_id": 53196975, "comment_id": 93282567, "body": "Yes a typo sorry. Maybe matchers will do it."}, {"owner": {"reputation": 492, "user_id": 10070933, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pW3mHEay_uw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p0bY2ESI63Xj5Ig4b160TFcn5KwA/mo/photo.jpg?sz=128", "display_name": "Jeff Brower", "link": "https://stackoverflow.com/users/10070933/jeff-brower"}, "reply_to_user": {"reputation": 158, "user_id": 8003571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bed8ceb422f3d2b981fc7bdb8f16cafc?s=128&d=identicon&r=PG", "display_name": "Vadim Cote", "link": "https://stackoverflow.com/users/8003571/vadim-cote"}, "edited": false, "score": 0, "creation_date": 1541621539, "post_id": 53196975, "comment_id": 93282711, "body": "Glad I could help! :)"}], "tags": [], "owner": {"reputation": 492, "user_id": 10070933, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pW3mHEay_uw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p0bY2ESI63Xj5Ig4b160TFcn5KwA/mo/photo.jpg?sz=128", "display_name": "Jeff Brower", "link": "https://stackoverflow.com/users/10070933/jeff-brower"}, "is_accepted": true, "score": 3, "last_activity_date": 1541620941, "creation_date": 1541620941, "answer_id": 53196975, "question_id": 53196851, "link": "https://stackoverflow.com/questions/53196851/unit-testing-method-with-method-reference-as-parameter/53196975#53196975", "title": "Unit testing method with method reference as parameter", "body": "<p>With mockito, you need to make sure that the method you pass into your <code>when</code> statement is the same that is passed in by the actual method. Based on your example, you are using <code>UserCredentials::getAccountId</code> and <code>UserCredentials::accountId</code> (possibly a typo).</p>\n\n<p>You may want to consider using different argument matchers instead:</p>\n\n<pre><code>import static org.mockito.ArgumentMatchers.*;\n\nwhen(userCredentialsUtil.userCredentialsGetter(eq(userCredentials), any()).thenReturn(accountIds);\n</code></pre>\n"}], "owner": {"reputation": 158, "user_id": 8003571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bed8ceb422f3d2b981fc7bdb8f16cafc?s=128&d=identicon&r=PG", "display_name": "Vadim Cote", "link": "https://stackoverflow.com/users/8003571/vadim-cote"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1338, "favorite_count": 0, "accepted_answer_id": 53196975, "answer_count": 1, "score": 0, "last_activity_date": 1541621139, "creation_date": 1541620494, "last_edit_date": 1541621139, "question_id": 53196851, "link": "https://stackoverflow.com/questions/53196851/unit-testing-method-with-method-reference-as-parameter", "title": "Unit testing method with method reference as parameter", "body": "<p>I have a method that takes as parameter an object and a method reference to that object to collect the integers in a collection from that object. The code works fine but I am unable to unit test with mockito on the when() method.</p>\n\n<pre><code>public class UserCredentials {\n\n  private Integer accountId;\n\n  private Integer customerNameId;\n}\n\npublic class UserCredentialsUtil {\n\n  public List&lt;Integer&gt; userCredentialsGetter(\n      final List&lt;UserCredentials&gt; userCredentials,\n      final Function&lt;UserCredentials, Integer&gt; func) {\n    return userCredentials.stream().map(func).collect(Collectors.toList());\n  }\n}\n</code></pre>\n\n<p>My unit test basically returns to me an empty List.</p>\n\n<pre><code>  @Mock\n  private UserCredentialsUtil userCredentialsUtil;\n\nfinal List&lt;Integer&gt; accountIds = Arrays.asList(1, 2, 3);\n\n        when(\n        this.userCredentialsUtil.userCredentialsGetter(\n            userCredentials,\n         UserCredentials::getAccountId)).thenReturn(accountIds);\n</code></pre>\n\n<p>I know this isn't a problem with my setup because if I change the UserCredentialsGetter to</p>\n\n<pre><code>  public List&lt;Integer&gt; userCredentialsGetter(\n      final List&lt;UserCredentials&gt; userCredentials) {\n    return userCredentials.stream().map(UserCredentials::getAccountId).collect(Collectors.toList());\n  }\n</code></pre>\n\n<p>And the test method to.</p>\n\n<pre><code>        when(\n        this.userCredentialsUtil.userCredentialsGetter(\n            userCredentials)).thenReturn(accountIds);\n</code></pre>\n\n<p>This works fine. I am guessing I need to pass something else then the method reference as parameter for my first test, but I have been unfortunate in finding someone else going into this case even though it seems pretty common.</p>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1541620641, "post_id": 53196802, "comment_id": 93282273, "body": "Do you by any chance mean <b>average</b> and not <b>median</b>?"}, {"owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "reply_to_user": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1541620756, "post_id": 53196802, "comment_id": 93282320, "body": "@forpas I definitely mean median. The average always requires me to iterate the entire dataset regardless, so there&#39;s not a lot I can do to optimize (except for memoizing the result, obviously)."}, {"owner": {"reputation": 3226, "user_id": 2928853, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dbIon.png?s=128&g=1", "display_name": "jrook", "link": "https://stackoverflow.com/users/2928853/jrook"}, "edited": false, "score": 0, "creation_date": 1541620794, "post_id": 53196802, "comment_id": 93282345, "body": "I would just flatten the dataset (or create a flat version of the data at the beginning) , sort it and look at the middle element. If the set is dynamic, adding an element to an already sorted list takes O(log n) and looking up the median takes constant time. If the original dataset is large, <a href=\"https://rcoh.me/posts/linear-time-median-finding/\" rel=\"nofollow noreferrer\">this link</a> describes how to find the median in linear time. The key -in my opinion- is to have a flat copy of the data."}, {"owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "reply_to_user": {"reputation": 3226, "user_id": 2928853, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dbIon.png?s=128&g=1", "display_name": "jrook", "link": "https://stackoverflow.com/users/2928853/jrook"}, "edited": false, "score": 0, "creation_date": 1541621048, "post_id": 53196802, "comment_id": 93282465, "body": "@jrook You may want to review the parameters of this issue. For that to work, I&#39;d have to create a flattened version of the data that could be larger than the maximum value of <code>BigInteger</code>, which is..... very big, to say the least. Flattening the dataset is not a sensible solution unless the original data structure gets changed in some dramatic manner, and you haven&#39;t specified how I would go about doing that."}, {"owner": {"reputation": 3226, "user_id": 2928853, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dbIon.png?s=128&g=1", "display_name": "jrook", "link": "https://stackoverflow.com/users/2928853/jrook"}, "edited": false, "score": 1, "creation_date": 1541621333, "post_id": 53196802, "comment_id": 93282608, "body": "Larger than max value of BigInteger??? You mean you will have an array with <code>(2 ^ 32) ^ Integer.MAX_VALUE</code> <a href=\"https://stackoverflow.com/questions/12693273/is-there-an-upper-bound-to-biginteger\">elements</a>? I would imagine that even the most efficient algorithm will take a lot of time to run on such a large dataset. As explained in the link I provided, median of medians is usually pretty close to the actual median. So if you don&#39;t require an exact median, that might help speed up things."}, {"owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "reply_to_user": {"reputation": 3226, "user_id": 2928853, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dbIon.png?s=128&g=1", "display_name": "jrook", "link": "https://stackoverflow.com/users/2928853/jrook"}, "edited": false, "score": 0, "creation_date": 1541621926, "post_id": 53196802, "comment_id": 93282884, "body": "@jrook To give some context, <a href=\"https://gist.github.com/Xirema/a2c5f7588e8fb6af3066bbbd1f7f066e\" rel=\"nofollow noreferrer\">I spit out the results of this program calculating <code>100d6</code></a>, to show how many trials can be associated with a single outcome. The mode, median, and mean of this dataset, 350, has 152370928583799031281114079240867255628129765912058261405308&zwnj;&#8203;48189030092709496 trials associated with it... that would be quite difficult to flatten out!"}, {"owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "reply_to_user": {"reputation": 3226, "user_id": 2928853, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dbIon.png?s=128&g=1", "display_name": "jrook", "link": "https://stackoverflow.com/users/2928853/jrook"}, "edited": false, "score": 0, "creation_date": 1541626166, "post_id": 53196802, "comment_id": 93284814, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/183260/discussion-between-xirema-and-jrook\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 5502, "user_id": 2958086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5iJz9.png?s=128&g=1", "display_name": "Compass", "link": "https://stackoverflow.com/users/2958086/compass"}, "is_accepted": false, "score": 1, "last_activity_date": 1541624687, "last_edit_date": 1541624687, "creation_date": 1541623613, "answer_id": 53197558, "question_id": 53196802, "link": "https://stackoverflow.com/questions/53196802/what-is-a-better-way-to-get-the-median-of-a-probability-map/53197558#53197558", "title": "What is a better way to get the Median of a Probability Map?", "body": "<p>I don't have experience with the sheer number of possibilities for your 100d6 example, so this may or may not be the best-optimized approach, but it front-loads the intensive operations to when you create the probability map by using a pair of buckets for large and small values. This is also order-dependent, though an order-independent one can be created through a two-way rebalancing method. I went ahead and used Integers just to be able to get away with basic math operations.</p>\n\n<p>Initial entries will be very volatile and require a ton of rebalancing. The obvious downside of this is that your creation performance takes a hit, but your median performance becomes O(1).</p>\n\n<p>The small bucket always contains the median, which can be found as max(smallbucket.keySet). The large bucket contains everything above the keyset and is only kept for rebalancing purposes. <strong>Note that this is not the median in the event that the true median falls between two rolls, i.e. the Median for a 1d2 is 0.5</strong> which cannot be returned if you are using only Integer for median.</p>\n\n<pre><code>public class MedianMap {\n    TreeMap&lt;Integer, Integer&gt; smallBucket = new TreeMap&lt;&gt;();    \n    TreeMap&lt;Integer, Integer&gt; largeBucket = new TreeMap&lt;&gt;();\n\n    Integer smallBucketSize = 0;\n    Integer largeBucketSize = 0;\n    Integer median = 0;\n\n    public void add(int value, int trials) {\n        //initial state is smallBucket should have more trials than largeBucket\n        largeBucket.add(value, trials);\n        largeBucket += trials;\n\n        if(largeBucketSize &gt; smallBucketSize) {\n            rebalance();\n        }\n    }\n\n    private void rebalance() {\n        List&lt;Integer&gt; largeKeys = new ArrayList&lt;&gt;(largeBucket.keySet());\n        Collections.sort(largeKeys);\n\n        while(largeBucketSize &gt; smallBucketSize) {\n            //get the smallest bucket item to move over\n            Integer key = largeKeys(0);\n            Integer value = largeBucket.get(key);\n\n            //move item from large to small bucket\n            largeBucket.remove(key);\n            smallBucket.add(key, value);\n\n            //update bucket values\n            largeBucketSize -= value;\n            smallBucketSize += value; \n\n            //and the largest item in the small bucket is the new median\n            median = key;\n\n            //remove the first key from our large keys list\n            largeKeys.remove(0);\n\n            //repeat as necessary\n        }\n    }\n\n    private int getMedian() {\n        return median;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541624687, "creation_date": 1541620283, "last_edit_date": 1541621438, "question_id": 53196802, "link": "https://stackoverflow.com/questions/53196802/what-is-a-better-way-to-get-the-median-of-a-probability-map", "title": "What is a better way to get the Median of a Probability Map?", "body": "<h1>Background</h1>\n\n<p>I've written a program designed to calculate the odds of each outcome associated with a Die Roll, or combinations of Die Rolls. Specifically, when handling rolls like \"add together two six-sided dice\" (aka the Catan Roll) the way that probabilities are calculated is by saving Mappings between individual outcomes, and the number of possible rolls that can represent that outcome. In this example, the data structure is a <code>TreeMap&lt;Integer, BigInteger&gt;</code>, which takes this form:</p>\n\n<pre><code>{\n[2, 1],\n[3, 2],\n[4, 3],\n[5, 4],\n[6, 5],\n[7, 6],\n[8, 5],\n[9, 4],\n[10, 3],\n[11, 2],\n[12, 1]\n}\n</code></pre>\n\n<p>Before anyone asks, the use of <code>BigInteger</code> in this context is NOT overkill, because it's designed to handle any possible roll that might be presented to the program, and rolls like 100d6 (add together the rolls of 100 six-sided dice) very quickly end up with very large numbers that I don't want approximated as a <code>double</code>.</p>\n\n<p>As part of the interface for this program, I've decided that I want stats about these rolls to be queryable, and one such stat I want the program to look up is the median of the roll. My current version of the algorithm sums up the trials that represent all the outcomes lower than a given outcome, starting with the lowest outcome, and reports the outcome as the median if the total exceeds 50% of the trials.</p>\n\n<p>This is how I've written the code.</p>\n\n<pre><code>//Is filled with values during object construction\nTreeMap&lt;Integer, BigInteger&gt; probabilityMap = new TreeMap&lt;&gt;();\n\n//Memoization to at least make sure we only make this calculation once\nprivate Integer memoizedMedian = null;\npublic int getMedian() {\n    if(memoizedMedian == null) {\n        BigInteger trials = BigInteger.ZERO;\n        BigInteger totalTrials = numOfTrials();\n        for(Map.Entry&lt;Integer, BigInteger&gt; entry : probabilityMap.entrySet()) {\n            //We're guaranteed to be iterating in order, due to how TreeMap's work\n            trials = trials.add(entry.getValue());\n            double percentile = trials.doubleValue() / totalTrials.doubleValue();\n            if(percentile &gt;= 0.5) {\n                memoizedMedian = entry.getKey();\n                break;\n            }\n        }\n        //If we didn't find it, someone went wrong with the object initialization\n        if(memoizedMedian == null)\n            throw new RuntimeException(\"Probability Map was not properly Initialized\");\n    }\n    return memoizedMedian;\n}\n</code></pre>\n\n<h1>The Problem</h1>\n\n<p>As written, this code works: it finds the median for any set of values I pass to it.</p>\n\n<p>The problem however is that it can be slow: consider this (exaggerated) dataset to see how this might be an issue:</p>\n\n<pre><code>{\n[1,1],\n[2,1],\n[3,1],\n[4,1],\n[5,1],\n[6,1],\n[7,1],\n[8,1],\n[9,1],\n[10,11]\n}\n</code></pre>\n\n<p>Obviously, 10 is the median of this dataset, but the algorithm won't figure that out until it scans the very last entry in the map, and for larger, more complicated probability maps, that could take a while to reach.</p>\n\n<p>So I'd like to improve the algorithm to handle these kinds of datasets more responsibly, but I'm not sure what kind of approach to take. </p>\n\n<p>What kind of changes should I make to my algorithm to better calculate the median of this dataset? I'm open to changes to the root data structure as well, but that should have proper justification.</p>\n"}, {"tags": ["java", "mysql", "hibernate"], "comments": [{"owner": {"reputation": 5538, "user_id": 812787, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9bfd1118658eeaac257e60eb9f0cb5de?s=128&d=identicon&r=PG", "display_name": "tsolakp", "link": "https://stackoverflow.com/users/812787/tsolakp"}, "edited": false, "score": 1, "creation_date": 1541621315, "post_id": 53196756, "comment_id": 93282597, "body": "Change <code>code</code> and <code>status</code> fields of <code>StatusEntity</code> to <code>String</code> type and see if it works."}, {"owner": {"reputation": 1117, "user_id": 9689945, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UH4F.png?s=128&g=1", "display_name": "Valentyn Hruzytskyi", "link": "https://stackoverflow.com/users/9689945/valentyn-hruzytskyi"}, "reply_to_user": {"reputation": 5538, "user_id": 812787, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9bfd1118658eeaac257e60eb9f0cb5de?s=128&d=identicon&r=PG", "display_name": "tsolakp", "link": "https://stackoverflow.com/users/812787/tsolakp"}, "edited": false, "score": 0, "creation_date": 1541629439, "post_id": 53196756, "comment_id": 93286133, "body": "@tsolakp I just changed <code>status</code> type to String, and all works. Thanks"}, {"owner": {"reputation": 1117, "user_id": 9689945, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UH4F.png?s=128&g=1", "display_name": "Valentyn Hruzytskyi", "link": "https://stackoverflow.com/users/9689945/valentyn-hruzytskyi"}, "reply_to_user": {"reputation": 5538, "user_id": 812787, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9bfd1118658eeaac257e60eb9f0cb5de?s=128&d=identicon&r=PG", "display_name": "tsolakp", "link": "https://stackoverflow.com/users/812787/tsolakp"}, "edited": false, "score": 0, "creation_date": 1541629741, "post_id": 53196756, "comment_id": 93286244, "body": "@tsolakp if you answer, I will accept it"}], "answers": [{"tags": [], "owner": {"reputation": 5538, "user_id": 812787, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9bfd1118658eeaac257e60eb9f0cb5de?s=128&d=identicon&r=PG", "display_name": "tsolakp", "link": "https://stackoverflow.com/users/812787/tsolakp"}, "is_accepted": true, "score": 7, "last_activity_date": 1541630023, "creation_date": 1541630023, "answer_id": 53198914, "question_id": 53196756, "link": "https://stackoverflow.com/questions/53196756/org-hibernate-mappingexception-property-mapping-has-wrong-number-of-columns-in/53198914#53198914", "title": "org.hibernate.MappingException: property mapping has wrong number of columns in ENUM entity", "body": "<p>Hibernate complains that it is not able to map <code>StatusEntity.status</code> because it is declared <code>Object</code> type.</p>\n\n<p>You can change it to <code>String</code> type which Hibernate should be able to map to database ENUM type.</p>\n\n<p>You can also use Java enum for <code>status</code> field and have hibernate map it using <code>@Enumerated</code> annotation.</p>\n"}], "owner": {"reputation": 1117, "user_id": 9689945, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UH4F.png?s=128&g=1", "display_name": "Valentyn Hruzytskyi", "link": "https://stackoverflow.com/users/9689945/valentyn-hruzytskyi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7587, "favorite_count": 1, "accepted_answer_id": 53198914, "answer_count": 1, "score": 2, "last_activity_date": 1541687337, "creation_date": 1541620097, "last_edit_date": 1541687337, "question_id": 53196756, "link": "https://stackoverflow.com/questions/53196756/org-hibernate-mappingexception-property-mapping-has-wrong-number-of-columns-in", "title": "org.hibernate.MappingException: property mapping has wrong number of columns in ENUM entity", "body": "<p>I created database, which have a references with ENUM table and I have exception in entity of this enum.</p>\n\n<p>scripts example:</p>\n\n<pre><code>CREATE TABLE status (\n  code VARCHAR(40),\n  status ENUM('not started', 'in progress', 'finished')\n);\n\ninsert into status (code, status)\nvalues (1, 'not started'),\n       (2, 'in progress'),\n       (3, 'finished');\n</code></pre>\n\n<hr>\n\n<pre><code>CREATE TABLE `explorer` (\n  `id` bigint(20) NOT NULL AUTO_INCREMENT,\n  `create_date` datetime DEFAULT NULL,\n  `query` varchar(255) COLLATE utf8mb4_unicode_520_ci DEFAULT NULL,\n  `title` varchar(255) COLLATE utf8mb4_unicode_520_ci DEFAULT NULL,\n  `status_id` int DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  FOREIGN KEY (status_id) REFERENCES status(code)\n) ENGINE=MyISAM AUTO_INCREMENT=45 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_520_ci;\n</code></pre>\n\n<hr>\n\n<p>So, after creating table I did create automatically entities for this tables:</p>\n\n<ul>\n<li><p>Explorer:</p>\n\n<pre><code>@Entity\n@Table(name = \"explorer\", schema = \"parsebeandeveloper\", catalog = \"\")\npublic class ExplorerEntity {\nprivate long id;\nprivate Timestamp createDate;\nprivate String query;\nprivate String title;\nprivate Integer statusId;\n\n@Id\n@Column(name = \"id\")\npublic long getId() {\n    return id;\n}\n\npublic void setId(long id) {\n    this.id = id;\n}\n\n@Basic\n@Column(name = \"create_date\")\npublic Timestamp getCreateDate() {\n    return createDate;\n}\n\npublic void setCreateDate(Timestamp createDate) {\n    this.createDate = createDate;\n}\n\n@Basic\n@Column(name = \"query\")\npublic String getQuery() {\n    return query;\n}\n\npublic void setQuery(String query) {\n    this.query = query;\n}\n\n@Basic\n@Column(name = \"title\")\npublic String getTitle() {\n    return title;\n}\n\npublic void setTitle(String title) {\n    this.title = title;\n}\n\n@Basic\n@Column(name = \"status_id\")\npublic Integer getStatusId() {\n    return statusId;\n}\n\npublic void setStatusId(Integer statusId) {\n    this.statusId = statusId;\n}\n}\n</code></pre></li>\n</ul>\n\n<p>class, where I get exception:</p>\n\n<ul>\n<li><p>Status:</p>\n\n<pre><code>@Entity\n@Table(name = \"status\", schema = \"parsebeandeveloper\")\npublic class StatusEntity {\nprivate Integer code;\nprivate Object status;\n\n@Basic\n@Column(name = \"code\")\npublic Integer getCode() {\n    return code;\n}\n\npublic void setCode(Integer code) {\n    this.code = code;\n}\n\n@Basic\n@Column(name = \"status\")\npublic Object getStatus() {\n    return status;\n}\n\npublic void setStatus(Object status) {\n    this.status = status;\n}\n</code></pre>\n\n<p>}</p></li>\n</ul>\n\n<p>That, what I get in console:</p>\n\n<blockquote>\n  <p>org.springframework.beans.factory.BeanCreationException: </p>\n  \n  <p>Error creating bean with name 'entityManagerFactory' defined in class path \n  resource [org/springframework/boot/autoconfigure/orm/jpa\n  /HibernateJpaConfiguration.class]: Invocation of init method failed; nested > exception is javax.persistence.PersistenceException: [PersistenceUnit: \n  default] Unable to build Hibernate SessionFactory; nested exception is \n  org.hibernate.MappingException: <strong>property mapping has wrong number of \n  columns: com.sb.bean.parser.explorer.model.domain2.StatusEntity.status type: > object</strong></p>\n</blockquote>\n\n<p>I have think, that I did make mistake </p>\n\n<ul>\n<li><p>in the creating table <code>explorer</code>, in string:</p>\n\n<pre><code>  FOREIGN KEY (status_id) REFERENCES status(code)\n</code></pre></li>\n<li><p>or in creating class <code>EntityStatus</code></p></li>\n</ul>\n\n<p><strong>How to correctly create <code>Status</code> entity or create references between tables in this case?</strong> </p>\n"}, {"tags": ["java", "random", "duplicates"], "comments": [{"owner": {"reputation": 5502, "user_id": 2958086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5iJz9.png?s=128&g=1", "display_name": "Compass", "link": "https://stackoverflow.com/users/2958086/compass"}, "edited": false, "score": 1, "creation_date": 1541620262, "post_id": 53196747, "comment_id": 93282063, "body": "Are you allowed to use Sets?"}, {"owner": {"reputation": 386, "user_id": 9901515, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sASPI.png?s=128&g=1", "display_name": "csalmhof", "link": "https://stackoverflow.com/users/9901515/csalmhof"}, "edited": false, "score": 2, "creation_date": 1541620874, "post_id": 53196747, "comment_id": 93282390, "body": "How do you save the already generated numbers?"}, {"owner": {"reputation": 8503, "user_id": 6485651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2tGDI.png?s=128&g=1", "display_name": "Zephyr", "link": "https://stackoverflow.com/users/6485651/zephyr"}, "edited": false, "score": 0, "creation_date": 1541625329, "post_id": 53196747, "comment_id": 93284447, "body": "Are you required to simply print out the list of numbers? Without an array or a <code>List</code> of some sorts, I&#39;m not sure how you&#39;d store the 6 numbers ..."}, {"owner": {"reputation": 17061, "user_id": 507738, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7ghSp.jpg?s=128&g=1", "display_name": "MC Emperor", "link": "https://stackoverflow.com/users/507738/mc-emperor"}, "edited": false, "score": 0, "creation_date": 1541626411, "post_id": 53196747, "comment_id": 93284926, "body": "I do not understand the requirement of not using arrays. Cesare&#39;s answer indeed provides a solution without using arrays, but how is six separate variables as used in that answer fundamentally different from using an array? If this is an assignment, it&#39;s a strange one."}, {"owner": {"reputation": 11, "user_id": 10620228, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j4ewb.jpg?s=128&g=1", "display_name": "Lilspidr", "link": "https://stackoverflow.com/users/10620228/lilspidr"}, "edited": false, "score": 0, "creation_date": 1541723260, "post_id": 53196747, "comment_id": 93323922, "body": "We are not using sets yet. I apologize, I forgot to mention that I have stored all six numbers as variables. The requirements for the assignment require that I do not print out the numbers, rather store them for the second part of the assignment which requires comparing the stored numbers to user input. (which will also be interesting without arrays, and the use of only one loop). The assignment is odd, however, the challenge is to produce the intended results without moving ahead in the text, which is where the text covers arrays."}], "answers": [{"comments": [{"owner": {"reputation": 3924, "user_id": 6722100, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f1c741df6363ff4fe3e32eee854821c3?s=128&d=identicon&r=PG&f=1", "display_name": "achAmh&#225;in", "link": "https://stackoverflow.com/users/6722100/achamh%c3%a1in"}, "edited": false, "score": 2, "creation_date": 1541621369, "post_id": 53197020, "comment_id": 93282620, "body": "1) code-only answers are discouraged; you should provide an explanation 2) if OP can\u2019t use an array, they probably can\u2019t use a set."}, {"owner": {"reputation": 11, "user_id": 10620228, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j4ewb.jpg?s=128&g=1", "display_name": "Lilspidr", "link": "https://stackoverflow.com/users/10620228/lilspidr"}, "edited": false, "score": 0, "creation_date": 1541723728, "post_id": 53197020, "comment_id": 93324002, "body": "confirmed, no sets allowed for this one, but thank you for trying. I can still use this example in my next project."}], "tags": [], "owner": {"reputation": 218, "user_id": 10544615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58H8r.jpg?s=128&g=1", "display_name": "Centos", "link": "https://stackoverflow.com/users/10544615/centos"}, "is_accepted": false, "score": 0, "last_activity_date": 1541621134, "creation_date": 1541621134, "answer_id": 53197020, "question_id": 53196747, "link": "https://stackoverflow.com/questions/53196747/java-random-number-generator-without-arrays/53197020#53197020", "title": "java random number generator without arrays", "body": "<pre><code>Set&lt;Integer&gt; values = new HashSet&lt;&gt;();\nRandom rand = new Random();\n\nwhile (values.size() &lt;= 6) {\n    int  n = rand.nextInt(50) + 1;\n    values.add(n);\n}\nSystem.out.println(values);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12572, "user_id": 8534008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2af9937cac66f08b6ee6e4219cc0d?s=128&d=identicon&r=PG&f=1", "display_name": "GBlodgett", "link": "https://stackoverflow.com/users/8534008/gblodgett"}, "edited": false, "score": 0, "creation_date": 1541621664, "post_id": 53197076, "comment_id": 93282774, "body": "OP specifically said they could not use an <code>Array</code>"}], "tags": [], "owner": {"reputation": 72, "user_id": 752011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/066f926b4e3a89e9ff104e27ec319021?s=128&d=identicon&r=PG", "display_name": "ernestk", "link": "https://stackoverflow.com/users/752011/ernestk"}, "is_accepted": false, "score": 0, "last_activity_date": 1541621371, "creation_date": 1541621371, "answer_id": 53197076, "question_id": 53196747, "link": "https://stackoverflow.com/questions/53196747/java-random-number-generator-without-arrays/53197076#53197076", "title": "java random number generator without arrays", "body": "<p>like shuffling a card for first 6</p>\n\n<pre><code>public void shuffle() {\n    int[] array = new int[49];\n    for (int i = 0; i &lt; array.length; i++) {\n        array[i] = i + 1;\n    }\n\n    // we need first 6 random cards\n    for (int i = 0; i &lt; 6; i++) {\n        int index = (int) (Math.random() * (( array.length - i) + 1));\n        int temp = array[i];\n        array[i] = array[index];\n        array[index] = temp;\n    }\n\n    for (int i = 0; i &lt; 6; i++) {\n        System.out.print(\"[\" + array[i] + \"]\");\n    }\n    System.out.println();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 10620228, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j4ewb.jpg?s=128&g=1", "display_name": "Lilspidr", "link": "https://stackoverflow.com/users/10620228/lilspidr"}, "edited": false, "score": 0, "creation_date": 1541724045, "post_id": 53197162, "comment_id": 93324054, "body": "So many good points! I very much wanted to use the for loop but ran into the issue with shouldPick. Essentially there&#39;s no way of getting this done without being messy and lengthy in my code, but once it&#39;s done I can then move onto assignments using arrays, for and do loops."}], "tags": [], "owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "is_accepted": false, "score": 0, "last_activity_date": 1541623002, "last_edit_date": 1541623002, "creation_date": 1541621794, "answer_id": 53197162, "question_id": 53196747, "link": "https://stackoverflow.com/questions/53196747/java-random-number-generator-without-arrays/53197162#53197162", "title": "java random number generator without arrays", "body": "<p>This seems like a rather strange exercise to attempt without arrays. It is possible, but I don't think it is especially instructive for learning Java, as it is more a maths exercise than a programming one.</p>\n\n<p>In order to generate 6 distinct random numbers in the range 1-49, you basically have to decide for each of those 49 numbers whether or not to \"pick\" it, with the constraint that you will only pick 6 numbers. So, you are looking to identify one of the <code>choose(49, 6)</code> possible combinations.</p>\n\n<p>So, you can do it like this:</p>\n\n<pre><code>int numToPick = 6;\nfor (int i = 1; i &lt;= 49; ++i) {\n  if (shouldPick(i, numToPick)) {\n    System.out.println(i);\n    --numToPick;\n  }\n}\n</code></pre>\n\n<p>(I used a for loop; but you can always rewrite a for loop as a while loop if that's all you can use).</p>\n\n<p>The question is just how to implement that <code>shouldPick</code> function: it returns a boolean true to mean that you should pick it, and will print it; or false to mean that you won't.</p>\n\n<p>This is going to be a probabilistic function (i.e\n it's going to use a random number generator), or it won't give you different sets of numbers each time.</p>\n\n<p>The maths to work out the form of that function is quite fun, and the ultimate implementation is pleasingly trivial; but it wouldn't be fun if I gave the answer here.</p>\n\n<p>(But I can assure you that I have implemented it, only changing one line in the above snippet; 2 if you count declaring a random number generator).</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 10620228, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j4ewb.jpg?s=128&g=1", "display_name": "Lilspidr", "link": "https://stackoverflow.com/users/10620228/lilspidr"}, "edited": false, "score": 0, "creation_date": 1541723853, "post_id": 53197489, "comment_id": 93324024, "body": "This is very helpful, and similar to the way I&#39;ve used while loops in my code, however, I will more than likely utilize the if statements this way when comparing the user input to the 6 saved numbers."}, {"owner": {"reputation": 45496, "user_id": 436560, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/2GESV.jpg?s=128&g=1", "display_name": "Lajos Arpad", "link": "https://stackoverflow.com/users/436560/lajos-arpad"}, "reply_to_user": {"reputation": 11, "user_id": 10620228, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j4ewb.jpg?s=128&g=1", "display_name": "Lilspidr", "link": "https://stackoverflow.com/users/10620228/lilspidr"}, "edited": false, "score": 0, "creation_date": 1541764036, "post_id": 53197489, "comment_id": 93337046, "body": "@NewbieJava It would be very nice to have an array and be able to do this with cycles, but the question excludes that possibility. Is this post answering your question?"}], "tags": [], "owner": {"reputation": 45496, "user_id": 436560, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/2GESV.jpg?s=128&g=1", "display_name": "Lajos Arpad", "link": "https://stackoverflow.com/users/436560/lajos-arpad"}, "is_accepted": false, "score": 0, "last_activity_date": 1541623245, "creation_date": 1541623245, "answer_id": 53197489, "question_id": 53196747, "link": "https://stackoverflow.com/questions/53196747/java-random-number-generator-without-arrays/53197489#53197489", "title": "java random number generator without arrays", "body": "<p>You effectively need to take out the already chosen possibility:</p>\n\n<pre><code>Random rand = new Random();\nint first = rand.nextInt(49) + 1;\nint second = rand.nextInt(48) + 1;\nint third = rand.nextInt(47) + 1;\nint fourth = rand.nextInt(46) + 1;\nint fifth = rand.nextInt(45) + 1;\nint sixth = rand.nextInt(44) + 1;\n\nif (first &lt;= second) second++;\nif (first &lt;= third) third++;\nif (first &lt;= fourth) fourth++;\nif (first &lt;= fifth) fifth++;\nif (first &lt; sixth) sixth++;\n\nif (second &lt;= third) third++;\nif (second &lt;= fourth) fourth++;\nif (second &lt;= fifth) fifth++;\nif (second &lt;= sixth) sixth++;\n\nif (third &lt;= fourth) fourth++;\nif (third &lt;= fifth) fifth++;\nif (third &lt;= sixth) sixth++;\n\nif (fourth &lt;= fifth) fifth++;\nif (fourth &lt;= sixth) sixth++;\n\nif (fifth &lt;= sixth) sixth++;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 10620228, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j4ewb.jpg?s=128&g=1", "display_name": "Lilspidr", "link": "https://stackoverflow.com/users/10620228/lilspidr"}, "edited": false, "score": 0, "creation_date": 1541723635, "post_id": 53197919, "comment_id": 93323981, "body": "This is very helpful. Thank you. I have a much messier version using several while loops."}], "tags": [], "owner": {"reputation": 101, "user_id": 10290955, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-I7RqL95JU9s/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNtKCcA6cJYx5N7mFcKY_amHHK9qQ/mo/photo.jpg?sz=128", "display_name": "Cesare Fischetti", "link": "https://stackoverflow.com/users/10290955/cesare-fischetti"}, "is_accepted": false, "score": 4, "last_activity_date": 1541625478, "last_edit_date": 1541625478, "creation_date": 1541625330, "answer_id": 53197919, "question_id": 53196747, "link": "https://stackoverflow.com/questions/53196747/java-random-number-generator-without-arrays/53197919#53197919", "title": "java random number generator without arrays", "body": "<p>If you can't use arrays, or other collections, you can create 6 variables to save your generate numbers. </p>\n\n<pre><code>public class Generate6Number {\n\npublic static void main(String[] args) {\n    int num1 = 0;\n    int num2 = 0;\n    int num3 = 0;\n    int num4 = 0;\n    int num5 = 0;\n    int num6 = 0;\n\n    int count = 0;\n\n    while (count &lt; 6) {\n        int numGen = (int) (Math.random() * 49);\n\n        if (numGen != num1 &amp;&amp;\n            numGen != num2 &amp;&amp;\n            numGen != num3 &amp;&amp;\n            numGen != num4 &amp;&amp;\n            numGen != num5) {\n            if (num1 == 0)\n                num1 = numGen;\n            else if (num2 == 0)\n                num2 = numGen;\n            else if (num3 == 0)\n                num3 = numGen;\n            else if (num4 == 0)\n                num4 = numGen;\n            else if (num5 == 0)\n                num5 = numGen;\n            else \n                num6 = numGen;\n\n            count++;\n        }\n    }   \n\n    System.out.println(\"Number 1: \" + num1);\n    System.out.println(\"Number 2: \" + num2);\n    System.out.println(\"Number 3: \" + num3);\n    System.out.println(\"Number 4: \" + num4);\n    System.out.println(\"Number 5: \" + num5);\n    System.out.println(\"Number 6: \" + num6);\n\n}\n\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10620228, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j4ewb.jpg?s=128&g=1", "display_name": "Lilspidr", "link": "https://stackoverflow.com/users/10620228/lilspidr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1541625478, "creation_date": 1541620077, "question_id": 53196747, "link": "https://stackoverflow.com/questions/53196747/java-random-number-generator-without-arrays", "title": "java random number generator without arrays", "body": "<p>I am completely new to Java and working on an assignment. I need to generate 6 random numbers within the range of 1 - 49, which is simple. \nHowever, the complication is that the numbers cannot duplicate. \nThe only options I have for conditionals are the while loop, or the if else statements.\nArrays and all other loops are off limits for this assignment.\nCould really use some advice regarding logistics of how to apply the options I have. I realize without arrays, and the other loops that I'm going to have a lot of duplicate code but can handle that. I just need some help wrapping my head around this. </p>\n"}, {"tags": ["java", "gradle", "build.gradle", "gradle-plugin"], "comments": [{"owner": {"reputation": 29209, "user_id": 495796, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/86637c99f25d60157aa0f2e7eab90148?s=128&d=identicon&r=PG", "display_name": "Robin Green", "link": "https://stackoverflow.com/users/495796/robin-green"}, "edited": false, "score": 1, "creation_date": 1541628130, "post_id": 53196731, "comment_id": 93285656, "body": "Don&#39;t build a jar and manually use the jar. Just publish the plugin to a Maven repository. Then the dependencies should be resolved automatically when it is used."}], "answers": [{"comments": [{"owner": {"reputation": 783, "user_id": 8927639, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b604f169d28c62fca198a3e39faad9f3?s=128&d=identicon&r=PG&f=1", "display_name": "Druudik", "link": "https://stackoverflow.com/users/8927639/druudik"}, "edited": false, "score": 0, "creation_date": 1550922419, "post_id": 53223621, "comment_id": 96455906, "body": "Hi I was curious if you can also provide example for gradle plugin with local dependencies for example with dependency for my local module (which I have written; in other words not external dependency). I am struggling with publishing it to MavenLocal; after using that plugin in my other project I will get error that artifact for my local module was not found. To clarify I have the same problem as here - <a href=\"https://stackoverflow.com/questions/54831685/how-to-publish-and-use-gradle-plugin-with-dependencies-on-local-project\" title=\"how to publish and use gradle plugin with dependencies on local project\">stackoverflow.com/questions/54831685/&hellip;</a>."}, {"owner": {"reputation": 7096, "user_id": 3990767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a5741a212e3b0e6bd46a8a1e6d76a4a?s=128&d=identicon&r=PG", "display_name": "SOFe", "link": "https://stackoverflow.com/users/3990767/sofe"}, "edited": false, "score": 0, "creation_date": 1607448450, "post_id": 53223621, "comment_id": 115273703, "body": "This doesn&#39;t seem to work if the dependency is a local subproject. I get the error <code>Could not find io.github.sof3:core:1.0-SNAPSHOT.</code>, where my plugin is <code>io.github.sof3:plugin:1.0-SNAPSHOT</code>."}], "tags": [], "owner": {"reputation": 7954, "user_id": 6899896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kxVjz.jpg?s=128&g=1", "display_name": "M.Ricciuti", "link": "https://stackoverflow.com/users/6899896/m-ricciuti"}, "is_accepted": false, "score": 3, "last_activity_date": 1541757938, "creation_date": 1541757938, "answer_id": 53223621, "question_id": 53196731, "link": "https://stackoverflow.com/questions/53196731/gradle-custom-plugin-jar-with-dependencies/53223621#53223621", "title": "Gradle custom plugin jar with dependencies", "body": "<p>Your plugin project should be configured as a standalone Plugin project and then published to a maven repository, which will make dependencies resolution work;  there is good documentation about writing custom plugin <a href=\"https://docs.gradle.org/current/userguide/custom_plugins.html\" rel=\"nofollow noreferrer\">here</a>, specially the following part : <a href=\"https://docs.gradle.org/current/userguide/custom_plugins.html#sec:using_the_java_gradle_plugin_development_plugin\" rel=\"nofollow noreferrer\">using Gradle plugin development plugin </a></p>\n\n<p>There is also a good example of writing/publishing/consuming a custom Plugin in the Gradle examples here : <a href=\"https://github.com/gradle/gradle/tree/master/subprojects/docs/src/samples/plugins\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/tree/master/subprojects/docs/src/samples/plugins</a>  (see the two subprojects <code>publishing</code> and <code>consuming</code> )</p>\n\n<p>And here is a working example with a plugin that has dependency on external library (commons-lang for example):</p>\n\n<p><strong>Plugin project</strong></p>\n\n<p><em>build.gradle</em></p>\n\n<pre><code>plugins {\n    id 'java-gradle-plugin'\n    id 'groovy'\n    id 'maven-publish'\n}\ngroup 'org.gradle.sample.plugin'\nversion '0.1'\n\n//  pugin metadata configuration\ngradlePlugin {\n    plugins {\n        myplugin {\n            id = \"org.gradle.sample.plugin.myplugin\"\n            implementationClass = \"org.gradle.sample.plugin.MyPlugin\"\n        }\n    }\n}\n// publish to local maven repo for testing\npublishing {\n    repositories {\n        maven {\n            url \"../repos/maven-repo\"\n        }\n    }\n}\n//  repo for dependences resolution\nrepositories{\n    jcenter()\n}\n\n// dependencies of this plugin \ndependencies {\n    compile group: 'org.apache.commons', name: 'commons-lang3', version: '3.8.1'\n}\n</code></pre>\n\n<p><em>Plugin implementation</em> :  <code>src/main/groovy/org/gradle/sample/plugin/MyPLugin.groovy</code></p>\n\n<pre><code>package org.gradle.sample.plugin\n\nimport org.apache.commons.lang3.StringUtils\nimport org.gradle.api.Plugin\nimport org.gradle.api.Project\n\nclass MyPlugin implements Plugin&lt;Project&gt; {\n    @Override\n    void apply(final Project project) {\n        println \"Applying custom plugin... \"\n        project.tasks.create('testPlugin'){\n            doLast{\n                println \" custom plugin task executing.\"\n                println \"Result: \" + StringUtils.capitalize(\"stringtotest\")\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Build and publish this plugin <code>./gradlew publish</code> : the plugin jar and \"plugin marker artefacts\" will be published to local maven repo in <em>../repos/maven-repo</em></p>\n\n<p><strong>Consumer project</strong></p>\n\n<p><em>build.gradle</em></p>\n\n<pre><code>plugins {\n    id 'java'\n    // import/apply your custom plugin\n    id 'org.gradle.sample.plugin.myplugin' version '0.1'\n}\n\ngroup 'org.gradle.sample.plugin'\nversion '0.1'\n\nrepositories{\n    maven {\n        url \"../repos/maven-repo\"\n     }\n    jcenter()\n}\n</code></pre>\n\n<p>To test the plugin, try to execute the plugin task <code>testPlugin</code></p>\n\n<pre><code>&gt; Task :testPlugin\n custom plugin task executing. \n Result: Stringtotest\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10172082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a1729d099faa227ab348c1ec08a9dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/10172082/alan"}, "is_accepted": false, "score": 1, "last_activity_date": 1557765046, "last_edit_date": 1557765046, "creation_date": 1557763053, "answer_id": 56115957, "question_id": 53196731, "link": "https://stackoverflow.com/questions/53196731/gradle-custom-plugin-jar-with-dependencies/56115957#56115957", "title": "Gradle custom plugin jar with dependencies", "body": "<p>Sorry to add this as an answer but I don't have enough points to comment (yes it is a bit late in coming but I found this in a search and it came so close, maybe this will help someone else).</p>\n\n<p>The answer by @M.Ricciuti is correct, just missing one file, namely a settings.gradle in the referencing project (not the plugin) directory:</p>\n\n<pre><code>pluginManagement {\n    repositories {\n        maven {\n            url '../repos/maven-repo'\n        }\n        gradlePluginPortal()\n        ivy {\n            url '../repos/ivy-repo'\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Many thanks, I have tried many things that didn't work before finding this, even the examples by gradle didn't work (or more likely I didn't run them correctly).  Anyway I merged what I saw in the answers with M. Ricciuti's answer and saw that file in the sample.</p>\n\n<p>My complete project is at <a href=\"https://github.com/reddierocket/sampleGradlePlugin\" rel=\"nofollow noreferrer\">https://github.com/reddierocket/sampleGradlePlugin</a>\nThe readme has instructions to run it.  (Note I did not include the wrapper but I am using gradle version 5.3.1.)</p>\n"}], "owner": {"reputation": 1993, "user_id": 3614578, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/100007057867557/picture?type=large", "display_name": "gary69", "link": "https://stackoverflow.com/users/3614578/gary69"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2636, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1557765046, "creation_date": 1541620032, "question_id": 53196731, "link": "https://stackoverflow.com/questions/53196731/gradle-custom-plugin-jar-with-dependencies", "title": "Gradle custom plugin jar with dependencies", "body": "<p>I'm trying to build a jar for a custom gradle plugin to be used by other gradle projects.  I'm using java to write the plugin.  I'm having a problem including dependencies in my jar.  If I build the jar using the below <code>build.gradle</code></p>\n\n<pre><code>plugins {\n    id 'groovy'\n}\n\nrepositories{\n    mavenCentral()\n}\n\ndependencies {\n    compile gradleApi()\n    compile localGroovy()\n    compile 'com.google.guava:guava:27.0-jre'\n    testCompile 'junit:junit:4.12'\n    //compile 'org.apache.commons:commons-lang3:3.8.1'\n}\n\ngroup = 'com.mine'\nversion = '1.0'\n</code></pre>\n\n<p>I get a NoClassDefFound exception for guava classes when applying the plugin on a project.  If I include a task to create a jar with dependencies like below in the <code>build.gradle</code></p>\n\n<pre><code>jar {\n    from {\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it)}\n    }\n}\n</code></pre>\n\n<p>It says <code>Plugin with Id 'my-plugin' not found</code>.  How do I include dependencies in a gradle plugin jar?</p>\n"}, {"tags": ["java", "weblogic12c", "java-ee-8"], "answers": [{"comments": [{"owner": {"reputation": 857, "user_id": 8527109, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UUvglId7ROg/AAAAAAAAAAI/AAAAAAAACDY/8nEhPIFCxtU/photo.jpg?sz=128", "display_name": "L&#225;szl&#243; Stahorszki", "link": "https://stackoverflow.com/users/8527109/l%c3%a1szl%c3%b3-stahorszki"}, "edited": false, "score": 0, "creation_date": 1541621332, "post_id": 53196967, "comment_id": 93282604, "body": "then I get an error saying I need a noargs constructor from intellij :\\ it&#39;s just the inspection, but y&#39;know, if you are trying to write clean code, you don&#39;t like seeing this"}, {"owner": {"reputation": 7720, "user_id": 8921755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dec518adc2024784cc770596a0aa200?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/8921755/ivan"}, "reply_to_user": {"reputation": 857, "user_id": 8527109, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UUvglId7ROg/AAAAAAAAAAI/AAAAAAAACDY/8nEhPIFCxtU/photo.jpg?sz=128", "display_name": "L&#225;szl&#243; Stahorszki", "link": "https://stackoverflow.com/users/8527109/l%c3%a1szl%c3%b3-stahorszki"}, "edited": false, "score": 0, "creation_date": 1541626539, "post_id": 53196967, "comment_id": 93284992, "body": "Depends on how relevant warning is."}], "tags": [], "owner": {"reputation": 7720, "user_id": 8921755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dec518adc2024784cc770596a0aa200?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/8921755/ivan"}, "is_accepted": false, "score": 0, "last_activity_date": 1541620929, "last_edit_date": 1592644375, "creation_date": 1541620929, "answer_id": 53196967, "question_id": 53196667, "link": "https://stackoverflow.com/questions/53196667/java-ee-cdi-fails-when-using-constructor-injection/53196967#53196967", "title": "Java EE: CDI Fails when using constructor injection", "body": "<p>From this link <a href=\"http://docs.jboss.org/weld/reference/latest/en-US/html_single/#_injection_points\" rel=\"nofollow noreferrer\">http://docs.jboss.org/weld/reference/latest/en-US/html_single/#_injection_points</a></p>\n<blockquote>\n<p>Dependency injection always occurs when the bean instance is first instantiated by the container. Simplifying just a little, things happen in this order:</p>\n<p>First, the container calls the bean constructor (the default constructor or the one annotated @Inject), to obtain an instance of the bean.\nNext, the container initializes the values of all injected fields of the bean.\nNext, the container calls all initializer methods of bean (the call order is not portable, don\u2019t rely on it).\nFinally, the <code>@PostConstruct</code> method, if any, is called.</p>\n</blockquote>\n<p>So looks like if you have constructor injection you have to remove no-arg constructor.</p>\n"}], "owner": {"reputation": 857, "user_id": 8527109, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UUvglId7ROg/AAAAAAAAAAI/AAAAAAAACDY/8nEhPIFCxtU/photo.jpg?sz=128", "display_name": "L&#225;szl&#243; Stahorszki", "link": "https://stackoverflow.com/users/8527109/l%c3%a1szl%c3%b3-stahorszki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 737, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541620929, "creation_date": 1541619752, "question_id": 53196667, "link": "https://stackoverflow.com/questions/53196667/java-ee-cdi-fails-when-using-constructor-injection", "title": "Java EE: CDI Fails when using constructor injection", "body": "<p>I'm creating a backend service implementation for a bunch of interfaces and to have the cleanest code possible, I decided to move to Constructor based DI instead of Field based, but it gave me headaches.</p>\n\n<p>Using WebLogic 12.1.3, this class gets instantiated properly: </p>\n\n<pre><code>@Stateless(name = \"MenuService\")\n@Slf4j\npublic class MenuFacade implements MenuService {\n\n    @Inject\n    private MenuRepository menuRepository;\n\n    @Inject\n    private MenuMapper menuMapper;\n\n    public MenuFacade(MenuRepository menuRepository, MenuMapper menuMapper) {\n        this.menuRepository = menuRepository;\n        this.menuMapper = menuMapper;\n    }\n\n    public MenuFacade() {\n    }\n\n    @Override\n    @Transactional\n    public List&lt;MenuDto&gt; getMenuList() {\n\n        log.trace(\"Fetching Menu entities from database\");\n        List&lt;MenuEntity&gt; menuEntities = menuRepository.findAll();\n        log.trace(\"Menu entities: {}\", menuEntities);\n\n        return menuEntities.stream().map(menuMapper::menuEntityToMenuDto).collect(Collectors.toList());\n    }\n}\n</code></pre>\n\n<p>However, when I try to refactor it like this:</p>\n\n<pre><code>@Stateless(name = \"MenuService\")\n@Slf4j\npublic class MenuFacade implements MenuService {\n\n    private MenuRepository menuRepository;\n\n    private MenuMapper menuMapper;\n\n    @Inject\n    public MenuFacade(MenuRepository menuRepository, MenuMapper menuMapper) {\n        this.menuRepository = menuRepository;\n        this.menuMapper = menuMapper;\n    }\n\n    public MenuFacade() {\n    }\n\n    @Override\n    @Transactional\n    public List&lt;MenuDto&gt; getMenuList() {\n\n        log.trace(\"Fetching Menu entities from database\");\n        List&lt;MenuEntity&gt; menuEntities = menuRepository.findAll();\n        log.trace(\"Menu entities: {}\", menuEntities);\n\n        return menuEntities.stream().map(menuMapper::menuEntityToMenuDto).collect(Collectors.toList());\n    }\n}\n</code></pre>\n\n<p>I get an exception during deployment saying:</p>\n\n<pre><code>####&lt;Nov 7, 2018 5:17:36,164 PM GMT&gt; &lt;Error&gt; &lt;Deployer&gt; &lt;6738a70423ff&gt; &lt;backend&gt; &lt;[ACTIVE] ExecuteThread: '14' for queue: 'weblogic.kernel.Default (self-tuning)'&gt; &lt;&lt;WLS Kernel&gt;&gt; &lt;&gt; &lt;18022f2f-7d83-46d9-8868-1d1253f0571a-00000032&gt; &lt;1541611\n056164&gt; &lt;[severity-value: 8] [rid: 0] [partition-id: 0] [partition-name: DOMAIN] &gt; &lt;BEA-149265&gt; &lt;Failure occurred in the execution of deployment request with ID \"2093877349563649\" for task \"106\" on [partition-name: DOMAIN]. Error is: \"we\nblogic.management.DeploymentException: CDI deployment failure:null\"\nweblogic.management.DeploymentException: CDI deployment failure:null\n        at com.oracle.injection.integration.CDIAppDeploymentExtension.initCdi(CDIAppDeploymentExtension.java:95)\n        at com.oracle.injection.integration.CDIAppDeploymentExtension.activate(CDIAppDeploymentExtension.java:43)\n        at weblogic.application.internal.flow.AppDeploymentExtensionFlow.activate(AppDeploymentExtensionFlow.java:39)\n        at weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:752)\n        at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\n        at weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:262)\n        at weblogic.application.internal.EarDeployment.activate(EarDeployment.java:66)\n        at weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:165)\n        at weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:90)\n        at weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:631)\n        at weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:171)\n        at weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:121)\n        at weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:348)\n        at weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:907)\n        at weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1468)\n        at weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:459)\n        at weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:181)\n        at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:217)\n        at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:14)\n        at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:69)\n        at weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:670)\n        at weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\n        at weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\n        at weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\n        at weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\n        at weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:644)\n        at weblogic.work.ExecuteThread.execute(ExecuteThread.java:415)\n        at weblogic.work.ExecuteThread.run(ExecuteThread.java:355)\nCaused By: java.lang.NullPointerException\n        at org.jboss.weld.injection.InjectionPointFactory.getParameterInjectionPoints(InjectionPointFactory.java:250)\n        at org.jboss.weld.injection.AbstractCallableInjectionPoint.&lt;init&gt;(AbstractCallableInjectionPoint.java:52)\n        at org.jboss.weld.injection.ConstructorInjectionPoint.&lt;init&gt;(ConstructorInjectionPoint.java:63)\n        at org.jboss.weld.injection.InjectionPointFactory.createConstructorInjectionPoint(InjectionPointFactory.java:175)\n        at org.jboss.weld.injection.producer.SubclassedComponentInstantiator.forSubclassedEjb(SubclassedComponentInstantiator.java:58)\n        at org.jboss.weld.injection.producer.ejb.SessionBeanInjectionTarget.initInstantiator(SessionBeanInjectionTarget.java:86)\n        at org.jboss.weld.injection.producer.BasicInjectionTarget.&lt;init&gt;(BasicInjectionTarget.java:98)\n        at org.jboss.weld.injection.producer.BasicInjectionTarget.&lt;init&gt;(BasicInjectionTarget.java:82)\n        at org.jboss.weld.injection.producer.BeanInjectionTarget.&lt;init&gt;(BeanInjectionTarget.java:58)\n        at org.jboss.weld.injection.producer.ejb.SessionBeanInjectionTarget.&lt;init&gt;(SessionBeanInjectionTarget.java:67)\n        at org.jboss.weld.injection.producer.ejb.SessionBeanInjectionTarget.of(SessionBeanInjectionTarget.java:61)\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.chooseInjectionTarget(InjectionTargetFactoryImpl.java:105)\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:86)\n        at org.jboss.weld.bean.SessionBean.&lt;init&gt;(SessionBean.java:89)\n        at org.jboss.weld.bean.SessionBean.of(SessionBean.java:77)\n        at org.jboss.weld.bootstrap.AbstractBeanDeployer.createSessionBean(AbstractBeanDeployer.java:292)\n        at org.jboss.weld.bootstrap.BeanDeployer.createClassBeans(BeanDeployer.java:202)\n        at org.jboss.weld.bootstrap.BeanDeployment.createBeans(BeanDeployment.java:256)\n        at org.jboss.weld.bootstrap.WeldStartup.deployBeans(WeldStartup.java:397)\n        at org.jboss.weld.bootstrap.WeldBootstrap.deployBeans(WeldBootstrap.java:83)\n        at com.oracle.injection.provider.weld.WeldInjectionContainer.deploy(WeldInjectionContainer.java:143)\n        at com.oracle.injection.integration.CDIAppDeploymentExtension.initCdi(CDIAppDeploymentExtension.java:82)\n        at com.oracle.injection.integration.CDIAppDeploymentExtension.activate(CDIAppDeploymentExtension.java:43)\n        at weblogic.application.internal.flow.AppDeploymentExtensionFlow.activate(AppDeploymentExtensionFlow.java:39)\n        at weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:752)\n        at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\n        at weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:262)\n        at weblogic.application.internal.EarDeployment.activate(EarDeployment.java:66)\n        at weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:165)\n        at weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:90)\n        at weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:631)\n        at weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:171)\n        at weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:121)\n        at weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:348)\n        at weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:907)\n        at weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1468)\n        at weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:459)\n        at weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:181)\n        at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:217)\n        at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:14)\n        at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:69)\n        at weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:670)\n        at weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\n        at weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\n        at weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\n        at weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\n        at weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:644)\n        at weblogic.work.ExecuteThread.execute(ExecuteThread.java:415)\n        at weblogic.work.ExecuteThread.run(ExecuteThread.java:355)\n</code></pre>\n\n<p>Is it a bug with WebLogic? Why is one working, but the other doesn't?</p>\n"}, {"tags": ["java", "jgrasp"], "comments": [{"owner": {"reputation": 12572, "user_id": 8534008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2af9937cac66f08b6ee6e4219cc0d?s=128&d=identicon&r=PG&f=1", "display_name": "GBlodgett", "link": "https://stackoverflow.com/users/8534008/gblodgett"}, "edited": false, "score": 2, "creation_date": 1541619752, "post_id": 53196651, "comment_id": 93281813, "body": "<code>Integer.parseInt()</code>? However this doesn&#39;t help if the user does not enter a number"}, {"owner": {"reputation": 59, "user_id": 7027434, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BYs-q8ELuS8/AAAAAAAAAAI/AAAAAAAABE0/N93HvQEcvL0/photo.jpg?sz=128", "display_name": "Snare_Dragon", "link": "https://stackoverflow.com/users/7027434/snare-dragon"}, "reply_to_user": {"reputation": 12572, "user_id": 8534008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2af9937cac66f08b6ee6e4219cc0d?s=128&d=identicon&r=PG&f=1", "display_name": "GBlodgett", "link": "https://stackoverflow.com/users/8534008/gblodgett"}, "edited": false, "score": 0, "creation_date": 1541619778, "post_id": 53196651, "comment_id": 93281824, "body": "And yes I have looked all over for something like this question, and all the answers are way too complicated for me to even start to comprehend..."}, {"owner": {"reputation": 12572, "user_id": 8534008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2af9937cac66f08b6ee6e4219cc0d?s=128&d=identicon&r=PG&f=1", "display_name": "GBlodgett", "link": "https://stackoverflow.com/users/8534008/gblodgett"}, "edited": false, "score": 3, "creation_date": 1541619813, "post_id": 53196651, "comment_id": 93281837, "body": "I think you would be better to use the <code>hasNextInt()</code> method and loop while the user does not input a valid int"}, {"owner": {"reputation": 28727, "user_id": 9959152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSjIJ.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/9959152/deadpool"}, "edited": false, "score": 0, "creation_date": 1541619850, "post_id": 53196651, "comment_id": 93281851, "body": "Integer.valueOf(), check here <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/Integer.html</a>"}, {"owner": {"reputation": 59, "user_id": 7027434, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BYs-q8ELuS8/AAAAAAAAAAI/AAAAAAAABE0/N93HvQEcvL0/photo.jpg?sz=128", "display_name": "Snare_Dragon", "link": "https://stackoverflow.com/users/7027434/snare-dragon"}, "edited": false, "score": 0, "creation_date": 1541619882, "post_id": 53196651, "comment_id": 93281869, "body": "will that return false if the user inputs a string?"}, {"owner": {"reputation": 12572, "user_id": 8534008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2af9937cac66f08b6ee6e4219cc0d?s=128&d=identicon&r=PG&f=1", "display_name": "GBlodgett", "link": "https://stackoverflow.com/users/8534008/gblodgett"}, "edited": false, "score": 1, "creation_date": 1541620027, "post_id": 53196651, "comment_id": 93281936, "body": "@S.Nary No it would throw a <code>NumberFormatException</code>. <code>hasNextInt()</code> will return false if the user inputs a non int."}, {"owner": {"reputation": 496316, "user_id": 57695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/53ee9941b3fefef67175daf212e62d41?s=128&d=identicon&r=PG", "display_name": "Peter Lawrey", "link": "https://stackoverflow.com/users/57695/peter-lawrey"}, "edited": false, "score": 0, "creation_date": 1541620802, "post_id": 53196651, "comment_id": 93282347, "body": "@Snare_Dragon if hasNextInt() is false, call nextLine() to throw away the line of input."}, {"owner": {"reputation": 59, "user_id": 7027434, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BYs-q8ELuS8/AAAAAAAAAAI/AAAAAAAABE0/N93HvQEcvL0/photo.jpg?sz=128", "display_name": "Snare_Dragon", "link": "https://stackoverflow.com/users/7027434/snare-dragon"}, "reply_to_user": {"reputation": 12572, "user_id": 8534008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2af9937cac66f08b6ee6e4219cc0d?s=128&d=identicon&r=PG&f=1", "display_name": "GBlodgett", "link": "https://stackoverflow.com/users/8534008/gblodgett"}, "edited": false, "score": 0, "creation_date": 1541620850, "post_id": 53196651, "comment_id": 93282379, "body": "@GBlodgett   gotcha!!"}, {"owner": {"reputation": 12572, "user_id": 8534008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2af9937cac66f08b6ee6e4219cc0d?s=128&d=identicon&r=PG&f=1", "display_name": "GBlodgett", "link": "https://stackoverflow.com/users/8534008/gblodgett"}, "edited": false, "score": 0, "creation_date": 1541620925, "post_id": 53196651, "comment_id": 93282414, "body": "@Snare_Dragon I posted an answer to try to clarify"}], "answers": [{"tags": [], "owner": {"reputation": 1058, "user_id": 6118353, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SykR7dnvK_U/AAAAAAAAAAI/AAAAAAAAACE/fK45qacuqWw/photo.jpg?sz=128", "display_name": "Ashish Yadav", "link": "https://stackoverflow.com/users/6118353/ashish-yadav"}, "is_accepted": false, "score": 0, "last_activity_date": 1541620081, "creation_date": 1541620081, "answer_id": 53196750, "question_id": 53196651, "link": "https://stackoverflow.com/questions/53196651/parsing-a-string-to-an-integer/53196750#53196750", "title": "Parsing a String to an Integer", "body": "<p>You can do this in two ways.</p>\n\n<pre><code>- Integer.parseInt()\n- Integer.valueOf()\n\nString myStr = \"1\";\n\nint parsedInt = Integer.parseInt(myStr);\nint valueOf = Integer.valueOf(myStr);\n\nSystem.out.println(\"Parse Int: \" + parsedInt);\nSystem.out.println(\"Value Of: \" + valueOf);\n</code></pre>\n\n<p>Note: You might get exception if the input is not parseable. <code>NumberFormatException</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 398, "user_id": 3055269, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004186537056/picture?type=large", "display_name": "bembas", "link": "https://stackoverflow.com/users/3055269/bembas"}, "is_accepted": false, "score": -1, "last_activity_date": 1541620419, "creation_date": 1541620419, "answer_id": 53196833, "question_id": 53196651, "link": "https://stackoverflow.com/questions/53196651/parsing-a-string-to-an-integer/53196833#53196833", "title": "Parsing a String to an Integer", "body": "<p>You can use a Boolean method and a try-catch to check if you can parse the string to an Integer.</p>\n\n<pre><code>public static boolean isInteger(String s) {\n    try { \n        Integer.parseInt(s); \n    } catch(NumberFormatException e) { \n        return false; \n    } catch(NullPointerException e) {\n        return false;\n    }\n    // only got here if we didn't return false\n    return true;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12572, "user_id": 8534008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2af9937cac66f08b6ee6e4219cc0d?s=128&d=identicon&r=PG&f=1", "display_name": "GBlodgett", "link": "https://stackoverflow.com/users/8534008/gblodgett"}, "is_accepted": true, "score": 2, "last_activity_date": 1541620904, "creation_date": 1541620904, "answer_id": 53196959, "question_id": 53196651, "link": "https://stackoverflow.com/questions/53196651/parsing-a-string-to-an-integer/53196959#53196959", "title": "Parsing a String to an Integer", "body": "<p>If you want to ensure that the user has entered an <code>int</code> without throwing an exception if they don't you can use the <code>hasNextInt()</code> method:</p>\n\n<pre><code>System.out.println(\"Enter an int (0) to quit\");\n//While the user has not entered a valid int\nwhile (!input.hasNextInt()) {\n    System.out.println(\"Please enter an integer: \");\n    //Consume the bad input\n    input.nextLine();\n}\n</code></pre>\n\n<p>Which will loop until they enter a valid int. A sample run (<code>-</code> denotes user input):</p>\n\n<pre><code>Enter an int (0 to quit)\n-No\nPlease enter an integer: \n-Never!!\nPlease enter an integer: \n-Ok ok fine\nPlease enter an integer: \n-3\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 7027434, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BYs-q8ELuS8/AAAAAAAAAAI/AAAAAAAABE0/N93HvQEcvL0/photo.jpg?sz=128", "display_name": "Snare_Dragon", "link": "https://stackoverflow.com/users/7027434/snare-dragon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 1, "accepted_answer_id": 53196959, "answer_count": 3, "score": 2, "last_activity_date": 1541620904, "creation_date": 1541619708, "question_id": 53196651, "link": "https://stackoverflow.com/questions/53196651/parsing-a-string-to-an-integer", "title": "Parsing a String to an Integer", "body": "<p>So my biggest problem is that I cannot seem to remember how to parse a string into an int so that I can idiot proof my code. My goal here is to find out if the user enters in a word instead of an int and then I can explain to them what an integer is. Can someone please help? I just need a simple list of parsing commands so that I can study them for use in the future, once there is a simple list I think I'll be able to figure all the others out from there.</p>\n\n<pre><code>import java.util.Scanner;\nimport java.util.*;\npublic class SelfTestNumberNine\n{\n   public static void main(String[] args)\n   {\n   boolean test = false;\n   int num = 0;\n   int sum = 0;\n   int count = 0;\n   int pos = 0;\n   int neg = 0;\n   Scanner in = new Scanner(System.in);\n   while(!test)\n   {\n      num = 0;\n      System.out.print(\"Enter in an Integer Value: \");\n      String letta = in.next();\n      if(??parsing stuff goes here!!)\n      {\n         num = in.nextInt();\n         count++;\n         if(num &gt; 0)\n         {\n            pos++;\n            sum = sum + num;\n         }\n         else if(num &lt; 0)\n         {\n            neg++;\n            sum = num + sum;\n         }\n         else\n         {\n             test = true;\n         }\n      }\n      else\n      {\n         System.out.println(\"An Integer is a number that is positive or \n         negative,\\nand does not include a decimal point.\");\n      }\n   }//end while\n\n   System.out.println(\"Total:   \" + sum);\n   double avg = sum / count;\n   System.out.println(\"Average: \" + avg);\n  }//end main\n}//end class\n</code></pre>\n\n<p>Basically, the program asks the user to input integers, counts the number of positive and negatives, and prints out the total and average (Ignoring 0). The program ends when the user inputs a 0.</p>\n\n<p>P.S. Thanks for your time!! ]:-)</p>\n"}, {"tags": ["java", "java-8"], "answers": [{"comments": [{"owner": {"reputation": 2237, "user_id": 8347081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C2gg5Z3zU2w/AAAAAAAAAAI/AAAAAAAABXE/M2GK2Eixhms/photo.jpg?sz=128", "display_name": "mypetlion", "link": "https://stackoverflow.com/users/8347081/mypetlion"}, "edited": false, "score": 0, "creation_date": 1541619910, "post_id": 53196689, "comment_id": 93281885, "body": "Doesn&#39;t this assume that OP is using Maven?"}, {"owner": {"reputation": 1842, "user_id": 2968729, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/H2sbO.jpg?s=128&g=1", "display_name": "anat0lius", "link": "https://stackoverflow.com/users/2968729/anat0lius"}, "edited": false, "score": 2, "creation_date": 1541620144, "post_id": 53196689, "comment_id": 93282001, "body": "That&#39;s exactly what I want. And I use Maven, yes. If you dont mind, I will await if someone else knows some java native way to achieve the same."}, {"owner": {"reputation": 2063, "user_id": 967808, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/atiS9.jpg?s=128&g=1", "display_name": "Thiru", "link": "https://stackoverflow.com/users/967808/thiru"}, "edited": false, "score": 0, "creation_date": 1541620214, "post_id": 53196689, "comment_id": 93282035, "body": "Sure. I would also be interested as well"}], "tags": [], "owner": {"reputation": 2063, "user_id": 967808, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/atiS9.jpg?s=128&g=1", "display_name": "Thiru", "link": "https://stackoverflow.com/users/967808/thiru"}, "is_accepted": false, "score": 3, "last_activity_date": 1541620170, "last_edit_date": 1541620170, "creation_date": 1541619872, "answer_id": 53196689, "question_id": 53196603, "link": "https://stackoverflow.com/questions/53196603/move-nested-map-values-of-a-mapstring-object-to-the-top-level/53196689#53196689", "title": "&quot;Move&quot; nested map values of a Map&lt;String, Object&gt; to the top level", "body": "<p>There is a <a href=\"https://github.com/wnameless/json-flattener\" rel=\"nofollow noreferrer\">library</a> called <code>Json Flattener</code>. I guess it will solve your problem. Include the library into your project using maven:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.github.wnameless&lt;/groupId&gt;\n  &lt;artifactId&gt;json-flattener&lt;/artifactId&gt;\n &lt;version&gt;0.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>In your case:</p>\n\n<pre><code>  String json = \"{ \\\"key1\\\": \\\"value1\\\", \\\"key2\\\": { \\\"nestedKey1\\\": \\\"nested value\\\", \\\"nestedKey2\\\": { \\\"nestedKey1\\\": \\\"nested value\\\" } } }\";\n  Map&lt;String, Object&gt; flattenJson = JsonFlattener.flattenAsMap(json);\n  System.out.println(flattenJson);\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>{\"key1\":\"value1\",\"key2.nestedKey1\":\"nested value\",\"key2.nestedKey2.nestedKey1\":\"nested value\"}</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 10245, "user_id": 4086177, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/032eab83ad219f13bbc21714d55438f3?s=128&d=identicon&r=PG&f=1", "display_name": "Beri", "link": "https://stackoverflow.com/users/4086177/beri"}, "is_accepted": true, "score": 4, "last_activity_date": 1541620545, "creation_date": 1541620545, "answer_id": 53196865, "question_id": 53196603, "link": "https://stackoverflow.com/questions/53196603/move-nested-map-values-of-a-mapstring-object-to-the-top-level/53196865#53196865", "title": "&quot;Move&quot; nested map values of a Map&lt;String, Object&gt; to the top level", "body": "<p>Yes, you can do it in Java8 too.</p>\n\n<p>Main test method:</p>\n\n<pre><code>   Map&lt;String, Object&gt; in = new HashMap&lt;&gt;();\n   in.put(\"key1\", \"val1\");\n   Map&lt;String, Object&gt; lvl1 = new HashMap&lt;&gt;();\n   lvl1.put(\"key2\", \"val2\");\n   lvl1.put(\"key3\", Collections.singletonMap(\"k3\", \"v3\"));\n   in.put(\"key2\", lvl1);\n\n   Map&lt;String, Object&gt; out = flatten(in);\n</code></pre>\n\n<p>Transformer methods:</p>\n\n<pre><code>private Map&lt;String, Object&gt; flatten(Map&lt;String, Object&gt; in) {\n    return in.entrySet().stream()\n        .flatMap(entry -&gt; flatten(entry).entrySet().stream())\n        .collect(Collectors.toMap( \n               Map.Entry::getKey, \n               Map.Entry::getValue));\n}\n\nprivate Map&lt;String, Object&gt; flatten(Map.Entry&lt;String, Object&gt; in) {\n  // for other then Map objects return them\n  if (!Map.class.isInstance(in.getValue())) {\n    return Collections.singletonMap(in.getKey(), in.getValue());\n  }\n  // extract the key prefix for nested objects\n  String prefix = in.getKey();\n  Map&lt;String, Object&gt; values = (Map&lt;String, Object&gt;) in.getValue();\n  // create a new Map, with prefix added to each key\n  Map&lt;String, Object&gt; flattenMap = new HashMap&lt;&gt;();\n  values.keySet().forEach(key -&gt; {\n    // use a dot as a joining char\n    flattenMap.put(prefix + \".\" + key, values.get(key));\n  });\n  // use recursion to flatten the structure deeper\n  return flatten(flattenMap);\n}\n</code></pre>\n"}], "owner": {"reputation": 1842, "user_id": 2968729, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/H2sbO.jpg?s=128&g=1", "display_name": "anat0lius", "link": "https://stackoverflow.com/users/2968729/anat0lius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1241, "favorite_count": 1, "accepted_answer_id": 53196865, "answer_count": 2, "score": 7, "last_activity_date": 1541620545, "creation_date": 1541619491, "last_edit_date": 1541619688, "question_id": 53196603, "link": "https://stackoverflow.com/questions/53196603/move-nested-map-values-of-a-mapstring-object-to-the-top-level", "title": "&quot;Move&quot; nested map values of a Map&lt;String, Object&gt; to the top level", "body": "<p>Take a JSON that has been converted to <code>Map&lt;String, Object&gt;</code>:</p>\n\n<pre><code>{\n  \"key1\": \"value1\",\n  \"key2\": {\n    \"nestedKey1\": \"nested value\",\n    \"nestedKey2\": {\n      \"nestedKey1\": \"nested value\"\n    }\n  }\n}\n</code></pre>\n\n<p>Where <code>Object</code> value could be some primitive type or a nested <code>Map&lt;String, Object&gt;</code>. \nMy goal is to get a <em>flat map</em>:</p>\n\n<pre><code>{\n  \"key1\": \"value1\",\n  \"key2.nestedKey1\": \"nested value\",\n  \"key2.nestedKey2.nestedKey1\": \"nested value\"\n}\n</code></pre>\n\n<p>How? Any library that already does it?</p>\n"}, {"tags": ["java", "boolean", "curly-braces"], "comments": [{"owner": {"reputation": 12572, "user_id": 8534008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2af9937cac66f08b6ee6e4219cc0d?s=128&d=identicon&r=PG&f=1", "display_name": "GBlodgett", "link": "https://stackoverflow.com/users/8534008/gblodgett"}, "edited": false, "score": 5, "creation_date": 1541619316, "post_id": 53196546, "comment_id": 93281612, "body": "The <code>if-else</code> block needs to be in a method"}, {"owner": {"reputation": 166951, "user_id": 1707091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dJrV3.jpg?s=128&g=1", "display_name": "rgettman", "link": "https://stackoverflow.com/users/1707091/rgettman"}, "edited": false, "score": 1, "creation_date": 1541619387, "post_id": 53196546, "comment_id": 93281645, "body": "The braces that resolve your error create an instance initializer for your code to be in.  Statements such (e.g. if/else) need to be in blocks, methods, or constructors."}, {"owner": {"reputation": 19, "user_id": 10549121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1791fc1c890ea34acc2a80f63c43e682?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/10549121/andy"}, "edited": false, "score": 0, "creation_date": 1541619509, "post_id": 53196546, "comment_id": 93281699, "body": "Thanks man, I was soooo stupid."}], "owner": {"reputation": 19, "user_id": 10549121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1791fc1c890ea34acc2a80f63c43e682?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/10549121/andy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "closed_date": 1541619415, "answer_count": 0, "score": 0, "last_activity_date": 1541619463, "creation_date": 1541619261, "question_id": 53196546, "link": "https://stackoverflow.com/questions/53196546/why-are-curly-braces-needed-for-boolean-variable-in-java-eclipse", "closed_reason": "Duplicate", "title": "Why are curly-braces needed for boolean variable in java eclipse?", "body": "<p>I have no idea why this code makes an error.</p>\n\n<pre><code>public class TestIf {\n\n    boolean money = true; // { &lt;- This resolves the error.\n\n    if (money) {\n        System.out.println(\"Take a taxi\");\n    }\n    else {\n        System.out.println(\"Walk\");\n    }\n// } &lt;- This resolves error.\n}\n</code></pre>\n\n<p>Is boolean not a variable, but is a kind of loop? I can't understand at all. Help me! Thanks in advance.</p>\n"}, {"tags": ["java", "multithreading", "concurrency", "executorservice", "executor"], "comments": [{"owner": {"reputation": 7720, "user_id": 8921755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dec518adc2024784cc770596a0aa200?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/8921755/ivan"}, "edited": false, "score": 0, "creation_date": 1541619309, "post_id": 53196393, "comment_id": 93281609, "body": "You can use <code>SingleThreadedExecutor</code>"}, {"owner": {"reputation": 3509, "user_id": 7470253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5e0a1bb750b2968ca1655e76895079?s=128&d=identicon&r=PG&f=1", "display_name": "M. Prokhorov", "link": "https://stackoverflow.com/users/7470253/m-prokhorov"}, "reply_to_user": {"reputation": 7720, "user_id": 8921755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dec518adc2024784cc770596a0aa200?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/8921755/ivan"}, "edited": false, "score": 1, "creation_date": 1541620391, "post_id": 53196393, "comment_id": 93282131, "body": "@Ivan, he can&#39;t - he still needs thread pool for executing the tasks."}, {"owner": {"reputation": 5538, "user_id": 812787, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9bfd1118658eeaac257e60eb9f0cb5de?s=128&d=identicon&r=PG", "display_name": "tsolakp", "link": "https://stackoverflow.com/users/812787/tsolakp"}, "edited": false, "score": 1, "creation_date": 1541621116, "post_id": 53196393, "comment_id": 93282496, "body": "What are you going to do with the task that is running for more than timeout period? How are you going to cancel the task or time it out? Looks like you need to have some king of custom timeout hook in <code>performTask</code>."}, {"owner": {"reputation": 3509, "user_id": 7470253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5e0a1bb750b2968ca1655e76895079?s=128&d=identicon&r=PG&f=1", "display_name": "M. Prokhorov", "link": "https://stackoverflow.com/users/7470253/m-prokhorov"}, "reply_to_user": {"reputation": 5538, "user_id": 812787, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9bfd1118658eeaac257e60eb9f0cb5de?s=128&d=identicon&r=PG", "display_name": "tsolakp", "link": "https://stackoverflow.com/users/812787/tsolakp"}, "edited": false, "score": 0, "creation_date": 1541622001, "post_id": 53196393, "comment_id": 93282912, "body": "@tsolakp, we have this same sort of thing running in our system - it needs a custom worker thread implementation, and a separate watchdog threads that wake up after a specified timeout and try to kill the thread if it hanged. It&#39;s a pretty long thing to add into an answer, I feel. Do you think my description is enough to leave at that?"}, {"owner": {"reputation": 5538, "user_id": 812787, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9bfd1118658eeaac257e60eb9f0cb5de?s=128&d=identicon&r=PG", "display_name": "tsolakp", "link": "https://stackoverflow.com/users/812787/tsolakp"}, "reply_to_user": {"reputation": 3509, "user_id": 7470253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5e0a1bb750b2968ca1655e76895079?s=128&d=identicon&r=PG&f=1", "display_name": "M. Prokhorov", "link": "https://stackoverflow.com/users/7470253/m-prokhorov"}, "edited": false, "score": 0, "creation_date": 1541622442, "post_id": 53196393, "comment_id": 93283102, "body": "@M. Prokhorov. Agree. The OP most likely needs to have a custom timeout or thread termination implementation."}], "answers": [{"comments": [{"owner": {"reputation": 534, "user_id": 8814573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24553885149fdb4b3ef1dba54ae3ac88?s=128&d=identicon&r=PG&f=1", "display_name": "S.O.S", "link": "https://stackoverflow.com/users/8814573/s-o-s"}, "edited": false, "score": 0, "creation_date": 1541620736, "post_id": 53196459, "comment_id": 93282310, "body": "A short explanation would be helpful to understand how this answer addresses the two questions in the OP. Thanks."}], "tags": [], "owner": {"reputation": 496316, "user_id": 57695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/53ee9941b3fefef67175daf212e62d41?s=128&d=identicon&r=PG", "display_name": "Peter Lawrey", "link": "https://stackoverflow.com/users/57695/peter-lawrey"}, "is_accepted": false, "score": 0, "last_activity_date": 1541618919, "creation_date": 1541618919, "answer_id": 53196459, "question_id": 53196393, "link": "https://stackoverflow.com/questions/53196393/executorservice-execute-each-task-with-a-specific-time-limit/53196459#53196459", "title": "ExecutorService - Execute Each Task with a Specific Time Limit", "body": "<p>You can take the time with System.currentTimeMillis(); then you add the maximum time, eg 120_000 milliseconds. \nWhen you wait you subtract the current time. I.e. you only wait until the maximum time is reached. </p>\n"}, {"tags": [], "owner": {"reputation": 50650, "user_id": 3182664, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/2s35X.png?s=128&g=1", "display_name": "Marco13", "link": "https://stackoverflow.com/users/3182664/marco13"}, "is_accepted": false, "score": 0, "last_activity_date": 1541635149, "creation_date": 1541635149, "answer_id": 53199684, "question_id": 53196393, "link": "https://stackoverflow.com/questions/53196393/executorservice-execute-each-task-with-a-specific-time-limit/53199684#53199684", "title": "ExecutorService - Execute Each Task with a Specific Time Limit", "body": "<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#invokeAll-java.util.Collection-long-java.util.concurrent.TimeUnit-\" rel=\"nofollow noreferrer\"><code>ExecutorService#invokeAll</code></a> could be the key here. </p>\n\n<p>The question is a bit hard to understand (maybe even <em>because</em> you tried to describe it precisely? ;-)). So I created an example, trying to wrap my head around it. Even if this is <strong>not</strong> what you intended, maybe you can explain in how far this differs from your goal, so that the question can be clarified or others may write a better answer.</p>\n\n<p>The example creates the tasks, as <code>Callable</code> objects, that are put into a list. Such a list can be passed to <code>ExecutorService#invokeAll</code>. (In your case, you could probably create these instances from your <code>Runnable</code> tasks with <code>Executors#callable</code>). There are 5 tasks created. Each task takes, by default, 2000ms to execute. Task <code>\"C\"</code> is the odd one out, and takes 8000ms. The maximum execution time should be 5000ms. </p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.CancellationException;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\nimport java.util.concurrent.TimeUnit;\n\npublic class ExecutorServiceLimitTaskTime\n{\n    private static Map&lt;String, Long&gt; taskSubmitMs = \n        new ConcurrentHashMap&lt;String, Long&gt;();\n    private static Map&lt;String, Long&gt; taskStartMs = \n        new ConcurrentHashMap&lt;String, Long&gt;();\n    private static Map&lt;String, Long&gt; taskFinishedMs = \n        new ConcurrentHashMap&lt;String, Long&gt;();\n\n    public static void main(String[] args) throws Exception\n    {\n        ExecutorService executorService = Executors.newFixedThreadPool(3);\n\n        List&lt;String&gt; tasks = Arrays.asList(\"A\", \"B\", \"C\", \"D\", \"E\");\n\n        List&lt;Callable&lt;String&gt;&gt; callables = new ArrayList&lt;Callable&lt;String&gt;&gt;();\n        for (String task : tasks)\n        {\n            taskSubmitMs.put(task, System.currentTimeMillis());\n\n            callables.add(new Callable&lt;String&gt;()\n            {\n                @Override\n                public String call()\n                {\n                    taskStartMs.put(task, System.currentTimeMillis());\n\n                    long durationMs = 2000;\n                    if (task.equals(\"C\"))\n                    {\n                        durationMs = 8000;\n                    }\n\n                    performTask(task, durationMs);\n                    if (!Thread.currentThread().isInterrupted())\n                    {\n                        taskFinishedMs.put(task, System.currentTimeMillis());\n                    }\n                    return task;\n                }\n            });\n        }\n\n        List&lt;Future&lt;String&gt;&gt; futures = \n            executorService.invokeAll(callables, 5000, TimeUnit.MILLISECONDS);\n\n        for (Future&lt;String&gt; future : futures)\n        {\n            try\n            {\n                future.get();\n            }\n            catch (CancellationException e) \n            {\n                System.out.println(\"One task was cancelled\");\n            }\n        }\n\n        for (String task : tasks)\n        {\n            Long submitMs = taskSubmitMs.get(task);\n            Long startMs = taskStartMs.get(task);\n            Long finishedMs = taskFinishedMs.get(task);\n\n            if (finishedMs != null)\n            {\n                long waitMs = startMs - submitMs;\n                long runMs = finishedMs - startMs;\n                long totalMs = finishedMs - submitMs;\n                System.out.printf(\n                    \"Task %-3s waited %5d ms and ran %5d ms, total %5d ms\\n\", \n                    task, waitMs, runMs, totalMs);\n            }\n            else\n            {\n                System.out.printf(\n                    \"Task %-3s was cancelled\\n\", task);\n\n            }\n        }\n\n    }\n\n    private static void performTask(String task, long durationMs)\n    {\n        System.out.println(\"Executing \" + task);\n        try\n        {\n            Thread.sleep(durationMs);\n        }\n        catch (InterruptedException e)\n        {\n            Thread.currentThread().interrupt();\n        }\n        System.out.println(\"Executing \" + task + \" DONE\");\n    }\n\n}\n</code></pre>\n\n<p>The summary that is printed at the end shows this result:</p>\n\n<pre><code>Task A   waited    16 ms and ran  2002 ms, total  2018 ms\nTask B   waited     3 ms and ran  2002 ms, total  2005 ms\nTask C   was cancelled\nTask D   waited  2005 ms and ran  2000 ms, total  4005 ms\nTask E   waited  2005 ms and ran  2000 ms, total  4005 ms\n</code></pre>\n\n<p>This shows that</p>\n\n<ul>\n<li>The tasks that started immediately ran for 2000ms</li>\n<li>The tasks that had to wait for others also ran for 2000ms (but 4000ms in total)</li>\n<li>The task that took too long was cancelled after 5000ms</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 534, "user_id": 8814573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24553885149fdb4b3ef1dba54ae3ac88?s=128&d=identicon&r=PG&f=1", "display_name": "S.O.S", "link": "https://stackoverflow.com/users/8814573/s-o-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1541732039, "creation_date": 1541732039, "answer_id": 53219188, "question_id": 53196393, "link": "https://stackoverflow.com/questions/53196393/executorservice-execute-each-task-with-a-specific-time-limit/53219188#53219188", "title": "ExecutorService - Execute Each Task with a Specific Time Limit", "body": "<p>OK, I'm not sure if my question was fully understood but I will attempt to answer my own question with the solution I came up with (this might help clarify the question to others). I think @Peter Lawrey eluded to this answer but the answer was too short to know for sure.</p>\n\n<pre><code>        int timeLimitOfIndividualTaskInSeconds = 120;\n        int fixedThreadPoolCount = 10;\n\n        ExecutorService executorService = Executors.newFixedThreadPool(fixedThreadPoolCount);\n        ArrayList&lt;Future&lt;?&gt;&gt; futuresList = new ArrayList&lt;Future&lt;?&gt;&gt;();\n\n        for (String singleTask: taskList) {\n\n            futuresList.add(executorService.submit( new Runnable(){      \n                @Override\n                public void run(){\n                    try {\n                        executeTask(singleTask);\n                    } catch (IOException | InterruptedException | ExecutionException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }));        \n\n        }\n\n        long beforeTimeInMilli = System.currentTimeMillis();\n        long beforeTimeInSeconds = TimeUnit.MILLISECONDS.toSeconds(beforeTimeInMilli);\n        int counter = 0;\n\n        long timeoutInSeconds = timeLimitOfIndividualTaskInSeconds;\n\n        for(Future&lt;?&gt; future : futuresList) {\n            if (counter % fixedThreadPoolCount == 0) {\n\n                // resets time limit to initial limit since next batch of tasks are beginning to execute\n                timeoutInSeconds = timeLimitOfIndividualTaskInSeconds;\n            }\n\n            try {\n                future.get(timeoutInSeconds, TimeUnit.SECONDS);\n            } catch (Exception e){\n                e.printStackTrace();\n                future.cancel(true); //stops the underlying task\n            }\n\n            counter++;\n\n            long afterTimeInMilli = System.currentTimeMillis();\n            long afterTimeInSeconds = TimeUnit.MILLISECONDS.toSeconds(afterTimeInMilli);\n\n            long taskDurationInSeconds = afterTimeInSeconds - beforeTimeInSeconds;\n            timeoutInSeconds = timeoutInSeconds - taskDurationInSeconds;\n\n        }   \n</code></pre>\n\n<p>This guarantees two things: </p>\n\n<p><strong>1)</strong> All tasks that have been submitted <em>and</em> started executing at the same time (i.e, \"same batch\") will run for a <em>max</em> of 120 seconds (but if any task completes before 120 seconds it will not continue block)</p>\n\n<p><strong>2)</strong> Prior tasks in the same batch will not cause subsequent tasks in that batch to execute for longer than 120 second time limit (since we deduct execution time of previous tasks from timeout value in subsequent tasks)</p>\n\n<p>I find this simple and elegant solution - but of course I'm happy to hear from anyone who is able to enhance or comment on this solution.   </p>\n"}], "owner": {"reputation": 534, "user_id": 8814573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24553885149fdb4b3ef1dba54ae3ac88?s=128&d=identicon&r=PG&f=1", "display_name": "S.O.S", "link": "https://stackoverflow.com/users/8814573/s-o-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 880, "favorite_count": 1, "answer_count": 3, "score": 6, "last_activity_date": 1541732039, "creation_date": 1541618597, "last_edit_date": 1541725410, "question_id": 53196393, "link": "https://stackoverflow.com/questions/53196393/executorservice-execute-each-task-with-a-specific-time-limit", "title": "ExecutorService - Execute Each Task with a Specific Time Limit", "body": "<p>I'm creating an <code>ExecutorService</code> to execute some tasks which under normal conditions is expected to take one minute to complete but under no circumstances should be allowed to run for more than two minutes <em>from when the task started</em>.</p>\n\n<p>My code is as follows:</p>\n\n<pre><code>ExecutorService executorService = Executors.newFixedThreadPool(10);\nArrayList&lt;Future&lt;?&gt;&gt; futuresList = new ArrayList&lt;Future&lt;?&gt;&gt;();\n\n\n\nfor (String singleTask: taskList) { \n                futuresList.add(executorService.submit( new Runnable(){      \n                       @Override\n                       public void run(){\n                        try {\n                            performTask(p1, singleTask, p3);\n                        } catch (IOException | InterruptedException | ExecutionException e) {\n                            // TODO Auto-generated catch block\n                            e.printStackTrace();\n                }\n              }\n         }));       \n\n    }\n\n\n\nfor(Future&lt;?&gt; future : futures) {\n    future.get(120, TimeUnit.SECONDS); \n}\n</code></pre>\n\n<p>This will block until specified timeout and then move on. My problem(s) are as follows:</p>\n\n<p>1) If <code>task1</code> blocks for two minutes and <code>task2</code> also blocks for two minutes - then <code>task2</code> will have \"blocked\" for a total of 4 minutes (since <code>future.get(120, TimeUnit.SECONDS);</code>  is not called on task2 until <code>task1</code> finishes blocking) - even though both tasks were submitted and started executing at the same time</p>\n\n<p>2) If I submit more than 10 tasks, task 11+ may never block for the desired amount of time, <em>if</em> previous tasks have not complete by the time <code>future.get(120, TimeUnit.SECONDS);</code>  is called on the 11th task</p>\n\n<p>My goal is to have each individual task execute for a max of two minutes, regardless of the number of tasks in list and regardless of how many tasks come before it or after it.</p>\n\n<p>Thanks </p>\n"}, {"tags": ["java", "concurrency", "java.util.concurrent"], "comments": [{"owner": {"reputation": 48460, "user_id": 749588, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/f7hIm.jpg?s=128&g=1", "display_name": "Jean Logeart", "link": "https://stackoverflow.com/users/749588/jean-logeart"}, "edited": false, "score": 1, "creation_date": 1541618648, "post_id": 53196357, "comment_id": 93281273, "body": "Why are they synchronized? What resource is being accessed concurrently? This is what you should focus on"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8870331"}, "reply_to_user": {"reputation": 48460, "user_id": 749588, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/f7hIm.jpg?s=128&g=1", "display_name": "Jean Logeart", "link": "https://stackoverflow.com/users/749588/jean-logeart"}, "edited": false, "score": 0, "creation_date": 1541618868, "post_id": 53196357, "comment_id": 93281385, "body": "@JeanLogeart I follow your thought process, but I would like to omit that from the question. That is, consider this is a generic/educational question."}, {"owner": {"reputation": 2251, "user_id": 6650475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3543c7ccbd9324d2bc28abd8bd8d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew S", "link": "https://stackoverflow.com/users/6650475/andrew-s"}, "edited": false, "score": 0, "creation_date": 1541619234, "post_id": 53196357, "comment_id": 93281565, "body": "Those <code>while</code> loops become busy loops until the lock value is updated.  Does profiling show a bottleneck?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8870331"}, "reply_to_user": {"reputation": 2251, "user_id": 6650475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3543c7ccbd9324d2bc28abd8bd8d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew S", "link": "https://stackoverflow.com/users/6650475/andrew-s"}, "edited": false, "score": 0, "creation_date": 1541619340, "post_id": 53196357, "comment_id": 93281623, "body": "@AndrewS In this specific scenario, the <code>while</code> loop in <code>f2</code> is almost always an <code>if</code>. Again, this is a generic question."}, {"owner": {"reputation": 48460, "user_id": 749588, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/f7hIm.jpg?s=128&g=1", "display_name": "Jean Logeart", "link": "https://stackoverflow.com/users/749588/jean-logeart"}, "edited": false, "score": 1, "creation_date": 1541619399, "post_id": 53196357, "comment_id": 93281650, "body": "If you want mutual exclusion, <code>synchonized</code> is a better and more natural choice. You better block the thread and not consume any CPU than burning CPU cycles to check if you are not blocked any more. Those cycles can be used for computation for some other thread."}, {"owner": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "reply_to_user": {"reputation": 48460, "user_id": 749588, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/f7hIm.jpg?s=128&g=1", "display_name": "Jean Logeart", "link": "https://stackoverflow.com/users/749588/jean-logeart"}, "edited": false, "score": 0, "creation_date": 1541619458, "post_id": 53196357, "comment_id": 93281675, "body": "@JeanLogeart just running a simple test I see that <code>synchronized</code> is about 50% slower than the atomic int version"}, {"owner": {"reputation": 48460, "user_id": 749588, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/f7hIm.jpg?s=128&g=1", "display_name": "Jean Logeart", "link": "https://stackoverflow.com/users/749588/jean-logeart"}, "reply_to_user": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "edited": false, "score": 0, "creation_date": 1541620277, "post_id": 53196357, "comment_id": 93282070, "body": "@flakes That is true in simple scenarios, but keep in mind that is at the expense of CPU. If you were trying to execute work on the side (for instance responding to queries in a server, other programs, etc), the <code>while</code> loop will cost you."}, {"owner": {"reputation": 5538, "user_id": 812787, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9bfd1118658eeaac257e60eb9f0cb5de?s=128&d=identicon&r=PG", "display_name": "tsolakp", "link": "https://stackoverflow.com/users/812787/tsolakp"}, "edited": false, "score": 0, "creation_date": 1541620547, "post_id": 53196357, "comment_id": 93282223, "body": "Have you considered using <code>ReentrantReadWriteLock</code>: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 23502, "user_id": 175070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d7266ccba60891b8e94000b6d0004e1?s=128&d=identicon&r=PG", "display_name": "Mike Strobel", "link": "https://stackoverflow.com/users/175070/mike-strobel"}, "edited": false, "score": 0, "creation_date": 1541621196, "post_id": 53196357, "comment_id": 93282546, "body": "How are you benchmarking, and with which JVM?  In a simple jmh benchmark, the CAS solution is faster for me when running under JDK 8, but <code>synchronized</code> dominates under JDK 11.  I advise using <code>synchronized</code> over busy CAS spinning when contention is low.  Performance is usually about the same, and it&#39;s easier to reason about."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8870331"}, "reply_to_user": {"reputation": 23502, "user_id": 175070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d7266ccba60891b8e94000b6d0004e1?s=128&d=identicon&r=PG", "display_name": "Mike Strobel", "link": "https://stackoverflow.com/users/175070/mike-strobel"}, "edited": false, "score": 0, "creation_date": 1541621970, "post_id": 53196357, "comment_id": 93282899, "body": "@MikeStrobel Interesting, thanks. I did not yet do any benchmarking, I am currently mostly interested in different approaches. That said, I am currently targeting OpenJDK v8."}, {"owner": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "reply_to_user": {"reputation": 23502, "user_id": 175070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d7266ccba60891b8e94000b6d0004e1?s=128&d=identicon&r=PG", "display_name": "Mike Strobel", "link": "https://stackoverflow.com/users/175070/mike-strobel"}, "edited": false, "score": 0, "creation_date": 1541622119, "post_id": 53196357, "comment_id": 93282948, "body": "@MikeStrobel I made a simple timer <code>System.nanoTime</code> to calculate time for a billion iterations of a method which uses <code>synchronized</code> /<code>AtomicInt</code> and where the critical section is empty."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8870331"}, "edited": false, "score": 0, "creation_date": 1541619870, "post_id": 53196658, "comment_id": 93281861, "body": "Oops, thank you. I altered my question to reflect this."}, {"owner": {"reputation": 492, "user_id": 10070933, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pW3mHEay_uw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p0bY2ESI63Xj5Ig4b160TFcn5KwA/mo/photo.jpg?sz=128", "display_name": "Jeff Brower", "link": "https://stackoverflow.com/users/10070933/jeff-brower"}, "edited": false, "score": 0, "creation_date": 1541619928, "post_id": 53196658, "comment_id": 93281897, "body": "@pbillen Ah okay, got it. Have you run a test with the updated version? I wouldn&#39;t expect it to be much faster (if any) than a simple <code>synchronized</code> method."}, {"owner": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "edited": false, "score": 0, "creation_date": 1541620019, "post_id": 53196658, "comment_id": 93281930, "body": "&quot;I don&#39;t believe that this will be any faster than using synchronized methods&quot; Not true. Using synchronized is about 50% slower than the atomic int version, at least on my machine"}, {"owner": {"reputation": 496316, "user_id": 57695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/53ee9941b3fefef67175daf212e62d41?s=128&d=identicon&r=PG", "display_name": "Peter Lawrey", "link": "https://stackoverflow.com/users/57695/peter-lawrey"}, "edited": false, "score": 0, "creation_date": 1541620114, "post_id": 53196658, "comment_id": 93281983, "body": "As a percentage, this is much faster, but if the locked section is non trivial you won&#39;t notice the difference. If it is trivial you might be better off making the operation atomic instead of wrapping like this."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8870331"}, "edited": false, "score": 0, "creation_date": 1541620190, "post_id": 53196658, "comment_id": 93282025, "body": "@JeffBrower I believe it depends on the rate of which the method is called and the computational complexity. As stated, <code>f2</code> is called at a very high rate and it returns very quickly."}], "tags": [], "owner": {"reputation": 492, "user_id": 10070933, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pW3mHEay_uw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p0bY2ESI63Xj5Ig4b160TFcn5KwA/mo/photo.jpg?sz=128", "display_name": "Jeff Brower", "link": "https://stackoverflow.com/users/10070933/jeff-brower"}, "is_accepted": false, "score": 1, "last_activity_date": 1541619726, "creation_date": 1541619726, "answer_id": 53196658, "question_id": 53196357, "link": "https://stackoverflow.com/questions/53196357/replace-synchronized-with-atomicwhile-loop-in-case-of-low-lock-contention/53196658#53196658", "title": "Replace synchronized with atomic+while loop in case of low lock contention", "body": "<p>Your example isn't doing what you want it to. You are actually executing your code when the lock <strong>is</strong> being used. Try something like this:</p>\n\n<pre><code>public void f1() {\n    while (!lock.compareAndSet(0, 1)) {\n    }\n\n    try {\n        ...\n    } finally {\n        lock.set(0);\n    }\n}\n</code></pre>\n\n<p>To answer your question, I don't believe that this will be any faster than using <code>synchronized</code> methods, and this method is harder to read and comprehend.</p>\n"}, {"comments": [{"owner": {"reputation": 23502, "user_id": 175070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d7266ccba60891b8e94000b6d0004e1?s=128&d=identicon&r=PG", "display_name": "Mike Strobel", "link": "https://stackoverflow.com/users/175070/mike-strobel"}, "edited": false, "score": 0, "creation_date": 1541620780, "post_id": 53196803, "comment_id": 93282337, "body": "@pbillen It would be useful to know the behavioral differences between <code>f1</code> and <code>f2</code>.  For example, if only one of them performs modifications, then that is useful information, because that&#39;s something we can optimize for."}], "tags": [], "owner": {"reputation": 496316, "user_id": 57695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/53ee9941b3fefef67175daf212e62d41?s=128&d=identicon&r=PG", "display_name": "Peter Lawrey", "link": "https://stackoverflow.com/users/57695/peter-lawrey"}, "is_accepted": false, "score": 0, "last_activity_date": 1541620287, "creation_date": 1541620287, "answer_id": 53196803, "question_id": 53196357, "link": "https://stackoverflow.com/questions/53196357/replace-synchronized-with-atomicwhile-loop-in-case-of-low-lock-contention/53196803#53196803", "title": "Replace synchronized with atomic+while loop in case of low lock contention", "body": "<p>Another approach is to use a timestamp lock which works like a modification count. This works well if you have a high read to write ratio.</p>\n\n<p>Another approach is to have an immutable object which stores state via an AtomicReference. This works well if you have a very high read to write ratio.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8870331"}, "edited": false, "score": 0, "creation_date": 1541679952, "post_id": 53198256, "comment_id": 93303377, "body": "Thank you for your detailed answer, very much appreciated. The idea of having a &#39;fast&#39; and a &#39;slow&#39; path to acquire the stream is an interesting one. Though, I am not sure if the code above is correct. Let me explain. Assume thread <code>t1</code> is executing <code>f1</code> and is about to execute <code>currentInfo = newInfo;</code>. Now, thread <code>t2</code> executes <code>f2(position)</code>. Assume that <code>acquireStream()</code> can just quickly return the current stream. Now the calls <code>s.setPosition(newPosition);</code> and <code>s.resumePosition = newPosition;</code> will be lost forever, because <code>t1</code> is not seeing that anymore in <code>f1</code>. Or am I missing something?"}, {"owner": {"reputation": 23502, "user_id": 175070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d7266ccba60891b8e94000b6d0004e1?s=128&d=identicon&r=PG", "display_name": "Mike Strobel", "link": "https://stackoverflow.com/users/175070/mike-strobel"}, "edited": false, "score": 0, "creation_date": 1541681980, "post_id": 53198256, "comment_id": 93304413, "body": "You\u2019re correct, and the code assumes that <code>f1</code> is only called once the stream is known to have faulted, so any concurrent work done by <code>f2</code> is \u201clost\u201d (in the sense that it would be unable to complete since the \u201cold\u201d stream is broken)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8870331"}, "edited": false, "score": 0, "creation_date": 1541682304, "post_id": 53198256, "comment_id": 93304581, "body": "Right, I did take that inferred assumption into account. Though I am not sure if I understand your assumption and if it is practical. Typically, <code>f1</code> is only called when the stream/socket is broken, for example due to a disconnect. Unless you have a way to &#39;pause&#39; other threads (which might call <code>f2</code>), you always have a critical section between <code>f1</code> and <code>f2</code>? So I am not really sure what you mean with &quot;the code assumes that <code>f1</code> is only called once the stream is known to have faulted&quot;."}, {"owner": {"reputation": 23502, "user_id": 175070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d7266ccba60891b8e94000b6d0004e1?s=128&d=identicon&r=PG", "display_name": "Mike Strobel", "link": "https://stackoverflow.com/users/175070/mike-strobel"}, "edited": false, "score": 0, "creation_date": 1541770151, "post_id": 53198256, "comment_id": 93340038, "body": "What I mean is, if <code>f1</code> is only called when the stream is in a bad state, then what does it matter if <code>f2</code> runs concurrently with the old stream?  When <code>f2</code> tries to modify or consume the (bad) stream, wouldn&#39;t it just fail?  If this is a flawed assumption, then as you say, my solution is broken."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8870331"}, "edited": false, "score": 0, "creation_date": 1541793639, "post_id": 53198256, "comment_id": 93352033, "body": "The main concern is that the position is inherited from the old stream. As you could see in the code snippet, <code>Stream.setPosition(pos)</code> is actually a simple setter. Is does not do any network IO. So whenever a new stream is created, I want to make sure that it always inherits the position from the old (bad) stream. That&#39;s why I believe there is a critical section between <code>f1</code> and <code>f2</code> which cannot be avoided."}, {"owner": {"reputation": 23502, "user_id": 175070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d7266ccba60891b8e94000b6d0004e1?s=128&d=identicon&r=PG", "display_name": "Mike Strobel", "link": "https://stackoverflow.com/users/175070/mike-strobel"}, "edited": false, "score": 0, "creation_date": 1541793871, "post_id": 53198256, "comment_id": 93352127, "body": "@pbillen If that&#39;s what you&#39;re worried about, and if <code>f2</code> is really that simple (it only advances the stream), then all you really need to do is replace the &#39;get&#39; operation in <code>f1</code> with an atomic get-and-set, and verify that the stream hasn&#39;t changed before exiting <code>f2</code> (and if it <i>did</i> change, then retry the operation).  I updated my answer to show you what I mean.  Even this should still be ~2x as fast as the CAS-based version."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8870331"}, "edited": false, "score": 0, "creation_date": 1541794773, "post_id": 53198256, "comment_id": 93352480, "body": "Thank you, very much appreciated. That&#39;s an interesting approach. Basically <code>f2</code> keeps repeating until we know for sure that the stream hasn&#39;t been updated during its execution. Under normal conditions, it just has to execute once. I did not really think about using <code>AtomicReference</code> in such approach. I&#39;m going to experiment tomorrow and accept your answer, as this is exactly what I have been looking for."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8870331"}, "edited": false, "score": 0, "creation_date": 1541795212, "post_id": 53198256, "comment_id": 93352634, "body": "I&#39;m curious why this is 2x faster than the initial CAS version with <code>AmoticInteger</code>. Is this mainly because now we do twice a <code>get</code> (<code>currentInfo.get()</code> in <code>acquireStream()</code>, while originally, I was doing a conditional <code>compareAndset</code> and a plain <code>set</code>? I can see that this is slower, but I am wondering if there other reasons."}, {"owner": {"reputation": 23502, "user_id": 175070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d7266ccba60891b8e94000b6d0004e1?s=128&d=identicon&r=PG", "display_name": "Mike Strobel", "link": "https://stackoverflow.com/users/175070/mike-strobel"}, "edited": false, "score": 0, "creation_date": 1541795380, "post_id": 53198256, "comment_id": 93352687, "body": "@pbillen An interlocked compare-exchange instruction will usually be more expensive than a read with volatile semantics (or even a handful of such reads).  If you can avoid the CAS on the common code path, so much the better.  Doing a CAS when you only need to do a read will also thrash your CPU&#39;s cache unnecessarily."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8870331"}, "edited": false, "score": 0, "creation_date": 1541795437, "post_id": 53198256, "comment_id": 93352700, "body": "Interesting. Many thanks, I wish I could upvote you twice ;)."}], "tags": [], "owner": {"reputation": 23502, "user_id": 175070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d7266ccba60891b8e94000b6d0004e1?s=128&d=identicon&r=PG", "display_name": "Mike Strobel", "link": "https://stackoverflow.com/users/175070/mike-strobel"}, "is_accepted": true, "score": 0, "last_activity_date": 1541793754, "last_edit_date": 1541793754, "creation_date": 1541626890, "answer_id": 53198256, "question_id": 53196357, "link": "https://stackoverflow.com/questions/53196357/replace-synchronized-with-atomicwhile-loop-in-case-of-low-lock-contention/53198256#53198256", "title": "Replace synchronized with atomic+while loop in case of low lock contention", "body": "<p>From the description and your example code, I've inferred the following:</p>\n\n<ol>\n<li><p><code>Stream</code> has its own internal position, and you're also tracking the most recent <code>position</code> externally.  You use this as a sort of 'resume point': when you need to reinitialize the stream, you advance it to this point.</p></li>\n<li><p>The last known <code>position</code> may be stale; I'm assuming this based on your assertion that the stream periodically does <em>asynchronously</em> notifies the server of its current position.</p></li>\n<li><p>At the time <code>f1</code> is called, the stream is known to be in a bad state.</p></li>\n<li><p>The functions <code>f1</code> and <code>f2</code> access the same data, and may run concurrently.  However, neither <code>f1</code> nor <code>f2</code> will <strong>ever run concurrently against itself</strong>.  In other words, you <em>almost</em> have a single-threaded program, except for the rare cases when both <code>f1</code> and <code>f2</code> are executing.</p>\n\n<p><em>[<strong>Side note:</strong> My solution doesn't actually care if <code>f1</code> gets called concurrently with itself; it only cares that <code>f2</code> is not called concurrently with itself]</em></p></li>\n</ol>\n\n<p>If any of this is wrong, then the solution below is wrong.  Heck, it might be wrong anyway, either because of some detail left out, or because I made a mistake.  Writing <strong>low-lock code is hard</strong>, which is exactly why you should avoid it unless you've <strong>observed an actual performance issue</strong>.</p>\n\n<pre><code>static class Stream {\n    private long position = 0L;\n\n    void setPosition(long position) {\n        this.position = position;\n    }\n}\n\nfinal static class StreamInfo {\n    final Stream stream = new Stream();\n    volatile long resumePosition = -1;\n\n    final void setPosition(final long position) {\n        stream.setPosition(position);\n        resumePosition = position;\n    }\n}\n\nprivate final Object updateLock = new Object();\nprivate final AtomicReference&lt;StreamInfo&gt; currentInfo = new AtomicReference&lt;&gt;(new StreamInfo());\n\nvoid f1() {\n    synchronized (updateLock) {\n        final StreamInfo oldInfo = currentInfo.getAndSet(null);\n        final StreamInfo newInfo = new StreamInfo();\n\n        if (oldInfo != null &amp;&amp; oldInfo.resumePosition &gt; 0L) {\n            newInfo.setPosition(oldInfo.resumePosition);\n        }\n\n        // Only `f2` can modify `currentInfo`, so update it last.\n        currentInfo.set(newInfo);\n\n        // The `f2` thread might be waiting for us, so wake them up.\n        updateLock.notifyAll();\n    }\n}\n\nvoid f2(final long newPosition) {\n    while (true) {\n        final StreamInfo s = acquireStream();\n\n        s.setPosition(newPosition);\n        s.resumePosition = newPosition;\n\n        // Make sure the stream wasn't replaced while we worked.\n        // If it was, run again with the new stream.\n        if (acquireStream() == s) {\n            break;\n        }\n    }\n}\n\nprivate StreamInfo acquireStream() {\n    // Optimistic concurrency: hope we get a stream that's ready to go.\n    // If we fail, branch off into a slower code path that waits for it.\n    final StreamInfo s = currentInfo.get();\n    return s != null ? s : acquireStreamSlow();\n}\n\nprivate StreamInfo acquireStreamSlow() {\n    synchronized (updateLock) {\n        while (true) {\n            final StreamInfo s = currentInfo.get();\n\n            if (s != null) {\n                return s;\n            }\n\n            try {\n                updateLock.wait();\n            }\n            catch (final InterruptedException ignored) {\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>If the stream has faulted and is being replaced by <code>f1</code>, it is possible that an earlier call to <code>f2</code> is still performing some operations on the (now defunct) stream.  I'm assuming this is okay, and that it won't introduce undesirable side effects (beyond those already present in your lock-based version).  I make this assumption because we've already established in the list above that your resume point may be stale, and we also established that <code>f1</code> is only called once the stream is known to be in a bad state.</p>\n\n<p>Based on my JMH benchmarks, this approach is around 3x faster than the CAS or synchronized versions (which are pretty close themselves).</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8870331"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 53198256, "answer_count": 3, "score": 0, "last_activity_date": 1541793754, "creation_date": 1541618446, "last_edit_date": 1541764902, "question_id": 53196357, "link": "https://stackoverflow.com/questions/53196357/replace-synchronized-with-atomicwhile-loop-in-case-of-low-lock-contention", "title": "Replace synchronized with atomic+while loop in case of low lock contention", "body": "<p>I have two functions which must run in a critical section:</p>\n\n<pre><code>public synchronized void f1() { ... }\npublic synchronized void f2() { ... }\n</code></pre>\n\n<p>Assume that the behavior is as following:</p>\n\n<ul>\n<li><code>f1</code> is almost never called. Actually, under normal conditions, this method is never called. If <code>f1</code> is called anyway, it should return quickly.</li>\n<li><code>f2</code> is called at a very high rate. It returns very quickly.</li>\n<li>These methods never call each other and there is no reentrancy as well.</li>\n</ul>\n\n<p>In other words, there is very low contention. So when <code>f2</code> is called, we have some overhead to acquire the lock, which is granted immediately in 99,9% of the cases. I am wondering if there are approaches to avoid this overhead.</p>\n\n<p>I came up with the following alternative:</p>\n\n<pre><code>private final AtomicInteger lock = new AtomicInteger(0);\n\npublic void f1() {\n    while (!lock.compareAndSet(0, 1)) {}\n\n    try {\n        ...\n    } finally {\n        lock.set(0);\n    }\n}\n\npublic void f2() {\n    while (!lock.compareAndSet(0, 2)) {}\n\n    try {\n        ...\n    } finally {\n        lock.set(0);\n    }\n}\n</code></pre>\n\n<p>Are there other approaches? Does the <code>java.util.concurrent</code> package offer something natively?</p>\n\n<p><strong>update</strong></p>\n\n<p>Although my intention is to have a generic question, some information regarding my situation:</p>\n\n<p><code>f1</code>: This method creates a new remote stream, if for some reason the current one becomes corrupt, for example due to a timeout. A remote stream could be considered as a socket connection which consumes a remote queue starting from a given location:</p>\n\n<pre><code>private Stream stream;\n\npublic synchronized void f1() {\n     final Stream stream = new Stream(...);\n\n     if (this.stream != null) {\n         stream.setPosition(this.stream.getPosition());\n     }\n     this.stream = stream;\n     return stream;\n}\n</code></pre>\n\n<p><code>f2</code>: This method advances the stream position. It is a plain setter:</p>\n\n<pre><code>public synchronized void f2(Long p) {\n    stream.setPosition(p);\n}\n</code></pre>\n\n<p>Here, <code>stream.setPosition(Long)</code> is implemented as a plain setter as well:</p>\n\n<pre><code>public class Stream {\n    private volatile Long position = 0;\n\n    public void setPosition(Long position) {\n        this.position = position;\n    }\n}\n</code></pre>\n\n<p>In <code>Stream</code>, the current position will be sent to the server periodically asynchronously. Note that <code>Stream</code> is not implemented by myself.</p>\n\n<p>My idea was to introduce compare-and-swap as illustrated above, and mark <code>stream</code> as <code>volatile</code>.</p>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 12572, "user_id": 8534008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2af9937cac66f08b6ee6e4219cc0d?s=128&d=identicon&r=PG&f=1", "display_name": "GBlodgett", "link": "https://stackoverflow.com/users/8534008/gblodgett"}, "edited": false, "score": 3, "creation_date": 1541618416, "post_id": 53196337, "comment_id": 93281146, "body": "<code>myAL</code> vs <code>myAl</code> (Notice the capital L)"}, {"owner": {"reputation": 28727, "user_id": 9959152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSjIJ.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/9959152/deadpool"}, "edited": false, "score": 0, "creation_date": 1541618608, "post_id": 53196337, "comment_id": 93281254, "body": "and also you are trying to access non static method in static area directly"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10419911"}, "is_accepted": false, "score": 1, "last_activity_date": 1541620681, "creation_date": 1541620681, "answer_id": 53196898, "question_id": 53196337, "link": "https://stackoverflow.com/questions/53196337/error-arraylist-cannot-find-symbol-symbol-variable-myal-location-class-javaapp/53196898#53196898", "title": "Error ArrayList cannot find symbol symbol: variable myAl location: class JavaApplication into main", "body": "<p>I see three problems.\nYour immediat problem as GBlodgett already pointed out us that you did not pay attention to your names one is \"myAl\" the other is \"myAL\".</p>\n\n<p>The second which will occur directly after is that you can't call a non static method like findNumber out of a static code block.</p>\n\n<p>The third is that your return value, the String findNumber returns will get lost. You can either assign it to a variable String newString = findNumber... ;\nOr what you probably want here is to print it with System.out.println(findN...);</p>\n\n<p>For the future, it is nice if you can include the code directly instead of a picture, as it is easier to copy code instead of recreate it from a picture.</p>\n\n<p>Happy Coding</p>\n\n<p>As a personal tip, stay away from the main if you just want to write some silly code and run JUnit tests instead.</p>\n\n<pre><code>@Test\nvoid test()\n{\n    myAl.add(0);\n    ....\n    findNumber(..);\n}\n</code></pre>\n\n<p>extra points if you use assertions and good test, but that can wait until you get your feet under you. Tough it can help tremendiously to write tests instead of relying on print debugging</p>\n"}], "owner": {"reputation": 1, "user_id": 10611228, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-A780CrQAhPo/AAAAAAAAAAI/AAAAAAAAADs/0_T4afSEGh4/photo.jpg?sz=128", "display_name": "Bianca Nunes", "link": "https://stackoverflow.com/users/10611228/bianca-nunes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1541620681, "creation_date": 1541618364, "last_edit_date": 1541619959, "question_id": 53196337, "link": "https://stackoverflow.com/questions/53196337/error-arraylist-cannot-find-symbol-symbol-variable-myal-location-class-javaapp", "title": "Error ArrayList cannot find symbol symbol: variable myAl location: class JavaApplication into main", "body": "<p>Why does this error happen?</p>\n\n<p><img src=\"https://i.stack.imgur.com/ibyZw.png\" alt=\"\"></p>\n\n<p>I create an array inside the main:</p>\n\n<pre><code>List&lt;Integer&gt; myAL = new ArrayList&lt;Integer&gt;();\n</code></pre>\n\n<p>Add items to that array, then call the findNumber method:</p>\n\n<pre><code>findNumber(myAl, 2);\n</code></pre>\n\n<p>But an error appears:\nError ArrayList cannot find symbol   symbol:   variable myAl   location: class JavaApplication </p>\n"}, {"tags": ["java", "regex", "javafx", "richtextfx"], "comments": [{"owner": {"reputation": 8567, "user_id": 188691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b008c9884164fc36f772c8aa2a87bd4?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/188691/tim"}, "edited": false, "score": 0, "creation_date": 1541619063, "post_id": 53196296, "comment_id": 93281487, "body": "Could you please include the error you&#39;re seeing?"}, {"owner": {"reputation": 308, "user_id": 9016740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2acde0c39cfc4443b4377062beec7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Blake Ordway", "link": "https://stackoverflow.com/users/9016740/blake-ordway"}, "reply_to_user": {"reputation": 8567, "user_id": 188691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b008c9884164fc36f772c8aa2a87bd4?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/188691/tim"}, "edited": false, "score": 0, "creation_date": 1541621065, "post_id": 53196296, "comment_id": 93282473, "body": "The error isn&#39;t the problem. I know that the error that&#39;s being thrown is because the Regex is not matching properly"}, {"owner": {"reputation": 8567, "user_id": 188691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b008c9884164fc36f772c8aa2a87bd4?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/188691/tim"}, "edited": false, "score": 0, "creation_date": 1541621674, "post_id": 53196296, "comment_id": 93282781, "body": "OK, well we know that now, which is a step forwards. If that&#39;s not the problem, could you describe what you expect to see happen, and what does happen instead."}, {"owner": {"reputation": 308, "user_id": 9016740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2acde0c39cfc4443b4377062beec7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Blake Ordway", "link": "https://stackoverflow.com/users/9016740/blake-ordway"}, "reply_to_user": {"reputation": 8567, "user_id": 188691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b008c9884164fc36f772c8aa2a87bd4?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/188691/tim"}, "edited": false, "score": 0, "creation_date": 1541625690, "post_id": 53196296, "comment_id": 93284613, "body": "Tim, I updated my post since I figured out most of the problem. The new problem now is in the edit part of the post."}], "answers": [{"tags": [], "owner": {"reputation": 6958, "user_id": 6893866, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/aefa0df51c67447c39a26252720cea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Tezra", "link": "https://stackoverflow.com/users/6893866/tezra"}, "is_accepted": false, "score": 0, "last_activity_date": 1541628076, "creation_date": 1541628076, "answer_id": 53198510, "question_id": 53196296, "link": "https://stackoverflow.com/questions/53196296/richtextfx-comment-and-property-regex/53198510#53198510", "title": "RichTextFX comment and property regex", "body": "<p>Here is a regex for parsing a property file line into it's key-divider-value-comment parts that is Java complaint.</p>\n\n<pre><code>^\\s*(?:|(?&lt;PropertyName&gt;\\w+(?:\\.\\w+)*)(?&lt;Divider&gt;\\s*[=: ]\\s*)(?&lt;PropertyValue&gt;\\w(?:.|\\\\,|\\\\[\\n\\r\\f\\v]+)*))(?&lt;Comment&gt;[#!].*)?$\n</code></pre>\n\n<p>Note that this regex is still not exhaustive, and the built in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html\" rel=\"nofollow noreferrer\">Properties</a> class is much more suited to this task than regex. (Use the load function to parse the source, and than it basically works like a Map)</p>\n"}], "owner": {"reputation": 308, "user_id": 9016740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2acde0c39cfc4443b4377062beec7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Blake Ordway", "link": "https://stackoverflow.com/users/9016740/blake-ordway"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541628076, "creation_date": 1541618212, "last_edit_date": 1541625654, "question_id": 53196296, "link": "https://stackoverflow.com/questions/53196296/richtextfx-comment-and-property-regex", "title": "RichTextFX comment and property regex", "body": "<p>I am trying to use the RichTextFX library to show a properties file in the <code>CodeArea</code>. I have created some Regex for comments as well as properties to try to style to <code>CodeArea</code>. \nEDIT: I am able to get them working properly. Except for when I add a comment to a line that has a property. My regex for determining a Property is not able to tell when there's a <code>#</code> at the beginning of the line. I have tried but am unable to get it to negate the rest of it if it sees there is a <code>#</code> at the beginning.</p>\n\n<p>Here's the two patterns that I am using:</p>\n\n<p><code>Pattern COMMENT = Pattern.compile(\"(?&lt;SingleLineComment&gt;#+)(?&lt;Comment&gt;.*\\n)\");</code></p>\n\n<p><code>Pattern PROPERTY = Pattern.compile(\"(\\n?(?&lt;PropertyName&gt;.+)(\\\\h*=\\\\h*)(?&lt;PropertyValue&gt;\\\\S+))\");</code></p>\n\n<p>Here's how they are being used in code:</p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport org.fxmisc.richtext.CodeArea;\nimport org.fxmisc.richtext.LineNumberFactory;\nimport org.fxmisc.richtext.model.StyleSpans;\nimport org.fxmisc.richtext.model.StyleSpansBuilder;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class RegexTest extends Application\n{\n    public static void main (String[] args) {\n        launch(args);\n    }\n\n\n\n    @Override\n    public void start (Stage primaryStage) throws Exception {\n        _area = new CodeArea();\n        _area.getStylesheets().add(getClass().getResource(\"/css/settings-design.css\").toExternalForm());\n        _area.setParagraphGraphicFactory(LineNumberFactory.get(_area));\n\n        _area.textProperty().addListener((obs, oldValue, newValue) -&gt; {\n            computeHighlighting(newValue);\n        });\n\n        primaryStage.setScene(new Scene(_area, 400, 600));\n\n        primaryStage.show();\n\n        _area.appendText(PROPERTIES);\n    }\n\n    private void computeHighlighting(String text) {\n        Matcher equalsTest = COMMENT.matcher(text);\n        while (equalsTest.find()){\n            _area.setStyle( equalsTest.start(), equalsTest.end(), Collections.singleton(\"comment\"));\n        }\n\n        Matcher propertyMatcher = PROPERTY.matcher(text);\n        while (propertyMatcher.find()){\n            _area.setStyle(propertyMatcher.start(1), propertyMatcher.end(3), Collections.singleton(\"property-name\"));\n            _area.setStyle(propertyMatcher.start(4), propertyMatcher.end(4), Collections.singleton(\"property-value\"));\n        }\n    }\n\n    private CodeArea _area;\n\n    private static final Pattern COMMENT = Pattern.compile(\"(?&lt;SingleLineComment&gt;#+\\\\h*)(?&lt;Comment&gt;.*)\\n?\");\n    private static final Pattern PROPERTY = Pattern.compile(\"(?:[#].+|(\\n?(?&lt;PropertyName&gt;.+)(\\\\h*=\\\\h*)(?&lt;PropertyValue&gt;\\\\S+)))\");\n\n    private static final Pattern EQUALSTEST = Pattern.compile(\"=\");\n\n    public static final String PROPERTIES = \"#Tue Nov 06 12:42:33 CST 2018\\n\" +\n            \"#prop0=true\";\n</code></pre>\n\n<p>And <code>code-area.css</code>:</p>\n\n<pre><code>.comment {\n    -fx-fill: #008e00;\n}\n\n.property-name {\n    -fx-fill: #ff8e31;\n}\n\n.property-value {\n    -fx-fill: #58a3ff;\n}\n</code></pre>\n\n<p>Thank you in advance for your help!</p>\n"}, {"tags": ["java", "android"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10200035"}, "edited": false, "score": 0, "creation_date": 1541618725, "post_id": 53196238, "comment_id": 93281313, "body": "Thank you, the InputStreamReader was the problem, but your code is wrong because you try to assign the DataInputStream to a Buffered Reader. The right way is to make the reader variable also a DataInputStream."}, {"owner": {"reputation": 28630, "user_id": 1291492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f914cd02166793195d9d950503f8f739?s=128&d=identicon&r=PG", "display_name": "ControlAltDel", "link": "https://stackoverflow.com/users/1291492/controlaltdel"}, "edited": false, "score": 0, "creation_date": 1541620034, "post_id": 53196238, "comment_id": 93281939, "body": "@PP_Hyperion you are correct. I have corrected my answer. Thank you!"}], "tags": [], "owner": {"reputation": 28630, "user_id": 1291492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f914cd02166793195d9d950503f8f739?s=128&d=identicon&r=PG", "display_name": "ControlAltDel", "link": "https://stackoverflow.com/users/1291492/controlaltdel"}, "is_accepted": true, "score": 1, "last_activity_date": 1541620005, "last_edit_date": 1541620005, "creation_date": 1541617915, "answer_id": 53196238, "question_id": 53196146, "link": "https://stackoverflow.com/questions/53196146/inputstreamreader-readline-method-returns-wrong-string/53196238#53196238", "title": "InputStreamReader readLine method returns wrong String", "body": "<p>You should be using a DataInputStream instead of an InputStreamReader. This is the source of your problem</p>\n\n<pre><code>InputStreamReader reader = new DataInputStream(socket.getInputStream()));\nString inStr = reader.readUTF();\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10200035"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 53196238, "answer_count": 1, "score": 2, "last_activity_date": 1541620005, "creation_date": 1541617576, "question_id": 53196146, "link": "https://stackoverflow.com/questions/53196146/inputstreamreader-readline-method-returns-wrong-string", "title": "InputStreamReader readLine method returns wrong String", "body": "<p>I'm trying to send a string from my java server to an android client over a socket. Instead of showing the correct String which would be \"<code>OK</code>\" the read method of the InputStreamReader returns \n\"<code>\ufffd\ufffdOK</code>\".</p>\n\n<p>The code of the server looks like this:</p>\n\n<pre><code>public void run() {\n    try {\n        DataOutputStream dOut = new DataOutputStream(socket.getOutputStream());\n        dOut.writeUTF(\"OK\");\n        dOut.flush();           \n        dOut.close();\n        socket.close();\n        System.out.println(\"Disconnected from client number: \" + id);\n    } catch (IOException ex) {\n        Logger.getLogger(ThreadImpl.class.getName()).log(Level.SEVERE, null, ex);\n    }\n}\n</code></pre>\n\n<p>And the code of the client looks like this:</p>\n\n<pre><code>public void run() {\n    try  {\n         Socket socket = null;\n         try {\n              socket = new Socket(\"10.0.2.2\", 1978);\n              } catch (IOException e) {\n                 e.printStackTrace();\n              }\n         String serverRes = null;\n         BufferedReader reader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n         ServerRes = reader.readLine();\n         System.out.println(ServerRes);\n         reader.close();\n         socket.close();\n   } catch (Exception e) {\n        e.printStackTrace();\n   }\n}\n</code></pre>\n"}, {"tags": ["java", "python-3.x", "encryption", "sha256", "jasypt"], "comments": [{"owner": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1541617394, "post_id": 53196075, "comment_id": 93280719, "body": "Try it and see if the hash matches?"}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "reply_to_user": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1541618464, "post_id": 53196075, "comment_id": 93281169, "body": "@SLaks not sure how to create the hash in python. Tired hashlist to mimic it with the given info but no luck. Maybe I should download their jar and go through it, but that&#39;s just too much moving parts."}, {"owner": {"reputation": 8643, "user_id": 1718554, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/n3jD1.jpg?s=128&g=1", "display_name": "Luke Joshua Park", "link": "https://stackoverflow.com/users/1718554/luke-joshua-park"}, "edited": false, "score": 1, "creation_date": 1541645216, "post_id": 53196075, "comment_id": 93290222, "body": "The algorithm description <a href=\"http://www.jasypt.org/api/jasypt/1.8/org/jasypt/digest/StandardStringDigester.html#digest(java.lang.String)\" rel=\"nofollow noreferrer\">is on the page you linked</a>, why can&#39;t you use this?"}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "reply_to_user": {"reputation": 8643, "user_id": 1718554, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/n3jD1.jpg?s=128&g=1", "display_name": "Luke Joshua Park", "link": "https://stackoverflow.com/users/1718554/luke-joshua-park"}, "edited": false, "score": 0, "creation_date": 1541650370, "post_id": 53196075, "comment_id": 93291274, "body": "@LukeJoshuaPark I&#39;m not familiar with neither java nor encryption. Does that digest function layout how it encrypts the string?"}, {"owner": {"reputation": 8340, "user_id": 1645712, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/48781792c1fb7d61086b4fb612938c13?s=128&d=identicon&r=PG", "display_name": "gusto2", "link": "https://stackoverflow.com/users/1645712/gusto2"}, "edited": false, "score": 0, "creation_date": 1541668691, "post_id": 53196075, "comment_id": 93297373, "body": "@taesu the password is not encrypted, only salted hash (digest) is created. To verify the password you need to follow the link Luke provided to create a digest of provided plaintext password and stored salt. If they match, the password will match too. Correctly the salt should be unique for each password"}], "answers": [{"comments": [{"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1541620753, "post_id": 53196730, "comment_id": 93282317, "body": "I am aware, but I&#39;m more concerned about port jasypt&#39;s <code>StrongPasswordEncryptor</code> to python so we can continue verifying the hash and encrypting passwords the same way."}, {"owner": {"reputation": 27486, "user_id": 1129332, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KcrPN.jpg?s=128&g=1", "display_name": "Ilya Gazman", "link": "https://stackoverflow.com/users/1129332/ilya-gazman"}, "reply_to_user": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 1, "creation_date": 1541620890, "post_id": 53196730, "comment_id": 93282398, "body": "@taesu oh I see. Then please provide with some output example. I try to mimic it"}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1541621016, "post_id": 53196730, "comment_id": 93282447, "body": "Thank you for your time. Please see question.  In Java code, it appends salt afterwards.  <code>encryptor.encryptPassword(password + salt);</code>"}, {"owner": {"reputation": 27486, "user_id": 1129332, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KcrPN.jpg?s=128&g=1", "display_name": "Ilya Gazman", "link": "https://stackoverflow.com/users/1129332/ilya-gazman"}, "reply_to_user": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 1, "creation_date": 1541623348, "post_id": 53196730, "comment_id": 93283485, "body": "@taesu I am not able to get the same output in Java as you do. Can you provide an example of how to get that output in Java? Where do you set the salt?"}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1541623693, "post_id": 53196730, "comment_id": 93283647, "body": "added the code in the original question. I&#39;m literally pulling out my hair"}, {"owner": {"reputation": 27486, "user_id": 1129332, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KcrPN.jpg?s=128&g=1", "display_name": "Ilya Gazman", "link": "https://stackoverflow.com/users/1129332/ilya-gazman"}, "reply_to_user": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1541625302, "post_id": 53196730, "comment_id": 93284433, "body": "@taesu Check out my edit. When running your example I am always getting different output. The StrongPasswordEncryptor has a random inside it"}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1541625398, "post_id": 53196730, "comment_id": 93284473, "body": "Hey, try using <code>encryptor.checkPassword(password+salt, encryptedPassword);</code>   Everytime you encrypt, the encrypted text will be different, but when you checkPassword, it will return True"}, {"owner": {"reputation": 27486, "user_id": 1129332, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KcrPN.jpg?s=128&g=1", "display_name": "Ilya Gazman", "link": "https://stackoverflow.com/users/1129332/ilya-gazman"}, "reply_to_user": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1541625801, "post_id": 53196730, "comment_id": 93284663, "body": "@taesu, Of course, it will! But only for that run. If you attempt to use the previous run result it will fail. Check my updated example"}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1541626006, "post_id": 53196730, "comment_id": 93284750, "body": "No, <code>D1JAI76bwIkEkOIy7IZoLasAFKX0Yy7ujU&#47;M7UBezC7NqxSD3clDyaFB1lz9&zwnj;&#8203;6K98</code> will return True as well, thats how our Java legacy system authenticates users"}, {"owner": {"reputation": 27486, "user_id": 1129332, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KcrPN.jpg?s=128&g=1", "display_name": "Ilya Gazman", "link": "https://stackoverflow.com/users/1129332/ilya-gazman"}, "reply_to_user": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1541626084, "post_id": 53196730, "comment_id": 93284782, "body": "@taesu Yeah you are right! Ok I try to figure this out now"}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1541626159, "post_id": 53196730, "comment_id": 93284808, "body": "Another way would be to use the jasypt jar and invoking it within python to encrypt and checkpassword, but not sure how I would go about doing it because <code>java -jar jasypt-1.9.2.jar</code> is returning <code>no main manifest attribute, in jasypt-1.9.2.jar</code>"}, {"owner": {"reputation": 27486, "user_id": 1129332, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KcrPN.jpg?s=128&g=1", "display_name": "Ilya Gazman", "link": "https://stackoverflow.com/users/1129332/ilya-gazman"}, "reply_to_user": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 1, "creation_date": 1541626636, "post_id": 53196730, "comment_id": 93285038, "body": "@taesu we can translate this to Python. No worries"}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1541628017, "post_id": 53196730, "comment_id": 93285612, "body": "That would be ideal, not sure if it can happen though, maybe because I&#39;m not a good java dev."}, {"owner": {"reputation": 27486, "user_id": 1129332, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KcrPN.jpg?s=128&g=1", "display_name": "Ilya Gazman", "link": "https://stackoverflow.com/users/1129332/ilya-gazman"}, "reply_to_user": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 1, "creation_date": 1541631405, "post_id": 53196730, "comment_id": 93286844, "body": "@taesu Hey, I got halfway thru, but need to go now. Will try to look at it tomorrow or during the weekend."}], "tags": [], "owner": {"reputation": 27486, "user_id": 1129332, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KcrPN.jpg?s=128&g=1", "display_name": "Ilya Gazman", "link": "https://stackoverflow.com/users/1129332/ilya-gazman"}, "is_accepted": false, "score": 1, "last_activity_date": 1541631319, "last_edit_date": 1541631319, "creation_date": 1541620023, "answer_id": 53196730, "question_id": 53196075, "link": "https://stackoverflow.com/questions/53196075/any-way-to-mimic-port-password-encryption-to-python/53196730#53196730", "title": "Any way to mimic port password encryption to python?", "body": "<p>Ok, I got half solution for now:</p>\n\n<p>Here is a simplified Java code that checks if the given password is valid:</p>\n\n<pre><code>private void start() throws Exception {\n\n    String salt = \"0DD2E486FAE5B121491CBE78A9B67AF1\";\n    String password = \"Testing123\";\n    String previousResult = \"QI2KU2VsI/aNr4U3XQ0AdaOk6Qhl4XTaN2ym5cYXxRr8tz/23EvWQHI8sNhRmoP1\";\n\n    StrongPasswordEncryptor passwordEncryptor = new StrongPasswordEncryptor();\n    String encryptedPass = passwordEncryptor.encryptPassword(password + salt);\n\n\n    System.out.println(checkPass(salt, password, previousResult));\n    System.out.println(passwordEncryptor.checkPassword(password + salt, previousResult));\n}\n\nprivate boolean checkPass(String salt, String password, String previousResult) throws NoSuchAlgorithmException {\n    byte[] bytes = previousResult.getBytes(StandardCharsets.US_ASCII);\n    byte[] decode = Base64.getDecoder().decode(bytes);\n\n    byte[] secretSalt = new byte[16];\n    System.arraycopy(decode, 0, secretSalt, 0, 16);\n\n    byte [] message = (password + salt).getBytes(StandardCharsets.UTF_8);\n    byte[] digest = digest(message, secretSalt);\n\n    return Arrays.equals(digest, decode);\n}\n\n\nprivate byte[] digest(byte [] message, final byte[] salt) throws NoSuchAlgorithmException {\n\n    byte[] digest;\n\n    MessageDigest md = MessageDigest.getInstance(\"sha-256\");\n    md.reset();\n\n    md.update(salt);\n    md.update(message);\n\n\n    digest = md.digest();\n    for (int i = 0; i &lt; (100000 - 1); i++) {\n        md.reset();\n        digest = md.digest(digest);\n    }\n\n    byte[] secondArray = digest;\n    final byte[] result = new byte[salt.length + secondArray.length];\n\n    System.arraycopy(salt, 0, result, 0, salt.length);\n    System.arraycopy(secondArray, 0, result, salt.length, secondArray.length);\n\n    return result;\n}\n</code></pre>\n"}], "owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1541631319, "creation_date": 1541617261, "last_edit_date": 1541623676, "question_id": 53196075, "link": "https://stackoverflow.com/questions/53196075/any-way-to-mimic-port-password-encryption-to-python", "title": "Any way to mimic port password encryption to python?", "body": "<p>Some legacy Java uses a package called <a href=\"http://www.jasypt.org/api/jasypt/1.8/org/jasypt/util/password/StrongPasswordEncryptor.html\" rel=\"nofollow noreferrer\">jasypt</a> to encrypt password.<br>\nIt uses <code>StrongPasswordEncryptor</code> to encrypt passwords.  </p>\n\n<p>It seems like to use below,   from their doc page<br>\nAlgorithm: SHA-256.<br>\nSalt size: 16 bytes.<br>\nIterations: 100000. </p>\n\n<p>There source code <a href=\"https://github.com/jboss-fuse/jasypt/blob/a6cbf5419bc153698368aa796d619e67bb197ba9/jasypt/src/main/java/org/jasypt/util/password/StrongPasswordEncryptor.java\" rel=\"nofollow noreferrer\">shows</a>  </p>\n\n<pre><code> public StrongPasswordEncryptor() {\n        super();\n        this.digester = new StandardStringDigester();\n        this.digester.setAlgorithm(\"SHA-256\");\n        this.digester.setIterations(100000);\n        this.digester.setSaltSizeBytes(16);\n        this.digester.initialize();\n    }\n</code></pre>\n\n<p>Now that we don't use Java anymore, we'd like to continue to do the same encryption in python, but not sure how to port this portion of the code.</p>\n\n<p>I do have the salt and pair of plain-text password and encrypted password to verify if python port works correctly, just don't know what lib and what functions to encrypt. Tried <code>hashlib.pbkdf2_hmac</code> without any luck.</p>\n\n<p>Example plain-text password is : <code>Testing123</code><br>\nSalt is : <code>0DD2E486FAE5B121491CBE78A9B67AF1</code><br>\nEncrypted password is :<code>D1JAI76bwIkEkOIy7IZoLasAFKX0Yy7ujU/M7UBezC7NqxSD3clDyaFB1lz96K98</code></p>\n\n<p>Here is the snippet in Java code that actually encrypts the password:</p>\n\n<pre><code>import javax.inject.Inject;\nimport javax.inject.Named;\nimport org.jasypt.util.password.StrongPasswordEncryptor;\nimport com.foobar.users.PasswordEncoder;\n\npublic class PasswordEncoderImpl implements PasswordEncoder {\n\n    private String salt;\n    private StrongPasswordEncryptor encryptor;\n\n    @Inject\n    public PasswordEncoderImpl(@Named(\"appHash\") String appHash) {\n        this.salt = appHash;\n        encryptor = new StrongPasswordEncryptor();\n    }\n\n    @Override\n    public String encode(String password) {\n        return encryptor.encryptPassword(password + salt);\n    }\n\n    @Override\n    public boolean verifyPassword(String password, String encryptedPassword){\n        return encryptor.checkPassword(password+salt, encryptedPassword);\n    }\n\n}\n</code></pre>\n"}, {"tags": ["java", "loops", "arraylist", "user-input"], "answers": [{"tags": [], "owner": {"reputation": 983, "user_id": 2556478, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9ba2c5f36ea4fd24fcd0671a735729c?s=128&d=identicon&r=PG&f=1", "display_name": "RDM", "link": "https://stackoverflow.com/users/2556478/rdm"}, "is_accepted": false, "score": 0, "last_activity_date": 1541617445, "creation_date": 1541617445, "answer_id": 53196111, "question_id": 53196073, "link": "https://stackoverflow.com/questions/53196073/how-to-stop-taking-user-inputs-and-print-out-arraylist/53196111#53196111", "title": "how to stop taking user inputs and print out arraylist", "body": "<p>Here is the mistake:</p>\n\n<blockquote>\n  <p>Grocerylist.equals(\"end\")</p>\n</blockquote>\n\n<p>GroceryList is of type <code>ArrayList</code> and it will never be equal to the string <code>\"end\"</code>. It's like comparing apples with oranges.</p>\n\n<p>You could try this instead:</p>\n\n<pre><code>while (!input.equals(\"end\")) {\n\n        String input = input.next();\n        Grocerylist.add(input);\n\n\n        if (\"end\".equals(input)){\n            for(String str:Grocerylist)\n                System.out.println(str);\n            }\n            break;\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 10415716, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oq28zcAhEWg/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVyz7Z89ved6msbnEbzKTN4pBaauQ/mo/photo.jpg?sz=128", "display_name": "Sergei Voychuk", "link": "https://stackoverflow.com/users/10415716/sergei-voychuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1541622364, "creation_date": 1541622364, "answer_id": 53197302, "question_id": 53196073, "link": "https://stackoverflow.com/questions/53196073/how-to-stop-taking-user-inputs-and-print-out-arraylist/53197302#53197302", "title": "how to stop taking user inputs and print out arraylist", "body": "<p>You can use hasNext command to avoid including \"end\" into the array.</p>\n\n<pre><code>public class GroceryArraylist {\n  public static void main(String[] args) {        \n    ArrayList&lt;String&gt; Grocerylist = new ArrayList&lt;String&gt;();\n    Scanner input = new Scanner(System.in);\n\n    System.out.print(\"Enter an item, enter \\\"end\\\" to stop \");\n    while (input.hasNext()) {\n        Grocerylist.add(input.next());\n        if(input.hasNext(\"end\")) {\n            System.out.println(Grocerylist);\n        break;\n        }           \n      }\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 10415716, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oq28zcAhEWg/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVyz7Z89ved6msbnEbzKTN4pBaauQ/mo/photo.jpg?sz=128", "display_name": "Sergei Voychuk", "link": "https://stackoverflow.com/users/10415716/sergei-voychuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1541623389, "creation_date": 1541623389, "answer_id": 53197515, "question_id": 53196073, "link": "https://stackoverflow.com/questions/53196073/how-to-stop-taking-user-inputs-and-print-out-arraylist/53197515#53197515", "title": "how to stop taking user inputs and print out arraylist", "body": "<p>Or you can use a do-while loop instead of:</p>\n\n<pre><code>public class GroceryArraylist{\npublic static void main(String[] args) {        \n    ArrayList&lt;String&gt; Grocerylist = new ArrayList&lt;&gt;();\n    Scanner input = new Scanner(System.in);\n    System.out.print(\"Enter an item, enter \\\"end\\\" to stop \");\n\n    do {Grocerylist.add(input.next());}\n    while (!input.hasNext(\"end\"));\n    System.out.println(Grocerylist);\n    System.exit(0);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10620104, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GZy7FQK6XnM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAkwDyJN_maRdeOxDrc703ysmtEVw/mo/photo.jpg?sz=128", "display_name": "DDD", "link": "https://stackoverflow.com/users/10620104/ddd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 499, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1541623389, "creation_date": 1541617238, "last_edit_date": 1541618704, "question_id": 53196073, "link": "https://stackoverflow.com/questions/53196073/how-to-stop-taking-user-inputs-and-print-out-arraylist", "title": "how to stop taking user inputs and print out arraylist", "body": "<p>I am trying to create a program that takes user inputs stores them into an Arraylist and the prints the Arraylist out after user inputs a certain string. my current problem is that i cant get the user inputs to stop and print out. i think what i have currently have is a strong base, i cant see what is wrong. </p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class GroceryArraylist {\n    public static void main(String[] args) {        \n        ArrayList&lt;String&gt; Grocerylist = new ArrayList&lt;String&gt;();\n        Scanner input = new Scanner(System.in);\n        System.out.print(\"Enter an item, enter end to stop \");\n        while (!input.equals(\"end\")) {\n            Grocerylist.add(input.next());\n            if (Grocerylist.equals(\"end\")){\n                for(String str:Grocerylist)\n                    System.out.println(str);\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "spring", "thymeleaf", "freemarker"], "comments": [{"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1541617913, "post_id": 53195904, "comment_id": 93280948, "body": "Freemarker is a simpler system than Thymeleaf, and I don&#39;t think it has the concept of model binding."}, {"owner": {"reputation": 124, "user_id": 9778496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/369478914a9446406f5256f5fac0e9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim Sukhodolets", "link": "https://stackoverflow.com/users/9778496/maxim-sukhodolets"}, "reply_to_user": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1541618479, "post_id": 53195904, "comment_id": 93281181, "body": "So how can I pass the entered value from my search field  to the controller? Do you know?"}], "owner": {"reputation": 124, "user_id": 9778496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/369478914a9446406f5256f5fac0e9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim Sukhodolets", "link": "https://stackoverflow.com/users/9778496/maxim-sukhodolets"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 277, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1595514869, "creation_date": 1541616579, "last_edit_date": 1541617049, "question_id": 53195904, "link": "https://stackoverflow.com/questions/53195904/convert-thymeleaf-thfield-in-freemarker", "title": "Convert Thymeleaf &quot;th:field&quot; in Freemarker", "body": "<p>I convert my project from Thymeleaf to Freemaker. I have one problem. Now I\u2019ll try to describe it.</p>\n\n<p>On the main page of my site there are list of vendors and a search field that searches for vendors by name.</p>\n\n<p>In Thymeleaf it looks something like this-</p>\n\n<p><strong>Controller:</strong></p>\n\n<pre><code> @GetMapping(\"/vendors\")\npublic String getAllVendors(Model model,@PageableDefault Pageable pageable){\n    Page&lt;Vendors&gt; vendors = vendorRepository.findAll(pageable);\n    model.addAttribute(\"searchVendor\",new Foo()); //This is for search field\n    model.addAttribute(\"url\",\"/vendors\");\n    model.addAttribute(\"vendors\",vendors);\n\n    return \"vendors/list\";\n}\n</code></pre>\n\n<p>Foo class:</p>\n\n<pre><code>@Getter\n@Setter\npublic class Foo {\n    private List&lt;Long&gt; checkedItems; // for checkboxes\n    private List&lt;Long&gt; checkedItemsPlus; //for checkboxes\n    private String findItem; // to find by the name\n    private Long findSupply; // to find by the id\n    private String findItemPlus; // to find by the second name\n}\n</code></pre>\n\n<p><strong>Thymeleaf template (form for search field):</strong></p>\n\n<pre><code> &lt;form th:action=\"@{/showVendor}\" method=\"post\" class=\"form-inline\"&gt;\n    &lt;input type=\"search\" class=\"form-control mr-sm-2\" \n      th:field=\"${searchVendor.findItem}\" placeholder=\"Search By Name\"/&gt;\n      &lt;button type=\"submit\" class=\"btn btn-outline-success\"&gt;\n         Search\n      &lt;/button&gt;\n  &lt;/form&gt;\n</code></pre>\n\n<blockquote>\n  <p>${searchVendor.findItem}-this is the string in which the entered name\n  is written.</p>\n</blockquote>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>@PostMapping(\"/showVendor\")\npublic String getVendorBySearch(Model model,@ModelAttribute(\"searchVendor\") Foo foo){\n\nmodel.addAttribute(\"vendors\",\n      vendorService.getVendorByName(foo.getFindItem()));\n\nreturn \"vendors/show\";\n</code></pre>\n\n<p>}</p>\n\n<p>Thats all works fine with Thymeleaf.</p>\n\n<p>In Freemaker i changed only my thymeleaf template -</p>\n\n<p><strong>Freemaker template</strong></p>\n\n<pre><code> &lt;form action=\"/showVendor\" method=\"post\" class=\"form-inline\"&gt;\n     &lt;input type=\"search\" class=\"form-control mr-sm-2\" value=\"${searchVendor.findItem}\" id=\"findItem\" name=\"findItem\" placeholder=\"Search By Name\"/&gt;\n      &lt;button type=\"submit\" class=\"btn btn-outline-success my-2 my-sm-0\"&gt;Search&lt;/button&gt;\n &lt;/form&gt;\n</code></pre>\n\n<blockquote>\n  <p>I'm not sure about that, but replaced <strong>th:field</strong> on <strong>value, id, name</strong></p>\n  \n  <p>Then i click button i have this error-</p>\n</blockquote>\n\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nWed Nov 07 21:42:23 MSK 2018\nThere was an unexpected error (type=Forbidden, status=403).\nForbidden\n</code></pre>\n\n<blockquote>\n  <p><strong>And my final questions.How to replace th:field from Thymeleaf to\n  Freemaker? Did I do it right or i need to do something else? Why does this error come?</strong></p>\n</blockquote>\n"}, {"tags": ["java", "algorithm", "a-star"], "comments": [{"owner": {"reputation": 565, "user_id": 3585576, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/95de1b204226e6cfc272b83e66774242?s=128&d=identicon&r=PG&f=1", "display_name": "ihavenoidea", "link": "https://stackoverflow.com/users/3585576/ihavenoidea"}, "edited": false, "score": 0, "creation_date": 1541616759, "post_id": 53195883, "comment_id": 93280419, "body": "I will take a closer look later (haven&#39;t read your code) but I remember when I did this exact same puzzle: one problem that was causing it to loop infinitely was that I was adding the action that would return to the father node in the available actions, maybe this is it."}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 1, "creation_date": 1541616964, "post_id": 53195883, "comment_id": 93280519, "body": "Here&#39;s a <a href=\"https://algorithmsinsight.wordpress.com/graph-theory-2/a-star-in-general/implementing-a-star-to-solve-n-puzzle/\" rel=\"nofollow noreferrer\">helpful resource</a> on A* and IDDFS for solving 15 puzzles. A* uses a lot of memory and will generally crash on 15 puzzles, so IDDFS or a pattern database is a good solution. I&#39;d recommend a round of code cleanup on this post to produce an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> with markers to identify your problem areas. If you want to eliminate the cycles you mention, you may need to keep track of all visited positions rather than only checking for cycles of length 1."}, {"owner": {"reputation": 53, "user_id": 10280472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c4f21ff3458c01c3810684d0368936f?s=128&d=identicon&r=PG&f=1", "display_name": "ShottyNo", "link": "https://stackoverflow.com/users/10280472/shottyno"}, "edited": false, "score": 0, "creation_date": 1541710588, "post_id": 53195883, "comment_id": 93319678, "body": "Thank you ggolern! This is a university homework so (unluckly) I can not use a pattern database. And yes, I will clean my code asap!!"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 10280472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c4f21ff3458c01c3810684d0368936f?s=128&d=identicon&r=PG&f=1", "display_name": "ShottyNo", "link": "https://stackoverflow.com/users/10280472/shottyno"}, "edited": false, "score": 1, "creation_date": 1541709903, "post_id": 53209851, "comment_id": 93319410, "body": "Hello Adrian, thank you for help! First of all, yes, I don&#39;t need to use a PriorityQueue on CLOSED. I&#39;m taking a look to the library, but I cant use it in my project because it is a university homework. My initialization of OPEN is : <code>openQueue= new PriorityQueue&lt;Node&gt;(1000, new Comparator&lt;Node&gt;() { \t\t\t@Override public int compare(Node a,Node b) { \t\t\t\treturn a.get_fScore() - b.get_fScore(); \t\t\t}</code>"}, {"owner": {"reputation": 53, "user_id": 10280472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c4f21ff3458c01c3810684d0368936f?s=128&d=identicon&r=PG&f=1", "display_name": "ShottyNo", "link": "https://stackoverflow.com/users/10280472/shottyno"}, "edited": false, "score": 0, "creation_date": 1541710470, "post_id": 53209851, "comment_id": 93319633, "body": "Maybe I&#39;m a little confused about &quot;how to find&quot; a node inside the queue. I use the method <code>compare</code> to search its in CLOSED (if found, jump to next step and not add neighb. in OPEN), then use again <code>compare</code> to search in OPEN, if not found, add to OPEN. Else, i&#39;ve not implemented yet what to do, i&#39;ve just added a print, but it never reach this point. Maybe I should search for nodes in queues in another way, so I can first search if the node has the same array of elements, and then i can compare their score. Could that work? Thank you again!"}, {"owner": {"reputation": 356, "user_id": 3929322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eAn0t.jpg?s=128&g=1", "display_name": "Adri&#225;n Gonz&#225;lez", "link": "https://stackoverflow.com/users/3929322/adri%c3%a1n-gonz%c3%a1lez"}, "reply_to_user": {"reputation": 53, "user_id": 10280472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c4f21ff3458c01c3810684d0368936f?s=128&d=identicon&r=PG&f=1", "display_name": "ShottyNo", "link": "https://stackoverflow.com/users/10280472/shottyno"}, "edited": false, "score": 0, "creation_date": 1541762013, "post_id": 53209851, "comment_id": 93336103, "body": "Yes, then the initialization of OPEN is correct! What we did in the library to find if a node is in the queues is to store two separated <code>Map&lt;State, Node&gt;</code>, one for OPEN and one for CLOSED. In this case the <code>State</code> would be your array with the numbers of the puzzle. And for OPEN we also use a <code>PriorityQueue</code> as you do. When we want to look for a <code>Node</code> in OPEN, we check if it is in the <code>Map</code>, given the <code>State</code>. Thus we can compare the costs of old nodes with the new ones. And if a Node in OPEN has to be re-inserted, we update the <code>Map</code>, remove the old one in the queue, and insert the new one."}], "tags": [], "owner": {"reputation": 356, "user_id": 3929322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eAn0t.jpg?s=128&g=1", "display_name": "Adri&#225;n Gonz&#225;lez", "link": "https://stackoverflow.com/users/3929322/adri%c3%a1n-gonz%c3%a1lez"}, "is_accepted": false, "score": 0, "last_activity_date": 1541687533, "creation_date": 1541687533, "answer_id": 53209851, "question_id": 53195883, "link": "https://stackoverflow.com/questions/53195883/15-puzzle-with-astar-algorithm/53209851#53209851", "title": "15 puzzle with AStar Algorithm", "body": "<p>First, I see a bit of confusion in your code with the OPEN and CLOSED queues. The OPEN queue should be the one that manages the priority of the nodes (<code>PriorityQueue</code>). This is not needed for CLOSED, which only stores the visited nodes and their cost (maybe your algorithm will be more efficient changing CLOSED by a <code>HashSet</code> or <code>HashMap</code> to avoid ordering the nodes in CLOSED as well). I can't see in your code how you initialized the OPEN queue, but maybe that is one issue with your implementation of A*.</p>\n\n<p>The other issue I see with your code is that with A*-based algorithms, you need to manage the situation in which you reach a node that is already in OPEN/CLOSED, but with a different cost. This can happen if you visit a node from different parents, or you enter in a loop. The algorithm will not work properly if you are not taking that into account.</p>\n\n<ol>\n<li>If you visit a node that is already in the OPEN queue, and the new node has a lower f-score, you should remove the old node from OPEN and insert the one with the lower cost.</li>\n<li>If the node has a higher cost (in OPEN or CLOSED) then you should simply discard that node to avoid loops.</li>\n</ol>\n\n<p>The problem is though, but the state space is finite and the algorithm should finish at some point. I see that your implementation is in Java. Maybe it would be helpful for you if you take a look to the library <a href=\"https://hipser4j.org\" rel=\"nofollow noreferrer\">Hipster4j</a>, which has <a href=\"https://github.com/citiususc/hipster/blob/1.0.X/hipster-core/src/main/java/es/usc/citius/hipster/algorithm/AStar.java\" rel=\"nofollow noreferrer\">an implementation of A*</a>, and <a href=\"https://github.com/citiususc/hipster/blob/1.0.X/hipster-examples/src/main/java/es/usc/citius/hipster/examples/EightPuzzleProblemExample.java\" rel=\"nofollow noreferrer\">an example solving the 8-puzzle</a>.</p>\n\n<p>I hope my answer helps. Good luck!</p>\n"}], "owner": {"reputation": 53, "user_id": 10280472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c4f21ff3458c01c3810684d0368936f?s=128&d=identicon&r=PG&f=1", "display_name": "ShottyNo", "link": "https://stackoverflow.com/users/10280472/shottyno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 767, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1541687533, "creation_date": 1541616493, "question_id": 53195883, "link": "https://stackoverflow.com/questions/53195883/15-puzzle-with-astar-algorithm", "title": "15 puzzle with AStar Algorithm", "body": "<p>I've made a simple 15puzzle game using A-star algorithm with Manhattan Distance.\nFor easy problems it works, but the solution isn't the optimal one.</p>\n\n<p>For example, if a movement is:</p>\n\n<blockquote>\n  <p>Right->Up</p>\n</blockquote>\n\n<p>my solution would be:</p>\n\n<blockquote>\n  <p>Right->Up->Left->Down->Right->Up</p>\n</blockquote>\n\n<p>If i have a hard game to solve, it takes infinite time and get no solution to problem, I think because of this problem.</p>\n\n<p>To implement my game I have followed wikipedia pseudocode of A* algorithm.\nHere is my AStar function:</p>\n\n<pre><code>public ArrayList&lt;String&gt; solution(Vector&lt;Integer&gt; start){\n\n    ArrayList&lt;String&gt; movePath = new ArrayList&lt;String&gt;(); //Path to solution\n    PriorityQueue&lt;Node&gt; closedQueue = new PriorityQueue&lt;Node&gt;(500,new Comparator&lt;Node&gt;() {\n        @Override public int compare(Node a,Node b) {\n            return a.get_fScore() - b.get_fScore();\n        }\n    });\n\n    Node node = new Node(start,movePath,heuristic);\n    int cnt =0;\n    openQueue.add(node);\n\n    while(!openQueue.isEmpty() ) {\n\n        //Alt if it takes too much time (ToRemove)\n        if(cnt == (150)*1000) {\n            ArrayList&lt;String&gt; noResult = new ArrayList&lt;String&gt;();\n            noResult.add(\"Timeout\");\n            return noResult;\n        }\n\n        Node bestNode = openQueue.remove(); //Remove best node from openQueue\n        closedQueue.add(bestNode); //Insert its to closedQueue\n\n        cnt++;\n        if( cnt % 10000 == 0) {\n            System.out.printf(\"Analizzo %,d posizioni. Queue Size = %,d\\n\", cnt, openQueue.size());\n        }\n        //Get first step from bestNode and add to movePath\n        if(!bestNode.isEmptyMoves()) {\n            String step = bestNode.get_moves().get(0);\n            movePath.add(step);\n        }\n        //Exit Condition\n        if(bestNode.get_hScore() == 0) {\n            return bestNode.get_moves();\n        }\n        //Looking for childs\n        Vector&lt;Node&gt; childs = get_nextMoves(bestNode);\n        for(int i=0; i&lt;childs.size(); i++) {\n\n            if(closedQueue.contains(childs.elementAt(i))) \n                continue;\n\n            childs.elementAt(i).set_gScore(bestNode.get_gScore()+1); //Increment level in tree\n\n            if(!openQueue.contains(childs.elementAt(i)))\n                openQueue.add(childs.elementAt(i));\n\n            else {\n                //!Never reached this level!\n                System.out.println(\"Here!\");\n                //TODO Copy child from openQueue to closedQueue\n            }\n\n        }   \n    }\n    return null;\n</code></pre>\n\n<p>That is my function to find neighbours:</p>\n\n<pre><code>public Vector&lt;Node&gt; get_nextMoves(Node act){\n\n    Vector&lt;Node&gt; steps = new Vector&lt;Node&gt;();\n    int position = act.get_valuePos(0);\n    String lastMove = act.get_lastMove();\n    //System.out.println(lastMove);\n\n\n    //Right Child\n    if(position + 1 &lt; 16 &amp;&amp; position + 1!=3 &amp;&amp; position + 1!=7 &amp;&amp; position+1 !=11 &amp;&amp; lastMove !=\"Left\") {\n\n        int temp_pos[] = copyToArray(act.get_posVect());//Copy array of positions of ACT to a temp_pos array\n        temp_pos[position] = temp_pos[position+1]; //Switch 0 position with Right position\n        temp_pos[position+1] = 0;\n\n        ArrayList&lt;String&gt; temp_moves = new ArrayList&lt;String&gt;();\n        for(int i=0; i&lt;act.get_moves().size(); i++) {\n            temp_moves.add(act.get_moves().get(i)); //Save old steps\n        }\n        temp_moves.add(\"Right\");//And add new one\n\n        Node child = new Node(temp_pos,temp_moves,act.get_heuristic()); //New Node\n        steps.addElement(child);//Added to vector\n    }\n    //Left Child\n    if(position - 1 &gt;= 0 &amp;&amp; position - 1 != 4 &amp;&amp; position - 1 != 8 &amp;&amp; position - 1 != 12 &amp;&amp; lastMove !=\"Right\") {\n        int temp_pos[] = copyToArray(act.get_posVect());\n        temp_pos[position] = temp_pos[position-1];\n        temp_pos[position-1] = 0;\n\n        ArrayList&lt;String&gt; temp_moves = new ArrayList&lt;String&gt;();\n        for(int i=0; i&lt;act.get_moves().size(); i++) {\n            temp_moves.add(act.get_moves().get(i));\n        }\n        temp_moves.add(\"Left\");\n\n        Node child = new Node(temp_pos,temp_moves,act.get_heuristic());\n        steps.addElement(child);\n    }\n    //Up Child\n    if(position - 4 &gt;= 0 &amp;&amp; lastMove !=\"Down\") {\n        int temp_pos[] = copyToArray(act.get_posVect());\n        temp_pos[position] = temp_pos[position-4];\n        temp_pos[position-4] = 0;\n\n        ArrayList&lt;String&gt; temp_moves = new ArrayList&lt;String&gt;();\n        for(int i=0; i&lt;act.get_moves().size(); i++) {\n            temp_moves.add(act.get_moves().get(i));\n        }\n        temp_moves.add(\"Up\");\n\n        Node child = new Node(temp_pos,temp_moves,act.get_heuristic());\n        steps.addElement(child);\n    }\n    //Down Child\n    if(position + 4 &lt; 16 &amp;&amp; lastMove !=\"Up\") {\n        int temp_pos[] = copyToArray(act.get_posVect());\n        temp_pos[position] = temp_pos[position+4];\n        temp_pos[position+4] = 0;\n\n        ArrayList&lt;String&gt; temp_moves = new ArrayList&lt;String&gt;();\n        for(int i=0; i&lt;act.get_moves().size(); i++) {\n            temp_moves.add(act.get_moves().get(i));\n        }\n        temp_moves.add(\"Down\");\n\n        Node child = new Node(temp_pos,temp_moves,act.get_heuristic());\n        steps.addElement(child);\n    }\n    return steps;\n</code></pre>\n\n<p>And that is my ManhattanDistance function:</p>\n\n<pre><code>public int calcolaDist(Vector&lt;Integer&gt; A) {\n    int result = 0;\n    Vector&lt;Integer&gt; goal_Mat = initialize_Mat();\n\n    for(int i=0; i&lt;16; i++) {\n        int x_goal = (goal_Mat.indexOf(i))/4;\n        int y_goal =  (goal_Mat.indexOf(i))%4;\n\n        int x_def = (A.indexOf(i))/4;\n        int y_def = (A.indexOf(i))%4;\n\n        if(A.elementAt(i) &gt; 0) {\n\n            result += Math.abs(x_def - x_goal);\n            result += Math.abs(y_def - y_goal);\n        }\n    }\n\n    return result;\n</code></pre>\n\n<p>If my puzzle is:</p>\n\n<blockquote>\n  <p>start = {1,3,0,4,5,2,7,8,9,6,10,11,13,14,15,12}</p>\n</blockquote>\n\n<p>My solution will be:</p>\n\n<blockquote>\n  <p>[Left, Down, Down, Right, Down, Right, Up, Left, Down, Right, Up, Left, Down, Right]</p>\n</blockquote>\n\n<p>I know that using Vectors isn't a good choice and my code is \"a little\" dirty, but I'm going to clean its as soon as I get out of that problem!</p>\n\n<p>Thank you all!</p>\n"}, {"tags": ["java", "integer"], "comments": [{"owner": {"reputation": 28727, "user_id": 9959152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSjIJ.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/9959152/deadpool"}, "edited": false, "score": 0, "creation_date": 1541616779, "post_id": 53195837, "comment_id": 93280430, "body": "this <code>replaceAll(&quot;[^a-zA-Z]+&quot;, &quot;&quot;)</code> is not working?, can you post the input and output"}, {"owner": {"reputation": 13, "user_id": 10609830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16fd3c193af6396ca8f32f7057ca1fea?s=128&d=identicon&r=PG&f=1", "display_name": "wolftrek", "link": "https://stackoverflow.com/users/10609830/wolftrek"}, "reply_to_user": {"reputation": 28727, "user_id": 9959152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSjIJ.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/9959152/deadpool"}, "edited": false, "score": 0, "creation_date": 1541617095, "post_id": 53195837, "comment_id": 93280579, "body": "Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:  \tThe method replaceAll(UnaryOperator&lt;String&gt;) in the type ArrayList&lt;String&gt; is not applicable for the arguments (String, String)  \tat BufferedReaderExample.main(BufferedReaderExample.java:60)   This is the error message I am getting when I try to run it. The error Eclipse is telling me is &quot;String extract = input.replaceAll(&quot;[^a-zA-Z]+&quot;, &quot;&quot;);&quot; is that &quot;the method replaceAll(UnaryOperator&lt;String&gt;) in the type ArrayList&lt;String&gt; is not applicable for the arguments (String, String)&quot;"}, {"owner": {"reputation": 2251, "user_id": 6650475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3543c7ccbd9324d2bc28abd8bd8d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew S", "link": "https://stackoverflow.com/users/6650475/andrew-s"}, "edited": false, "score": 0, "creation_date": 1541617287, "post_id": 53195837, "comment_id": 93280659, "body": "<code>input.replaceAll(s -&gt; s.replaceAll(&quot;[^a-zA-Z]+&quot;, &quot;&quot;));</code>  Also, <code>input</code> is <i>not</i> a copy of <code>myFileLInes</code>.  Also, the regex does not ignore integers as the question suggests, it keeps only letters a-z or A-Z (so other characters besides integers would also be replaced)."}], "answers": [{"tags": [], "owner": {"reputation": 328, "user_id": 9446943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dab8928f0c55b05b9bf5172b88d84521?s=128&d=identicon&r=PG&f=1", "display_name": "shelholmes221", "link": "https://stackoverflow.com/users/9446943/shelholmes221"}, "is_accepted": true, "score": 1, "last_activity_date": 1541617146, "creation_date": 1541617146, "answer_id": 53196051, "question_id": 53195837, "link": "https://stackoverflow.com/questions/53195837/how-to-print-and-remove-integers-from-a-file-on-computer/53196051#53196051", "title": "How to print and remove integers from a file on computer", "body": "<p>The error is you are applying replaceAll on a list and also the regex is not correct. Something like below will do the job. I am not clear if that's what you want though.</p>\n\n<pre><code>    ArrayList&lt;String&gt; input = myFileLines;\n    for (String e : input) {\n        String extract = e.replaceAll(\"\\\\d+\", \"\");\n        System.out.println(extract);\n    }\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10609830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16fd3c193af6396ca8f32f7057ca1fea?s=128&d=identicon&r=PG&f=1", "display_name": "wolftrek", "link": "https://stackoverflow.com/users/10609830/wolftrek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 53196051, "answer_count": 1, "score": 1, "last_activity_date": 1541617223, "creation_date": 1541616294, "question_id": 53195837, "link": "https://stackoverflow.com/questions/53195837/how-to-print-and-remove-integers-from-a-file-on-computer", "title": "How to print and remove integers from a file on computer", "body": "<p>I am trying to read a file from my computer, and have the system print out the file only containing the letters, and not printing the numbers. I have other functions in my code already so please look near the bottom where I am stuck with arraylist. How do I ignore the integers when printing?</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class BufferedReaderExample {\n\npublic static void main(String[] args) {\n\n    BufferedReader reader = null;\n    ArrayList &lt;String&gt; myFileLines = new ArrayList &lt;String&gt;();\n\n    try {\n\n        String sCurrentLine;\n\n        reader = new BufferedReader(new FileReader(\"/Users/wolftrek/Downloads/example.txt\"));\n\n        while ((sCurrentLine = reader.readLine()) != null) {\n            myFileLines.add(sCurrentLine);\n\n            System.out.println(sCurrentLine);\n        }\n\n    } catch (IOException e) {\n        e.printStackTrace();\n        System.out.print(e.getMessage());\n    } finally {\n        try {\n\n            if (reader != null)reader.close();\n        } catch (IOException ex) {\n            System.out.println(ex.getMessage());\n            ex.printStackTrace();\n        }\n    }\n\n\n\n    for (int i = 0; i &lt; myFileLines.size(); i++) {\n        if (myFileLines.get(i).contains(\"example word\")) {\n            System.out.println(myFileLines.get(i));\n        }\n    }\n\n    Scanner myScanner = new Scanner (System.in);\n    String enteredString = \"\";\n\n    System.out.println(\"Please enter the characters to search for: \");\n    enteredString = myScanner.nextLine();\n\n    for(int i = 0; i &lt; myFileLines.size(); i++) {\n        if (myFileLines.get(i).contains(enteredString)) {\n            System.out.println(myFileLines.get(i));\n        }\n    }\n\n    ArrayList&lt;String&gt; input = myFileLines;\n    String extract = input.replaceAll(\"[^a-zA-Z]+\", \"\");\n    System.out.println(extract);\n\n\n}\n}\n</code></pre>\n"}, {"tags": ["java"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 2727050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f8055bc472776371cb3f249b753badb?s=128&d=identicon&r=PG&f=1", "display_name": "user2727050", "link": "https://stackoverflow.com/users/2727050/user2727050"}, "edited": false, "score": 1, "creation_date": 1541818407, "post_id": 53195850, "comment_id": 93357798, "body": "GBlodgett, thank you very much for your help. I&#39;m just seeing it now. Thank you"}, {"owner": {"reputation": 12572, "user_id": 8534008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2af9937cac66f08b6ee6e4219cc0d?s=128&d=identicon&r=PG&f=1", "display_name": "GBlodgett", "link": "https://stackoverflow.com/users/8534008/gblodgett"}, "reply_to_user": {"reputation": 3, "user_id": 2727050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f8055bc472776371cb3f249b753badb?s=128&d=identicon&r=PG&f=1", "display_name": "user2727050", "link": "https://stackoverflow.com/users/2727050/user2727050"}, "edited": false, "score": 0, "creation_date": 1541818705, "post_id": 53195850, "comment_id": 93357836, "body": "@user2727050 If an answer was helpful to you, you have the option to accept the answer by clicking the green check mark underneath the vote count on the answer (It&#39;ll give you some reputation)"}], "tags": [], "owner": {"reputation": 12572, "user_id": 8534008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2af9937cac66f08b6ee6e4219cc0d?s=128&d=identicon&r=PG&f=1", "display_name": "GBlodgett", "link": "https://stackoverflow.com/users/8534008/gblodgett"}, "is_accepted": false, "score": 1, "last_activity_date": 1541616927, "last_edit_date": 1541616927, "creation_date": 1541616335, "answer_id": 53195850, "question_id": 53195808, "link": "https://stackoverflow.com/questions/53195808/new-line-escape-characters/53195850#53195850", "title": "New line escape characters", "body": "<p>Two things:</p>\n\n<ul>\n<li><p>You are missing a closing quotation mark</p></li>\n<li><p>You have <code>\\</code> after <code>\\n</code> which will try to escape the next letter, which is not what you want. </p></li>\n</ul>\n\n<p>So in the <code>String</code>: </p>\n\n<pre><code>Alpha\\n\\Bravo\n       ^^ this \\ is trying to escape B which is invalid.\n</code></pre>\n\n<p>Remove the trailing <code>\\</code>. Also you have a a few extra <code>\\n</code>'s to get the output you want.(Extra one after Bravo, and Hotel):</p>\n\n<pre><code>System.out.println(\"Alpha\\nBravo\\nCharlie\\nDelta\\n\\nEchoFoxtrotGolf\\nHotel\\nIndia\\n\\nThis is a test. \");\n</code></pre>\n\n<p><strong><em>Output:</em></strong></p>\n\n<pre><code>Alpha\nBravo\nCharlie\nDelta\n\nEchoFoxtrotGolf\nHotel\nIndia\n\nThis is a test. \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 2727050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f8055bc472776371cb3f249b753badb?s=128&d=identicon&r=PG&f=1", "display_name": "user2727050", "link": "https://stackoverflow.com/users/2727050/user2727050"}, "edited": false, "score": 0, "creation_date": 1541818461, "post_id": 53196029, "comment_id": 93357802, "body": "Rahul, thank you for your response as well. Now, I&#39;m not familiar with this format but I&#39;ll give it a shot. Thank you very very much."}], "tags": [], "owner": {"reputation": 983, "user_id": 2556478, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9ba2c5f36ea4fd24fcd0671a735729c?s=128&d=identicon&r=PG&f=1", "display_name": "RDM", "link": "https://stackoverflow.com/users/2556478/rdm"}, "is_accepted": true, "score": 0, "last_activity_date": 1541617067, "creation_date": 1541617067, "answer_id": 53196029, "question_id": 53195808, "link": "https://stackoverflow.com/questions/53195808/new-line-escape-characters/53196029#53196029", "title": "New line escape characters", "body": "<p>You can also try the following code:</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nsb.append(\"Alpha\").append(\"\\n\")\n  .append(\"Bravo\").append(\"\\n\")\n  .append(\"Charlie\").append(\"\\n\")\n  .append(\"Delta\").append(\"\\n\").append(\"\\n\")\n  .append(\"Echo\").append(\"Foxtrot\").append(\"Golf\").append(\"\\n\")\n  .append(\"Hotel\").append(\"\\n\")\n  .append(\"India\").append(\"\\n\").append(\"\\n\")\n  .append(\"This is a test\");\n\nString formattedString = sb.toString();\nSystem.out.println(formattedString);\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 2727050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f8055bc472776371cb3f249b753badb?s=128&d=identicon&r=PG&f=1", "display_name": "user2727050", "link": "https://stackoverflow.com/users/2727050/user2727050"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 53196029, "answer_count": 2, "score": 0, "last_activity_date": 1541618529, "creation_date": 1541616191, "last_edit_date": 1541618529, "question_id": 53195808, "link": "https://stackoverflow.com/questions/53195808/new-line-escape-characters", "title": "New line escape characters", "body": "<p>To Whom It May Concern,</p>\n\n<p>I am trying to compile a progam in Java using a single print line. I was tasked to use escape sequences and the error I got was illegal escape character. Here is the output I'm aiming for. Output I want:</p>\n\n<pre><code>Alpha\nBravo\nCharlie\nDelta\n\nEchoFoxtrotGolf\nHotel\nIndia\n\nThis is a test. \n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>public class PrintingChoicesEscapesSecond {\n    public static void main( String[] args ) {\n        System.out.println( \"Alpha\\n\\Bravo\\n\\n\\Charlie\\n\\Delta\\n\\n\\EchoFoxtrotGolf\\n\\Hotel\\n\\n\\India\\n\\n\\This is a test. );\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "design-patterns", "dao"], "answers": [{"tags": [], "owner": {"reputation": 87, "user_id": 10554317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f9be70fb68c75c1ad07cb500f258e86?s=128&d=identicon&r=PG&f=1", "display_name": "Oleksandr  Bereziuk", "link": "https://stackoverflow.com/users/10554317/oleksandr-bereziuk"}, "is_accepted": true, "score": 0, "last_activity_date": 1541641744, "last_edit_date": 1541641744, "creation_date": 1541641444, "answer_id": 53200407, "question_id": 53195793, "link": "https://stackoverflow.com/questions/53195793/dao-with-different-datasource-for-different-cases/53200407#53200407", "title": "DAO with different DataSource for different cases", "body": "<p>First advice: do NOT overcomplicate your solution if it's not  necessary.</p>\n\n<p>If you are using the same DB instance for read and write operations, just create  single pair of the DAO interface\\implementation for all operations</p>\n\n<p>Additionally, API call should NEVER reach data access layer directly. Add business service layer in between.</p>\n\n<p>API -> Business Service(s) -> DAO -> DB</p>\n"}], "owner": {"reputation": 175, "user_id": 9816335, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Arber", "link": "https://stackoverflow.com/users/9816335/arber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 53200407, "answer_count": 1, "score": 0, "last_activity_date": 1541641744, "creation_date": 1541616153, "last_edit_date": 1541623776, "question_id": 53195793, "link": "https://stackoverflow.com/questions/53195793/dao-with-different-datasource-for-different-cases", "title": "DAO with different DataSource for different cases", "body": "<p>I access a REST API to get some objects in order to save them in a local DB. Later I want to access these objects in the local DB and update them as well.</p>\n\n<p>I'm not sure what is the best way to go - trying to use the DAO Design Pattern. What I see is, that there are different data sources for different cases (operations).</p>\n\n<p>Can you give me some ideas?</p>\n\n<p><a href=\"https://i.stack.imgur.com/kHPni.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kHPni.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["java", "algorithm", "try-catch", "finally"], "comments": [{"owner": {"reputation": 496316, "user_id": 57695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/53ee9941b3fefef67175daf212e62d41?s=128&d=identicon&r=PG", "display_name": "Peter Lawrey", "link": "https://stackoverflow.com/users/57695/peter-lawrey"}, "edited": false, "score": 2, "creation_date": 1541620616, "post_id": 53195759, "comment_id": 93282253, "body": "This appears to be defensive coding. It could fail if the code changes in ways the original developer didn&#39;t expect."}, {"owner": {"reputation": 5502, "user_id": 3080094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VDtbQ.jpg?s=128&g=1", "display_name": "vanOekel", "link": "https://stackoverflow.com/users/3080094/vanoekel"}, "edited": false, "score": 1, "creation_date": 1541624131, "post_id": 53195759, "comment_id": 93283886, "body": "What Peter said but the form also hints at the mechanics: a &quot;sort of&quot; lock is acquired in <code>casBusy()</code> and the convention is to always release the lock in a finally block (<code>busy = 0</code> in this case). Following the convention, even though not strictly needed, makes the (structure of the) code easier to read and understand (at least for me)."}], "answers": [{"comments": [{"owner": {"reputation": 30143, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1579732772, "post_id": 59868611, "comment_id": 105869518, "body": "+1. I think making the code <i>&quot;a lot easier to read and reason about&quot;</i> is very likely why it was written this way. Instead of having to check carefully that each operation in the <code>try</code> block cannot throw an exception, just wrapping it in <code>finally</code> means you don&#39;t have to read the <code>try</code> block to know that this code will be executed (except in edge cases like a power outage, where not releasing a lock is the least of your problems anyway). Correct code is not as good as <i>obviously-correct</i> code."}], "tags": [], "owner": {"reputation": 101145, "user_id": 1059372, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/W6OMC.png?s=128&g=1", "display_name": "Eugene", "link": "https://stackoverflow.com/users/1059372/eugene"}, "is_accepted": true, "score": 2, "last_activity_date": 1579728967, "creation_date": 1579728967, "answer_id": 59868611, "question_id": 53195759, "link": "https://stackoverflow.com/questions/53195759/longadder-how-can-the-try-block-fail/59868611#59868611", "title": "LongAdder: How can the try block fail?", "body": "<p>This very much looks like the pattern used with <code>ReentrantLock</code> everywhere else in the jdk code itself. The \"pattern\" here is that you should <em>always</em> release the lock, even if an Exception occurred, so usually the code is written as:</p>\n\n<pre><code>Lock someLock...\n\ntry {\n    // use someLock\n} finally {\n    someLock.unlock();\n}\n</code></pre>\n\n<p>Since <code>cellsBusy</code>(it was renamed from <code>busy</code>) is actually a busy-spin <em>lock</em>, the pattern is sort of the same here. As such:</p>\n\n<pre><code>cellsBusy = 0;\n</code></pre>\n\n<p>is actually \"releasing the lock\". So this is not really about failing, as it is about releasing the lock <em>explicitly</em>. I find this a lot easier to read and reason about the code. </p>\n"}, {"comments": [{"owner": {"reputation": 101145, "user_id": 1059372, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/W6OMC.png?s=128&g=1", "display_name": "Eugene", "link": "https://stackoverflow.com/users/1059372/eugene"}, "edited": false, "score": 0, "creation_date": 1579732923, "post_id": 59869173, "comment_id": 105869569, "body": "we are talking about <i>internal</i> creation of threads here, written by talented people... I highly doubt this has anything to do with <code>Thread::stop</code>, at least I very much hope."}, {"owner": {"reputation": 30143, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "reply_to_user": {"reputation": 101145, "user_id": 1059372, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/W6OMC.png?s=128&g=1", "display_name": "Eugene", "link": "https://stackoverflow.com/users/1059372/eugene"}, "edited": false, "score": 1, "creation_date": 1579733205, "post_id": 59869173, "comment_id": 105869663, "body": "I agree completely. I just thought it was worth answering <i>&quot;how can this try block fail?&quot;</i> literally, since you&#39;ve already answered the implied (and more interesting) question <i>&quot;why might this code be written in a try block?&quot;</i>."}, {"owner": {"reputation": 521, "user_id": 4788612, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5b3f0bd475fb8fb8fefd8ba79a660e98?s=128&d=identicon&r=PG&f=1", "display_name": "user120513", "link": "https://stackoverflow.com/users/4788612/user120513"}, "edited": false, "score": 0, "creation_date": 1582401449, "post_id": 59869173, "comment_id": 106767854, "body": "@kaya3: Amazing comment. Your exactness in using words/language is really impressing. I like that very much. Concerning the answers from you and Eugene, I think it&#39;s fair to accept Eugene&#39;s one, as it&#39;s nearer in what I had wanted to ask."}, {"owner": {"reputation": 30143, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "reply_to_user": {"reputation": 521, "user_id": 4788612, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5b3f0bd475fb8fb8fefd8ba79a660e98?s=128&d=identicon&r=PG&f=1", "display_name": "user120513", "link": "https://stackoverflow.com/users/4788612/user120513"}, "edited": false, "score": 0, "creation_date": 1582402437, "post_id": 59869173, "comment_id": 106768142, "body": "@user120513 I agree, Eugene&#39;s answer is the more useful one."}], "tags": [], "owner": {"reputation": 30143, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "is_accepted": false, "score": 2, "last_activity_date": 1579732490, "last_edit_date": 1579732490, "creation_date": 1579732165, "answer_id": 59869173, "question_id": 53195759, "link": "https://stackoverflow.com/questions/53195759/longadder-how-can-the-try-block-fail/59869173#59869173", "title": "LongAdder: How can the try block fail?", "body": "<p>This code - and literally any other Java code before version 11 - could fail as a result of the deprecated <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#stop--\" rel=\"nofollow noreferrer\"><code>Thread.stop</code></a> method being called from another thread. This results in a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadDeath.html\" rel=\"nofollow noreferrer\"><code>ThreadDeath</code></a> error being thrown in the targeted thread, potentially at any time. However, the thread <a href=\"https://stackoverflow.com/a/12430747/12299000\">does at least stay alive</a> long enough for the <code>finally</code> block to execute.</p>\n\n<p>The <code>Thread.stop</code> method is deprecated <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html\" rel=\"nofollow noreferrer\">because this behaviour makes it \"inherently unsafe\"</a>:</p>\n\n<blockquote>\n  <h2>Why is Thread.stop deprecated?</h2>\n  \n  <p>Because it is inherently unsafe. Stopping a thread causes it to unlock all the monitors that it has locked. (The monitors are unlocked as the ThreadDeath exception propagates up the stack.) If any of the objects previously protected by these monitors were in an inconsistent state, other threads may now view these objects in an inconsistent state. Such objects are said to be damaged. When threads operate on damaged objects, arbitrary behavior can result. This behavior may be subtle and difficult to detect, or it may be pronounced. Unlike other unchecked exceptions, ThreadDeath kills threads silently; thus, the user has no warning that his program may be corrupted. The corruption can manifest itself at any time after the actual damage occurs, even hours or days in the future.</p>\n</blockquote>\n\n<p>In theory the code could have been written this way as an attempted defense against leaving the object in an invalid state if the thread it is executed in is stopped from another thread. That said, it is very difficult to guarantee a valid state if <code>Thread.stop</code> could be called at any time, and not very common to even attempt to do so, so it's not likely that this was the author's intention. (If it was, the code would probably have a comment explaining it.)</p>\n"}], "owner": {"reputation": 521, "user_id": 4788612, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5b3f0bd475fb8fb8fefd8ba79a660e98?s=128&d=identicon&r=PG&f=1", "display_name": "user120513", "link": "https://stackoverflow.com/users/4788612/user120513"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 1, "accepted_answer_id": 59868611, "answer_count": 2, "score": 5, "last_activity_date": 1579740203, "creation_date": 1541615985, "last_edit_date": 1579740203, "question_id": 53195759, "link": "https://stackoverflow.com/questions/53195759/longadder-how-can-the-try-block-fail", "title": "LongAdder: How can the try block fail?", "body": "<p>I'm analyzing the <code>LongAdder</code> algorithm in detail. <code>LongAdder</code> extends the class <a href=\"http://checkstyle.sourceforge.net/reports/google-style/guava/xref/com/google/common/cache/Striped64.html\" rel=\"nofollow noreferrer\"><code>Striped64</code></a> and in that class the essential method is <code>retryUpdate</code>. The following piece of code is taken from this method; in the linked source code it occupies lines 212\u2013222:</p>\n\n<pre><code>try {  // Recheck under lock\n  Cell[] rs; int m, j;\n  if ( (rs = cells) != null &amp;&amp;\n       (m = rs.length) &gt; 0  &amp;&amp;\n       rs[j = (m - 1) &amp; h] == null) {\n     rs[j] = r;\n     created = true;\n   }\n} finally {\n  busy = 0;\n}\n</code></pre>\n\n<p><strong>Question:</strong> How can this <code>try</code> block fail? </p>\n\n<p>Note that the array access </p>\n\n<pre><code>rs[j = (m - 1) &amp; h] \n</code></pre>\n\n<p>shouldn't throw an <code>IndexOutOfBoundsException</code> because the result of a   bitwise-and operation is always less than or equal than the minimum of its integer arguments, hence 0 &lt;= j &lt;= m-1 is within the bounds of the array. </p>\n"}, {"tags": ["java", "spring"], "comments": [{"owner": {"reputation": 1001, "user_id": 954602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88b7173692dc35314894fb8af0adf937?s=128&d=identicon&r=PG", "display_name": "Selim Ok", "link": "https://stackoverflow.com/users/954602/selim-ok"}, "edited": false, "score": 1, "creation_date": 1541630091, "post_id": 53195715, "comment_id": 93286375, "body": "Do you have looked at the documentation <a href=\"https://www.thymeleaf.org/doc/tutorials/2.1/thymeleafspring.html\" rel=\"nofollow noreferrer\">thymeleaf.org/doc/tutorials/2.1/thymeleafspring.html</a> 7.5 Dropdown/List selectors / It seems different in your example. Anyway you need to declare thymeleaf which property of a Workout object should be displayed in the options."}, {"owner": {"reputation": 445, "user_id": 6658290, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c1f203333e0c03c51b9c41eab1310599?s=128&d=identicon&r=PG&f=1", "display_name": "Polyphase29", "link": "https://stackoverflow.com/users/6658290/polyphase29"}, "reply_to_user": {"reputation": 1001, "user_id": 954602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88b7173692dc35314894fb8af0adf937?s=128&d=identicon&r=PG", "display_name": "Selim Ok", "link": "https://stackoverflow.com/users/954602/selim-ok"}, "edited": false, "score": 0, "creation_date": 1541631442, "post_id": 53195715, "comment_id": 93286861, "body": "Yep. Looking at the error more closely now, it seems that it is more of a problem with my Workout being routed as a ModelAttribute."}], "owner": {"reputation": 445, "user_id": 6658290, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c1f203333e0c03c51b9c41eab1310599?s=128&d=identicon&r=PG&f=1", "display_name": "Polyphase29", "link": "https://stackoverflow.com/users/6658290/polyphase29"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541615830, "creation_date": 1541615830, "question_id": 53195715, "link": "https://stackoverflow.com/questions/53195715/display-arraylist-in-select-box-part-of-form", "title": "Display arraylist in select box part of form", "body": "<p>I'm working on a simple workout tracker using Java Spring. I'm trying to create my exercise form which allows users to input exercise name/weight/reps and select the (previously created) workout they wish to add to. I've looked at many threads discussing similar issues and nothing has worked for me.</p>\n\n<p>Here is the method in my WorkoutController:</p>\n\n<pre><code>@PostMapping(\"/workout/createExercise\")\npublic String createExercise(@ModelAttribute Exercise exercise,\n                             Model model) {\n    Collection&lt;Workout&gt; workouts = workoutService.getWorkouts();\n    model.addAttribute(\"workouts\", workouts);\n    workoutService.saveExercise(exercise);\n    return \"createExercise\";\n}\n</code></pre>\n\n<p>This is the form: </p>\n\n<pre><code>&lt;options action=\"#\" th:action=\"@{/exercise/createExercise}\" th:object=\"${exercise}\" method=\"post\"&gt;\n            Exercise name:&lt;br&gt;\n            &lt;input type=\"text\" class=\"formInput\" name=\"exercise-name\" size=\"50\"\n                   th:field=\"*{exerciseName}\"&gt;&lt;br&gt;\n            &lt;div class=\"divider\"&gt;&lt;/div&gt;\n            Weight:&lt;br&gt;\n            &lt;input type=\"text\" class=\"formInput\" name=\"weight\" size=\"50\"\n                   th:field=\"*{weight}\"&gt;&lt;br&gt;\n            &lt;div class=\"divider\"&gt;&lt;/div&gt;\n            Reps:&lt;br&gt;\n            &lt;input type=\"text\" class=\"formInput\" name=\"reps\" size=\"50\"\n                   th:field=\"*{reps}\"&gt;&lt;br&gt;\n            &lt;div class=\"divider\"&gt;&lt;/div&gt;\n            Workout:&lt;br&gt;\n            &lt;select name=\"workout\" class=\"exerciseForm\" name=\"workout\"&gt;\n                &lt;option&gt;--&lt;/option&gt;\n                &lt;option items=\"${workouts}\" itemLabel=\"workoutName\"\n                       itemValue=\"workoutID\"&gt;&lt;/option&gt;\n            &lt;/select&gt;\n            &lt;br&gt;&lt;br&gt;\n            &lt;input type=\"submit\" class=\"input-box\"&gt;\n        &lt;/form&gt;\n</code></pre>\n\n<p>I've tried many variations. Sometimes it does render the page but doesn't display anything when I click the dropdown box, other times, it will display the following error:</p>\n\n<pre><code>18-11-07 12:32:47 ERROR org.thymeleaf.TemplateEngine - \n[THYMELEAF][http-nio-8080-exec-10] Exception processing \n template \"createExercise\": An error happened during \n template parsing (template: \"class path resource \n [templates/createExercise.html]\" - line 57, col 61)\n org.thymeleaf.exceptions.TemplateInputException: An error \n happened during template parsing (template: \"class path \n resource [templates/createExercise.html]\" - line 57, col 61)\nat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:239)\nat \n</code></pre>\n\n<p>Any suggestions are greatly appreciated! Thanks.</p>\n"}, {"tags": ["java", "bdd", "citrus-framework"], "answers": [{"tags": [], "owner": {"reputation": 2096, "user_id": 6012516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73db91559405ff16a81d82658becfa5d?s=128&d=identicon&r=PG", "display_name": "Christoph Deppisch", "link": "https://stackoverflow.com/users/6012516/christoph-deppisch"}, "is_accepted": true, "score": 2, "last_activity_date": 1541664195, "creation_date": 1541664195, "answer_id": 53203544, "question_id": 53195707, "link": "https://stackoverflow.com/questions/53195707/reuse-http-message-in-different-methods-in-citrus-framework/53203544#53203544", "title": "Reuse HTTP message in different methods in Citrus Framework", "body": "<p>You can do something like this:</p>\n\n<pre><code>@Then(\"the client receives a response with {string}\")\npublic void the_client_receives_a_response_with(String payload) {\n    designer.action(new AbstractTestAction() {\n        public void doExecute(TestContext context) {\n            Assert.assertTrue(context.getMessageStore()\n                                         .getMessage(\"currentMessage\")\n                                         .getPayload(String.class)\n                                         .equals(payload));\n        }\n    });\n}\n</code></pre>\n\n<p>The abstract action is always provided with the current TestContext instance of your running test. So the <code>@CitrusResource</code> injection is not working here as you get a different instance where the named message is unknown.</p>\n\n<p>Also as an alternative you could follow the default named messages steps BDD API that is described here: <a href=\"https://citrusframework.org/citrus/reference/html/index.html#named-messages\" rel=\"nofollow noreferrer\">https://citrusframework.org/citrus/reference/html/index.html#named-messages</a></p>\n\n<p>Maybe message creator BDD API will also help: <a href=\"https://citrusframework.org/citrus/reference/html/index.html#message-creator-steps\" rel=\"nofollow noreferrer\">https://citrusframework.org/citrus/reference/html/index.html#message-creator-steps</a></p>\n"}], "owner": {"reputation": 1357, "user_id": 496038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lO2Iq.png?s=128&g=1", "display_name": "pringi", "link": "https://stackoverflow.com/users/496038/pringi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 53203544, "answer_count": 1, "score": 1, "last_activity_date": 1541664195, "creation_date": 1541615782, "question_id": 53195707, "link": "https://stackoverflow.com/questions/53195707/reuse-http-message-in-different-methods-in-citrus-framework", "title": "Reuse HTTP message in different methods in Citrus Framework", "body": "<p><em>Problem</em>: How to reuse the same HTTP message in two different methods (in the same step) in Citrus Framework</p>\n\n<p><em>Versions</em>: <em>Citrus 2.8.0-SNAPSHOT</em>; <em>Cucumber 3.0.2</em>; <em>Java 8</em></p>\n\n<p>Having this Gherkin:</p>\n\n<pre><code>    Scenario: Client has permission to access the action\n        Given that client has access to action\n        When the client calls the endpoint /some-endpoint/client/1/action/some-action\n        Then the client receives status code of 200\n        And the client receives a response with {\"action\" : \"some-action\", \"permission\": \"AUTHORIZED\"}\n</code></pre>\n\n<p>and the following piece of <em>Java</em> code:</p>\n\n<pre><code>  @Then(\"the client receives status code of {int}\")\n  public void the_client_receives_status_code_of(Integer statusCode) {\n\n    designer.http().client(httpClient).receive().response(HttpStatus.valueOf(statusCode))\n        .contentType(\"application/json;charset=UTF-8\"):\n  }\n\n  @Then(\"the client receives a response with {string}\")\n  public void the_client_receives_a_response_with(String payload) {\n\n    designer.http().client(httpClient).receive().response().payload(payload);\n  }\n</code></pre>\n\n<p>If this code is run, it will give a timeout in the method <code>the_client_receives_a_response_with</code>, since <em>Citrus</em> is expecting to receive a second message (<code>send</code> method was only called once).</p>\n\n<p>The objective here is to separate the validations of the <em>HTTP</em> code from the payload, so the separation was made by creating two methods. How to reuse the message received in method <code>the_client_receives_status_code_of</code>?</p>\n\n<p>Already tried the following without success:</p>\n\n<p>Giving a name to the received message:</p>\n\n<pre><code>designer.http().client(httpClient).receive().response(HttpStatus.valueOf(statusCode)).name(\"currentMessage\")\n        .contentType(\"application/json;charset=UTF-8\");\n</code></pre>\n\n<p>But trying to access the message like this:</p>\n\n<pre><code>@CitrusResource\nprivate TestContext testContext;\n...\ntestContext.getMessageStore().getMessage(\"currentMessage\");\n</code></pre>\n\n<p>Returns <code>null</code>.</p>\n\n<p>But using this:</p>\n\n<pre><code>designer.echo(\"citrus:message(currentMessage)\");\n</code></pre>\n\n<p>Prints the correct message.</p>\n\n<p>So, how can I access the message in Java code, i.e, have access to the message to do something like this:</p>\n\n<pre><code>Assert.assertTrue(testContext.getMessageStore().getMessage(\"currentMessage\").getPayload().equals(payload));\n</code></pre>\n\n<p>In two different methods.</p>\n"}, {"tags": ["java", "android-studio"], "comments": [{"owner": {"reputation": 1325, "user_id": 10431118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cEMkN.jpg?s=128&g=1", "display_name": "pvy4917", "link": "https://stackoverflow.com/users/10431118/pvy4917"}, "edited": false, "score": 2, "creation_date": 1541616863, "post_id": 53195701, "comment_id": 93280478, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/47289011/how-can-i-fix-design-editor-is-unavailable-until-a-successful-build-error\">How can I fix &quot;Design editor is unavailable until a successful build&quot; error?</a>"}, {"owner": {"reputation": 928, "user_id": 1876980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/59fa849ac5f2e6bc141aacc5920f4cf9?s=128&d=identicon&r=PG", "display_name": "Stephen M -on strike-", "link": "https://stackoverflow.com/users/1876980/stephen-m-on-strike"}, "edited": false, "score": 0, "creation_date": 1541626212, "post_id": 53195701, "comment_id": 93284837, "body": "Can you post more details?  Gradle files?  Output from your sync?  Hard to answer a question like this without more information."}], "answers": [{"comments": [{"owner": {"reputation": 1102, "user_id": 6336042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/054ea2f04b5592b91f8223796cc53979?s=128&d=identicon&r=PG", "display_name": "Brendon Whateley", "link": "https://stackoverflow.com/users/6336042/brendon-whateley"}, "edited": false, "score": 0, "creation_date": 1573523424, "post_id": 53424315, "comment_id": 103901144, "body": "This is such a stupid bug in Android Studio. A successful clean/rebuild does not make it happy. I&#39;m not sure what the difference between doing a Gradle rebuild and sync, but that shouldn&#39;t be my problem! :)"}], "tags": [], "owner": {"reputation": 2176, "user_id": 6561930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZFBL.jpg?s=128&g=1", "display_name": "Ridha Rezzag", "link": "https://stackoverflow.com/users/6561930/ridha-rezzag"}, "is_accepted": true, "score": 25, "last_activity_date": 1542863971, "creation_date": 1542863971, "answer_id": 53424315, "question_id": 53195701, "link": "https://stackoverflow.com/questions/53195701/android-studio-design-editor-is-unavailable-until-after-a-successful-project-syn/53424315#53424315", "title": "Android studio design editor is unavailable until after a successful project sync", "body": "<p>Just sync your project with gradles. <strong>File --> Sync Project with Gradle Files</strong> </p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 10440673, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MY3dM4nPWHA/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVpZ7hpFIOyq8aPD_I6viZ2M2_VXw/mo/photo.jpg?sz=128", "display_name": "Prasad Jayathilake", "link": "https://stackoverflow.com/users/10440673/prasad-jayathilake"}, "is_accepted": false, "score": 0, "last_activity_date": 1547878941, "last_edit_date": 1547878941, "creation_date": 1547874899, "answer_id": 54264274, "question_id": 53195701, "link": "https://stackoverflow.com/questions/53195701/android-studio-design-editor-is-unavailable-until-after-a-successful-project-syn/54264274#54264274", "title": "Android studio design editor is unavailable until after a successful project sync", "body": "<p>Issue happened to me when I changed the  <code>res&gt;values&gt;styles.xml</code></p>\n\n<p>What I change was<br>\n<code>\"Theme.AppCompat.Light.DarkActionBar\"</code> --->>> <code>\"Base.Theme.AppCompat.Light.DarkActionBar\"</code></p>\n\n<p>Solutions I tried.</p>\n\n<ol>\n<li>Build -> Rebuild Project  (Not worked)</li>\n<li>Close all files and Open again. Then \n Build -> Clean Project (Not worked)\n File -> Sync project with gradle files (Not worked)</li>\n<li>Close the Android Studio while project still opened. Opened it again. - It Worked.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 122, "user_id": 5289062, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/BdHgN.jpg?s=128&g=1", "display_name": "Abdullah Almasud", "link": "https://stackoverflow.com/users/5289062/abdullah-almasud"}, "is_accepted": false, "score": 3, "last_activity_date": 1552026448, "last_edit_date": 1592644375, "creation_date": 1552025834, "answer_id": 55057720, "question_id": 53195701, "link": "https://stackoverflow.com/questions/53195701/android-studio-design-editor-is-unavailable-until-after-a-successful-project-syn/55057720#55057720", "title": "Android studio design editor is unavailable until after a successful project sync", "body": "<ol>\n<li><p>Build -&gt; Clean Project</p>\n</li>\n<li><p>Build -&gt; Rebuild Project</p>\n</li>\n<li><p>File -&gt; Sync project with gradle files . If not worked then try</p>\n<p>File -&gt; Invalidate Caches / Restart .</p>\n</li>\n</ol>\n<p>It's work for me !!!</p>\n"}, {"tags": [], "owner": {"reputation": 13958, "user_id": 689723, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/rQNO2.jpg?s=128&g=1", "display_name": "cesards", "link": "https://stackoverflow.com/users/689723/cesards"}, "is_accepted": false, "score": 2, "last_activity_date": 1553103303, "creation_date": 1553103303, "answer_id": 55266972, "question_id": 53195701, "link": "https://stackoverflow.com/questions/53195701/android-studio-design-editor-is-unavailable-until-after-a-successful-project-syn/55266972#55266972", "title": "Android studio design editor is unavailable until after a successful project sync", "body": "<p>That could be fixed in one or two steps, depending on how nice is Android Studio today:</p>\n\n<ol>\n<li>Try to sync your project with gradle files:</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/yb4zx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yb4zx.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"2\">\n<li>If that doesn't work, invalidate Android Studio caches and restart. That should fix the problem:</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/26i5D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/26i5D.png\" alt=\"enter image description here\"></a></p>\n\n<p>The reason behind the first solution not working could be related on gradle cached dependencies problems, but who knows \ud83e\udd37</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12176467, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAE15fa7_-8OkjGpztmoPnYRhmUBEJVmz2_Z99jRQ=k-s128", "display_name": "Moment Mnt", "link": "https://stackoverflow.com/users/12176467/moment-mnt"}, "is_accepted": false, "score": 0, "last_activity_date": 1580129626, "creation_date": 1580129626, "answer_id": 59931593, "question_id": 53195701, "link": "https://stackoverflow.com/questions/53195701/android-studio-design-editor-is-unavailable-until-after-a-successful-project-syn/59931593#59931593", "title": "Android studio design editor is unavailable until after a successful project sync", "body": "<p>Just you have to do >> open  File --> Sync Project with Gradle Files \nand then after >> open File -->  invalidate Android Studio caches / restart so done this problem.:)</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 9303196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56ba572f51d5508a4aab2398c9e32a05?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek Raj", "link": "https://stackoverflow.com/users/9303196/abhishek-raj"}, "is_accepted": false, "score": 0, "last_activity_date": 1583808419, "creation_date": 1583808419, "answer_id": 60610899, "question_id": 53195701, "link": "https://stackoverflow.com/questions/53195701/android-studio-design-editor-is-unavailable-until-after-a-successful-project-syn/60610899#60610899", "title": "Android studio design editor is unavailable until after a successful project sync", "body": "<p>If nothing of the above steps work, Then simply undo the changes that you have recently made, and then build gradle.\nIn my case, I have added one dependencies and this problem raised, so I removed that dependencies build the gradle and then again add it. \nProblem Solved..!!</p>\n"}, {"tags": [], "owner": {"reputation": 181, "user_id": 2616155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3891a552053571f611d7fc1c07b6c774?s=128&d=identicon&r=PG", "display_name": "user2616155", "link": "https://stackoverflow.com/users/2616155/user2616155"}, "is_accepted": false, "score": 0, "last_activity_date": 1592687421, "creation_date": 1592687421, "answer_id": 62491713, "question_id": 53195701, "link": "https://stackoverflow.com/questions/53195701/android-studio-design-editor-is-unavailable-until-after-a-successful-project-syn/62491713#62491713", "title": "Android studio design editor is unavailable until after a successful project sync", "body": "<p>I had this problem and it was because I didn't have the right API level installed (and I was also getting an error to that effect). I went into Tools --&gt; SDK Manager and installed the API the system was telling me I needed (in my case, 30). I did that and restarted Android Studio and was able to get into XML files.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9001912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VLeOX.jpg?s=128&g=1", "display_name": "riche", "link": "https://stackoverflow.com/users/9001912/riche"}, "is_accepted": false, "score": 0, "last_activity_date": 1617706466, "creation_date": 1617706466, "answer_id": 66967278, "question_id": 53195701, "link": "https://stackoverflow.com/questions/53195701/android-studio-design-editor-is-unavailable-until-after-a-successful-project-syn/66967278#66967278", "title": "Android studio design editor is unavailable until after a successful project sync", "body": "<p>sometimes <strong>Sync project with gradle File</strong> dosent work; you should check the <strong>compileSdkVersion</strong> in the &quot;build.gradle&quot; file , make them is the same number  within all library/modlue</p>\n"}], "owner": {"reputation": 133, "user_id": 10289280, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fXeYqIVX80s/AAAAAAAAAAI/AAAAAAAAAho/7TuvfqL8Cx0/photo.jpg?sz=128", "display_name": "Eman Fateen", "link": "https://stackoverflow.com/users/10289280/eman-fateen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37741, "favorite_count": 4, "accepted_answer_id": 53424315, "answer_count": 8, "score": 11, "last_activity_date": 1617706466, "creation_date": 1541615738, "last_edit_date": 1546249825, "question_id": 53195701, "link": "https://stackoverflow.com/questions/53195701/android-studio-design-editor-is-unavailable-until-after-a-successful-project-syn", "title": "Android studio design editor is unavailable until after a successful project sync", "body": "<p>what is the actual root cause of this issue? I already sync with gradle files but eventually failed.</p>\n\n<p><img src=\"https://i.stack.imgur.com/MaPDB.png\" alt=\"image screen\"></p>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 8852, "user_id": 1383240, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/41093f55db0d5feaa0012ed6b5c3ca5c?s=128&d=identicon&r=PG&f=1", "display_name": "NiVeR", "link": "https://stackoverflow.com/users/1383240/niver"}, "edited": false, "score": 5, "creation_date": 1541615849, "post_id": 53195700, "comment_id": 93280020, "body": "You can easily try this."}, {"owner": {"reputation": 43882, "user_id": 4922375, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2f70cb2cc341b8ceda0e1f801316d85f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Tobilko", "link": "https://stackoverflow.com/users/4922375/andrew-tobilko"}, "edited": false, "score": 3, "creation_date": 1541616011, "post_id": 53195700, "comment_id": 93280091, "body": "<code>return method1() &amp;&amp; method2() &amp;&amp; method3() &amp;&amp; method4();</code> works fine"}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1541620966, "post_id": 53195700, "comment_id": 93282429, "body": "Why don&#39;t you just try this and find out? Also, the <code>if</code> statement is completely unnecessary in your example in the first place. There&#39;s no need to explicitly return <code>true</code> and <code>false</code> here because you return <code>true</code> exactly when <code>method1() &amp;&amp; method2() &amp;&amp; method() &amp;&amp; method4()</code> is <code>true</code>, and <code>false</code> exactly when <code>method1() &amp;&amp; method2() &amp;&amp; method() &amp;&amp; method4()</code> is false. You can just return <code>method1() &amp;&amp; method2() &amp;&amp; method() &amp;&amp; method4()</code> &quot;directly&quot; without bothering with the <code>if</code> statement."}], "answers": [{"tags": [], "owner": {"reputation": 10245, "user_id": 4086177, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/032eab83ad219f13bbc21714d55438f3?s=128&d=identicon&r=PG&f=1", "display_name": "Beri", "link": "https://stackoverflow.com/users/4086177/beri"}, "is_accepted": true, "score": 4, "last_activity_date": 1541619464, "last_edit_date": 1541619464, "creation_date": 1541616063, "answer_id": 53195775, "question_id": 53195700, "link": "https://stackoverflow.com/questions/53195700/multiple-conditions-within-an-if-statement-methods/53195775#53195775", "title": "Multiple conditions within an if statement? Methods", "body": "<p>You are correct. </p>\n\n<p>When you join conditions with <code>&amp;&amp;</code>, when any condition (starting from the left) will return <code>false</code>, conditions that are after him, will not be executed. So:</p>\n\n<pre><code>return method1() &amp;&amp; method2() &amp;&amp; method() &amp;&amp; method4();\n</code></pre>\n\n<p>if <code>method2</code> will return <code>false</code>, <code>method</code> and <code>method4</code> will not be executed.</p>\n\n<p><em>For your information only:</em></p>\n\n<p>If you want to call all 4 methods and in the end check if all conditions returned true, then you need to use <code>&amp;</code> operator.</p>\n\n<pre><code> return method1() &amp; method2() &amp; method() &amp; method4();\n</code></pre>\n\n<p>Now, even if <code>method2</code> returns <code>false</code>, <code>method</code> and <code>method4</code> will be still executed.</p>\n"}], "owner": {"reputation": 29, "user_id": 8038961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b02f3237a8a70eb97d370e3658fc827?s=128&d=identicon&r=PG&f=1", "display_name": "J.Cole", "link": "https://stackoverflow.com/users/8038961/j-cole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 53195775, "answer_count": 1, "score": -5, "last_activity_date": 1541619464, "creation_date": 1541615738, "last_edit_date": 1541616363, "question_id": 53195700, "link": "https://stackoverflow.com/questions/53195700/multiple-conditions-within-an-if-statement-methods", "title": "Multiple conditions within an if statement? Methods", "body": "<p>If I wanted to check multiple Boolean methods and whether or not they were all true. Would this work assuming all of the methods are booleans and return true/false. Thanks. </p>\n\n<pre><code>if (method1() &amp;&amp; method2() &amp;&amp; method() &amp;&amp; method4()) {\n  return true\n} else {\n  return false\n}\n</code></pre>\n"}, {"tags": ["java", "timezone"], "comments": [{"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 1, "creation_date": 1541623721, "post_id": 53195651, "comment_id": 93283672, "body": "FYI, the terribly troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}], "answers": [{"tags": [], "owner": {"reputation": 507, "user_id": 2654727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c319a24a493153df59e86b43ff78fde0?s=128&d=identicon&r=PG", "display_name": "Tom Drake", "link": "https://stackoverflow.com/users/2654727/tom-drake"}, "is_accepted": false, "score": 2, "last_activity_date": 1541621925, "last_edit_date": 1541621925, "creation_date": 1541620625, "answer_id": 53196885, "question_id": 53195651, "link": "https://stackoverflow.com/questions/53195651/how-to-fetch-correct-date-and-time-without-server-time-in-java-with-time-zone-as/53196885#53196885", "title": "How to fetch correct date and time without server time in java with time zone as input", "body": "<p>It's important to know that the use of the three letter time-zone abbreviations is deprecated in java 8. So, don't expect them to be supported forever. Here are two equivalent examples of using the java 8 time api to achieve this: </p>\n\n<pre><code>System.out.println(Instant.now().atZone(ZoneId.of(\"CST\",ZoneId.SHORT_IDS)));\nSystem.out.println(Instant.now().atZone(ZoneId.of(\"America/Chicago\")));\n</code></pre>\n\n<p>This question is possibly a duplicate of <a href=\"https://stackoverflow.com/questions/5175728/how-to-get-the-current-date-time-in-java?rq=1\">this</a></p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 8032726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63e220ebef3dc3bb4cc3b17b42c83720?s=128&d=identicon&r=PG&f=1", "display_name": "c.kan", "link": "https://stackoverflow.com/users/8032726/c-kan"}, "edited": false, "score": 0, "creation_date": 1541700158, "post_id": 53197481, "comment_id": 93314845, "body": "This is amazing. Thanks Basil. But, here is my use case, i changed change date and time settings on my local machine to OLDER date and lets assume i changed it to October 21st. WHen i print the result using ZonedDateTime I am seeing the output for the current date as 21st October ONLY. But not the real current date for CST zone. Is there any solution for that use case."}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "reply_to_user": {"reputation": 1, "user_id": 8032726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63e220ebef3dc3bb4cc3b17b42c83720?s=128&d=identicon&r=PG&f=1", "display_name": "c.kan", "link": "https://stackoverflow.com/users/8032726/c-kan"}, "edited": false, "score": 0, "creation_date": 1541705048, "post_id": 53197481, "comment_id": 93317101, "body": "@c.kan Are you saying the clock in the host OS was set improperly to a false date-time? If so, you have mess on your hands."}, {"owner": {"reputation": 1, "user_id": 8032726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63e220ebef3dc3bb4cc3b17b42c83720?s=128&d=identicon&r=PG&f=1", "display_name": "c.kan", "link": "https://stackoverflow.com/users/8032726/c-kan"}, "edited": false, "score": 0, "creation_date": 1541707113, "post_id": 53197481, "comment_id": 93318042, "body": "In Java is there any package that can help me with that use case? or any idea if there is an solution for such use cases.?"}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "reply_to_user": {"reputation": 1, "user_id": 8032726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63e220ebef3dc3bb4cc3b17b42c83720?s=128&d=identicon&r=PG&f=1", "display_name": "c.kan", "link": "https://stackoverflow.com/users/8032726/c-kan"}, "edited": false, "score": 0, "creation_date": 1541707482, "post_id": 53197481, "comment_id": 93318227, "body": "@c.kan You\u2019ve not explained your use-case clearly. Re-read my Answer. If your computer clock was set to true time, then you should <b>never care about the default time zone</b>. Always specify a time zone explicitly. For UTC, <code>Instant.now()</code>. For Chicago time, adjust from current moment in UTC: <code>Instant.now().atZone( ZoneId.of( &quot;America&#47;Chicago&quot; ) )</code> or the abbreviated <code>ZonedDateTime.now( ZoneId.of( &quot;America&#47;Chicago&quot; ) )</code>. With such code, the current default time zone is irrelevant. Tips: (a) Focus on UTC as the One True Time, and (b) don&#39;t overthink it."}], "tags": [], "owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "is_accepted": false, "score": 1, "last_activity_date": 1541624762, "last_edit_date": 1541624762, "creation_date": 1541623209, "answer_id": 53197481, "question_id": 53195651, "link": "https://stackoverflow.com/questions/53195651/how-to-fetch-correct-date-and-time-without-server-time-in-java-with-time-zone-as/53197481#53197481", "title": "How to fetch correct date and time without server time in java with time zone as input", "body": "<h1>tl;dr</h1>\n\n<blockquote>\n  <p>Is there a way i can fetch the real current date and time based on time zone.</p>\n</blockquote>\n\n<p>Yes. Use modern <em>java.time</em> rather than terrible legacy classes.</p>\n\n<pre><code>ZonedDateTime.now(                    // Represent a moment as seen through the wall-clock time used by the people of a particular region (a time zone). \n    ZoneId.of( \"America/Chicago\" )    // Specify time zone by proper `Continent/Region` name, *never* 2-4 letter pseudo-zones such as \u201cCST\u201d. \n)                                     // Returns a `ZonedDateTime` object.\n.toString()                           // Generate text in standard ISO 8601 format wisely extended to append the name of the time zone in square brackets. \n</code></pre>\n\n<blockquote>\n  <p>2018-11-07T14:38:24.723394-06:00[America/Chicago]</p>\n</blockquote>\n\n<h1>Details</h1>\n\n<blockquote>\n  <p>I have my app hosted in a London Server. I am in Minasota, USA.</p>\n</blockquote>\n\n<p>This should be irrelevant to your app.</p>\n\n<ul>\n<li>Server should default to UTC time zone (generally).</li>\n<li>Client should be asked to confirm their desired/expected time zone (when critical). </li>\n<li>Always specify explicitly your desired/expected time zone by passing optional argument rather than relying implicitly on the JVM\u2019s current default time which can change at any moment <em>during</em> runtime(!). </li>\n</ul>\n\n<blockquote>\n  <p>How can I obtain the current date / time with my time zone. </p>\n</blockquote>\n\n<p>Firstly, most of your business logic, storage, and exchange of date-time values should be done in UTC.</p>\n\n<pre><code>Instant instant = Instant.now() ;  // Current moment in UTC.\n</code></pre>\n\n<p>You can see that same moment through the lens of a wall-clock time used by the people of a particular region, a time zone.</p>\n\n<p>The <a href=\"https://time.is/Minnesota\" rel=\"nofollow noreferrer\">time zone for Minnesota</a> is <code>America/Chicago</code>. </p>\n\n<p>Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"nofollow noreferrer\">proper time zone name</a> in the format of <code>continent/region</code>, such as <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"nofollow noreferrer\"><code>America/Montreal</code></a>, <a href=\"https://en.wikipedia.org/wiki/Africa/Casablanca\" rel=\"nofollow noreferrer\"><code>Africa/Casablanca</code></a>, or <code>Pacific/Auckland</code>. Never use the 2-4 letter abbreviation such as <code>CST</code> or <code>EST</code> or <code>IST</code> as they are <em>not</em> true time zones, not standardized, and not even unique(!). </p>\n\n<pre><code>ZoneId z = ZoneId.of( \"America/Chicago\" ) ;\nZonedDateTime zdt = instant.atZone( z ) ;\n</code></pre>\n\n<p>As a shortcut, you can skip the <code>Instant</code>. </p>\n\n<pre><code>ZonedDateTime zdt = ZonedDateTime.now( z ) ;\n</code></pre>\n\n<blockquote>\n  <p>But i want the REAL current date and time</p>\n</blockquote>\n\n<p>\u27a5 Here is the <strong>core concept</strong> in mastering date-and-time work: The <code>Instant</code> (UTC) and the <code>ZonedDateTime</code> (some time zone) seen above <em>represent the very same moment</em>. Those two objects represent the same point on the timeline. They are both the \u201cREAL date and time\u201d. They use two different wall-clock times to show the same moment. </p>\n\n<p>If a person in Iceland were on the phone with someone in Minneapolis, and they both look up their respective clocks &amp; calendars on the wall to speak aloud the current date and time, which one of them is correct? Both are correct, two ways to express the same simultaneous moment.</p>\n\n<p>Indeed, you would do well to think of UTC as <em>The One True Time\u2122</em>, with all zoned times as mere variations. Focusing on your own parochial time zone, and then translating back-and-forth, will drive you batty. Focus on UTC, adjust into a time zone only when expected by the user or necessitated by business logic.</p>\n\n<p>This has all been covered many times already on Stack Overflow. So search for more info and examples. And learn to search Stack Overflow before posting.</p>\n\n<p>To generate strings, either call <code>toString</code> for text in standard ISO 8601 format, or use <code>DateTimeFormatter.ofLocalized\u2026</code> to automatically localize, or use <code>DateTimeFormatter.ofPattern</code> to specify a custom formatting pattern. This has been covered many many times on Stack Overflow, so search for more info.</p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n\n<ul>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP\u2026</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 8032726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63e220ebef3dc3bb4cc3b17b42c83720?s=128&d=identicon&r=PG&f=1", "display_name": "c.kan", "link": "https://stackoverflow.com/users/8032726/c-kan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541624762, "creation_date": 1541615545, "last_edit_date": 1541619350, "question_id": 53195651, "link": "https://stackoverflow.com/questions/53195651/how-to-fetch-correct-date-and-time-without-server-time-in-java-with-time-zone-as", "title": "How to fetch correct date and time without server time in java with time zone as input", "body": "<p>I have my app hosted in a London Server. I am in Minasota, USA. So the timezone is different hours.</p>\n\n<p>How can I obtain the current date / time with my time zone. The tricky part is i don't want to fetch current date and time based on server date and time. Is there a way i can fetch the real current date and time based on time zone.</p>\n\n<p>The below code returns information but if the server date is invalid then the response will be invalid date too. But i want the REAL current date and time. \n My input will be time zone. Any help is appreciated.</p>\n\n<pre><code>    Date date = new Date();\n    DateFormat df = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n\n // Use Minasota's time zone to format the date in\n    df.setTimeZone(TimeZone.getTimeZone(\"America/Minasota\"));\n    System.out.println(\"Date and time in Minasota: \" + df.format(date));\n</code></pre>\n"}, {"tags": ["java", "loops", "class"], "comments": [{"owner": {"reputation": 2131, "user_id": 2343935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/li569.png?s=128&g=1", "display_name": "grooveplex", "link": "https://stackoverflow.com/users/2343935/grooveplex"}, "edited": false, "score": 1, "creation_date": 1541615205, "post_id": 53195546, "comment_id": 93279730, "body": "Do you mean all <i>even</i> numbers?"}, {"owner": {"reputation": 1082, "user_id": 9091276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/05cFn.png?s=128&g=1", "display_name": "Frontear", "link": "https://stackoverflow.com/users/9091276/frontear"}, "edited": false, "score": 0, "creation_date": 1541615293, "post_id": 53195546, "comment_id": 93279771, "body": "Considering the modulus <code>%</code>, more than likely"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10619965"}, "edited": false, "score": 0, "creation_date": 1541615505, "post_id": 53195546, "comment_id": 93279869, "body": "I need to sum all whole numbers from 0 to 1000, and then result of that i need to subtract with odd numbers from 1 to 500. Sorry for my bad post and etc. im new here and just need quick answer. Sorry."}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1541618303, "post_id": 53195546, "comment_id": 93281107, "body": "This is called an arithmetic series. You can read more on Wikipedia here: <a href=\"https://en.wikipedia.org/wiki/Arithmetic_progression\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Arithmetic_progression</a>"}], "answers": [{"comments": [{"owner": {"reputation": 12572, "user_id": 8534008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2af9937cac66f08b6ee6e4219cc0d?s=128&d=identicon&r=PG&f=1", "display_name": "GBlodgett", "link": "https://stackoverflow.com/users/8534008/gblodgett"}, "edited": false, "score": 2, "creation_date": 1541615599, "post_id": 53195629, "comment_id": 93279904, "body": "<code>Console.WriteLine</code> should be <code>System.out.println</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10619965"}, "edited": false, "score": 0, "creation_date": 1541615798, "post_id": 53195629, "comment_id": 93279997, "body": "No matter, i got it. But can you help me excatly with: I need to sum all whole numbers from 0 to 1000, and then result of that i need to subtract with odd numbers from 1 to 500."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10619965"}, "edited": false, "score": 0, "creation_date": 1541624047, "post_id": 53195629, "comment_id": 93283841, "body": "Hey, code is good but i found on google that of sum 0 to 1000 is 250500 while i got 249500 .."}, {"owner": {"reputation": 1082, "user_id": 9091276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/05cFn.png?s=128&g=1", "display_name": "Frontear", "link": "https://stackoverflow.com/users/9091276/frontear"}, "edited": false, "score": 0, "creation_date": 1541624665, "post_id": 53195629, "comment_id": 93284127, "body": "@FootballHighlight-Goals-News can you guess why? Hint, it has to do with the <code>if condition check</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10619965"}, "edited": false, "score": 0, "creation_date": 1541631116, "post_id": 53195629, "comment_id": 93286746, "body": "Please, stop kidding im, im new in this area, help me if you can, thanks."}, {"owner": {"reputation": 1082, "user_id": 9091276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/05cFn.png?s=128&g=1", "display_name": "Frontear", "link": "https://stackoverflow.com/users/9091276/frontear"}, "edited": false, "score": 0, "creation_date": 1541631589, "post_id": 53195629, "comment_id": 93286901, "body": "That&#39;s why I want to help. The reason you are getting a lower value is because the <code>for loop</code> condition <code>i &lt; 1000</code> and <code>i &lt; 500</code> doesn&#39;t actually iterate the 500th loop. Therefore, the max <code>i</code> is equal to is either 999 or 499. To fix this, and get the values you&#39;d like, change the conditional from <code>i &lt; 1000</code> to <code>i &lt;= 1000</code>. Same for the 500 one"}], "tags": [], "owner": {"reputation": 1082, "user_id": 9091276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/05cFn.png?s=128&g=1", "display_name": "Frontear", "link": "https://stackoverflow.com/users/9091276/frontear"}, "is_accepted": false, "score": 1, "last_activity_date": 1541620799, "last_edit_date": 1541620799, "creation_date": 1541615426, "answer_id": 53195629, "question_id": 53195546, "link": "https://stackoverflow.com/questions/53195546/how-to-sum-all-whole-numbers-from-0-to-1000/53195629#53195629", "title": "How to sum all whole numbers from 0 to 1000", "body": "<p>For all numbers from 0 till 1000, <code>for loop</code></p>\n\n<pre><code>int sum = 0;\nfor (int i = 0; i &lt; 1000; i++) {\n    sum += i;\n}\nSystem.out.println(sum);\n</code></pre>\n\n<p>For all even numbers, use an <code>if</code> to see if they are even</p>\n\n<pre><code>if (i % 2 == 0) // remainder is 0, meaning even\n    sum += i;\n</code></pre>\n\n<p>Edit: To add even and subtract odd</p>\n\n<pre><code>int sumOfEven;\nfor (int i = 0; i &lt; 1000; i++) {\n    if (i % 2 == 0) {\n        sumOfEven += i;\n    }\n}\n\nint sumOfOdd;\nfor (int i = 0; i &lt; 500; i++) {\n    if (i % 2 != 0) {\n        sumOfOdd += i;\n    }\n}\nSystem.out.println(sumOfEven - sumOfOdd); // Math.absolute can also be done here for a non-negative value\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 981, "user_id": 3809630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/324a64e5ac30bf37df0530e0c3cbeb35?s=128&d=identicon&r=PG&f=1", "display_name": "EduSanCon", "link": "https://stackoverflow.com/users/3809630/edusancon"}, "is_accepted": false, "score": 0, "last_activity_date": 1541618514, "creation_date": 1541618514, "answer_id": 53196374, "question_id": 53195546, "link": "https://stackoverflow.com/questions/53195546/how-to-sum-all-whole-numbers-from-0-to-1000/53196374#53196374", "title": "How to sum all whole numbers from 0 to 1000", "body": "<p>Adding all numbers just to subtract later 250 of them is not efficient. Just filter the ones you don't want in the total sum</p>\n\n<pre><code>int sum = IntStream.rangeClosed(1, 1000)\n                   .filter(i -&gt; i &gt;= 500 || i % 2 == 0)\n                   .sum();\nSystem.out.println(sum);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10619965"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "answer_count": 2, "score": -7, "last_activity_date": 1541620799, "creation_date": 1541615047, "last_edit_date": 1541615467, "question_id": 53195546, "link": "https://stackoverflow.com/questions/53195546/how-to-sum-all-whole-numbers-from-0-to-1000", "title": "How to sum all whole numbers from 0 to 1000", "body": "<p><strong>How to sum all whole numbers to 1000</strong> </p>\n\n<pre><code>package proba;\n\npublic class Proba {\n\n    public static void main(String[] args) {\n        int a = 1;\n        int whole = 0;\n\n        int n = 1000;\n        int m = 500;\n        while (a &lt;= n) {\n            if (a % 2 == 0) {\n                whole += ;\n\n            }\n            a++;\n            System.out.println(\"Rezultat parnih je: \" + whole);\n        }\n    }\n\n}\n</code></pre>\n"}]