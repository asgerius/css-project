[{"tags": ["java"], "comments": [{"owner": {"reputation": 4400, "user_id": 681444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf4662e1bc928723d74099d0b51df24?s=128&d=identicon&r=PG&f=1", "display_name": "racraman", "link": "https://stackoverflow.com/users/681444/racraman"}, "edited": false, "score": 0, "creation_date": 1561593024, "post_id": 56782239, "comment_id": 100119312, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2615749/java-method-to-get-position-of-a-match-in-a-string\">Java: method to get position of a match in a String?</a>"}, {"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1561593116, "post_id": 56782239, "comment_id": 100119328, "body": "If the phrase be coincident with the entire string, then you may use <code>if (phrase.contains(&quot;apple&quot;))</code>"}, {"owner": {"reputation": 549, "user_id": 8366188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QobTT.jpg?s=128&g=1", "display_name": "Keara", "link": "https://stackoverflow.com/users/8366188/keara"}, "edited": false, "score": 0, "creation_date": 1561593438, "post_id": 56782239, "comment_id": 100119390, "body": "I would do this by splitting the string into words, then looping through each <b>word</b> to check whether it contains &quot;apple&quot;, instead of the whole phrase. As soon as a word contains apple, you can print the word and exit your loop. Try googling how to split a string by whitespace if you aren&#39;t sure how to split a string into words."}, {"owner": {"reputation": 63, "user_id": 11558593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aq5pV.jpg?s=128&g=1", "display_name": "JackieTowns", "link": "https://stackoverflow.com/users/11558593/jackietowns"}, "reply_to_user": {"reputation": 628808, "user_id": 139985, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=128&d=identicon&r=PG", "display_name": "Stephen C", "link": "https://stackoverflow.com/users/139985/stephen-c"}, "edited": false, "score": 0, "creation_date": 1561596282, "post_id": 56782239, "comment_id": 100119841, "body": "@StephenC  I think I meant a string. And then to find out the rest of the phrase after the chose word. In which case I should have put a space between apple and tree, so it&#39;s two words. &quot;She&#39;s sitting under an apple tree!&quot; So how would I capture from apple all the way to ! ?"}], "answers": [{"tags": [], "owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "is_accepted": false, "score": 2, "last_activity_date": 1561593776, "last_edit_date": 1561593776, "creation_date": 1561593389, "answer_id": 56782295, "question_id": 56782239, "link": "https://stackoverflow.com/questions/56782239/is-there-a-way-to-find-a-word-by-searching-for-only-part-of-it/56782295#56782295", "title": "Is there a way to find a word by searching for only part of it?", "body": "<p>Use regex for a 1-liner:</p>\n\n<pre><code>String target = phrase.replaceAll(\".*?(\\\\w*apple\\\\w*).*\", \"$1\");\n</code></pre>\n\n<p>This works by matching (and thus replacing) the entire input, but capturing the target then using a backreference (<code>$1</code>) to the captured input resulting in just the target being returned.</p>\n\n<p>The word in which <code>apple</code> appears is matched using <code>\\\\w*</code> (ie any number of word chars) at either end of <code>apple</code>. The minimum number of leading chars are matched outside the target by using a <em>reluctant</em> quantifier <code>.*?</code>, otherwise that expression would match all the way to <code>apple</code>, which would miss words like <code>dapple</code>.</p>\n\n<hr>\n\n<p>Test code:</p>\n\n<pre><code>String phrase = \"She's sitting under an appletree!\";\nString target = phrase.replaceAll(\".*?(\\\\w*apple\\\\w*).*\", \"$1\");\nSystem.out.println(target);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>appletree\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34, "user_id": 11303504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PbOLw.gif?s=128&g=1", "display_name": "007Robin", "link": "https://stackoverflow.com/users/11303504/007robin"}, "is_accepted": false, "score": 0, "last_activity_date": 1561593412, "creation_date": 1561593412, "answer_id": 56782297, "question_id": 56782239, "link": "https://stackoverflow.com/questions/56782239/is-there-a-way-to-find-a-word-by-searching-for-only-part-of-it/56782297#56782297", "title": "Is there a way to find a word by searching for only part of it?", "body": "<p>You could import a scanner to read the phrase. You would use the scanner.next() to capture each token of input into a String variable \"s\", in this case each word, and then use the if statement if(s.contains(\"apple\")) then System.out.println(s).</p>\n\n<p>Hope this helps!</p>\n\n<ul>\n<li>Robin.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 41460, "user_id": 2310289, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PO7Uz.jpg?s=128&g=1", "display_name": "Scary Wombat", "link": "https://stackoverflow.com/users/2310289/scary-wombat"}, "is_accepted": false, "score": 0, "last_activity_date": 1561599321, "creation_date": 1561599321, "answer_id": 56782814, "question_id": 56782239, "link": "https://stackoverflow.com/questions/56782239/is-there-a-way-to-find-a-word-by-searching-for-only-part-of-it/56782814#56782814", "title": "Is there a way to find a word by searching for only part of it?", "body": "<p>without using regex you could simply split the sentence into words, loop through and check if it contains the requested word - old school style</p>\n\n<pre><code>String [] arr = phrase.split (\"\\\\s+\");\nfor (String word : arr) {\n    if (word.contains(\"apple\")) return word;\n}\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 11558593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aq5pV.jpg?s=128&g=1", "display_name": "JackieTowns", "link": "https://stackoverflow.com/users/11558593/jackietowns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1561599783, "creation_date": 1561592890, "last_edit_date": 1561599783, "question_id": 56782239, "link": "https://stackoverflow.com/questions/56782239/is-there-a-way-to-find-a-word-by-searching-for-only-part-of-it", "title": "Is there a way to find a word by searching for only part of it?", "body": "<p>I need to take a phrase that contains a specific word, then if it does have that word even if it's part of another word, to print the entire word out. </p>\n\n<p>I think how to find the word <code>\"apple\"</code>, but I can't figure how to find the word <code>\"appletree\"</code>. </p>\n\n<p>So far, I have some code that finds the word apple and prints that out.</p>\n\n<pre><code>String phrase = \"She's sitting under an appletree!\"; \n\nif (phrase.contains(\"apple\")) {\n    System.out.println(\"apple\");\n} else { \n    System.out.println(\"none\"); \n}\n</code></pre>\n\n<p>How do I print <code>\"appletree\"</code>?</p>\n"}, {"tags": ["java", "javafx", "text", "restriction"], "comments": [{"owner": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "edited": false, "score": 0, "creation_date": 1561607157, "post_id": 56782182, "comment_id": 100121605, "body": "And what problem did you encounter while trying to do it?"}], "answers": [{"tags": [], "owner": {"reputation": 34, "user_id": 11303504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PbOLw.gif?s=128&g=1", "display_name": "007Robin", "link": "https://stackoverflow.com/users/11303504/007robin"}, "is_accepted": false, "score": 0, "last_activity_date": 1561618794, "last_edit_date": 1561618794, "creation_date": 1561593656, "answer_id": 56782328, "question_id": 56782182, "link": "https://stackoverflow.com/questions/56782182/how-to-create-textareas-in-javafx/56782328#56782328", "title": "How to create textAreas in javaFX", "body": "<p>If you're basically looking to create a <code>TextField</code> try following:</p>\n\n<pre><code>Label label1 = new Label(\"Name:\");\n\nTextField textField = new TextField ();\n\nHBox hb = new HBox();\n\nhb.getChildren().addAll(label1, textField);\n\nhb.setSpacing(10);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 10947782, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dAcOV6k6mYw/AAAAAAAAAAI/AAAAAAAAApg/zRWdKkdWqDw/photo.jpg?sz=128", "display_name": "Kellen Miller", "link": "https://stackoverflow.com/users/10947782/kellen-miller"}, "is_accepted": true, "score": 0, "last_activity_date": 1561604113, "creation_date": 1561604113, "answer_id": 56783263, "question_id": 56782182, "link": "https://stackoverflow.com/questions/56782182/how-to-create-textareas-in-javafx/56783263#56783263", "title": "How to create textAreas in javaFX", "body": "<p>So I did some more digging, and it turns out, the thing I'm looking for is called a \"Text Area\" </p>\n\n<pre><code>package com.jenkov.javafx.controls;\n\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\n\npublic class TextAreaExperiments extends Application  {\n\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        primaryStage.setTitle(\"TextArea Experiment 1\");\n\n        TextArea textArea = new TextArea();\n\n        VBox vbox = new VBox(textArea);\n\n        Scene scene = new Scene(vbox, 200, 100);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n\n    }\n\n    public static void main(String[] args) {\n        Application.launch(args);\n    }\n}\n</code></pre>\n\n<p>source received from: <a href=\"http://tutorials.jenkov.com/javafx/textarea.html\" rel=\"nofollow noreferrer\">http://tutorials.jenkov.com/javafx/textarea.html</a></p>\n"}], "owner": {"reputation": 53, "user_id": 10947782, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dAcOV6k6mYw/AAAAAAAAAAI/AAAAAAAAApg/zRWdKkdWqDw/photo.jpg?sz=128", "display_name": "Kellen Miller", "link": "https://stackoverflow.com/users/10947782/kellen-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 56783263, "answer_count": 2, "score": -2, "last_activity_date": 1561935559, "creation_date": 1561592224, "last_edit_date": 1561935559, "question_id": 56782182, "link": "https://stackoverflow.com/questions/56782182/how-to-create-textareas-in-javafx", "title": "How to create textAreas in javaFX", "body": "<p>I'm working on a text box that will give information about a subject in it, but I want 1 long string to have all of the information stored in it. I would like for this string to be returned to the \"next line\" in that box, I'm essentially trying to create a text box in JavaFX</p>\n"}, {"tags": ["java", "jax-rs", "multi-tenant", "keycloak", "quarkus"], "answers": [{"comments": [{"owner": {"reputation": 8952, "user_id": 331747, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/08d311db9b4893455102265ceed010b2?s=128&d=identicon&r=PG", "display_name": "Shadowman", "link": "https://stackoverflow.com/users/331747/shadowman"}, "edited": false, "score": 0, "creation_date": 1561672746, "post_id": 56782679, "comment_id": 100152454, "body": "Just updated with the results of my test and the stack trace I see.  Long story short, it didn&#39;t work."}], "tags": [], "owner": {"reputation": 5046, "user_id": 4896651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b3591bbcef7bf1e8fb4ecab817e2920?s=128&d=identicon&r=PG&f=1", "display_name": "Shadov", "link": "https://stackoverflow.com/users/4896651/shadov"}, "is_accepted": false, "score": 2, "last_activity_date": 1561597766, "creation_date": 1561597766, "answer_id": 56782679, "question_id": 56782154, "link": "https://stackoverflow.com/questions/56782154/multi-tenant-quarkus-with-keycloak/56782679#56782679", "title": "Multi-tenant Quarkus with KeyCloak?", "body": "<p>It's possible in Spring-Boot, almost the same way like in example you posted. Only starting with version <code>4.6.0-Final</code> tho, they added class <code>KeycloakSpringBootConfigResolverWrapper</code> that actually checks if there is any <code>KeycloakConfigResolver</code> already. In the previous version it was just putting it's own resolver. Now all you have to do is register a custom <code>KeycloakConfigResolver</code> bean and it works.</p>\n\n<p>I see there is very similiar class in Quarkus as in keycloak-spring-boot-adapters - <a href=\"https://github.com/quarkusio/quarkus/blob/master/extensions/keycloak/runtime/src/main/java/io/quarkus/keycloak/QuarkusKeycloakConfigResolver.java\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/blob/master/extensions/keycloak/runtime/src/main/java/io/quarkus/keycloak/QuarkusKeycloakConfigResolver.java</a>. Code is pretty obvious, no need to explain it.</p>\n\n<p>Since I'm not familiar with Quarkus, I can't be 100% sure it's gonna work, but the field is annotated with <code>Inject</code>, so it suggests that you can just provide your own resolver, the same way as possible in Spring-Boot and in the example you posted.</p>\n"}, {"comments": [{"owner": {"reputation": 8952, "user_id": 331747, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/08d311db9b4893455102265ceed010b2?s=128&d=identicon&r=PG", "display_name": "Shadowman", "link": "https://stackoverflow.com/users/331747/shadowman"}, "edited": false, "score": 0, "creation_date": 1561640503, "post_id": 56791601, "comment_id": 100137585, "body": "Thanks, Pedro!  I\u2019ll give it a shot later today."}, {"owner": {"reputation": 8952, "user_id": 331747, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/08d311db9b4893455102265ceed010b2?s=128&d=identicon&r=PG", "display_name": "Shadowman", "link": "https://stackoverflow.com/users/331747/shadowman"}, "edited": false, "score": 0, "creation_date": 1561672741, "post_id": 56791601, "comment_id": 100152452, "body": "Just updated with the results of my test and the stack trace I see.  Long story short, it didn&#39;t work."}, {"owner": {"reputation": 8952, "user_id": 331747, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/08d311db9b4893455102265ceed010b2?s=128&d=identicon&r=PG", "display_name": "Shadowman", "link": "https://stackoverflow.com/users/331747/shadowman"}, "edited": false, "score": 0, "creation_date": 1561729917, "post_id": 56791601, "comment_id": 100170457, "body": "Just did a bit more testing.  It looks like my custom KeycloakConfigResolver is not being located by io.quarkus.keycloak.QuarkusKeycloakConfigResolver for whatever reason.  If I create a keycloak.json file and put it in src/main/resources the project builds with no problem, but my KeycloakConfigResolver is still not found or called."}, {"owner": {"reputation": 8952, "user_id": 331747, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/08d311db9b4893455102265ceed010b2?s=128&d=identicon&r=PG", "display_name": "Shadowman", "link": "https://stackoverflow.com/users/331747/shadowman"}, "edited": false, "score": 0, "creation_date": 1561985341, "post_id": 56791601, "comment_id": 100224283, "body": "A couple of clean/re-builds later and it&#39;s working.  Not sure what took it so long to pick up the change.  Thanks for your help!"}, {"owner": {"reputation": 519, "user_id": 8650119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/200e1a7116aa0b5ae0876748a39037a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dorian Maliszewski", "link": "https://stackoverflow.com/users/8650119/dorian-maliszewski"}, "edited": false, "score": 0, "creation_date": 1580819483, "post_id": 56791601, "comment_id": 106216200, "body": "The link is broken :&#39;("}], "tags": [], "owner": {"reputation": 126, "user_id": 3830416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49bd435dafda1605d57bfbe9ebee6fc?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Igor", "link": "https://stackoverflow.com/users/3830416/pedro-igor"}, "is_accepted": true, "score": 2, "last_activity_date": 1561641947, "last_edit_date": 1561641947, "creation_date": 1561640394, "answer_id": 56791601, "question_id": 56782154, "link": "https://stackoverflow.com/questions/56782154/multi-tenant-quarkus-with-keycloak/56791601#56791601", "title": "Multi-tenant Quarkus with KeyCloak?", "body": "<p>@Shadov, is right. You need a <code>KeycloakConfigResolver</code>.</p>\n\n<p>With Quarkus, you just need to create a class that implements <code>KeycloakConfigResolver</code>. Similar to <a href=\"https://github.com/quarkusio/quarkus/blob/master/integration-tests/keycloak/src/main/java/io/quarkus/it/keycloak/TestConfigResolver.java\" rel=\"nofollow noreferrer\">this</a>.</p>\n\n<p>I'll update the guide with some reference about this.</p>\n"}], "owner": {"reputation": 8952, "user_id": 331747, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/08d311db9b4893455102265ceed010b2?s=128&d=identicon&r=PG", "display_name": "Shadowman", "link": "https://stackoverflow.com/users/331747/shadowman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1048, "favorite_count": 1, "accepted_answer_id": 56791601, "answer_count": 2, "score": 0, "last_activity_date": 1584971419, "creation_date": 1561592048, "last_edit_date": 1561672720, "question_id": 56782154, "link": "https://stackoverflow.com/questions/56782154/multi-tenant-quarkus-with-keycloak", "title": "Multi-tenant Quarkus with KeyCloak?", "body": "<p>I am writing a suite of services using the <a href=\"https://quarkus.io\" rel=\"nofollow noreferrer\">Quarkus</a> framework.  The services are designed to be multitenant, and are supposed to be protected using KeyCloak.  Each tenant will have a separate KeyCloak security realm, with its own set of users, groups, roles, etc.  </p>\n\n<p>I\u2019ve found the <a href=\"https://quarkus.io/guides/keycloak-guide\" rel=\"nofollow noreferrer\">Quarkus guide to KeyCloak protection</a>, explaining how to configure JAX-RS for authorization using KeyCloak.  However, this guide assumes only 1 KeyCloak realm.  I also found <a href=\"https://github.com/keycloak/keycloak/tree/master/examples/multi-tenant\" rel=\"nofollow noreferrer\">this example</a> showing how to deploy a WAR file to Wildfly that loads one of multiple KeyCloak realm configuration files depending on the specified realm.  </p>\n\n<p>However, it\u2019s not clear if this code can translate over to Quarkus.<br>\nIs it possible to dynamically load the KeyCloak configuration in Quarkus this way?  Is there a better way to implement multi-tenant security for these Quarkus services?</p>\n\n<p><strong>UPDATE:</strong>  Based on Pedro and Shadov's suggestions below, I added a really simple <code>KeycloakConfigResolver</code> implementation and marked it as <code>@ApplicationScoped</code>.  However, when I attempted to launch Quarkus, I get the following exception and never see my custom <code>KeycloakConfigResolver</code> being called:</p>\n\n<pre><code>17:53:55,340 INFO  [io.qua.dep.QuarkusAugmentor] Beginning quarkus augmentation\n17:53:55,758 INFO  [org.jbo.threads] JBoss Threads version 3.0.0.Beta4\n17:53:56,888 INFO  [org.hib.Version] HHH000412: Hibernate Core {5.4.3.Final}\n17:53:57,812 INFO  [io.qua.dep.QuarkusAugmentor] Quarkus augmentation completed in 2472ms\n17:53:57,967 ERROR [io.qua.dev.DevModeMain] Failed to start quarkus: java.lang.ExceptionInInitializerError\n    at java.base/java.lang.J9VMInternals.ensureError(J9VMInternals.java:193)\n    at java.base/java.lang.J9VMInternals.recordInitializationFailure(J9VMInternals.java:182)\n    at java.base/java.lang.J9VMInternals.newInstanceImpl(Native Method)\n    at java.base/java.lang.Class.newInstance(Class.java:2082)\n    at io.quarkus.runner.RuntimeRunner.run(RuntimeRunner.java:117)\n    at io.quarkus.dev.DevModeMain.doStart(DevModeMain.java:166)\n    at io.quarkus.dev.DevModeMain.main(DevModeMain.java:88)\nCaused by: java.lang.RuntimeException: Failed to start quarkus\n    at io.quarkus.runner.ApplicationImpl1.&lt;clinit&gt;(ApplicationImpl1.zig:333)\n    ... 5 more\nCaused by: java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input\n at [Source: UNKNOWN; line: 1, column: 0]\n    at org.keycloak.adapters.KeycloakDeploymentBuilder.loadAdapterConfig(KeycloakDeploymentBuilder.java:198)\n    at org.keycloak.adapters.KeycloakDeploymentBuilder.build(KeycloakDeploymentBuilder.java:187)\n    at io.quarkus.keycloak.KeycloakTemplate.createKeycloakDeploymentContext(KeycloakTemplate.java:36)\n    at io.quarkus.deployment.steps.KeycloakAdapterProcessor$configureAdapter5.deploy_0(KeycloakAdapterProcessor$configureAdapter5.zig:47)\n    at io.quarkus.deployment.steps.KeycloakAdapterProcessor$configureAdapter5.deploy(KeycloakAdapterProcessor$configureAdapter5.zig:106)\n    at io.quarkus.runner.ApplicationImpl1.&lt;clinit&gt;(ApplicationImpl1.zig:207)\n    ... 5 more\nCaused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input\n at [Source: UNKNOWN; line: 1, column: 0]\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\n    at com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:4145)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4000)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3070)\n    at org.keycloak.adapters.KeycloakDeploymentBuilder.loadAdapterConfig(KeycloakDeploymentBuilder.java:196)\n    ... 10 more\n\n17:53:57,968 ERROR [io.qua.dev.DevModeMain] Failed to start Quarkus, attempting to start hot replacement endpoint to recover\n17:53:58,003 INFO  [org.xnio] XNIO version 3.7.2.Final\n17:53:58,017 INFO  [org.xni.nio] XNIO NIO Implementation Version 3.7.2.Final\n</code></pre>\n\n<p>My custom <code>KeycloakConfigResolver</code> is empty, save for some logging statements.  I never see my <code>resolve</code> method being called or any of the logging statements.  Here's what the implementation looks like:</p>\n\n<pre><code>@ApplicationScoped\npublic class MultiTenantKeycloakConfigResolver implements KeycloakConfigResolver {\n\n    /**\n     * Logger for this class\n     */\n    private static final Logger logger = LoggerFactory.getLogger(MultiTenantKeycloakConfigResolver.class);\n\n    /*\n     * (non-Javadoc)\n     *\n     * @see\n     * org.keycloak.adapters.KeycloakConfigResolver#resolve(org.keycloak.adapters.\n     * spi.HttpFacade.Request)\n     */\n    @Override\n    public KeycloakDeployment resolve(Request facade) {\n        if (logger.isDebugEnabled()) {\n            logger.debug(\"resolve(Request) - start\"); //$NON-NLS-1$\n        }\n\n        if (logger.isInfoEnabled()) {\n            logger.info(\"resolve(Request) - HERE!!!\"); //$NON-NLS-1$\n        }\n\n        // TODO Implement method\n\n        if (logger.isDebugEnabled()) {\n            logger.debug(\"resolve(Request) - end\"); //$NON-NLS-1$\n        }\n        return null;\n    }\n\n}\n</code></pre>\n"}, {"tags": ["java", "hive", "hiveql", "user-defined-functions", "unix-timestamp"], "comments": [{"owner": {"reputation": 2167, "user_id": 10504469, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MomS5.jpg?s=128&g=1", "display_name": "Jin Lee", "link": "https://stackoverflow.com/users/10504469/jin-lee"}, "edited": false, "score": 1, "creation_date": 1561592901, "post_id": 56782074, "comment_id": 100119295, "body": "Maybe sharing some of your code can actually help you in this case."}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1561632308, "post_id": 56782074, "comment_id": 100132799, "body": "With <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> I don\u2019t think it should be too hard. In any case it\u2019s the class you want to use."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 10241074, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oomkdaZqvt8/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP2WxsNDj50SBOjY0oQMyZpqlmDAQ/mo/photo.jpg?sz=128", "display_name": "user10241074", "link": "https://stackoverflow.com/users/10241074/user10241074"}, "edited": false, "score": 0, "creation_date": 1561656661, "post_id": 56783858, "comment_id": 100146610, "body": "this worked perfectly, I still need to configure it for my problem but it does what is needed. thank you very much for your help."}], "tags": [], "owner": {"reputation": 27649, "user_id": 2700344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/956cY.jpg?s=128&g=1", "display_name": "leftjoin", "link": "https://stackoverflow.com/users/2700344/leftjoin"}, "is_accepted": true, "score": 0, "last_activity_date": 1561609411, "creation_date": 1561609411, "answer_id": 56783858, "question_id": 56782074, "link": "https://stackoverflow.com/questions/56782074/hive-udf-with-date-incrementing/56783858#56783858", "title": "Hive UDF with date incrementing", "body": "<p>You can do it using pure Hive query:</p>\n\n<pre><code>set hivevar:start_date=2019-01-02; \nset hivevar:end_date=2019-01-31;  \n\nwith date_range as \n(--this query generates date range\nselect date_add ('${hivevar:start_date}',s.i) as dt, s.i days\n  from ( select posexplode(split(space(datediff('${hivevar:end_date}','${hivevar:start_date}')),' ')) as (i,x) ) s\n)\n\nselect dt, days from date_range; \n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>dt  days    \n2019-01-02  0   \n2019-01-03  1   \n2019-01-04  2   \n2019-01-05  3   \n2019-01-06  4   \n2019-01-07  5   \n2019-01-08  6   \n2019-01-09  7   \n2019-01-10  8   \n2019-01-11  9   \n2019-01-12  10  \n2019-01-13  11  \n2019-01-14  12  \n2019-01-15  13  \n2019-01-16  14  \n2019-01-17  15  \n2019-01-18  16  \n2019-01-19  17  \n2019-01-20  18  \n2019-01-21  19  \n2019-01-22  20  \n2019-01-23  21  \n2019-01-24  22  \n2019-01-25  23  \n2019-01-26  24  \n2019-01-27  25  \n2019-01-28  26  \n2019-01-29  27  \n2019-01-30  28  \n2019-01-31  29  \n</code></pre>\n\n<p>Hope you got the idea.</p>\n"}], "owner": {"reputation": 25, "user_id": 10241074, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oomkdaZqvt8/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP2WxsNDj50SBOjY0oQMyZpqlmDAQ/mo/photo.jpg?sz=128", "display_name": "user10241074", "link": "https://stackoverflow.com/users/10241074/user10241074"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 56783858, "answer_count": 1, "score": 1, "last_activity_date": 1561609411, "creation_date": 1561591288, "question_id": 56782074, "link": "https://stackoverflow.com/questions/56782074/hive-udf-with-date-incrementing", "title": "Hive UDF with date incrementing", "body": "<p>I am attempting to write a user defined function that will allow you to input a date(current_date) and a range and the query will return the following dates along with how many dates have passed. As example if given current_date, query will return current_date - 0 day, next_day - 1 day. \nI have been trying different date types(unixtimestamp, date, jodatime, localdatetime). I scrapped my previous code and am really just hoping for some insight on the problem and less code.</p>\n"}, {"tags": ["java", "xml", "parsing", "jaxb", "sax"], "answers": [{"comments": [{"owner": {"reputation": 456, "user_id": 6656759, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LkvzdzLjVNg/AAAAAAAAAAI/AAAAAAAAANY/gF20Rv1XN1I/photo.jpg?sz=128", "display_name": "Lionel Cichero", "link": "https://stackoverflow.com/users/6656759/lionel-cichero"}, "edited": false, "score": 0, "creation_date": 1562278483, "post_id": 56786968, "comment_id": 100335543, "body": "Thanks for your answer, I ended up using XPath with a totally different approach. Still, your response answers my question so here is your tick!"}], "tags": [], "owner": {"reputation": 2677, "user_id": 3887530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/965bcdceaf370f729c8fd07fa3d704a0?s=128&d=identicon&r=PG&f=1", "display_name": "martidis", "link": "https://stackoverflow.com/users/3887530/martidis"}, "is_accepted": true, "score": 2, "last_activity_date": 1561624096, "creation_date": 1561624096, "answer_id": 56786968, "question_id": 56781885, "link": "https://stackoverflow.com/questions/56781885/reuse-jaxb-classes-for-similar-xml-schemas/56786968#56786968", "title": "Reuse JAXB classes for similar xml schemas", "body": "<p>You are on the right path. There are two points where you can improve. </p>\n\n<ol>\n<li>The media structure has tags, trajectory and count which are almost the same and use different names. We can handle that:</li>\n</ol>\n\n<p>First as you have the CommonObjectsOfMedia</p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\npublic class CommonObjectsOfMedia {\n\n    @XmlAttribute\n    private String id;\n    @XmlAttribute\n    private String value;\n    @XmlAttribute\n    private String at;\n\n}\n</code></pre>\n\n<p>Then tag inside media has an extra attribute from the common. That would look like:</p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\npublic class MediaTag extends CommonObjectsOfMedia {\n\n    @XmlAttribute\n    private boolean visible;\n}\n</code></pre>\n\n<p>Similar for count:</p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\npublic class MediaCount extends  CommonObjectsOfMedia {\n\n    @XmlAttribute\n    private String duration;\n}\n</code></pre>\n\n<p>and trajectory only has the common.</p>\n\n<p>Now lets create the Media class that will be able to handle any case of them. The magic is from <code>@XmlElements</code>.</p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\npublic class Media {\n\n    @XmlAttribute\n    private String id;\n    @XmlAttribute\n    private String start;\n    @XmlAttribute\n    private String finish;\n    @XmlAttribute\n    private String timeZone;\n\n    @XmlElements ({\n        @XmlElement(name=\"tag\", type = MediaTag.class),\n        @XmlElement(name=\"trajectory\", type = CommonObjectsOfMedia.class),\n        @XmlElement(name=\"count\", type = MediaCount.class),\n    })\n    private List&lt;CommonObjectsOfMedia&gt; commonObjectsOfMedia;\n}\n</code></pre>\n\n<p>I will create a demo class that will show the unmarshalling of all the cases at the same time. The xml would look like this:</p>\n\n<pre><code>&lt;someroot at=\"2019-06-27 09:54:31\"&gt;\n    &lt;media id=\"1\" start=\"1\" finish=\"1000\" timeZone=\"NZST\"&gt;\n        &lt;tag id=\"1\" value=\"1\" at=\"2019-06-27 09:54:31\" visible=\"true\" /&gt;\n        &lt;tag id=\"2\" value=\"2\" at=\"2019-06-27 09:54:31\" visible=\"true\" /&gt;\n        &lt;tag id=\"3\" value=\"3\" at=\"2019-06-27 09:54:31\" visible=\"true\" /&gt;\n    &lt;/media&gt;\n    &lt;media id=\"1\" start=\"1\" finish=\"1000\" timeZone=\"NZST\"&gt;\n        &lt;trajectory id=\"1\" value=\"1\" at=\"2019-06-27 09:54:31\" /&gt;\n        &lt;trajectory id=\"2\" value=\"2\" at=\"2019-06-27 09:54:31\" /&gt;\n        &lt;trajectory id=\"3\" value=\"3\" at=\"2019-06-27 09:54:31\" /&gt;\n    &lt;/media&gt;\n    &lt;media id=\"1\" start=\"1\" finish=\"1000\" timeZone=\"NZST\"&gt;\n        &lt;count id=\"1\" value=\"1\" at=\"2019-06-27 09:54:31\" duration=\"5\"/&gt;\n        &lt;count id=\"2\" value=\"2\" at=\"2019-06-27 09:54:31\" duration=\"5\"/&gt;\n        &lt;count id=\"3\" value=\"3\" at=\"2019-06-27 09:54:31\" duration=\"5\"/&gt;\n    &lt;/media&gt;\n&lt;/someroot&gt;\n</code></pre>\n\n<p>and the root class like this:</p>\n\n<pre><code>@XmlRootElement\npublic class Someroot {\n\n    @XmlElement\n    private List&lt;Media&gt; media;\n}\n</code></pre>\n\n<p>This will unmarshall properly. And we go to item 2.</p>\n\n<p>The roots have different name but same structure inside. Maybe you want to fix this too. This can be done as shown in this reply: <a href=\"https://stackoverflow.com/questions/12915968/can-jaxb-handle-multiple-root-elements\">Can JAXB handle multiple &quot;root&quot; elements?</a></p>\n"}], "owner": {"reputation": 456, "user_id": 6656759, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LkvzdzLjVNg/AAAAAAAAAAI/AAAAAAAAANY/gF20Rv1XN1I/photo.jpg?sz=128", "display_name": "Lionel Cichero", "link": "https://stackoverflow.com/users/6656759/lionel-cichero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 56786968, "answer_count": 1, "score": 0, "last_activity_date": 1561624096, "creation_date": 1561589707, "question_id": 56781885, "link": "https://stackoverflow.com/questions/56781885/reuse-jaxb-classes-for-similar-xml-schemas", "title": "Reuse JAXB classes for similar xml schemas", "body": "<p>I have the following XMLs, for each of the XML I have the corresponding Java classes modeled with JAXB.</p>\n\n<p>XML 1:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;counts at=\"2019-06-27 09:54:31\"&gt;\n    &lt;media id=\"1\" start=\"1\" finish=\"1000\" timeZone=\"NZST\"&gt;\n        &lt;count id=\"1\" value=\"1\" at=\"2019-06-27 09:54:31\" duration=\"5\"/&gt;\n        &lt;count id=\"2\" value=\"2\" at=\"2019-06-27 09:54:31\" duration=\"5\"/&gt;\n        &lt;count id=\"3\" value=\"3\" at=\"2019-06-27 09:54:31\" duration=\"5\"/&gt;\n    &lt;/media&gt;\n&lt;/counts&gt;\n</code></pre>\n\n<p>XML 2:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;tags at=\"2019-06-27 09:54:31\"&gt;\n    &lt;media id=\"1\" start=\"1\" finish=\"1000\" timeZone=\"NZST\"&gt;\n        &lt;tag id=\"1\" value=\"1\" at=\"2019-06-27 09:54:31\" visible=\"true\" /&gt;\n        &lt;tag id=\"2\" value=\"2\" at=\"2019-06-27 09:54:31\" visible=\"true\" /&gt;\n        &lt;tag id=\"3\" value=\"3\" at=\"2019-06-27 09:54:31\" visible=\"true\" /&gt;\n    &lt;/media&gt;\n&lt;/tags&gt;\n</code></pre>\n\n<p>XML 3:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;trajectories at=\"2019-06-27 09:54:31\"&gt;\n    &lt;media id=\"1\" start=\"1\" finish=\"1000\" timeZone=\"NZST\"&gt;\n        &lt;trajectory id=\"1\" value=\"1\" at=\"2019-06-27 09:54:31\" /&gt;\n        &lt;trajectory id=\"2\" value=\"2\" at=\"2019-06-27 09:54:31\" /&gt;\n        &lt;trajectory id=\"3\" value=\"3\" at=\"2019-06-27 09:54:31\" /&gt;\n    &lt;/media&gt;\n&lt;/trajectories&gt;\n</code></pre>\n\n<p>Since most of the elements in all the XMLs are more or less the same except for <code>&lt;count&gt;, &lt;tag&gt; and &lt;trajectory&gt;</code>.\nIs there a way to abstract the classes for <code>&lt;counts&gt;, &lt;tags&gt;, &lt;trajectories&gt; and &lt;media&gt;</code>?</p>\n\n<p>Ideally, I would like something like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class CountsTagsTrajectories&lt;T extends CommonObjectsOfMedia&gt; {\n    private Media&lt;T&gt; media;\n}\n\n\nclass Media&lt;T&gt; {\n    private List&lt;T&gt; listOfObjects;\n}\n\nclass Count extends CommonObjectsOfMedia {\n    ...\n    ...\n    ...\n}\n\nclass Tag extends CommonObjectsOfMedia {\n    ...\n    ...\n    ...\n}\n\nclass Trajectory extends CommonObjectsOfMedia {\n    ...\n    ...\n    ...\n}\n</code></pre>\n\n<p>Is this approach possible? Or I would have to have classes like:</p>\n\n<pre><code>Counts &gt; CountMedia &gt; Count\nTags &gt; TagMedia &gt; Tag\nTrajectories &gt; TrajectoryMedia &gt; Trajectory\n</code></pre>\n\n<p>The problem that I am facing right now trying to abstract the classes is that I need to define a name in @XmlElement, whether it is counts/count, tags/tag or trajectories/trajectory.</p>\n\n<p>NOTE: I've seen this <a href=\"https://stackoverflow.com/questions/25187301/jaxb-for-xmls-with-similar-structure\">post</a> but what it does is to add a list of all the possible \"CommonObjectsOfMedia\" to the Media class and that's not what I am looking for.</p>\n"}, {"tags": ["java", "android", "kotlin", "admob"], "answers": [{"comments": [{"owner": {"reputation": 155, "user_id": 10894148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22c9f9c4a3047c6ad150f949d69f4d54?s=128&d=identicon&r=PG&f=1", "display_name": "Bekzhan", "link": "https://stackoverflow.com/users/10894148/bekzhan"}, "edited": false, "score": 0, "creation_date": 1561590469, "post_id": 56781954, "comment_id": 100118808, "body": "Thanks, i fixed it, but how can i show intertitial ad before load fragment?"}, {"owner": {"reputation": 395, "user_id": 1143454, "user_type": "registered", "accept_rate": 9, "profile_image": "https://i.stack.imgur.com/F3b7Q.jpg?s=128&g=1", "display_name": "Gladi", "link": "https://stackoverflow.com/users/1143454/gladi"}, "reply_to_user": {"reputation": 155, "user_id": 10894148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22c9f9c4a3047c6ad150f949d69f4d54?s=128&d=identicon&r=PG&f=1", "display_name": "Bekzhan", "link": "https://stackoverflow.com/users/10894148/bekzhan"}, "edited": false, "score": 0, "creation_date": 1561590579, "post_id": 56781954, "comment_id": 100118828, "body": "If i understand you in the right way, on the Activity which you make the transaction of the fragment, before you make commit(), show the ad, when ad is closed (onAdClosed) make the transaction / commit."}, {"owner": {"reputation": 395, "user_id": 1143454, "user_type": "registered", "accept_rate": 9, "profile_image": "https://i.stack.imgur.com/F3b7Q.jpg?s=128&g=1", "display_name": "Gladi", "link": "https://stackoverflow.com/users/1143454/gladi"}, "reply_to_user": {"reputation": 155, "user_id": 10894148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22c9f9c4a3047c6ad150f949d69f4d54?s=128&d=identicon&r=PG&f=1", "display_name": "Bekzhan", "link": "https://stackoverflow.com/users/10894148/bekzhan"}, "edited": false, "score": 0, "creation_date": 1561590619, "post_id": 56781954, "comment_id": 100118837, "body": "Or you can show in the fragment onViewCreated method."}, {"owner": {"reputation": 155, "user_id": 10894148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22c9f9c4a3047c6ad150f949d69f4d54?s=128&d=identicon&r=PG&f=1", "display_name": "Bekzhan", "link": "https://stackoverflow.com/users/10894148/bekzhan"}, "edited": false, "score": 0, "creation_date": 1561592379, "post_id": 56781954, "comment_id": 100119197, "body": "{                     fragment = UserFragment().newInstance()                     interstitalAd()                     loadFragment(fragment)                     return@OnNavigationItemSelectedListener true                 }"}], "tags": [], "owner": {"reputation": 395, "user_id": 1143454, "user_type": "registered", "accept_rate": 9, "profile_image": "https://i.stack.imgur.com/F3b7Q.jpg?s=128&g=1", "display_name": "Gladi", "link": "https://stackoverflow.com/users/1143454/gladi"}, "is_accepted": false, "score": 0, "last_activity_date": 1561590487, "last_edit_date": 1561590487, "creation_date": 1561590285, "answer_id": 56781954, "question_id": 56781788, "link": "https://stackoverflow.com/questions/56781788/displaying-interstital-ads-before-load-fragment/56781954#56781954", "title": "Displaying interstital ads before load fragment", "body": "<p><strong>Here you load ad when you close:</strong>  </p>\n\n<pre><code>          override fun onAdClosed() {\n            mInterstitialAd.loadAd(AdRequest.Builder().build())\n        }\n</code></pre>\n\n<p><strong>Here, when its loaded, you show again:</strong></p>\n\n<pre><code>               if (mInterstitialAd.isLoaded) {\n                mInterstitialAd.show()\n            }\n</code></pre>\n\n<p>this is endless.</p>\n\n<p>if you don't want it to show again and again, cancel one of the two.</p>\n"}], "owner": {"reputation": 155, "user_id": 10894148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22c9f9c4a3047c6ad150f949d69f4d54?s=128&d=identicon&r=PG&f=1", "display_name": "Bekzhan", "link": "https://stackoverflow.com/users/10894148/bekzhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561590487, "creation_date": 1561588944, "last_edit_date": 1561590399, "question_id": 56781788, "link": "https://stackoverflow.com/questions/56781788/displaying-interstital-ads-before-load-fragment", "title": "Displaying interstital ads before load fragment", "body": "<p>When i open fragment interstitial ad shows after some 4-5 seconds. How can i fix that interstitial ad shows before loaded fragment view</p>\n\n<pre><code>        mInterstitialAd.adUnitId = \"ca-app-pub-3940256099942544/1033173712\"\n        mInterstitialAd.loadAd(AdRequest.Builder().build())\n        mInterstitialAd.adListener = object : AdListener() {\n            override fun onAdLoaded() {\n                if (mInterstitialAd.isLoaded) {\n                    mInterstitialAd.show()\n                }\n            }\n        }\n\n</code></pre>\n"}, {"tags": ["java", "android", "encryption"], "comments": [{"owner": {"reputation": 24447, "user_id": 603316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4db0c2cbf2d5c9c196902dfc9db8218d?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/603316/peter"}, "edited": false, "score": 2, "creation_date": 1561606835, "post_id": 56781765, "comment_id": 100121546, "body": "openssl_encrypt returns the base64 encoded ciphertext by default so you are double encoding. Remove the base64_encode call or set the OPENSSL_RAW_DATA option."}, {"owner": {"reputation": 24447, "user_id": 603316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4db0c2cbf2d5c9c196902dfc9db8218d?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/603316/peter"}, "edited": false, "score": 1, "creation_date": 1561608056, "post_id": 56781765, "comment_id": 100121794, "body": "Unrelated to the question: don&#39;t reuse IVs! Generate a new one for each encryption using the <a href=\"https://www.php.net/manual/en/function.random-bytes.php\" rel=\"nofollow noreferrer\">random_bytes function</a>. And if $secret_key has low entropy (like a password), use a key derivation function such as PBKDF2, Argon2, bcrypt, scrypt, etc. to get an encryption key. sha256 isn&#39;t suitable for that."}, {"owner": {"reputation": 360, "user_id": 2880787, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/74befdfd8e37cfd66d1a4d3443168e19?s=128&d=identicon&r=PG&f=1", "display_name": "steven", "link": "https://stackoverflow.com/users/2880787/steven"}, "reply_to_user": {"reputation": 24447, "user_id": 603316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4db0c2cbf2d5c9c196902dfc9db8218d?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/603316/peter"}, "edited": false, "score": 0, "creation_date": 1561610657, "post_id": 56781765, "comment_id": 100122342, "body": "@Peter As suggested, I removed base64_encode from the php file. Now the java end gives me a different error &quot;BadPaddingException...BAD_DECRYPT&quot;. Either way, still not decrypting successfully."}, {"owner": {"reputation": 17226, "user_id": 9014097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2dJaU.png?s=128&g=1", "display_name": "Topaco", "link": "https://stackoverflow.com/users/9014097/topaco"}, "edited": false, "score": 3, "creation_date": 1561620199, "post_id": 56781765, "comment_id": 100125995, "body": "In addition to the double Base64-encoding issue: In the PHP code you create hash values from <code>$secret_key</code> / <code>$secret_iv</code> and use them as key / IV. In the Java code you use the values <i>directly</i> as key / IV (i.e you do <i>not</i> use the hash values). Note also, that in the PHP code the 3rd parameter of the <a href=\"https://www.php.net/manual/en/function.hash.php\" rel=\"nofollow noreferrer\"><code>hash</code></a> method should be <code>TRUE</code> for a binary result (otherwise you get the result as hex string, which I don&#39;t think is intended)."}, {"owner": {"reputation": 360, "user_id": 2880787, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/74befdfd8e37cfd66d1a4d3443168e19?s=128&d=identicon&r=PG&f=1", "display_name": "steven", "link": "https://stackoverflow.com/users/2880787/steven"}, "reply_to_user": {"reputation": 17226, "user_id": 9014097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2dJaU.png?s=128&g=1", "display_name": "Topaco", "link": "https://stackoverflow.com/users/9014097/topaco"}, "edited": false, "score": 0, "creation_date": 1561674422, "post_id": 56781765, "comment_id": 100152863, "body": "@Topaco As recommended, had removed the double Base64 encoding issue. Took out the hash (for testing), and use the key/IV directly. Unfortunately, still same error. Will update original post to show code that was changed."}, {"owner": {"reputation": 17226, "user_id": 9014097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2dJaU.png?s=128&g=1", "display_name": "Topaco", "link": "https://stackoverflow.com/users/9014097/topaco"}, "edited": false, "score": 2, "creation_date": 1561707812, "post_id": 56781765, "comment_id": 100160049, "body": "If you are using a 16 byte key, of course you must also use AES-128. In Java, this happens implicitly because the key length determines the variant, i.e. a 16 byte key implicitly means AES-128. In PHP, the variant is explicitly specified (the key is always implicitly adjusted by either truncating or extending by padding with 0 values), and the current variant is AES-256: So in the PHP code, simply change <code>$encrypt_method</code> from AES-256-CBC to AES-128-CBC."}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1561711807, "post_id": 56781765, "comment_id": 100161740, "body": "As a side note I recommend you document yourself about AES before implementing anything that uses AES."}, {"owner": {"reputation": 360, "user_id": 2880787, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/74befdfd8e37cfd66d1a4d3443168e19?s=128&d=identicon&r=PG&f=1", "display_name": "steven", "link": "https://stackoverflow.com/users/2880787/steven"}, "reply_to_user": {"reputation": 17226, "user_id": 9014097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2dJaU.png?s=128&g=1", "display_name": "Topaco", "link": "https://stackoverflow.com/users/9014097/topaco"}, "edited": false, "score": 0, "creation_date": 1561750682, "post_id": 56781765, "comment_id": 100178941, "body": "@Topaco Yep! You were absolutely right. Turns out all I had to do was change it to AES-128-CBC and it worked. As you said, PHP was automagically changing the key to fit without throwing errors. I&#39;d gladly accept your answer as being the solution, but I can&#39;t accept your answer seeing as it&#39;s a comment and won&#39;t let me."}], "answers": [{"tags": [], "owner": {"reputation": 360, "user_id": 2880787, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/74befdfd8e37cfd66d1a4d3443168e19?s=128&d=identicon&r=PG&f=1", "display_name": "steven", "link": "https://stackoverflow.com/users/2880787/steven"}, "is_accepted": false, "score": 0, "last_activity_date": 1562100756, "creation_date": 1562100756, "answer_id": 56859913, "question_id": 56781765, "link": "https://stackoverflow.com/questions/56781765/encryption-from-php-to-java-android-how-to-fix-error-wrong-final-block-lengt/56859913#56859913", "title": "Encryption from PHP to Java (Android): How to Fix Error &quot;Wrong Final Block Length&quot;?", "body": "<p>Was finally able to find a working solution thanks to @Topaco. As they pointed out, not only was I double encoding (Base64) but I should have been using AES-128-CBC instead of AES-256-CBC. As I found out, open_ssl in php doesn't seem to throw an error when the IV is of an invalid length, rather it pads or removes characters as necessary. AES-128-CBC worked with the 16-bit IV correctly and everything was solved. </p>\n\n<p>For those who may stumble across this post in the future, the final solution was to change the PHP side as follows:</p>\n\n<pre><code>$secret_key = \"1111111111111111\";\n$secret_iv = \"1111111111111111\";\n\n$encrypt_method = \"AES-128-CBC\"; \n$output = openssl_encrypt( $string, $encrypt_method, $secret_key, 0, $secret_iv );\n</code></pre>\n"}], "owner": {"reputation": 360, "user_id": 2880787, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/74befdfd8e37cfd66d1a4d3443168e19?s=128&d=identicon&r=PG&f=1", "display_name": "steven", "link": "https://stackoverflow.com/users/2880787/steven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562100756, "creation_date": 1561588749, "last_edit_date": 1561674996, "question_id": 56781765, "link": "https://stackoverflow.com/questions/56781765/encryption-from-php-to-java-android-how-to-fix-error-wrong-final-block-lengt", "title": "Encryption from PHP to Java (Android): How to Fix Error &quot;Wrong Final Block Length&quot;?", "body": "<p>Have tried several different methods found on Google and SOF, but I just can't seem to get this to work. I am trying to encrypt a string in PHP and decrypt it in Java (Android activity). In PHP to encrypt the string, I'm using AES-256-CBC with a sha256 hash (which encrypts/decrypts successfully in PHP). The issue is that no matter what I try, I can't get the unencrypted string in Java. My latest attempt ended with a console error of \"Cipher functions:OPENSSL_internal:WRONG_FINAL_BLOCK_Length\".</p>\n\n<p>I suspect my issue is with Base64 encoding, but all of my attempts so far have failed spectacularly. Or perhaps I'm using the wrong Cipher on the Java end. I've read about some people needing to convert to hex, though I didn't understand why.</p>\n\n<p>Please note, the iv and key are not really the same, just using the same here for example's sake.</p>\n\n<p>My PHP code:</p>\n\n<pre><code>$secret_key = \"1111111111111111\";\n$secret_iv = \"1111111111111111\";\n\n$encrypt_method = \"AES-256-CBC\"; \n$key = hash( 'sha256', $secret_key );\n$iv = substr( hash( 'sha256', $secret_iv ), 0, 16 );\n$output = base64_encode( openssl_encrypt( $string, $encrypt_method, $key, 0, $iv ) );\n</code></pre>\n\n<p>My Java code:</p>\n\n<pre><code>    String given_iv = \"1111111111111111\";\n    String key = \"1111111111111111\";\n\n    IvParameterSpec iv = new IvParameterSpec(given_iv.getBytes());\n    SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(), \"AES\");\n\n    Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS5PADDING\");\n    cipher.init(Cipher.DECRYPT_MODE, skeySpec, iv);\n\n    byte[] decodedEncryptedData = Base64.decode(data.getBytes(),Base64.NO_WRAP);\n\n    byte[] original = cipher.doFinal(decodedEncryptedData);\n    Log.i(TAG, \"Result: \" + new String(original));\n    return new String(original);\n</code></pre>\n\n<p>Can someone please tell me where I went wrong. Thanks.</p>\n\n<p>Update 1:\nAs pointed out by @Peter and @Topaco, I was Base64 encoding twice on the PHP side, this was removed as well as using the key/IV directly on the Java side. Unfortunately, the error persists.</p>\n\n<p>PHP code now:</p>\n\n<pre><code>    $secret_key = \"1111111111111111\";\n    $secret_iv = \"1111111111111111\";\n\n    $encrypt_method = \"AES-256-CBC\"; \n    $output = openssl_encrypt( $string, $encrypt_method, $secret_key, 0, $secret_iv );\n</code></pre>\n\n<p>Java code still remains the same. However I was messing around with Cipher.getInstance(\"AES/CBC/PKCS5PADDING\") and changed it to \"AES/CBC/NOPADDING\", it changed the error, I now get an output of garbled text, but still no real luck on decrypting fully.</p>\n"}, {"tags": ["java", "android"], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 8992081, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jmO-745_3E0/AAAAAAAAAAI/AAAAAAAAAHE/tPt2h_g4Zcg/photo.jpg?sz=128", "display_name": "Daniel Andersson", "link": "https://stackoverflow.com/users/8992081/daniel-andersson"}, "edited": false, "score": 0, "creation_date": 1561666198, "post_id": 56781818, "comment_id": 100150350, "body": "Thanks Christian that was it! I had placed an image in drawable-v24. I only saw then when looking with &quot;Finder&quot;(MacOS). Android Studio told me that that image was located in /drawable"}], "tags": [], "owner": {"reputation": 3895, "user_id": 1505074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f8cfb7972cb291056f13e031e0b148?s=128&d=identicon&r=PG&f=1", "display_name": "Christian", "link": "https://stackoverflow.com/users/1505074/christian"}, "is_accepted": true, "score": 4, "last_activity_date": 1561589138, "creation_date": 1561589138, "answer_id": 56781818, "question_id": 56781700, "link": "https://stackoverflow.com/questions/56781700/app-crash-on-android-6-0-api-23-but-not-on-android-9-api-28/56781818#56781818", "title": "App crash on Android 6.0 API 23 (but not on Android 9, API 28)", "body": "<p>as you expected, the source of your problem is in the last lines. When Android tries to inflate a layout which contains ImageButton, it does not find a resource. If this is on higher API-levels only, you might have a resource which is a subfolder like drawable-v24 only available for defined API-levels. The reason might also be that you are using a parameter or property that was added later.</p>\n"}], "owner": {"reputation": 177, "user_id": 8992081, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jmO-745_3E0/AAAAAAAAAAI/AAAAAAAAAHE/tPt2h_g4Zcg/photo.jpg?sz=128", "display_name": "Daniel Andersson", "link": "https://stackoverflow.com/users/8992081/daniel-andersson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 369, "favorite_count": 0, "accepted_answer_id": 56781818, "answer_count": 1, "score": 0, "last_activity_date": 1561589138, "creation_date": 1561588103, "question_id": 56781700, "link": "https://stackoverflow.com/questions/56781700/app-crash-on-android-6-0-api-23-but-not-on-android-9-api-28", "title": "App crash on Android 6.0 API 23 (but not on Android 9, API 28)", "body": "<p>So i use two different emulators for testing my little app. Strangly the Android 6.0 API 23 version recently started to crash when trying to open an activity from the app. I don't remember what I did :(</p>\n\n<p>Here's the error message i get from \"RUN\". My guess is that has to something with the GUI? The post page on Stackoverflow only let me post so much of the error so i cut out much of it. Maybe this part is important \"   Caused by: android.content.res.Resources$NotFoundException:\" Anyone know what is happening here? </p>\n\n<pre><code>    E/AndroidRuntime: FATAL EXCEPTION: main\n        Process: com.example.dex, PID: 24065\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.dex/com.example.dex.Activity2}: android.view.InflateException: Binary XML file line #517: Binary XML file line #517: Error inflating class ImageButton\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2416)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)\n            at android.app.ActivityThread.-wrap11(ActivityThread.java)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)\n            at android.os.Handler.dispatchMessage(Handler.java:102)\n            at android.os.Looper.loop(Looper.java:148)\n            at android.app.ActivityThread.main(ActivityThread.java:5417)\n            at java.lang.reflect.Method.invoke(Native Method)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n         Caused by: android.view.InflateException: Binary XML file line #517: Binary XML file line #517: Error inflating class ImageButton\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:539)\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\n  android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:782)\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:704)\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:835)\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798)\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:838)\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798)\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\u00a0\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\u00a0\n            at android.support.v7.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:469)\u00a0\n   \u00a0\n         Caused by: android.content.res.Resources$NotFoundException: Resource ID #0x7f070082\n            at android.content.res.Resources.getValue(Resources.java:1351)\n            at \n\nCaused by: android.view.InflateException: Binary XML file line #517: Error inflating class ImageButton\n</code></pre>\n"}, {"tags": ["java", "php", "android"], "comments": [{"owner": {"reputation": 21453, "user_id": 1839439, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/agMKZ.png?s=128&g=1", "display_name": "Dharman", "link": "https://stackoverflow.com/users/1839439/dharman"}, "edited": false, "score": 0, "creation_date": 1561593162, "post_id": 56781621, "comment_id": 100119336, "body": "If this question was asked before then why have you asked it again?"}, {"owner": {"reputation": 21453, "user_id": 1839439, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/agMKZ.png?s=128&g=1", "display_name": "Dharman", "link": "https://stackoverflow.com/users/1839439/dharman"}, "edited": false, "score": 0, "creation_date": 1561593213, "post_id": 56781621, "comment_id": 100119349, "body": "What is <code>json_decode(Values,true)</code> supposed to be? Is this a typo for <code>json_decode($_POST[&#39;Values&#39;],true)</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11705467, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Vp9QbSr2Y8I/AAAAAAAAAAI/AAAAAAAAAAc/1ftHlimBE50/photo.jpg?sz=128", "display_name": "sammu darling", "link": "https://stackoverflow.com/users/11705467/sammu-darling"}, "edited": false, "score": 0, "creation_date": 1561637836, "post_id": 56782290, "comment_id": 100135854, "body": "Ok to confirm that I have received that message I am just putting the statement as &quot;echo&quot;Received&quot;; instead of $all_arraylist = json_decode(Values,true);     $ result = print_r($all_arraylist,true);     echo $result; but still it is not working"}, {"owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "reply_to_user": {"reputation": 1, "user_id": 11705467, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Vp9QbSr2Y8I/AAAAAAAAAAI/AAAAAAAAAAc/1ftHlimBE50/photo.jpg?sz=128", "display_name": "sammu darling", "link": "https://stackoverflow.com/users/11705467/sammu-darling"}, "edited": false, "score": 0, "creation_date": 1561638942, "post_id": 56782290, "comment_id": 100136584, "body": "<i>Where</i> are you looking for that output? You can also use <code>print_r($_POST);</code> or <code>var_dump($_POST);</code> to see everything sent as part of the POST request."}, {"owner": {"reputation": 1, "user_id": 11705467, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Vp9QbSr2Y8I/AAAAAAAAAAI/AAAAAAAAAAc/1ftHlimBE50/photo.jpg?sz=128", "display_name": "sammu darling", "link": "https://stackoverflow.com/users/11705467/sammu-darling"}, "edited": false, "score": 0, "creation_date": 1561640767, "post_id": 56782290, "comment_id": 100137760, "body": "I am looking the output in android not in php."}, {"owner": {"reputation": 1, "user_id": 11705467, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Vp9QbSr2Y8I/AAAAAAAAAAI/AAAAAAAAAAc/1ftHlimBE50/photo.jpg?sz=128", "display_name": "sammu darling", "link": "https://stackoverflow.com/users/11705467/sammu-darling"}, "edited": false, "score": 0, "creation_date": 1561640858, "post_id": 56782290, "comment_id": 100137837, "body": "If my Json object is sent successfully, then it has to print &quot;Received&quot; in android"}, {"owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "reply_to_user": {"reputation": 1, "user_id": 11705467, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Vp9QbSr2Y8I/AAAAAAAAAAI/AAAAAAAAAAc/1ftHlimBE50/photo.jpg?sz=128", "display_name": "sammu darling", "link": "https://stackoverflow.com/users/11705467/sammu-darling"}, "edited": false, "score": 0, "creation_date": 1561642128, "post_id": 56782290, "comment_id": 100138706, "body": "There is nothing in your Android code indicating that <code>Received</code> would be output at any time as far as I can tell. You can use something like Wireshark to see what happens between the emulator and your PHP service."}, {"owner": {"reputation": 1, "user_id": 11705467, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Vp9QbSr2Y8I/AAAAAAAAAAI/AAAAAAAAAAc/1ftHlimBE50/photo.jpg?sz=128", "display_name": "sammu darling", "link": "https://stackoverflow.com/users/11705467/sammu-darling"}, "edited": false, "score": 0, "creation_date": 1561716968, "post_id": 56782290, "comment_id": 100164281, "body": "Please see the above code, I have defined a method &quot;public Response.Listener&lt;JSONObject&gt; createRequestSuccessListener()&quot; to display message"}, {"owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "reply_to_user": {"reputation": 1, "user_id": 11705467, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Vp9QbSr2Y8I/AAAAAAAAAAI/AAAAAAAAAAc/1ftHlimBE50/photo.jpg?sz=128", "display_name": "sammu darling", "link": "https://stackoverflow.com/users/11705467/sammu-darling"}, "edited": false, "score": 0, "creation_date": 1561717885, "post_id": 56782290, "comment_id": 100164647, "body": "That&#39;s correct, but there is nothing in that code that prints <code>Received</code> or anything else from the response. Use wireshark to see what&#39;s actually happening behind the scenes, or adding proper logging to a log file in your PHP application."}], "tags": [], "owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "is_accepted": false, "score": 0, "last_activity_date": 1561593317, "creation_date": 1561593317, "answer_id": 56782290, "question_id": 56781621, "link": "https://stackoverflow.com/questions/56781621/unable-to-send-json-object-from-android-to-php/56782290#56782290", "title": "Unable to send Json object from android to php", "body": "<p>I can't say anything about your Java code, but your PHP code is not valid at all. This usually results in a blank screen being served back to the client without any content at all.</p>\n\n<pre><code>if(!empty($_POST['Values']){\n    $all_arraylist = json_decode(Values,true);\n</code></pre>\n\n<p>You probably mean <code>json_decode($_POST['Values'], true);</code> here, since just <code>Values</code> by itself doesn't make any sense.</p>\n\n<pre><code>    $ result = print_r($all_arraylist,true);\n</code></pre>\n\n<p>The space after <code>$</code> will confuse PHP, as that isn't a valid variable name character (and you're not using <code>$ result</code> on the next line either).</p>\n\n<p>(and instead of using <code>true</code> to return the value from <code>print_r</code> and then <code>echo</code> that returned value, you can just use <code>print_r($all_arraylist)</code> to make it print out everything.</p>\n"}], "owner": {"reputation": 1, "user_id": 11705467, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Vp9QbSr2Y8I/AAAAAAAAAAI/AAAAAAAAAAc/1ftHlimBE50/photo.jpg?sz=128", "display_name": "sammu darling", "link": "https://stackoverflow.com/users/11705467/sammu-darling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561593317, "creation_date": 1561587522, "last_edit_date": 1561591433, "question_id": 56781621, "link": "https://stackoverflow.com/questions/56781621/unable-to-send-json-object-from-android-to-php", "title": "Unable to send Json object from android to php", "body": "<p>I know this question was asked before. Please don't mark as duplicate or block my account.</p>\n\n<p>I am trying to send Json object to php using volley. So that I am using <code>Customrequest</code> which I have found a solution in stackoverflow but it didn't work <a href=\"https://stackoverflow.com/questions/19837820/volley-jsonobjectrequest-post-request-not-working\">See this</a></p>\n\n<pre><code>JsonObject response = new JsonObject();\nresponse.add(\"Description\", a1 );/*a1 is Json array of multiple values*/\nresponse.add(\"Amount\", a2 );/*a2 is Json array of multiple values*/\nSystem.out.println(\"Json:\"+response);/*Both the list is saved inside this Json object*/\n\nMap&lt;String,String&gt; hm = new HashMap();\nhm.put(\"Values\",String.valueOf(response));/*Trying to pass the json object to server respose is the Json object*/\n\nCustomRequest req = new \nCustomRequest(Request.Method.POST,ip,hm, this.createRequestSuccessListener(), this.createRequestErrorListener()); /*I have used the solution here*/\n\nMysingleton.getInstance(this).addTorequestque(req);/*This is a singleton class*/\npublic Response.Listener&lt;JSONObject&gt; createRequestSuccessListener(){\n    return new Response.Listener&lt;JSONObject&gt;() {\n        @Override\n        public void onResponse(JSONObject response) {\n            AlertDialog.Builder al = new AlertDialog.Builder(Database.this)\n                .setTitle(\"Message\")\n                .setMessage(\"Sent\")\n                .setPositiveButton(\"OK\",null);\n            AlertDialog al1 = al.create();\n            al.show();\n        }\n    };\n}\n\npublic Response.ErrorListener createRequestErrorListener(){\n    return new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n            AlertDialog.Builder al = new AlertDialog.Builder(Database.this)\n                .setTitle(\"Error\")\n                .setMessage(\"Something went wrong\")\n                .setPositiveButton(\"OK\",null);\n            AlertDialog al1 = al.create();\n            al.show();\n        }\n    };\n}\n</code></pre>\n\n<p>My php source code is here</p>\n\n<pre><code>if(!empty($_POST['Values']){\n    $all_arraylist = json_decode(Values,true);\n    $ result = print_r($all_arraylist,true);\n    echo $result;\n}\nelse{\n    echo \"Empty\";\n}\n</code></pre>\n\n<p>expecting at least error message to pop up but I am unable to get even that. That is I am not getting any response. Please help</p>\n"}, {"tags": ["java", "android", "textview", "sms"], "comments": [{"owner": {"reputation": 267, "user_id": 4775544, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-yEUsccqbq50/AAAAAAAAAAI/AAAAAAAAABw/4haCtp3Sd2E/photo.jpg?sz=128", "display_name": "cristian franco", "link": "https://stackoverflow.com/users/4775544/cristian-franco"}, "edited": false, "score": 0, "creation_date": 1561587318, "post_id": 56781471, "comment_id": 100118015, "body": "what error do you get?"}, {"owner": {"reputation": 21, "user_id": 9374228, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dilek Osma", "link": "https://stackoverflow.com/users/9374228/dilek-osma"}, "reply_to_user": {"reputation": 267, "user_id": 4775544, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-yEUsccqbq50/AAAAAAAAAAI/AAAAAAAAABw/4haCtp3Sd2E/photo.jpg?sz=128", "display_name": "cristian franco", "link": "https://stackoverflow.com/users/4775544/cristian-franco"}, "edited": false, "score": 0, "creation_date": 1561587371, "post_id": 56781471, "comment_id": 100118040, "body": "SMS does not appear on textview"}, {"owner": {"reputation": 1471, "user_id": 103131, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/vlH3U.png?s=128&g=1", "display_name": "jj.", "link": "https://stackoverflow.com/users/103131/jj"}, "edited": false, "score": 0, "creation_date": 1561590305, "post_id": 56781471, "comment_id": 100118775, "body": "From first glance, it appears your line <code>textsms.setText(body);</code> is referencing the wrong variable.  I believe you want it to be <code>Body</code> (upper-case).  Set a breakpoint there and it should make more sense."}], "owner": {"reputation": 21, "user_id": 9374228, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dilek Osma", "link": "https://stackoverflow.com/users/9374228/dilek-osma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561586428, "creation_date": 1561586428, "question_id": 56781471, "link": "https://stackoverflow.com/questions/56781471/android-how-to-parse-sms-textview", "title": "android - How to parse SMS textview", "body": "<p>I'm trying a get SMS and parse textView.And my code,whats my mistake?</p>\n\n<p>And \u0131 test this code but not work\nWhere is my mistake this code,\u0131 want get SMS and parse textview</p>\n\n<pre><code>public class ReadMsg extends AppCompatActivity {\n\nListView listView;\nprivate static final int PERMISSION_REQUEST_READ_CONTACTS = 100;\nArrayList smsList;\nTextView textsms;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_read_msg);\n    listView = (ListView)findViewById(R.id.idList);\ntextsms = findViewById(R.id.textsms);\n\n\n    int permissionCheck = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_SMS);\n\n    if (permissionCheck == PackageManager.PERMISSION_GRANTED){\n        showContacts();\n    }else{\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_SMS},PERMISSION_REQUEST_READ_CONTACTS);\n    }\n}\n\nprivate void showContacts() {\n    Uri inboxURI = Uri.parse(\"content://sms/inbox\");\n    smsList = new ArrayList();\n    ContentResolver cr = getContentResolver();\n\n\n    Cursor c = cr.query(inboxURI,null,null,null,null);\n    while (c.moveToNext()){\n        String Number = c.getString(c.getColumnIndexOrThrow(\"address\")).toString();\n        String Body= c.getString(c.getColumnIndexOrThrow(\"body\")).toString();\n        smsList.add(\"Number: \"+ Number + \"\\n\" + \"Body: \"+ Body );\n        textsms.setText(body);\n    }\n        c.close();\n    ArrayAdapter adapter = new ArrayAdapter(this, android.R.layout.simple_list_item_1, smsList);\n    listView.setAdapter(adapter);\n}\n</code></pre>\n"}, {"tags": ["java", "spring-boot", "jdbc", "concurrency", "stream"], "answers": [{"comments": [{"owner": {"reputation": 327, "user_id": 9253117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fe507c95887a5bfe1c4584afde7db4f?s=128&d=identicon&r=PG&f=1", "display_name": "Kirill Sereda", "link": "https://stackoverflow.com/users/9253117/kirill-sereda"}, "edited": false, "score": 0, "creation_date": 1561620095, "post_id": 56782096, "comment_id": 100125933, "body": "Can you explain me please ? If I understood you correctly, I need to transfer the list from my tasks to invokeAll method (i.e. a list of requests to the databases). but how can I add them to the list if they have not yet been completed? I would be grateful for the help."}, {"owner": {"reputation": 480, "user_id": 8720805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26de3690e996a6c91351941ab87b593c?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/8720805/josh"}, "reply_to_user": {"reputation": 327, "user_id": 9253117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fe507c95887a5bfe1c4584afde7db4f?s=128&d=identicon&r=PG&f=1", "display_name": "Kirill Sereda", "link": "https://stackoverflow.com/users/9253117/kirill-sereda"}, "edited": false, "score": 0, "creation_date": 1561689357, "post_id": 56782096, "comment_id": 100155214, "body": "The executor service&#39;s <code>invokeAll</code> method allows you to submit a bunch of tasks, and it will execute them with as much parallelism as it can, until they are all complete. There are two ways that Java lets you represent a chunk of code that you want to run: <code>Runnable</code> and <code>Callable</code>. The difference is that <code>Callable</code> returns a result. So you need to provide the executor service a collection of <code>Callable</code> instances, each of which will run one of your queries. You&#39;ll get back <code>Future</code> instances, on which you can call <code>get</code> which will block until the task is complete."}], "tags": [], "owner": {"reputation": 480, "user_id": 8720805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26de3690e996a6c91351941ab87b593c?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/8720805/josh"}, "is_accepted": true, "score": 0, "last_activity_date": 1561689733, "last_edit_date": 1561689733, "creation_date": 1561591497, "answer_id": 56782096, "question_id": 56781370, "link": "https://stackoverflow.com/questions/56781370/how-can-i-get-3-thread-pool-using-multiple-datasource/56782096#56782096", "title": "How can I get 3 thread pool using multiple datasource?", "body": "<p>You should use <code>invokeAll</code> on the executor rather than <code>submit</code>.\nThis code is just submitting one task to the executor, which then calls <code>parallelStream</code>:</p>\n\n<pre><code>List&lt;QueryExecutionResult&gt; queryExecutionResults = executor.submit(() -&gt; templates\n        .entrySet()\n        .parallelStream()\n        .map(entry -&gt; performQuery(entry.getKey(), entry.getValue(), query))\n        .collect(Collectors.toList())).get();\n</code></pre>\n\n<p>You don't need <code>parallelStream</code>; just create a collection of tasks and use the executor's <code>invokeAll</code> method, which will try to parallelize as much as it can.</p>\n\n<p>Here's a sketch of what I mean:</p>\n\n<pre><code>class Query implements Callable&lt;String&gt; {\n    public String call() {\n        String s = \"\"; // do some database query that returns a string\n        return s;\n    }\n}\n\npublic static void main(String[] args) {\n    var queries = List.of(new Query(...), ...);\n    var exec = Executors.newFixedThreadPool(queries.size());\n    var futures = exec.invokeAll(queries);\n\n    for (f : futures) {\n        f.get();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 327, "user_id": 9253117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fe507c95887a5bfe1c4584afde7db4f?s=128&d=identicon&r=PG&f=1", "display_name": "Kirill Sereda", "link": "https://stackoverflow.com/users/9253117/kirill-sereda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 1, "accepted_answer_id": 56782096, "answer_count": 1, "score": 2, "last_activity_date": 1561689733, "creation_date": 1561585804, "question_id": 56781370, "link": "https://stackoverflow.com/questions/56781370/how-can-i-get-3-thread-pool-using-multiple-datasource", "title": "How can I get 3 thread pool using multiple datasource?", "body": "<p>Help please.\nI have a class that is responsible for config to the database:</p>\n\n<pre><code>@Getter\n@Setter\n@ConfigurationProperties(value = \"spring\")\npublic class DatabaseConfig {\n\n    @NotEmpty\n    private Map&lt;String, Database&gt; databases;\n\n    @Getter\n    @Setter\n    public static class Database {\n    @NotEmpty\n    private String url;\n\n    @NotEmpty\n    private String username;\n\n    private String password;\n\n    @NotEmpty\n    private String driverClassName;\n    }\n}\n</code></pre>\n\n<p>There are 3 databases in my <strong>application.yml</strong> file:</p>\n\n<pre><code>spring:\n    H21:\n      url: jdbc:h2:tcp://localhost/~/test\n      username: sa\n      password:\n      driver-class-name: org.h2.Driver\n    H22:\n      url: jdbc:h2:tcp://localhost/~/test2\n      username: sa\n      password:\n      driver-class-name: org.h2.Driver\n    H23:\n      url: jdbc:h2:tcp://localhost/~/test3\n      username: sa\n      password:\n      driver-class-name: org.h2.Driver\n</code></pre>\n\n<p>I have a Map, in which when the application is initialized (I use the <strong>@PostConstruct</strong> method for this), all datasource from the application.yml file are included.\nOk. It's fine.\nBut I have a problem.</p>\n\n<p>In the doCheck method method, I create a thread pool = the number of datasource in the Map (3 items) and foreach the Map and call method to the databases.</p>\n\n<p>The line <strong><em>template.query(query, ResultSet::getRow)</em></strong> in <strong>performQuery</strong> method must be called in parallel for all databases, not sequentially.\nIt's very important for me.</p>\n\n<p>If in the application.yml file 3 databases, it does not work (the application starts and when I send a request through Postman the program waits for a long time and nothing happens).\nIf in the application.yml file 2 databases, then everything works.\nI read on the Internet that parallelStream() creates only 2 thread pools. Therefore, it works for me when there are only 2 databases in the application.yml file and they are working in parallel.\nBut when there are 3 bases in the application.yml file, it does not work for me.</p>\n\n<pre><code>@Service\n@Log\n@RequiredArgsConstructor\npublic class DBServiceImpl implements DBService {\n\n    private final DatabaseConfig databaseConfig;\n\n    private Map&lt;String, JdbcTemplate&gt; templates;\n\n    @PostConstruct\n    public void init() {\n    templates = databaseConfig.getDatabases()\n            .entrySet()\n            .stream()\n            .collect(Collectors.toMap(Map.Entry::getKey, entry -&gt; createJdbcTemplate(entry.getValue())));\n    }\n\n    private JdbcTemplate createJdbcTemplate(DatabaseConfig.Database database) {\n    return new JdbcTemplate(DataSourceBuilder\n            .create()\n            .url(database.getUrl())\n            .username(database.getUsername())\n            .password(database.getPassword())\n            .driverClassName(database.getDriverClassName())\n            .build());\n    }\n\n    public synchronized PerformanceCheckResult doCheck(String query) throws InterruptedException, ExecutionException {\n    PerformanceCheckResult checkResult = PerformanceCheckResult\n            .builder()\n            .queryExecutionResults(new CopyOnWriteArrayList&lt;&gt;())\n            .checkStartedAt(System.currentTimeMillis())\n            .build();\n\n    ExecutorService executor = Executors.newFixedThreadPool(templates.size());\n\n    List&lt;QueryExecutionResult&gt; queryExecutionResults = executor.submit(() -&gt; templates\n            .entrySet()\n            .parallelStream()\n            .map(entry -&gt; performQuery(entry.getKey(), entry.getValue(), query))\n            .collect(Collectors.toList())).get();\n\n    checkResult.setQueryExecutionResults(queryExecutionResults);\n    checkResult.setCheckEndedAt(System.currentTimeMillis());\n    checkResult.setTotalCheckDurationTime(getDurationMillis(checkResult.getCheckStartedAt(), checkResult.getCheckEndedAt()));\n    return checkResult;\n    }\n\n    private QueryExecutionResult performQuery(String databaseName, JdbcTemplate template, String query) {\n    QueryExecutionResult executionResult = QueryExecutionResult\n            .builder()\n            .databaseName(databaseName)\n            .queryExecutionStartedAt(System.currentTimeMillis())\n            .build();\n    template.query(query, ResultSet::getRow);\n    executionResult.setQueryExecutionEndedAt(System.currentTimeMillis());\n    executionResult.setQueryExecutionDurationTime(\n            getDurationMillis(executionResult.getQueryExecutionStartedAt(), executionResult.getQueryExecutionEndedAt()));\n    return executionResult;\n    }\n\n    private Long getDurationMillis(Long start, Long end) {\n    return end - start;\n    }\n\n}   \n</code></pre>\n\n<p>I really need your help.\nThanks.</p>\n"}, {"tags": ["java", "unit-testing", "mocking", "mockito", "jdbctemplate"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 3846709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V8YQ8.jpg?s=128&g=1", "display_name": "getzels", "link": "https://stackoverflow.com/users/3846709/getzels"}, "edited": false, "score": 0, "creation_date": 1561643229, "post_id": 56787587, "comment_id": 100139488, "body": "Thank you @second this is the solution."}], "tags": [], "owner": {"reputation": 3646, "user_id": 11514534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10ca983c4ac8bcb07661de28130b991?s=128&d=identicon&r=PG&f=1", "display_name": "second", "link": "https://stackoverflow.com/users/11514534/second"}, "is_accepted": true, "score": 1, "last_activity_date": 1561626296, "creation_date": 1561626296, "answer_id": 56787587, "question_id": 56781355, "link": "https://stackoverflow.com/questions/56781355/how-to-mock-jdbctemplate-query-with-parameters-object/56787587#56787587", "title": "How to mock jdbcTemplate.query with parameters (Object[]{})", "body": "<p>The problem is that your <code>dao</code> is not a mocked object, so you are not supposed\nto pass matchers at this point.</p>\n\n<p>Wrong:</p>\n\n<pre><code>dao.myDaoMethod(any(Date.class), any(Date.class));\n</code></pre>\n\n<p>Correct:</p>\n\n<pre><code>dao.myDaoMethod(new Date(1), new Date(2));\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 3846709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V8YQ8.jpg?s=128&g=1", "display_name": "getzels", "link": "https://stackoverflow.com/users/3846709/getzels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 907, "favorite_count": 0, "accepted_answer_id": 56787587, "answer_count": 1, "score": 0, "last_activity_date": 1561626296, "creation_date": 1561585697, "question_id": 56781355, "link": "https://stackoverflow.com/questions/56781355/how-to-mock-jdbctemplate-query-with-parameters-object", "title": "How to mock jdbcTemplate.query with parameters (Object[]{})", "body": "<p>I'm trying using mockito to mock jdbcTemplate and call the method query passing it parameters using Object[]{}.</p>\n\n<p>I'm making the unit test for my DAO layer I want to mock jdbcTemplate and call the method query and pass the sql string,a RowMapper and parameters using Object[] {}</p>\n\n<pre><code>public List&lt;EntityType&gt; myDaoMethod(Date fechaInicio, Date fechaFin)\n            throws NotDataFoundException {\n        log.info(\"entering =&gt; myDaoMethod\");\n        log.info(\"param =&gt; fechaInicio :\" +  fechaInicio);\n        log.info(\"param =&gt; fechaFin :\" +  fechaFin);\n\n        log.debug(\"Se ejecutando consulta...\");\n        try {\n\n            List&lt;EntityType&gt; query = jdbcTemplate.query(QueryStrs.MY_QUERY,\n                    new Object[] {fechaInicio, fechaFin},\n                    new BeanPropertyRowMapper&lt;EntityType&gt;(EntityType.class));\n            log.debug(\"Se ejecuto consulta. \");\n\n            return query;\n        }catch(DataAccessException e) {\n            log.error(\"No se encontro informacion en la consulta myDaoMethod (2)\", e);\n            throw new NotDataFoundException(e);\n        }finally {\n            log.info(\"exiting =&gt; myDaoMethod\");\n        }\n    }\n</code></pre>\n\n<pre><code>    @Mock\n    private JdbcTemplate jdbcTemplate;\n\n        @Test\n    public void myTestMethod() throws NotDataFoundException {\n\n        List&lt;EntityType&gt; listValue = new ArrayList&lt;&gt;();\n\n        listValue.add(new EntityType((short) 2, \"modem 2\"));\n        listValue.add(new EntityType((short) 1, \"modem\"));\n\n        when(jdbcTemplate.query(any(String.class),any(Object[].class), any(BeanPropertyRowMapper.class))).thenReturn(listValue);\n\n        MyDao dao = new MyDaoImpl(jdbcTemplate);\n        List&lt;EntityType&gt; otrasAdicionalesPorRangoFecha = dao.myDaoMethod(any(Date.class), any(Date.class));\n\n        Assert.assertNotNull(otrasAdicionalesPorRangoFecha);\n        Assert.assertTrue(!otrasAdicionalesPorRangoFecha.isEmpty());\n//      Assert.assertArrayEquals(listValue.toArray(), otrasAdicionalesPorRangoFecha.toArray());\n\n    }\n</code></pre>\n\n<p>The trace result is</p>\n\n<p>org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \nInvalid use of argument matchers!\n3 matchers expected, 2 recorded:\n-> at com.oracle.reporter.tddtest.rrhhcomision.OtrasAdicionalesDaoTest.testBuscarOtrasAdicionalesPorFecha(OtrasAdicionalesDaoTest.java:80)\n-> at com.oracle.reporter.tddtest.rrhhcomision.OtrasAdicionalesDaoTest.testBuscarOtrasAdicionalesPorFecha(OtrasAdicionalesDaoTest.java:80)</p>\n\n<p>This exception may occur if matchers are combined with raw values:\n    //incorrect:\n    someMethod(anyObject(), \"raw String\");\nWhen using matchers, all arguments have to be provided by matchers.\nFor example:\n    //correct:\n    someMethod(anyObject(), eq(\"String by matcher\"));</p>\n"}, {"tags": ["java", "swing", "look-and-feel"], "comments": [{"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1561589173, "post_id": 56781305, "comment_id": 100118513, "body": "Generally speaking, it&#39;s not recommended to change the look and feel after the UI has been established, yes, I know there are &quot;offical&quot; examples demonstrating this, but it was more of a side effect that a feature and the Swing team actually discouraged it.  You might, however, have better luck using a &quot;skinning&quot; approach, which might provide you with a simpler way to achieve the same, overall result, yet you&#39;d still need away to notify all the components of the change"}], "answers": [{"tags": [], "owner": {"reputation": 34, "user_id": 11303504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PbOLw.gif?s=128&g=1", "display_name": "007Robin", "link": "https://stackoverflow.com/users/11303504/007robin"}, "is_accepted": false, "score": 0, "last_activity_date": 1561587362, "creation_date": 1561587362, "answer_id": 56781597, "question_id": 56781305, "link": "https://stackoverflow.com/questions/56781305/swing-how-do-i-allow-a-user-selected-theme/56781597#56781597", "title": "Swing How do I allow a User-Selected Theme?", "body": "<p>Have you tried implementing SystemColor objects? SystemColors can change. Their red/green/blue values are tied to the underlying OS theme. If the user changes their OS theme's text highlight color, for instance, then SystemColor.textHighlight changes along with it. On the next redraw, any Java component that uses that SystemColor object redraws with the user's updated color.</p>\n\n<p>This feature of SystemColors allows Java applications to draw user interfaces with color schemes that track the user's own OS color scheme preferences. Which for most cases such as yours, no special application coding is needed. Hope this helps!</p>\n\n<ul>\n<li>Robin.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 9804, "user_id": 909085, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/71cf25bf5d2a979f54cc83f342aeb89c?s=128&d=identicon&r=PG", "display_name": "Mikle Garin", "link": "https://stackoverflow.com/users/909085/mikle-garin"}, "is_accepted": true, "score": 0, "last_activity_date": 1561635026, "creation_date": 1561635026, "answer_id": 56790069, "question_id": 56781305, "link": "https://stackoverflow.com/questions/56781305/swing-how-do-i-allow-a-user-selected-theme/56790069#56790069", "title": "Swing How do I allow a User-Selected Theme?", "body": "<p>As @madprogrammer already mentioned in a comment - it is generally not recommended to change look and feel (L&amp;F) in runtime as it might cause a lot of unwanted behaviors and potentially issues. </p>\n\n<p>To be more specific - different L&amp;Fs will have different size of components, spacings, borders and just overall visual style (unless you are using the same L&amp;F but with different themes/skins). That will make your application UI look and perform inconsistently on those different L&amp;Fs in many cases, especially if all you want is to have dark &amp; light themes but the same UI layout/style. Changing L&amp;F in runtime might also reset the state of some components to some extent which could potentially lead to logical errors in your application.</p>\n\n<p>Better approach is the use of a single L&amp;F that supports dark and light (or any other) themes/skins as there will surely be way less issues if you only change between different implementations/configurations of the very same L&amp;F as the L&amp;F developer most probably accounted for that possibility. You can find a comprehensive list of currently available L&amp;Fs on the other SO topic here: <a href=\"https://stackoverflow.com/questions/3954616/java-look-and-feel-lf\">Java Look and Feel (L&amp;F) </a></p>\n\n<p>Although writing your own L&amp;F could also be a good solution if you are ready to invest into it. But don't be mistaken, it's not an easy task and will take a lot of time and Swing knowledge to create one. Swing and L&amp;F API in particular is quite poorly documented and original developer didn't provide a lot of tips about how you should make one. You can only go the path of trial and error.</p>\n"}], "owner": {"reputation": 183, "user_id": 1519194, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7155e64d8aef072e57969498614a9de3?s=128&d=identicon&r=PG", "display_name": "TheYargonaut", "link": "https://stackoverflow.com/users/1519194/theyargonaut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 56790069, "answer_count": 2, "score": 0, "last_activity_date": 1561635026, "creation_date": 1561585414, "last_edit_date": 1561588795, "question_id": 56781305, "link": "https://stackoverflow.com/questions/56781305/swing-how-do-i-allow-a-user-selected-theme", "title": "Swing How do I allow a User-Selected Theme?", "body": "<p>I'm trying to allow users to change the applications theme like dark/light etc.</p>\n\n<p>To do this so far I've been using:</p>\n\n<pre><code>for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n            if (newTheme.equals(info.getName())) {\n                javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                SwingUtilities.invokeLater(new Runnable() {\n                    @Override\n                    public void run() {\n                        SwingUtilities.updateComponentTreeUI(getRootPane());\n                    }\n                });\n\n\n                break;\n            }\n        }\n    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n    }\n</code></pre>\n\n<p>I'm not sure I really should even be changing the entire look and feel. The problem with using this method, is I can see no way of setting a jPanel to anything that would change with the theme.</p>\n\n<p>An example of what I mean is something like setting:\njPanel 1 to color: menu\njpanel 2 to color: background</p>\n\n<p>Where in theme 1, then menu may be grey, and background may be blue. In theme 2 menu would be green and background red as an example</p>\n"}, {"tags": ["java", "nullpointerexception", "sonarqube"], "comments": [{"owner": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 1, "creation_date": 1561587929, "post_id": 56781304, "comment_id": 100118190, "body": "Is <code>getEmptyListForNull</code> your code? Can you share the implementation?"}, {"owner": {"reputation": 34959, "user_id": 184730, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8ec7cdaaf6fd5ee313cb6228f08cd67c?s=128&d=identicon&r=PG", "display_name": "fastcodejava", "link": "https://stackoverflow.com/users/184730/fastcodejava"}, "reply_to_user": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 0, "creation_date": 1561588568, "post_id": 56781304, "comment_id": 100118360, "body": "@Tom How does that matter? It does not modify <code>myResponse</code>."}, {"owner": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 0, "creation_date": 1561588756, "post_id": 56781304, "comment_id": 100118402, "body": "It matters how it reacts it reacts on null being passed. And it matters if annotations like <code>@Nullable</code> or <code>@NotNull</code> are used."}, {"owner": {"reputation": 34959, "user_id": 184730, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8ec7cdaaf6fd5ee313cb6228f08cd67c?s=128&d=identicon&r=PG", "display_name": "fastcodejava", "link": "https://stackoverflow.com/users/184730/fastcodejava"}, "reply_to_user": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 0, "creation_date": 1561768272, "post_id": 56781304, "comment_id": 100182518, "body": "@Tom I see that now, my question is updated with more details."}], "answers": [{"comments": [{"owner": {"reputation": 34959, "user_id": 184730, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8ec7cdaaf6fd5ee313cb6228f08cd67c?s=128&d=identicon&r=PG", "display_name": "fastcodejava", "link": "https://stackoverflow.com/users/184730/fastcodejava"}, "edited": false, "score": 0, "creation_date": 1561653152, "post_id": 56781563, "comment_id": 100145220, "body": "You are correct. I&#39;m not calling for each on <code>myResponse</code>, I&#39;m not calling for each on <code>getEmptyListForNull(myResponse)</code>. It should be able to recognize that!"}, {"owner": {"reputation": 368, "user_id": 2384806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/214614199b758cfe837e7b2bc6a0dba9?s=128&d=identicon&r=PG", "display_name": "mahmutoflaz", "link": "https://stackoverflow.com/users/2384806/mahmutoflaz"}, "reply_to_user": {"reputation": 34959, "user_id": 184730, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8ec7cdaaf6fd5ee313cb6228f08cd67c?s=128&d=identicon&r=PG", "display_name": "fastcodejava", "link": "https://stackoverflow.com/users/184730/fastcodejava"}, "edited": false, "score": 0, "creation_date": 1561653478, "post_id": 56781563, "comment_id": 100145379, "body": "Actually, it doesn&#39;t matter if you have called <code>.foreach()</code> on <code>myResponse</code> or <code>getEmptyListForNull(myResponse)</code>.  The point is that: If you have called <code>.forEach()</code> on any object and if it equals null; <code>NullPointerException</code> is being thrown.   If this exception was not thrown, it means that the object was not null. So, you don&#39;t need to check if it equals null."}, {"owner": {"reputation": 368, "user_id": 2384806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/214614199b758cfe837e7b2bc6a0dba9?s=128&d=identicon&r=PG", "display_name": "mahmutoflaz", "link": "https://stackoverflow.com/users/2384806/mahmutoflaz"}, "reply_to_user": {"reputation": 34959, "user_id": 184730, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8ec7cdaaf6fd5ee313cb6228f08cd67c?s=128&d=identicon&r=PG", "display_name": "fastcodejava", "link": "https://stackoverflow.com/users/184730/fastcodejava"}, "edited": false, "score": 0, "creation_date": 1561653948, "post_id": 56781563, "comment_id": 100145572, "body": "Besides, imho, it is not false positive. And sonarqube knows that you have called <code>.forEach()</code> on an object which is return of the method. But since it doesn&#39;t know (and care about) what you did inside this method, it is possible that method to return null object."}, {"owner": {"reputation": 368, "user_id": 2384806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/214614199b758cfe837e7b2bc6a0dba9?s=128&d=identicon&r=PG", "display_name": "mahmutoflaz", "link": "https://stackoverflow.com/users/2384806/mahmutoflaz"}, "reply_to_user": {"reputation": 34959, "user_id": 184730, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8ec7cdaaf6fd5ee313cb6228f08cd67c?s=128&d=identicon&r=PG", "display_name": "fastcodejava", "link": "https://stackoverflow.com/users/184730/fastcodejava"}, "edited": false, "score": 0, "creation_date": 1561654182, "post_id": 56781563, "comment_id": 100145661, "body": "To achieve the best solution for the situation, Imho, you have to check the list before it is iterated by <code>.forEach()</code> and only initialize it when it equals null."}, {"owner": {"reputation": 34959, "user_id": 184730, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8ec7cdaaf6fd5ee313cb6228f08cd67c?s=128&d=identicon&r=PG", "display_name": "fastcodejava", "link": "https://stackoverflow.com/users/184730/fastcodejava"}, "edited": false, "score": 0, "creation_date": 1562017570, "post_id": 56781563, "comment_id": 100237462, "body": "In this case it&#39;ll never throw <code>NullPointerException</code> as <code>getEmptyListForNull</code> will return and empty list even when <code>myResponse</code> is null."}, {"owner": {"reputation": 368, "user_id": 2384806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/214614199b758cfe837e7b2bc6a0dba9?s=128&d=identicon&r=PG", "display_name": "mahmutoflaz", "link": "https://stackoverflow.com/users/2384806/mahmutoflaz"}, "reply_to_user": {"reputation": 34959, "user_id": 184730, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8ec7cdaaf6fd5ee313cb6228f08cd67c?s=128&d=identicon&r=PG", "display_name": "fastcodejava", "link": "https://stackoverflow.com/users/184730/fastcodejava"}, "edited": false, "score": 0, "creation_date": 1562051816, "post_id": 56781563, "comment_id": 100245097, "body": "It will never throw <code>NullPointerException</code>, but since SonarQube doesn&#39;t care what you did inside that method, it is possible a method to return null. You know you are not returning null in any case but sonar can&#39;t know that."}], "tags": [], "owner": {"reputation": 368, "user_id": 2384806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/214614199b758cfe837e7b2bc6a0dba9?s=128&d=identicon&r=PG", "display_name": "mahmutoflaz", "link": "https://stackoverflow.com/users/2384806/mahmutoflaz"}, "is_accepted": false, "score": 3, "last_activity_date": 1561590164, "last_edit_date": 1561590164, "creation_date": 1561587100, "answer_id": 56781563, "question_id": 56781304, "link": "https://stackoverflow.com/questions/56781304/sonar-is-wrongly-reporting-remove-this-expression-which-always-evaluates-to-tru/56781563#56781563", "title": "Sonar is wrongly reporting Remove this expression which always evaluates to &quot;true&quot;", "body": "<p>Actually SonarQube does not know about your function. It is not about your function. It is about forEach().</p>\n\n<p><strong>If you could iterate over a collection with .forEach() without an exception is thrown it means that collection was NOT null.</strong></p>\n\n<pre><code>import java.util.List;\n\npublic class NoFalsePositiveHere{\n\n     public static void main(String []args){\n\n        List&lt;String&gt; nullList = null;\n\n        nullList.forEach(s -&gt; System.out.println(s));\n\n        if(nullList != null){\n            System.out.println(\"Since an exception is already thrown on line 9,\");\n            System.out.println(\"this block is unreachable.\");\n            System.out.println(\"It means that,\");\n            System.out.println(\"if no exception was thrown on line 9,\");\n            System.out.println(\"You could see these lines on console.\");\n        }\n     }\n}\n</code></pre>\n\n<p>If an exception is thrown on line 9, line 11 is not executed.</p>\n\n<p>If there is no exception is thrown on line 9, it means that list was not null.</p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 11312102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/698a7e25fc9354ecb2e13572d04f35b4?s=128&d=identicon&r=PG", "display_name": "Matt Durlin", "link": "https://stackoverflow.com/users/11312102/matt-durlin"}, "is_accepted": false, "score": 0, "last_activity_date": 1561588106, "creation_date": 1561588106, "answer_id": 56781701, "question_id": 56781304, "link": "https://stackoverflow.com/questions/56781304/sonar-is-wrongly-reporting-remove-this-expression-which-always-evaluates-to-tru/56781701#56781701", "title": "Sonar is wrongly reporting Remove this expression which always evaluates to &quot;true&quot;", "body": "<p>A little more clarification on your example would be helpful, but in searching the Sonar docs, <a href=\"https://rules.sonarsource.com/java/type/Bug/RSPEC-1145?search=expression\" rel=\"nofollow noreferrer\">https://rules.sonarsource.com/java/type/Bug/RSPEC-1145?search=expression</a>, I found an example that might closely resemble what you are doing.</p>\n\n<p><a href=\"http://cwe.mitre.org/data/definitions/571.html\" rel=\"nofollow noreferrer\">http://cwe.mitre.org/data/definitions/571.html</a></p>\n\n<p>In the example noted in the link above, there is a variable never set in the method.  Since I am not able to see what your method does, I will guess that Sonar is detecting something similar in your code.</p>\n\n<p>Could you edit your question to provide a little more insight into what your function does, and also verify whether something similar is happening?</p>\n\n<p>I apologize for not simply commenting; my reputation does not allow for that, but wanted to also provide links to documentation sites since most often good suggestions and answers can be found there. </p>\n"}], "owner": {"reputation": 34959, "user_id": 184730, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8ec7cdaaf6fd5ee313cb6228f08cd67c?s=128&d=identicon&r=PG", "display_name": "fastcodejava", "link": "https://stackoverflow.com/users/184730/fastcodejava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1242, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1562563386, "creation_date": 1561585414, "last_edit_date": 1562563386, "question_id": 56781304, "link": "https://stackoverflow.com/questions/56781304/sonar-is-wrongly-reporting-remove-this-expression-which-always-evaluates-to-tru", "title": "Sonar is wrongly reporting Remove this expression which always evaluates to &quot;true&quot;", "body": "<p>If I have this code sonar does not complain :</p>\n\n<pre><code>if (null != myResponse) {\n     // some code\n}\n</code></pre>\n\n<p>But if I put one line of code above </p>\n\n<pre><code>getEmptyListForNull(myResponse).forEach(this::method);\n</code></pre>\n\n<p>Then sonar reports this weird error. How does sonar know what <code>getEmptyListForNull</code> does and that does not matter.</p>\n\n<p>Obviously sonar is thinking the code is like:</p>\n\n<pre><code>myResponse.forEach(this::method);\n</code></pre>\n\n<p>The method <code>getEmptyListForNull</code> is a simple method that does a <code>null</code> check and  returns an empty list if it is so. There is no other annotation or anything fancy.</p>\n"}, {"tags": ["java", "spring", "spring-boot", "spring-security"], "comments": [{"owner": {"reputation": 6419, "user_id": 1840146, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/846e219cba64c80b7b0398b239cd4db9?s=128&d=identicon&r=PG", "display_name": "Toerktumlare", "link": "https://stackoverflow.com/users/1840146/toerktumlare"}, "edited": false, "score": 0, "creation_date": 1561598706, "post_id": 56781171, "comment_id": 100120199, "body": "you can first read how to define authorized requests: <a href=\"https://docs.spring.io/spring-security/site/docs/5.2.0.M3/reference/htmlsingle/#jc-authorize-requests\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/5.2.0.M3/reference/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 1, "creation_date": 1561618467, "post_id": 56781171, "comment_id": 100125093, "body": "Add <code>@EnableWebSecurity</code> to your <code>ProvisioningServiceSecurityConfiguration</code> that way the defaults of Spring Boot don&#39;t apply (they do now and you extend on them). This also means you would have to configure the <code>AuthenticationManager</code> instead of using the Spring Boot one."}], "answers": [{"comments": [{"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1561618389, "post_id": 56782867, "comment_id": 100125056, "body": "Your explanation is wrong. The first <code>antMatcher</code> elements limit the URLs to which this configuration applies. To other requests it doesn&#39;t apply, could be that you meant to explain that but that doesn&#39;t come across."}, {"owner": {"reputation": 367, "user_id": 10345277, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cT5TIlorwtE/AAAAAAAAAAI/AAAAAAAAA4c/4HvnTmU2FRE/photo.jpg?sz=128", "display_name": "\uc724\ud604\uad6c", "link": "https://stackoverflow.com/users/10345277/%ec%9c%a4%ed%98%84%ea%b5%ac"}, "reply_to_user": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1561619655, "post_id": 56782867, "comment_id": 100125672, "body": "@M.Deinum You are right. Then the first time antMatcher is limted, it does not specify how to limit it, but if you know, can you tell me?"}], "tags": [], "owner": {"reputation": 367, "user_id": 10345277, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cT5TIlorwtE/AAAAAAAAAAI/AAAAAAAAA4c/4HvnTmU2FRE/photo.jpg?sz=128", "display_name": "\uc724\ud604\uad6c", "link": "https://stackoverflow.com/users/10345277/%ec%9c%a4%ed%98%84%ea%b5%ac"}, "is_accepted": false, "score": 0, "last_activity_date": 1561619771, "last_edit_date": 1561619771, "creation_date": 1561599952, "answer_id": 56782867, "question_id": 56781171, "link": "https://stackoverflow.com/questions/56781171/unable-to-understand-the-behavior-of-spring-security/56782867#56782867", "title": "Unable to understand the behavior of Spring security", "body": "<p>1) Spring Security has a function to control access by filtering by Authorities(after Authentication), but there is no function to filter by the information required for login. You need business logic to verify that you are attempting to log in with the corresponding ID and password during login.</p>\n\n<p>2) As mentioned above, access control with ID and password is not provided.\nI recommend creating Authorities for only the two accounts you requested.</p>\n\n<p>3) <code>.antMatcher(\"/form\").permitAll()</code></p>\n"}], "owner": {"reputation": 1458, "user_id": 902423, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ef7c673038f280c4c3ba94ab74f5fba4?s=128&d=identicon&r=PG", "display_name": "Raveesh Sharma", "link": "https://stackoverflow.com/users/902423/raveesh-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561619771, "creation_date": 1561584798, "last_edit_date": 1561586863, "question_id": 56781171, "link": "https://stackoverflow.com/questions/56781171/unable-to-understand-the-behavior-of-spring-security", "title": "Unable to understand the behavior of Spring security", "body": "<p>I am using spring boot 2.1.4 with dependencies of actuator. I wanted to configure separate authentication and authorization mechanisms for actuator and my application. I read the <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#multiple-httpsecurity\" rel=\"nofollow noreferrer\">Multiple HttpSecurity</a> and configured my WebSecurityAdapter as follows: </p>\n\n<pre><code>@Configuration\npublic class ProvisioningServiceSecurityConfiguration {\n\n  @Value(\"${actuator.user.name}\")\n  private String actuatorUserName;\n\n  @Value(\"${actuator.password}\")\n  private String actuatorPassword;\n\n  @Value(\"${actuator.role}\")\n  private String actuatorRole;\n\n  @Bean\n  public UserDetailsService userDetailsService() throws Exception {\n    // ensure the passwords are encoded properly\n    UserBuilder users = User.withDefaultPasswordEncoder();\n    InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\n    manager.createUser(users.username(\"user\").password(\"password\").roles(\"ADMIN\").build());\n    manager.createUser(\n        users.username(actuatorUserName).password(actuatorPassword).roles(actuatorRole).build());\n    return manager;\n  }\n\n  @Configuration\n  @Order(1)\n  public static class ApiWebSecurityConfigurationAdapter extends WebSecurityConfigurerAdapter {\n\n    protected void configure(HttpSecurity http) throws Exception {\n      http\n          .antMatcher(\"/locations/**\")\n          .antMatcher(\"/organizations/**\")\n          .antMatcher(\"/productTypes/**\")\n          .authorizeRequests()\n          .anyRequest().hasRole(\"ADMIN\")\n          .and()\n          .httpBasic();\n    }\n  }\n\n  @Configuration\n  @Order(2)\n  public static class ActuatorWebSecurityConfigurationAdapter extends WebSecurityConfigurerAdapter {\n\n    protected void configure(HttpSecurity http) throws Exception {\n      http\n          .antMatcher(\"/manage/**\")\n          .authorizeRequests()\n          .anyRequest().hasRole(\"ACTUATOR_ADMIN\")\n          .and()\n          .httpBasic();\n    }\n  }\n\n  /*@Configuration\n  public static class FormLoginWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n      http\n          .authorizeRequests()\n          .anyRequest().authenticated()\n          .and()\n          .formLogin();\n    }\n  }*/\n\n}\n</code></pre>\n\n<p>Note: I have disabled form Login temporarily </p>\n\n<p>When I run a curl request </p>\n\n<pre><code>curl -XGET  http://localhost:9797/provisioningService/organizations/all\n</code></pre>\n\n<p>I am able to see the output. Its as though the spring security never existed. When I enable form login, I get the spring login screen. The other behavior that I observed is if I interchange the username and password of /locations with the actuator username and password, I still get a valid response back. </p>\n\n<p>I understand the form login is more of a fallback but I want to disable the form login (probably we may move to cas) and use authentication and authorization only based on the spring security httpBasic. I am not able to understand the mistake I am making. </p>\n\n<p>My requirement is finally : </p>\n\n<p>1) a request to /organizations or /locations etc should be accessible only if the username password is \"user\" and \"password\"</p>\n\n<p>2) a request to /manage which is the actuator api should be accessible only if the username and password and role matches with the actuator username and password. </p>\n\n<p>3) Any other API can be permitAll  / form login</p>\n\n<p>How do i go about achieving this? </p>\n"}, {"tags": ["java", "flume"], "answers": [{"tags": [], "owner": {"reputation": 1495, "user_id": 6246107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/139889820052d02ab40c3a3db5aa3f33?s=128&d=identicon&r=PG&f=1", "display_name": "Kenry Sanchez", "link": "https://stackoverflow.com/users/6246107/kenry-sanchez"}, "is_accepted": false, "score": 0, "last_activity_date": 1587540650, "creation_date": 1587540650, "answer_id": 61359538, "question_id": 56781153, "link": "https://stackoverflow.com/questions/56781153/how-to-implement-custom-sink-for-a-embedded-flume-agent/61359538#61359538", "title": "How to implement Custom Sink for a Embedded Flume Agent?", "body": "<p>this means that for embedded agent you just can use <code>AvroSink</code> as a custom sink. However, there are some techniques you can use to collect data from an external source using custom components:</p>\n\n<ul>\n<li><p>Create a custom client that is capable of establishing communication with Flume source that exists in prior, like <code>AvroSources</code> or <code>SyslogTcpSource</code>.</p></li>\n<li><p>Create a custom flume source having direct communication with a preexisting client through an IPC or RPC protocol.</p></li>\n</ul>\n\n<p>I hope this answer is not too late and can help you with something. Thanks for Reading!!</p>\n"}], "owner": {"reputation": 81, "user_id": 5666600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b94bee4f614a9731cc68e7432220aa38?s=128&d=identicon&r=PG&f=1", "display_name": "RAPTOR3", "link": "https://stackoverflow.com/users/5666600/raptor3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1587540650, "creation_date": 1561584718, "last_edit_date": 1561643234, "question_id": 56781153, "link": "https://stackoverflow.com/questions/56781153/how-to-implement-custom-sink-for-a-embedded-flume-agent", "title": "How to implement Custom Sink for a Embedded Flume Agent?", "body": "<p>I am building a spring boot standalone application that needs to consume messages from a remote server and write them to a <code>Syslog Server</code>. I am using Flume embedded agent to reliably log messages. But I am getting following error.</p>\n\n<blockquote>\n  <p>Caused by: org.apache.flume.FlumeException: Component type of\n  com.security.flume.sink.SyslogSink is not in allowed types of\n  [AVRO]    at\n  org.apache.flume.agent.embedded.EmbeddedAgentConfiguration.checkAllowed(EmbeddedAgentConfiguration.java:308)\n  ~[flume-ng-embedded-agent-1.9.0.jar:1.9.0]    at\n  org.apache.flume.agent.embedded.EmbeddedAgentConfiguration.validate(EmbeddedAgentConfiguration.java:182)\n  ~[flume-ng-embedded-agent-1.9.0.jar:1.9.0]    at\n  org.apache.flume.agent.embedded.EmbeddedAgentConfiguration.configure(EmbeddedAgentConfiguration.java:199)\n  ~[flume-ng-embedded-agent-1.9.0.jar:1.9.0]    at\n  org.apache.flume.agent.embedded.EmbeddedAgent.doConfigure(EmbeddedAgent.java:151)\n  ~[flume-ng-embedded-agent-1.9.0.jar:1.9.0]    at\n  org.apache.flume.agent.embedded.EmbeddedAgent.configure(EmbeddedAgent.java:98)\n  ~[flume-ng-embedded-agent-1.9.0.jar:1.9.0]</p>\n</blockquote>\n\n<p><strong>As per the documentation <code>Embedded Agent</code> only supports <code>Avro Sink</code>. Does it mean we can not even write a custom sink?</strong> </p>\n\n<p>I am fairly new to Flume. I really appreciate your help on this issue. </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["java", "rest", "spring-boot", "redirect", "error-handling"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1561585017, "post_id": 56781120, "comment_id": 100117391, "body": "A restful API doesn&#39;t return pages. It returns data. In your case, it should return a 400 Bad Request response. And the frontend (which would typically be written in JavaScript and send AJAX requests) would simply intercept this response, show an error to the user, and would simply stay on the same page."}], "answers": [{"tags": [], "owner": {"reputation": 4039, "user_id": 7887516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4570de3bf004dca0f8497882cd311a59?s=128&d=identicon&r=PG&f=1", "display_name": "Ananthapadmanabhan", "link": "https://stackoverflow.com/users/7887516/ananthapadmanabhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1561617075, "creation_date": 1561617075, "answer_id": 56785172, "question_id": 56781120, "link": "https://stackoverflow.com/questions/56781120/how-can-i-show-the-same-page-a-form-of-inputs-with-the-errors-in-a-restfull-ap/56785172#56785172", "title": "How can I show the same page (a form of inputs) with the errors in a restfull api in java?", "body": "<p>You could return the error response from your REST endpoint and handle it in your javascript.</p>\n\n<p>For rest api practices and how to return error code read <a href=\"https://blog.restcase.com/rest-api-error-codes-101/\" rel=\"nofollow noreferrer\">DOC</a>.</p>\n\n<p>Suppose you have a form  and have a div to show the error .You could do something like the following in your javascript to show the error in the error div whenever an error message is returned from the rest endpoint, or have message according to the response status.</p>\n\n<pre><code>&lt;span id=\"errorDiv\"&gt;&lt;/span&gt;\n....\n\n&lt;form&gt;\n\n&lt;/form&gt;\n\njQuery(\"#save\").click(function () {\n  if (jQuery('#form').jVal()) {\n    jQuery.ajax({\n      type: \"POST\",\n      url: \"save\",\n      dataType: \"html\",\n      data: formData,\n      success: function (response) {\n        jQuery(\"#usergrid\").trigger(\"successMessageId\");\n        clear();\n        alert(\"Details saved successfully!!!\");\n      },\n    error: function (jqXHR, exception) {\n     var msg = '';\n     if (jqXHR.status === 0) {\n         msg = 'Not connect.\\n Verify Network.';\n     } else if (jqXHR.status == 404) {\n         msg = 'Requested page not found. [404]';\n     } else if (jqXHR.status == 500) {\n         msg = 'Internal Server Error [500].';\n     } else if (exception === 'parsererror') {\n         msg = 'Requested JSON parse failed.';\n     } else if (exception === 'timeout') {\n         msg = 'Time out error.';\n     } else if (exception === 'abort') {\n         msg = 'Ajax request aborted.';\n     } else {\n         msg = 'Uncaught Error.\\n' + jqXHR.responseText;\n    }\n   $(\"#errorDiv\").html(msg);\n   },\n      }\n    });\n  }\n});\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11666944, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0fjBreBPQww/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfzo_8DjjEXgGXfLOU7k34LvyACLA/mo/photo.jpg?sz=128", "display_name": "Anastasios Sotiriou", "link": "https://stackoverflow.com/users/11666944/anastasios-sotiriou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561617075, "creation_date": 1561584482, "question_id": 56781120, "link": "https://stackoverflow.com/questions/56781120/how-can-i-show-the-same-page-a-form-of-inputs-with-the-errors-in-a-restfull-ap", "title": "How can I show the same page (a form of inputs) with the errors in a restfull api in java?", "body": "<p>I have an input form which has many inputs.When click the submit button I want to save the data to my mongodb but check first if the name exist or not.If exist I don't want to save the data and redirect the same page with the error (ex.This product code you insert is alredy exist.Please insert a different one) but I don t want to use spring form because I want my backent to be restfull and be independent of the front end.So my question is how to do that without using the \"spring form and jsp manner\".</p>\n"}, {"tags": ["java", "unit-testing", "mockito"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1561584492, "post_id": 56781069, "comment_id": 100117223, "body": "And what&#39;s the problem with your code?"}, {"owner": {"reputation": 1750, "user_id": 2924784, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ac14bc747179919c97405d6e52f30941?s=128&d=identicon&r=PG&f=1", "display_name": "orirab", "link": "https://stackoverflow.com/users/2924784/orirab"}, "edited": false, "score": 1, "creation_date": 1561585327, "post_id": 56781069, "comment_id": 100117478, "body": "just a BTW, you only added the first part of the error message, if you look at all of it it explicitly says that you wanted 1 time but it was called 3 times"}], "answers": [{"tags": [], "owner": {"reputation": 1750, "user_id": 2924784, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ac14bc747179919c97405d6e52f30941?s=128&d=identicon&r=PG&f=1", "display_name": "orirab", "link": "https://stackoverflow.com/users/2924784/orirab"}, "is_accepted": true, "score": 3, "last_activity_date": 1561584747, "creation_date": 1561584747, "answer_id": 56781158, "question_id": 56781069, "link": "https://stackoverflow.com/questions/56781069/verifying-the-order-of-multiple-methods-call-using-mockito/56781158#56781158", "title": "verifying the order of multiple methods call using Mockito", "body": "<p>Your verifications should be like this:</p>\n\n<pre><code>        inOrder.verify(mockedPerson, times(3)).getAge();\n        inOrder.verify(mockedPerson, times(3)).getName();\n</code></pre>\n\n<p>If you had more calls in the test, it should be this way:</p>\n\n<pre><code>    @Test\n    public void testFive(){\n        Person mockedPerson = Mockito.mock(Person.class);\n        Mockito.when(mockedPerson.getAge()).thenReturn(1,2,3,4);\n        Mockito.when(mockedPerson.getName()).thenReturn(\"1\",\"2\",\"3\");\n\n        InOrder inOrder = Mockito.inOrder(mockedPerson);\n\n        mockedPerson.getAge();\n        mockedPerson.getAge();\n        mockedPerson.getAge();\n\n        mockedPerson.getName();\n        mockedPerson.getName();\n        mockedPerson.getName();\n\n        mockedPerson.getAge();\n\n\n        inOrder.verify(mockedPerson, times(3)).getAge();\n        inOrder.verify(mockedPerson, times(3)).getName();\n        inOrder.verify(mockedPerson, times(1)).getAge();\n    }\n</code></pre>\n\n<p>What happens is that calling verify with no second argument verifies 1 call only (as if you wrote <code>times(1)</code>), and since you called 3 times it fails.</p>\n\n<p>This is why I like to always add the <code>times(x)</code>, it makes things explicit.</p>\n"}], "owner": {"reputation": 1436, "user_id": 2154359, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/cbcb885163f3112cbd223bdd88651471?s=128&d=identicon&r=PG", "display_name": "xmen-5", "link": "https://stackoverflow.com/users/2154359/xmen-5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "accepted_answer_id": 56781158, "answer_count": 1, "score": 3, "last_activity_date": 1561584747, "creation_date": 1561584175, "last_edit_date": 1561584723, "question_id": 56781069, "link": "https://stackoverflow.com/questions/56781069/verifying-the-order-of-multiple-methods-call-using-mockito", "title": "verifying the order of multiple methods call using Mockito", "body": "<p>I have a class Person that has two values, age and name, I'm doing some tests using Mockito for learning purpose.</p>\n\n<p>My test method looks like:</p>\n\n<pre><code>        @Test()\n        public void testFive(){\n            Person mockedPerson = Mockito.mock(Person.class);\n            Mockito.when(mockedPerson.getAge()).thenReturn(1,2,3);\n            Mockito.when(mockedPerson.getName()).thenReturn(\"1\",\"2\",\"3\");\n\n            InOrder inOrder = Mockito.inOrder(mockedPerson);\n\n            mockedPerson.getAge();\n            mockedPerson.getAge();\n            mockedPerson.getAge();\n\n            mockedPerson.getName();\n            mockedPerson.getName();\n            mockedPerson.getName();\n\n            inOrder.verify(mockedPerson).getAge();\n            inOrder.verify(mockedPerson).getAge();\n            inOrder.verify(mockedPerson).getAge();\n            inOrder.verify(mockedPerson).getName();\n            inOrder.verify(mockedPerson).getName();\n            inOrder.verify(mockedPerson).getName();\n        }\n</code></pre>\n\n<p>I need to test that the getAge() method was called three times, and followed by three call to the getName() method.</p>\n\n<p>I'm getting this exception: </p>\n\n<blockquote>\n  <p>org.mockito.exceptions.verification.VerificationInOrderFailure: \n  Verification in order failure: person.getAge(); Wanted 1 time:</p>\n</blockquote>\n"}, {"tags": ["java", "maven"], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 6123774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2U3a.png?s=128&g=1", "display_name": "Vrangz", "link": "https://stackoverflow.com/users/6123774/vrangz"}, "edited": false, "score": 0, "creation_date": 1561585427, "post_id": 56781078, "comment_id": 100117501, "body": "I cannot build it with command ./mvn install:install-file -Dfile=jimObjModelImporterJFX.jar -DgroupId=com.interactivemesh -DartifactId=jfx -Dversion=1.0 -Dpackagin=jar because I have an error The artifact information is incomplete or not valid:  [0]  &#39;packaging&#39; is missing."}, {"owner": {"reputation": 175, "user_id": 6123774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2U3a.png?s=128&g=1", "display_name": "Vrangz", "link": "https://stackoverflow.com/users/6123774/vrangz"}, "edited": false, "score": 0, "creation_date": 1561586516, "post_id": 56781078, "comment_id": 100117812, "body": "I found out that -Dpackaging should be before -Dversion, then it works"}, {"owner": {"reputation": 175, "user_id": 6123774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2U3a.png?s=128&g=1", "display_name": "Vrangz", "link": "https://stackoverflow.com/users/6123774/vrangz"}, "edited": false, "score": 0, "creation_date": 1561586649, "post_id": 56781078, "comment_id": 100117834, "body": "everything works fine now with my building task etc. Thanks!"}, {"owner": {"reputation": 15049, "user_id": 1030974, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8c298802a4b4aa3d68217b3dc7ccd529?s=128&d=identicon&r=PG", "display_name": "devnull69", "link": "https://stackoverflow.com/users/1030974/devnull69"}, "reply_to_user": {"reputation": 175, "user_id": 6123774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2U3a.png?s=128&g=1", "display_name": "Vrangz", "link": "https://stackoverflow.com/users/6123774/vrangz"}, "edited": false, "score": 0, "creation_date": 1561639297, "post_id": 56781078, "comment_id": 100136812, "body": "The order of command line options is not relevant. But it seems like you misspelled &quot;packagin<b>g</b>&quot; as &quot;packagin&quot; in your first comment"}], "tags": [], "owner": {"reputation": 15049, "user_id": 1030974, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8c298802a4b4aa3d68217b3dc7ccd529?s=128&d=identicon&r=PG", "display_name": "devnull69", "link": "https://stackoverflow.com/users/1030974/devnull69"}, "is_accepted": false, "score": 2, "last_activity_date": 1561584238, "creation_date": 1561584238, "answer_id": 56781078, "question_id": 56780995, "link": "https://stackoverflow.com/questions/56780995/unable-to-add-external-jar-into-application-jar-file/56781078#56781078", "title": "Unable to add external jar into application jar file", "body": "<p><code>system</code> dependencies will never end up in the resulting jar by definition. They are supposed to be explicitly provided.</p>\n\n<p>You can add the jar to your local .m2 repository using the maven command line util <code>mvn</code> like this</p>\n\n<pre><code>mvn install:install-file -Dfile=&lt;path-to-jar-file&gt; \\\n                         -DgroupId=&lt;yourGroupId&gt; \\\n                         -DartifactId=&lt;yourArtifactId&gt; \\\n                         -Dversion=&lt;yourVersion&gt; \\\n                         -Dpackaging=jar\n</code></pre>\n\n<p>and then use the \"normal\" dependency notation</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;yourGroupId&lt;/groupId&gt;\n        &lt;artifactId&gt;yourArtifactId&lt;/artifactId&gt;\n        &lt;version&gt;yourVersion&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 6123774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2U3a.png?s=128&g=1", "display_name": "Vrangz", "link": "https://stackoverflow.com/users/6123774/vrangz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561584238, "creation_date": 1561583761, "question_id": 56780995, "link": "https://stackoverflow.com/questions/56780995/unable-to-add-external-jar-into-application-jar-file", "title": "Unable to add external jar into application jar file", "body": "<p>I use external jar <code>jimObjModelImporterJFX.jar</code>, because it's not hosted on Maven repository and I'm adding it with maven dependency like below</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;jimObjModelImporterJFX&lt;/groupId&gt;\n        &lt;artifactId&gt;jimObjModelImporterJFX&lt;/artifactId&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n        &lt;systemPath&gt;${path}&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>I could not add it in IntelliJ by <code>Project Structure</code> -> <code>Modules</code> -> <code>Dependencies</code> -> <code>+</code> because later on I'd have errors during maven task.</p>\n\n<p>Then I have plugin to add dependencies (but it's not adding and I don't know why, but on other topics people say that it should)</p>\n\n<pre><code>    &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;myMainClass&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>After that I run maven task <code>clean compile assembly:single</code> and when it's done I have a <code>jar</code> in <code>target</code> folder.</p>\n\n<p>When I run it from cmd I have an error </p>\n\n<pre><code>Caused by: java.lang.ClassNotFoundException: com.interactivemesh.jfx.importer.ImportException\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    ... 22 more\n</code></pre>\n\n<p>It's because my application jar file doesn't contains this library inside. Structure is like:\narchive\n|-groupid.artifactid (.class files here)\n|-layouts (with .fxml file because it's javaFX app)\n|-META-INF (with MANIFEST.MF)</p>\n\n<p>How to put this <code>jimObjModelImporterJFX.jar</code> into my app?</p>\n"}, {"tags": ["java", "android", "android-audiomanager"], "answers": [{"tags": [], "owner": {"reputation": 6704, "user_id": 746308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/212830a5147715a4605408e4a32388c8?s=128&d=identicon&r=PG", "display_name": "NikhilReddy", "link": "https://stackoverflow.com/users/746308/nikhilreddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1561602256, "creation_date": 1561602256, "answer_id": 56783091, "question_id": 56780986, "link": "https://stackoverflow.com/questions/56780986/how-to-mute-only-incoming-calls-ring-and-not-mute-the-sms-messages/56783091#56783091", "title": "How to mute only incoming calls ring and not mute the sms messages", "body": "<p>You need to use below lines of code </p>\n\n<pre><code>audioManager.setRingerMode(AudioManager.RINGER_MODE_SILENT);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11705389, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Jgzx1Zj1MUY/AAAAAAAAAAI/AAAAAAAAAHE/6wD-XK3wmas/photo.jpg?sz=128", "display_name": "israel genzel", "link": "https://stackoverflow.com/users/11705389/israel-genzel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561618679, "creation_date": 1561583678, "last_edit_date": 1561618679, "question_id": 56780986, "link": "https://stackoverflow.com/questions/56780986/how-to-mute-only-incoming-calls-ring-and-not-mute-the-sms-messages", "title": "How to mute only incoming calls ring and not mute the sms messages", "body": "<p>how to mute only incoming calls ring and not sms messages and oppesite-mute only sms messages</p>\n\n<p>i tried to use audioManager.setStreamVolume() like</p>\n\n<pre><code>audioManager = (AudioManager)this.getSystemService(Context.AUDIO_SERVICE);\nswitch (mode){\n               case CALLS:\n                   audioManager.setStreamVolume(AudioManager.STREAM_RING,AudioManager.ADJUST_MUTE,0);\n                   break;\n               case MSGS:\n                   audioManager.setStreamVolume(AudioManager.STREAM_NOTIFICATION,AudioManager.ADJUST_MUTE,0);\n                   break;\n               case CALLS_AND_MSGS:\n                   audioManager.setStreamVolume(AudioManager.STREAM_RING,AudioManager.ADJUST_MUTE,0);\n                   audioManager.setStreamVolume(AudioManager.STREAM_NOTIFICATION,AudioManager.ADJUST_MUTE,0);\n                   break;\n\n           }\n</code></pre>\n\n<p>in all cases both incoming calls and sms messages were mute</p>\n"}, {"tags": ["java", "c#", "stanford-nlp", "translate"], "answers": [{"comments": [{"owner": {"reputation": 838, "user_id": 862427, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/866dd9f4bd43830ca0e530a5f2df2994?s=128&d=identicon&r=PG", "display_name": "Ric Gaudet", "link": "https://stackoverflow.com/users/862427/ric-gaudet"}, "edited": false, "score": 0, "creation_date": 1562700795, "post_id": 56781290, "comment_id": 100456920, "body": "I could only get the code to compile and <code>sentences</code> to populate by using the <code>var</code> type."}], "tags": [], "owner": {"reputation": 5724, "user_id": 1655674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1440c2e508496b3e95684461a6ba6a95?s=128&d=identicon&r=PG", "display_name": "Dave Doknjas", "link": "https://stackoverflow.com/users/1655674/dave-doknjas"}, "is_accepted": true, "score": 2, "last_activity_date": 1561585338, "creation_date": 1561585338, "answer_id": 56781290, "question_id": 56780948, "link": "https://stackoverflow.com/questions/56780948/stanford-nlp-java-method-translation-issue/56781290#56781290", "title": "Stanford NLP Java Method Translation Issue", "body": "<p>In general, Java Foo.class translates to C# typeof(Foo), so C# should accept the following:</p>\n\n<pre><code>IList&lt;CoreMap&gt; sentences = annotation.get(typeof(SentencesAnnotation));\n</code></pre>\n"}], "owner": {"reputation": 838, "user_id": 862427, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/866dd9f4bd43830ca0e530a5f2df2994?s=128&d=identicon&r=PG", "display_name": "Ric Gaudet", "link": "https://stackoverflow.com/users/862427/ric-gaudet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 56781290, "answer_count": 1, "score": 0, "last_activity_date": 1561585338, "creation_date": 1561583491, "question_id": 56780948, "link": "https://stackoverflow.com/questions/56780948/stanford-nlp-java-method-translation-issue", "title": "Stanford NLP Java Method Translation Issue", "body": "<p>I'm using the Stanford NLP tools in C#, via the IKVM Java interface.  Also getting ideas from <a href=\"https://sergey-tihon.github.io/Stanford.NLP.NET/StanfordCoreNLP.html\" rel=\"nofollow noreferrer\">https://sergey-tihon.github.io/Stanford.NLP.NET/StanfordCoreNLP.html</a></p>\n\n<pre><code>String text = \"This is a test sentence.\";\nvar props = new Properties();\nprops.setProperty(\"annotators\", \"tokenize, ssplit, pos, parse\");\nvar curDir = Environment.CurrentDirectory;\nDirectory.SetCurrentDirectory(modelsDirectory);\nvar pipeline = new StanfordCoreNLP(props);\nDirectory.SetCurrentDirectory(curDir);\nvar annotation = new Annotation(text);\npipeline.annotate(annotation);\n</code></pre>\n\n<p>This code works fine to get my <code>Annotation</code>.  However, when I try to access the annotation to extract various entities in the annotation, I run into trouble. Using code from this: <a href=\"https://stackoverflow.com/questions/9492707/how-can-i-split-a-text-into-sentences-using-the-stanford-parser\">How can I split a text into sentences using the Stanford parser?</a>      </p>\n\n<pre><code>List&lt;CoreMap&gt; sentences = annotation.get(SentencesAnnotation.class);\n</code></pre>\n\n<p>Not clear how to translate <code>SentencesAnnotation.class</code> into something that C# will accept. </p>\n"}, {"tags": ["java", "multithreading", "threadpool", "executorservice", "blockingqueue"], "answers": [{"comments": [{"owner": {"reputation": 1107, "user_id": 583616, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/pQw45.jpg?s=128&g=1", "display_name": "Devology Ltd", "link": "https://stackoverflow.com/users/583616/devology-ltd"}, "edited": false, "score": 0, "creation_date": 1561751252, "post_id": 56782164, "comment_id": 100179135, "body": "Thanks Trevor - I&#39;m going to try that GitHub project over the weekend, I note there&#39;s one open issue that anyone else planning on using it should bear in mind - the solution is in the issue itself anyway."}], "tags": [], "owner": {"reputation": 6652, "user_id": 1074041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdffa67a952f13f25de129939c16e6a1?s=128&d=identicon&r=PG", "display_name": "Trevor Freeman", "link": "https://stackoverflow.com/users/1074041/trevor-freeman"}, "is_accepted": false, "score": 0, "last_activity_date": 1561592103, "creation_date": 1561592103, "answer_id": 56782164, "question_id": 56780938, "link": "https://stackoverflow.com/questions/56780938/executorservice-with-a-fixed-sized-thread-pool-how-to-block-any-more-tasks-bei/56782164#56782164", "title": "ExecutorService with a fixed sized thread pool - how to block any more tasks being added until the pool size has space", "body": "<p>One method to handle this is to startup your own consumer threads that run against your own <code>BlockingQueue</code>, avoiding the use of an <code>ExecutorService</code> altogether.  I.e. declare an <code>ArrayBlockingQueue</code> with capacity of 50 and have a producer thread offering/putting elements to it (which will block when the queue is full) and the consumer threads pulling from it and doing the necessary work.</p>\n\n<p>Alternatively there is an implementation of <code>ThreadPoolExecutor</code> which does what you want by adding a custom <code>RejectedTaskHandler</code> to adding blocking behavior to the <code>execute</code> call.  See <a href=\"https://github.com/USGS-CIDA/glri-afinch/blob/master/glri-afinch-util/src/main/java/org/java/util/concurrent/NotifyingBlockingThreadPoolExecutor.java\" rel=\"nofollow noreferrer\">NotifyingBlockingThreadPoolExecutor on github</a>.  I can't vouch for its quality but it should do exactly what you need.</p>\n"}], "owner": {"reputation": 1107, "user_id": 583616, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/pQw45.jpg?s=128&g=1", "display_name": "Devology Ltd", "link": "https://stackoverflow.com/users/583616/devology-ltd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "closed_date": 1561627890, "answer_count": 1, "score": 2, "last_activity_date": 1561592103, "creation_date": 1561583426, "question_id": 56780938, "link": "https://stackoverflow.com/questions/56780938/executorservice-with-a-fixed-sized-thread-pool-how-to-block-any-more-tasks-bei", "closed_reason": "Duplicate", "title": "ExecutorService with a fixed sized thread pool - how to block any more tasks being added until the pool size has space", "body": "<p>My current implementation counts how many tasks are added to the pool and decrements when the complete their task.</p>\n\n<p>I then tell the main code to repeat + sleep until the active tasks drop below the thread pool size before I add another task.</p>\n\n<p>I feel there must be a better way?</p>\n\n<p>I do not want the tasks placed in a queue, but I would happily wait for the pool to tell me it\u2019s ready to receive more tasks.</p>\n\n<p>For background, I have a web-service that I wish to invoke and it involves around 150,000 HTTP calls, I plan to do 50 at a time until the full 150,000 calls have been completed, this is why I can\u2019t queue all tasks as I will exhaust my RAM.</p>\n\n<p>I do not want any blocking to be on a timeout - I\u2019m happy to wait as long as necessary for the thread pool to have space for new tasks.</p>\n\n<p>Any suggestions on how this can be achieved?</p>\n"}, {"tags": ["java", "android"], "comments": [{"owner": {"reputation": 611, "user_id": 2927957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/007390cec049f0464b9fd7b21214f5f1?s=128&d=identicon&r=PG", "display_name": "isstiaung", "link": "https://stackoverflow.com/users/2927957/isstiaung"}, "edited": false, "score": 0, "creation_date": 1561583819, "post_id": 56780909, "comment_id": 100117005, "body": "The error indicates that there is a problem in the xml layout for your MainActivity, can you share the xml here?"}, {"owner": {"reputation": 1734, "user_id": 11555065, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--L0r5gTglDU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reu3uDuixeVthoBtPm9Z0JvHQn1kg/mo/photo.jpg?sz=128", "display_name": "DHAVAL ASODARIYA", "link": "https://stackoverflow.com/users/11555065/dhaval-asodariya"}, "edited": false, "score": 0, "creation_date": 1561610709, "post_id": 56780909, "comment_id": 100122355, "body": "post code of your activity_main.xml here."}, {"owner": {"reputation": 1349, "user_id": 11702000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef8b88ecd35b05ea2f7fb273752bc62b?s=128&d=identicon&r=PG&f=1", "display_name": "Software Person", "link": "https://stackoverflow.com/users/11702000/software-person"}, "edited": false, "score": 0, "creation_date": 1561631368, "post_id": 56780909, "comment_id": 100132303, "body": "Have you included the correct version of the support library in your gradle build config?"}], "answers": [{"tags": [], "owner": {"reputation": 218, "user_id": 7986379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9bdab3f94a6ffa3eb5a9c2485f562f?s=128&d=identicon&r=PG&f=1", "display_name": "Hosein Haqiqian", "link": "https://stackoverflow.com/users/7986379/hosein-haqiqian"}, "is_accepted": false, "score": 0, "last_activity_date": 1561583962, "creation_date": 1561583962, "answer_id": 56781028, "question_id": 56780909, "link": "https://stackoverflow.com/questions/56780909/app-wont-open-keep-getting-the-below-error-in-logcat/56781028#56781028", "title": "App won&#39;t open keep getting the below error in LogCat", "body": "<p>There is something wrong with your TextInputLayout Widget in mainActivity xml,Line 20.\nshare that widget code lines please.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11705386, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EGYwdAysMMA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcSQ0w21HnO9A6H7EpaYobsD6rhaQ/photo.jpg?sz=128", "display_name": "Major Project", "link": "https://stackoverflow.com/users/11705386/major-project"}, "is_accepted": false, "score": 0, "last_activity_date": 1561627622, "creation_date": 1561627622, "answer_id": 56787982, "question_id": 56780909, "link": "https://stackoverflow.com/questions/56780909/app-wont-open-keep-getting-the-below-error-in-logcat/56787982#56787982", "title": "App won&#39;t open keep getting the below error in LogCat", "body": "<pre><code>thanks, here is the code for TextInputLayout Widget in MainActivity xml\n\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.wapptech.fbgooglelogin.MainActivity\"&gt;\n\n    &lt;LinearLayout\n        android:orientation=\"vertical\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:paddingTop=\"56dp\"\n        android:paddingLeft=\"24dp\"\n        android:paddingRight=\"24dp\"&gt;\n\n\n\n        &lt;!-- Email Label --&gt;\n        &lt;android.support.design.widget.TextInputLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"8dp\"\n            android:layout_marginBottom=\"8dp\"&gt;\n            &lt;EditText android:id=\"@+id/input_email\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:inputType=\"textEmailAddress\"\n                android:hint=\"Email\" /&gt;\n        &lt;/android.support.design.widget.TextInputLayout&gt;\n\n        &lt;!-- Password Label --&gt;\n        &lt;android.support.design.widget.TextInputLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"8dp\"\n            android:layout_marginBottom=\"8dp\"&gt;\n            &lt;EditText android:id=\"@+id/input_password\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:inputType=\"textPassword\"\n                android:hint=\"Password\"/&gt;\n        &lt;/android.support.design.widget.TextInputLayout&gt;\n\n        &lt;android.support.v7.widget.AppCompatButton\n            android:id=\"@+id/btn_login\"\n            android:layout_width=\"fill_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"24dp\"\n            android:layout_marginBottom=\"24dp\"\n            android:padding=\"12dp\"\n            android:textColor=\"@color/white\"\n            android:background=\"@color/colorPrimary\"\n            android:text=\"Login\"/&gt;\n\n        &lt;FrameLayout\n            android:id=\"@+id/FrameLayout1\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\" &gt;\n\n            &lt;com.facebook.login.widget.LoginButton\n                android:id=\"@+id/login_button\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:visibility=\"gone\" /&gt;\n\n            &lt;Button\n                android:id=\"@+id/fb\"\n                android:layout_width=\"fill_parent\"\n                android:layout_height=\"wrap_content\"\n                android:background=\"#416BC1\"\n                android:onClick=\"onClick\"\n                android:text=\"FaceBook Login\"\n                android:textColor=\"#ffffff\"\n                android:textStyle=\"bold\" /&gt;\n        &lt;/FrameLayout&gt;\n\n        &lt;FrameLayout\n            android:id=\"@+id/FrameLayout2\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"10dp\"&gt;\n\n            &lt;com.google.android.gms.common.SignInButton\n                android:id=\"@+id/btn_sign_in\"\n                android:layout_width=\"fill_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginBottom=\"0dp\" /&gt;\n\n            &lt;Button\n                android:id=\"@+id/google\"\n                android:layout_width=\"fill_parent\"\n                android:layout_height=\"wrap_content\"\n                android:background=\"#cf4333\"\n                android:onClick=\"onClick\"\n                android:text=\"Google Login\"\n                android:textColor=\"#ffffff\"\n                android:textStyle=\"bold\" /&gt;\n        &lt;/FrameLayout&gt;\n\n        &lt;Button\n            android:id=\"@+id/but2\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"SIGN UP\"\n            android:textColor=\"#FFFFFF\"\n            android:textColorHint=\"@color/ColorPrimary\" /&gt;\n\n    &lt;/LinearLayout&gt;\n\n\n&lt;/ScrollView&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11705386, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EGYwdAysMMA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcSQ0w21HnO9A6H7EpaYobsD6rhaQ/photo.jpg?sz=128", "display_name": "Major Project", "link": "https://stackoverflow.com/users/11705386/major-project"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1561627622, "creation_date": 1561583277, "last_edit_date": 1561583468, "question_id": 56780909, "link": "https://stackoverflow.com/questions/56780909/app-wont-open-keep-getting-the-below-error-in-logcat", "title": "App won&#39;t open keep getting the below error in LogCat", "body": "<p>Fatal Exception Error in LogCat.</p>\n\n<p>Have no errors when running App but won't run in emulator.\nApp won't open \"App has stopped\" \"Open Again\" and same error happens.</p>\n\n<p>Any help greatly appreciated.\nThanks,\nColin</p>\n\n<p>LogCat:</p>\n\n<pre><code>\"2019-06-26 21:29:28.339 7103-7103/com.example.fbgooglelogin E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.fbgooglelogin, PID: 7103\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.fbgooglelogin/com.wapptech.fbgooglelogin.MainActivity}: android.view.InflateException: Binary XML file line #20: Binary XML file line #20: Error inflating class android.support.design.widget.TextInputLayout\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n     Caused by: android.view.InflateException: Binary XML file line #20: Binary XML file line #20: Error inflating class android.support.design.widget.TextInputLayout\n     Caused by: android.view.InflateException: Binary XML file line #20: Error inflating class android.support.design.widget.TextInputLayout\n     Caused by: java.lang.ClassNotFoundException: Didn't find class \"android.support.design.widget.TextInputLayout\" on path: DexPathList[[zip file \"/system/framework/org.apache.http.legacy.boot.jar\", zip file \"/data/app/com.example.fbgooglelogin-WHX7XQ3Rd_hbREQiANU6cw==/base.apk\"],nativeLibraryDirectories=[/data/app/com.example.fbgooglelogin-WHX7XQ3Rd_hbREQiANU6cw==/lib/x86, /system/lib]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:134)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:606)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:866)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:469)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:140)\n        at com.wapptech.fbgooglelogin.MainActivity.onCreate(MainActivity.java:104)\n        at android.app.Activity.performCreate(Activity.java:7136)\n        at android.app.Activity.performCreate(Activity.java:7127)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2893)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n2019-06-26 21:29:28.339 7103-7103/com.example.fbgooglelogin E/AndroidRuntime:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n\"\n</code></pre>\n\n<p>Dependancies all up to date.\nIn fact is there any way that these can be set to auto update? what a pain - when I change one it causes conflicts with another.</p>\n"}, {"tags": ["java", "mockito", "supplier"], "comments": [{"owner": {"reputation": 39861, "user_id": 1076640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e0VNy.jpg?s=128&g=1", "display_name": "yshavit", "link": "https://stackoverflow.com/users/1076640/yshavit"}, "edited": false, "score": 1, "creation_date": 1561584165, "post_id": 56780901, "comment_id": 100117112, "body": "I don&#39;t know the answer, but I&#39;d just like to say that this is maybe one of the best examples of an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">mcve</a> (minimal, complete and verifiable example) I&#39;ve ever seen on this site."}], "answers": [{"tags": [], "owner": {"reputation": 637, "user_id": 10142946, "user_type": "registered", "profile_image": "https://graph.facebook.com/1857757114270747/picture?type=large", "display_name": "Gabriel Robaina", "link": "https://stackoverflow.com/users/10142946/gabriel-robaina"}, "is_accepted": true, "score": 3, "last_activity_date": 1561595279, "last_edit_date": 1561595279, "creation_date": 1561594603, "answer_id": 56782420, "question_id": 56780901, "link": "https://stackoverflow.com/questions/56780901/testing-lazy-initialization-by-j-u-f-supplier-with-mockito/56782420#56782420", "title": "Testing lazy initialization by j.u.f.Supplier with Mockito", "body": "<p>First of all, thanks for the well written question.</p>\n\n<p>I have tested your code myself and seen the error you mentioned. Although, I have changed your code a little bit while debugging... Take a look:</p>\n\n<pre><code>    @Test\n    public void testCreateOnlyOnce() {\n        Sut sut = spy(new Sut());\n        sut.getData();\n        sut.getData();\n        sut.getData();\n        verify(sut, times(1)).create();\n    }\n\n    private static class Sut {\n\n        private Supplier&lt;Object&gt; data;\n\n        // Added de data object initialization on the constructor to help debugging.\n        public Sut() {\n            this.data = this::create;\n        }\n\n        void getData() {\n            data.get();\n        }\n\n        Object create() {\n            return new Object();\n        }\n    }\n</code></pre>\n\n<p>What I found out while debugging:</p>\n\n<ol>\n<li>The <code>Sut</code> class constructor is being called correctly inside the <code>spy(new Sut())</code> clause, but the <code>create()</code> method is not being called there.</li>\n<li>Every time <code>sut.getData()</code> is called, the <code>create()</code> method is also called. What made me conclude, <strong>finally</strong> that:</li>\n</ol>\n\n<blockquote>\n  <p>On the constructor, all that <code>this::create</code> did was telling java that, whenever it needs to retrieve the <code>Object</code> from the supplier, that <code>Object</code> will be retrieved from the <code>create()</code> method. And, the <code>create()</code> method being called by the supplier is from a class instance different from what Mockito is spying.</p>\n</blockquote>\n\n<p>That explains why you cannot track it with verify.</p>\n\n<p>EDIT: From my research, that is actually the desired behavior of the Supplier. It just creates an interface that has a <code>get()</code> method that calls whatever noArgs method you declared on the method reference. Take a look at <a href=\"https://www.concretepage.com/java/java-8/java-supplier\" rel=\"nofollow noreferrer\">this</a> on \"Instantiate Supplier Using Method Reference\".</p>\n"}, {"tags": [], "owner": {"reputation": 1474, "user_id": 6473398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbaf56ee96aa63833344ce24a82ef35?s=128&d=identicon&r=PG&f=1", "display_name": "sfiss", "link": "https://stackoverflow.com/users/6473398/sfiss"}, "is_accepted": false, "score": 3, "last_activity_date": 1561633979, "last_edit_date": 1561633979, "creation_date": 1561622129, "answer_id": 56786466, "question_id": 56780901, "link": "https://stackoverflow.com/questions/56780901/testing-lazy-initialization-by-j-u-f-supplier-with-mockito/56786466#56786466", "title": "Testing lazy initialization by j.u.f.Supplier with Mockito", "body": "<p>I want to add a little to Gabriel Pimentas excellent answer. The reason why this works as it does is that mockito creates shallow copies of the spy <code>new Sut()</code> and your <code>Supplier</code> refers to the compiled lambda method inside the original <code>Sut</code> instance and not the spy instance.</p>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/52370786/mockito-spying-function-calls-inside-functional-interfaces\">this question</a> and <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.28.2/org/mockito/Spy.html\" rel=\"nofollow noreferrer\">the mockito documentation</a>.</p>\n\n<p>When you debug your code, you can see how this works:</p>\n\n<p><code>Sut sut = spy(new Sut());</code> is now a mocked/spied subclass of <code>Sut</code> as the instance <code>TestTimes$Sut$MockitoMock$1381634547@5b202a3a</code>. Now, all fields from the original <code>new Sut()</code> are shallow-copied, including the <code>Supplier&lt;Object&gt; data</code>. Looking at this field inside the spy, we can see that it is an instance of <code>TestTimes$Sut$$Lambda$1/510109769@1ecee32c</code>, i.e. pointing to a lambda inside the original <code>Sut</code>. When we set a breakpoint inside the create method, we can further observe that <code>this</code> points to <code>TestTimes$Sut@232a7d73</code>, i.e. the original <code>Sut</code> and not the spied instance.</p>\n\n<p>EDIT: Even though this MCVE probably does not resemble your actual code, the following solutions come to mind:</p>\n\n<ul>\n<li>Inject the Supplier into your <code>Sut</code> (either during construction or as a parameter to <code>getData</code>.</li>\n<li>Create the supplier lazily within your <code>getData</code> method (so that it points to the mockito-instance)</li>\n<li>Don't use a Supplier but just call <code>create</code> directly if the Supplier is not passed from the outside</li>\n</ul>\n"}], "owner": {"reputation": 1166, "user_id": 1623598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fhlut.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/1623598/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 0, "accepted_answer_id": 56782420, "answer_count": 2, "score": 3, "last_activity_date": 1561633979, "creation_date": 1561583227, "question_id": 56780901, "link": "https://stackoverflow.com/questions/56780901/testing-lazy-initialization-by-j-u-f-supplier-with-mockito", "title": "Testing lazy initialization by j.u.f.Supplier with Mockito", "body": "<p>I have a class <code>Sut</code> with lazy initialization implemented using <code>java.util.function.Supplier</code>. In fact it's more complicated that the code below, but this is the simplest form that Mockito cannot test. The test below throws an error <code>Wanted but not invoked ... However, there were other interactions with this mock</code>. Why doesn't Mockito count the invocation of <code>create</code>? The code flow actually enters <code>create()</code>; I checked that with debugger.</p>\n\n<pre><code>import java.util.function.Supplier;\n\nimport static org.mockito.Mockito.spy;\nimport static org.mockito.Mockito.times;\nimport static org.mockito.Mockito.verify;\n\npublic class TestTimes {\n\n    @Test\n    public void testCreateOnlyOnce() {\n        Sut sut = spy(new Sut());\n        sut.getData();\n        sut.getData();\n        sut.getData();\n        verify(sut, times(1)).create();\n    }\n\n    private static class Sut {\n        Supplier&lt;Object&gt; data = this::create;\n\n        void getData() {\n            data.get();\n        }\n\n        Object create() {\n            return new Object();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "android-lifecycle", "android-architecture-components"], "answers": [{"comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 97, "user_id": 9829752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28ab246af3033e37d5727d67da20b560?s=128&d=identicon&r=PG&f=1", "display_name": "AshesToAshes", "link": "https://stackoverflow.com/users/9829752/ashestoashes"}, "edited": false, "score": 0, "creation_date": 1561583322, "post_id": 56780766, "comment_id": 100116818, "body": "@AshesToAshes: Yes, alongside your <code>implementation</code> statement from above."}, {"owner": {"reputation": 97, "user_id": 9829752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28ab246af3033e37d5727d67da20b560?s=128&d=identicon&r=PG&f=1", "display_name": "AshesToAshes", "link": "https://stackoverflow.com/users/9829752/ashestoashes"}, "edited": false, "score": 1, "creation_date": 1561584153, "post_id": 56780766, "comment_id": 100117108, "body": "Turns out the real issue was I was missing the application name declaration in the Manifest. I will accept your answer as I was missing that statement in the file. Thanks for catching that!"}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 4, "last_activity_date": 1561582518, "creation_date": 1561582518, "answer_id": 56780766, "question_id": 56780722, "link": "https://stackoverflow.com/questions/56780722/how-to-catch-lifecycle-events-with-processlifecycleowner/56780766#56780766", "title": "How to catch lifecycle events with ProcessLifecycleOwner?", "body": "<p>You need the corresponding annotation processor to pay attention to those annotations:</p>\n\n<pre><code>annotationProcessor 'android.arch.lifecycle:compiler:1.1.1'\n</code></pre>\n\n<p>Or, enable Java 8 support, and switch to <code>DefaultLifecycleObserver</code>.</p>\n"}], "owner": {"reputation": 97, "user_id": 9829752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28ab246af3033e37d5727d67da20b560?s=128&d=identicon&r=PG&f=1", "display_name": "AshesToAshes", "link": "https://stackoverflow.com/users/9829752/ashestoashes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3623, "favorite_count": 0, "accepted_answer_id": 56780766, "answer_count": 1, "score": 7, "last_activity_date": 1561584285, "creation_date": 1561582321, "last_edit_date": 1561584285, "question_id": 56780722, "link": "https://stackoverflow.com/questions/56780722/how-to-catch-lifecycle-events-with-processlifecycleowner", "title": "How to catch lifecycle events with ProcessLifecycleOwner?", "body": "<p>I am trying to (at least partially) determine when an application gets closed by the user to release some connections, etc. To do this, I am using the <code>ProcessLifecycleOwner</code> with my application class implementing <code>LifecycleObserver</code>. Despite taking the starting code from tutorials and other helpful articles, it does not seem to detect any lifecycle events.</p>\n\n<p>Most of the code came from <a href=\"https://github.com/commonsguy/cw-androidarch/blob/v0.2/General/ProcessLifecycle/app/src/main/java/com/commonsware/android/recyclerview/videolist/LifecycleApplication.java\" rel=\"noreferrer\">this example</a>.</p>\n\n<p>My application class:</p>\n\n<pre><code>public class App extends Application implements LifecycleObserver {\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        ProcessLifecycleOwner.get().getLifecycle().addObserver(this);\n    }\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_CREATE)\n    public void created() {\n        Log.d(\"SampleLifeCycle\", \"ON_CREATE\");\n    }\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_START)\n    public void started() {\n        Log.d(\"SampleLifeCycle\", \"ON_START\");\n    }\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_RESUME)\n    public void resumed() {\n        Log.d(\"SampleLifeCycle\", \"ON_RESUME\");\n    }\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_PAUSE)\n    public void paused() {\n        Log.d(\"SampleLifeCycle\", \"ON_PAUSE\");\n    }\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_STOP)\n    public void stopped() {\n        Log.d(\"SampleLifeCycle\", \"ON_STOP\");\n    }\n}\n</code></pre>\n\n<p>The dependency in Gradle</p>\n\n<pre><code>dependencies {\n    //...\n    implementation 'android.arch.lifecycle:extensions:1.1.1'\n}\n</code></pre>\n\n<p>So far, this code has not logged a single event of any sort, whether the app is entering the foreground or the background.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Note: You NEED to declare your application in the Manifest for anything to work in your custom application class.</p>\n"}, {"tags": ["java", "linux"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11705295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afa2cf62978d55410dda6feb948274e9?s=128&d=identicon&r=PG&f=1", "display_name": "dayvickuh", "link": "https://stackoverflow.com/users/11705295/dayvickuh"}, "edited": false, "score": 0, "creation_date": 1562098160, "post_id": 56780700, "comment_id": 100268762, "body": "How should I go about copying it? Because currently when I try to open .bashrc with oracle, it says permission denied."}, {"owner": {"reputation": 13, "user_id": 11705295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afa2cf62978d55410dda6feb948274e9?s=128&d=identicon&r=PG&f=1", "display_name": "dayvickuh", "link": "https://stackoverflow.com/users/11705295/dayvickuh"}, "edited": false, "score": 0, "creation_date": 1562103601, "post_id": 56780700, "comment_id": 100270571, "body": "I figured it out! I was opening the wrong .bashrc file. Thank you!"}], "tags": [], "owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "is_accepted": true, "score": 0, "last_activity_date": 1561582223, "creation_date": 1561582223, "answer_id": 56780700, "question_id": 56780639, "link": "https://stackoverflow.com/questions/56780639/setting-java-home-as-opc-not-accessible-as-oracle/56780700#56780700", "title": "Setting $JAVA_HOME as opc, not accessible as oracle", "body": "<p>Environment variables (such as <code>$JAVA_HOME</code>) are set per process. For shells, you'd usually have some initialization script (like <code>.bashrc</code>) that sets all the relevant variables for the current session. You should copy the initialization of <code>$JAVA_HOME</code> you have in the <code>opc</code> user to the <code>oracle</code> user too.</p>\n"}], "owner": {"reputation": 13, "user_id": 11705295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afa2cf62978d55410dda6feb948274e9?s=128&d=identicon&r=PG&f=1", "display_name": "dayvickuh", "link": "https://stackoverflow.com/users/11705295/dayvickuh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 56780700, "answer_count": 1, "score": 0, "last_activity_date": 1561582223, "creation_date": 1561581971, "question_id": 56780639, "link": "https://stackoverflow.com/questions/56780639/setting-java-home-as-opc-not-accessible-as-oracle", "title": "Setting $JAVA_HOME as opc, not accessible as oracle", "body": "<p>I am currently with installing and integrating a couple of software on Linux, and I'm very new to Linux. One of the software refuses to run and instructs me to properly set $JAVA_HOME. But I have set $JAVA_HOME! However, when I check the $JAVA_HOME and java -version tests to see if I have done it correctly, it only produces the correct answer when I'm logged in as opc. The permissions of the software I am trying to install is oracle. Do I need to set $JAVA_HOME again when I'm logged in as oracle? And why?</p>\n\n<pre><code>[opc@mydir ~]$ $JAVA_HOME\n-bash: /u01/jdk-11.0.3/: Is a directory\n[opc@mydir ~]$ java -version\njava version \"11.0.3\" 2019-04-16 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.3+12-LTS)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.3+12-LTS, mixed mode)\n[opc@mydir ~]$ sudo su oracle\n[oracle@mydir opc]$ $JAVA_HOME\n[oracle@mydir opc]$ java -version\nbash: java: command not found\n</code></pre>\n"}, {"tags": ["java", "getter"], "comments": [{"owner": {"reputation": 8810, "user_id": 1023553, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/EzEeL.png?s=128&g=1", "display_name": "NoDataFound", "link": "https://stackoverflow.com/users/1023553/nodatafound"}, "edited": false, "score": 0, "creation_date": 1561581908, "post_id": 56780574, "comment_id": 100116261, "body": "I don&#39;t understand your question and there is no getHeight() on String. And going by the rest, I am assuming you want to do something like that: <code>calcSum(List&lt;String&gt; items, IntFunction toIntFunction) {return items.stream().mapToInt(toIntFunction).sum();}</code>"}, {"owner": {"reputation": 135, "user_id": 11125276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5917271302c09f9236e436c260f14e?s=128&d=identicon&r=PG&f=1", "display_name": "sjne", "link": "https://stackoverflow.com/users/11125276/sjne"}, "edited": false, "score": 1, "creation_date": 1561582242, "post_id": 56780574, "comment_id": 100116408, "body": "Sorry, my mistake! Going to fix it."}], "answers": [{"comments": [{"owner": {"reputation": 2869, "user_id": 3602436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3ibA.png?s=128&g=1", "display_name": "EDToaster", "link": "https://stackoverflow.com/users/3602436/edtoaster"}, "edited": false, "score": 0, "creation_date": 1561583227, "post_id": 56780633, "comment_id": 100116770, "body": "Elegant and functional +1"}, {"owner": {"reputation": 135, "user_id": 11125276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5917271302c09f9236e436c260f14e?s=128&d=identicon&r=PG&f=1", "display_name": "sjne", "link": "https://stackoverflow.com/users/11125276/sjne"}, "edited": false, "score": 0, "creation_date": 1561623134, "post_id": 56780633, "comment_id": 100127451, "body": "Thanks, that looks nice! I&#39;m not so experienced with generic methods, could you maybe explain why <code>&lt;? super T&gt;</code> is needed here? Why does the function input type need to be a superclass of say <code>MyClass</code> (when I&#39;m calling a method from <code>MyClass</code>)?"}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "reply_to_user": {"reputation": 135, "user_id": 11125276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5917271302c09f9236e436c260f14e?s=128&d=identicon&r=PG&f=1", "display_name": "sjne", "link": "https://stackoverflow.com/users/11125276/sjne"}, "edited": false, "score": 1, "creation_date": 1561624389, "post_id": 56780633, "comment_id": 100128147, "body": "@SomeAnts added some explanation to the answer."}], "tags": [], "owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "is_accepted": true, "score": 9, "last_activity_date": 1561624360, "last_edit_date": 1561624360, "creation_date": 1561581934, "answer_id": 56780633, "question_id": 56780574, "link": "https://stackoverflow.com/questions/56780574/using-different-getters-in-a-method/56780633#56780633", "title": "Using different getters in a method", "body": "<p>Pass in a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/ToIntFunction.html\" rel=\"nofollow noreferrer\"><code>ToIntFunction&lt;T&gt;</code></a> as a parameter:</p>\n\n<pre><code>public &lt;T&gt; int calcSum(List&lt;T&gt; items, ToIntFunction&lt;? super T&gt; fn) {\n    return items.stream()\n                .mapToInt(fn)\n                .sum();\n}\n\n// Example invocations:\nint heightSum = calcSum(items, MyClass::getHeight);\nint weightSum = calcSum(items, MyClass::getWeight);\n</code></pre>\n\n<hr>\n\n<p>The <code>&lt;? super T&gt;</code> is a a <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/wildcards.html\" rel=\"nofollow noreferrer\">bounded wildcard</a> (specifically a <em>lower-bounded wildcard</em>). It just makes the API a little bit more flexible. For example, because of the wildcard, you can call:</p>\n\n<pre><code>ToIntFunction&lt;Object&gt; constantValue = a -&gt; 1;\nint count = calcSum(items, constantValue);\n</code></pre>\n\n<p>Because <code>constantValue</code> accepts any <code>Object</code>, it can also accept <code>MyClass</code> instances.</p>\n\n<p>Without the bound, you would not be able to pass in a <code>ToIntFunction&lt;Object&gt;</code>: for different list element types, you'd need to have separate instances:</p>\n\n<pre><code>ToIntFunction&lt;MyClass&gt; constantValueForMyClass = a -&gt; 1;\nToIntFunction&lt;MyOtherClass&gt; constantValueForMyOtherClass = a -&gt; 1;\nToIntFunction&lt;YetAnotherClass&gt; constantValueForYetAnotherClass = a -&gt; 1;\n// ...\n</code></pre>\n\n<p>which is just tedious and repetitive.</p>\n"}], "owner": {"reputation": 135, "user_id": 11125276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5917271302c09f9236e436c260f14e?s=128&d=identicon&r=PG&f=1", "display_name": "sjne", "link": "https://stackoverflow.com/users/11125276/sjne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 1, "accepted_answer_id": 56780633, "answer_count": 1, "score": 1, "last_activity_date": 1561624360, "creation_date": 1561581686, "last_edit_date": 1561582261, "question_id": 56780574, "link": "https://stackoverflow.com/questions/56780574/using-different-getters-in-a-method", "title": "Using different getters in a method", "body": "<p>Given the following method</p>\n\n<pre><code>public int calcSum(List&lt;MyClass&gt; items) {\n    return items.stream()\n                .mapToInt(i -&gt; i.getHeight())\n                .sum();\n}\n</code></pre>\n\n<p>what are my options for using different getters that I can pass in the method's arguments so that I don't have to repeat the same return statement with <code>getWeight()</code> for example? </p>\n\n<p>I was thinking of maybe using a different method that would return the getters (if that's possible) but I'm having trouble thinking of a good implementation for that. \nThanks for the help!</p>\n"}, {"tags": ["java", "microsoft-graph-api", "onenote-api"], "answers": [{"comments": [{"owner": {"reputation": 619, "user_id": 2398993, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/b6XEN.png?s=128&g=1", "display_name": "lvr123", "link": "https://stackoverflow.com/users/2398993/lvr123"}, "edited": false, "score": 0, "creation_date": 1561624353, "post_id": 56786953, "comment_id": 100128133, "body": "Are there some documentation about the migration from OneNote API to the the Graph API ?"}, {"owner": {"reputation": 518, "user_id": 8127636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f530579041079b3ad1212f3aaf783edd?s=128&d=identicon&r=PG&f=1", "display_name": "Manjusha", "link": "https://stackoverflow.com/users/8127636/manjusha"}, "reply_to_user": {"reputation": 619, "user_id": 2398993, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/b6XEN.png?s=128&g=1", "display_name": "lvr123", "link": "https://stackoverflow.com/users/2398993/lvr123"}, "edited": false, "score": 0, "creation_date": 1562047920, "post_id": 56786953, "comment_id": 100243437, "body": "It is mostly 1:1 mapping...and the changes in the url segments are similar in all endpoints. Let us know if you don&#39;t find the equivalent MS Graph endpoint for any OneNote Api"}, {"owner": {"reputation": 467, "user_id": 4786776, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eab35aabc62faba99083980e2ee3a885?s=128&d=identicon&r=PG&f=1", "display_name": "codeye", "link": "https://stackoverflow.com/users/4786776/codeye"}, "edited": false, "score": 0, "creation_date": 1562598334, "post_id": 56786953, "comment_id": 100415787, "body": "It&#39;s important to note the POST file size limit in MS Graph endpoint is much smaller (4MB) vs (~70MB) for the Onenote Api. See <a href=\"https://stackoverflow.com/questions/55592242/error-request-too-large-413-when-trying-to-upload-a-pdf-file-to-onenote\" title=\"error request too large 413 when trying to upload a pdf file to onenote\">stackoverflow.com/questions/55592242/&hellip;</a>"}], "tags": [], "owner": {"reputation": 518, "user_id": 8127636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f530579041079b3ad1212f3aaf783edd?s=128&d=identicon&r=PG&f=1", "display_name": "Manjusha", "link": "https://stackoverflow.com/users/8127636/manjusha"}, "is_accepted": false, "score": 0, "last_activity_date": 1561624062, "creation_date": 1561624062, "answer_id": 56786953, "question_id": 56780558, "link": "https://stackoverflow.com/questions/56780558/is-migration-needed-from-old-onenote-api-to-new-microsoft-graph-api/56786953#56786953", "title": "Is migration needed from &quot;old&quot; onenote API to new microsoft graph api?", "body": "<p>We encourage you to move to Microsoft Graph API because it has a single auth token for multiple services like OneNote, OneDrive, SharePoint, etc. But you <em>could</em> stay on the OneNote API and we still fully support it</p>\n"}], "owner": {"reputation": 619, "user_id": 2398993, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/b6XEN.png?s=128&g=1", "display_name": "lvr123", "link": "https://stackoverflow.com/users/2398993/lvr123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561624062, "creation_date": 1561581598, "last_edit_date": 1561583287, "question_id": 56780558, "link": "https://stackoverflow.com/questions/56780558/is-migration-needed-from-old-onenote-api-to-new-microsoft-graph-api", "title": "Is migration needed from &quot;old&quot; onenote API to new microsoft graph api?", "body": "<p>I've build a Java library to get the interaction of java application with Microsoft Onenote.</p>\n\n<p>I recently discovered that the API has changed:</p>\n\n<p>For getting a specific Sectionthe url was</p>\n\n<ul>\n<li><code>https://www.onenote.com/api/v1.0/me/notes/sections/SECTION_ID</code></li>\n</ul>\n\n<p>And is now:</p>\n\n<ul>\n<li><code>https://graph.microsoft.com/v1.0/me/onenote/sections/SECTION_ID</code></li>\n</ul>\n\n<p>Both are \"v1.0\" while both have a different signature :</p>\n\n<ul>\n<li>Onenote API:</li>\n</ul>\n\n<p><p></p>\n\n<pre><code>{\n   \"@odata.context\": \"https://www.onenote.com/api/v1.0/$metadata#me/notes/sections(parentNotebook(id,name,self),parentSectionGroup(id,name,self))/$entity\",\n   \"id\": \"SECTION_ID\",\n   \"self\": \"https://www.onenote.com/api/v1.0/me/notes/sections/SECTION_ID\",\n   \"createdTime\": \"2014-05-29T08:56:57.223Z\",\n   \"name\": \"Adresses\",\n   \"createdBy\": \"xxxx\",\n   \"lastModifiedBy\": \"xxxx\",\n   \"lastModifiedTime\": \"2014-06-10T12:55:22.41Z\",\n   \"isDefault\": false,\n</code></pre>\n\n<ul>\n<li>Microsoft Graph API:</li>\n</ul>\n\n<p><p></p>\n\n<pre><code>{\n    \"@odata.context\": \"https://graph.microsoft.com/v1.0/$metadata#users('xxx%40live.com')/onenote/sections/$entity\",\n    \"id\": \"SECTION_ID\",\n    \"self\": \"https://graph.microsoft.com/v1.0/users/xxx@live.com/onenote/sections/SECTION_ID\",\n    \"createdDateTime\": \"2014-05-29T08:56:57.223Z\",\n    \"displayName\": \"Adresses\",\n    \"lastModifiedDateTime\": \"2014-06-10T12:55:22.41Z\",\n    \"isDefault\": false,\n    \"pagesUrl\": \"https://graph.microsoft.com/v1.0/users/xxx@live.com/onenote/sections/SECTION_ID/pages\",\n    \"createdBy\": {\n        \"user\": {\n            \"id\": \"USER_ID\",\n            \"displayName\": \"xxxx\"\n        }\n    },\n    \"lastModifiedBy\": {\n        \"user\": {\n            \"id\": \"USER_ID\",\n            \"displayName\": \"xxxx\"\n        }\n    },\n</code></pre>\n\n<hr>\n\n<p>I wonder if I need to upgrade to Microsoft Graph API or if it safe to remain with the Onenote API.</p>\n\n<p>I don't find any documentation about the migration. All the links pointing to the old url are now pointing to the new url...</p>\n"}, {"tags": ["java", "authorization", "sendgrid", "sendgrid-api-v3"], "answers": [{"tags": [], "owner": {"reputation": 57, "user_id": 11252708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f14dbeaa80cacdde8d43d8e6a7fe749?s=128&d=identicon&r=PG&f=1", "display_name": "Pfrances", "link": "https://stackoverflow.com/users/11252708/pfrances"}, "is_accepted": true, "score": 0, "last_activity_date": 1563809637, "creation_date": 1563809637, "answer_id": 57149337, "question_id": 56780526, "link": "https://stackoverflow.com/questions/56780526/sendgrid-the-provided-authorization-grant-is-invalid-expired-or-revoked/57149337#57149337", "title": "SendGrid: &quot;The provided authorization grant is invalid, expired, or revoked&quot;", "body": "<p>My apologies. I did not know \"System.getenv\" would get the environmental variables. I set up environmental variables and the issue is resolved.</p>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 9514309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JelO8.jpg?s=128&g=1", "display_name": "Yashith Chanuka", "link": "https://stackoverflow.com/users/9514309/yashith-chanuka"}, "is_accepted": false, "score": 1, "last_activity_date": 1568024147, "last_edit_date": 1568024147, "creation_date": 1568005593, "answer_id": 57848133, "question_id": 56780526, "link": "https://stackoverflow.com/questions/56780526/sendgrid-the-provided-authorization-grant-is-invalid-expired-or-revoked/57848133#57848133", "title": "SendGrid: &quot;The provided authorization grant is invalid, expired, or revoked&quot;", "body": "<p>I think your environment variable was not setup properly. Try to execute the program without \"System.getenv\" as below.</p>\n\n<pre><code>SendGrid sg = new SendGrid(\"YOUR_API_KEY\");\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 11252708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f14dbeaa80cacdde8d43d8e6a7fe749?s=128&d=identicon&r=PG&f=1", "display_name": "Pfrances", "link": "https://stackoverflow.com/users/11252708/pfrances"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1292, "favorite_count": 0, "accepted_answer_id": 57149337, "answer_count": 2, "score": 1, "last_activity_date": 1568024147, "creation_date": 1561581417, "question_id": 56780526, "link": "https://stackoverflow.com/questions/56780526/sendgrid-the-provided-authorization-grant-is-invalid-expired-or-revoked", "title": "SendGrid: &quot;The provided authorization grant is invalid, expired, or revoked&quot;", "body": "<p>I am setting up an app to send emails to clients. I am using Java and SendGrid to create this app, but I am having issues with the SendGrid authorization</p>\n\n<p>I am getting the error:</p>\n\n<p>java.io.IOException: Request returned status Code 401Body:{\"errors\":[{\"message\":\"The provided authorization grant is invalid, expired, or revoked\",\"field\":null,\"help\":null}]}</p>\n\n<p>Reading through some other posts with similar issues it seems most get resolved because people were using the API Key ID instead of the API Key. I have already checked to make sure that I am using the full key so I don't think that is the issue.</p>\n\n<p>I have also tried to create a new API Key but that just gives the same issue. Finally, I have tried doing a similar call using Postman and that works just fine with the same API Keys.</p>\n\n<p>This is the main class I am using to send emails.</p>\n\n<pre><code>\nimport com.sendgrid.*;\nimport com.sendgrid.helpers.mail.Mail;\nimport com.sendgrid.helpers.mail.objects.Content;\nimport com.sendgrid.helpers.mail.objects.Email;\n\nimport java.io.IOException;\n\npublic class SendEmail {\n\n    public static void main(String[] args) throws IOException{\n        Email from = new Email(\"FROM_EMAIL\");\n        String subject = \"Sending with Twilio(?) is fun\";\n        Email to = new Email(\"TO_EMAIL\");\n        Content content = new Content(\"text/plain\", \"and easy to to anywhere, even with Java\");\n        Mail mail = new Mail(from, subject, to, content);\n\n        SendGrid sg = new SendGrid(System.getenv(\"API_KEY\"));\n        Request request = new Request();\n\n        try {\n            request.setMethod(Method.POST);\n            request.setEndpoint(\"mail/send\");\n            request.setBody(mail.build());\n            Response response = sg.api(request);\n            System.out.println(response.getStatusCode());\n            System.out.println(response.getBody());\n            System.out.println(response.getHeaders());\n        } catch (IOException ex) {\n            throw(ex);\n        }\n\n    }\n</code></pre>\n\n<p>I then call this class in my main class through this snippet:</p>\n\n<pre><code>\n    try{\n            SendEmail.main(email);\n    } catch(IOException ex){\n            System.out.println(ex);\n    }\n</code></pre>\n\n<p>The \"email\" string is just a placeholder as otherwise I get an error saying that I need to have an array when I call the class. (Not sure why that is, could that be the root of the problem?)</p>\n\n<p>Obviously sensitive information has been removed so that's why some of the fields look off.</p>\n\n<p>By the way, I followed the tutorial in this github:</p>\n\n<p><a href=\"https://github.com/sendgrid/sendgrid-java\" rel=\"nofollow noreferrer\">https://github.com/sendgrid/sendgrid-java</a></p>\n\n<p>Let me know what you think. \nThanks in advance!</p>\n"}, {"tags": ["java", "angular", "spring-boot", "spring-data-jpa", "multipartform-data"], "comments": [{"owner": {"reputation": 5201, "user_id": 8850397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A0dos.jpg?s=128&g=1", "display_name": "Sudarshana Dayananda", "link": "https://stackoverflow.com/users/8850397/sudarshana-dayananda"}, "edited": false, "score": 0, "creation_date": 1561585025, "post_id": 56780524, "comment_id": 100117396, "body": "Cannot see any issue in your code. Actually what is your problem?"}, {"owner": {"reputation": 194, "user_id": 8297550, "user_type": "registered", "profile_image": "https://graph.facebook.com/1271279289649485/picture?type=large", "display_name": "Mohamad Alhamid", "link": "https://stackoverflow.com/users/8297550/mohamad-alhamid"}, "reply_to_user": {"reputation": 5201, "user_id": 8850397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A0dos.jpg?s=128&g=1", "display_name": "Sudarshana Dayananda", "link": "https://stackoverflow.com/users/8850397/sudarshana-dayananda"}, "edited": false, "score": 1, "creation_date": 1561587334, "post_id": 56780524, "comment_id": 100118020, "body": "Angular cannot send the data by post method"}, {"owner": {"reputation": 5201, "user_id": 8850397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A0dos.jpg?s=128&g=1", "display_name": "Sudarshana Dayananda", "link": "https://stackoverflow.com/users/8850397/sudarshana-dayananda"}, "edited": false, "score": 0, "creation_date": 1561587615, "post_id": 56780524, "comment_id": 100118105, "body": "Oh i did not see it. see my answer"}, {"owner": {"reputation": 958, "user_id": 7404189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9181c457cf193f4dc089ff4b93ed4fa2?s=128&d=identicon&r=PG&f=1", "display_name": "hrdkisback", "link": "https://stackoverflow.com/users/7404189/hrdkisback"}, "edited": false, "score": 1, "creation_date": 1561703512, "post_id": 56780524, "comment_id": 100158244, "body": "Try this <code>payload.append(&#39;model&#39;, this.data);</code> instead of passing seperate attribute. So remove <code>clientName</code>, <code>dateOfBirth</code>, <code>mobileNumber</code> and <code>email</code>."}], "answers": [{"comments": [{"owner": {"reputation": 194, "user_id": 8297550, "user_type": "registered", "profile_image": "https://graph.facebook.com/1271279289649485/picture?type=large", "display_name": "Mohamad Alhamid", "link": "https://stackoverflow.com/users/8297550/mohamad-alhamid"}, "edited": false, "score": 0, "creation_date": 1561621517, "post_id": 56781624, "comment_id": 100126653, "body": "not work, i will send image of the errors in eclipse, the problem how send name of the fields"}, {"owner": {"reputation": 5201, "user_id": 8850397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A0dos.jpg?s=128&g=1", "display_name": "Sudarshana Dayananda", "link": "https://stackoverflow.com/users/8850397/sudarshana-dayananda"}, "reply_to_user": {"reputation": 194, "user_id": 8297550, "user_type": "registered", "profile_image": "https://graph.facebook.com/1271279289649485/picture?type=large", "display_name": "Mohamad Alhamid", "link": "https://stackoverflow.com/users/8297550/mohamad-alhamid"}, "edited": false, "score": 1, "creation_date": 1561626943, "post_id": 56781624, "comment_id": 100129695, "body": "Actually I am not familiar with Sprint-boot. But you are sending data as <code>FormData</code> it means inside <code>HTTP POST</code> body. you cannot catch it using <code>RequestParam</code>. And your Backend API is needed a parameter as model but you are not sending it from angular side. See below. you will get some idea <a href=\"https://stackoverflow.com/questions/22163397/spring-how-to-get-parameters-from-post-body\" title=\"spring how to get parameters from post body\">stackoverflow.com/questions/22163397/&hellip;</a>"}, {"owner": {"reputation": 194, "user_id": 8297550, "user_type": "registered", "profile_image": "https://graph.facebook.com/1271279289649485/picture?type=large", "display_name": "Mohamad Alhamid", "link": "https://stackoverflow.com/users/8297550/mohamad-alhamid"}, "edited": false, "score": 0, "creation_date": 1561627371, "post_id": 56781624, "comment_id": 100129927, "body": "the problem with upload the file with the data"}, {"owner": {"reputation": 5201, "user_id": 8850397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A0dos.jpg?s=128&g=1", "display_name": "Sudarshana Dayananda", "link": "https://stackoverflow.com/users/8850397/sudarshana-dayananda"}, "reply_to_user": {"reputation": 194, "user_id": 8297550, "user_type": "registered", "profile_image": "https://graph.facebook.com/1271279289649485/picture?type=large", "display_name": "Mohamad Alhamid", "link": "https://stackoverflow.com/users/8297550/mohamad-alhamid"}, "edited": false, "score": 1, "creation_date": 1561629923, "post_id": 56781624, "comment_id": 100131482, "body": "Check using postman whether your backend is working as you needed"}, {"owner": {"reputation": 5201, "user_id": 8850397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A0dos.jpg?s=128&g=1", "display_name": "Sudarshana Dayananda", "link": "https://stackoverflow.com/users/8850397/sudarshana-dayananda"}, "reply_to_user": {"reputation": 194, "user_id": 8297550, "user_type": "registered", "profile_image": "https://graph.facebook.com/1271279289649485/picture?type=large", "display_name": "Mohamad Alhamid", "link": "https://stackoverflow.com/users/8297550/mohamad-alhamid"}, "edited": false, "score": 1, "creation_date": 1561636304, "post_id": 56781624, "comment_id": 100135002, "body": "You are sending <b>model</b> field in your <code>FormData</code> no ? bcoz error in you added image is related with model attribute"}], "tags": [], "owner": {"reputation": 5201, "user_id": 8850397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A0dos.jpg?s=128&g=1", "display_name": "Sudarshana Dayananda", "link": "https://stackoverflow.com/users/8850397/sudarshana-dayananda"}, "is_accepted": false, "score": 3, "last_activity_date": 1561587539, "creation_date": 1561587539, "answer_id": 56781624, "question_id": 56780524, "link": "https://stackoverflow.com/questions/56780524/send-image-with-difference-data-type-from-angular-7-to-rest-api-in-spring-boot-2/56781624#56781624", "title": "Send image with difference data type from angular 7 to Rest API in spring boot 2.0.5", "body": "<p>You have missed <strong><code>,</code></strong> in your <strong><code>Service</code></strong>.</p>\n\n<pre><code>   private httpHeaders = new HttpHeaders({'Content- Type':'multipart/form-data'});\n       this.http.post(this.urlEndTestImage, payload, { headers:this.httpHeaders })\n       .subscribe(\n           res =&gt; {  console.log(res) } );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 194, "user_id": 8297550, "user_type": "registered", "profile_image": "https://graph.facebook.com/1271279289649485/picture?type=large", "display_name": "Mohamad Alhamid", "link": "https://stackoverflow.com/users/8297550/mohamad-alhamid"}, "is_accepted": true, "score": 1, "last_activity_date": 1562085705, "last_edit_date": 1562085705, "creation_date": 1561824469, "answer_id": 56818993, "question_id": 56780524, "link": "https://stackoverflow.com/questions/56780524/send-image-with-difference-data-type-from-angular-7-to-rest-api-in-spring-boot-2/56818993#56818993", "title": "Send image with difference data type from angular 7 to Rest API in spring boot 2.0.5", "body": "<p>I solved my problem, the problem as you say @Sudarshana i don't match \"model\" in angular side, and after a lot search i found two method to send file with difference data:</p>\n\n<ol>\n<li><p>Send by (Data JSON, file)</p>\n\n<p><strong>Angular html:</strong></p>\n\n<pre><code>&lt;form   [formGroup]=\"profileForm\" (ngSubmit)=\"onSubmit()\"&gt;\n &lt;input type=\"hidden\" name=\"size\" value=\"1000000\"&gt;\n &lt;div&gt;\n    &lt;input type=\"file\" (change)=\"onFileSelected($event)\"&gt;\n &lt;/div&gt;\n &lt;div&gt;\n   &lt;input type=\"text\" formControlName=\"clientName\" placeholder=\"client Name\"&gt;\n   &lt;input type=\"text\" formControlName=\"lastName\" placeholder=\"Last Name\"&gt;\n   &lt;input type=\"text\" formControlName=\"age\"  placeholder=\"Age\"&gt;\n   &lt;button type=\"submit\" name=\"upload\"&gt;POST&lt;/button&gt;\n &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>Angular ts:</strong></p>\n\n<pre><code>profileForm = new FormGroup({\nclientName : new FormControl(''),\nlastName : new FormControl(''),\nage : new FormControl('')\n});\n\nselectedFile = null;\npublic data:clientClass = new clientClass();\n\nonFileSelected(event) {\nthis.selectedFile = event.target.files[0];\nconsole.log(this.selectedFile);\n}\n\nonSubmit() {\nlet object = this.profileForm.value;\nconst payload = new FormData();\npayload.append(\"addClient\",JSON.stringify(object));\npayload.append(\"image\", this.selectedFile, this.selectedFile.name);\nthis.http.post(`http://localhost:8080/yourAPI/uploadTestEntity`,payload, { \nresponseType: 'text'}).subscribe(\n  (object) =&gt; {\n    this.profileForm.reset();\n  });\n}\n</code></pre>\n\n<p><strong>App modules file:</strong></p>\n\n<pre><code>import { FormsModule, ReactiveFormsModule } from '@angular/forms';\n@NgModule({\nimports:[ BrowserModule, FormsModule,ReactiveFormsModule ]\n})\n</code></pre>\n\n<p><strong>Rest API:</strong></p>\n\n<pre><code>@PostMapping(\"/uploadTestEntity\")\npublic String uploadTestEntity(\n@RequestParam(\"addClient\") String clientNameEntityNew,    \n@RequestParam(value = \"image\") MultipartFile image) {\n  try {\n      ObjectMapper mapper = new ObjectMapper();\n      testEntity testEntity = mapper.readValue(clientNameEntityNew,testEntity.class);\n      testEntity.setImage(image.getBytes());\n      TestEntityService.save(testEntity);\n    return \"File uploaded successfully! -&gt; filename = \"+ image.getOriginalFilename();\n      } catch (  Exception e) {\n  return \"FAIL! Maybe You had uploaded the file before or the file's size &gt; 500KB\";\n}    \n}\n</code></pre>\n\n<p>2- send file and Data as params and receive as params in Rest API:</p>\n\n<p><strong>Angular html:</strong></p>\n\n<pre><code>&lt;form (ngSubmit)=\"onSubmit()\"&gt;\n &lt;input type=\"hidden\" name=\"size\" value=\"1000000\"&gt;\n &lt;div&gt;\n   &lt;input type=\"file\" name=\"image\" (change)=\"onFileSelected($event)\"&gt;\n &lt;/div&gt;\n&lt;div&gt;\n&lt;input id=\"textauthor\" [(ngModel)]=\"clientName\" name=\"clientName\" placeholder=\"Name\"&gt;\n&lt;input id=\"textauthor\" [(ngModel)]=\"lastName\" name=\"lastName\" placeholder=\"last \nName\"&gt;\n&lt;input id=\"textauthor\" [(ngModel)]=\"age\" name=\"age\" placeholder=\"age\"&gt;\n&lt;button type=\"submit\" name=\"upload\"&gt;POST&lt;/button&gt;\n&lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>Angular ts:</strong></p>\n\n<pre><code>clientName:string;\nlastName:string;\nage:string;\nresData: any;\nselectedFile = null;\n\nonFileSelected(event) {\nthis.selectedFile = event.target.files[0];\nconsole.log(this.selectedFile);\n\nonSubmit() {\nconst payload = new FormData();\npayload.append('clientName', this.clientName);\npayload.append('lastName', this.lastName);\npayload.append('age', this.age);\npayload.append('image', this.selectedFile, this.selectedFile.name);\n\nthis.http.post(`http://localhost:8080/apiHorsesClub/uploadTestEntity`,\npayload).subscribe((data: any) =&gt; { this.resData = data;console.log(this.resData);\n  });\n}\n</code></pre>\n\n<p><strong>Rest API:</strong></p>\n\n<pre><code>@PostMapping(\"/uploadTestEntity\")\npublic String uploadTestEntity(\n         @RequestParam(\"clientName\") String clientName ,\n         @RequestParam(\"lastName\") String lastName\n         @RequestParam(\"age\") String age\n        ,@RequestParam(value = \"image\") MultipartFile image) {\n  try {\n\n      testEntity testEntity = new testEntity();\n      testEntity.setImage(image.getBytes());\n      testEntity.setClientName(clientName);\n      testEntity.setLastName(lastName);\n      testEntity.setAge(age);\n    return \"File uploaded successfully! -&gt; filename = \"+ image.getOriginalFilename();\n} catch (  Exception e) {\n  return \"FAIL! Maybe You had uploaded the file before or the file's size &gt; 500KB\";\n}    \n}\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 194, "user_id": 8297550, "user_type": "registered", "profile_image": "https://graph.facebook.com/1271279289649485/picture?type=large", "display_name": "Mohamad Alhamid", "link": "https://stackoverflow.com/users/8297550/mohamad-alhamid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 609, "favorite_count": 2, "accepted_answer_id": 56818993, "answer_count": 2, "score": 2, "last_activity_date": 1562085705, "creation_date": 1561581408, "last_edit_date": 1561826438, "question_id": 56780524, "link": "https://stackoverflow.com/questions/56780524/send-image-with-difference-data-type-from-angular-7-to-rest-api-in-spring-boot-2", "title": "Send image with difference data type from angular 7 to Rest API in spring boot 2.0.5", "body": "<p>I searched a lot in \"stack overflow\" and in other sites, no answer resolve my problem.</p>\n\n<p><strong>Angular html file:</strong></p>\n\n<pre><code>&lt;form (ngSubmit)=\"submit\"&gt;\n  &lt;div&gt;\n    &lt;input type=\"file\" [(ngModel)]=\"data.image\" name=\"image\" (change)=\"onFileSelected($event)\"&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"form\"&gt;\n    &lt;mat-form-field&gt;\n      &lt;input matInput [(ngModel)]=\"data.clientName\" name=\"clientName\"&gt;\n    &lt;/mat-form-field&gt;\n  &lt;/div&gt;\n  //........ Other inputs fields here//\n&lt;/form&gt;  \n</code></pre>\n\n<p><strong>Angular ts file:</strong></p>\n\n<pre><code>public confirmAdd(): void {\n  const payload: FormData = new FormData();\n  payload.append('clientName', this.data.clientName);\n  payload.append('dateOfBirth', this.data.dateOfBirth.toString());\n  payload.append('mobileNumber', this.data.mobileNumber);\n  payload.append('email', this.data.email);\n  //...............other fields here ..........//\n  payload.append('image', this.selectedFile); == &gt; the image\n}    \n</code></pre>\n\n<p><strong>Angular Service ts file:</strong></p>\n\n<pre><code>private httpHeaders = new HttpHeaders({\n  'Content- Type': 'multipart/form-data'\n});\n\nthis.http.post(this.urlEndTestImage, payload {\n  headers: this.httpHeaders\n}).subscribe(res =&gt; {\n  console.log(res)\n});   \n</code></pre>\n\n<p><strong>spring boot Rest API:</strong></p>\n\n<pre><code>@CrossOrigin(origins = {\n  \"http://localhost:4200\"\n})\n@RestController\n@RequestMapping(\"/apiHorsesClub\")\n\npublic class ClienteRestController {\n\n  @PostMapping(\"/upload\")\n  public String uploadMultipartFile(@RequestParam(\"model\") String clientNew, @RequestParam(value = \"image\") MultipartFile image) {\n    try {\n      ObjectMapper mapper = new ObjectMapper();\n      clientEntity client = mapper.readValue(clientNew, clientEntity.class);\n      client.setImage(image.getBytes());\n      clientService.save(client);\n      return \"successfully -&gt; filename=\" + image.getOriginalFilename();\n    } catch (Exception e) {\n      return \"FAIL!file's size &gt; 500KB\";\n    }\n  }\n}    \n</code></pre>\n\n<p>I am try to add more <code>@RequestParam()</code> and I am try <code>@RequestPart(</code>)  with the same name of fields but not work.</p>\n\n<p>This image of postman request post:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Aw9Oe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Aw9Oe.png\" alt=\"it&#39;s work no problem and save the image with data to mySql\"></a></p>\n"}, {"tags": ["java", "javafx", "java-security-manager"], "comments": [{"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1561581655, "post_id": 56780522, "comment_id": 100116164, "body": "If you were using JavaFX 9+ then you&#39;d use <a href=\"https://openjfx.io/javadoc/12/javafx.base/javafx/util/FXPermission.html\" rel=\"nofollow noreferrer\"><code>javafx.util.FXPermission</code></a>."}, {"owner": {"reputation": 341, "user_id": 9197625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQKAt.png?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/9197625/brandon"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1561581754, "post_id": 56780522, "comment_id": 100116201, "body": "That&#39;s unfortunate since I&#39;m forced to use Java 8 for my application."}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1561582961, "post_id": 56780522, "comment_id": 100116660, "body": "Looking at at <code>openjfx&#47;8u20&#47;rt</code>, it looks like <a href=\"https://hg.openjdk.java.net/openjfx/8u20/rt/file/292cf1a8bc82/modules/graphics/src/main/java/com/sun/javafx/tk/quantum/WindowStage.java#l556\" rel=\"nofollow noreferrer\">they use <code>AllPermission</code></a> for this, unfortunately. There&#39;s a comment mentioning possibly-needed finer-grained control, which I suppose comes in the form of <code>FXPermission</code> in FX 9."}], "owner": {"reputation": 341, "user_id": 9197625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQKAt.png?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/9197625/brandon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1561582104, "creation_date": 1561581383, "last_edit_date": 1592644375, "question_id": 56780522, "link": "https://stackoverflow.com/questions/56780522/permission-to-allow-javafx-8-windows-to-display-always-on-top", "title": "Permission to allow JavaFX 8 windows to display always on top?", "body": "<p>I have the Java Security Manager enabled on my application along with a custom security policy configured in the project directory. I am trying to display a JavaFX window always on top, however with the Security Manager enabled, I am unable to do this.</p>\n<p>After reviewing the Javadoc for <code>Stage#setAlwaysOnTop(boolean)</code>, I was left with this:</p>\n<blockquote>\n<p>There are differences in behavior between applications if a Security Manager is present. Applications with permissions are allowed to set &quot;always on top&quot; flag on a Stage. In applications without the proper permissions, an attempt to set the flag will be ignored and the property value will be restored to &quot;false&quot;.</p>\n<p>The property is read only because it can be changed externally by the underlying platform and therefore must not be bindable.</p>\n</blockquote>\n<p>I have tried searching online through other sources and the <a href=\"https://docs.oracle.com/javase/8/javafx/api/toc.htm\" rel=\"nofollow noreferrer\">official Oracle JavaFX 8 Javadocs</a> to at least hint me on what permission I should grant in my policy to allow JavaFX windows to display always on top, however I am out of luck.</p>\n<p>Note: I do not want to grant my application <code>java.security.AllPermission</code>, I only want to grant my application the permissions that it requires.</p>\n"}, {"tags": ["java", "ssl", "jdbc", "sap-ase", "jconnect"], "comments": [{"owner": {"reputation": 27440, "user_id": 4756299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38adc5559df095cfe10c664916e8ffa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Henle", "link": "https://stackoverflow.com/users/4756299/andrew-henle"}, "edited": false, "score": 0, "creation_date": 1561630666, "post_id": 56780495, "comment_id": 100131894, "body": "It looks like whatever protocol/cipher suite your client is trying to use isn&#39;t supported by the server.  What are the SSL/TLS settings in your <code>JRE&#47;lib&#47;security&#47;java.security</code> file?  Unfortunately, I&#39;m not aware of any TDS-enabled SSL analysis tool that could detect what the Sybase server supports."}, {"owner": {"reputation": 79, "user_id": 4915108, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8f264b09c6aab8a70d4f0e7194b56d4a?s=128&d=identicon&r=PG&f=1", "display_name": "kush", "link": "https://stackoverflow.com/users/4915108/kush"}, "reply_to_user": {"reputation": 27440, "user_id": 4756299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38adc5559df095cfe10c664916e8ffa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Henle", "link": "https://stackoverflow.com/users/4756299/andrew-henle"}, "edited": false, "score": 0, "creation_date": 1561642289, "post_id": 56780495, "comment_id": 100138805, "body": "Sybase only supports the TLS protocol base ciphers. I tried with replacing local_policy and US_Export_policy jar with unlimited strengthen policies. Also tried to force in code to use TLSv1.2 like SSLContext ctx = SSLContext.getInstance(&quot;TLSv1.2&quot;)."}, {"owner": {"reputation": 477, "user_id": 2018328, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/675eef9965115098008cea2f8f19c77c?s=128&d=identicon&r=PG", "display_name": "senthil prabhu", "link": "https://stackoverflow.com/users/2018328/senthil-prabhu"}, "edited": false, "score": 0, "creation_date": 1570089934, "post_id": 56780495, "comment_id": 102805943, "body": "Facing same issue... Please post if you sort it out."}, {"owner": {"reputation": 79, "user_id": 4915108, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8f264b09c6aab8a70d4f0e7194b56d4a?s=128&d=identicon&r=PG&f=1", "display_name": "kush", "link": "https://stackoverflow.com/users/4915108/kush"}, "edited": false, "score": 0, "creation_date": 1570263678, "post_id": 56780495, "comment_id": 102864485, "body": "Are you using OpenSSL or common crypto library? check this KBA <a href=\"https://launchpad.support.sap.com/#/notes/1899365\" rel=\"nofollow noreferrer\">launchpad.support.sap.com/#/notes/1899365</a> and also make sure you are using the right jconn4.jar, prefer jconn4.jar from your installation."}], "owner": {"reputation": 79, "user_id": 4915108, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8f264b09c6aab8a70d4f0e7194b56d4a?s=128&d=identicon&r=PG&f=1", "display_name": "kush", "link": "https://stackoverflow.com/users/4915108/kush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1335, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1561581254, "creation_date": 1561581254, "question_id": 56780495, "link": "https://stackoverflow.com/questions/56780495/how-to-connect-sybase-ase-with-jdbc-and-ssl-connection", "title": "How to connect Sybase ASE with JDBC and SSL connection?", "body": "<p>I'm trying to establish an SSL connection to a Sybase ASE 16.0 using JDBC driver. On the server, through interactive SQL, I am able to access the ASE server with SSL. I am using Jconnect 4 (jconn4.jar) and JDK 8 with the following connection string: jdbc:sybase:Tds:host:port/dbname?ENABLE_SSL=true. Server certificate imported to the java application trust store using keytool. I have gone through the <a href=\"https://stackoverflow.com/questions/31383145/how-to-connect-to-sybase-ase-using-jdbc-driver-and-ssl-connection\">other question already asked here</a> but it doesn't help me to rectify this problem. Test code is below. </p>\n\n<pre><code>try {\n        Class.forName(\"com.sybase.jdbc4.jdbc.SybDriver\");\n        Connection con = DriverManager.getConnection(\n                \"jdbc:sybase:Tds:host:5000/master?ENABLE_SSL=TRUE\", \"sa\",\n                \"password\");\n        System.out.println(\"*********Connected**********\");\n        Statement stmt = con.createStatement();\n        ResultSet rs = stmt.executeQuery(\"select @@ssl_ciphersuite\");\n        int i = 1;\n        while (rs.next()) {\n            System.out.println(\"Row: \" + i);\n            System.out.println(\"ID: \" + rs.getString(1).trim());\n            System.out.println(\" \");\n            i = i + 1;\n        }\n        con.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>My JDBC code throwing below exception.\nThe connection should be established over the secure network but facing below error. </p>\n\n<pre><code>java.sql.SQLException: JZ00L: Login failed.  Examine the SQLWarnings chained to this exception for the reason(s).\n    at com.sybase.jdbc4.jdbc.SybConnection.getAllExceptions(Unknown Source)\n    at com.sybase.jdbc4.jdbc.SybConnection.handleSQLE(Unknown Source)\n    at com.sybase.jdbc4.jdbc.SybConnection.a(Unknown Source)\n    at com.sybase.jdbc4.jdbc.SybConnection.handleHAFailover(Unknown Source)\n    at com.sybase.jdbc4.jdbc.SybConnection.&lt;init&gt;(Unknown Source)\n    at com.sybase.jdbc4.jdbc.SybConnection.&lt;init&gt;(Unknown Source)\n    at com.sybase.jdbc4.jdbc.SybDriver.connect(Unknown Source)\n    at java.sql.DriverManager.getConnection(DriverManager.java:664)\n    at java.sql.DriverManager.getConnection(DriverManager.java:247)\n    at com.testing.Test.main(Test.java:41)\n</code></pre>\n\n<p>I checked the Sybase log see the following error:</p>\n\n<pre><code>kernel  SSL or Crypto Error Message: 'The SSL handshake failed.  Root error: error:140760FC:SSL routines:SSL23_GET_CLIENT_HELLO:unknown protocol'.\n</code></pre>\n\n<p>I went through the multiple Sybase documentation but no luck. Any help will be much appreciated. Thanks in advance!!</p>\n"}, {"tags": ["java", "spring", "spring-boot", "dependency-injection", "autowired"], "comments": [{"owner": {"reputation": 5046, "user_id": 4896651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b3591bbcef7bf1e8fb4ecab817e2920?s=128&d=identicon&r=PG&f=1", "display_name": "Shadov", "link": "https://stackoverflow.com/users/4896651/shadov"}, "edited": false, "score": 0, "creation_date": 1561582252, "post_id": 56780484, "comment_id": 100116414, "body": "Works for me (spring boot 2.1.6.RELEASE), are you sure you don&#39;t have any other important parts that could cause the error? Possibly starting a new thread manually somewhere? Or maybe hystrix commands?"}, {"owner": {"reputation": 517, "user_id": 5625689, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rfx7V0E3MVM/AAAAAAAAAAI/AAAAAAAAAD8/S9sadzg2n_g/photo.jpg?sz=128", "display_name": "Andy Jenkins", "link": "https://stackoverflow.com/users/5625689/andy-jenkins"}, "reply_to_user": {"reputation": 5046, "user_id": 4896651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b3591bbcef7bf1e8fb4ecab817e2920?s=128&d=identicon&r=PG&f=1", "display_name": "Shadov", "link": "https://stackoverflow.com/users/4896651/shadov"}, "edited": false, "score": 0, "creation_date": 1561582782, "post_id": 56780484, "comment_id": 100116604, "body": "@Shadov I am on <code>2.1.4.RELEASE</code>. I&#39;m not messing with threads and have no <code>hystrix</code> commands. I am looking around to see if there is something that may be affecting the DI but nothing jumps out."}, {"owner": {"reputation": 517, "user_id": 5625689, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rfx7V0E3MVM/AAAAAAAAAAI/AAAAAAAAAD8/S9sadzg2n_g/photo.jpg?sz=128", "display_name": "Andy Jenkins", "link": "https://stackoverflow.com/users/5625689/andy-jenkins"}, "reply_to_user": {"reputation": 5046, "user_id": 4896651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b3591bbcef7bf1e8fb4ecab817e2920?s=128&d=identicon&r=PG&f=1", "display_name": "Shadov", "link": "https://stackoverflow.com/users/4896651/shadov"}, "edited": false, "score": 0, "creation_date": 1561583104, "post_id": 56780484, "comment_id": 100116722, "body": "@Shadov I have found a security config, I will add it to my question."}, {"owner": {"reputation": 5046, "user_id": 4896651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b3591bbcef7bf1e8fb4ecab817e2920?s=128&d=identicon&r=PG&f=1", "display_name": "Shadov", "link": "https://stackoverflow.com/users/4896651/shadov"}, "edited": false, "score": 0, "creation_date": 1561583823, "post_id": 56780484, "comment_id": 100117006, "body": "Lot of things that could potentially go wrong, hard to say without seeing everything. Comment out two annotations on SecurityConfig and see if your filter works, it will be clear if this class is at fault. And search your project for <code>new JwtAuthenticationFilter()</code> and <code>@Async</code>, make sure no one does that."}, {"owner": {"reputation": 517, "user_id": 5625689, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rfx7V0E3MVM/AAAAAAAAAAI/AAAAAAAAAD8/S9sadzg2n_g/photo.jpg?sz=128", "display_name": "Andy Jenkins", "link": "https://stackoverflow.com/users/5625689/andy-jenkins"}, "reply_to_user": {"reputation": 5046, "user_id": 4896651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b3591bbcef7bf1e8fb4ecab817e2920?s=128&d=identicon&r=PG&f=1", "display_name": "Shadov", "link": "https://stackoverflow.com/users/4896651/shadov"}, "edited": false, "score": 0, "creation_date": 1561584269, "post_id": 56780484, "comment_id": 100117149, "body": "@Shadov I know :( but definitely no <code>new JwtAuthenticationFilter()</code> anywhere. When I remove those annotations, my Authentication Filter doesn&#39;t get hit at all. Don&#39;t know if that helps?"}, {"owner": {"reputation": 5046, "user_id": 4896651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b3591bbcef7bf1e8fb4ecab817e2920?s=128&d=identicon&r=PG&f=1", "display_name": "Shadov", "link": "https://stackoverflow.com/users/4896651/shadov"}, "edited": false, "score": 0, "creation_date": 1561585951, "post_id": 56780484, "comment_id": 100117652, "body": "Go to class <code>RequestContextHolder</code>, setup a breakpoint and debug it. Focus on <code>resetRequestAttributes</code> method, and look for any usages of this class in your code. The only thing that comes to my mind is that some filter before your filter is resetting the request holder, causing your filter to fail."}, {"owner": {"reputation": 6419, "user_id": 1840146, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/846e219cba64c80b7b0398b239cd4db9?s=128&d=identicon&r=PG", "display_name": "Toerktumlare", "link": "https://stackoverflow.com/users/1840146/toerktumlare"}, "edited": false, "score": 0, "creation_date": 1561594862, "post_id": 56780484, "comment_id": 100119619, "body": "is there any reason as to why you are writing a custom jwt filter instead of using the built in one? <a href=\"https://docs.spring.io/spring-security/site/docs/5.2.0.M3/reference/htmlsingle/#oauth2resourceserver-sansboot\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/5.2.0.M3/reference/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1561618853, "post_id": 56780484, "comment_id": 100125271, "body": "Remove <code>@Component</code> from your filter and the <code>@Autowired</code>. Create an <code>@Bean</code>  annotated method to construct your filter AND create another <code>@Bean</code> to register a <code>FilterRegistrationBean</code> which you configure so Spring Boot will ignore this filter. Else it will be registered before the spring Security chain and before the setup of the request context needed for scoped beans."}], "answers": [{"comments": [{"owner": {"reputation": 517, "user_id": 5625689, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rfx7V0E3MVM/AAAAAAAAAAI/AAAAAAAAAD8/S9sadzg2n_g/photo.jpg?sz=128", "display_name": "Andy Jenkins", "link": "https://stackoverflow.com/users/5625689/andy-jenkins"}, "edited": false, "score": 0, "creation_date": 1561625194, "post_id": 56785720, "comment_id": 100128641, "body": "How does this work when I have <code>Autowired</code> properties inside the <code>JwtAuthenticationFilter</code>?"}, {"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "reply_to_user": {"reputation": 517, "user_id": 5625689, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rfx7V0E3MVM/AAAAAAAAAAI/AAAAAAAAAD8/S9sadzg2n_g/photo.jpg?sz=128", "display_name": "Andy Jenkins", "link": "https://stackoverflow.com/users/5625689/andy-jenkins"}, "edited": false, "score": 0, "creation_date": 1561628763, "post_id": 56785720, "comment_id": 100130784, "body": "It is still a bean, just as with <code>@Component</code> but now you have a bit more control."}, {"owner": {"reputation": 5046, "user_id": 4896651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b3591bbcef7bf1e8fb4ecab817e2920?s=128&d=identicon&r=PG&f=1", "display_name": "Shadov", "link": "https://stackoverflow.com/users/4896651/shadov"}, "edited": false, "score": 0, "creation_date": 1561752570, "post_id": 56785720, "comment_id": 100179575, "body": "I don&#39;t understand, why do you assume his filter is part of the spring security filter chain?"}, {"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1561753805, "post_id": 56785720, "comment_id": 100179993, "body": "I don\u2019t assume... That is because <code>addFilterBefore</code> is doing exactly that, adding the filter to the spring security filter chain."}, {"owner": {"reputation": 517, "user_id": 5625689, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rfx7V0E3MVM/AAAAAAAAAAI/AAAAAAAAAD8/S9sadzg2n_g/photo.jpg?sz=128", "display_name": "Andy Jenkins", "link": "https://stackoverflow.com/users/5625689/andy-jenkins"}, "edited": false, "score": 0, "creation_date": 1562233833, "post_id": 56785720, "comment_id": 100317771, "body": "@M.Deinum sorry for the delay in attempting your suggestion. Unfortunately I am still presented with the same error when trying to autowire the <code>UserProfile</code>."}], "tags": [], "owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "is_accepted": false, "score": 0, "last_activity_date": 1561619189, "creation_date": 1561619189, "answer_id": 56785720, "question_id": 56780484, "link": "https://stackoverflow.com/questions/56780484/unable-to-autowire-component-with-request-scope-in-servlet-filter/56785720#56785720", "title": "Unable to Autowire Component with Request Scope in Servlet Filter", "body": "<p>When Spring Boot detects a <code>Filter</code> in the <code>ApplicationContext</code> it will automatically register it in the chain of filters for the servlet container. However you don't want this to happen in this case as the filter is part of the Spring Security filter chain. </p>\n\n<p>To fix do the following:</p>\n\n<ol>\n<li>Remove <code>@Component</code> from your filter</li>\n<li>Don't <code>@Autowire</code> the <code>JwtAuthenticationFilter</code></li>\n<li>Create an <code>@Bean</code> method for the <code>JwtAuthenticationFilter</code></li>\n<li>Create an <code>@Bean</code> method for a <code>FilterRegistrationBean</code> to disable the registration process. </li>\n</ol>\n\n<pre><code>\n@Bean\npublic JwtAuthenticationFilter jwtAuthenticationFilter() {\n  return new JwtAuthenticationFilter();\n}\n\n@Bean\npublic FilterRegistrationBean&lt;JwtAuthenticationFilter&gt; jwtAuthenticationFilterRegistrationBean() {\n  FilterRegistrationBean&lt;JwtAuthenticationFilter&gt; frb = new JwtAuthenticationFilter(jwtAuthenticationFilter());\n  frb.setEnabled(false);\n  return frb;\n}\n</code></pre>\n\n<p>Then in your code instead of the <code>getFilter</code>  just reference the <code>jwtAuthenticationFilter()</code> method. </p>\n"}, {"comments": [{"owner": {"reputation": 517, "user_id": 5625689, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rfx7V0E3MVM/AAAAAAAAAAI/AAAAAAAAAD8/S9sadzg2n_g/photo.jpg?sz=128", "display_name": "Andy Jenkins", "link": "https://stackoverflow.com/users/5625689/andy-jenkins"}, "edited": false, "score": 0, "creation_date": 1562233925, "post_id": 56796322, "comment_id": 100317826, "body": "Thanks for the suggestion, when I try this I get the following error: <code>NoClassDefFoundError: javax&#47;inject&#47;Provider</code> even though I have this dependency."}, {"owner": {"reputation": 751, "user_id": 506069, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5a5b9f869c5f19569d2ec35245b9be79?s=128&d=identicon&r=PG", "display_name": "user506069", "link": "https://stackoverflow.com/users/506069/user506069"}, "reply_to_user": {"reputation": 517, "user_id": 5625689, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rfx7V0E3MVM/AAAAAAAAAAI/AAAAAAAAAD8/S9sadzg2n_g/photo.jpg?sz=128", "display_name": "Andy Jenkins", "link": "https://stackoverflow.com/users/5625689/andy-jenkins"}, "edited": false, "score": 0, "creation_date": 1562351993, "post_id": 56796322, "comment_id": 100360374, "body": "Edited my response so you can try this without using the Provider interface."}], "tags": [], "owner": {"reputation": 751, "user_id": 506069, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5a5b9f869c5f19569d2ec35245b9be79?s=128&d=identicon&r=PG", "display_name": "user506069", "link": "https://stackoverflow.com/users/506069/user506069"}, "is_accepted": false, "score": 1, "last_activity_date": 1562347224, "last_edit_date": 1562347224, "creation_date": 1561657780, "answer_id": 56796322, "question_id": 56780484, "link": "https://stackoverflow.com/questions/56780484/unable-to-autowire-component-with-request-scope-in-servlet-filter/56796322#56796322", "title": "Unable to Autowire Component with Request Scope in Servlet Filter", "body": "<p>I believe the issue may be that you are attempting to inject a request-scoped bean (smaller scope) into a singleton-scoped bean (larger scope). There are a couple of reasons why this won't work:</p>\n\n<ul>\n<li>No request scope is active when the singleton is instantiated</li>\n<li>For the second request, the singleton would be working with the same stale bean that was injected for the first request.</li>\n</ul>\n\n<p>You can get around this using a javax.inject.Provider to lazily inject the request-scoped bean on demand.</p>\n\n<pre><code>@Component\npublic class JwtAuthenticationFilter extends GenericFilterBean implements Filter {\n\n    @Autowired\n    public Provider&lt;UserProfile&gt; userProfileProvider;\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse resp, FilterChain next) throws IOException, ServletException {\n\n        ....\n\n        userProfileProvider.get()\n            .username(authorizedUser.username())\n            .email(authorizedUser.email())\n            .firstName(authorizedUser.firstName())\n            .lastName(authorizedUser.lastName());\n    }\n}\n</code></pre>\n\n<p>Spring has a similar interface <code>org.springframework.beans.factory.ObjectFactory</code> you can use if you are having trouble getting Provider's dependencies set up.</p>\n\n<pre><code>@Component\npublic class JwtAuthenticationFilter extends GenericFilterBean implements Filter {\n\n    @Autowired\n    public ObjectFactory&lt;UserProfile&gt; userProfileFactory;\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse resp, FilterChain next) throws IOException, ServletException {\n\n        ....\n\n        userProfileFactory.getObject()\n            .username(authorizedUser.username())\n            .email(authorizedUser.email())\n            .firstName(authorizedUser.firstName())\n            .lastName(authorizedUser.lastName());\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 517, "user_id": 5625689, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rfx7V0E3MVM/AAAAAAAAAAI/AAAAAAAAAD8/S9sadzg2n_g/photo.jpg?sz=128", "display_name": "Andy Jenkins", "link": "https://stackoverflow.com/users/5625689/andy-jenkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1547, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1562347224, "creation_date": 1561581206, "last_edit_date": 1561583215, "question_id": 56780484, "link": "https://stackoverflow.com/questions/56780484/unable-to-autowire-component-with-request-scope-in-servlet-filter", "title": "Unable to Autowire Component with Request Scope in Servlet Filter", "body": "<p>I have a request filter that sits in front of a controller. This filter retrieves a user profile and sets the properties on a <code>userProfile</code> Component with Request Scope and then passes on to the next filter.</p>\n\n<p>When trying to access the <code>userProfile</code> from inside the filter, the property has not been successfully autowired.</p>\n\n<p>I see the following exception when trying to autowire the <code>userProfile</code> from inside the filter:</p>\n\n<blockquote>\n  <p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'scopedTarget.userProfile': Scope 'request' is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.</p>\n</blockquote>\n\n<p>When trying to access the <code>userProfile</code> from inside the controller however, the property has been successfully autowired.</p>\n\n<p>How can I successfully autowire the <code>userProfile</code> Component inside the filter?</p>\n\n<p><strong>Request filter:</strong></p>\n\n<pre><code>@Component\npublic class JwtAuthenticationFilter extends GenericFilterBean implements Filter {\n\n    @Autowired\n    public UserProfile userProfile;\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse resp, FilterChain next) throws IOException, ServletException {\n\n        ....\n\n        userProfile\n            .username(authorizedUser.username())\n            .email(authorizedUser.email())\n            .firstName(authorizedUser.firstName())\n            .lastName(authorizedUser.lastName());\n    }\n}\n</code></pre>\n\n<p><strong>Controller:</strong></p>\n\n<pre><code>@CrossOrigin\n@RestController\n@RequestMapping(\"/users\")\npublic class UsersController {\n\n    @Autowired\n    public UserProfile userProfile;\n\n    @GetMapping(\n        path = \"/current\",\n        produces = MediaType.APPLICATION_JSON_VALUE\n    )\n    @ResponseStatus(HttpStatus.OK)\n    public String currentUser() throws ResponseFormatterException {\n\n        System.out.println(userProfile.email());\n    }\n}\n</code></pre>\n\n<p><strong>User Profile:</strong></p>\n\n<pre><code>@Component\n@RequestScope\npublic class UserProfile {\n\n    @Getter @Setter\n    @Accessors(fluent = true)\n    @JsonProperty(\"username\")\n    private String username;\n\n    @Getter @Setter\n    @Accessors(fluent = true)\n    @JsonProperty(\"email\")\n    private String email;\n\n    @Getter @Setter\n    @Accessors(fluent = true)\n    @JsonProperty(\"firstName\")\n    private String firstName;\n\n    @Getter @Setter\n    @Accessors(fluent = true)\n    @JsonProperty(\"lastName\")\n    private String lastName;\n}\n</code></pre>\n\n<p><strong>Security Config:</strong></p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfigurator extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private JwtAuthenticatingFilter jwtAuthenticatingFilter;\n\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(getAuthenticator());\n    }\n\n    public void configure(WebSecurity web) throws Exception {\n      web\n        .ignoring()\n           .antMatchers(\"/actuator/**\")\n           .antMatchers(\"/favicon.ico\");\n    }\n\n    protected void configure(HttpSecurity http) throws Exception { \n      http\n        .csrf()\n          .disable()\n        .sessionManagement()\n          .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n          .and()\n        .authorizeRequests()\n          .antMatchers(\"/actuator/**\").permitAll()\n          .antMatchers(\"/favicon.ico\").permitAll()\n          .and()\n        .authorizeRequests()\n          .anyRequest()\n            .authenticated()\n            .and()\n          .addFilterBefore(getFilter(), SessionManagementFilter.class)\n            .authenticationProvider(getAuthenticator())\n            .exceptionHandling()\n            .authenticationEntryPoint(new HttpAuthenticationEntryPoint());\n    }\n\n    protected AbstractAuthenticator getAuthenticator() {\n        return new JwtAuthenticator();\n    }\n\n    protected AuthenticatingFilter getFilter() {\n        return jwtAuthenticatingFilter;\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "json"], "answers": [{"tags": [], "owner": {"reputation": 160, "user_id": 4818195, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ebD1Z.jpg?s=128&g=1", "display_name": "Hatem Mohamed", "link": "https://stackoverflow.com/users/4818195/hatem-mohamed"}, "is_accepted": false, "score": 0, "last_activity_date": 1561582204, "creation_date": 1561582204, "answer_id": 56780693, "question_id": 56780375, "link": "https://stackoverflow.com/questions/56780375/how-to-go-about-parsing-a-large-json-file-for-search-bar-suggestions/56780693#56780693", "title": "How to go about parsing a large JSON file for search bar suggestions", "body": "<p>I think in your case loading the cities in memory (Singleton Object) is better ,\nor if the target client resources/ram will be affected then you will need to have a remote server for doing the work either a search engine (like ElasticSearch ) or a rest application that will do the processing and caching </p>\n\n<p>Plus that caching the search requests will help in preventing the redundant processing . </p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 2708277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pncKF.jpg?s=128&g=1", "display_name": "Kallinikos", "link": "https://stackoverflow.com/users/2708277/kallinikos"}, "edited": false, "score": 0, "creation_date": 1561740273, "post_id": 56780704, "comment_id": 100175246, "body": "I&#39;m accepting this answers since the first approach is what I&#39;ve <a href=\"https://stackoverflow.com/a/56810513/2708277\">implemented</a>"}], "tags": [], "owner": {"reputation": 1888, "user_id": 6739012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/smqSL.png?s=128&g=1", "display_name": "Ratul Bin Tazul", "link": "https://stackoverflow.com/users/6739012/ratul-bin-tazul"}, "is_accepted": true, "score": 0, "last_activity_date": 1561582230, "creation_date": 1561582230, "answer_id": 56780704, "question_id": 56780375, "link": "https://stackoverflow.com/questions/56780375/how-to-go-about-parsing-a-large-json-file-for-search-bar-suggestions/56780704#56780704", "title": "How to go about parsing a large JSON file for search bar suggestions", "body": "<p><strong>Approach 1</strong>: A better approach is to request the JSON in background as soon as the app starts up and saving it to a Local storage(SQlite, Room Persistence or just sharedpreference). </p>\n\n<p><strong>Approach 2:</strong> The second trick is to show only a large enough number but not to large. \nSuppose user there are 1000 results matching the string of user input. Just query the local or remote database to show best matching 100. No sane person will scroll past 100 results without modifying/writing his input text again.</p>\n\n<p><strong>Best Approach:</strong> Use a pagination library to load data as the user scrolls down.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 2708277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pncKF.jpg?s=128&g=1", "display_name": "Kallinikos", "link": "https://stackoverflow.com/users/2708277/kallinikos"}, "is_accepted": false, "score": 0, "last_activity_date": 1561740136, "creation_date": 1561740136, "answer_id": 56810513, "question_id": 56780375, "link": "https://stackoverflow.com/questions/56780375/how-to-go-about-parsing-a-large-json-file-for-search-bar-suggestions/56810513#56810513", "title": "How to go about parsing a large JSON file for search bar suggestions", "body": "<p><strong>Here's how I went about solving this:</strong></p>\n\n<ul>\n<li>Used Room to handle database operations:</li>\n</ul>\n\n<p>City entity:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class City {\n    @PrimaryKey\n    private long id;\n    private String name;\n    private String country;\n    @Embedded\n    private Coord coord;\n\n    public City(){\n\n    }\n\n    public City(JSONObject json){\n        this.id = json.optLong(\"id\");\n        this.name = json.optString(\"name\");\n        this.country = json.optString(\"country\");\n        this.coord = new Coord(json.optJSONObject(\"coord\"));\n    }\n\n    public City(long id, String name, String country, Coord coord) {\n        this.id = id;\n        this.name = name;\n        this.country = country;\n        this.coord = coord;\n    }\n\n    // getters and setters ...\n}\n\n</code></pre>\n\n<p>City DAO:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\n@Dao\npublic interface CityDao {\n    @Query(\"SELECT * FROM city\")\n    List&lt;City&gt; getAll();\n\n    // Used to query search suggestions\n    @Query(\"SELECT * FROM city WHERE name LIKE :name || '%' ORDER BY name ASC LIMIT 10\")\n    City findByName(String name);\n\n    // Used to determine whether or not the db was created\n    @Query(\"SELECT COUNT(*) FROM city\")\n    int getCitySize();\n\n    @Insert\n    void insertAll(City... cities);\n\n    @Insert\n    void insertCity(City city);\n\n    @Delete\n    void deleteCity(City city);\n\n    @Query(\"DELETE FROM city\")\n    public void nukeCities();\n}\n</code></pre>\n\n<p>AppDatabase:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Database(entities = {City.class}, version = 1)\npublic abstract class AppDatabase extends RoomDatabase {\n    public abstract CityDao cityDao();\n}\n</code></pre>\n\n<ul>\n<li>In the Application class I implemented a Runnable with a callback that upon parsing the JSON and populating the db starts the countdown of a CountDownLatch(used by the AddCityFragment to enable the fab) </li>\n</ul>\n\n<p>Application:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class App extends Application implements RunnableCompleteListener {\n    private final CountDownLatch startLatch = new CountDownLatch(1);\n    private AppDatabase appDB;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        appDB = Room.databaseBuilder(getApplicationContext(), AppDatabase.class, \"cities-db\").build();\n\n        NotifyingRunnable readCitiesJSON = new NotifyingRunnable() {\n            List&lt;City&gt; citiesList = new ArrayList&lt;&gt;();\n\n            @Override\n            public void doRun() {\n                int dbCitySize = appDB.cityDao().getCitySize();\n                // if db is empty\n                if (dbCitySize == 0){\n                    citiesList = HelperFunctions.getCitiesFromJSON(getApplicationContext());\n                    appDB.cityDao().insertAll(citiesList.toArray(new City[citiesList.size()]));\n                }\n            }\n        };\n        readCitiesJSON.addListener(this);\n        Thread worker = new Thread(readCitiesJSON);\n        worker.start();\n    }\n\n    public AppDatabase getDatabase() {\n        return appDB;\n    }\n\n    public CountDownLatch getStartLatch() {\n        return startLatch;\n    }\n\n    @Override\n    public void notifyOfRunnableComplete(Runnable runnable) {\n        startLatch.countDown();\n    }\n}\n\n</code></pre>\n\n<p>Runnable implementation:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface RunnableCompleteListener {\n    void notifyOfRunnableComplete(final Runnable runnable);\n}\n\npublic abstract class NotifyingRunnable implements Runnable {\n    private final Set&lt;RunnableCompleteListener&gt; listeners = new CopyOnWriteArraySet&lt;RunnableCompleteListener&gt;();\n\n    public final void addListener(final RunnableCompleteListener listener){\n        listeners.add(listener);\n    }\n\n    public final void removeListener(final RunnableCompleteListener listener){\n        listeners.remove(listener);\n    }\n\n    private final void notifyListeners(){\n        for(RunnableCompleteListener listener : listeners){\n            listener.notifyOfRunnableComplete(this);\n        }\n    }\n\n    @Override\n    public final void run() {\n        try{\n            doRun();\n        }finally {\n            notifyListeners();\n        }\n    }\n\n    public abstract void doRun();\n}\n\n</code></pre>\n\n<ul>\n<li>Changed getCitiesFromJSON to treat the json as an object no need for stream access since i'll be using the database for that</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>\n    public static List&lt;City&gt; getCitiesFromJSON(Context context){\n        String json = \"\";\n        try {\n            InputStream is = context.getAssets().open(\"jsons/city.list.min.json\");\n            int size = is.available();\n\n            // read the entire asset into a local buffer\n            byte[] buffer = new byte[size];\n            is.read(buffer);\n            is.close();\n            json = new String(buffer, \"UTF-8\");\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        List&lt;City&gt; citiesList = new ArrayList&lt;City&gt;();\n        Type listType = new TypeToken&lt;ArrayList&lt;City&gt;&gt;() {}.getType();\n\n        // convert json into a list of cities\n        try {\n            citiesList = new Gson().fromJson(json, listType);\n        }catch (Exception e){\n            Log.e(\"Error parsing\", e.toString());\n        }\n        return citiesList;\n    }\n</code></pre>\n\n<ul>\n<li>Finally inside the onCreateView of the fragment a thread waits for the latch to count down in order to enable the fab</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code> @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        ...\n\n        fabAddCity = view.findViewById(R.id.fabAddCity);\n        fabAddCity.setOnClickListener(this);\n        // disabled by default\n        fabAddCity.setEnabled(false);\n        fabAddCity.getBackground().setColorFilter(Color.GRAY, PorterDuff.Mode.MULTIPLY);\n        // the thread that controls the fab state\n        Thread fabController = new Thread(() -&gt; {\n            try {\n                ((App)getActivity().getApplication()).getStartLatch().await();\n                getActivity().runOnUiThread(() -&gt; {\n                    fabAddCity.setEnabled(true);\n                    fabAddCity.getBackground().setColorFilter(null);\n                });\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        });\n\n        fabController.start();\n        ...\n    }\n\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 2708277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pncKF.jpg?s=128&g=1", "display_name": "Kallinikos", "link": "https://stackoverflow.com/users/2708277/kallinikos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 56780704, "answer_count": 3, "score": 1, "last_activity_date": 1561740136, "creation_date": 1561580728, "question_id": 56780375, "link": "https://stackoverflow.com/questions/56780375/how-to-go-about-parsing-a-large-json-file-for-search-bar-suggestions", "title": "How to go about parsing a large JSON file for search bar suggestions", "body": "<p>I'm trying to parse a 29mb <a href=\"http://bulk.openweathermap.org/sample/city.list.json.gz\" rel=\"nofollow noreferrer\">JSON</a> containing cities of the the world for a weather app.</p>\n\n<p>This is the JSON structure:</p>\n\n<pre><code>[\n  {\n    \"id\": 707860,\n    \"name\": \"Hurzuf\",\n    \"country\": \"UA\",\n    \"coord\": {\n      \"lon\": 34.283333,\n      \"lat\": 44.549999\n    }\n  },\n  {\n    \"id\": 519188,\n    \"name\": \"Novinki\",\n    \"country\": \"RU\",\n    \"coord\": {\n      \"lon\": 37.666668,\n      \"lat\": 55.683334\n    }\n  },\n  {\n    \"id\": 1283378,\n    \"name\": \"Gorkh\u0101\",\n    \"country\": \"NP\",\n    \"coord\": {\n      \"lon\": 84.633331,\n      \"lat\": 28\n    }\n  },\n...\n]\n</code></pre>\n\n<p>I have a Fragment that contains a list of saved cities and a fab that prompts a alert dialog with a textfield where the user is supposed to type the city name and get suggestions from the parsed data.</p>\n\n<p>My problem is that parsing this file is eating a lot of memory and slowing the user xp (even though it is running on a different thread the fab is disabled until the operation is done).\nParsing the file each time the user accesses the cities fragment seems stupid so is keeping the result object in memory, \nso i guess my question is how should i approach this??</p>\n\n<p>Using GSON like <a href=\"https://stackoverflow.com/questions/42074381/android-best-approach-to-parse-huge-extra-large-json-file-from-assets\">this</a> thread or <a href=\"https://computersciencegeeks.wordpress.com/2017/08/16/read-large-json-files-using-gson/\" rel=\"nofollow noreferrer\">this</a> article suggests is great but it doesn't tackle the repetitive nature of the problem.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;City&gt; getCitiesFromJSON(Context context){\n    List&lt;City&gt; cityList = new LinkedList&lt;&gt;();\n    try{\n        InputStream is = context.getAssets().open(\"jsons/city.list.min.json\");\n        JsonReader reader = new JsonReader(new InputStreamReader(is, \"UTF-8\"));\n\n        reader.beginArray();\n\n        Gson gson = new GsonBuilder().create();\n\n        while (reader.hasNext()){\n            City cityJson = gson.fromJson(reader, City.class);\n            City city = new City();\n            city.setId(cityJson.getId());\n            city.setName(cityJson.getName());\n            city.setCountry(cityJson.getCountry());\n            city.setCoord(new Coord(cityJson.getCoord().getLon(),cityJson.getCoord().getLat()));\n            cityList.add(city);\n        }\n        reader.close();\n    } catch (UnsupportedEncodingException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return cityList;\n}\n</code></pre>\n\n<p><strong>tl;dr</strong></p>\n\n<p>Need to parse big JSON for search suggestions each time the user tries to add to a list, but that operation is both memory and time consuming so i need a better way.</p>\n"}, {"tags": ["java", "spring", "spring-boot", "spring-mvc", "paypal"], "comments": [{"owner": {"reputation": 1481, "user_id": 175554, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d970c46dfabc05a2334a790de9355677?s=128&d=identicon&r=PG", "display_name": "&#246;zkan pakdil", "link": "https://stackoverflow.com/users/175554/%c3%b6zkan-pakdil"}, "edited": false, "score": 0, "creation_date": 1578240735, "post_id": 56780355, "comment_id": 105367476, "body": "sounds like token has expire time. I suggest if you get that error re-run the create token function."}], "owner": {"reputation": 87, "user_id": 4351855, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/--ra41uQXZk8/AAAAAAAAAAI/AAAAAAAAACM/BePY0bENppY/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/4351855/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 408, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1577328139, "creation_date": 1561580637, "question_id": 56780355, "link": "https://stackoverflow.com/questions/56780355/paypal-access-token-not-found-in-cache-401-live", "title": "PayPal Access Token not found in cache 401 live", "body": "<p>So I wrote the paypal checkout controller method, I set it up to a button, and when you press the button on the website, it loads to the paypal checkout site, you can login and pay, and it works fine, gives me the money and gives them their items bought. But after a day it fails to work, and everytime I click the paypal checkout it throws an error.</p>\n\n<p>The Error</p>\n\n<pre><code>2019-06-26 00:15:35.600 ERROR 17396 --- [http-nio-8080-exec-2] com.paypal.base.HttpConnection           : Response code: 401    Error response: {\"error\":\"invalid_token\",\"error_description\":\"Access Token not found in cache\"}\n\n2019-06-26 00:15:35.608 ERROR 17396 --- [http-nio-8080-exec-2] c.r.api.controllers.PaymentController    : Response code: 401    Error response: {\"error\":\"invalid_token\",\"error_description\":\"Access Token not found in cache\"}\n</code></pre>\n\n<pre><code>@RequestMapping(method = RequestMethod.POST, value = \"/pay/\")\n    public String pay(ModelAndView modelAndView, HttpServletRequest request, @RequestParam(name = \"id\") int id){\n        String cancelUrl = \"https://realmlands.com\" + \"/\" + PAYPAL_CANCEL_URL;\n        String successUrl = \"https://realmlands.com\" + \"/\" + PAYPAL_SUCCESS_URL;\n        try {\n            if (id == 2) {\n                Payment payment = paypalService.createPayment(\n                        49.99,\n                        \"USD\",\n                        PaypalPaymentMethod.paypal,\n                        PaypalPaymentIntent.sale,\n                        \"added founder pack to your account.\",\n                        cancelUrl,\n                        successUrl);\n                for(Links links : payment.getLinks()){\n                    if(links.getRel().equals(\"approval_url\")){\n                        return \"redirect:\" + links.getHref();\n                    }\n                }\n            } else {\n                Payment payment = paypalService.createPayment(\n                        9.99,\n                        \"USD\",\n                        PaypalPaymentMethod.paypal,\n                        PaypalPaymentIntent.sale,\n                        \"adds 31 days of premium time.\",\n                        cancelUrl,\n                        successUrl);\n                for(Links links : payment.getLinks()){\n                    if(links.getRel().equals(\"approval_url\")){\n                        return \"redirect:\" + links.getHref();\n                    }\n                }\n            }\n        } catch (PayPalRESTException e) {\n            modelAndView.addObject(\"errorMessage\", e.getDetails().getMessage());\n            log.error(e.getMessage());\n        }\n        return \"redirect:/dashboard/store\";\n    }\n</code></pre>\n\n<p>It should already have a token if it worked once.</p>\n"}, {"tags": ["java", "swing", "import", "package"], "answers": [{"tags": [], "owner": {"reputation": 326, "user_id": 11090149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05dc2b76be4848b052665b70bd0b24f4?s=128&d=identicon&r=PG&f=1", "display_name": "EliKnaffo", "link": "https://stackoverflow.com/users/11090149/eliknaffo"}, "is_accepted": false, "score": 2, "last_activity_date": 1591601473, "last_edit_date": 1591601473, "creation_date": 1561580753, "answer_id": 56780379, "question_id": 56780295, "link": "https://stackoverflow.com/questions/56780295/importing-one-package-to-another-package-definition/56780379#56780379", "title": "Importing one package to another package definition", "body": "<p>You should just import the classes from the other package or make the other package into a jar file and import it to your project.</p>\n\n<p>You need to put the full path when you import ex:</p>\n\n<p><code>Import com.project.package.class</code></p>\n"}], "owner": {"reputation": 74, "user_id": 8664347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h8oQb.jpg?s=128&g=1", "display_name": "Sanket", "link": "https://stackoverflow.com/users/8664347/sanket"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1591601473, "creation_date": 1561580407, "question_id": 56780295, "link": "https://stackoverflow.com/questions/56780295/importing-one-package-to-another-package-definition", "title": "Importing one package to another package definition", "body": "<p>Can we import another package in the new package definition?</p>\n\n<p>For e.g.</p>\n\n<pre><code>   package mypack2;\n\n   import mypack1.*;\n\n   **mypack2 methods declared later** \n\n</code></pre>\n"}, {"tags": ["java", "json"], "comments": [{"owner": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "edited": false, "score": 0, "creation_date": 1561581443, "post_id": 56780270, "comment_id": 100116074, "body": "What is the URL string that is causing the exception?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8585272"}, "reply_to_user": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "edited": false, "score": 0, "creation_date": 1561581774, "post_id": 56780270, "comment_id": 100116210, "body": "<a href=\"https://fasoa-prd1.corp.wpsic.com/IDCardRequest/swagger/docs/v1\" rel=\"nofollow noreferrer\">fasoa-prd1.corp.wpsic.com/IDCardRequest/swagger/docs/v1</a> You will not be able to access it It doesnt matter what the url is. When I hard code it in it works, when I loop through array I get an error."}, {"owner": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "edited": false, "score": 1, "creation_date": 1561589908, "post_id": 56780270, "comment_id": 100118687, "body": "I have to wonder if there are unprintable characters in the strings which are making them invalid.  Try printing out <code>urlStrings.get(i).matches(&quot;.*[\\\\p{C}\\\\p{Z}].*&quot;)</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8585272"}, "reply_to_user": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "edited": false, "score": 0, "creation_date": 1564060649, "post_id": 56780270, "comment_id": 100913280, "body": "Thats what is was! I had to escape the quotes around the uri being passed in from the array!"}], "owner": {"user_type": "does_not_exist", "display_name": "user8585272"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561731526, "creation_date": 1561580286, "last_edit_date": 1561731526, "question_id": 56780270, "link": "https://stackoverflow.com/questions/56780270/malformed-url-exception-no-protocol-when-loading-uri-strings-from-arraylist", "title": "malformed url exception no protocol when loading uri strings from arrayList", "body": "<p>It works when I hard code one URI but when I try to loop through array I get malformed URL exception. </p>\n\n<p>I know there is a protocol attached. I tried adding in and taking out \"\" at different spots in the code. I ran it with one URI to make sure it functions correctly. I did print lines to see what the URIs were to make sure they were coming out correctly.</p>\n\n<pre><code>/**\n * Convert a URI into a JSON string\n * \n * @param URI the URI of resource\n * @return String String format of JSON object in an array\n * @throws URISyntaxException \n * @throws Exception\n */\nprivate static String readUrl(ArrayList&lt;String&gt; urlStrings) throws Exception, IOException, URISyntaxException {\n    String inputLine = \"\";\n    String finalInput = \"\";\n    int i;\n     for(i = 0;i&lt;urlStrings.size();) {\n           System.out.println(urlStrings.size());\n           System.out.println(urlStrings.get(i));\n        if (urlStrings.get(i).contains(\"WADL\") || urlStrings.get(i).contains(\"wadl\") || urlStrings.get(i).contains(\"WSDL\") || urlStrings.get(i).contains(\"wsdl\")) {\n\n            return null;\n        }\n\n        // Create a trust manager that does not validate certificate chains\n        TrustManager[] trustAllCerts = new TrustManager[]{\n                new X509TrustManager() {\n                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                        return null;\n                    }\n\n                    public void checkClientTrusted(\n                            java.security.cert.X509Certificate[] certs, String authType) {\n                    }\n\n                    public void checkServerTrusted(\n                            java.security.cert.X509Certificate[] certs, String authType) {\n                    }\n                }\n        };\n\n        // Install the all-trusting trust manager\n        try {\n            SSLContext sc = SSLContext.getInstance(\"SSL\");\n            sc.init(null, trustAllCerts, new java.security.SecureRandom());\n            HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n        } catch (Exception e) {\n            System.out.println(\"Error\" + e);\n        }\n\n\n        BufferedReader in = null;\n        String uri = urlStrings.get(i);\n        URL url = new URL(uri);\n        try {\n\n            URLConnection connection = url.openConnection();\n\n            connection.setConnectTimeout(5000);\n            connection.setReadTimeout(5000);\n\n            connection.connect();\n\n            in = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n\n\n\n            while ((inputLine = in.readLine()) != null) {\n                 //create one JSON object of all endpoints\n                finalInput += inputLine;\n            }\n            System.out.println(\"Successfully processed: \" + uri);\n            System.out.println(finalInput);\n            i++;\n            return finalInput + \"\\n\";\n        }\n        catch(IOException e) {\n            System.out.println(\"Cannot read: \" + uri);\n            return null;\n        }\n        finally {\n            if (in != null)\n                in.close();\n        }\n}\n     i++;\n         //return JSON object to service catalog\n        return finalInput;\n\n}\n</code></pre>\n\n<p>Hoping I can loop through array, call all endpoints, and build a JSON object to return to front end.</p>\n"}, {"tags": ["java", "oracle", "backend", "resultset"], "comments": [{"owner": {"reputation": 182833, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 2, "creation_date": 1561580339, "post_id": 56780264, "comment_id": 100115596, "body": "Adjust your fetch size... what&#39;s &quot;too long&quot; and what&#39;s &quot;large data sets&quot; and what database?"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 2, "creation_date": 1561580602, "post_id": 56780264, "comment_id": 100115705, "body": "Consider reading the metadata just once, and storing the downcased results in an array or List.  But even with that, you&#39;re doing I/O (to the database) and I/O is one of the slowest thing you can do. In particular, unless you have comparatively few results, the initial query that produces your <code>ResultSet</code> very likely does not transfer all of the result rows.  As you step through, new rows will periodically need to be fetched from the DB."}, {"owner": {"reputation": 31, "user_id": 10426451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcaae72c55937604330c71f2acde3052?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Z", "link": "https://stackoverflow.com/users/10426451/chris-z"}, "reply_to_user": {"reputation": 182833, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 0, "creation_date": 1561581094, "post_id": 56780264, "comment_id": 100115948, "body": "@ElliottFrisch it takes 16 seconds to process 14k records from Oracle DB"}, {"owner": {"reputation": 31, "user_id": 10426451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcaae72c55937604330c71f2acde3052?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Z", "link": "https://stackoverflow.com/users/10426451/chris-z"}, "reply_to_user": {"reputation": 434877, "user_id": 330315, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4b152262d9ba55197f609625358ff7e0?s=128&d=identicon&r=PG", "display_name": "a_horse_with_no_name", "link": "https://stackoverflow.com/users/330315/a-horse-with-no-name"}, "edited": false, "score": 0, "creation_date": 1561581272, "post_id": 56780264, "comment_id": 100116014, "body": "@a_horse_with_no_name the db is untouchable I can&#39;t make any changes to it"}, {"owner": {"reputation": 434877, "user_id": 330315, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4b152262d9ba55197f609625358ff7e0?s=128&d=identicon&r=PG", "display_name": "a_horse_with_no_name", "link": "https://stackoverflow.com/users/330315/a-horse-with-no-name"}, "edited": false, "score": 0, "creation_date": 1561581344, "post_id": 56780264, "comment_id": 100116034, "body": "I didn&#39;t mean to change the DB, but to write a SQL statement that would generate the JSON directly in the database. But that&#39;s pretty complicated in Oracle."}, {"owner": {"reputation": 182833, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 0, "creation_date": 1561582251, "post_id": 56780264, "comment_id": 100116412, "body": "You might want to stream the json objects directly instead of marshaling to an array first. But without more code, it&#39;s hard to say."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 10426451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcaae72c55937604330c71f2acde3052?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Z", "link": "https://stackoverflow.com/users/10426451/chris-z"}, "edited": false, "score": 0, "creation_date": 1561581796, "post_id": 56780456, "comment_id": 100116218, "body": "Unfortunately, the read is surprisingly fast, it took around one second to read but 16 seconds to serialize."}, {"owner": {"reputation": 625, "user_id": 6357920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9c2a2b200fba1623a10010aaaa3e725?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Urisman", "link": "https://stackoverflow.com/users/6357920/igor-urisman"}, "reply_to_user": {"reputation": 31, "user_id": 10426451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcaae72c55937604330c71f2acde3052?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Z", "link": "https://stackoverflow.com/users/10426451/chris-z"}, "edited": false, "score": 0, "creation_date": 1561583428, "post_id": 56780456, "comment_id": 100116849, "body": "This is surprising. Jackson is a widely used and solid JSON library. I use it indirectly and haven&#39;t had perf problems, but I haven&#39;t run into very long arrays. I suppose it&#39;s possible that the underlying array implementation requires a full list traversal in order to append, but I don&#39;t know. Parallelization will certainly work, and shouldn&#39;t take too much extra code."}], "tags": [], "owner": {"reputation": 625, "user_id": 6357920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9c2a2b200fba1623a10010aaaa3e725?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Urisman", "link": "https://stackoverflow.com/users/6357920/igor-urisman"}, "is_accepted": false, "score": 1, "last_activity_date": 1561581091, "creation_date": 1561581091, "answer_id": 56780456, "question_id": 56780264, "link": "https://stackoverflow.com/questions/56780264/need-a-more-efficient-way-to-convert-jdbc-resultset-to-a-json-array/56780456#56780456", "title": "Need a more efficient way to convert JDBC resultset to a JSON array", "body": "<p>I'd do the following test: F := the time it takes to fetch from the database; J := time it takes to serialize JSON from pre-fetched. I suspect that your F >> J, which would indicate that what you need is not a different JSON lib, but a faster read from the database. This may or may not be soluble. However, if F &lt;&lt; J, consider parallelizing your serialization to take advantage of extra cores, when available.</p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 10426451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcaae72c55937604330c71f2acde3052?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Z", "link": "https://stackoverflow.com/users/10426451/chris-z"}, "edited": false, "score": 0, "creation_date": 1561643951, "post_id": 56781034, "comment_id": 100139948, "body": "Awesome Francisco! I will check it out"}, {"owner": {"reputation": 31, "user_id": 10426451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcaae72c55937604330c71f2acde3052?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Z", "link": "https://stackoverflow.com/users/10426451/chris-z"}, "edited": false, "score": 0, "creation_date": 1561645925, "post_id": 56781034, "comment_id": 100141187, "body": "This would&#39;ve solved my problem but we are using Oracle 12.1 :("}, {"owner": {"reputation": 933, "user_id": 5415582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kX8o0.jpg?s=128&g=1", "display_name": "Francisco Sitja", "link": "https://stackoverflow.com/users/5415582/francisco-sitja"}, "reply_to_user": {"reputation": 31, "user_id": 10426451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcaae72c55937604330c71f2acde3052?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Z", "link": "https://stackoverflow.com/users/10426451/chris-z"}, "edited": false, "score": 0, "creation_date": 1561663647, "post_id": 56781034, "comment_id": 100149492, "body": "That&#39;s a bummer. In this case although it will be more trouble recreating the logic, I would probably try and write a PL/SQL stored procedure to do it, it will at least save you the network roundtrips of data. But performance will still hinge on the efficiency of the algorith used. Not a simple task to code it, but I would suggest you try that route."}], "tags": [], "owner": {"reputation": 933, "user_id": 5415582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kX8o0.jpg?s=128&g=1", "display_name": "Francisco Sitja", "link": "https://stackoverflow.com/users/5415582/francisco-sitja"}, "is_accepted": true, "score": 2, "last_activity_date": 1561663233, "last_edit_date": 1561663233, "creation_date": 1561583980, "answer_id": 56781034, "question_id": 56780264, "link": "https://stackoverflow.com/questions/56780264/need-a-more-efficient-way-to-convert-jdbc-resultset-to-a-json-array/56781034#56781034", "title": "Need a more efficient way to convert JDBC resultset to a JSON array", "body": "<p>If you are using Oracle 12cR2 you can utilize Oracle supplied functions (JSON_OBJECT, JSON_ARRAY, JSON_OBJECTAGG and so on) to generate JSON directly from the database, ready to read. It will be substantially faster and easier to code.</p>\n\n<p>You have not posted additional details about your data model so we can help with something more specific, but do feel free to explore the documentation below.</p>\n\n<p><a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/12.2/adjsn/generation.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/oracle-database/12.2/adjsn/generation.html</a></p>\n\n<p>I created one quick example below to show a bit about how it works:</p>\n\n<pre><code>FSITJA@db01 2019-06-26 14:15:02&gt; select json_object('name'         value username,\n  2                     'default_ts'   value default_tablespace,\n  3                     'temp_ts'      value temporary_tablespace,\n  4                     'common'       value case when common = 'Y' then 'YES' else 'NO' end,\n  5                     'oracle_maint' value case when oracle_maintained = 'Y' then 'YES' else 'NO' end\n  6                     format json) as json_obj\n  7    from dba_users u\n  8   where oracle_maintained = 'Y'\n  9         and rownum &lt;= 5;\n\nJSON_OBJ\n-----------------------------------------------------------------------------------------------------------\n{\"name\":\"SYS\",\"default_ts\":\"SYSTEM\",\"temp_ts\":\"TEMP\",\"common\":\"NO\",\"oracle_maint\":\"YES\"}\n{\"name\":\"SYSTEM\",\"default_ts\":\"SYSTEM\",\"temp_ts\":\"TEMP\",\"common\":\"NO\",\"oracle_maint\":\"YES\"}\n{\"name\":\"GSMCATUSER\",\"default_ts\":\"SYSTEM\",\"temp_ts\":\"TEMP\",\"common\":\"NO\",\"oracle_maint\":\"YES\"}\n{\"name\":\"XS$NULL\",\"default_ts\":\"SYSTEM\",\"temp_ts\":\"TEMP\",\"common\":\"NO\",\"oracle_maint\":\"YES\"}\n{\"name\":\"MDDATA\",\"default_ts\":\"SYSTEM\",\"temp_ts\":\"TEMP\",\"common\":\"NO\",\"oracle_maint\":\"YES\"}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 10426451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcaae72c55937604330c71f2acde3052?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Z", "link": "https://stackoverflow.com/users/10426451/chris-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 56781034, "answer_count": 2, "score": 0, "last_activity_date": 1561663233, "creation_date": 1561580257, "last_edit_date": 1561581541, "question_id": 56780264, "link": "https://stackoverflow.com/questions/56780264/need-a-more-efficient-way-to-convert-jdbc-resultset-to-a-json-array", "title": "Need a more efficient way to convert JDBC resultset to a JSON array", "body": "<p>Currently I have the following code that converts my resultset to a JSONObject and then appended to a JSONArry, but the the processing time is way too long for large data sets. I am looking for an alternative way or libraries to improve my current computing time.</p>\n\n<p>Currently it takes 16 to 17 seconds to process 14k records from Oracle DB</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>            int total_rows = rs.getMetaData().getColumnCount();\n\n            while (rs.next()) {\n                JSONObject obj = new JSONObject();\n                for (int i = 0; i &lt; total_rows; i++) {\n\n                    obj.put(rs.getMetaData().getColumnLabel(i + 1)\n                            .toLowerCase(), rs.getObject(i + 1));\n\n                }\n                jsonArray.put(obj);\n\n            }\n</code></pre>\n"}, {"tags": ["java", "spring", "spring-boot", "spring-mvc"], "comments": [{"owner": {"reputation": 569, "user_id": 1104833, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ed2c6ead6653bba01befbe721c2d9fd5?s=128&d=identicon&r=PG", "display_name": "chenio", "link": "https://stackoverflow.com/users/1104833/chenio"}, "edited": false, "score": 0, "creation_date": 1561580372, "post_id": 56780107, "comment_id": 100115612, "body": "is that whole error message? can you add more details? thanks"}, {"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 1, "creation_date": 1561581078, "post_id": 56780107, "comment_id": 100115939, "body": "Use <code>ResponseEntity.ok(value)</code>. Additionally, it&#39;s more conventional to throw an exception in the first case and gave a global exception handler build error responses for consistency."}, {"owner": {"reputation": 6419, "user_id": 1840146, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/846e219cba64c80b7b0398b239cd4db9?s=128&d=identicon&r=PG", "display_name": "Toerktumlare", "link": "https://stackoverflow.com/users/1840146/toerktumlare"}, "edited": false, "score": 0, "creation_date": 1561583453, "post_id": 56780107, "comment_id": 100116860, "body": "As pointed out, it much better to handle errors in a <code>ControllerAdvice</code> so google that. Just wanted to say your method is returning a <code>ResponseEntity&lt;?&gt;</code> With means a response type containing &quot;any&quot; type. When you declare your responses you set the diamond operator to <code>&lt;&gt;</code> nothing. You are basically telling to compiler to figure out the return type but it can&#39;t so you get <code>Cannot infer type arguments for ResponseEntity&lt;&gt;</code>. Why can&#39;t it figure it out, well the compiler will look at the method return type to figure it out but you have declared it to be any type. So the compiler cant guess."}, {"owner": {"reputation": 6419, "user_id": 1840146, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/846e219cba64c80b7b0398b239cd4db9?s=128&d=identicon&r=PG", "display_name": "Toerktumlare", "link": "https://stackoverflow.com/users/1840146/toerktumlare"}, "edited": false, "score": 0, "creation_date": 1561583550, "post_id": 56780107, "comment_id": 100116892, "body": "the quick and ugly fix would be to declare <code>ResponseEntity&lt;String&gt;</code> and <code>ResponseEntity&lt; NotificationEchoResponse&gt;</code> but this is an ugly solution."}, {"owner": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "edited": false, "score": 0, "creation_date": 1561617240, "post_id": 56780107, "comment_id": 100124460, "body": "Can you show me code example, please?"}], "answers": [{"tags": [], "owner": {"reputation": 1160, "user_id": 5291521, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/735294193283711/picture?type=large", "display_name": "Ashwani Tiwari", "link": "https://stackoverflow.com/users/5291521/ashwani-tiwari"}, "is_accepted": false, "score": 6, "last_activity_date": 1561749739, "last_edit_date": 1561749739, "creation_date": 1561748992, "answer_id": 56812120, "question_id": 56780107, "link": "https://stackoverflow.com/questions/56780107/cannot-infer-type-arguments-for-responseentity/56812120#56812120", "title": "Cannot infer type arguments for ResponseEntity&lt;&gt;", "body": "<p>You can use the </p>\n\n<pre><code>    ResponseEntity&lt;Object&gt; \n</code></pre>\n\n<p>like that </p>\n\n<p>OR</p>\n\n<p>You can make you own custom class like ResponseData and in that class put a field like paylod  </p>\n\n<pre><code>  public class ResponseData {\n      private Object payload;\n   } \n</code></pre>\n\n<p>and use like that ResponseEntity and set that value.</p>\n\n<p>Now your controller will look like that</p>\n\n<pre><code>    @PostMapping(value = \"/v1/notification\", produces = \"application/xml\")\n    public ResponseEntity&lt;ResponseData&gt; handleNotifications(@RequestParam \n    MultiValueMap&lt;String, Object&gt; keyValuePairs) {\n\n   if (!tnx_sirnature.equals(signature)) \n   {\n     return new ResponseEntity&lt;ResponseData&gt;(new ResponseData(\"Please contact to technical support\"), \n    HttpStatus.INTERNAL_SERVER_ERROR);\n   }         \n\n   return new ResponseEntity&lt;ResponseData&gt;(new ResponseData(new NotificationEchoResponse(unique_id)), \n   HttpStatus.OK);\n   }\n</code></pre>\n\n<p>You can replace the response data with Object also , then the </p>\n\n<pre><code>  @PostMapping(value = \"/v1/notification\", produces = \"application/xml\")\n    public ResponseEntity&lt;Object&gt; handleNotifications(@RequestParam \n    MultiValueMap&lt;String, Object&gt; keyValuePairs) {\n\n   if (!tnx_sirnature.equals(signature)) \n   {\n     return new ResponseEntity&lt;Object&gt;(\"Please contact to technical support\", \n    HttpStatus.INTERNAL_SERVER_ERROR);\n   }         \n\n   return new ResponseEntity&lt;Object&gt;(new NotificationEchoResponse(unique_id), \n   HttpStatus.OK);\n   }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2340, "user_id": 4121405, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/JzCvq.jpg?s=128&g=1", "display_name": "alok", "link": "https://stackoverflow.com/users/4121405/alok"}, "is_accepted": false, "score": 0, "last_activity_date": 1583390737, "creation_date": 1583390737, "answer_id": 60539586, "question_id": 56780107, "link": "https://stackoverflow.com/questions/56780107/cannot-infer-type-arguments-for-responseentity/60539586#60539586", "title": "Cannot infer type arguments for ResponseEntity&lt;&gt;", "body": "<pre><code>public ResponseEntity&lt;BasicCreateUpdateResponse&gt; deleteProductPrefix(@RequestBody ProductPrefixEntity inputFields) {\n    if(inputFields.getRecid().isEmpty()) {\n        throw new ApplicationException(NPIConstants.ERR_500, HttpStatus.OK, null, null);\n    }\n    logger.info(\"Inside resources updateProduct method() .........\");\n    return new ResponseEntity&lt;&gt;(productPrefixService.deleteProductPrefix(inputFields),HttpStatus.OK);\n}\n</code></pre>\n\n<p>in this code return type of \"productPrefixService.deleteProductPrefix(inputFields)\" must be ResponseEntity.</p>\n"}], "owner": {"reputation": 7004, "user_id": 1103606, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=128&d=identicon&r=PG", "display_name": "Peter Penzov", "link": "https://stackoverflow.com/users/1103606/peter-penzov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12227, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1583390737, "creation_date": 1561579421, "question_id": 56780107, "link": "https://stackoverflow.com/questions/56780107/cannot-infer-type-arguments-for-responseentity", "title": "Cannot infer type arguments for ResponseEntity&lt;&gt;", "body": "<p>I want to implement Spring endpoint in which I can return XML object <code>NotificationEchoResponse</code> and http status code. I tried this:</p>\n\n<pre><code>@PostMapping(value = \"/v1/notification\", produces = \"application/xml\")\n  public ResponseEntity&lt;?&gt; handleNotifications(@RequestParam MultiValueMap&lt;String, Object&gt; keyValuePairs) {\n\n   if (!tnx_sirnature.equals(signature)) \n     {\n         return new ResponseEntity&lt;&gt;(\"Please contact technical support!\", HttpStatus.INTERNAL_SERVER_ERROR);\n     }         \n\n    return new ResponseEntity&lt;&gt;(new NotificationEchoResponse(unique_id), HttpStatus.OK);\n  }\n</code></pre>\n\n<p>But I get error: <code>Cannot infer type arguments for ResponseEntity&lt;&gt;</code> at this line: <code>return new ResponseEntity&lt;&gt;(\"Please contact technical support!\", HttpStatus.INTERNAL_SERVER_ERROR);</code> Do you know know how I can fix this issue?</p>\n"}, {"tags": ["java", "android", "searchview"], "answers": [{"tags": [], "owner": {"reputation": 523, "user_id": 8226741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WGFkc.jpg?s=128&g=1", "display_name": "Andrea Ebano", "link": "https://stackoverflow.com/users/8226741/andrea-ebano"}, "is_accepted": false, "score": 0, "last_activity_date": 1561582348, "creation_date": 1561582348, "answer_id": 56780730, "question_id": 56779996, "link": "https://stackoverflow.com/questions/56779996/how-can-i-force-write-uppercase-in-search-view/56780730#56780730", "title": "How can I force write uppercase in search view?", "body": "<p>In code you can try this:</p>\n\n<pre><code>searchView.setInputType(InputType.TYPE_TEXT_FLAG_CAP_CHARACTERS);\n</code></pre>\n\n<p>Hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 267, "user_id": 4775544, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-yEUsccqbq50/AAAAAAAAAAI/AAAAAAAAABw/4haCtp3Sd2E/photo.jpg?sz=128", "display_name": "cristian franco", "link": "https://stackoverflow.com/users/4775544/cristian-franco"}, "is_accepted": false, "score": 0, "last_activity_date": 1561587553, "creation_date": 1561587553, "answer_id": 56781625, "question_id": 56779996, "link": "https://stackoverflow.com/questions/56779996/how-can-i-force-write-uppercase-in-search-view/56781625#56781625", "title": "How can I force write uppercase in search view?", "body": "<p>just add android:textAllCaps=\"true\" in the xml</p>\n\n<p>example:</p>\n\n<pre><code>&lt;android.support.v7.internal.widget.CompatTextView\n        android:id=\"@+id/text\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        app:textAllCaps=\"true\"/&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10561060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/am6Wg.jpg?s=128&g=1", "display_name": "BraveQueen05", "link": "https://stackoverflow.com/users/10561060/bravequeen05"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "closed_date": 1561627953, "answer_count": 2, "score": 0, "last_activity_date": 1561587553, "creation_date": 1561578201, "last_edit_date": 1561581140, "question_id": 56779996, "link": "https://stackoverflow.com/questions/56779996/how-can-i-force-write-uppercase-in-search-view", "closed_reason": "Duplicate", "title": "How can I force write uppercase in search view?", "body": "<p>I need to show all the letters in uppercase while the user is writing. I'm using this:\n<code>android:inputType=\"textCapCharacters\"</code></p>\n\n<p>But, when I push shift it turns to lowercase. I need something permanent.</p>\n"}, {"tags": ["java", "android", "android-fragments", "navigationbar"], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 13340594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf2c0709a4e0a64227ad6d2272bba25?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/13340594/denis"}, "is_accepted": true, "score": 0, "last_activity_date": 1587303249, "creation_date": 1587303249, "answer_id": 61305205, "question_id": 56779935, "link": "https://stackoverflow.com/questions/56779935/creating-a-second-android-navigation-bar-inside-a-fragment/61305205#61305205", "title": "Creating a second android navigation bar inside a fragment", "body": "<p>You can use <code>TabLayout</code> for that purpose. Here is an article about it <a href=\"https://medium.com/@droidbyme/android-material-design-tabs-tab-layout-with-swipe-884085ae80ff\" rel=\"nofollow noreferrer\">on medium</a> </p>\n\n<p>Or you can use libraries with custom views that also implement such feature. For example <a href=\"https://github.com/Dsyncer/DViews\" rel=\"nofollow noreferrer\">DViews</a> that has <code>TopMenuView</code>  which is easy-to-use analog of <code>TabLayout</code>\n<a href=\"https://i.stack.imgur.com/5y7Ql.jpg\" rel=\"nofollow noreferrer\">Screenshot of TopMenuView</a></p>\n"}], "owner": {"reputation": 332, "user_id": 7639174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OeBYf.png?s=128&g=1", "display_name": "lone_coder", "link": "https://stackoverflow.com/users/7639174/lone-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 0, "accepted_answer_id": 61305205, "answer_count": 1, "score": 0, "last_activity_date": 1587303249, "creation_date": 1561577885, "last_edit_date": 1561589986, "question_id": 56779935, "link": "https://stackoverflow.com/questions/56779935/creating-a-second-android-navigation-bar-inside-a-fragment", "title": "Creating a second android navigation bar inside a fragment", "body": "<p>i'm trying to create another navigation bar (top navigation bar) inside a fragment that already have bottom navigation bar. but i only find a way to do it (based on searching the android docs and sites) on a new activity not on a fragment that already had bottom navigation bar. Those 4 menus are fragment (Home, History, Message and profile)</p>\n\n<p>edit : i already found kotlin solution (<a href=\"https://medium.com/@avinriyan/android-kotlin-bottom-navigation-tab-layout-19d062256882\" rel=\"nofollow noreferrer\">https://medium.com/@avinriyan/android-kotlin-bottom-navigation-tab-layout-19d062256882</a>) sadly i'm using java and knows java only</p>\n\n<p><img src=\"https://i.imgur.com/zhb4FPC.jpg\" alt=\"prototype\"></p>\n\n<p>it should look like above link (image) </p>\n\n<p>i tried to browse a way to do it but i can't find a single tutorial either on youtube nor google.</p>\n\n<p><img src=\"https://i.imgur.com/B8lDqzB.jpg\" alt=\"template\"></p>\n\n<p>i already have bottom navigation view like shown on above link (image)</p>\n\n<p>i'm a complete beginner i need this for my project. thank you</p>\n"}, {"tags": ["java", "android", "kotlin", "android-camera"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 7525187, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/QCjF0.jpg?s=128&g=1", "display_name": "YaddyVirus", "link": "https://stackoverflow.com/users/7525187/yaddyvirus"}, "edited": false, "score": 0, "creation_date": 1583488047, "post_id": 60333035, "comment_id": 107141959, "body": "Thank you so much for the answer. I, however, abandoned the project so I can&#39;t tell if it&#39;s correct or not."}], "tags": [], "owner": {"reputation": 11, "user_id": 12936727, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NJbxg2b8hYw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdYb5dQPJrdZfuDqzWARpkOq2e1Ug/photo.jpg?sz=128", "display_name": "Tat Dat", "link": "https://stackoverflow.com/users/12936727/tat-dat"}, "is_accepted": false, "score": 1, "last_activity_date": 1582267210, "last_edit_date": 1582267210, "creation_date": 1582265478, "answer_id": 60333035, "question_id": 56779867, "link": "https://stackoverflow.com/questions/56779867/not-able-to-take-pictures-with-camerakit-in-kotlin/60333035#60333035", "title": "Not able to take pictures with CameraKit in Kotlin", "body": "<p>I think you should not use </p>\n\n<pre><code>cameraKitView.captureImage(object:CameraKitView.ImageCallback()\n</code></pre>\n\n<p>in fact because I don't know how to use it either. </p>\n\n<p>If possible, try the following method to get the captured image. It returns images bytearray style, and you can use it to do what you want!</p>\n\n<pre><code>btnLaunchCameraKit.setOnClickListener {\n    cameraKitView.captureImage { cameraKitView, bytes -&gt;\n        val bitmap = BitmapFactory.decodeByteArray(bytes,0,bytes.size) as Bitmap\n        cameraImage3.setImageBitmap(bitmap)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 7525187, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/QCjF0.jpg?s=128&g=1", "display_name": "YaddyVirus", "link": "https://stackoverflow.com/users/7525187/yaddyvirus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1582267210, "creation_date": 1561577567, "last_edit_date": 1592644375, "question_id": 56779867, "link": "https://stackoverflow.com/questions/56779867/not-able-to-take-pictures-with-camerakit-in-kotlin", "title": "Not able to take pictures with CameraKit in Kotlin", "body": "<p>I'm trying to use CameraKit in order to take a picture. So far, I've been able to implement CameraKit and get a preview stream from my camera.</p>\n<p>Here's my code:</p>\n<pre><code>package com.example.testapp\nimport com.camerakit.CameraKitView\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.Button\nimport android.widget.Toast\nimport kotlinx.android.synthetic.main.activity_camera_screen.*\n\n\nclass cameraScreen : AppCompatActivity() {\n\n    private lateinit var cameraKitView:CameraKitView\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_camera_screen)\n        cameraKitView = findViewById(R.id.camera)\n\n        photoButton.setOnClickListener{\n            cameraKitView.captureImage(object:CameraKitView.ImageCallback() {\n                 override fun onImage(cameraKitView:CameraKitView, capturedImage:ByteArray) {\n                    // capturedImage contains the image from the CameraKitView.\n                     Toast.makeText(applicationContext,&quot;Image Taken&quot;, Toast.LENGTH_SHORT).show()\n                 }\n            })\n        }\n\n    }\n\n    override fun onStart() {\n        super.onStart()\n        cameraKitView.onStart()\n\n    }\n\n    override fun onResume() {\n        super.onResume()\n        cameraKitView.onResume()\n\n    }\n\n    public override fun onPause() {\n        cameraKitView.onPause()\n        super.onPause()\n    }\n\n    override fun onStop() {\n        cameraKitView.onStop()\n        super.onStop()\n    }\n\n    override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n        cameraKitView.onRequestPermissionsResult(requestCode, permissions, grantResults)\n    }\n}\n</code></pre>\n<p>Now according to the CameraKit Docs, this is what makes an image:</p>\n<pre><code>cameraKitView.captureImage(new  CameraKitView.ImageCallback() {\n    @Override\n    public void onImage(CameraKitView cameraKitView, final byte[] capturedImage) {\n        // capturedImage contains the image from the CameraKitView.\n    }\n})\n</code></pre>\n<p>As you can see, I've tried to convert this Java code into Kotlin above. However, on this line - <code>cameraKitView.captureImage(object:CameraKitView.ImageCallback() {</code> I keep getting an error</p>\n<blockquote>\n<p>This class does not have a constructor</p>\n</blockquote>\n<p>I am getting this error on ImageCallback(). I've tried numerous examples about how to capture an image from CameraKit but all of them are in Java and when I convert them, they all give me the same error.</p>\n<p>How do I resolve this?\nAdditionally, how do I preview the image once it's taken, until the user taps a button to save it ( or reject it, in which case I go back to the camera)?</p>\n<h1>Update</h1>\n<p>Removed the round braces from  the<code>cameraKitView.captureImage(object:CameraKitView.ImageCallback()</code> line. This made the error go away and showed the toast as well but there is no response from the app so I don't really know if the picture is being taken or not.</p>\n<p>The new line now is <code>cameraKitView.captureImage(object:CameraKitView.ImageCallback</code></p>\n"}, {"tags": ["java", "maven", "classpath"], "comments": [{"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1561578233, "post_id": 56779816, "comment_id": 100115071, "body": "In Maven, resources go under <code>src&#47;main&#47;resources</code>. Otherwise they&#39;re not copied to the output directory or embedded into the JAR file and thus don&#39;t end up on the classpath at runtime."}, {"owner": {"reputation": 2985, "user_id": 4759176, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/0U1e5.jpg?s=128&g=1", "display_name": "parsecer", "link": "https://stackoverflow.com/users/4759176/parsecer"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1561579724, "post_id": 56779816, "comment_id": 100115362, "body": "@Slaw I started that way. I didn&#39;t find a way to right the code that would be both able to access that folder before and after packaging."}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1561579836, "post_id": 56779816, "comment_id": 100115411, "body": "If it&#39;s directly under <code>src&#47;main&#47;resources</code> then <code>getResource(&quot;&#47;resource.txt&quot;)</code> should work."}, {"owner": {"reputation": 2985, "user_id": 4759176, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/0U1e5.jpg?s=128&g=1", "display_name": "parsecer", "link": "https://stackoverflow.com/users/4759176/parsecer"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1561580033, "post_id": 56779816, "comment_id": 100115479, "body": "@Slaw what is the full code? <code>Main.class.getResource(&quot;&#47;resource.txt&quot;)</code>?"}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 1, "creation_date": 1561580193, "post_id": 56779816, "comment_id": 100115535, "body": "That should work. Note the leading <code>&#47;</code> makes it an absolute path, whereas no leading <code>&#47;</code> would make it relative to the location of the <code>Class</code> you call <code>getResource</code> on. And remember, resources are searched for on the <i>classpath</i>."}, {"owner": {"reputation": 2985, "user_id": 4759176, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/0U1e5.jpg?s=128&g=1", "display_name": "parsecer", "link": "https://stackoverflow.com/users/4759176/parsecer"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1561580610, "post_id": 56779816, "comment_id": 100115708, "body": "@Slaw no, it looks inside <code>ProjectRoot&#47;target&#47;classes</code>"}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1561580692, "post_id": 56779816, "comment_id": 100115753, "body": "Yes, because when Maven executes the code against <code>target&#47;classes</code> that&#39;s the root of the classpath. Once you package the application in a JAR file and execute against said JAR file, it will look in the JAR file for the resource. That&#39;s why this API uses the classpath... it&#39;s a code-location-independent way to retrieve resources."}, {"owner": {"reputation": 2985, "user_id": 4759176, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/0U1e5.jpg?s=128&g=1", "display_name": "parsecer", "link": "https://stackoverflow.com/users/4759176/parsecer"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1561585923, "post_id": 56779816, "comment_id": 100117644, "body": "@Slaw how to I get the resource from inside <code>ProjectRoot</code> or at least <code>ProjecRoot&#47;src&#47;main&#47;resources</code> if it only looks at <code>ProjectRoot&#47;target&#47;classes</code>?"}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 1, "creation_date": 1561586587, "post_id": 56779816, "comment_id": 100117825, "body": "The files in <code>src&#47;main&#47;resources</code> are <i>copied</i> into <code>target&#47;classes</code> during one of the phases of Maven. When packaging into a JAR, the files in <code>target&#47;classes</code> are all added to the JAR."}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1561587756, "post_id": 56779816, "comment_id": 100118140, "body": "Your edit doesn&#39;t change anything I&#39;ve been saying."}], "answers": [{"comments": [{"owner": {"reputation": 2985, "user_id": 4759176, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/0U1e5.jpg?s=128&g=1", "display_name": "parsecer", "link": "https://stackoverflow.com/users/4759176/parsecer"}, "edited": false, "score": 0, "creation_date": 1561579905, "post_id": 56779936, "comment_id": 100115430, "body": "<code>Main.class.getResource(&quot;&#47;resource.txt&quot;)</code> looks inside <code>ProjectRoot&#47;target&#47;app.jar!&#47;resource.txt</code> instead of just <code>ProjectRoot</code>."}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "reply_to_user": {"reputation": 2985, "user_id": 4759176, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/0U1e5.jpg?s=128&g=1", "display_name": "parsecer", "link": "https://stackoverflow.com/users/4759176/parsecer"}, "edited": false, "score": 0, "creation_date": 1561580231, "post_id": 56779936, "comment_id": 100115550, "body": "@parsecer That&#39;s what should happen if <code>resource.txt</code> is actually supposed to be a <i>resource</i>."}, {"owner": {"reputation": 41669, "user_id": 768644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b13bedc5215730fbce5edff6c130988a?s=128&d=identicon&r=PG", "display_name": "rzwitserloot", "link": "https://stackoverflow.com/users/768644/rzwitserloot"}, "edited": false, "score": 0, "creation_date": 1561659082, "post_id": 56779936, "comment_id": 100147712, "body": "Of course, that <i>is</i> the root. Just like Main.class is copied into that jar, that resource is as much part of your application as that class file is, and it should be inside the jar. And then Main.class.getResource(&quot;/resource.txt&quot;) will find it for you."}], "tags": [], "owner": {"reputation": 41669, "user_id": 768644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b13bedc5215730fbce5edff6c130988a?s=128&d=identicon&r=PG", "display_name": "rzwitserloot", "link": "https://stackoverflow.com/users/768644/rzwitserloot"}, "is_accepted": false, "score": 1, "last_activity_date": 1561577889, "creation_date": 1561577889, "answer_id": 56779936, "question_id": 56779816, "link": "https://stackoverflow.com/questions/56779816/getting-resource-file-from-inside-jar/56779936#56779936", "title": "Getting resource file from inside jar", "body": "<p>Use: <code>Main.class.getResource(\"/resource.txt\")</code>.</p>\n\n<p>Note that your attempt using any call to <code>getClassLoader</code> is strictly worse (it's more text, and will fail more often, because that class loader can in exotic cases be null (specifically, when you're part of the bootstrap loader), whereas calling getResource directly on the class always works.</p>\n\n<p>The reason your snippet does not work is because when invoking <code>getResource</code> on the classloader, you must NOT start the resource with a slash. When invoking on a class directly, you can (if you don't, it'll be relative to the package of the class you're calling it on, if you do, it'll be relative to the root).</p>\n\n<p>TL;DR: Of the forms <code>SomeClass.class.getClassLoader().getResource</code>, <code>getClass().getResource</code> and <code>MyClass.class.getResource</code>, only the last one is correct, the rest are strictly inferior and therefore should not be used at all.</p>\n"}, {"comments": [{"owner": {"reputation": 2985, "user_id": 4759176, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/0U1e5.jpg?s=128&g=1", "display_name": "parsecer", "link": "https://stackoverflow.com/users/4759176/parsecer"}, "edited": false, "score": 0, "creation_date": 1562099104, "post_id": 56781851, "comment_id": 100269147, "body": "Made it work, thanks. To future readers: eventually I used this code to open files located in <code>src&#47;main&#47;resources</code>:` <code>BufferedReader br = new BufferedReader(new InputStreamReader(Main.class.getResourceAsStream(&quot;&#47;resource.&zwnj;&#8203;txt&quot;)));</code>. After <code>package</code> Maven command is run, everything inside <code>src&#47;main&#47;resources</code> gets copypasted inside <code>target&#47;classes</code>. That&#39;s where <code>Main.java</code> from IDE takes the file from. At the same time, <code>package</code> command creates a jar that takes files from <code>target&#47;classes</code> and places those inside its root."}], "tags": [], "owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "is_accepted": true, "score": 1, "last_activity_date": 1561590150, "last_edit_date": 1561590150, "creation_date": 1561589351, "answer_id": 56781851, "question_id": 56779816, "link": "https://stackoverflow.com/questions/56779816/getting-resource-file-from-inside-jar/56781851#56781851", "title": "Getting resource file from inside jar", "body": "<p>Maven uses something called the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">Standard Directory Layout</a>. If you don't follow this layout then the plugins can't do their job correctly. Technically, you can configure Maven to use different directories but 99.999% of the time this is not necessary.</p>\n\n<p>One of the features of this layout is that production files go in:</p>\n\n<ul>\n<li><code>&lt;project-dir&gt;/src/main/java</code>\n\n<ul>\n<li>All <code>*.java</code> files</li>\n</ul></li>\n<li><code>&lt;project-dir&gt;/src/main/resources</code>\n\n<ul>\n<li>All non-<code>*.java</code> files (that are meant to be resources)</li>\n</ul></li>\n</ul>\n\n<p>When you build your project the Java source files are compiled and the <code>*.class</code> files are put into the <code>target/classes</code> directory; this is done by the <code>maven-compiler-plugin</code>. Meanwhile, the resource files are <strong>copied</strong> from <code>src/main/resources</code> into <code>target/classes</code> as well; the <code>maven-resources-plugin</code> is responsible for this.</p>\n\n<p><em><strong>Note:</strong> See <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"nofollow noreferrer\">Introduction to the Build Lifecycle</a> for more information about phases and which plugins are executed by which phase. This <a href=\"https://stackoverflow.com/questions/16205778/what-are-maven-goals-and-phases-and-what-is-their-difference\">Stack Overflow question</a> may also be useful.</em></p>\n\n<p>When you launch your application from the IDE (possibly via the <code>exec-maven-plugin</code>) <strong>the <code>target/classes</code> directory is put on the classpath.</strong> This means all the compiled classes from <code>src/main/java</code> and all the copied resources from <code>src/main/resources</code> are available to use via the classpath.</p>\n\n<p>Then, when you package your application in a JAR file, all the files in <code>target/classes</code> are added to the resulting JAR file (handled by the <code>maven-jar-plugin</code>). <strong>This includes the resources copied from <code>src/main/resources</code></strong>. When you launch the application using this JAR file the resources are still available to use via the classpath, because they're embedded in the JAR file.</p>\n\n\n\n<p>To make <code>resource.txt</code> available on the classpath, just move:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;project-dir&gt;/resource.txt\n</code></pre>\n\n<p>To:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;project-dir&gt;/src/main/resources/resource.txt.\n</code></pre>\n\n<p>Then you can use <code>Class#getResource</code> with <code>/resource.txt</code> as the path and everything should work out for you. The <code>URL</code> returned by <code>getResource</code> will be different depending on if you're executing against <code>target/classes</code> or against the JAR file.</p>\n\n<p>When executing against <code>target/classes</code> you'll get something like:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>file:///.../&lt;project-dir&gt;/target/classes/resource.txt\n</code></pre>\n\n<p>When executing against the JAR file you'll get something like:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>jar:file:///.../&lt;project-dir&gt;/target/projectname-version.jar!/resource.txt\n</code></pre>\n\n<p><em><strong>Note:</strong> This all assumes <code>resource.txt</code> is actually supposed to be a resource and not an external file. Resources are typically read-only once deployed in a JAR file; if you need a writable file then it's up to you to use a designated location for the file (e.g. a folder in the user's home directory). One typically accesses external files via either <code>java.io.File</code> or <code>java.nio.file.*</code>. Remember, resources are not the same thing as normal files.</em></p>\n\n<p>Now, if you were to put <code>resource.txt</code> directly under <code>&lt;project-dir&gt;</code> that would <strong>mean nothing to Maven</strong>. It would not be copied to <code>target/classes</code> or end up in the JAR file which means the resource is never available on the classpath. So just to reiterate, <strong>all resources go under <code>src/main/resources</code></strong>.</p>\n\n<hr>\n\n<p>Check out the Javadoc of <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Class.html#getResource(java.lang.String)\" rel=\"nofollow noreferrer\"><code>java.lang.Class#getResource(String)</code></a> for more information about the path, such as when to use a leading <code>/</code> and when not to. The link points to the Javadoc for Java 12 which includes information about resources and modules (JPMS/Jigsaw modules, not Maven modules); if you aren't using modules you can ignore that part of the documentation.</p>\n"}], "owner": {"reputation": 2985, "user_id": 4759176, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/0U1e5.jpg?s=128&g=1", "display_name": "parsecer", "link": "https://stackoverflow.com/users/4759176/parsecer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1220, "favorite_count": 1, "accepted_answer_id": 56781851, "answer_count": 2, "score": 0, "last_activity_date": 1561590150, "creation_date": 1561577300, "last_edit_date": 1561587097, "question_id": 56779816, "link": "https://stackoverflow.com/questions/56779816/getting-resource-file-from-inside-jar", "title": "Getting resource file from inside jar", "body": "<p>I need to get a resource from inside the root of the application when its packed into jar. My project is like this:</p>\n\n<pre><code>ProjectRoot\n  resource.txt //want to access from here\n  src\n    main\n       java\n         package1\n           package2\n              package3\n                 Main.java\n  target\n    app.jar\n    classes\n         resource.txt //works when here\n         package1\n           package2\n              package3\n                 Main.class\n</code></pre>\n\n<p>I use this code:</p>\n\n<pre><code>Path path = Paths.get(\"resource.txt\");\n</code></pre>\n\n<p>When run before packaging into a jar, it finds the file just fine (inside ProjectRoot). When running the jar, it can't find it, and transforms this path to <code>target/resource.txt</code>.</p>\n\n<p>This code:</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(new Main().getClass().getClassLoader().getResourceAsStream(\n                \"resource.txt\")));\n</code></pre>\n\n<p>when run before packaging looks for the resource inside <code>target/classes</code>. After packaging it claims to taking the resource from <code>.../target/app.jar!/resource.txt</code>.</p>\n\n<p>This code:</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(new Main().getClass().getClassLoader().getResourceAsStream(\n                    \"/resource.txt\")));\n</code></pre>\n\n<p>I can't understand where's looking for the resource, but it doesn't seem to be <code>ProjectRoot</code>.</p>\n\n<p>All I want to do is to place the resource inside <code>ProjectRoot</code> and be able to access it from both outside jar (when running the class files from IDE) and inside (after having packaged the files into a jar file using Maven).</p>\n\n<p><strong>EDIT</strong>: I NEED THE CODE TO WORK BOTH FOR PRE- AND POST- packaging. MEANING: If I run a Main.java FROM INSIDE IDE IT WOULD GET THE RESOURCE; IF I PACKAGE EVERYTHING INTO JAR AND RUN JAR IT WOULD GET THE RESOURCE - ALL WITH THE SAME CODE.</p>\n"}, {"tags": ["java", "spring", "spring-batch"], "comments": [{"owner": {"reputation": 16703, "user_id": 5019386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b9001fd20c1e089d19f4a1e994bcdc?s=128&d=identicon&r=PG", "display_name": "Mahmoud Ben Hassine", "link": "https://stackoverflow.com/users/5019386/mahmoud-ben-hassine"}, "edited": false, "score": 1, "creation_date": 1561627120, "post_id": 56779803, "comment_id": 100129787, "body": "I see nothing wrong with your config. Chunk scanning should work in your case. Can you try to to narrow the skippable exception type to <code>ConstraintViolationException</code>? Otherwise please share a minimal project (with an in-memory db) to reproduce the issue and I&#39;ll try to help."}], "answers": [{"tags": [], "owner": {"reputation": 313, "user_id": 9279756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L7CRs.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/9279756/tom"}, "is_accepted": true, "score": 0, "last_activity_date": 1561803467, "creation_date": 1561803467, "answer_id": 56816728, "question_id": 56779803, "link": "https://stackoverflow.com/questions/56779803/spring-batch-skipping-exceptions-not-working-as-expected/56816728#56816728", "title": "Spring Batch skipping exceptions not working as expected", "body": "<p>I was able to make it work using <a href=\"https://stackoverflow.com/a/46630274/9279756\">this answer</a>. All I had to do to fix the issue, was flushing the entityManager after saving. My write method now looks like this:</p>\n\n<pre><code>@Override\npublic void write(List&lt;? extends DetailApplication&gt; list) {\n    detailApplicationRepository.saveAll(list);\n    entityManager.flush();\n}\n</code></pre>\n"}], "owner": {"reputation": 313, "user_id": 9279756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L7CRs.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/9279756/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 56816728, "answer_count": 1, "score": 0, "last_activity_date": 1597328391, "creation_date": 1561577215, "question_id": 56779803, "link": "https://stackoverflow.com/questions/56779803/spring-batch-skipping-exceptions-not-working-as-expected", "title": "Spring Batch skipping exceptions not working as expected", "body": "<p>I have a spring batch job consisting of one step, which is the step below. It reads 100 json files to process them and save them to the database in chunks of 25. As different insert statements within chunks can cause ConstraintViolationException, this could be easily resolved by processing them one by one. That's why I thought about using 'faultTolerant' and skipLimit (also tried with retry), hoping when a chunk of 25 items fails, it would retry them one by one to find the faulty one and commit the other 24 DetailApplications. However this is not the case. It just skips the entire chunk of 25 DetailApplications. The end stats are 3 commits, 100 reads, 75 writes and 1 rollback. What did I do wrong here? Or what did I forget?</p>\n\n<p>Step:</p>\n\n<pre><code>        return stepBuilderFactory.get(\"stepImportDetailsJob\")\n            .&lt;DataJson, DetailApplication&gt; chunk(25)\n            .reader(detailApplicationReader)\n            .processor(detailApplicationProcessor)\n            .writer(detailApplicationWriter)\n            .faultTolerant()\n            .skipLimit(5)\n            .skip(Exception.class)\n            .build();\n</code></pre>\n\n<p>Write method:</p>\n\n<pre><code>@Override\npublic void write(List&lt;? extends DetailApplication&gt; list) {\n    detailApplicationRepository.saveAll(list);\n}\n</code></pre>\n\n<p>The list always comes with size 25 (chunk size), while I would expect this to be 1 when 'locating' the problem.</p>\n"}, {"tags": ["java", "deque", "capacity", "arraydeque"], "comments": [{"owner": {"reputation": 44734, "user_id": 964243, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/fL1rH.png?s=128&g=1", "display_name": "Boann", "link": "https://stackoverflow.com/users/964243/boann"}, "edited": false, "score": 0, "creation_date": 1561587326, "post_id": 56779739, "comment_id": 100118016, "body": "The reason HashMap keeps its capacity a power of 2 is not because of element distribution; it&#39;s for exactly the same reason ArrayDeque does: <code>&amp;</code> is faster than <code>%</code>."}, {"owner": {"reputation": 12379, "user_id": 907576, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/76dc08523e0c13ff6396e683e5f885b9?s=128&d=identicon&r=PG", "display_name": "radistao", "link": "https://stackoverflow.com/users/907576/radistao"}, "reply_to_user": {"reputation": 44734, "user_id": 964243, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/fL1rH.png?s=128&g=1", "display_name": "Boann", "link": "https://stackoverflow.com/users/964243/boann"}, "edited": false, "score": 0, "creation_date": 1561618689, "post_id": 56779739, "comment_id": 100125206, "body": "Then why other collections (like ArrayList) don&#39;t use this way for faster operations?"}, {"owner": {"reputation": 12379, "user_id": 907576, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/76dc08523e0c13ff6396e683e5f885b9?s=128&d=identicon&r=PG", "display_name": "radistao", "link": "https://stackoverflow.com/users/907576/radistao"}, "reply_to_user": {"reputation": 44734, "user_id": 964243, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/fL1rH.png?s=128&g=1", "display_name": "Boann", "link": "https://stackoverflow.com/users/964243/boann"}, "edited": false, "score": 0, "creation_date": 1561630955, "post_id": 56779739, "comment_id": 100132059, "body": "Hey, can we somehow ping Josh Bloch or Doug Lea as they seems to be the authors of the implementation? <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/ArrayDeque.java#l81\" rel=\"nofollow noreferrer\">hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/shar&zwnj;&#8203;e/&hellip;</a>"}, {"owner": {"reputation": 44734, "user_id": 964243, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/fL1rH.png?s=128&g=1", "display_name": "Boann", "link": "https://stackoverflow.com/users/964243/boann"}, "edited": false, "score": 0, "creation_date": 1561636339, "post_id": 56779739, "comment_id": 100135019, "body": "Because ArrayList doesn&#39;t have a use for <code>&amp;</code> or <code>%</code>. Hash tables and deques do."}], "answers": [{"comments": [{"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1561587254, "post_id": 56779916, "comment_id": 100117995, "body": "You&#39;re partially correct. But I like WJS&#39;s answer better. The bottom line is that &quot;powers of two&quot; has many advantages, for multiple different reasons. It a) simplifies setting initial size, b) simplifies resizing (&quot;just double it&quot;), c) simplifies deletes, etc.  And yes, it also allows the use of binary operations that allow for some low-level performance gains :)  I didn&#39;t list it in my response, but look at the deque&#39;s <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/ArrayDeque.java#l688\" rel=\"nofollow noreferrer\">next()</a> method for a good example of what WJS is talking about."}, {"owner": {"reputation": 12379, "user_id": 907576, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/76dc08523e0c13ff6396e683e5f885b9?s=128&d=identicon&r=PG", "display_name": "radistao", "link": "https://stackoverflow.com/users/907576/radistao"}, "edited": false, "score": 0, "creation_date": 1561645607, "post_id": 56779916, "comment_id": 100141015, "body": "@leo-leonter what do you think about this reason: <a href=\"https://stackoverflow.com/a/56790744/907576\">stackoverflow.com/a/56790744/907576</a> ?"}], "tags": [], "owner": {"reputation": 1702, "user_id": 6120487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20c9bdc29c21b9f8b5c38120a99b9e44?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Leontev", "link": "https://stackoverflow.com/users/6120487/leo-leontev"}, "is_accepted": false, "score": 5, "last_activity_date": 1561578434, "last_edit_date": 1561578434, "creation_date": 1561577788, "answer_id": 56779916, "question_id": 56779739, "link": "https://stackoverflow.com/questions/56779739/why-is-deque-arraydeque-capacity-a-power-of-two/56779916#56779916", "title": "Why is Deque (ArrayDeque) capacity a power of two?", "body": "<p>I guess, for performance reasons. For example, let's look at implementation of <code>addLast</code> function:</p>\n\n<pre><code>public void addLast(E e) {\n    if (e == null)\n        throw new NullPointerException();\n    elements[tail] = e;\n    if ( (tail = (tail + 1) &amp; (elements.length - 1)) == head)\n        doubleCapacity();\n}\n</code></pre>\n\n<p>So, instead of <code>tail = (tail + 1) % elements.length</code> it is possible to write <code>tail = (tail + 1) &amp; (elements.length - 1)</code> (<code>&amp;</code> works faster, than <code>%</code>). Such constructions are used many times in <code>ArrayDeque</code>'s source code.</p>\n"}, {"comments": [{"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 1, "creation_date": 1561587437, "post_id": 56779933, "comment_id": 100118050, "body": "Excellent response :) The <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/ArrayDeque.java#l688\" rel=\"nofollow noreferrer\">next()</a> method in the deque code is a good example of what you mean by &quot;facilitates locating or placing elements within the deque&quot;.  Note the &quot;cursor&quot;."}], "tags": [], "owner": {"reputation": 21158, "user_id": 1552534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uAEcW.jpg?s=128&g=1", "display_name": "WJS", "link": "https://stackoverflow.com/users/1552534/wjs"}, "is_accepted": false, "score": 3, "last_activity_date": 1561577879, "creation_date": 1561577879, "answer_id": 56779933, "question_id": 56779739, "link": "https://stackoverflow.com/questions/56779739/why-is-deque-arraydeque-capacity-a-power-of-two/56779933#56779933", "title": "Why is Deque (ArrayDeque) capacity a power of two?", "body": "<p>Powers of 2 lend themselves to certain masking operations.  For example to get the lower order number of bits from an integer.</p>\n\n<p>so if the size is 64, then 64-1 is 63 which is 111111 in binary.</p>\n\n<p>This facilitates locating or placing elements within the deque.</p>\n"}, {"comments": [{"owner": {"reputation": 12379, "user_id": 907576, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/76dc08523e0c13ff6396e683e5f885b9?s=128&d=identicon&r=PG", "display_name": "radistao", "link": "https://stackoverflow.com/users/907576/radistao"}, "edited": false, "score": 0, "creation_date": 1561645667, "post_id": 56779954, "comment_id": 100141057, "body": "what do you thin about this explanation? <a href=\"https://stackoverflow.com/a/56790744/907576\">stackoverflow.com/a/56790744/907576</a>  i found it when i debugged the implementation"}], "tags": [], "owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "is_accepted": false, "score": 3, "last_activity_date": 1561578391, "last_edit_date": 1561578391, "creation_date": 1561577999, "answer_id": 56779954, "question_id": 56779739, "link": "https://stackoverflow.com/questions/56779739/why-is-deque-arraydeque-capacity-a-power-of-two/56779954#56779954", "title": "Why is Deque (ArrayDeque) capacity a power of two?", "body": "<p>Good question.</p>\n\n<p>Looking in the code:</p>\n\n<ol>\n<li><p>As you said, the capacity is always a power of two.  Furthermore, the deque is never allowed to <em>reach</em> capacity.</p>\n\n<pre><code>public class ArrayDeque&lt;E&gt; extends AbstractCollection&lt;E&gt;\n                           implements Deque&lt;E&gt;, Cloneable, Serializable\n{\n    /**\n     * The array in which the elements of the deque are stored.\n     * The capacity of the deque is the length of this array, which is\n     * always a power of two. The array is never allowed to become\n     * full, except transiently within an addX method where it is\n     * resized (see doubleCapacity) immediately upon becoming full,\n     * thus avoiding head and tail wrapping around to equal each\n     * other....\n</code></pre></li>\n<li><p>The \"power of two\" convention simplifies \"initial size\":</p>\n\n<pre><code> /**\n  * Allocates empty array to hold the given number of elements.\n  *\n  * @param numElements  the number of elements to hold\n  */\n private void allocateElements(int numElements) {\n     int initialCapacity = MIN_INITIAL_CAPACITY;\n     // Find the best power of two to hold elements.\n     // Tests \"&lt;=\" because arrays aren't kept full.\n     if (numElements &gt;= initialCapacity) {\n         initialCapacity = numElements;\n         initialCapacity |= (initialCapacity &gt;&gt;&gt;  1);\n         initialCapacity |= (initialCapacity &gt;&gt;&gt;  2);\n         initialCapacity |= (initialCapacity &gt;&gt;&gt;  4);\n         initialCapacity |= (initialCapacity &gt;&gt;&gt;  8);\n         initialCapacity |= (initialCapacity &gt;&gt;&gt; 16);\n         initialCapacity++;\n\n         if (initialCapacity &lt; 0)   // Too many elements, must back off\n             initialCapacity &gt;&gt;&gt;= 1;// Good luck allocating 2 ^ 30 elements\n     }\n</code></pre></li>\n<li><p>Finally, note the use of \"mask\":</p>\n\n<pre><code> /**\n  * Removes the last occurrence of the specified element in this\n  * deque (when traversing the deque from head to tail).\n  * If the deque does not contain the element, it is unchanged.\n  * More formally, removes the last element {@code e} such that\n  * {@code o.equals(e)} (if such an element exists).\n  * Returns {@code true} if this deque contained the specified element\n  * (or equivalently, if this deque changed as a result of the call).\n  *\n  * @param o element to be removed from this deque, if present\n  * @return {@code true} if the deque contained the specified element\n  */\n public boolean removeLastOccurrence(Object o) {\n     if (o == null)\n         return false;\n     int mask = elements.length - 1;\n     int i = (tail - 1) &amp; mask;\n     Object x;\n     while ( (x = elements[i]) != null) {\n         if (o.equals(x)) {\n             delete(i);\n             return true;\n         }\n         i = (i - 1) &amp; mask;\n     }\n     return false;\n }\n\n private boolean delete(int i) {\n     checkInvariants();\n     ...\n     // Invariant: head &lt;= i &lt; tail mod circularity\n     if (front &gt;= ((t - h) &amp; mask))\n         throw new ConcurrentModificationException();\n     ...\n     // Optimize for least element motion\n     if (front &lt; back) {\n         if (h &lt;= i) {\n             System.arraycopy(elements, h, elements, h + 1, front);\n         } else { // Wrap around\n             System.arraycopy(elements, 0, elements, 1, i);\n             elements[0] = elements[mask];\n             System.arraycopy(elements, h, elements, h + 1, mask - h);\n         }\n         elements[h] = null;\n         head = (h + 1) &amp; mask;\n</code></pre></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1561656209, "post_id": 56790744, "comment_id": 100146436, "body": "The &quot;Duroboros Effect&quot; ;)  That&#39;s what I tried to say above (&quot;...the deque is never allowed to reach capacity&quot;).  Glad you figured it out.  And glad you realized that &quot;micro optimizations&quot; using binary operators was <i>NOT</i> the primary motivation :)"}], "tags": [], "owner": {"reputation": 12379, "user_id": 907576, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/76dc08523e0c13ff6396e683e5f885b9?s=128&d=identicon&r=PG", "display_name": "radistao", "link": "https://stackoverflow.com/users/907576/radistao"}, "is_accepted": false, "score": 3, "last_activity_date": 1561672382, "last_edit_date": 1561672382, "creation_date": 1561637683, "answer_id": 56790744, "question_id": 56779739, "link": "https://stackoverflow.com/questions/56779739/why-is-deque-arraydeque-capacity-a-power-of-two/56790744#56790744", "title": "Why is Deque (ArrayDeque) capacity a power of two?", "body": "<p>Finally i found it!!! \nThe reason not just in performance and bits-mask operations (yes, they are faster, but not significantly). The real reason is to <strong>allow <em>loop back</em> the <code>elements</code> capacity if we use sequential adding-removing operations</strong>. In other words: reuse released cells after <code>remove()</code> operation.</p>\n\n<p>Consider the following examples (initial capacity is <strong>16</strong>):</p>\n\n<ol>\n<li><p><strong>Only <code>add()</code></strong>:</p>\n\n<ol>\n<li><p>add 15 elements => head=0, tail=15</p></li>\n<li><p>add more 5 elements => <strong><code>doubleCapacity()</code></strong> => head=0, tail=20, capacity=32</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/VXMVQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VXMVQ.png\" alt=\"enter image description here\"></a></p></li>\n<li><p><strong><code>add()</code>-<code>remove()</code>-<code>add()</code></strong>:</p>\n\n<ol>\n<li><p>add 15 elements => head=0, tail=15</p></li>\n<li><p><strong>remove</strong> 10 elements => tail <em>loops back</em> to removed indexes => head=10, tail=15</p></li>\n<li><p>add more 5 elements => the capacity remains 16, the <code>elements[]</code> array is not rebuilt or reallocated! => new elements are added into the place of the removed elements to the beginning of the array => head=10, tail=4 (<strong>looped back</strong> to the start of the array from 15->0->1->2->3->4). Note the values 16-19 are inserted to the indexes 0-3</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/BPF2v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BPF2v.png\" alt=\"enter image description here\"></a></p></li>\n</ol>\n\n<p>So, in this case using power of two and concise bit operations makes much more sense. With such approach the operations like <code>if ( (tail = (tail + 1) &amp; (elements.length - 1)) == head)</code> allow to assign and verify easily that the <em>looped</em> <code>tail</code> does not overlap with the <code>head</code> (yeah, the stupid snake where actually the tail bites the head :) )</p>\n\n<p>The code snippet to play around:</p>\n\n<pre><code>ArrayDeque&lt;String&gt; q = new ArrayDeque&lt;&gt;(15); // capacity is 16\n\n// add 15 elements\nq.add(\"0\"); q.add(\"1\"); q.add(\"2\"); q.add(\"3\"); q.add(\"4\");\nq.add(\"5\"); q.add(\"6\"); q.add(\"7\"); q.add(\"8\"); q.add(\"9\");\nq.add(\"10\"); q.add(\"11\");q.add(\"12\");q.add(\"13\");q.add(\"14\");\n\n// remove 10 elements from the head =&gt; tail LOOPS BACK in the elements[]\nq.poll();q.poll();q.poll();q.poll();q.poll();q.poll();q.poll();q.poll();q.poll();q.poll();\n\n// add 5 elements =&gt; the elements[] is not reallocated!\nq.add(\"15\");q.add(\"16\");q.add(\"17\");q.add(\"18\");q.add(\"19\");\n\n\nq.poll();\n</code></pre>\n"}], "owner": {"reputation": 12379, "user_id": 907576, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/76dc08523e0c13ff6396e683e5f885b9?s=128&d=identicon&r=PG", "display_name": "radistao", "link": "https://stackoverflow.com/users/907576/radistao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 0, "answer_count": 4, "score": 9, "last_activity_date": 1561672382, "creation_date": 1561576903, "last_edit_date": 1561586669, "question_id": 56779739, "link": "https://stackoverflow.com/questions/56779739/why-is-deque-arraydeque-capacity-a-power-of-two", "title": "Why is Deque (ArrayDeque) capacity a power of two?", "body": "<p>In Java (but similarly in PHP) the <code>ArrayDeque</code> implementation always has its capacity as a power of 2:</p>\n\n<p><a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/ArrayDeque.java#l126\" rel=\"nofollow noreferrer\">http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/ArrayDeque.java#l126</a></p>\n\n<p>For <code>HashMap</code> this choice is clear - to have a uniform element distribution based on a trimmed 32-bit hash. But <code>Deque</code> inserts/removes elements sequentially.</p>\n\n<p>Also, <code>ArrayList</code> doesn't restrict its capacity to a power of two, just ensures it's at least the number of elements.</p>\n\n<p>So, <strong>why does the <code>Deque</code> implementation require its capacity to be a power of 2</strong>?</p>\n"}, {"tags": ["java", "intellij-idea", "jar", "native", "lwjgl"], "comments": [{"owner": {"reputation": 53, "user_id": 9871487, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ETBUSKDa63k/AAAAAAAAAAI/AAAAAAAAAXo/5eWsg4z1NkQ/photo.jpg?sz=128", "display_name": "Sereyn", "link": "https://stackoverflow.com/users/9871487/sereyn"}, "edited": false, "score": 0, "creation_date": 1561576044, "post_id": 56779428, "comment_id": 100114189, "body": "I already zipped a java program into a jar with a terminal, but after some research I found out that building more complex projects manually was a nightmare, but if you have good tutorials to suggest I will not refuse it."}, {"owner": {"reputation": 53, "user_id": 9871487, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ETBUSKDa63k/AAAAAAAAAAI/AAAAAAAAAXo/5eWsg4z1NkQ/photo.jpg?sz=128", "display_name": "Sereyn", "link": "https://stackoverflow.com/users/9871487/sereyn"}, "edited": false, "score": 0, "creation_date": 1561576842, "post_id": 56779428, "comment_id": 100114473, "body": "I&#39;m not not interested in hearing anything about using the idiomatically correct tools, I just don&#39;t want to climb too high in abstraction. And if you want to explain me how to do this with a terminal you are welcome"}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 9871487, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ETBUSKDa63k/AAAAAAAAAAI/AAAAAAAAAXo/5eWsg4z1NkQ/photo.jpg?sz=128", "display_name": "Sereyn", "link": "https://stackoverflow.com/users/9871487/sereyn"}, "is_accepted": true, "score": 1, "last_activity_date": 1561709754, "creation_date": 1561709754, "answer_id": 56803280, "question_id": 56779428, "link": "https://stackoverflow.com/questions/56779428/distribute-a-java-lwjgl-program/56803280#56803280", "title": "Distribute a Java LWJGL program", "body": "<p>I managed to build my jar with a terminal.<br>\nEverything I will explain works in a single folder, no subfolder for packages etc.. (for simplicity)</p>\n\n<p>You will need a minimal ZIP bundle from <a href=\"https://www.lwjgl.org/customize\" rel=\"nofollow noreferrer\">here</a>, including the natives corresponding to the OS(s) you want to distribute for.</p>\n\n<ul>\n<li><p>Compile with <code>javac -cp \".;./lwjgl.jar;./lwjgl-opengl.jar;./lwjgl-glfw.jar\" Main.java</code> (replace ; by : if you are on unix system)</p></li>\n<li><p>Create a manifest file <code>myManifest.txt</code> containing:</p></li>\n</ul>\n\n<pre><code>Manifest-Version: 1.0\nClass-Path: ./lwjgl.jar ./lwjgl-glfw.jar ./lwjgl-opengl.jar ./lwjgl-natives-windows.jar\nMain-Class: Main\n\n</code></pre>\n\n<p>Do not forget the blank line at the end.  </p>\n\n<ul>\n<li>Jar it with <code>jar -cvfm MyJar.jar .\\myManifest.txt .\\Main.class</code></li>\n</ul>\n\n<p>You can now run your jar by double clicking it, you will need all .jar files in this folder, .java, .class and manifest files can be removed.</p>\n"}], "owner": {"reputation": 53, "user_id": 9871487, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ETBUSKDa63k/AAAAAAAAAAI/AAAAAAAAAXo/5eWsg4z1NkQ/photo.jpg?sz=128", "display_name": "Sereyn", "link": "https://stackoverflow.com/users/9871487/sereyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "closed_date": 1561995048, "accepted_answer_id": 56803280, "answer_count": 1, "score": 2, "last_activity_date": 1561709754, "creation_date": 1561575491, "question_id": 56779428, "link": "https://stackoverflow.com/questions/56779428/distribute-a-java-lwjgl-program", "closed_reason": "Needs more focus", "title": "Distribute a Java LWJGL program", "body": "<p>I'm currently learning <a href=\"https://www.lwjgl.org\" rel=\"nofollow noreferrer\" title=\"LWJGL\">LWJGL</a> on Intellij Idea. I can run the official HelloWorld code with my IDE's built-in run tool but I would love to <strong>compress my code into a jar file</strong>.</p>\n\n<p>I followed this <a href=\"http://wiki.lwjgl.org/wiki/Distributing_Your_LWJGL_Application.html\" rel=\"nofollow noreferrer\">wiki</a> with my files I downloaded from <a href=\"https://www.lwjgl.org/customize\" rel=\"nofollow noreferrer\">here</a> (bundle zip).</p>\n\n<p>I created a jar build system via Intellij Idea's \"Artifacts\" and can run a simple program but still not a LWJGL one.</p>\n\n<p>I'm a bit lost with native jars which I need to include.</p>\n\n<p>Do I need to include native jars as a library, do I need to copy them next to my jar?</p>\n\n<p>Please explain me, a beginner, to build this jar. The less tools such as gradle I use, the better, I want to learn.</p>\n"}, {"tags": ["java", "java-stream"], "comments": [{"owner": {"reputation": 10726, "user_id": 4956907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ypfs.jpg?s=128&g=1", "display_name": "michalk", "link": "https://stackoverflow.com/users/4956907/michalk"}, "edited": false, "score": 3, "creation_date": 1561575617, "post_id": 56779426, "comment_id": 100114010, "body": "collect here will return <code>Set&lt;Long&gt;</code> so you would have to cast to <code>HashSet</code> in your case."}, {"owner": {"reputation": 34704, "user_id": 1746118, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/a4a3P.png?s=128&g=1", "display_name": "Naman", "link": "https://stackoverflow.com/users/1746118/naman"}, "edited": false, "score": 0, "creation_date": 1561579132, "post_id": 56779426, "comment_id": 100115228, "body": "Further, the <code>Collectors.toSet</code> returns a <code>Set&lt;Long&gt;</code> which by default uses the <code>HashSet::new</code> implementation of the interface which can be found in the implementation of <code>toSet()</code>."}], "answers": [{"tags": [], "owner": {"reputation": 10726, "user_id": 4956907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ypfs.jpg?s=128&g=1", "display_name": "michalk", "link": "https://stackoverflow.com/users/4956907/michalk"}, "is_accepted": true, "score": 1, "last_activity_date": 1561576534, "last_edit_date": 1561576534, "creation_date": 1561576129, "answer_id": 56779584, "question_id": 56779426, "link": "https://stackoverflow.com/questions/56779426/java-stream-map-object-parameter-to-hashset/56779584#56779584", "title": "java stream map object parameter to hashset", "body": "<p>In your case the result of the stream will be <code>Set&lt;Long&gt;</code> and you want to assign this to a variable of <code>HashSet</code> type. Since <code>HashSet</code> is a subtype of <code>Set</code> you cannot do this. Either you change the type of your output variable to <code>Set&lt;Long&gt;</code> or you explicitly cast the collect result to <code>HashSet&lt;Long&gt;</code>. Since <code>Collectors::toSet</code> uses <code>HashMap</code> by default - it should work.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>As shmosel pointed out correctly it might be a bad idea to make assumptions about the return type so if you want <code>HashSet</code> specifically use <code>toCollection(HashSet::new)</code> :</p>\n\n<pre><code>HashSet&lt;Long&gt; output = s.stream()\n                .map(v -&gt; v.getId())\n                .collect(Collectors.toCollection(HashSet::new));\n</code></pre>\n\n<p>Now the result of <code>collect</code> operation will be <code>HashSet&lt;Long&gt;</code> so you will be able to assign it to <code>HashSet&lt;Long&gt;</code> or <code>Set&lt;Long&gt;</code> variable.</p>\n"}], "owner": {"reputation": 484, "user_id": 5280499, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f86d619e5fcf9f046183ed9757778b38?s=128&d=identicon&r=PG&f=1", "display_name": "NutellaAddict", "link": "https://stackoverflow.com/users/5280499/nutellaaddict"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 56779584, "answer_count": 1, "score": -2, "last_activity_date": 1561576534, "creation_date": 1561575489, "last_edit_date": 1561576168, "question_id": 56779426, "link": "https://stackoverflow.com/questions/56779426/java-stream-map-object-parameter-to-hashset", "title": "java stream map object parameter to hashset", "body": "<p>Im trying to create a HashSet using the .map and streams functions.</p>\n\n<p>s is an object with an \"id\" parameter, Long type.</p>\n\n<p>Here is my failed attempt:</p>\n\n<pre><code>     HashSet&lt;Long&gt; output = s.stream()\n                             .map(v -&gt; v.getId())\n                             .collect(Collectors.toSet());\n</code></pre>\n"}, {"tags": ["java", "user-interface", "swt", "grid-layout", "composite"], "answers": [{"comments": [{"owner": {"reputation": 1811, "user_id": 9808098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d9c44d685cabf03d0555543896b4ba1?s=128&d=identicon&r=PG&f=1", "display_name": "vesii", "link": "https://stackoverflow.com/users/9808098/vesii"}, "edited": false, "score": 0, "creation_date": 1561579747, "post_id": 56779748, "comment_id": 100115375, "body": "Hi Greg, thank you for your reply. Please see my edit."}, {"owner": {"reputation": 102407, "user_id": 2670892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4iPV5.png?s=128&g=1", "display_name": "greg-449", "link": "https://stackoverflow.com/users/2670892/greg-449"}, "reply_to_user": {"reputation": 1811, "user_id": 9808098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d9c44d685cabf03d0555543896b4ba1?s=128&d=identicon&r=PG&f=1", "display_name": "vesii", "link": "https://stackoverflow.com/users/9808098/vesii"}, "edited": false, "score": 0, "creation_date": 1561581846, "post_id": 56779748, "comment_id": 100116237, "body": "Buttons can&#39;t be part of the table. Things like this are always done with multiple Composites. For example often you have a Composite which just contains the buttons."}, {"owner": {"reputation": 1811, "user_id": 9808098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d9c44d685cabf03d0555543896b4ba1?s=128&d=identicon&r=PG&f=1", "display_name": "vesii", "link": "https://stackoverflow.com/users/9808098/vesii"}, "edited": false, "score": 0, "creation_date": 1561582221, "post_id": 56779748, "comment_id": 100116389, "body": "ok so is it possible to change the other elements of the Composite to be with 2 columns (and not 3) so they could support the table which needs 2?"}, {"owner": {"reputation": 102407, "user_id": 2670892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4iPV5.png?s=128&g=1", "display_name": "greg-449", "link": "https://stackoverflow.com/users/2670892/greg-449"}, "reply_to_user": {"reputation": 1811, "user_id": 9808098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d9c44d685cabf03d0555543896b4ba1?s=128&d=identicon&r=PG&f=1", "display_name": "vesii", "link": "https://stackoverflow.com/users/9808098/vesii"}, "edited": false, "score": 0, "creation_date": 1561582430, "post_id": 56779748, "comment_id": 100116489, "body": "I&#39;m not sure what you mean by that, but GridData has a &#39;span&#39; argument - which you are already using."}, {"owner": {"reputation": 1811, "user_id": 9808098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d9c44d685cabf03d0555543896b4ba1?s=128&d=identicon&r=PG&f=1", "display_name": "vesii", "link": "https://stackoverflow.com/users/9808098/vesii"}, "edited": false, "score": 0, "creation_date": 1561582658, "post_id": 56779748, "comment_id": 100116560, "body": "Sorry, I&#39;m trying to make my point more clear. As I understand the table use 2 columns and the tick boxes and the insert boxes use 3 columns. I&#39;m trying to make them uses 2 columns (instead of 3). Is it possible to do so? <b>EDIT</b>: A better idea - is it possible to add a third <i>empty</i> column in the table?"}], "tags": [], "owner": {"reputation": 102407, "user_id": 2670892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4iPV5.png?s=128&g=1", "display_name": "greg-449", "link": "https://stackoverflow.com/users/2670892/greg-449"}, "is_accepted": false, "score": 0, "last_activity_date": 1561576934, "creation_date": 1561576934, "answer_id": 56779748, "question_id": 56779423, "link": "https://stackoverflow.com/questions/56779423/how-to-use-two-grid-layouts-in-one-composite/56779748#56779748", "title": "How to use two Grid Layouts in one Composite", "body": "<p>A Composite can only have one layout, you can't change it halfway. It will just end up using the last layout you set for everything.</p>\n\n<p>You could use multiple Composites in a containing Composite. </p>\n"}, {"tags": [], "owner": {"reputation": 7158, "user_id": 6245535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfdf9b5500b424c198a474f7e8aeff8a?s=128&d=identicon&r=PG&f=1", "display_name": "Loris Securo", "link": "https://stackoverflow.com/users/6245535/loris-securo"}, "is_accepted": false, "score": 0, "last_activity_date": 1561587281, "last_edit_date": 1561587281, "creation_date": 1561585711, "answer_id": 56781358, "question_id": 56779423, "link": "https://stackoverflow.com/questions/56779423/how-to-use-two-grid-layouts-in-one-composite/56781358#56781358", "title": "How to use two Grid Layouts in one Composite", "body": "<p>You could keep your main <code>Composite</code> with a <code>GridLayout</code> of 3 columns and tell the table to occupy all 3 of these columns instead of 2 like you are doing now.</p>\n\n<p>You can do that by changing the <code>horizontal span</code> of the table <code>GridData</code> from 2 to 3:</p>\n\n<pre><code>final GridData data = new GridData(SWT.FILL, SWT.FILL, true, true, 3, 5);\n</code></pre>\n\n<p>Also, you should not reuse <code>GridData</code> objects; from the <a href=\"https://help.eclipse.org/2019-06/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/layout/GridData.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>Every control in a <code>Composite</code> that is managed by a <code>GridLayout</code> must have\n  a unique <code>GridData</code> object.</p>\n</blockquote>\n"}], "owner": {"reputation": 1811, "user_id": 9808098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d9c44d685cabf03d0555543896b4ba1?s=128&d=identicon&r=PG&f=1", "display_name": "vesii", "link": "https://stackoverflow.com/users/9808098/vesii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1561664615, "creation_date": 1561575459, "last_edit_date": 1561664615, "question_id": 56779423, "link": "https://stackoverflow.com/questions/56779423/how-to-use-two-grid-layouts-in-one-composite", "title": "How to use two Grid Layouts in one Composite", "body": "<p>I have some trouble with <code>Composite</code>. I have written the following code:</p>\n\n<pre><code>final Composite mavniOptionsComposite = new Composite(parent, SWT.NONE);\nmavniOptionsComposite.setLayout(new GridLayout(3, false));\n\nfinal GridData textGridData = new GridData(SWT.FILL, SWT.FILL, true, false, 2, 1);\n\nfinal Label mavniFormatingLabel = new Label(mavniOptionsComposite, SWT.None);\nmavniFormatingLabel.setText(PFT.MAVNI_HISTORY.getExplanationLabelText());\nmavniFormatingLabel.setLayoutData(new GridData(SWT.BEGINNING, SWT.CENTER, false, false));\n\nfinal GridData mavniFormatingGridData = new GridData(SWT.BEGINNING, SWT.CENTER, false, false);\nfinal Button mavniHistoryRunCheckbox = new Button(mavniOptionsComposite, SWT.CHECK);\nmavniHistoryRunCheckbox.setLayoutData(mavniFormatingGridData);\nmavniHistoryRunCheckbox.setText(PFT.MAVNI_HISTORY.getExplanationLabelText());\nmavniHistoryRunCheckbox.addSelectionListener(new mavniHistoryCheckBoxSelectionAdapter());\nwidgetsMap.put(PFT.MAVNI_HISTORY, mavniHistoryRunCheckbox);\n\nfinal Button mavniRealtimeCheckbox = new Button(mavniOptionsComposite, SWT.CHECK);\nmavniRealtimeCheckbox.setLayoutData(mavniFormatingGridData);\nmavniRealtimeCheckbox.setText(PFT.MAVNI_REALTIME.getExplanationLabelText());\nmavniRealtimeCheckbox.setEnabled(MyPreferences.isWmcDefined());\nwidgetsMap.put(PFT.MAVNI_REALTIME, mavniRealtimeCheckbox);\n\nfinal Label toolNameLabel = new Label(mavniOptionsComposite, SWT.NONE);\ntoolNameLabel.setLayoutData(new GridData(SWT.BEGINNING, SWT.CENTER, false, false));\ntoolNameLabel.setText(PFT.TOOL_NAME.getExplanationLabelText());\n\nfinal Text toolNameText = new Text(mavniOptionsComposite, SWT.SINGLE | SWT.LEAD | SWT.BORDER);\ntoolNameText.setLayoutData(textGridData);\nwidgetsMap.put(PFT.TOOL_NAME, toolNameText);\n\nfinal Label toolVersionLabel = new Label(mavniOptionsComposite, SWT.NONE);\ntoolVersionLabel.setLayoutData(new GridData(SWT.BEGINNING, SWT.CENTER, false, false));\ntoolVersionLabel.setText(PFT.TOOL_VERSION.getExplanationLabelText());\n\nfinal Text toolVersionText = new Text(mavniOptionsComposite, SWT.SINGLE | SWT.LEAD | SWT.BORDER);\ntoolVersionText.setLayoutData(textGridData);\nwidgetsMap.put(PFT.TOOL_VERSION, toolVersionText);\n\nmavniOptionsComposite.setLayout(new GridLayout(2, false));\n\nnew MavniOptionViewer(MyPreferences.getMavniOptionsList()).createViewer(mavniOptionsComposite);\n\ncreateExpandItem(parent, mavniOptionsComposite, \"Mavni Options\", com.mavni.ui.Activator\n        .getDefault().getImageRegistry().get(IImageKeys.EXECUTE.getPath()), false);\n</code></pre>\n\n<p>But I get the following behavior:</p>\n\n<p>I would like the table to expand to on the full layout. As I understand that happens because I set <code>setLayout(new GridLayout(3, false));</code> and the table contains only two columns. If I set <code>mavniOptionsComposite.setLayout(new GridLayout(2, false));</code> then the table works as expected but the other elements are showing no in there place (like it should be now).</p>\n\n<p>The wanted behviour:</p>\n\n<p>At first I though to create two GridLayouts and insert them into one composite. I tried to search for a way to combine two layouts in one composite but could not find a way. I need one composite because <code>createExpandItem</code> works with only one composite. How to solve it?</p>\n\n<p><strong>EDIT</strong>: In the <code>MavniOptionViewer</code> I have:</p>\n\n<pre><code>public void createViewer(final Composite parent) {\n    commandsTable = new Table(parent, SWT.BORDER | SWT.FULL_SELECTION);\n    commandsTable.setHeaderVisible(true);\n    commandsTable.setLinesVisible(true);\n    final GridData data = new GridData(SWT.FILL, SWT.FILL, true, true, 2, 5);\n    data.heightHint = 120;\n    commandsTable.setLayoutData(data);\n    final Map&lt;ButtonTypeEnum, Button&gt; buttons = ButtonComboFactory.createAddRemoveCombo(parent);\n    final Button add = buttons.get(ButtonTypeEnum.ADD);\n    final Button remove = buttons.get(ButtonTypeEnum.REMOVE);\n    ...\n</code></pre>\n\n<p>I though of another possible solution. Is it possbile to change <code>createViewer</code> so the table will have 3 columns and the <code>add</code> <code>remove</code> buttons will be on seprated line. How to do it?</p>\n"}, {"tags": ["java", "jersey", "jersey-2.0"], "comments": [{"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1561575932, "post_id": 56779405, "comment_id": 100114132, "body": "Even if Jersey didn&#39;t close the input stream, it would already have <b>consumed</b> the stream, so preventing close will not make the code work anyway. Why would you need the body twice anyway? If you really do, 1) create <code>t</code> from <code>body</code>, 2) create <code>body</code> from <code>t</code>, 3) accept a <code>byte[]</code> and create both from it, 4) accept <code>InputStream</code> and create both from it, or 5) ... <i>many other ways to do it</i>"}, {"owner": {"reputation": 11, "user_id": 11704845, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9dwn05n85vo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdjbmPeFvx8DSGfXrHRN0M0vgzcWA/photo.jpg?sz=128", "display_name": "Alex Petrovich", "link": "https://stackoverflow.com/users/11704845/alex-petrovich"}, "reply_to_user": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1561583074, "post_id": 56779405, "comment_id": 100116705, "body": "Right. But potentially an unclosed stream could be reset or wrapped so that downstream consumers could use it."}, {"owner": {"reputation": 11, "user_id": 11704845, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9dwn05n85vo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdjbmPeFvx8DSGfXrHRN0M0vgzcWA/photo.jpg?sz=128", "display_name": "Alex Petrovich", "link": "https://stackoverflow.com/users/11704845/alex-petrovich"}, "reply_to_user": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1561583215, "post_id": 56779405, "comment_id": 100116768, "body": "I&#39;m writing a wrapper library, so the use-case is just me wanting to keep the second endpoint contract safe :) It&#39;s a scary error, and it&#39;s not obvious (except for people who know jersey) that the parameter ordering would fix the problem"}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1561583613, "post_id": 56779405, "comment_id": 100116925, "body": "What would fix the problem is not asking Jersey for the request body twice. Otherwise see <a href=\"https://stackoverflow.com/q/6322362/5221149\">Logging HttpRequest parameters and request body</a> or <a href=\"https://stackoverflow.com/q/10457963/5221149\">Spring REST service: retrieving JSON from Request</a> or any other <a href=\"https://www.google.com/search?q=java+request+body+logger\" rel=\"nofollow noreferrer\">similar question</a>."}, {"owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "edited": false, "score": 0, "creation_date": 1561586438, "post_id": 56779405, "comment_id": 100117788, "body": "There are <i>a lot</i> of use cases where you would want access to the body outside of the resource method."}, {"owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "edited": false, "score": 0, "creation_date": 1561586557, "post_id": 56779405, "comment_id": 100117818, "body": "One way would be to force Jersey to buffer the entity. If you created a filter that casted the ContainerRequestContext to ContainerRequest, you could call cr.bufferEntity(). That&#39;s just one solution I can think of. Not sure if it is the <i>best</i> though."}], "owner": {"reputation": 11, "user_id": 11704845, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9dwn05n85vo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdjbmPeFvx8DSGfXrHRN0M0vgzcWA/photo.jpg?sz=128", "display_name": "Alex Petrovich", "link": "https://stackoverflow.com/users/11704845/alex-petrovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561575363, "creation_date": 1561575363, "question_id": 56779405, "link": "https://stackoverflow.com/questions/56779405/prevent-jersey-from-closing-inputstream-when-injecting-parameters", "title": "Prevent Jersey from closing InputStream when injecting parameters?", "body": "<p>I have a <code>Factory&lt;T&gt;</code> that uses the <code>InputStream</code> from <code>ContainerRequestContext</code> to create <code>T</code>. In my factory I mark and reset the <code>InputStream</code> so that Jersey can then inject the body into the endpoint parameter. This works fine</p>\n\n<p><strong>problem</strong>: if I swap the ordering of these parameters (<code>String body</code> first, then <code>@Context T t</code>) it breaks. Jersey has closed the <code>InputStream</code> before my <code>Factory&lt;T&gt;</code> tries to read from the InputStream.</p>\n\n<p><code>Factory&lt;T&gt;</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic T provide() {\n    InputStream inputStream = containerRequestContext.getEntityStream();\n    inputStream.mark(Integer.MAX_VALUE);\n\n    T t = new T(inputStream);\n\n    inputStream.reset();\n    return t;\n}\n</code></pre>\n\n<p><code>ResourceConfig</code> endpoint (works):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@POST\npublic Response getBodyDouble(@Context T t, String body) {}\n</code></pre>\n\n<p><code>ResourceConfig</code> endpoint (creating T fails):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@POST\npublic Response getBodyDouble(String body, @Context T t) {}\n</code></pre>\n\n<p>Stack trace:</p>\n\n<pre><code>java.lang.IllegalStateException: Entity input stream has already been closed.\n        at org.glassfish.jersey.message.internal.EntityInputStream.ensureNotClosed(EntityInputStream.java:225)\n        at org.glassfish.jersey.message.internal.InboundMessageContext.getEntityStream(InboundMessageContext.java:762)\n        at com.-.TFactory.provide(TFactory.java:xx)\n</code></pre>\n\n<p>Is there a way to prevent Jersey from closing the InputStream when it injects the body? Or some way to re-open it? Thanks</p>\n"}, {"tags": ["java", "android", "nullpointerexception"], "comments": [{"owner": {"reputation": 3, "user_id": 10770792, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SY9p4AU2W3s/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jkgBn117pzPbLf1Nhs-H-Ll3dpQQ/mo/photo.jpg?sz=128", "display_name": "Onix", "link": "https://stackoverflow.com/users/10770792/onix"}, "reply_to_user": {"reputation": 4066, "user_id": 2442526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c673a5b98a6b201606a39c644c467b13?s=128&d=identicon&r=PG&f=1", "display_name": "xtratic", "link": "https://stackoverflow.com/users/2442526/xtratic"}, "edited": false, "score": 0, "creation_date": 1561576086, "post_id": 56779352, "comment_id": 100114202, "body": "@xtratic didn&#39;t help"}], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 3034114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CecLS.png?s=128&g=1", "display_name": "Mike D.", "link": "https://stackoverflow.com/users/3034114/mike-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1561579481, "creation_date": 1561579481, "answer_id": 56780123, "question_id": 56779352, "link": "https://stackoverflow.com/questions/56779352/null-pointer-exc-attempt-to-invoke-virtual-method-boolean-java-util-arraylist/56780123#56780123", "title": "Null Pointer Exc: Attempt to invoke virtual method &#39;boolean java.util.ArrayList.add(java.lang.Object)&#39; on a null object reference", "body": "<p><code>getParcelableArrayListExtra(String);</code> isn't finding the Array in the intent and returning a <code>null</code>. Look at the <a href=\"https://developer.android.com/reference/android/content/Intent.html#getParcelableArrayListExtra(java.lang.String)\" rel=\"nofollow noreferrer\">documentation for the function</a>.</p>\n\n<p>From there it looks like you are doing something wrong in MainActivity.java. You are overwriting the information in <code>listaAntr</code> in the <code>oncreate</code> with this line <code>listaAntr = intent2.getParcelableArrayListExtra(\"listaantr\");</code> and then passing that newly nulled Array to the next Activity when you click, thus causing your issue.</p>\n"}], "owner": {"reputation": 3, "user_id": 10770792, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SY9p4AU2W3s/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jkgBn117pzPbLf1Nhs-H-Ll3dpQQ/mo/photo.jpg?sz=128", "display_name": "Onix", "link": "https://stackoverflow.com/users/10770792/onix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "closed_date": 1561636119, "answer_count": 1, "score": -2, "last_activity_date": 1561579575, "creation_date": 1561575079, "question_id": 56779352, "link": "https://stackoverflow.com/questions/56779352/null-pointer-exc-attempt-to-invoke-virtual-method-boolean-java-util-arraylist", "closed_reason": "Duplicate", "title": "Null Pointer Exc: Attempt to invoke virtual method &#39;boolean java.util.ArrayList.add(java.lang.Object)&#39; on a null object reference", "body": "<p>I have MainActivity:\npublic class MainActivity extends Activity {</p>\n\n<pre><code>private ArrayList&lt;Antrenament&gt; listaAntr = new ArrayList&lt;&gt;();\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    Antrenament a1 = new Antrenament(\"forta\",\"12/06/2019\",50,\"Andrei\");\n    listaAntr.add(a1);\n\n    Button bAdd = (Button) findViewById(R.id.buttonAdd);\n    Button bLista = (Button) findViewById(R.id.buttonList);\n\n\n    bAdd.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent(getApplicationContext(), AdaugareAntrenament.class);\n            intent.putParcelableArrayListExtra(\"listaant\",listaAntr);\n            startActivityForResult(intent,1);\n\n        }\n    });\n\n\n    bLista.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent(getApplicationContext(), ListaAntr.class);\n            intent.putParcelableArrayListExtra(\"listaant\",listaAntr);\n            startActivityForResult(intent,1);\n        }\n    });\n\n\n    Intent intent2 = getIntent();\n    listaAntr = intent2.getParcelableArrayListExtra(\"listaantr\");\n\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I want to send the list of objects Antrenament name listaAntr to AdaugareAntrenament activity, where I want to create a new Antrenament object, add it to the list and then send back the list to mainactivity. This updated list I want to send afterward to ListaAntr Activity, from mainactivity.</p>\n\n<p>AdaugareAntrenament activity:</p>\n\n<p>public class AdaugareAntrenament extends Activity {</p>\n\n<pre><code> ArrayList&lt;Antrenament&gt; listaAntr1=new ArrayList&lt;&gt;();\n//private Button add;\n EditText etcateg, etdurata, etinstr,etdata;\nList&lt;String&gt; listacateg=new ArrayList&lt;&gt;();\nSpinner spinner;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_adaugare_antrenament);\n\n    Intent intent = getIntent();\n   listaAntr1 = intent.getParcelableArrayListExtra(\"listaant\");\n\n    Button add = findViewById(R.id.buttonSave);\n    etdurata=findViewById(R.id.editTextDurata);\n    etinstr=findViewById(R.id.editTextInstructor);\n    etdata=findViewById(R.id.editTextData);\n    spinner=findViewById(R.id.spinner);\n\n    listacateg=new ArrayList&lt;&gt;(Arrays.asList(getResources().getStringArray(R.array.categ)));\n\n    ArrayAdapter&lt;String&gt; adapter=new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_item,listacateg);\n    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    spinner.setAdapter(adapter);\n\n    add.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            String categorie,instructor,data;\n            int durata;\n\n            durata = Integer.parseInt(etdurata.getText().toString());\n            instructor = etinstr.getText().toString().trim();\n            data = etdata.getText().toString().trim();\n            categorie = spinner.getSelectedItem().toString().trim();\n\n\n\n            if(TextUtils.isEmpty(instructor)) {\n                etinstr.setError(\"Introduceti numele instructorului\");\n                return;\n            }\n\n            if(TextUtils.isEmpty(data)) {\n                etdata.setError(\"Introduceti data programarii\");\n                return;\n            }\n\n                Antrenament antr = new Antrenament(categorie, data, durata, instructor);\n                listaAntr1.add(antr);\n                Intent intent=new Intent(getApplicationContext(), MainActivity.class);\n                intent.putParcelableArrayListExtra(\"listaantr\",listaAntr1);\n\n        }\n    });\n\n}\n</code></pre>\n\n<p>For the moment I get that error when I try to create the Antrenament object.. but this after some changes, because my code doesn't even send the updated list back to main activity.</p>\n\n<p>Current error: </p>\n\n<pre><code> java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.util.ArrayList.add(java.lang.Object)' on a null object reference\n        at com.example.ancaa.rezolvarerestanta20181.AdaugareAntrenament$1.onClick(AdaugareAntrenament.java:78)\n</code></pre>\n\n<p>The error points to the line :     </p>\n\n<pre><code>  listaAntr1.add(antr);\n</code></pre>\n\n<p>and ListaAntr Activity: </p>\n\n<p>public class ListaAntr extends Activity {</p>\n\n<pre><code>public ArrayList&lt;Antrenament&gt; listaAntr = new ArrayList&lt;&gt;();\npublic ListView lv;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_lista_antr);\n\n    lv = (ListView)findViewById(R.id.lista);\n\n    Intent intent = getIntent();\n    listaAntr = intent.getParcelableArrayListExtra(\"listaantr\");\n\n    ArrayAdapter&lt;Antrenament&gt; adapter=new ArrayAdapter&lt;Antrenament&gt;(this,android.R.layout.simple_list_item_1,listaAntr);\n    lv.setAdapter(adapter);\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Here the content of the arraylist should be shown as a listview.</p>\n"}, {"tags": ["java", "datetime", "jdbc", "spring-data-jpa", "spring-jdbc"], "comments": [{"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1561579729, "post_id": 56779227, "comment_id": 100115367, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/52943309/java-sql-timestamp-to-zoneddatetime\">Java SQL Timestamp to ZonedDateTime</a> (unanswered, though). See also <a href=\"https://stackoverflow.com/questions/42766674/java-convert-java-time-instant-to-java-sql-timestamp-without-zone-offset\">Java - Convert java.time.Instant to java.sql.Timestamp without Zone offset</a>. And don\u2019t use <code>Timestamp</code>. Spring JPA should be able to handle either an <code>Instant</code>, an <code>OffsetDateTime</code> or a <code>LocalDateTIme</code>."}, {"owner": {"reputation": 43, "user_id": 5483782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Adi0Q.jpg?s=128&g=1", "display_name": "NathanForYou", "link": "https://stackoverflow.com/users/5483782/nathanforyou"}, "reply_to_user": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1561585692, "post_id": 56779227, "comment_id": 100117578, "body": "Thanks for the info Ole. I arrived at <code>Timestamp</code> due to the <code>updated_at</code> value automatically being cast to it, ie:  <code>Date updatedAt = device.getUpdatedAt();</code> <code>logger.info(&quot;updatedAt class: &quot; + updatedAt.getClass()); -&gt; java.sql.Timestamp</code> Noted, I will try another type for this."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 5483782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Adi0Q.jpg?s=128&g=1", "display_name": "NathanForYou", "link": "https://stackoverflow.com/users/5483782/nathanforyou"}, "edited": false, "score": 0, "creation_date": 1561575772, "post_id": 56779390, "comment_id": 100114080, "body": "Thanks for the quick reply Michael, it definitely seems as though it should work. For whatever reason, it still appears to be adding those 4 hours to the timestamps of <code>updated_at</code>. This might be a conversion issue as those are originally of Ruby type <code>ActiveSupport::TimeWithZone</code> and they&#39;re getting cast into Timestamps when retrieved in the Spring app. Perhaps there could be a translational issue where the UTC vs Local time offset is literally being imbedded into the <code>Long</code> value of the time?"}, {"owner": {"reputation": 4217, "user_id": 5802417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jWoIa.jpg?s=128&g=1", "display_name": "Michael Gantman", "link": "https://stackoverflow.com/users/5802417/michael-gantman"}, "reply_to_user": {"reputation": 43, "user_id": 5483782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Adi0Q.jpg?s=128&g=1", "display_name": "NathanForYou", "link": "https://stackoverflow.com/users/5483782/nathanforyou"}, "edited": false, "score": 0, "creation_date": 1561575879, "post_id": 56779390, "comment_id": 100114119, "body": "Check the Locale and timezone set for your DB see if the time written in DB is correct. That might give you a hint"}, {"owner": {"reputation": 875, "user_id": 5693152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0843ad84392eabcc6068408fad76823d?s=128&d=identicon&r=PG&f=1", "display_name": "geneSummons", "link": "https://stackoverflow.com/users/5693152/genesummons"}, "edited": false, "score": 0, "creation_date": 1561576886, "post_id": 56779390, "comment_id": 100114488, "body": "FWIW, I&#39;ve read that Java stores ALL date/time related data as long values in UTC.  The usual confusion arises from the fact that Java is also &quot;locale aware&quot; and always &quot;prints&quot; date/time related data in LOCAL (per the JVM) time zone.  The only way around this is to use, for example, SimpleDateFormat to configure which time zone to &quot;print&quot; in/from."}, {"owner": {"reputation": 43, "user_id": 5483782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Adi0Q.jpg?s=128&g=1", "display_name": "NathanForYou", "link": "https://stackoverflow.com/users/5483782/nathanforyou"}, "edited": false, "score": 0, "creation_date": 1561577208, "post_id": 56779390, "comment_id": 100114609, "body": "I update the timezone of my PSQL db to UTC and that didn&#39;t do the trick either. Will keep digging."}], "tags": [], "owner": {"reputation": 4217, "user_id": 5802417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jWoIa.jpg?s=128&g=1", "display_name": "Michael Gantman", "link": "https://stackoverflow.com/users/5802417/michael-gantman"}, "is_accepted": false, "score": 0, "last_activity_date": 1561575297, "creation_date": 1561575297, "answer_id": 56779390, "question_id": 56779227, "link": "https://stackoverflow.com/questions/56779227/how-to-generate-a-java-sql-timestamp-in-utc-for-a-query-comparison/56779390#56779390", "title": "How to generate a java.sql.Timestamp in UTC for a query comparison?", "body": "<p>Actually when you comparing two Timestamps you don't need to convert them o the same timezone. It is smart enough to compare them as absolute times. What it does it converts any <code>Timestamp</code> to a <code>Long</code> value of milliseconds that have passed since 1.1.1970 00:00 UTC, and then compares them. So you probably do not need to convert your time. it should work as it is.</p>\n"}], "owner": {"reputation": 43, "user_id": 5483782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Adi0Q.jpg?s=128&g=1", "display_name": "NathanForYou", "link": "https://stackoverflow.com/users/5483782/nathanforyou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 779, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561577255, "creation_date": 1561574557, "last_edit_date": 1561577255, "question_id": 56779227, "link": "https://stackoverflow.com/questions/56779227/how-to-generate-a-java-sql-timestamp-in-utc-for-a-query-comparison", "title": "How to generate a java.sql.Timestamp in UTC for a query comparison?", "body": "<p>I'm currently building a gateway using Spring-Boot that reads data from a PSQL database. The PSQL database <code>v11.3</code> is populated by a Rails web app, running Rails <code>5.1.3</code>. The Spring app is using <code>Java 8</code> and Spring Data JPA.</p>\n\n<p>The relevant query is run by a scheduled method in the Spring app, that compares the current time against the <code>updated_at</code> times of the table. The query is as follows:</p>\n\n<pre><code>@Query(\"SELECT d from SimulatedDeviceEntity d WHERE d.updatedAt &gt; :currentTime\")\nList&lt;SimulatedDeviceEntity&gt; findByLastUpdated(@Param(\"currentTime\") Timestamp currentTime);\n</code></pre>\n\n<p>If I retrieve a <code>SimulatedDeviceEntity</code> from this query and get its time from <code>getUpdatedAt</code>, it is of type <code>java.sql.Timestamp</code>. When displayed using <code>toString()</code> I get <code>2019-06-26 17:24:20.034923</code> for the device that was updated in my local time at <code>13:24</code>.</p>\n\n<p>I've tried a variety of answers on how to generate a Timestamp in UTC, including <a href=\"https://stackoverflow.com/questions/43837323/how-do-i-make-java-sql-timestamp-utc-time\">here</a> where my code to create the Timestamp is</p>\n\n<pre><code>LocalDateTime ldt = LocalDateTime.now();\nZonedDateTime zdt = ZonedDateTime.of(ldt, ZoneId.of(\"GMT\"));\nTimestamp currentTime = Timestamp.valueOf(zdt.toLocalDateTime());\n</code></pre>\n\n<p>Regardless of what I try, calling <code>toString</code> on any of these will generate the Timestamp in my local time, which is 4 hours behind UTC. I've come to understand that this is intentional, however when calling <code>toString</code> on the Timestamps retrieved from the Rails app, even then they display in UTC.\nGiven that <code>toString</code> should display the Timestamp in local time, the fact that it displays for my <code>last_updated</code> times in UTC leads me to believe something else is at play here.</p>\n"}, {"tags": ["java", "oauth-2.0", "google-api", "google-login"], "answers": [{"tags": [], "owner": {"reputation": 286, "user_id": 4254239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F-yI10wZqpQ/AAAAAAAAAAI/AAAAAAAAAAA/ogn-NhskmSs/photo.jpg?sz=128", "display_name": "Maksym Prokhorenko", "link": "https://stackoverflow.com/users/4254239/maksym-prokhorenko"}, "is_accepted": true, "score": 2, "last_activity_date": 1561614244, "creation_date": 1561614244, "answer_id": 56784621, "question_id": 56779221, "link": "https://stackoverflow.com/questions/56779221/how-to-fetch-users-age-and-location-while-doing-google-signin/56784621#56784621", "title": "How to fetch user&#39;s age and location while doing google signin", "body": "<p>Most likely location and age group wouldn't be provided with a basic payload.\nAnd you would be needed to call an additional API(s):</p>\n\n<ul>\n<li><a href=\"https://developers.google.com/apis-explorer/#p/people/v1/people.people.get?resourceName=people%252Fme&amp;personFields=ageRanges&amp;_h=22&amp;\" rel=\"nofollow noreferrer\">GET v1/people/me?personFields=ageRanges</a> with <a href=\"https://www.googleapis.com/auth/userinfo.profile\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/userinfo.profile</a> scope;</li>\n<li><a href=\"https://developers.google.com/apis-explorer/#p/people/v1/people.people.get?resourceName=people%252Fme&amp;personFields=birthdays&amp;_h=2&amp;\" rel=\"nofollow noreferrer\">GET v1/people/me?personFields=birthdays</a> with <a href=\"https://www.googleapis.com/auth/user.birthday.read\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/user.birthday.read</a> scope.</li>\n</ul>\n\n<p>Also, take a look into <a href=\"https://stackoverflow.com/questions/7130648/get-user-info-via-google-api\">get-user-info-via-google-api</a> topic.</p>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 7683051, "user_type": "registered", "profile_image": "https://graph.facebook.com/2245670305659150/picture?type=large", "display_name": "Maxx Selva K", "link": "https://stackoverflow.com/users/7683051/maxx-selva-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1561615016, "creation_date": 1561615016, "answer_id": 56784761, "question_id": 56779221, "link": "https://stackoverflow.com/questions/56779221/how-to-fetch-users-age-and-location-while-doing-google-signin/56784761#56784761", "title": "How to fetch user&#39;s age and location while doing google signin", "body": "<p><a href=\"https://developers.google.com/identity/sign-in/web/people\" rel=\"nofollow noreferrer\">https://developers.google.com/identity/sign-in/web/people</a>\n<a href=\"https://developers.google.com/people/api/rest/v1/people#agerangetype\" rel=\"nofollow noreferrer\">https://developers.google.com/people/api/rest/v1/people#agerangetype</a></p>\n\n<p>You can also get dob from api and calculate the age of the user.\nlocation string can also get from the rest api response from google.</p>\n"}], "owner": {"reputation": 906, "user_id": 1189254, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9b404b4f75a05e93a4261b075a6dbfa8?s=128&d=identicon&r=PG", "display_name": "Manish", "link": "https://stackoverflow.com/users/1189254/manish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 1, "accepted_answer_id": 56784621, "answer_count": 2, "score": 1, "last_activity_date": 1561619503, "creation_date": 1561574533, "last_edit_date": 1561619503, "question_id": 56779221, "link": "https://stackoverflow.com/questions/56779221/how-to-fetch-users-age-and-location-while-doing-google-signin", "title": "How to fetch user&#39;s age and location while doing google signin", "body": "<p>I am integrating google signin in my app.I need to store email,name,agerange,location.So while doing signin, i have set the scope to profile,email and profile.auth.agerange.read.</p>\n\n<pre><code>gapi.signin2.render('g-signin2', {\n    'scope': 'email profile https://www.googleapis.com/auth/userinfo.profile openid https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/profile.agerange.read',\n    'width': 240,\n    'height': 50,\n    'longtitle': true,\n    'theme': 'dark',\n    'onsuccess': onSuccess,\n    'onfailure': onFailure\n  });\n</code></pre>\n\n<p>But still when i am verifying the generated id_token using GoogleIdTokenVerifier i can't see age or location field in the payload. </p>\n\n<p>Can anyone suggest how to get those details.</p>\n"}, {"tags": ["java", "android", "firebase", "firebase-dynamic-links"], "comments": [{"owner": {"reputation": 189, "user_id": 6736144, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-T83Wpo06QQo/AAAAAAAAAAI/AAAAAAAAAEU/E8ViLh4CT-Y/photo.jpg?sz=128", "display_name": "Hemil Kumbhani", "link": "https://stackoverflow.com/users/6736144/hemil-kumbhani"}, "edited": false, "score": 0, "creation_date": 1561614654, "post_id": 56779189, "comment_id": 100123470, "body": "Check the package name you are using in firebase and package name of your app. Make Sure they are same"}, {"owner": {"reputation": 430, "user_id": 7272120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48bd46f9440d9352005f672cb6837f32?s=128&d=identicon&r=PG&f=1", "display_name": "J.Dragon", "link": "https://stackoverflow.com/users/7272120/j-dragon"}, "reply_to_user": {"reputation": 189, "user_id": 6736144, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-T83Wpo06QQo/AAAAAAAAAAI/AAAAAAAAAEU/E8ViLh4CT-Y/photo.jpg?sz=128", "display_name": "Hemil Kumbhani", "link": "https://stackoverflow.com/users/6736144/hemil-kumbhani"}, "edited": false, "score": 0, "creation_date": 1561620807, "post_id": 56779189, "comment_id": 100126316, "body": "@HemilKumbhani  It&#39;s same.."}, {"owner": {"reputation": 3533, "user_id": 5327912, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9adeb880603da499a5cb6a04127e8672?s=128&d=identicon&r=PG&f=1", "display_name": "Parth Anjaria", "link": "https://stackoverflow.com/users/5327912/parth-anjaria"}, "edited": false, "score": 0, "creation_date": 1569220565, "post_id": 56779189, "comment_id": 102510891, "body": "I am facing the same issue but only in one device, and not a specific model number, as the same model different device it works. in one of my testing device of motorola x4."}], "answers": [{"tags": [], "owner": {"reputation": 430, "user_id": 7272120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48bd46f9440d9352005f672cb6837f32?s=128&d=identicon&r=PG&f=1", "display_name": "J.Dragon", "link": "https://stackoverflow.com/users/7272120/j-dragon"}, "is_accepted": true, "score": 0, "last_activity_date": 1561644849, "creation_date": 1561644849, "answer_id": 56793008, "question_id": 56779189, "link": "https://stackoverflow.com/questions/56779189/android-firebase-dynamic-link-always-goes-to-playstore-url-even-if-the-app-is/56793008#56793008", "title": "Android : Firebase dynamic link always goes to playstore URL even if the app is installed", "body": "<p>Finally I have solve this terrible problem. </p>\n\n<p>In actionCodeSetting, </p>\n\n<pre><code>.setAndroidPackageName(\n                \"io.chillingchat.android\",\n                true, /* installIfNotAvailable */\n                \"16\"    /* minimumVersion */)\n</code></pre>\n\n<p>change to</p>\n\n<pre><code>.setAndroidPackageName(\n                \"io.chillingchat.android\",\n                false, /* installIfNotAvailable */\n                \"16\"    /* minimumVersion */)\n</code></pre>\n\n<p>but I don't know why change true to false the * installIfNotAvailable * option makes working..</p>\n"}], "owner": {"reputation": 430, "user_id": 7272120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48bd46f9440d9352005f672cb6837f32?s=128&d=identicon&r=PG&f=1", "display_name": "J.Dragon", "link": "https://stackoverflow.com/users/7272120/j-dragon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1379, "favorite_count": 2, "accepted_answer_id": 56793008, "answer_count": 1, "score": 0, "last_activity_date": 1561644849, "creation_date": 1561574374, "last_edit_date": 1561643664, "question_id": 56779189, "link": "https://stackoverflow.com/questions/56779189/android-firebase-dynamic-link-always-goes-to-playstore-url-even-if-the-app-is", "title": "Android : Firebase dynamic link always goes to playstore URL even if the app is installed", "body": "<p>I am trying to integrate Firebase dynamic link into Android app but the problem is that even if the app is installed the dynamic link is taking me to play store page to download the App from play store. \nI sent email with dynamic link. Then at Android smartphone, I opened the email and clicked the dynamic link, it goes to play store always..\nDid anybody face the same problem and have solution for the same.</p>\n\n<p>When I tested at <a href=\"https://firebase.google.com/docs/app-indexing/android/test\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/app-indexing/android/test</a>\nthe dynamic link goes to the app well. Because the app was installed.</p>\n\n<p>I added SHA-1, SHA-256 key to my app.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\npackage=\"io.chillingchat.android\"&gt;\n\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@drawable/adv\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"\n    &gt;\n    &lt;activity\n        android:name=\"io.chillingchat.android.view.MainActivity\"\n        android:label=\"@string/app_name\"&gt;\n\n    &lt;/activity&gt;\n\n    &lt;activity\n        android:name=\"io.chillingchat.android.view.AuthActivity\"&gt;\n\n        &lt;intent-filter android:autoVerify=\"true\"&gt;\n            &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n            &lt;category android:name=\"android.intent.category.DEFAULT\"/&gt;\n            &lt;category android:name=\"android.intent.category.BROWSABLE\"/&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;data\n                android:host=\"chillingchat.io\"\n                android:scheme=\"https\"/&gt;\n            &lt;data\n                android:host=\"chillingchat.io\"\n                android:scheme=\"http\"/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>actionCodeSettings = ActionCodeSettings.newBuilder()\n            // URL you want to redirect back to. The domain (www.example.com) \n            // URL must be whitelisted in the Firebase Console.\n            .setUrl(\"https://chillingchat.page.link/in\")\n            // This must be true\n            .setHandleCodeInApp(true)\n            .setAndroidPackageName(\n                    \"io.chillingchat.android\",\n                    true, /* installIfNotAvailable */\n                    \"16\"    /* minimumVersion */)\n            .build();\n</code></pre>\n"}, {"tags": ["java", "android", "google-chrome"], "owner": {"reputation": 1176, "user_id": 1663283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3899df078eb8b585ae5675402efa772?s=128&d=identicon&r=PG", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1663283/gabriel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 281, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1561633949, "creation_date": 1561573974, "last_edit_date": 1561633949, "question_id": 56779099, "link": "https://stackoverflow.com/questions/56779099/webview-activity-crashes-on-missing-chrome-package", "title": "WebView Activity crashes on missing Chrome package", "body": "<p>My app has been working fine for several years on the Play Store.\nThe main activity's layout XML contains a <code>WebView</code>.\nRecently, the app has begun to crash at launch time (but not always, and not on every device).</p>\n\n<p>The Logcat shows a <code>RuntimeException</code> on <code>WebViewFactory</code> about <strong>Package not found: com.android.chrome</strong>.</p>\n\n<p>I don't explicitly use this system class. The crash occurs whether the <code>WebView</code> is part of the XML layout, or instantiated programmatically. No <code>try</code>/<code>catch</code> will help.</p>\n\n<pre><code>06-26 18:22:52.560  1363  1409 I ActivityManager: Displayed com.my.app/.MyActivity: +46ms\n06-26 18:22:52.829  1363  6524 D ActivityManager: # addPackageDependency # packageName=com.android.chrome -&gt; proc: ProcessRecord{e72ceb3 9789:com.my.app/u0a214}\n06-26 18:22:52.839  9789  9789 I WebViewFactory: Loading com.android.chrome version 75.0.3770.101 (code 377010137)\n--------- beginning of crash\n06-26 18:22:52.903  9789 10122 E AndroidRuntime: FATAL EXCEPTION: Thread-2\n06-26 18:22:52.903  9789 10122 E AndroidRuntime: Process: com.my.app, PID: 9789\n06-26 18:22:52.903  9789 10122 E AndroidRuntime: java.lang.RuntimeException: Package not found: com.android.chrome\n06-26 18:22:52.903  9789 10122 E AndroidRuntime:        at android.webkit.WebViewDelegate.getPackageId(WebViewDelegate.java:164)\n06-26 18:22:52.903  9789 10122 E AndroidRuntime:        at xZ.a(PG:16)\n06-26 18:22:52.903  9789 10122 E AndroidRuntime:        at xq.run(PG:14)\n06-26 18:22:52.903  9789 10122 E AndroidRuntime:        at java.lang.Thread.run(Thread.java:764)\n06-26 18:22:52.908  9789  9789 I cr_LibraryLoader: Time to load native libraries: 3 ms (timestamps 7584-7587)\n06-26 18:22:52.909  9789 10123 D OSTracker: OS Event: crash\n06-26 18:22:52.844  1363  6524 D ActivityManager: # addPackageDependency # packageName=com.android.chrome -&gt; proc: ProcessRecord{e72ceb3 9789:com.my.app/u0a214}\n06-26 18:22:52.911  1363  3290 W ActivityManager:   Force finishing activity com.my.app/.MyActivity\n</code></pre>\n\n<p>(I replaced my package name with <code>com.my.app</code> in the above log, for clarity.)</p>\n\n<p>None of these lines are my own Log strings. It's all system's.</p>\n\n<p>The crashing device do have the Chrome APK installed, and the WebView implementation is defined to be Chrome.</p>\n\n<p>It seems to me that, at the time of app launch, the <em>com.android.chrome</em> dependency is not yet ready, and the system fails to load and bind it to my process.</p>\n\n<p>Is there a way to force preloading the dependency?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["java", "android", "arrays"], "comments": [{"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1561576786, "post_id": 56779077, "comment_id": 100114450, "body": "Why did you use the [android-studio] tag on this? Did you read the tag description?"}, {"owner": {"reputation": 81, "user_id": 5836190, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6db86ea0a9fc8b2bd79b0c852979c480?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/5836190/henry"}, "reply_to_user": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1561576998, "post_id": 56779077, "comment_id": 100114530, "body": "yes i did, this is android studio @EJoshuaS"}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1561578167, "post_id": 56779077, "comment_id": 100115045, "body": "The tag usage guidance is as follows: &quot;Use for questions about using Android Studio, an official IDE by Google targeted at Android app development. <b>Do NOT use for questions about programming for Android in general; instead use the Android tag.</b>&quot; This question is about general Android programming, not Android Studio."}, {"owner": {"reputation": 81, "user_id": 5836190, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6db86ea0a9fc8b2bd79b0c852979c480?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/5836190/henry"}, "reply_to_user": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1561579355, "post_id": 56779077, "comment_id": 100115247, "body": "okay thank you @EJoshuaS"}], "answers": [{"tags": [], "owner": {"reputation": 611, "user_id": 2927957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/007390cec049f0464b9fd7b21214f5f1?s=128&d=identicon&r=PG", "display_name": "isstiaung", "link": "https://stackoverflow.com/users/2927957/isstiaung"}, "is_accepted": true, "score": 0, "last_activity_date": 1561582311, "creation_date": 1561582311, "answer_id": 56780721, "question_id": 56779077, "link": "https://stackoverflow.com/questions/56779077/create-an-array-string-for-table-layout/56780721#56780721", "title": "Create an Array string for table layout", "body": "<p>You reset the value of <code>takin</code> every time when you do </p>\n\n<pre><code>takin = new String[]{allClass.getString(\"numb\"),\n                        allClass.getString(\"name\"),\n                        allClass.getString(\"time\")};\n</code></pre>\n\n<p>Instead, try this,</p>\n\n<pre><code>String[][] takin = new String[array.length()][3]\nfor (int i = 0; i &lt; array.length(); i++) {\n    JSONObject allClass = array.getJSONObject(i);\n    takin[i] = new String[]{allClass.getString(\"numb\"),\n                        allClass.getString(\"name\"),\n                        allClass.getString(\"time\")};\n\n}\ntableView.setDataAdapter(new SimpleTableDataAdapter(AttendanceActivity.this, Collections.singletonList(takin)));\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 5836190, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6db86ea0a9fc8b2bd79b0c852979c480?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/5836190/henry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 56780721, "answer_count": 1, "score": -1, "last_activity_date": 1561582311, "creation_date": 1561573868, "last_edit_date": 1561576769, "question_id": 56779077, "link": "https://stackoverflow.com/questions/56779077/create-an-array-string-for-table-layout", "title": "Create an Array string for table layout", "body": "<p>I want to pass a list of data from my php to populate my table layout, am presently using volley to connect to my server side. How do i set this list</p>\n\n<p>Am making use of codecrafters library and they have a tutorial on how to populate the table which works for me but the problem is the items they used were manually typed and not gotten dynamically from a server, so am having issues implementing this same code for data that comes from a server</p>\n\n<p>Their string looks like this</p>\n\n<pre><code>   static String[][] spaceProbes={\n         {\"1\",\"Pioneer\",\"Chemical\",\"Jupiter\"},\n         {\"2\",\"Voyager\",\"Plasma\",\"Andromeda\"},\n         {\"3\",\"Casini\",\"Solar\",\"Saturn\"},\n         {\"4\",\"Spitzer\",\"Anti-Matter\",\"Andromeda\"},\n         {\"5\",\"Apollo\",\"Chemical\",\"Moon\"},\n          {\"6\",\"Curiosity\",\"Solar\",\"Mars\"},\n\n\n     };\n</code></pre>\n\n<p>and they populate it into the layout using</p>\n\n<pre><code>      tableView.setDataAdapter(new SimpleTableDataAdapter(MainActivity.this, spaceProbes));\n</code></pre>\n\n<p>am presently using this array string but it returns the last item in the array only</p>\n\n<pre><code>       try {\n                //converign the strign to json assary object\n\n                JSONArray array = new JSONArray(response);\n                //traversing through all teh objects\n                for (int i = 0; i &lt; array.length(); i++) {\n                    //getting product object from json array\n\n                    JSONObject allClass = array.getJSONObject(i);\n\n                  takin = new String[]{allClass.getString(\"numb\"),\n                            allClass.getString(\"name\"),\n                            allClass.getString(\"time\")};\n\n                }\n\n\n                tableView.setDataAdapter(new SimpleTableDataAdapter(AttendanceActivity.this, Collections.singletonList(takin)));\n\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n</code></pre>\n\n<p>How do i recreate the same structure as spaceProbes but this time from the server</p>\n"}, {"tags": ["java", "oop"], "comments": [{"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1561574154, "post_id": 56778975, "comment_id": 100113352, "body": "Since a file like <code>fire.java</code> is just a text file, it seems you&#39;re simply asking how to write a text file from Java. Given that you can find a gazillion examples of how to do that online, I&#39;m confused about what you&#39;re really asking. Please <b>edit</b> the question and clarify it."}, {"owner": {"reputation": 4066, "user_id": 2442526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c673a5b98a6b201606a39c644c467b13?s=128&d=identicon&r=PG&f=1", "display_name": "xtratic", "link": "https://stackoverflow.com/users/2442526/xtratic"}, "edited": false, "score": 4, "creation_date": 1561574677, "post_id": 56778975, "comment_id": 100113582, "body": "What is your actual goal? This sounds like an XY problem."}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1561622944, "post_id": 56778975, "comment_id": 100127369, "body": "Please note that creating the <code>.java</code> file alone won\u2019t permit you to use the generated Java code from the program that has generated the file. For that you would need the compiler interface (search for it)."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 11704860, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8I7tgwsO6rM/AAAAAAAAAAI/AAAAAAAAACI/YzWHciAQ_BA/photo.jpg?sz=128", "display_name": "Reddi nav", "link": "https://stackoverflow.com/users/11704860/reddi-nav"}, "edited": false, "score": 0, "creation_date": 1561574715, "post_id": 56779191, "comment_id": 100113598, "body": "The method writeString(Path, String, StandardOpenOption) is undefined for the type Files"}], "tags": [], "owner": {"reputation": 5046, "user_id": 4896651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b3591bbcef7bf1e8fb4ecab817e2920?s=128&d=identicon&r=PG&f=1", "display_name": "Shadov", "link": "https://stackoverflow.com/users/4896651/shadov"}, "is_accepted": true, "score": 0, "last_activity_date": 1561574394, "creation_date": 1561574394, "answer_id": 56779191, "question_id": 56778975, "link": "https://stackoverflow.com/questions/56778975/generating-a-new-java-class-by-writing-java-program-in-another-java-class/56779191#56779191", "title": "Generating a new java class by writing java program in another java class", "body": "<p>At first I thought you wanted code generation, but you simply want to write to files or create them?</p>\n\n<p>The simplest code to create file and write to it:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.nio.file.StandardOpenOption;\n\npublic class Testing {\n    public static void main(String[] args) throws IOException {\n        Files.writeString(Paths.get(\"D://output.txt\"), \"some text to write\", StandardOpenOption.CREATE);\n    }\n}\n</code></pre>\n\n<p>It uses only java standard classes, you don't need any libraries or anything external. Just make sure to write to the valid path, where you have access.</p>\n\n<p>If you want to generate files with java code, you can just do it with the method above, but creating the String with code content is really hard, there are libraries for it and they are not easy to use for beginners. For example <a href=\"https://github.com/square/javapoet\" rel=\"nofollow noreferrer\">javapoet</a>. I personally used <a href=\"https://javaparser.org/\" rel=\"nofollow noreferrer\">javaparser</a>, it has a lot of other possibilities besides generating code.</p>\n"}, {"tags": [], "owner": {"reputation": 162, "user_id": 11148688, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VNRbAWwJw8g/AAAAAAAAAAI/AAAAAAAALWA/oOyfehQZacc/photo.jpg?sz=128", "display_name": "Avinash Gupta", "link": "https://stackoverflow.com/users/11148688/avinash-gupta"}, "is_accepted": false, "score": 1, "last_activity_date": 1561574742, "creation_date": 1561574742, "answer_id": 56779278, "question_id": 56778975, "link": "https://stackoverflow.com/questions/56778975/generating-a-new-java-class-by-writing-java-program-in-another-java-class/56779278#56779278", "title": "Generating a new java class by writing java program in another java class", "body": "<p>Creating a new Java file is easy. You can use any FileWriter technique. But what need to be taken care of is that new Java file is valid java file and can be compiled to class file. </p>\n\n<p>This <a href=\"https://stackoverflow.com/a/2320465/11148688\">link</a> has working example of doing the same.</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\nimport java.lang.reflect.*;\n\npublic class MakeTodayClass {\n  Date today = new Date();\n  String todayMillis = Long.toString(today.getTime());\n  String todayClass = \"z_\" + todayMillis;\n  String todaySource = todayClass + \".java\";\n\n  public static void main (String args[]){\n    MakeTodayClass mtc = new MakeTodayClass();\n    mtc.createIt();\n    if (mtc.compileIt()) {\n       System.out.println(\"Running \" + mtc.todayClass + \":\\n\\n\");\n       mtc.runIt();\n       }\n    else\n       System.out.println(mtc.todaySource + \" is bad.\");\n    }\n\n  public void createIt() {\n    try {\n      FileWriter aWriter = new FileWriter(todaySource, true);\n      aWriter.write(\"public class \"+ todayClass + \"{\");\n      aWriter.write(\" public void doit() {\");\n      aWriter.write(\" System.out.println(\\\"\"+todayMillis+\"\\\");\");\n      aWriter.write(\" }}\\n\");\n      aWriter.flush();      \n      aWriter.close();\n      }\n    catch(Exception e){\n      e.printStackTrace();\n      }\n    }\n\n  public boolean compileIt() {\n    String [] source = { new String(todaySource)};\n    ByteArrayOutputStream baos= new ByteArrayOutputStream();\n\n    new sun.tools.javac.Main(baos,source[0]).compile(source);\n    // if using JDK &gt;= 1.3 then use\n    //   public static int com.sun.tools.javac.Main.compile(source);    \n    return (baos.toString().indexOf(\"error\")==-1);\n    }\n\n  public void runIt() {\n    try {\n      Class params[] = {};\n      Object paramsObj[] = {};\n      Class thisClass = Class.forName(todayClass);\n      Object iClass = thisClass.newInstance();\n      Method thisMethod = thisClass.getDeclaredMethod(\"doit\", params);\n      thisMethod.invoke(iClass, paramsObj);\n      }\n    catch (Exception e) {\n      e.printStackTrace();\n      }\n    }\n}\n\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 11704860, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8I7tgwsO6rM/AAAAAAAAAAI/AAAAAAAAACI/YzWHciAQ_BA/photo.jpg?sz=128", "display_name": "Reddi nav", "link": "https://stackoverflow.com/users/11704860/reddi-nav"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1975, "favorite_count": 1, "closed_date": 1561580108, "accepted_answer_id": 56779191, "answer_count": 2, "score": -5, "last_activity_date": 1561575596, "creation_date": 1561573456, "last_edit_date": 1561575596, "question_id": 56778975, "link": "https://stackoverflow.com/questions/56778975/generating-a-new-java-class-by-writing-java-program-in-another-java-class", "closed_reason": "Duplicate", "title": "Generating a new java class by writing java program in another java class", "body": "<p>I want to create a java program that generates another java class in the same project. For example in the class Dragon.java, i want to write java code that creates another java class called fire.java. I do not want to use any GUI from eclipse, just pure code that generates another class from the execution of written programming in java. </p>\n\n<p>I have tried making objects of a non existent class in hopes of the program automatically producing a class with that name. </p>\n\n<p>Again, it doesn't have to be just a java class, is there a way to make other forms of files also? for example fol.flow, or of different names. </p>\n"}, {"tags": ["java", "spring-boot"], "comments": [{"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1561574631, "post_id": 56778963, "comment_id": 100113559, "body": "<i>&quot;Any suggestions about where I should look or what might help me figure this out?&quot;</i> Show us the full stacktrace of the error. It might show in what way it &quot;failed to introspect annotated methods&quot;. Also, error is about <code>com.company.consumer.RecordRecovery</code>, which is not in any of the scanned packages, and you didn&#39;t provide us with the code for it, so what did you expect us to do about it?"}, {"owner": {"reputation": 505, "user_id": 1756145, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Lt9MD.png?s=128&g=1", "display_name": "Ant", "link": "https://stackoverflow.com/users/1756145/ant"}, "reply_to_user": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1561577877, "post_id": 56778963, "comment_id": 100114900, "body": "Sorry. I am usually better at remembering those things. I added both."}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 1, "creation_date": 1561580361, "post_id": 56778963, "comment_id": 100115609, "body": "So, <code>ClassNotFoundException: org.json.JSONObject</code>, doesn&#39;t that tell you everything you need to know? You&#39;re missing the jar file that contains that class. See <a href=\"https://github.com/stleary/JSON-java\" rel=\"nofollow noreferrer\">github.com/stleary/JSON-java</a>. See <a href=\"https://mvnrepository.com/artifact/org.json/json\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.json/json</a>."}, {"owner": {"reputation": 505, "user_id": 1756145, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Lt9MD.png?s=128&g=1", "display_name": "Ant", "link": "https://stackoverflow.com/users/1756145/ant"}, "reply_to_user": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1561731566, "post_id": 56778963, "comment_id": 100171315, "body": "Not sure why I didn&#39;t see that. Seems odd that with all of the dozens of libs that I have in the build.gradle file that something as basic as that would&#39;ve already been included. Putting that in fixed it. Thanks!"}], "owner": {"reputation": 505, "user_id": 1756145, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Lt9MD.png?s=128&g=1", "display_name": "Ant", "link": "https://stackoverflow.com/users/1756145/ant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561577068, "creation_date": 1561573425, "last_edit_date": 1561577068, "question_id": 56778963, "link": "https://stackoverflow.com/questions/56778963/java-beandefinitionstoreexception-on-spring-boot-2", "title": "Java BeanDefinitionStoreException on Spring Boot 2", "body": "<p>I'm trying to rewrite an application using Spring Boot 2 (specifically 2.1.5.RELEASE). Previous version used 1.5.7.RELEASE. We are switching database platforms, thus the rewrite. The startup class in both new and old are nearly identical, both attempting to create a bean from another library. It works in 1.5.7, but in 2.1.5, it fails with the following message:</p>\n\n<pre><code>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process \nimport candidates for configuration class [com.company.consumer.ConsumerRecoveryConfiguration];\n nested exception is java.lang.IllegalStateException: Failed to introspect\nannotated methods on class com.company.consumer.RecordRecovery\n</code></pre>\n\n<p>Here's what the startup class looks like in old and new:</p>\n\n<p>Old:</p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = {\n    \"com.company.core\",\n    \"com.company.something\",\n    \"com.company.platform\",\n    \"com.company.config\"},\n    excludeFilters = @ComponentScan.Filter(type =\n        FilterType.REGEX, pattern = \"com.company.common.diag.*\"))\n@Import({SomeClass.class, ConsumerRecoveryConfiguration.class,\n    ConsumerRetryConfiguration.class})\n@PropertySource(\"classpath:build.properties\")\npublic class SomeApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(SomeApplication.class, args);\n  }\n\n  @Bean(name = \"someDbTimingLogger\")\n  public TimingLogger getSomeDbTimingLogger() {\n    return new TimingLogger(LoggerFactory.getLogger(\"timing.someDb\"));\n  }\n\n  @Bean(name = \"timingLogger\")\n  public TimingLogger getTimingLogger() {\n    return new TimingLogger(LoggerFactory.getLogger(\"timing.consumer\"));\n  }\n\n  @Bean(name = \"kafkaTimingLogger\")\n  public TimingLogger getKafkaTimingLogger() {\n    return new TimingLogger(LoggerFactory.getLogger(\"timing.kafka\"));\n  }\n\n  @Bean(name = \"parser\")\n  public Parser&lt;GenericMessageModel&gt; getSomeModelParser() {\n   return new Parser&lt;&gt;(GenericMessageModel.class);\n  }\n}\n</code></pre>\n\n<p>New:</p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = {\n    \"com.company.core\",\n    \"com.company.something\",\n    \"com.company.platform\",\n    \"com.company.config\"},\n    excludeFilters = @ComponentScan.Filter(\n            type = FilterType.REGEX,\n            pattern = \"com.company.common.diag.*\"\n    ))\n@Import({ ConsumerRecoveryConfiguration.class,\n        ConsumerRetryConfiguration.class })\n@PropertySource(\"classpath:build.properties\")\npublic class SomeApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SomeApplication.class, args);\n    }\n\n    @Bean(name = \"timingLogger\")\n    public TimingLogger getTimingLogger() { return new TimingLogger(LoggerFactory.getLogger(\"timing.consumer\")); }\n\n    @Bean(name = \"kafkaTimingLogger\")\n    public TimingLogger getKafkaTimingLogger() { return new TimingLogger(LoggerFactory.getLogger(\"timing.kafka\")); }\n\n    @Bean(name = \"parser\")\n    public Parser&lt;GenericMessageModel&gt; getSomeModelParser() { return new Parser&lt;&gt;(GenericMessageModel.class, null); }\n}\n</code></pre>\n\n<p>The Kotlin class mentioned in the nested exception is as follows (minus its numerous private methods):</p>\n\n<pre><code>@Component\nclass RecordRecovery(val producer: KafkaProducer&lt;String, String&gt;, val kafkaProducerSettings: KafkaProducerSettings,\n                     val recoverySettings: RecoverySettings, val objectMapper: ObjectMapper) {\n\n    val random = ThreadLocalRandom.current()!!\n\n\n    companion object {\n        val LOGGER = LoggerFactory.getLogger(RecordRecovery::class.java)\n    }\n\n    fun recoverRecords(records: ConsumerRecords&lt;String, String&gt;, exception: Exception) {\n        recoverRecords(records.map { it.value() ?: StringUtils.EMPTY }, exception)\n    }\n\n    fun recoverRecords(records: List&lt;Any&gt;, exception: Exception) {\n        error(metaDataFor(records.count()), LOGGER, \"Recovering {} records\", records.count())\n        val filteredRecords = records.map {  createRecoveryRecord(it) }\n                .filter{ it != null }\n                .map { recordToJson(it) }\n                .filter { removeNulls(it) }\n                .mapIndexed { index, it -&gt; toEmergencyDataWrapper(it!!, exception, index) }\n                .mapNotNull {toJSONStringOrNull(it)}\n                .map {toProducerRecord(it)}\n                .map { republish(it) }\n                .toList()\n        info(metaDataFor(filteredRecords.count()), LOGGER, \"After filtering, recovering {} records\", filteredRecords.count())\n        filteredRecords.map { await(it) }\n    }\n}\n</code></pre>\n\n<p>And here's the ConsumerRecoveryConfiguration class (also Kotlin) in question:</p>\n\n<pre><code>@Configuration\n@Import(KafkaProducerConfig::class, RecoverySettings::class, RecordRecovery::class)\nclass ConsumerRecoveryConfiguration\n</code></pre>\n\n<p>The class has no body whatsoever. I'm assuming that importing the other classes causes Spring to basically use those as the body.</p>\n\n<p>I'm still somewhat green when it comes to Spring, so I'm struggling to see why it stopped working when I changed to SB 2. Any suggestions about where I should look or what might help me figure this out?</p>\n\n<p>EDIT:</p>\n\n<p>Here is the full stacktrace as requested:</p>\n\n<pre><code>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.company.consumer.ConsumerRecoveryConfiguration]; nested exception is java.lang.IllegalStateException: Failed to introspect annotated methods on class com.company.consumer.RecordRecovery\n    at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:596)\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:302)\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:242)\n    at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:586)\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:302)\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:242)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:199)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:167)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:315)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:232)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:705)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:531)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\n    at com.company.SomeApplication.main(SomeApplication.java:35)\nCaused by: java.lang.IllegalStateException: Failed to introspect annotated methods on class com.company.consumer.RecordRecovery\n    at org.springframework.core.type.StandardAnnotationMetadata.getAnnotatedMethods(StandardAnnotationMetadata.java:169)\n    at org.springframework.context.annotation.ConfigurationClassParser.retrieveBeanMethodMetadata(ConfigurationClassParser.java:392)\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:317)\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:242)\n    at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:586)\n    ... 20 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/json/JSONObject\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n    at java.lang.Class.getDeclaredMethods(Class.java:1975)\n    at org.springframework.core.type.StandardAnnotationMetadata.getAnnotatedMethods(StandardAnnotationMetadata.java:158)\n    ... 24 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.json.JSONObject\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 28 common frames omitted\n</code></pre>\n"}, {"tags": ["java", "security", "encryption", "cryptography"], "comments": [{"owner": {"reputation": 10726, "user_id": 4956907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ypfs.jpg?s=128&g=1", "display_name": "michalk", "link": "https://stackoverflow.com/users/4956907/michalk"}, "edited": false, "score": 2, "creation_date": 1561574349, "post_id": 56778954, "comment_id": 100113440, "body": "<code>PrivateKey</code> is an interface so you should rather ask if concrete implementation of PrivateKey is thread safe, however it might depend on security provider you are using."}, {"owner": {"reputation": 10726, "user_id": 4956907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ypfs.jpg?s=128&g=1", "display_name": "michalk", "link": "https://stackoverflow.com/users/4956907/michalk"}, "edited": false, "score": 0, "creation_date": 1561574551, "post_id": 56778954, "comment_id": 100113526, "body": "<a href=\"https://stackoverflow.com/questions/43758503/is-keyfactory-thread-safe\">This</a> might be helpful."}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1561574759, "post_id": 56778954, "comment_id": 100113631, "body": "Is creating the key really that slow? Or is it really the reading of the <code>keyFileBytes</code> from a file that is slow? Did you try caching the bytes and see if you still have a performance issue? The bytes would definitely be thread-safe, right?"}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 2, "creation_date": 1561578757, "post_id": 56778954, "comment_id": 100115186, "body": "As others have commented, it depends on the implementation. All the implementations I have seen are basically immutable and so thread-safe. However, the contract does not guarantee this so in fact you should assume not and use locking to ensure serialized access. However, for performance you might instead chose to create one copy per thread, this eliminates any possibly of contention."}, {"owner": {"reputation": 315, "user_id": 2078080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9eea22011079a9098b61ac9d414f86d8?s=128&d=identicon&r=PG", "display_name": "mac", "link": "https://stackoverflow.com/users/2078080/mac"}, "edited": false, "score": 0, "creation_date": 1561625518, "post_id": 56778954, "comment_id": 100128864, "body": "Thanks Michalk, Andreas and James. I have kept the Privatekey as instance variable, but made the sign method as synchronised to avoid any issues."}], "owner": {"reputation": 315, "user_id": 2078080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9eea22011079a9098b61ac9d414f86d8?s=128&d=identicon&r=PG", "display_name": "mac", "link": "https://stackoverflow.com/users/2078080/mac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 323, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1561573397, "creation_date": 1561573397, "question_id": 56778954, "link": "https://stackoverflow.com/questions/56778954/can-i-cache-java-security-privatekey-object-so-that-i-do-not-have-to-create-priv", "title": "Can I cache java.security.PrivateKey object so that I do not have to create PrivateKey by reading it from private key file for better performance", "body": "<p>Is java java.security.PrivateKey thread safe? I have to verify digital singature for every request, so I was thinking, once I load the private key file from a physical location, after converting it to java.security.PrivateKey, is it okay to cache it so that I do not have to create the Private every time.</p>\n\n<pre><code>private PrivateKey privateKey;\nprivate PrivateKey getPrivateKey(byte[] keyFileBytes) throws Exception {\n        PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(keyFileBytes);\n        KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n        this.privateKey=kf.generatePrivate(spec);\n    }\n</code></pre>\n"}, {"tags": ["java", "rest", "bitbucket", "bitbucket-api"], "answers": [{"tags": [], "owner": {"reputation": 1302, "user_id": 1435014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l8pJw.jpg?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/1435014/abhishek"}, "is_accepted": false, "score": 1, "last_activity_date": 1561576279, "creation_date": 1561576279, "answer_id": 56779617, "question_id": 56778933, "link": "https://stackoverflow.com/questions/56778933/how-to-download-a-file-from-bitbucket-using-commitid-through-restapi/56779617#56779617", "title": "How to download a file from Bitbucket using commitId through RestAPI?", "body": "<p>To browse the file from a particular commit you have provide the COMMIT_ID in the query parameter like this :</p>\n\n<pre><code>https://&lt;BITBUCKET_URL&gt;/projects/&lt;PROJECT_GROUP&gt;/repos/&lt;REPO_NAME&gt;/browse?at=&lt;COMMIT_ID&gt;\n</code></pre>\n\n<p>In your case the curl will look something like this :</p>\n\n<blockquote>\n  <p>curl --user myuser@mydomain.com:password \"<a href=\"https://api.bitbucket.org/2.0/repositories/MyCompany/myrepo/src/master/path/to/file.txt?at=commit_hash\" rel=\"nofollow noreferrer\">https://api.bitbucket.org/2.0/repositories/MyCompany/myrepo/src/master/path/to/file.txt?at=commit_hash</a>\"</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 162, "user_id": 11148688, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VNRbAWwJw8g/AAAAAAAAAAI/AAAAAAAALWA/oOyfehQZacc/photo.jpg?sz=128", "display_name": "Avinash Gupta", "link": "https://stackoverflow.com/users/11148688/avinash-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1561578981, "last_edit_date": 1561578981, "creation_date": 1561577569, "answer_id": 56779869, "question_id": 56778933, "link": "https://stackoverflow.com/questions/56778933/how-to-download-a-file-from-bitbucket-using-commitid-through-restapi/56779869#56779869", "title": "How to download a file from Bitbucket using commitId through RestAPI?", "body": "<p>To download the files from a particular commit id :</p>\n\n<blockquote>\n  <p><a href=\"https://bitbucket.org/projectName/repo-name/get/[commitid].zip\" rel=\"nofollow noreferrer\">https://bitbucket.org/projectName/repo-name/get/[commitid].zip</a></p>\n</blockquote>\n"}], "owner": {"reputation": 123, "user_id": 3603360, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1bc3d9328234e16dda83d199ea09f4eb?s=128&d=identicon&r=PG&f=1", "display_name": "user3603360", "link": "https://stackoverflow.com/users/3603360/user3603360"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 737, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1561578981, "creation_date": 1561573332, "question_id": 56778933, "link": "https://stackoverflow.com/questions/56778933/how-to-download-a-file-from-bitbucket-using-commitid-through-restapi", "title": "How to download a file from Bitbucket using commitId through RestAPI?", "body": "<p>I have a commit ID. I want to download the file from Bitbucket using commitID through REST API</p>\n\n<p>curl --user myuser@mydomain.com:password \"<a href=\"https://api.bitbucket.org/2.0/repositories/MyCompany/myrepo/src/master/path/to/file.txt\" rel=\"nofollow noreferrer\">https://api.bitbucket.org/2.0/repositories/MyCompany/myrepo/src/master/path/to/file.txt</a>\"</p>\n\n<p>This looks like it downloads the latest file from the bitbucket. Can we download the source code for the particular commit ?</p>\n"}, {"tags": ["java", "jdbc", "jackson", "timestamp", "amazon-redshift"], "answers": [{"tags": [], "owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "is_accepted": false, "score": 1, "last_activity_date": 1561575402, "creation_date": 1561575402, "answer_id": 56779412, "question_id": 56778837, "link": "https://stackoverflow.com/questions/56778837/change-the-timestamp-timezone-in-result-of-jdbc-query-connection/56779412#56779412", "title": "Change the timestamp timezone in result of jdbc query connection", "body": "<p>You need to specify that the date is UTC, by specifying a <code>TimeZone</code> using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#getTimestamp-java.lang.String-java.util.Calendar-\" rel=\"nofollow noreferrer\"><code>getTimestamp(String columnLabel, Calendar cal)</code></a> method:</p>\n\n<pre><code>Calendar cal = Calendar.getInstance(TimeZone.getTimeZone(\"UTC\"));\n\nTimestamp ts = resultset.getTimestamp(\"TimestampColumn\", cal);\n</code></pre>\n\n<p>As the javadoc says:</p>\n\n<blockquote>\n  <p>This method uses the given calendar to construct an appropriate millisecond value for the timestamp if the underlying database does not store timezone information.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 572, "user_id": 8231671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2bace91608bf27d6581cc13fd4850244?s=128&d=identicon&r=PG&f=1", "display_name": "\u0418\u0432\u0430\u043d \u0413\u043b\u0430\u0434\u0443\u0448", "link": "https://stackoverflow.com/users/8231671/%d0%98%d0%b2%d0%b0%d0%bd-%d0%93%d0%bb%d0%b0%d0%b4%d1%83%d1%88"}, "edited": false, "score": 0, "creation_date": 1561615511, "post_id": 56784723, "comment_id": 100123775, "body": "Thank you for you answer, but postgres doesn&#39;t have this problem"}, {"owner": {"reputation": 3198, "user_id": 1680826, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bh4mH.jpg?s=128&g=1", "display_name": "botchniaque", "link": "https://stackoverflow.com/users/1680826/botchniaque"}, "reply_to_user": {"reputation": 572, "user_id": 8231671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2bace91608bf27d6581cc13fd4850244?s=128&d=identicon&r=PG&f=1", "display_name": "\u0418\u0432\u0430\u043d \u0413\u043b\u0430\u0434\u0443\u0448", "link": "https://stackoverflow.com/users/8231671/%d0%98%d0%b2%d0%b0%d0%bd-%d0%93%d0%bb%d0%b0%d0%b4%d1%83%d1%88"}, "edited": false, "score": 0, "creation_date": 1561626109, "post_id": 56784723, "comment_id": 100129230, "body": "Not sure about postgres - but I was observing same behavior - luckily not using JDBC to connect but rather psql. I also updated the link to <code>SET TIME ZONE</code> documentation - now it points to Redshift."}], "tags": [], "owner": {"reputation": 3198, "user_id": 1680826, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bh4mH.jpg?s=128&g=1", "display_name": "botchniaque", "link": "https://stackoverflow.com/users/1680826/botchniaque"}, "is_accepted": false, "score": 1, "last_activity_date": 1561625995, "last_edit_date": 1561625995, "creation_date": 1561614798, "answer_id": 56784723, "question_id": 56778837, "link": "https://stackoverflow.com/questions/56778837/change-the-timestamp-timezone-in-result-of-jdbc-query-connection/56784723#56784723", "title": "Change the timestamp timezone in result of jdbc query connection", "body": "<p>I seems that the JDBC driver does not have a parameter to set client's timezone. <a href=\"https://stackoverflow.com/questions/18447995/postgresql-9-2-jdbc-driver-uses-client-time-zone\">This is a similar question for postgres</a> (and redshift and postgres will most probably share features/problems). </p>\n\n<h3>Option 1 - change client JVM timezone</h3>\n\n<p>So if it's an option for you, looks like you can change the timezone setting in your JVM as JDBC client is using client's timezone in the connection. </p>\n\n<pre><code>AddVMOption -Duser.timezone=UTC\n</code></pre>\n\n<h3>Option 2 - send <code>SET SESSION TIME ZONE</code> before query</h3>\n\n<p>I know that in <code>psql</code> you can control client's timezone by either setting <code>PGTZ</code> environment variable (I used it to connect to Redshift and was getting <code>TIMESTAMP WITHOUT TIME ZONE</code> in desired form. <a href=\"https://www.postgresql.org/docs/9.1/datatype-datetime.html#DATATYPE-TIMEZONES\" rel=\"nofollow noreferrer\">This postgres documentation</a> says:</p>\n\n<blockquote>\n  <ul>\n  <li>The PGTZ environment variable is used by libpq clients to send a SET TIME ZONE command to the server upon connection.</li>\n  </ul>\n</blockquote>\n\n<p>Maybe that would be an option to always send <code>SET TIME ZONE UTC</code> (see <a href=\"https://docs.aws.amazon.com/redshift/latest/dg/r_timezone_config.html\" rel=\"nofollow noreferrer\">Redshift timezone config docs</a>) upon opening your JDBC session, or before each query.</p>\n"}], "owner": {"reputation": 572, "user_id": 8231671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2bace91608bf27d6581cc13fd4850244?s=128&d=identicon&r=PG&f=1", "display_name": "\u0418\u0432\u0430\u043d \u0413\u043b\u0430\u0434\u0443\u0448", "link": "https://stackoverflow.com/users/8231671/%d0%98%d0%b2%d0%b0%d0%bd-%d0%93%d0%bb%d0%b0%d0%b4%d1%83%d1%88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 412, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1561625995, "creation_date": 1561572879, "question_id": 56778837, "link": "https://stackoverflow.com/questions/56778837/change-the-timestamp-timezone-in-result-of-jdbc-query-connection", "title": "Change the timestamp timezone in result of jdbc query connection", "body": "<p>I use Redshift and jdbc.\nThe timezone of redshift server <code>show timezone;</code> is UTC.\nMy application(jvm) timezone is +2. </p>\n\n<p>When I execute the query via jdbc select SYSDATE; I got the correct Timestamp with correct value in UTC, but unfortunately the time zone of this value is +2. </p>\n\n<p>For example:\nServer has <code>2019-06-26T18:10:13.000+0-00</code> but I got <code>2019-06-26T18:10:13.000+0200</code>. </p>\n\n<p>After that I mapped via jackson the timestamp to json and send response to client, and client got incorrect value 2019-06-26T16:10:13.000+0000.</p>\n\n<p>I can't change the timezone for application and for mapper.</p>\n\n<p>How I can resolve this problem? </p>\n"}, {"tags": ["java", "spring", "hibernate", "spring-data-jpa", "hibernate-mapping"], "comments": [{"owner": {"reputation": 1685, "user_id": 8534285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K2AXH.jpg?s=128&g=1", "display_name": "Ajay Kumar", "link": "https://stackoverflow.com/users/8534285/ajay-kumar"}, "edited": false, "score": 0, "creation_date": 1561575364, "post_id": 56778770, "comment_id": 100113889, "body": "set - spring.jpa.hibernate.ddl-auto to &quot;create-drop&quot;"}, {"owner": {"reputation": 637, "user_id": 10142946, "user_type": "registered", "profile_image": "https://graph.facebook.com/1857757114270747/picture?type=large", "display_name": "Gabriel Robaina", "link": "https://stackoverflow.com/users/10142946/gabriel-robaina"}, "edited": false, "score": 0, "creation_date": 1561576383, "post_id": 56778770, "comment_id": 100114306, "body": "Can you post the hibernate exception, or it just does not do anything?"}, {"owner": {"reputation": 1357, "user_id": 3262990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6hRqV.jpg?s=128&g=1", "display_name": "Eugene", "link": "https://stackoverflow.com/users/3262990/eugene"}, "edited": false, "score": 0, "creation_date": 1561584491, "post_id": 56778770, "comment_id": 100117222, "body": "Look for capitalized version of <code>student</code> table, use <code>SHOW TABLES</code> query."}, {"owner": {"reputation": 69, "user_id": 11704727, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-27sN_emIAy8/AAAAAAAAAAI/AAAAAAAAAA0/ylPv9CL4ZR8/photo.jpg?sz=128", "display_name": "Hrishav Dhawaj Purkayastha", "link": "https://stackoverflow.com/users/11704727/hrishav-dhawaj-purkayastha"}, "edited": false, "score": 0, "creation_date": 1561642448, "post_id": 56778770, "comment_id": 100138918, "body": "@Ajay_Kumar if I set spring.jpa.hibernate.ddl-auto to &quot;create-drop&quot; then my data will be lost once I close the application which I don&#39;t want"}, {"owner": {"reputation": 69, "user_id": 11704727, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-27sN_emIAy8/AAAAAAAAAAI/AAAAAAAAAA0/ylPv9CL4ZR8/photo.jpg?sz=128", "display_name": "Hrishav Dhawaj Purkayastha", "link": "https://stackoverflow.com/users/11704727/hrishav-dhawaj-purkayastha"}, "reply_to_user": {"reputation": 637, "user_id": 10142946, "user_type": "registered", "profile_image": "https://graph.facebook.com/1857757114270747/picture?type=large", "display_name": "Gabriel Robaina", "link": "https://stackoverflow.com/users/10142946/gabriel-robaina"}, "edited": false, "score": 0, "creation_date": 1561642498, "post_id": 56778770, "comment_id": 100138960, "body": "@GabrielPimenta it doesnot show any exception, and yes it does nothing"}, {"owner": {"reputation": 69, "user_id": 11704727, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-27sN_emIAy8/AAAAAAAAAAI/AAAAAAAAAA0/ylPv9CL4ZR8/photo.jpg?sz=128", "display_name": "Hrishav Dhawaj Purkayastha", "link": "https://stackoverflow.com/users/11704727/hrishav-dhawaj-purkayastha"}, "edited": false, "score": 0, "creation_date": 1561642593, "post_id": 56778770, "comment_id": 100139035, "body": "as student table already exists in some other database so hibernate doesnot create it for me whenever I give a table name which doesnot exist in any of the available databases, then hibernates creates ."}, {"owner": {"reputation": 637, "user_id": 10142946, "user_type": "registered", "profile_image": "https://graph.facebook.com/1857757114270747/picture?type=large", "display_name": "Gabriel Robaina", "link": "https://stackoverflow.com/users/10142946/gabriel-robaina"}, "edited": false, "score": 0, "creation_date": 1561652865, "post_id": 56778770, "comment_id": 100145103, "body": "I have edited your question, trying to make it clearer. If no one answers, I will try to take a look at it when I come home."}, {"owner": {"reputation": 69, "user_id": 11704727, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-27sN_emIAy8/AAAAAAAAAAI/AAAAAAAAAA0/ylPv9CL4ZR8/photo.jpg?sz=128", "display_name": "Hrishav Dhawaj Purkayastha", "link": "https://stackoverflow.com/users/11704727/hrishav-dhawaj-purkayastha"}, "reply_to_user": {"reputation": 637, "user_id": 10142946, "user_type": "registered", "profile_image": "https://graph.facebook.com/1857757114270747/picture?type=large", "display_name": "Gabriel Robaina", "link": "https://stackoverflow.com/users/10142946/gabriel-robaina"}, "edited": false, "score": 0, "creation_date": 1561744385, "post_id": 56778770, "comment_id": 100176842, "body": "@GabrielPimenta thank you for editing, it looks nice now This is what I mean to say"}, {"owner": {"reputation": 637, "user_id": 10142946, "user_type": "registered", "profile_image": "https://graph.facebook.com/1857757114270747/picture?type=large", "display_name": "Gabriel Robaina", "link": "https://stackoverflow.com/users/10142946/gabriel-robaina"}, "edited": false, "score": 0, "creation_date": 1561813040, "post_id": 56778770, "comment_id": 100188654, "body": "@hrishav do you mind posting a picture of your mysql instance, showing all schemas and tables, some code sample of the entity you are trying to persist, and your application.properties file? I will try to reproduce the behavior you are getting"}, {"owner": {"reputation": 69, "user_id": 11704727, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-27sN_emIAy8/AAAAAAAAAAI/AAAAAAAAAA0/ylPv9CL4ZR8/photo.jpg?sz=128", "display_name": "Hrishav Dhawaj Purkayastha", "link": "https://stackoverflow.com/users/11704727/hrishav-dhawaj-purkayastha"}, "reply_to_user": {"reputation": 637, "user_id": 10142946, "user_type": "registered", "profile_image": "https://graph.facebook.com/1857757114270747/picture?type=large", "display_name": "Gabriel Robaina", "link": "https://stackoverflow.com/users/10142946/gabriel-robaina"}, "edited": false, "score": 0, "creation_date": 1561823303, "post_id": 56778770, "comment_id": 100190905, "body": "@GabrielPimenta the schemas with available table names are in the link  [<a href=\"https://github.com/thejavaprogrammerhrishav/hibernate/blob/master/output1.sql]\" rel=\"nofollow noreferrer\">github.com/thejavaprogrammerhrishav/hibernate/blob/master/&hellip;</a>  and the entity mapping xml is in the link [<a href=\"https://github.com/thejavaprogrammerhrishav/hibernate/blob/master/student.hbm.xml]\" rel=\"nofollow noreferrer\">github.com/thejavaprogrammerhrishav/hibernate/blob/master/&hellip;</a>  if you see the schemas with table names here you will see that more than two user table already existed in different schemas for which hibernate is not creating table, but when I name the table (in xml) as &quot;student007&quot; then hibernate creates the table as there is no such table in any of the schemas"}, {"owner": {"reputation": 69, "user_id": 11704727, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-27sN_emIAy8/AAAAAAAAAAI/AAAAAAAAAA0/ylPv9CL4ZR8/photo.jpg?sz=128", "display_name": "Hrishav Dhawaj Purkayastha", "link": "https://stackoverflow.com/users/11704727/hrishav-dhawaj-purkayastha"}, "reply_to_user": {"reputation": 637, "user_id": 10142946, "user_type": "registered", "profile_image": "https://graph.facebook.com/1857757114270747/picture?type=large", "display_name": "Gabriel Robaina", "link": "https://stackoverflow.com/users/10142946/gabriel-robaina"}, "edited": false, "score": 0, "creation_date": 1561823395, "post_id": 56778770, "comment_id": 100190936, "body": "@GabrielPimenta what I found is that if the table already exists in any database then hibernate will not create it if required but if the table doesnot exist in any database then hibernate will surely create it  The biggest question is why hibernate is behaving like that?"}, {"owner": {"reputation": 69, "user_id": 11704727, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-27sN_emIAy8/AAAAAAAAAAI/AAAAAAAAAA0/ylPv9CL4ZR8/photo.jpg?sz=128", "display_name": "Hrishav Dhawaj Purkayastha", "link": "https://stackoverflow.com/users/11704727/hrishav-dhawaj-purkayastha"}, "edited": false, "score": 0, "creation_date": 1561903627, "post_id": 56778770, "comment_id": 100203232, "body": "Sorry the corrected links are <a href=\"https://github.com/thejavaprogrammerhrishav/hibernate/blob/master/output1.sql\" rel=\"nofollow noreferrer\">link</a> == for schemas and tables list  <a href=\"https://github.com/thejavaprogrammerhrishav/hibernate/blob/master/student.hbm.xml\" rel=\"nofollow noreferrer\">link</a>== for entity mapping file"}, {"owner": {"reputation": 637, "user_id": 10142946, "user_type": "registered", "profile_image": "https://graph.facebook.com/1857757114270747/picture?type=large", "display_name": "Gabriel Robaina", "link": "https://stackoverflow.com/users/10142946/gabriel-robaina"}, "edited": false, "score": 0, "creation_date": 1562022496, "post_id": 56778770, "comment_id": 100238522, "body": "Your scenario is kinda difficult to replicate... On your entity class, did you try specifying the database schema on a @Table annotation? It would be something like <code>@Table(name = &quot;attendance.student&quot;)</code>"}, {"owner": {"reputation": 69, "user_id": 11704727, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-27sN_emIAy8/AAAAAAAAAAI/AAAAAAAAAA0/ylPv9CL4ZR8/photo.jpg?sz=128", "display_name": "Hrishav Dhawaj Purkayastha", "link": "https://stackoverflow.com/users/11704727/hrishav-dhawaj-purkayastha"}, "reply_to_user": {"reputation": 637, "user_id": 10142946, "user_type": "registered", "profile_image": "https://graph.facebook.com/1857757114270747/picture?type=large", "display_name": "Gabriel Robaina", "link": "https://stackoverflow.com/users/10142946/gabriel-robaina"}, "edited": false, "score": 0, "creation_date": 1562500183, "post_id": 56778770, "comment_id": 100386097, "body": "thanks @GabrielPimenta it really worked for me when I mentioned <code>attendance.student</code> instead of only <code>student</code>  But It is not clear to me why it doesn&#39;t work when I say <code>table_name=student</code> although database name is already mentioned in my connectionurl"}, {"owner": {"reputation": 637, "user_id": 10142946, "user_type": "registered", "profile_image": "https://graph.facebook.com/1857757114270747/picture?type=large", "display_name": "Gabriel Robaina", "link": "https://stackoverflow.com/users/10142946/gabriel-robaina"}, "edited": false, "score": 0, "creation_date": 1562538147, "post_id": 56778770, "comment_id": 100394673, "body": "Added an answer for completeness. Please consider marking it as correct answer so that people with the same issue know how to solve it."}], "answers": [{"comments": [{"owner": {"reputation": 186, "user_id": 4623779, "user_type": "registered", "accept_rate": 12, "profile_image": "https://lh3.googleusercontent.com/-ntmlYobSN0A/AAAAAAAAAAI/AAAAAAAAAhg/TsvQoxShick/photo.jpg?sz=128", "display_name": "Babu Reddy H", "link": "https://stackoverflow.com/users/4623779/babu-reddy-h"}, "edited": false, "score": 0, "creation_date": 1610008391, "post_id": 56926548, "comment_id": 115998718, "body": "This is working for simple tables, but when I added same solution to joined-subclass in xml configuration its not working. Is there any other configuration I am missing ? Please suggest, any help would be appreciated."}], "tags": [], "owner": {"reputation": 637, "user_id": 10142946, "user_type": "registered", "profile_image": "https://graph.facebook.com/1857757114270747/picture?type=large", "display_name": "Gabriel Robaina", "link": "https://stackoverflow.com/users/10142946/gabriel-robaina"}, "is_accepted": true, "score": 1, "last_activity_date": 1562538040, "creation_date": 1562538040, "answer_id": 56926548, "question_id": 56778770, "link": "https://stackoverflow.com/questions/56778770/hibernate-doesnt-create-table-that-already-exist-in-another-database/56926548#56926548", "title": "HIbernate doesn&#39;t create table that already exist in another database", "body": "<p>As mentioned on the comments section, if hibernate is not creating tables on ddl auto due to table name conflicts between schemas, you should explicitly declare:</p>\n\n<pre><code>@Table(name=\"attendance.student\")\n</code></pre>\n\n<p>That way hibernate will create the table correcly. If no schema is explicitly declared there, it will look for other tables with the same name publicly, and therefore, wont create the new one.</p>\n\n<p>Take a look at <a href=\"https://www.google.com/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://hibernate.atlassian.net/plugins/servlet/mobile%3ForiginPath%3D%252Fbrowse%252FHHH-12215%23prompt%3FredirectUri%3D%252Fbrowse%252FHHH-12215&amp;ved=2ahUKEwjLlYul6aPjAhUbDrkGHQORBd4QFjAAegQIBRAB&amp;usg=AOvVaw2P4ey2NX6foEJR_W7TV46T&amp;cshid=1562537670283\" rel=\"nofollow noreferrer\">this bug description</a>. If you want to know more details about how hibernate behaves when creating new tables, you should definately create another post with a more concise scenario, so that we can discuss it further.</p>\n"}], "owner": {"reputation": 69, "user_id": 11704727, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-27sN_emIAy8/AAAAAAAAAAI/AAAAAAAAAA0/ylPv9CL4ZR8/photo.jpg?sz=128", "display_name": "Hrishav Dhawaj Purkayastha", "link": "https://stackoverflow.com/users/11704727/hrishav-dhawaj-purkayastha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 954, "favorite_count": 0, "accepted_answer_id": 56926548, "answer_count": 1, "score": 0, "last_activity_date": 1562538040, "creation_date": 1561572583, "last_edit_date": 1561660139, "question_id": 56778770, "link": "https://stackoverflow.com/questions/56778770/hibernate-doesnt-create-table-that-already-exist-in-another-database", "title": "HIbernate doesn&#39;t create table that already exist in another database", "body": "<p>I have a bean entity named <code>com.test.Student</code> which is mapped to a table named \"student\" in attendance database using xml. The \"student\" table in attendance database does not yet exist.</p>\n\n<p>Hibernate is not creating the \"student\" table on attendance database on application start, even though the property <code>hibernate.hbm2dll.auto</code> is set to \"update\". It is also not generating any exception, warning or query. It simply does not do anything.</p>\n\n<p>After some testing, I came to realize that a student table already exists in some other database named \"sms\". If I map the <code>com.test.Student</code> @Entity to another table name (that does not exist in any database), Hibernate will create it just fine with this config.</p>\n\n<p>Why is Hibernate not creating the \"student\" table on the mapped database? Is the existance of another table with the same name in another database interfering in some way?</p>\n\n<p>Some info:</p>\n\n<ul>\n<li>Hibernate ver: 4.3.9</li>\n<li>Spring ver: 4.3.9</li>\n<li>MySQL as DB</li>\n<li>Java 8 </li>\n<li>Netbeans asIDE</li>\n</ul>\n"}, {"tags": ["java", "apache-flink", "avro", "confluent-schema-registry"], "answers": [{"tags": [], "owner": {"reputation": 6508, "user_id": 562644, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/56ef787dd74b3a9c0e5b8e8a5b5be414?s=128&d=identicon&r=PG", "display_name": "Ryan", "link": "https://stackoverflow.com/users/562644/ryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1588684424, "creation_date": 1588684424, "answer_id": 61614034, "question_id": 56778755, "link": "https://stackoverflow.com/questions/56778755/how-to-fix-cached-schema-registry-lookup-causing-terrible-performance/61614034#61614034", "title": "How to Fix Cached Schema Registry lookup causing terrible performance", "body": "<p>It appears the getLatestSchemaMetadata method does not use the cache.  If you want your calls to use the cache to improve performance perhaps you can reorganize your program to use one of the other methods that does use the cache, perhaps lookup schema by ID or register schema by name with definition string.</p>\n\n<p>I'm having trouble locating the documentation for Java (or Python, or C++) that confirms this is how SchemaRegistry works (tried <a href=\"https://docs.confluent.io/current/clients/\" rel=\"nofollow noreferrer\">here</a>).   But the .Net docs says at least in that client API the getLatest method is <a href=\"https://docs.confluent.io/current/clients/confluent-kafka-dotnet/api/Confluent.SchemaRegistry.CachedSchemaRegistryClient.html\" rel=\"nofollow noreferrer\">not cached</a>.</p>\n"}], "owner": {"reputation": 862, "user_id": 2324782, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/82891df59da29767d5e16a94ec5e5c00?s=128&d=identicon&r=PG", "display_name": "Jicaar", "link": "https://stackoverflow.com/users/2324782/jicaar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 480, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1588684424, "creation_date": 1561572531, "last_edit_date": 1561735145, "question_id": 56778755, "link": "https://stackoverflow.com/questions/56778755/how-to-fix-cached-schema-registry-lookup-causing-terrible-performance", "title": "How to Fix Cached Schema Registry lookup causing terrible performance", "body": "<p>Edit: I discovered this other question from a few years back (<a href=\"https://stackoverflow.com/questions/40621390/how-to-populate-the-cache-in-cachedschemaregistryclient-without-making-a-call-to\">How to populate the cache in CachedSchemaRegistryClient without making a call to register a new schema?</a>). It mentions that the CachedSchemaRegistryClient needs to register the schema to the actual registry to make it cached, and there has been no solution yet to work around this. So leaving my question here, but wanted that to be made aware as well.</p>\n\n<p>I am working on a program that is pulling a byte array from kafka, decrypting it (so it is secure while on kafka), converting the bytes to a string, the json string to json object, looking up the schema from the schema registry (utilizing CachedSchemaRegistryClient), converting the json bytes to a generic record using the schema from the retrieved schema from the registry metadata, and then serializing that generic record into avro bytes.</p>\n\n<p>After running some tests it seems that the CachedSchemaRegistyClient is the major performance drain. But from what I can tell this is the best way to go about getting the schema metadata. Have I implemented something poorly or is there some other way that this can be done that works with my use case?</p>\n\n<p>Here is the code for what handles everything after the decrypting:</p>\n\n<pre><code>package org.apache.flink;\n\nimport avro.fullNested.FinalMessage;\nimport io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient;\nimport io.confluent.kafka.schemaregistry.client.SchemaMetadata;\nimport org.apache.avro.Schema;\nimport org.apache.avro.generic.GenericRecord;\nimport org.apache.flink.api.common.functions.FlatMapFunction;\nimport org.apache.flink.util.Collector;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport serializers.AvroFinishedMessageSerializer;\nimport tech.allegro.schema.json2avro.converter.JsonAvroConverter;\n\npublic class JsonToAvroBytesParser implements FlatMapFunction&lt;String, byte[]&gt; {\n\n    private transient CachedSchemaRegistryClient schemaRegistryClient;\n    private transient AvroFinishedMessageSerializer avroFinishedMessageSerializer;\n    private String schemaUrl;\n    private Integer identityMaxCount;\n\n    public JsonToAvroBytesParser(String passedSchemaUrl, int passedImc){\n        schemaUrl = passedSchemaUrl;\n        identityMaxCount = passedImc;\n    }\n\n    private void ensureInitialized() {\n        if (schemaUrl.equals(\"\")) {\n            schemaUrl = \"https://myschemaurl.com/\";\n        }\n        if(identityMaxCount == null){\n            identityMaxCount = 5;\n        }\n        if(schemaRegistryClient == null){\n            schemaRegistryClient = new CachedSchemaRegistryClient(schemaUrl, identityMaxCount);\n        }\n        if(avroFinalMessageSerializer == null){\n            avroFinalMessageSerializer = new AvroFinalMessageSerializer(FinalMessage.class);\n        }\n    }\n\n    @Override\n    public void flatMap(String s, Collector&lt;byte[]&gt; collector) throws Exception {\n\n        ensureInitialized();\n\n        Object obj = new JSONParser().parse(s);\n        JSONObject jsonObject = (JSONObject) obj;\n\n        try {\n            String headers = jsonObject.get(\"headers\").toString();\n            JSONObject body = (JSONObject) jsonObject.get(\"requestBody\");\n            if(headers != null &amp;&amp; body != null){\n                String kafkaTopicFromHeaders = \"hard_coded_name-value\";\n                //NOTE: this schema lookup has serious performance issues.\n                SchemaMetadata schemaMetadata = schemaRegistryClient.getLatestSchemaMetadata(kafkaTopicFromHeaders);\n                //TODO: need to implement recovery method if schema cannot be reached.\n\n                JsonAvroConverter converter = new JsonAvroConverter();\n                GenericRecord specificRecord = converter.convertToGenericDataRecord(body.toJSONString().getBytes(), new Schema.Parser().parse(schemaMetadata.getSchema()));\n                byte[] bytesToReturn = avroFinishedMessageSerializer.serializeWithSchemaId(schemaMetadata, specificRecord);\n\n                collector.collect(bytesToReturn);\n            }\n            else {\n                System.out.println(\"json is incorrect.\");\n            }\n        } catch (Exception e){\n            System.out.println(\"json conversion exception caught\");\n        }\n    }\n}\n</code></pre>\n\n<p>Thanks for any help in advance!</p>\n"}, {"tags": ["java", "recursion"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11704618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15dfa9a0b170b4f6d6e25df143deadfb?s=128&d=identicon&r=PG&f=1", "display_name": "narudi18", "link": "https://stackoverflow.com/users/11704618/narudi18"}, "edited": false, "score": 0, "creation_date": 1561642675, "post_id": 56779843, "comment_id": 100139105, "body": "I used your code but it was returning false when it was supposed return true. So I change the true to false and vice verse and now it\u2019s working! Thank you for your help"}, {"owner": {"reputation": 2201, "user_id": 7245379, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YRfhM.jpg?s=128&g=1", "display_name": "eHayik", "link": "https://stackoverflow.com/users/7245379/ehayik"}, "reply_to_user": {"reputation": 3, "user_id": 11704618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15dfa9a0b170b4f6d6e25df143deadfb?s=128&d=identicon&r=PG&f=1", "display_name": "narudi18", "link": "https://stackoverflow.com/users/11704618/narudi18"}, "edited": false, "score": 0, "creation_date": 1562676950, "post_id": 56779843, "comment_id": 100444574, "body": "Thanks for your feedback, I fixed the issue in the answer"}], "tags": [], "owner": {"reputation": 2201, "user_id": 7245379, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YRfhM.jpg?s=128&g=1", "display_name": "eHayik", "link": "https://stackoverflow.com/users/7245379/ehayik"}, "is_accepted": true, "score": 0, "last_activity_date": 1562676907, "last_edit_date": 1562676907, "creation_date": 1561577441, "answer_id": 56779843, "question_id": 56778721, "link": "https://stackoverflow.com/questions/56778721/how-to-convert-an-iterative-non-dynamic-method-with-nested-for-loop-to-a-recursi/56779843#56779843", "title": "How to convert an iterative non-dynamic method with nested for-loop to a recursive dynamic method in Java", "body": "<p>You don't need recursion to solve your problem. Your code just need a fix in this part</p>\n\n<pre><code>for (SED_PP s : this.children) {\n\n     if(!s.getChildren().isEmpty()) {\n        answer = true;\n     }\n}\n</code></pre>\n\n<p>You didn't check if B has a child C and C has a child D, you only ask whether B has children or not. You should change <code>IsChild</code> method code this way.</p>\n\n<pre><code>public boolean IsChild(SED_PP sed)\n{       \n    if (this.children.contains(sed)) {\n        return true;\n    } \n\n    for (SED_PP s : this.children) {\n\n        if (s.IsChild(sed)) {\n            return true;\n        }            \n    }\n\n    return false;\n}  \n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11704618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15dfa9a0b170b4f6d6e25df143deadfb?s=128&d=identicon&r=PG&f=1", "display_name": "narudi18", "link": "https://stackoverflow.com/users/11704618/narudi18"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 56779843, "answer_count": 1, "score": 0, "last_activity_date": 1562676907, "creation_date": 1561572354, "last_edit_date": 1561574239, "question_id": 56778721, "link": "https://stackoverflow.com/questions/56778721/how-to-convert-an-iterative-non-dynamic-method-with-nested-for-loop-to-a-recursi", "title": "How to convert an iterative non-dynamic method with nested for-loop to a recursive dynamic method in Java", "body": "<p>I have a class SED_PP that has an ArrayList called children which contains other SED_PP. I am trying to get write a method which can tell the user if one SED_PP object can be a child of another SED_PP object.  </p>\n\n<p>I have one iterative and non-dynamic method isChild(SED_PP sed) which does not go through all the arraylists in the object ad its children has.</p>\n\n<pre><code>public class SED_PP \n{\n    private ArrayList&lt;SED_PP&gt; children = new ArrayList&lt;SED_PP&gt;();\n\n    public ArrayList&lt;SED_PP&gt; getChildren() { return children;}\n    //other methods\n\n    public boolean IsChild(SED_PP sed)\n    {\n        boolean answer = false;\n        if (this.children.contains(sed))\n            answer = false;\n        else{\n            for (SED_PP s : this.children){\n                if(!s.getChildren().isEmpty())\n                    answer = true;\n                }\n            }\n        }\n\n        return answer;\n    }\n}\n</code></pre>\n\n<p>The isChild method shown does not go through all of the arraylist that parent SED_PP object has. For example, if parent A has child B, B has a child C and C has a child D, the current isChild method will not return true for A.IsChild(D) when it should be.</p>\n\n<p>I think I need to use recursion for this problem but I am not very good at it. </p>\n"}, {"tags": ["java", "json", "jackson"], "comments": [{"owner": {"reputation": 60462, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 1, "creation_date": 1561572456, "post_id": 56778717, "comment_id": 100112573, "body": "Map is a key value pair so the result is correct. Use a list or only the entry set of your map."}, {"owner": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "reply_to_user": {"reputation": 60462, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1561572728, "post_id": 56778717, "comment_id": 100112691, "body": "I&#39;ve just left the office, read your comment and it makes perfect sense now. Spent too long looking at this today \ud83d\ude23"}, {"owner": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "reply_to_user": {"reputation": 60462, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1561573501, "post_id": 56778717, "comment_id": 100113058, "body": "Further thinking on the way home.... I should not be working with the map but instead with a Collection or List of the Objects and discard the String."}], "answers": [{"comments": [{"owner": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "edited": false, "score": 0, "creation_date": 1561575706, "post_id": 56779461, "comment_id": 100114052, "body": "Thank you Michael. I will give this a go in the morning and post an update."}, {"owner": {"reputation": 60462, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1561576184, "post_id": 56779461, "comment_id": 100114237, "body": "List&lt;Map&lt;&gt;&gt; should also get the label for each value."}, {"owner": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "edited": false, "score": 0, "creation_date": 1561621115, "post_id": 56779461, "comment_id": 100126469, "body": "For what its worth after this question getting closed - This was the answer that pointed me in the right direction and now I have my code working. It took 10 minutes this morning to get  it right. Working with a List instead of a Map was all I needed to know/remember. Thank you Michael."}, {"owner": {"reputation": 4217, "user_id": 5802417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jWoIa.jpg?s=128&g=1", "display_name": "Michael Gantman", "link": "https://stackoverflow.com/users/5802417/michael-gantman"}, "reply_to_user": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "edited": false, "score": 0, "creation_date": 1561627413, "post_id": 56779461, "comment_id": 100129948, "body": "@thonnor, Thank you so much for a very positive feedback. I appreciate very much. BTW, besides voting for the answer which anyone can do you as the OP (Original Poster)  can endorse it as the right answer. And for what it worth, I don&#39;t think the question should be closed. I think it is clear and relevant question"}, {"owner": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "edited": false, "score": 0, "creation_date": 1561627910, "post_id": 56779461, "comment_id": 100130259, "body": "No worries. I forgot to accept the answer. I did mean to."}], "tags": [], "owner": {"reputation": 4217, "user_id": 5802417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jWoIa.jpg?s=128&g=1", "display_name": "Michael Gantman", "link": "https://stackoverflow.com/users/5802417/michael-gantman"}, "is_accepted": true, "score": 1, "last_activity_date": 1561575632, "creation_date": 1561575632, "answer_id": 56779461, "question_id": 56778717, "link": "https://stackoverflow.com/questions/56778717/json-jackson-output-is-adding-unexpectedly-a-parent-element-on-each-node/56779461#56779461", "title": "JSON/Jackson Output is adding unexpectedly a &quot;parent&quot; element on each node", "body": "<p>Map always converts to JSON Object and not to JSON array. so your result is expected. If you want the original JSON format you should convert your data into <code>List&lt;Map&lt;String, Object&gt;&gt;</code> or <code>List&lt;Map&lt;String, String&gt;&gt;</code> and then you will get your original format</p>\n"}], "owner": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "closed_date": 1561597877, "accepted_answer_id": 56779461, "answer_count": 1, "score": 1, "last_activity_date": 1561627585, "creation_date": 1561572336, "last_edit_date": 1561627585, "question_id": 56778717, "link": "https://stackoverflow.com/questions/56778717/json-jackson-output-is-adding-unexpectedly-a-parent-element-on-each-node", "closed_reason": "Not suitable for this site", "title": "JSON/Jackson Output is adding unexpectedly a &quot;parent&quot; element on each node", "body": "<p>I'm using Java 12 / Jacskon 2.9.9 to 'read from' and 'write to' that holds a very simple JSON array within.</p>\n\n<p>I'm reading this into a Map which works perfectly.</p>\n\n<p>The issue is when writing an updated Map I get an outer element that causes some nesting and breaks my code. </p>\n\n<p><strong>Orignal JSON</strong></p>\n\n<pre><code> [\n        {\n            \"puid\": \"sys1\",\n            \"host\": \"127.0.0.1\",\n            \"syst\": \"U\",\n            \"user\": \"xxxx\",\n            \"pass\": \"secret\"\n        },\n        {\n            \"puid\": \"sys2\",\n            \"host\": \"myhost\",\n            \"syst\": \"U\",\n            \"user\": \"yyyy\",\n            \"pass\": \"secret2\"\n        },\n        {\n            \"puid\": \"sys3\",\n            \"host\": \"localhost\",\n            \"syst\": \"U\",\n            \"user\": \"zzzz\",\n            \"pass\": \"secret3\"\n        }\n    ]\n</code></pre>\n\n<p>I am reading this file into a List&lt;> which works perfectly well. I can use this list to do meaningful things.</p>\n\n<p>The idea is that via an API call I supply a similar JSON element and it re-writes the whole file with the new and existing elements in the format below.</p>\n\n<p>However...\nIt is writing it like this - with the outer <code>\"sys1\"</code>, <code>\"sys2\"</code>, <code>\"sys3\"</code> elements/nodes.</p>\n\n<p><strong>Updated JSON</strong></p>\n\n<pre><code> {\n      \"sys1\" : {\n        \"puid\" : \"sys1\",\n        \"host\" : \"127.0.0.1\",\n        \"syst\" : \"U\",\n        \"user\" : \"xxxx\",\n        \"pass\" : \"secret\"\n      },\n      \"sys2\" : {\n        \"puid\" : \"sys2\",\n        \"host\" : \"myhost\",\n        \"syst\" : \"U\",\n        \"user\" : \"yyyy\",\n        \"pass\" : \"secret2\"\n      },\n     \"sys3\" : {\n        \"puid\" : \"sys3\",\n        \"host\" : \"localhost\",\n        \"syst\" : \"U\",\n        \"user\" : \"zzzz\",\n        \"pass\" : \"secret3\"\n      },\n    }\n</code></pre>\n\n<p>This is probably the right way to write it, but unfortunately, I can't control the format of the JSON files that I'm given. They are in the original format, shown higher up. </p>\n\n<p>I've tried several things to no avail. I've tried several web searches but don't really know what to put into the search bar (hence this more detailed question). </p>\n\n<p>At this moment in time I've put my code back to this simple line to be fixed with advice from SO :)</p>\n\n<pre><code>String json = new ObjectMapper( ).writerWithDefaultPrettyPrinter( ).writeValueAsString( map );\n</code></pre>\n\n<hr>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Apologies for my vagueness last night, I was very tired. </p>\n\n<p>However I now have a working solution based on the answer below from Michael. Use a List,  not a Map.</p>\n\n<p>Amended and working code here if anyone ever should come across this issue (or for my own reference in the future)</p>\n\n<pre><code>  List&lt;Object&gt; jsonList = new ArrayList&lt;Object&gt;( map.values( ) );\n  ObjectMapper mapper = new ObjectMapper( );\n  String jsonOutput = mapper.writerWithDefaultPrettyPrinter( ).writeValueAsString( jsonList );\n</code></pre>\n"}, {"tags": ["java", "apache", "exception"], "answers": [{"comments": [{"owner": {"reputation": 415, "user_id": 10597330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/089b876659dd95bc388de5e0a750435a?s=128&d=identicon&r=PG&f=1", "display_name": "GilbertS", "link": "https://stackoverflow.com/users/10597330/gilberts"}, "edited": false, "score": 0, "creation_date": 1609102986, "post_id": 56781056, "comment_id": 115749037, "body": "Getting a new one?"}], "tags": [], "owner": {"reputation": 382, "user_id": 11705270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0cf0de4b945efc8a63a98902adb844?s=128&d=identicon&r=PG&f=1", "display_name": "snoozingnewt", "link": "https://stackoverflow.com/users/11705270/snoozingnewt"}, "is_accepted": false, "score": 0, "last_activity_date": 1561584092, "creation_date": 1561584092, "answer_id": 56781056, "question_id": 56778705, "link": "https://stackoverflow.com/questions/56778705/what-does-connectionshutdownexception-mean-and-how-do-i-prevent-it/56781056#56781056", "title": "What does ConnectionShutdownException mean and how do I prevent it?", "body": "<p>I found this: ConnectionShutdownException is a subclass of IllegalStateException.\n'Signals that a method has been invoked at an illegal or inappropriate time. In other words, the Java environment or Java application is not in an appropriate state for the requested operation.' Based on this, your computer is not in an appropriate state for the requested operation. You can solve it by checking your computer or getting a new one.\n<a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true</a></p>\n"}], "owner": {"reputation": 2374, "user_id": 1498830, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/bd37b9a27d3ad7682f1573a450a80a2f?s=128&d=identicon&r=PG", "display_name": "spierepf", "link": "https://stackoverflow.com/users/1498830/spierepf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 562, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561584092, "creation_date": 1561572292, "question_id": 56778705, "link": "https://stackoverflow.com/questions/56778705/what-does-connectionshutdownexception-mean-and-how-do-i-prevent-it", "title": "What does ConnectionShutdownException mean and how do I prevent it?", "body": "<p>I am trying to use apache's httpclient Java library. But I keep getting massive numbers of ConnectionShutdownException. </p>\n\n<p>The javadocs for the exception are not very helpful:</p>\n\n<p>\"Signals that the connection has been shut down or released back to the the connection pool\"</p>\n\n<p>Can anyone explain what this means, and what I can do to solve it?</p>\n"}, {"tags": ["java", "android", "android-studio", "gson"], "answers": [{"tags": [], "owner": {"reputation": 2463, "user_id": 5773044, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c01ee1c1b1d6a3f7baafe54c92ce1e18?s=128&d=identicon&r=PG&f=1", "display_name": "Anupam", "link": "https://stackoverflow.com/users/5773044/anupam"}, "is_accepted": false, "score": 0, "last_activity_date": 1561572897, "last_edit_date": 1561572897, "creation_date": 1561572582, "answer_id": 56778769, "question_id": 56778704, "link": "https://stackoverflow.com/questions/56778704/how-to-fix-failed-to-resolve-com-google-gsongson2-8-5-in-android-studio/56778769#56778769", "title": "How to fix &quot;Failed to resolve: com.google.gson:gson:2.8.5&quot; in Android studio", "body": "<p>Try this -</p>\n\n<pre><code>implementation 'com.android.support:multidex:1.0.1'\nimplementation 'com.google.code.gson:gson:2.8.0'\n</code></pre>\n\n<p>And in project gradle -</p>\n\n<pre><code>classpath 'com.google.gms:google-services:4.2.0'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 199, "user_id": 6669735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YBoRd.jpg?s=128&g=1", "display_name": "Byron Lagrone", "link": "https://stackoverflow.com/users/6669735/byron-lagrone"}, "is_accepted": false, "score": -1, "last_activity_date": 1561572768, "creation_date": 1561572768, "answer_id": 56778801, "question_id": 56778704, "link": "https://stackoverflow.com/questions/56778704/how-to-fix-failed-to-resolve-com-google-gsongson2-8-5-in-android-studio/56778801#56778801", "title": "How to fix &quot;Failed to resolve: com.google.gson:gson:2.8.5&quot; in Android studio", "body": "<p>Alternatively: <code>gradle</code> doesn't play nice with what you need here. I would try replacing the line <code>implementation 'com.google.gson:gson:2.8.5'</code> with this:</p>\n\n<pre><code>compile group: 'com.google.code.gson', name: 'gson', version: '2.8.5'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 77, "user_id": 11704632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5decf0e0606542ec3b50e72f0f853f1a?s=128&d=identicon&r=PG&f=1", "display_name": "Eternal Falcon", "link": "https://stackoverflow.com/users/11704632/eternal-falcon"}, "edited": false, "score": 0, "creation_date": 1561574494, "post_id": 56779109, "comment_id": 100113501, "body": "Thank you so much ! I spend a lot of time searching on divers topics and you finally give me the right answer !"}, {"owner": {"reputation": 4377, "user_id": 8524, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1a5cbaad056fbc8550118c334f609440?s=128&d=identicon&r=PG", "display_name": "Diederik", "link": "https://stackoverflow.com/users/8524/diederik"}, "edited": false, "score": 1, "creation_date": 1603463902, "post_id": 56779109, "comment_id": 114054178, "body": "Mine started working when I listed the repositories in the following order:        <code>jcenter();   google()</code> in the <code>buildscript { repositories {</code> block of the bulid.gradle file"}], "tags": [], "owner": {"reputation": 88, "user_id": 4946091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e47d7c3a5caf85f08fc75b1bf6b013?s=128&d=identicon&r=PG&f=1", "display_name": "Jrank2013", "link": "https://stackoverflow.com/users/4946091/jrank2013"}, "is_accepted": true, "score": 5, "last_activity_date": 1561574017, "creation_date": 1561574017, "answer_id": 56779109, "question_id": 56778704, "link": "https://stackoverflow.com/questions/56778704/how-to-fix-failed-to-resolve-com-google-gsongson2-8-5-in-android-studio/56779109#56779109", "title": "How to fix &quot;Failed to resolve: com.google.gson:gson:2.8.5&quot; in Android studio", "body": "<p>The groupID should be com.google.code.gson instead of com.google.gson. </p>\n\n<pre><code>implementation 'com.google.code.gson:gson:2.8.5'\n</code></pre>\n\n<p>Change it to the above, resync the project, and the error should go away.</p>\n"}], "owner": {"reputation": 77, "user_id": 11704632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5decf0e0606542ec3b50e72f0f853f1a?s=128&d=identicon&r=PG&f=1", "display_name": "Eternal Falcon", "link": "https://stackoverflow.com/users/11704632/eternal-falcon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6137, "favorite_count": 0, "accepted_answer_id": 56779109, "answer_count": 3, "score": 3, "last_activity_date": 1561574017, "creation_date": 1561572291, "question_id": 56778704, "link": "https://stackoverflow.com/questions/56778704/how-to-fix-failed-to-resolve-com-google-gsongson2-8-5-in-android-studio", "title": "How to fix &quot;Failed to resolve: com.google.gson:gson:2.8.5&quot; in Android studio", "body": "<p>I am creating an android application using android studio. I want to use the following dependence 'com.google.gson:gson:2.8.5'. I add it into my build.gradle of my app but I encountered the following error :\nFailed to resolve: com.google.gson:gson:2.8.5</p>\n\n<p>I tried the following :\n- downgrade the version of the dependence\n- downgrade the version of the buildToolsVersion\n- install all Google packages available in the SDK\n- add mavenCentral() to my build.gradle project</p>\n\n<p>My build.gradle app :</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion \"29.0.0\"\n    defaultConfig {\n        applicationId \"com.example.topquiz\"\n        minSdkVersion 15\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.google.android.material:material:1.0.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.2.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    implementation 'org.jetbrains:annotations-java5:15.0'\n    implementation 'com.google.gson:gson:2.8.5' //Store object into SharedPreferences\n}\n</code></pre>\n\n<p>My build.gradle project :</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.4.1'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>Thank you very much for your help</p>\n"}, {"tags": ["java", "web-services", "junit"], "comments": [{"owner": {"reputation": 1412, "user_id": 8534088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CrzSh.png?s=128&g=1", "display_name": "Dmitriy Popov", "link": "https://stackoverflow.com/users/8534088/dmitriy-popov"}, "edited": false, "score": 0, "creation_date": 1561581157, "post_id": 56778568, "comment_id": 100115974, "body": "If you want to test a web-service as a client of it, maybe REST Assured is your choice for Java? I think writing <code>HttpConnection</code> code in pure JUnit is too much low-level overkill."}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 11702586, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s2TxzUERovU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rekfZ5_o_IWthpGLM6KnxqaBHmcwQ/photo.jpg?sz=128", "display_name": "Jyo", "link": "https://stackoverflow.com/users/11702586/jyo"}, "edited": false, "score": 0, "creation_date": 1561609834, "post_id": 56780549, "comment_id": 100122139, "body": "Thank you.. I will check this. Can you also give me suggestions for SOAP testing?"}, {"owner": {"reputation": 113, "user_id": 11702586, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s2TxzUERovU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rekfZ5_o_IWthpGLM6KnxqaBHmcwQ/photo.jpg?sz=128", "display_name": "Jyo", "link": "https://stackoverflow.com/users/11702586/jyo"}, "edited": false, "score": 0, "creation_date": 1561970323, "post_id": 56780549, "comment_id": 100216806, "body": "I want to verify whether web service call is hitting particular api or not. Like verify() method in Mockito. Is there any way in Ret Assured?  I need this feature because my api will return different responses based on data, it can be success or some exception. So, I just want to check that api is being called or not."}, {"owner": {"reputation": 231, "user_id": 524533, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e2ef7d0b15a5f5b39d0829c9aac5a26f?s=128&d=identicon&r=PG", "display_name": "velapanur", "link": "https://stackoverflow.com/users/524533/velapanur"}, "reply_to_user": {"reputation": 113, "user_id": 11702586, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s2TxzUERovU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rekfZ5_o_IWthpGLM6KnxqaBHmcwQ/photo.jpg?sz=128", "display_name": "Jyo", "link": "https://stackoverflow.com/users/11702586/jyo"}, "edited": false, "score": 0, "creation_date": 1562010695, "post_id": 56780549, "comment_id": 100235283, "body": "You can try the do a GET call and if it retrieves a 200 then you are good."}, {"owner": {"reputation": 231, "user_id": 524533, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e2ef7d0b15a5f5b39d0829c9aac5a26f?s=128&d=identicon&r=PG", "display_name": "velapanur", "link": "https://stackoverflow.com/users/524533/velapanur"}, "reply_to_user": {"reputation": 113, "user_id": 11702586, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s2TxzUERovU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rekfZ5_o_IWthpGLM6KnxqaBHmcwQ/photo.jpg?sz=128", "display_name": "Jyo", "link": "https://stackoverflow.com/users/11702586/jyo"}, "edited": false, "score": 0, "creation_date": 1562010714, "post_id": 56780549, "comment_id": 100235291, "body": "like add this into the if block else if(method.equals(&quot;GET&quot;)){             rs  = RestAssured.given(requetSpecification).when().log().all().ge&zwnj;&#8203;t(path);         }"}], "tags": [], "owner": {"reputation": 231, "user_id": 524533, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e2ef7d0b15a5f5b39d0829c9aac5a26f?s=128&d=identicon&r=PG", "display_name": "velapanur", "link": "https://stackoverflow.com/users/524533/velapanur"}, "is_accepted": true, "score": 0, "last_activity_date": 1561581534, "creation_date": 1561581534, "answer_id": 56780549, "question_id": 56778568, "link": "https://stackoverflow.com/questions/56778568/how-to-test-web-service-calls-through-junit/56780549#56780549", "title": "How to test Web Service calls through Junit", "body": "<p>Try to use RestAssured. Using a method like this and pass the appropriate values. </p>\n\n<pre><code> public static ResponseBody callAPI(String host, String body, String path, String method, Map&lt;String,String&gt; headers){\n        RequestSpecBuilder requestSpecBuilder = new RequestSpecBuilder();\n\n        requestSpecBuilder.addHeaders(headers);\n        requestSpecBuilder.setBody(body);\n        requestSpecBuilder.setBaseUri(host);\n\n        RequestSpecification requetSpecification = requestSpecBuilder.build();\n        requestSpecBuilder.setContentType(ContentType.JSON);\n        Response rs = null;\n        if(method.equals(\"DELETE\")){\n            rs  = RestAssured.given(requetSpecification).when().log().all().delete(path);\n        }else if(method.equals(\"POST\")){\n            rs  = RestAssured.given(requetSpecification).when().log().all().post(path);\n        }\n\n        return rs.getBody();\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 11702586, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s2TxzUERovU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rekfZ5_o_IWthpGLM6KnxqaBHmcwQ/photo.jpg?sz=128", "display_name": "Jyo", "link": "https://stackoverflow.com/users/11702586/jyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 417, "favorite_count": 0, "accepted_answer_id": 56780549, "answer_count": 1, "score": 1, "last_activity_date": 1561609902, "creation_date": 1561571706, "last_edit_date": 1561609902, "question_id": 56778568, "link": "https://stackoverflow.com/questions/56778568/how-to-test-web-service-calls-through-junit", "title": "How to test Web Service calls through Junit", "body": "<p>I would like to test my web service using Junit. Once we missed the <code>public</code> modifier and it failed. So, to avoid such issue in the earlier stage we would like to write Junit test cases to test the web service connection. </p>\n\n<p>I tried this but did not work.</p>\n\n<pre><code>String url = \"http://localhost:port/webservice/path\";\nHttpClient client = new DefaultHttpClient();\nHttpUriRequest request = new HttpGet( url );\n\nrequest.setHeader(\"username\", \"user1\");\nHttpResponse httpResponse = \nHttpClientBuilder.create().build().execute(request);\nHttpResponse response = client.execute(request);\nhttpResponse.getStatusLine().getStatusCode();\nBufferedReader rd = new BufferedReader(new \nInputStreamReader(response.getEntity().getContent()));\nStringBuffer result = new StringBuffer();\nwhile ((line = rd.readLine()) != null) {\n     result.append(line);\n}\n\nMy web service will be like this\n\n</code></pre>\n\n<pre><code>@Path(\"/path\") \npublic interface WebServiceTest\n{\n   //list of services\n}\n</code></pre>\n\n<p>I should get to know whether my call is success or failure through Junit test case.\nHow to implement it? Any other suggestions other than Junit but It should be through Java (No Mockito)? </p>\n\n<p>EDIT: I need this for both SOAP and REST web services.</p>\n"}, {"tags": ["java", "arrays", "methods"], "comments": [{"owner": {"reputation": 166951, "user_id": 1707091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dJrV3.jpg?s=128&g=1", "display_name": "rgettman", "link": "https://stackoverflow.com/users/1707091/rgettman"}, "edited": false, "score": 5, "creation_date": 1561571739, "post_id": 56778551, "comment_id": 100112275, "body": "What compiler error did you expect from this code?"}, {"owner": {"reputation": 109324, "user_id": 21926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6e61d47f9a6ec0a7a286835e51f3332?s=128&d=identicon&r=PG", "display_name": "Sean Bright", "link": "https://stackoverflow.com/users/21926/sean-bright"}, "edited": false, "score": 1, "creation_date": 1561571774, "post_id": 56778551, "comment_id": 100112293, "body": "You&#39;ll get a <code>NullPointerException</code> when you run this, but I don&#39;t see any reason why it shouldn&#39;t compile."}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 1, "creation_date": 1561571806, "post_id": 56778551, "comment_id": 100112309, "body": "The method returns an array.  The assignment returns an integer.  An array can be indexed by an integer.  The integer value at that index can be incremented.  What compiler error would you expect here and why?"}], "answers": [{"tags": [], "owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "is_accepted": false, "score": 3, "last_activity_date": 1561576246, "last_edit_date": 1561576246, "creation_date": 1561571826, "answer_id": 56778598, "question_id": 56778551, "link": "https://stackoverflow.com/questions/56778551/calling-method-with-array-index/56778598#56778598", "title": "Calling method with array index", "body": "<p>Let's go step by step:</p>\n\n<ul>\n<li>the method is supposed to return an array of int (<code>public static int[]</code>)</li>\n<li>that array gets then accessed at index 2 (<code>whateverArray [index=2]</code>)</li>\n<li>finally, the result of that access (an int value) can be incremented (<code>whateverArray[2]++</code>)</li>\n<li>and yes, a minor thing, you can assign a variable and use that as array index in the same statement, too</li>\n</ul>\n\n<p>Thus this is all legal syntax. Of course, at runtime, you end up with a nullpointer exception. </p>\n\n<p>The compiler could know that the method returns null, but standard javac does not care about such subtle details (for method results). And any decent IDE will tell you immediately that this code will break when executed. </p>\n"}], "owner": {"reputation": 476, "user_id": 6751542, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/71984d47e126c3053fec6539c2fdb8d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6751542/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1561576630, "creation_date": 1561571613, "last_edit_date": 1561576630, "question_id": 56778551, "link": "https://stackoverflow.com/questions/56778551/calling-method-with-array-index", "title": "Calling method with array index", "body": "<p>I have this exercise:</p>\n\n<pre><code>public class Test2 {\n\n    public static void main (String [] args){\n        int index=1;\n        getArray()[index=2]++; //why???\n }\n\n    public static int[] getArray() {\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>In my opinion, to call the static method getArray it is necessary to write:</p>\n\n<p><code>getArray();</code> ... without the index!</p>\n\n<p>I considered this code with a compiler error.</p>\n\n<p>Can you explain me why <code>getArray() [index =2]++;</code> compiles without errors?</p>\n"}, {"tags": ["java", "gradle", "build.gradle", "gradle-plugin", "jlink"], "comments": [{"owner": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "edited": false, "score": 0, "creation_date": 1561577565, "post_id": 56778477, "comment_id": 100114768, "body": "<code>jlink</code> merely assembles modules;  the adding of files is done at the creation of each module which will be linked.  Things like test input probably should be in the module\u2019s .jar file, where they can be accessed as <a href=\"https://stackoverflow.com/tags/embedded-resource/info\">resources</a>.  Other files can be included in a .jmod file using the file category options of <code>jmod</code>, like <code>--man-pages</code>, <code>--config</code>, and <code>--legal-notices</code>.  I don\u2019t know how this is done using the Gradle plugin you have referenced."}, {"owner": {"reputation": 2295, "user_id": 3846321, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f8c812eb653064ab26a44ba72d58a745?s=128&d=identicon&r=PG&f=1", "display_name": "Gravity Grave", "link": "https://stackoverflow.com/users/3846321/gravity-grave"}, "reply_to_user": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "edited": false, "score": 0, "creation_date": 1561586750, "post_id": 56778477, "comment_id": 100117861, "body": "@VGR: thanks for the response. When I say &quot;test input&quot;, I don&#39;t mean unit tests, but sample files that can be processed by my users (using my software) when they follow a tutorial outlined in the README. Therefore, it seems to me like the .jar is the wrong place to host them, as they won&#39;t be able to navigate inside of it using the file chooser in my software. jmod is new to me, but it seems like something that&#39;s not conducive to opening in a simple text editor like a README file, which is what I would like to keep things as easy as possible for my users."}, {"owner": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "edited": false, "score": 0, "creation_date": 1561589729, "post_id": 56778477, "comment_id": 100118649, "body": "It\u2019s worth noting that you can do whatever you want to a jlink\u2019d image tree.  You are free to add your own directories, including sample data directories.  You can put the README in the root of the image tree, or in a new directory of your choosing such as <code>docs</code>.  Getting the program to look in that directory might require modifying the executable script generated by jlink\u2019s <code>--launcher</code> option, so it passes the directory as a system property or command line argument."}, {"owner": {"reputation": 2295, "user_id": 3846321, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f8c812eb653064ab26a44ba72d58a745?s=128&d=identicon&r=PG&f=1", "display_name": "Gravity Grave", "link": "https://stackoverflow.com/users/3846321/gravity-grave"}, "reply_to_user": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "edited": false, "score": 0, "creation_date": 1561651784, "post_id": 56778477, "comment_id": 100144615, "body": "@VGR: that sounds like exactly what I want to do! I don&#39;t actually need the program to look in any directories, I can rely on the user to navigate there. If you post an example of how to automate this with Groovy in <code>build.gradle</code> as the answer, I&#39;ll happily accept it."}, {"owner": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "edited": false, "score": 0, "creation_date": 1561654685, "post_id": 56778477, "comment_id": 100145863, "body": "I\u2019d like to, but I know very little Groovy or Gradle.  Hopefully someone else will step up.  If not, I may research it and make an attempt when time permits."}], "answers": [{"tags": [], "owner": {"reputation": 2295, "user_id": 3846321, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f8c812eb653064ab26a44ba72d58a745?s=128&d=identicon&r=PG&f=1", "display_name": "Gravity Grave", "link": "https://stackoverflow.com/users/3846321/gravity-grave"}, "is_accepted": true, "score": 3, "last_activity_date": 1561700478, "creation_date": 1561700478, "answer_id": 56801468, "question_id": 56778477, "link": "https://stackoverflow.com/questions/56778477/how-to-bundle-extra-files-with-jlink-image/56801468#56801468", "title": "How to bundle extra files with jlink image", "body": "<p>Thanks to the useful comments from @VGR, I was able to come up with this solution to my problem in <code>build.gradle</code>:</p>\n\n<pre><code>def JLINK_DIR = \"$buildDir/myApp\"\n\ntasks.jlink.doLast {\n    copy {\n        from(\"/\") {\n            include \"README.md\", \"LICENSE\"\n        }\n        into JLINK_DIR + \"/docs\"\n    }\n    copy {\n        includeEmptyDirs = false\n        from(\"/path/to/sample/input\") {\n            include \"sample_input_1/*\"\n            include \"sample_input_2/*\"\n            exclude \"output\"\n        }\n        into JLINK_DIR + \"/sample_input\"\n    }\n}\n</code></pre>\n\n<p>The <a href=\"https://docs.gradle.org/4.10.3/dsl/org.gradle.api.tasks.Copy.html\" rel=\"nofollow noreferrer\">Gradle Docs on copy</a> and the <a href=\"https://badass-jlink-plugin.beryx.org/releases/latest/#examples\" rel=\"nofollow noreferrer\">Badass JLink Plugin examples</a> were especially helpful.</p>\n"}], "owner": {"reputation": 2295, "user_id": 3846321, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f8c812eb653064ab26a44ba72d58a745?s=128&d=identicon&r=PG&f=1", "display_name": "Gravity Grave", "link": "https://stackoverflow.com/users/3846321/gravity-grave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 360, "favorite_count": 0, "accepted_answer_id": 56801468, "answer_count": 1, "score": 2, "last_activity_date": 1561700478, "creation_date": 1561571236, "question_id": 56778477, "link": "https://stackoverflow.com/questions/56778477/how-to-bundle-extra-files-with-jlink-image", "title": "How to bundle extra files with jlink image", "body": "<p>I'm using Gradle with the <a href=\"https://badass-jlink-plugin.beryx.org/releases/latest/\" rel=\"nofollow noreferrer\">Badass JLink Plugin</a> to distribute my software. Unfortunately, I can't figure out how to include certain files in the image (e.g. README.md, some test input, etc.). I assume it requires some work in <code>build.gradle</code>, but I've so far not been able to figure it out.</p>\n\n<p>It's easy to do this using the <code>application</code> plugin's <code>distZip</code> functionality by following <a href=\"https://docs.gradle.org/4.10.3/userguide/application_plugin.html#sec:the_distribution\" rel=\"nofollow noreferrer\">these instructions</a>, but I prefer to distribute using a jlink image so users don't need to have Java installed.</p>\n\n<p>Is this even possible to do with jlink? If not, it seems like a huge drawback.</p>\n"}, {"tags": ["java", "arraylist"], "comments": [{"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1561571286, "post_id": 56778452, "comment_id": 100112090, "body": "Please see the <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> page. The question isn&#39;t clear; if you have a reference to the list already, and you want to create an object that references this list, either pass the reference to the object&#39;s constructor, or set it using a setter method. What&#39;s the specific issue you&#39;re having?"}, {"owner": {"reputation": 1, "user_id": 11638972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc9c37d59df3a5cd30c75cbe3d3a60fc?s=128&d=identicon&r=PG&f=1", "display_name": "Dany", "link": "https://stackoverflow.com/users/11638972/dany"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1561571481, "post_id": 56778452, "comment_id": 100112174, "body": "I have a List already created that adds the foods as they come in, but how do i create an object that references this list that I can use later without cloning/copying it?"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1561572570, "post_id": 56778452, "comment_id": 100112624, "body": "<code>SomeObject foo = new SomeObject(theListReference);</code> and its ctor takes a <code>List</code>? I&#39;m still unclear what the conceptual hurdle is."}, {"owner": {"reputation": 1, "user_id": 11638972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc9c37d59df3a5cd30c75cbe3d3a60fc?s=128&d=identicon&r=PG&f=1", "display_name": "Dany", "link": "https://stackoverflow.com/users/11638972/dany"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1561582062, "post_id": 56778452, "comment_id": 100116329, "body": "So in the new object class create a constructor that has the arraylist as a parameter?"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1561582142, "post_id": 56778452, "comment_id": 100116356, "body": "That is one option, as stated in the original comment. There are others. What makes the most &quot;sense&quot; depends on what you&#39;re actually doing. But your issue still eludes me--I don&#39;t understand what the problem is."}, {"owner": {"reputation": 1, "user_id": 11638972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc9c37d59df3a5cd30c75cbe3d3a60fc?s=128&d=identicon&r=PG&f=1", "display_name": "Dany", "link": "https://stackoverflow.com/users/11638972/dany"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1561582277, "post_id": 56778452, "comment_id": 100116429, "body": "Im trying to use the same memory space and not simply trying to copy the entire array since it would take memory space"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1561583028, "post_id": 56778452, "comment_id": 100116690, "body": "That&#39;s not my question--passing references to objects doesn&#39;t copy them (which can lead to a variety of entertaining bugs). I&#39;m trying to understand why this question is being asked, since this is pretty much just how Java works."}, {"owner": {"reputation": 1, "user_id": 11638972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc9c37d59df3a5cd30c75cbe3d3a60fc?s=128&d=identicon&r=PG&f=1", "display_name": "Dany", "link": "https://stackoverflow.com/users/11638972/dany"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1561584462, "post_id": 56778452, "comment_id": 100117213, "body": "I am learning ."}], "owner": {"reputation": 1, "user_id": 11638972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc9c37d59df3a5cd30c75cbe3d3a60fc?s=128&d=identicon&r=PG&f=1", "display_name": "Dany", "link": "https://stackoverflow.com/users/11638972/dany"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561571236, "creation_date": 1561571124, "last_edit_date": 1561571236, "question_id": 56778452, "link": "https://stackoverflow.com/questions/56778452/how-to-create-an-object-that-creates-a-reference-to-a-list", "title": "How to create an object that creates a reference to a List?", "body": "<p>I have a list of type food. I have created the object food. This list is an arraylist. I am trying to create an object that creates a reference to this List. Not sure what the best way to do this is.</p>\n"}, {"tags": ["java", "jpa", "persistence", "jpql"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 10356198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be250a319f6546657615a140739ba82b?s=128&d=identicon&r=PG&f=1", "display_name": "Pereira", "link": "https://stackoverflow.com/users/10356198/pereira"}, "edited": false, "score": 0, "creation_date": 1561985357, "post_id": 56783179, "comment_id": 100224290, "body": "Schneider thank you for feed back. I&#39;ll apply the tip."}], "tags": [], "owner": {"reputation": 29, "user_id": 11704038, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GhJbcZ0R5mM/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p4I4SGaDfUxq6by8EA_GAWS_5y9A/mo/photo.jpg?sz=128", "display_name": "Jonathan Schneider", "link": "https://stackoverflow.com/users/11704038/jonathan-schneider"}, "is_accepted": false, "score": 0, "last_activity_date": 1561603203, "creation_date": 1561603203, "answer_id": 56783179, "question_id": 56778443, "link": "https://stackoverflow.com/questions/56778443/what-best-practices-for-value-return-method-jpql/56783179#56783179", "title": "What best practices for value return method JPQL", "body": "<p>I used to create a DTO like this:</p>\n\n<pre><code>public class StockxDepositDTO {\n\n        private String deposit;\n        private String typeDeposit;\n\n        //with a constructor\n        public StockxDepositDTO(String deposit, String typeDeposit){\n             this.deposit = deposit;\n             this.typeDeposit = typeDeposit;\n    }\n}\n</code></pre>\n\n<p>So when you will get the data you can use this DTO instead resultset, like below:</p>\n\n<p>\"SELECT new com.stackoverflow.repository.StockxDepositDTO(c.bkLocationC,  d.bkStockTypeC ) FROM ....\"</p>\n\n<p>In result that you will receive a list of StockxDepositDTO with two fields that you need.</p>\n"}], "owner": {"reputation": 5, "user_id": 10356198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be250a319f6546657615a140739ba82b?s=128&d=identicon&r=PG&f=1", "display_name": "Pereira", "link": "https://stackoverflow.com/users/10356198/pereira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561603203, "creation_date": 1561571068, "last_edit_date": 1561574645, "question_id": 56778443, "link": "https://stackoverflow.com/questions/56778443/what-best-practices-for-value-return-method-jpql", "title": "What best practices for value return method JPQL", "body": "<p>I need to ask for a support, in this code I initially only need two fields, \nbut I'm not sure how best to return the query values \u200b\u200bto the method below if only the two fields or the entire object.</p>\n\n<p>Thanks in advance</p>\n\n<pre><code>  public LocalDE localizaPorItemstockdeposit(   final BigInteger ItemId, \n                                                  final BigInteger stockId, \n                                                  final BigInteger depositId){\n\n        StringBuilder sql = new StringBuilder();\n\n        sql.append(\" SELECT \")\n           .append(\"     c.bkLocationC, \")\n           .append(\"     d.bkStockTypeC \") \n           .append(\"   FROM LocalDE c \") \n           .append(\"     JOIN a.partsXWarehouseDE b \")\n           .append(\"     JOIN a.depositDE c  \")\n           .append(\"     JOIN a.TypedepositDE d \")\n           .append(\"   WHERE \")\n           .append(\"      a.ItemId = :ItemId AND\")\n           .append(\"      a.stockId = :stockId AND\") \n           .append(\"      a.bkdepositId  = :depositId \");         \n\n        TypedQuery&lt;LocalDE&gt; query = this.entityManager().createQuery(sql.toString(), LocalDE.class);\n\n        query.setParameter(\"ItemId\", ItemId);\n        query.setParameter(\"stockId\", stockId);\n        query.setParameter(\"depositId\", depositId);\n\n        @SuppressWarnings(\"unchecked\")\n        List lstitemxStockxDeposit = query.getResultList();\n        java.util.Iterator it = lstitemxStockxDeposit.iterator(); \n\n        LocalDE itemxStockxDeposit = new LocalDE();\n        depositDE deposit = new depositDE();\n        TypedepositDE  typeDeposit = new TypedepositDE();\n\n        while(it.hasNext()) {\n            Object[] resultitemxStockxDeposit =(Object[]) it.next();\n\n            deposit.setDepositDesc(String.valueOf(resultitemxStockxDeposit[0]));\n            typeDeposit.setTypeDepositDEsc(String.valueOf(resultitemxStockxDeposit[1]));\n\n            itemxStockxDeposit.setDepositDE(deposit);\n            itemxStockxDeposit.setTypeDepositDE(typeDeposit);\n        }\n\n        return itemxStockxDeposit;\n\n    }\n</code></pre>\n"}, {"tags": ["java", "jsoup"], "answers": [{"tags": [], "owner": {"reputation": 562, "user_id": 1120534, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/EaWmN.jpg?s=128&g=1", "display_name": "inquizitive", "link": "https://stackoverflow.com/users/1120534/inquizitive"}, "is_accepted": true, "score": 2, "last_activity_date": 1561580987, "last_edit_date": 1561580987, "creation_date": 1561571384, "answer_id": 56778509, "question_id": 56778407, "link": "https://stackoverflow.com/questions/56778407/cannot-scrape-price-from-website-with-jsoup/56778509#56778509", "title": "Cannot scrape price from website with Jsoup", "body": "<p>It's because you are getting the element with <strong>id</strong> <code>item_now_price</code> and not <strong>class</strong>.</p>\n\n<p>Looking into the URL that you've entered, the element with the price looks like below:</p>\n\n<pre><code>&lt;div class=\"item_now_price\" oriattrmin=\"0\" oriattrmax=\"0\" noworiprice=\"149.9\" oriprice=\"149.9\" oriprice3=\"146.7\" oriprice10=\"145.16\" oriprice30=\"143.64\" oriprice100=\"142.11\"&gt;US$149.90&lt;/div&gt;\n</code></pre>\n\n<p>The correct selector should be <code>Elements price = document.select(\"div.item_now_price\");</code></p>\n\n<p>Look into <a href=\"https://jsoup.org/cookbook/extracting-data/selector-syntax\" rel=\"nofollow noreferrer\">https://jsoup.org/cookbook/extracting-data/selector-syntax</a> for learning more about the selectors.</p>\n\n<p><strong>Update:</strong>\nSo, I've looked in your code and the reason you are not getting the price as output is that the price is loaded through another Ajax request. Unfortunately <code>jSoup</code> cannot help you here.</p>\n\n<p>For more information, look into this answer: <a href=\"https://stackoverflow.com/questions/20633294/fetch-contentsloaded-through-ajax-call-of-a-web-page\">Fetch contents(loaded through AJAX call) of a web page</a></p>\n"}], "owner": {"reputation": 47, "user_id": 10824812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2322cac8ba85e8c8c42df387d6aa4816?s=128&d=identicon&r=PG&f=1", "display_name": "a43ixus", "link": "https://stackoverflow.com/users/10824812/a43ixus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 56778509, "answer_count": 1, "score": 1, "last_activity_date": 1561580987, "creation_date": 1561570885, "last_edit_date": 1561575323, "question_id": 56778407, "link": "https://stackoverflow.com/questions/56778407/cannot-scrape-price-from-website-with-jsoup", "title": "Cannot scrape price from website with Jsoup", "body": "<p>I'm having project in college which I need to build a software that tracks item prices based on URLs that the user should enter (currently only from Banggood.com).</p>\n\n<p>I have just started to learn about scraping info from websites so I've manage to do that and I stuck just in the beginning. I managed to scrap the item title but unsuccessfull to do that with the item price. I upload my current code.</p>\n\n<p>I could not managed get the right info from Jsoup site nor Google</p>\n\n<pre><code>import java.io.IOException;\nimport java.util.Scanner;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.select.Elements;\n\npublic class ProjectLearning \n{\n    public static void main(String args[])\n    {\n        Scanner scan = new Scanner(System.in);\n\n        print(\"Please enter your item URL: \");\n        String userUrl = scan.next();\n        print(\"Give me a sec..\");\n\n        Document document;\n        try {\n            //Get Document object after parsing the html from given url.\n            document = Jsoup.connect(userUrl).get();\n\n            String title = document.title(); //Get title\n            print(\"Item name: \" + title); //Print title.\n\n            //Get price\n            Elements price = document.select(\"div#item_now_price\");\n\n            for (int i=0; i &lt; price.size(); i++) \n            {\n                print(price.get(i).text());\n            }\n\n        } catch (IOException e) \n        {\n            e.printStackTrace();\n        }\n        print(\"There you go\");\n    }\n\n    public static void print(String string) {\n        System.out.println(string);\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Please enter your item URL: \nhttps://www.banggood.com/3018-3-Axis-Mini-DIY-CNC-Router-Standard-Spindle-Motor-Wood-Engraving-Machine-Milling-Engraver-p-1274569.html?rmmds=flashdeals&amp;cur_warehouse=CN\n\nGive me a sec..\n\nItem name: 3018 3 axis mini diy cnc router standard spindle motor wood engraving machine milling engraver Sale - Banggood.com\n</code></pre>\n"}, {"tags": ["java", "mysql", "database", "h2"], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 11546284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bef5b4f8ec320ba509ed3dd1a94329a?s=128&d=identicon&r=PG&f=1", "display_name": "drMathwin", "link": "https://stackoverflow.com/users/11546284/drmathwin"}, "is_accepted": false, "score": 0, "last_activity_date": 1561640095, "creation_date": 1561640095, "answer_id": 56791518, "question_id": 56778305, "link": "https://stackoverflow.com/questions/56778305/insert-ignore-throws-primary-key-violation-using-h2-in-mysql-mode/56791518#56791518", "title": "INSERT IGNORE throws primary key violation using h2 in mysql mode", "body": "<p>Finally found a solution that doesn't involve constructing a batch statement of 100,000,000 records.  The issue was that I needed to both enforce that the refdocs I was inserting into document were not already in the document table, and also that I inserted only unique rows from the refdoc table.  All of my solutions prior to this either failed to eschew conflicts, failed to enforce uniqueness, or involved joins on tables which had no indices.</p>\n\n<p>Here's the solution SQL:</p>\n\n<pre><code>CREATE TABLE document (docid varchar NOT NULL, title varchar, abstract varchar, docType varchar NULL);\n\nCREATE TABLE refdoc (refid varchar NOT NULL, title varchar);\n\nINSERT INTO document (docid, title, abstract, docType)\nVALUES ('2-s2.0-0000098715', 'title', 'abstract', 'ab');\n\nINSERT INTO refdoc (refid, title)\nVALUES ('2-s2.0-0000098715', 'title'),\nVALUES ('2-s2.0-33947184743', 'title');\n\nINSERT IGNORE INTO document (docid, title)\nSELECT refid, MAX(title)\nFROM refdoc\nWHERE refid NOT IN (\nSELECT docid FROM document )\nGROUP BY refid;\n\nALTER TABLE document\nADD PRIMARY KEY (docid);\n\nALTER TABLE document\nADD FOREIGN KEY (docType) REFERENCES doctype(abbrev);\n</code></pre>\n\n<p>The logic is now:</p>\n\n<ul>\n<li>Create the documents table</li>\n<li>Create the referenced documents table</li>\n<li>Insert a record into the documents table</li>\n<li>Insert two records into the refdoc table, including a duplicate</li>\n<li>Insert the rows from refdoc which do not conflict with document and are unique</li>\n<li>Alter the documents table with a primary key</li>\n<li>Alter the documents table with a foreign key</li>\n</ul>\n\n<p>This has the added bonus of not indexing the documents table until after the inserts are completed.</p>\n\n<p>It's still not entirely clear to me why I was getting a primary key constraint violation on a table with no primary key, but that sounds like something to submit to the h2 github as a bug report.</p>\n"}], "owner": {"reputation": 33, "user_id": 11546284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bef5b4f8ec320ba509ed3dd1a94329a?s=128&d=identicon&r=PG&f=1", "display_name": "drMathwin", "link": "https://stackoverflow.com/users/11546284/drmathwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 501, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1561640095, "creation_date": 1561570459, "question_id": 56778305, "link": "https://stackoverflow.com/questions/56778305/insert-ignore-throws-primary-key-violation-using-h2-in-mysql-mode", "title": "INSERT IGNORE throws primary key violation using h2 in mysql mode", "body": "<p>I am scraping Scopus data into an h2 file database.  There are over 46,000,000 records in the data, and each is treated as distinct which means that hundreds of GB of data is repeated (hence the relational db).  In order to reduce the insert time of all this data, I initially create a set of temporary tables with no constraints and then copy the data into the real tables later using SELECT DISTINCT and GROUP BY to enforce uniqueness.</p>\n\n<p>The one exception to this is the documents table and the referenced documents table.  Due to the format of the data, I can guarantee that each record represents a unique document, so I can just INSERT INTO the documents table, and later concat only the rows from the referenced documents table which have IDs not already in the documents table.</p>\n\n<p>Here's the relevant code:</p>\n\n<pre><code>CREATE TABLE document (docid varchar NOT NULL, title varchar, abstract varchar, docType varchar NULL, ref boolean);\n\nCREATE TABLE refdoc (refid varchar NOT NULL, title varchar);\n\nINSERT INTO document (docid, title, abstract, docType, ref)\nVALUES ('2-s2.0-0000098715', 'title', 'abstract', 'ab', 'false');\n\nINSERT INTO refdoc (refid, title)\nVALUES ('2-s2.0-0000098715', 'title'),\nVALUES ('2-s2.0-33947184743', 'title');\n\nALTER TABLE document\nADD PRIMARY KEY (docid);\n\nALTER TABLE document\nADD FOREIGN KEY (docType) REFERENCES doctype(abbrev);\n\nINSERT IGNORE INTO document (docid, title, ref)\nSELECT refid, title, 'true' FROM refdoc;\n\n</code></pre>\n\n<ul>\n<li>Create the documents table</li>\n<li>Create the referenced documents table</li>\n<li>Insert a record into the documents table</li>\n<li>Insert two records into the refdoc table, including a duplicate</li>\n<li>Alter the documents table with a primary key</li>\n<li>Alter the documents table with a foreign key</li>\n<li>Insert the rows from refdoc which do not conflict with document</li>\n</ul>\n\n<p>The INSERT IGNORE query throws: org.h2.jdbc.JdbcSQLException: Unique index or primary key violation: \"CONSTRAINT_INDEX_6 ON PUBLIC.DOCUMENT(DOCID)</p>\n\n<p>I also tried using WHERE NOT EXISTS:</p>\n\n<pre><code>INSERT INTO document (docid, title, ref)\nSELECT refid, title, 'true'\nFROM refdoc\nWHERE NOT EXISTS (\nSELECT refid FROM refdoc\nINNER JOIN document\nON document.docid = refdoc.refid );\n</code></pre>\n\n<p>But it would seem that attempting to join tables that aren't indexed is effectively impossible - nothing I have attempted involving joins has worked.</p>\n\n<p>As a last resort I can use a FileHashMap and just dump the contents of the refdoc table and then construct a mega-huge PreparedStatement like:</p>\n\n<pre><code>INSERT INTO document (docid, title, ref)\nSELECT ?, ?, 'true'\nWHERE NOT EXISTS (\nSELECT docid FROM document\nWHERE docid = ? );\n</code></pre>\n\n<p>But I'd obviously rather not do that since it will take forever.</p>\n"}, {"tags": ["java", "apache-commons"], "comments": [{"owner": {"reputation": 562, "user_id": 1120534, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/EaWmN.jpg?s=128&g=1", "display_name": "inquizitive", "link": "https://stackoverflow.com/users/1120534/inquizitive"}, "edited": false, "score": 1, "creation_date": 1561570631, "post_id": 56778253, "comment_id": 100111812, "body": "Looking at the source of the method, it looks like you can enter a custom message, but not the type of the exception. You can also use the overloaded method to specify values for your message. <code>public static &lt;T&gt; T notNull(T object,                           String message, Object... values)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1562, "user_id": 2171276, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/937cd73ba365f7543d28ea8f123e39c3?s=128&d=identicon&r=PG", "display_name": "Leo", "link": "https://stackoverflow.com/users/2171276/leo"}, "edited": false, "score": 0, "creation_date": 1561598314, "post_id": 56779487, "comment_id": 100120142, "body": "I was intending to change the exception type ( my custom type), not the message, the optional vs the try/catch, I think try /catch is more universal. trying to do it with the apache commons API"}, {"owner": {"reputation": 173, "user_id": 10731216, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vzFAsBl8pc4/AAAAAAAAAAI/AAAAAAAAAIM/PlXBwdtzErk/photo.jpg?sz=128", "display_name": "HereAndBeyond", "link": "https://stackoverflow.com/users/10731216/hereandbeyond"}, "reply_to_user": {"reputation": 1562, "user_id": 2171276, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/937cd73ba365f7543d28ea8f123e39c3?s=128&d=identicon&r=PG", "display_name": "Leo", "link": "https://stackoverflow.com/users/2171276/leo"}, "edited": false, "score": 0, "creation_date": 1561621101, "post_id": 56779487, "comment_id": 100126457, "body": "As I mention in my answer: There is no more simpler way, than the way you have described in your question (if you are using Validate.notNull)."}], "tags": [], "owner": {"reputation": 173, "user_id": 10731216, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vzFAsBl8pc4/AAAAAAAAAAI/AAAAAAAAAIM/PlXBwdtzErk/photo.jpg?sz=128", "display_name": "HereAndBeyond", "link": "https://stackoverflow.com/users/10731216/hereandbeyond"}, "is_accepted": true, "score": 3, "last_activity_date": 1561576226, "last_edit_date": 1561576226, "creation_date": 1561575723, "answer_id": 56779487, "question_id": 56778253, "link": "https://stackoverflow.com/questions/56778253/is-it-possible-to-change-or-to-wrap-the-exception-when-using-validate-notnull/56779487#56779487", "title": "is it possible to change or to wrap the exception when using Validate.notNull()", "body": "<ol>\n<li>You can write something like that:</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>Validate.notNull(data, \"Data cannot be null\");\n</code></pre>\n\n<p>But you will be getting only NullPointerException with your message. This have been described here (at the top of article): <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.9/org/apache/commons/lang3/Validate.html\" rel=\"nofollow noreferrer\">http://commons.apache.org/proper/commons-lang/javadocs/api-3.9/org/apache/commons/lang3/Validate.html</a></p>\n\n<blockquote>\n  <p>An invalid null argument causes a NullPointerException.</p>\n</blockquote>\n\n<p>There is no more simpler way.</p>\n\n<ol start=\"2\">\n<li>Or you can use Optional. e.g.:</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>        Optional&lt;UserEntity&gt; userOptional = userService.findByUsername(username);\n        userOptional.orElseThrow(() -&gt; new UsernameNotFoundException(\"No user found with username \" + username));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1562, "user_id": 2171276, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/937cd73ba365f7543d28ea8f123e39c3?s=128&d=identicon&r=PG", "display_name": "Leo", "link": "https://stackoverflow.com/users/2171276/leo"}, "is_accepted": false, "score": 1, "last_activity_date": 1586411011, "creation_date": 1586411011, "answer_id": 61114675, "question_id": 56778253, "link": "https://stackoverflow.com/questions/56778253/is-it-possible-to-change-or-to-wrap-the-exception-when-using-validate-notnull/61114675#61114675", "title": "is it possible to change or to wrap the exception when using Validate.notNull()", "body": "<p>after some time of research we can conclude It is not possible.</p>\n"}], "owner": {"reputation": 1562, "user_id": 2171276, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/937cd73ba365f7543d28ea8f123e39c3?s=128&d=identicon&r=PG", "display_name": "Leo", "link": "https://stackoverflow.com/users/2171276/leo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 467, "favorite_count": 0, "accepted_answer_id": 56779487, "answer_count": 2, "score": 2, "last_activity_date": 1586411011, "creation_date": 1561570217, "last_edit_date": 1561571569, "question_id": 56778253, "link": "https://stackoverflow.com/questions/56778253/is-it-possible-to-change-or-to-wrap-the-exception-when-using-validate-notnull", "title": "is it possible to change or to wrap the exception when using Validate.notNull()", "body": "<p>I am talking about the Validate \nAPI in apache commons lang, I do not see anything in the <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/Validate.html#notNull(T)\" rel=\"nofollow noreferrer\">documentation</a></p>\n\n<p>I know the the following is possible</p>\n\n<pre><code>try { Validate.notNull(object) } catch (NullPointerException ex) { throw MyCustomException(ex) }\n</code></pre>\n\n<p>but I was looking for something more simple then the whole try/catch block.</p>\n"}, {"tags": ["java", "xml", "xml-signature"], "comments": [{"owner": {"reputation": 23625, "user_id": 2868801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec5567811049b7ce8192be0bc0246d1?s=128&d=identicon&r=PG&f=1", "display_name": "dave_thompson_085", "link": "https://stackoverflow.com/users/2868801/dave-thompson-085"}, "edited": false, "score": 0, "creation_date": 1561591656, "post_id": 56778210, "comment_id": 100119057, "body": "<code>BigInteger.toByteArray()</code> is <i>signed</i> (two&#39;s complement) and when the value is an exact multiple of 8 bits, which RSA moduli usually are chosen to be, requires a leading zero byte for the sign, whereas <code>ds:cryptoBinary</code> is unsigned minimum-length with no leading zero byte(s). Try checking for and removing the zero byte, or (creating and) using a key whose modulus is an odd number of bits like 2046 bits instead of 2048."}, {"owner": {"reputation": 33, "user_id": 9498151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f36ef33df692d5b51ffa0f4336094d3d?s=128&d=identicon&r=PG&f=1", "display_name": "stu33", "link": "https://stackoverflow.com/users/9498151/stu33"}, "reply_to_user": {"reputation": 23625, "user_id": 2868801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec5567811049b7ce8192be0bc0246d1?s=128&d=identicon&r=PG&f=1", "display_name": "dave_thompson_085", "link": "https://stackoverflow.com/users/2868801/dave-thompson-085"}, "edited": false, "score": 0, "creation_date": 1561647711, "post_id": 56778210, "comment_id": 100142361, "body": "@dave_thompson_085, that was it, thank you so much.  If you&#39;d like to re-post the comment as an answer, I&#39;ll accept it.  Again, thank you."}], "owner": {"reputation": 33, "user_id": 9498151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f36ef33df692d5b51ffa0f4336094d3d?s=128&d=identicon&r=PG&f=1", "display_name": "stu33", "link": "https://stackoverflow.com/users/9498151/stu33"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1561570067, "creation_date": 1561570067, "question_id": 56778210, "link": "https://stackoverflow.com/questions/56778210/mismatched-modulus-value-in-rsapubkey-elements", "title": "Mismatched modulus value in RSAPubKey Elements", "body": "<p>I am trying to present a copy of my RSAKeyValue in the subjectConfirmationData of my SAML assertion.  The KeyInfo-KeyValue-RSAKeyValue-Modulus text that I am Base64 encoding does not match what the value is in the java xmlsignature-created KeyInfo that signs the assertion.</p>\n\n<p>The assertion signature (this.rsaPubKey is of type RSAPublicKey):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// now we can sign it\nXMLSignatureFactory fac = XMLSignatureFactory.getInstance(\"DOM\");            \n\n// Create the DOMSignContext by specifying the signing informations: Private Key, Node to be signed, Where to insert the Signature.\nDOMSignContext dsc = new DOMSignContext(privateKey, assertionRoot, subject);\ndsc.setDefaultNamespacePrefix(\"ds\");\n\nKeyInfoFactory kif = fac.getKeyInfoFactory();\nKeyValue kv = kif.newKeyValue(this.rsaPubKey);\n</code></pre>\n\n<p>This is how I'm trying to create the KeyInfo in the subjectConfirmationData:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// - ds:KeyInfo\nElement keyInfo = securityDoc.createElementNS(\"http://www.w3.org/2000/09/xmldsig#\",\"ds:KeyInfo\");\nsubjectConfirmationData.appendChild(keyInfo);\n// - keyvalue\nElement keyValue = securityDoc.createElementNS(\"http://www.w3.org/2000/09/xmldsig#\",\"ds:KeyValue\");\nkeyInfo.appendChild(keyValue);\n// - RSAKeyValue\nElement rsaKeyValue = securityDoc.createElementNS(\"http://www.w3.org/2000/09/xmldsig#\",\"ds:RSAKeyValue\");\nkeyValue.appendChild(rsaKeyValue);\n// - modulus\nElement modulusKey = securityDoc.createElementNS(\"http://www.w3.org/2000/09/xmldsig#\",\"ds:Modulus\");\nmodulusKey.setTextContent(Base64.getEncoder().encodeToString(rsaPubKey.getModulus().toByteArray()));            \n// exponent\nElement exponentKey = securityDoc.createElementNS(\"http://www.w3.org/2000/09/xmldsig#\",\"ds:Exponent\");\nexponentKey.setTextContent(Base64.getEncoder().encodeToString(rsaPubKey.getPublicExponent().toByteArray()));\nrsaKeyValue.appendChild(exponentKey);\n</code></pre>\n\n<p>With this method, the resulting values in the  element do not match even closely.  What am I missing in my Base64 handling?</p>\n"}, {"tags": ["java"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 10831009, "user_type": "registered", "profile_image": "https://graph.facebook.com/126463031709337/picture?type=large", "display_name": "Nisa Yathu", "link": "https://stackoverflow.com/users/10831009/nisa-yathu"}, "edited": false, "score": 0, "creation_date": 1561570651, "post_id": 56778198, "comment_id": 100111820, "body": "Employee No auto No - i used ES001 like that . i tried your code it show the error of  java.sql.SQLException: Invalid value for getInt() - &#39;ES001&#39;"}, {"owner": {"reputation": 716, "user_id": 10547108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf1771693812171cd4aecc521094e76a?s=128&d=identicon&r=PG", "display_name": "fuggerjaki61", "link": "https://stackoverflow.com/users/10547108/fuggerjaki61"}, "reply_to_user": {"reputation": 43, "user_id": 10831009, "user_type": "registered", "profile_image": "https://graph.facebook.com/126463031709337/picture?type=large", "display_name": "Nisa Yathu", "link": "https://stackoverflow.com/users/10831009/nisa-yathu"}, "edited": false, "score": 0, "creation_date": 1561641931, "post_id": 56778198, "comment_id": 100138567, "body": "Then try <i>getString(&quot;<b>your table name</b>&quot;)</i> or what type &#39;ES001&#39; is and make a function which increase this value and these are postgresql commands so you may have them changed a bit"}], "tags": [], "owner": {"reputation": 716, "user_id": 10547108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf1771693812171cd4aecc521094e76a?s=128&d=identicon&r=PG", "display_name": "fuggerjaki61", "link": "https://stackoverflow.com/users/10547108/fuggerjaki61"}, "is_accepted": false, "score": 0, "last_activity_date": 1561570030, "creation_date": 1561570030, "answer_id": 56778198, "question_id": 56778045, "link": "https://stackoverflow.com/questions/56778045/should-not-add-the-existing-empno-into-the-database-using-java-and-mysql/56778198#56778198", "title": "Should not Add the Existing Empno into the database using java and mysql", "body": "<p>If I understood it right you want to increase the ID values of some workers.</p>\n\n<pre><code>    Connection con = null;\n    Statement stmt = null;\n    int id = 0;\n\n    try {\n        Class.forName(\"org.postgresql.Driver\");\n        con = DriverManager.getConnection(\"url\", \"username\", \"pwd\");\n        con.setAutoCommit(true);\n        stmt = con.createStatement();\n\n        ResultSet rs = stmt.executeQuery(\"SELECT id FROM userlist ORDER BY id DESC LIMIT 1\");\n\n        while (rs.next()) {\n            id = rs.getInt(\"id\");\n        }\n\n        id++;\n        stmt.execute(\"INSERT INTO userlist (id) VALUES (\" + String.valueOf(id) + \");\");\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>I used postgresql so you have to change the queries a bit. The principle is getting the worker with the highest ID, increment the ID by one and rewrite the new ID with maybe other data.</p>\n\n<p>I hope I could help you</p>\n"}], "owner": {"reputation": 43, "user_id": 10831009, "user_type": "registered", "profile_image": "https://graph.facebook.com/126463031709337/picture?type=large", "display_name": "Nisa Yathu", "link": "https://stackoverflow.com/users/10831009/nisa-yathu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1561570030, "creation_date": 1561569406, "last_edit_date": 1561569773, "question_id": 56778045, "link": "https://stackoverflow.com/questions/56778045/should-not-add-the-existing-empno-into-the-database-using-java-and-mysql", "title": "Should not Add the Existing Empno into the database using java and mysql", "body": "<p>i am creating a simple employee payroll system leave part. I am ran into the problem with when i add the leave information for employee. all leave information will add all the employees who works on the company. when the new employee comes if i add the leave information for the new employee the leave information again add into the existing employee also.i need to add only new employee only leave information how to do the task.existing record not added again.</p>\n\n<p><a href=\"https://i.stack.imgur.com/OwJJK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OwJJK.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>employee table</p>\n\n<p><a href=\"https://i.stack.imgur.com/fn8wq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fn8wq.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>leave table</p>\n\n<p><a href=\"https://i.stack.imgur.com/zgE45.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zgE45.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>this is code which i tried for but no error but not working.</p>\n\n<pre><code> String cas = txtcas.getValue().toString();\n         String anu = txtanu.getValue().toString();\n         String med = txtmed.getValue().toString();\n         String year = txtyear.getText();\n\n        try {\n            int c;\n            Class.forName(\"com.mysql.jdbc.Driver\");\n            con = DriverManager.getConnection(\"jdbc:mysql://localhost/spay\",\"root\",\"\");\n           PreparedStatement pst1 = con.prepareStatement(\"select empno from registation\");\n            ResultSet rs = pst1.executeQuery();\n             String empNoValue1 = rs.getString(\"empno\");\n            PreparedStatement pst2 = con.prepareStatement(\"select empno from leaves\");  \n            String empNoValue = rs.getString(\"empno\");\n            ResultSet rs1 = pst2.executeQuery();\n\n            while (rs.next()) {\n\n                if(rs1.next())\n\n                {\n                    if(empNoValue1.equals(empNoValue))\n                    {\n\n                    }\n\n\n\n                }\n                else\n                {\n\n                pst = con.prepareStatement(\"insert into leaves(empno,casual,annual,medical,year)values(?,?,?,?,?)\");\n                pst.setString(1,empNoValue); // employee no how to give \n                pst.setString(2, cas);\n                pst.setString(3, anu);\n                pst.setString(4, med);\n                pst.setString(5, year);         \n                pst.executeUpdate();\n                }\n\n\n\n           }    \n                JOptionPane.showMessageDialog(null,\"Leave Insertedddddd\");\n</code></pre>\n"}, {"tags": ["java", "apache-kafka", "confluent-platform"], "answers": [{"tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": false, "score": 1, "last_activity_date": 1598301628, "last_edit_date": 1598301628, "creation_date": 1561582015, "answer_id": 56780648, "question_id": 56778016, "link": "https://stackoverflow.com/questions/56778016/using-confluent-avro-serializer-in-java-nosuchfielderror-password/56780648#56780648", "title": "Using confluent avro serializer in Java - NoSuchFieldError: PASSWORD", "body": "<p>I've seen this error when mixing versions.</p>\n<p>You should only need this as the common util, client, rest-utils, etc, are all transitive dependencies</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt;\n        &lt;version&gt;5.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://docs.confluent.io/current/app-development/index.html#native-clients-with-serializers\" rel=\"nofollow noreferrer\">https://docs.confluent.io/current/app-development/index.html#native-clients-with-serializers</a></p>\n<p>Remove the rest of the dependencies, or at least create a property for the version and re-use it</p>\n"}], "owner": {"reputation": 19, "user_id": 8894071, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Hal-_FnIyJQ/AAAAAAAAAAI/AAAAAAAAAB4/TZj2TJfUCUs/photo.jpg?sz=128", "display_name": "Rahul Singh Bhadouria", "link": "https://stackoverflow.com/users/8894071/rahul-singh-bhadouria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1014, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1598301628, "creation_date": 1561569281, "last_edit_date": 1561582197, "question_id": 56778016, "link": "https://stackoverflow.com/questions/56778016/using-confluent-avro-serializer-in-java-nosuchfielderror-password", "title": "Using confluent avro serializer in Java - NoSuchFieldError: PASSWORD", "body": "<p>I'm using confluent avro producer in java but while running it getting below issue.I have added all the required jar .Don't have any clue what did i miss?</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchFieldError: PASSWORD\n    at io.confluent.kafka.serializers.AbstractKafkaAvroSerDeConfig.baseConfigDef(AbstractKafkaAvroSerDeConfig.java:92)\n    at io.confluent.kafka.serializers.KafkaAvroSerializerConfig.&lt;clinit&gt;(KafkaAvroSerializerConfig.java:28)\n    at io.confluent.kafka.serializers.KafkaAvroSerializer.configure(KafkaAvroSerializer.java:48)\n    at org.apache.kafka.common.serialization.ExtendedSerializer$Wrapper.configure(ExtendedSerializer.java:60)\n    at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:341)\n    at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:302)\n</code></pre>\n\n<p>I have tried with below configurations.</p>\n\n<pre><code>Properties prop = new Properties();\n        prop.put(\"bootstrap.servers\", \"localhost:9092\");\n        prop.put(\"schema.registry.url\", \"http://localhost:8081\");\n        //prop.put(\"basic.auth.user.info\", \"\");\n        prop.put(\"ssl.keystore.type\",null);\n        prop.put(\"acks\", \"all\");\n        prop.put(\"retries\", \"0\");\n        prop.put(\"key.serializer\", \"io.confluent.kafka.serializers.KafkaAvroSerializer\");\n        prop.put(\"value.serializer\", \"io.confluent.kafka.serializers.KafkaAvroSerializer\");\n        prop.put(\"group.id\", \"test\");\n</code></pre>\n\n<blockquote>\n  <p>These are the dependency which i used it.All the jars with latest version.</p>\n</blockquote>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-schema-registry&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.confluent/common-config --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n            &lt;artifactId&gt;common-config&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.confluent/common-utils --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n            &lt;artifactId&gt;common-utils&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.confluent/kafka-connect-avro-converter --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-connect-avro-converter&lt;/artifactId&gt;\n            &lt;version&gt;5.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.confluent/kafka-schema-registry-client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-schema-registry-client&lt;/artifactId&gt;\n            &lt;version&gt;5.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.confluent.kafka/connect-utils --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.confluent.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;connect-utils&lt;/artifactId&gt;\n            &lt;version&gt;0.1.18&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.confluent.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;connect-checkstyle&lt;/artifactId&gt;\n            &lt;version&gt;0.1.18&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.confluent/rest-utils --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-utils&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}, {"tags": ["java", "input", "output", "java.util.scanner"], "comments": [{"owner": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 0, "creation_date": 1561569202, "post_id": 56777835, "comment_id": 100111129, "body": "What&#39;s the point of having these two <code>console.next();</code> before the <code>while</code> loops?"}], "answers": [{"tags": [], "owner": {"reputation": 5399, "user_id": 3248412, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3yGCF.jpg?s=128&g=1", "display_name": "vs97", "link": "https://stackoverflow.com/users/3248412/vs97"}, "is_accepted": false, "score": 0, "last_activity_date": 1561569270, "creation_date": 1561569270, "answer_id": 56778013, "question_id": 56777835, "link": "https://stackoverflow.com/questions/56777835/scanner-input-output-formatting-wrong/56778013#56778013", "title": "Scanner input/output formatting wrong", "body": "<p>Remove the <code>console.next()</code> before the while loop altogether, you dont need it. You will then have the required output. When you have the <code>console.next()</code>, you are looking for and returning another complete token, which you simply don't need in your case.</p>\n\n<pre><code>        Scanner console = new Scanner(System.in);\n        System.out.print(\"Type your age: \");\n        while (!console.hasNextInt()) {\n            System.out.print(\"Type your age: \");\n            console.next();\n        }\n\n        int age = console.nextInt();\n\n        System.out.print(\"Type your GPA: \");\n\n        while (!console.hasNextDouble()) {\n            System.out.print(\"Type your GPA: \");\n            console.next();\n        }\n\n        double gpa = console.nextDouble();\n        System.out.println(\"age = \" + age + \", GPA = \" + gpa);\n</code></pre>\n"}], "owner": {"reputation": 245, "user_id": 4515743, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh4.googleusercontent.com/-zlJUvBGhbNY/AAAAAAAAAAI/AAAAAAAAAGY/SFUNOfZNWMs/photo.jpg?sz=128", "display_name": "Edson", "link": "https://stackoverflow.com/users/4515743/edson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1561569270, "creation_date": 1561568521, "question_id": 56777835, "link": "https://stackoverflow.com/questions/56777835/scanner-input-output-formatting-wrong", "title": "Scanner input/output formatting wrong", "body": "<p>This code is returning the right end result, but the formatting of the inputs and outputs in the console is not correct.</p>\n\n<p>Here's the desired outcome:</p>\n\n<pre><code>Type your age: hello\nType your age: ?\nType your age: 3.14\nType your age: 25\nType your GPA: a\nType your GPA: bcd\nType your GPA: 2.5\nage = 25, GPA = 2.5\n</code></pre>\n\n<p>The program keeps asking for age and GPA respectively until it gets the correct inputs, and then prints them.</p>\n\n<p>Here's What I'm getting: </p>\n\n<pre><code>Type your age: hello\nType your age: ?\nType your age: 3.14\n25\nType your GPA: a\nType your GPA: bcd\n2.5\nage = 25, GPA = 2.5\n</code></pre>\n\n<p>As you can see, same result, but the formatting is incorrect. I'm certain it has to do with the way I'm using the scanner object, but my understanding of Scanner is currently limited.</p>\n\n<p>Here's the bare code:</p>\n\n<pre><code>Scanner console = new Scanner(System.in);\nSystem.out.print(\"Type\u00a0your\u00a0age:\u00a0\");\nconsole.next();\nwhile (!console.hasNextInt()) {\n  System.out.print(\"Type your age: \");\n  console.next();\n}\nint age = console.nextInt();\n\nSystem.out.print(\"Type your GPA: \");\nconsole.next();\nwhile (!console.hasNextDouble()) {\n  System.out.print(\"Type your GPA: \");\n  console.next();\n}\ndouble gpa = console.nextDouble();\nSystem.out.println(\"age = \" + age + \", GPA = \" + gpa);\n</code></pre>\n"}, {"tags": ["java", "android", "android-activity", "startactivityforresult"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11699250, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VLhdqzRtKjo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdNbPMMBHlhqQROTEv9BJkJV2cIGg/photo.jpg?sz=128", "display_name": "Dennis Simon", "link": "https://stackoverflow.com/users/11699250/dennis-simon"}, "edited": false, "score": 0, "creation_date": 1561572732, "post_id": 56778549, "comment_id": 100112694, "body": "thanks that helped a lot, can you tell me what this does? the resultCode in MainActivity is now -1, data is still null though, but now I have a new hint to continue on it"}, {"owner": {"reputation": 3, "user_id": 11699250, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VLhdqzRtKjo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdNbPMMBHlhqQROTEv9BJkJV2cIGg/photo.jpg?sz=128", "display_name": "Dennis Simon", "link": "https://stackoverflow.com/users/11699250/dennis-simon"}, "edited": false, "score": 0, "creation_date": 1561573183, "post_id": 56778549, "comment_id": 100112901, "body": "okay it actually solved all my problems, thanks again. can you explain my mistake to me nevertheless?"}, {"owner": {"reputation": 2956, "user_id": 8430649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e074258011c72401b1f2f3939f3689c?s=128&d=identicon&r=PG&f=1", "display_name": "S-Sh", "link": "https://stackoverflow.com/users/8430649/s-sh"}, "reply_to_user": {"reputation": 3, "user_id": 11699250, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VLhdqzRtKjo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdNbPMMBHlhqQROTEv9BJkJV2cIGg/photo.jpg?sz=128", "display_name": "Dennis Simon", "link": "https://stackoverflow.com/users/11699250/dennis-simon"}, "edited": false, "score": 0, "creation_date": 1561573863, "post_id": 56778549, "comment_id": 100113208, "body": "@DennisSimon, the internal implementation of <code>onBackPressed</code> includes <code>finish()</code> statement. So, you should set result <b>before</b> calling it."}, {"owner": {"reputation": 2956, "user_id": 8430649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e074258011c72401b1f2f3939f3689c?s=128&d=identicon&r=PG&f=1", "display_name": "S-Sh", "link": "https://stackoverflow.com/users/8430649/s-sh"}, "reply_to_user": {"reputation": 3, "user_id": 11699250, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VLhdqzRtKjo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdNbPMMBHlhqQROTEv9BJkJV2cIGg/photo.jpg?sz=128", "display_name": "Dennis Simon", "link": "https://stackoverflow.com/users/11699250/dennis-simon"}, "edited": false, "score": 0, "creation_date": 1561573918, "post_id": 56778549, "comment_id": 100113245, "body": "Best wishes, and accept the answer please, if it heally helps"}], "tags": [], "owner": {"reputation": 2956, "user_id": 8430649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e074258011c72401b1f2f3939f3689c?s=128&d=identicon&r=PG&f=1", "display_name": "S-Sh", "link": "https://stackoverflow.com/users/8430649/s-sh"}, "is_accepted": true, "score": 0, "last_activity_date": 1561571594, "creation_date": 1561571594, "answer_id": 56778549, "question_id": 56777834, "link": "https://stackoverflow.com/questions/56777834/resultcode-has-value-1-after-a-buttonpress-and-finish-but-0-after-backbutton/56778549#56778549", "title": "resultCode has value -1 after a buttonpress and finish() but 0 after backbutton pressed even with same code in corresponding functions", "body": "<p>Try set result before <code>onBackPressed</code> of superclass calling:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>     @Override\n     public void onBackPressed() {\n        back.putExtra(\"ANSWER\", answer.getText().toString());\n        back.putExtra(\"QUESTION_ID\", questionId);\n        setResult(RESULT_OK, back);\n        super.onBackPressed();\n     }\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11699250, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VLhdqzRtKjo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdNbPMMBHlhqQROTEv9BJkJV2cIGg/photo.jpg?sz=128", "display_name": "Dennis Simon", "link": "https://stackoverflow.com/users/11699250/dennis-simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 56778549, "answer_count": 1, "score": 0, "last_activity_date": 1561571594, "creation_date": 1561568520, "question_id": 56777834, "link": "https://stackoverflow.com/questions/56777834/resultcode-has-value-1-after-a-buttonpress-and-finish-but-0-after-backbutton", "title": "resultCode has value -1 after a buttonpress and finish() but 0 after backbutton pressed even with same code in corresponding functions", "body": "<p>I have a RecyclerView with its Adapter.class in a separate file but the onClickListener in the adapter starts the second Activity just fine with startActivityForResult. When I have the users input I want the app to send back the data to the first Activity which only works when the user uses a button I provided, but not when he uses the backbutton even when it runs the same code in the corresponding functions.</p>\n\n<p>i copied the exact same code from the button to onBackPressed, onPause and onDestroy but on Destroy gets run too late, and the other two lead to resultCode being 0 and data being null in Activity 1. I have changed setResult and its arguments to all possible variants I found(RESULT_OK+Intent, Activity.RESULT_OK+Intent and just RESULT_OK).</p>\n\n<p>back = new Intent(this, MainActivity.class);</p>\n\n<pre><code>btnBack.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                back.putExtra(\"ANSWER\", answer.getText().toString());\n                back.putExtra(\"QUESTION_ID\", questionId);\n                setResult(RESULT_OK, back);\n                finish();\n            }\n         });\n@Override\n     public void onBackPressed() {\n        super.onBackPressed();\n        back.putExtra(\"ANSWER\", answer.getText().toString());\n        back.putExtra(\"QUESTION_ID\", questionId);\n        setResult(RESULT_OK, back);\n     }\n@Override\n    protected void onPause() {\n        super.onPause();\n        back.putExtra(\"ANSWER\", answer.getText().toString());\n        back.putExtra(\"QUESTION_ID\", questionId);\n        setResult(RESULT_OK, back);\n    }\n</code></pre>\n\n<p>if I use the Button it passes the data and sets the resultCode to -1 just fine but when I don't use the button but the backbutton resultCode = 0 and data in on ActivityResult is null. I don't know what makes the difference</p>\n"}, {"tags": ["java", "android", "directory"], "answers": [{"comments": [{"owner": {"reputation": 210, "user_id": 11400064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e2c5f25a69782aae352018c73d71539?s=128&d=identicon&r=PG&f=1", "display_name": "sgClaudia98", "link": "https://stackoverflow.com/users/11400064/sgclaudia98"}, "edited": false, "score": 0, "creation_date": 1561569038, "post_id": 56777859, "comment_id": 100111061, "body": "Thank you very much for your response, I had been searching for an answer for a long time."}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 0, "last_activity_date": 1561569079, "last_edit_date": 1561569079, "creation_date": 1561568605, "answer_id": 56777859, "question_id": 56777815, "link": "https://stackoverflow.com/questions/56777815/how-to-get-the-list-of-files-in-a-directory-in-android/56777859#56777859", "title": "How to get the list of files in a directory in Android?", "body": "<blockquote>\n  <p>The example below is working with a Intent to get the directory path.</p>\n</blockquote>\n\n<p>No, it is using <code>ACTION_OPEN_DOCUMENT_TREE</code> to get a document tree. This may or may not represent a directory on the filesystem.</p>\n\n<p>The simplest way to work with the <code>Uri</code> returned by <code>ACTION_OPEN_DOCUMENT_TREE</code> is to use <code>DocumentFile.fromTreeUri()</code>. Then, you can call <code>listFiles()</code> on it to get <code>DocumentFile</code> objects pointing to the documents (and sub-trees) within that tree.</p>\n"}], "owner": {"reputation": 210, "user_id": 11400064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e2c5f25a69782aae352018c73d71539?s=128&d=identicon&r=PG&f=1", "display_name": "sgClaudia98", "link": "https://stackoverflow.com/users/11400064/sgclaudia98"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 56777859, "answer_count": 1, "score": 0, "last_activity_date": 1561571147, "creation_date": 1561568434, "last_edit_date": 1561571147, "question_id": 56777815, "link": "https://stackoverflow.com/questions/56777815/how-to-get-the-list-of-files-in-a-directory-in-android", "title": "How to get the list of files in a directory in Android?", "body": "<p>I want to list all images in a directory to make a gallery. The example below is working with the Intent to get the directory path.</p>\n\n<p>I have tried the <code>listFiles()</code> method but it returns null.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    //Permision Request\n    ActivityCompat.requestPermissions(MainActivity.this,\n            new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},\n            1);\n    initialize();\n}\n\n//For the Intent to get Folder\nprivate void initialize() {\n    Intent i = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\n    i.addCategory(Intent.CATEGORY_DEFAULT);\n    startActivityForResult(Intent.createChooser(i, \"Choose directory\"), 9999);\n}\n\npublic void onActivityResult(int requestCode, int resultCode, Intent data) {\n    switch(requestCode) {\n        case 9999:\n            //File myFile = new File(data.getData().toString());\n            String path = data.getData().toString();\n            //View the path\n            Log.i(\"Test\", \"Result URI \" + path);\n            Toast.makeText(getApplicationContext(), \"Result URI \" +data.getData().toString(), Toast.LENGTH_LONG).show();\n\n            //Creating new File for the directory\n            File directory = new File(path);\n            File[] files = directory.listFiles();\n\n            Log.d(\"Files\", \"Size: \"+ files.length);\n            for (int i = 0; i &lt; files.length; i++)\n            {\n                //Show the name of the files in the directory\n                Log.d(\"Files\", \"FileName:\" + files[i].getName());\n            }\n\n            break;\n    }\n}\n</code></pre>\n\n<p>in the manifest I also have the permission to read external storage</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n</code></pre>\n\n<p>Is expected to return de name of the files in the directory but instead returns this error:</p>\n\n<pre><code>Caused by: java.lang.NullPointerException: Attempt to get the length of null array\n    at cu.edu.cujae.citi.folderpicker.MainActivity.workWithFile(MainActivity.java:59)\n    at cu.edu.cujae.citi.folderpicker.MainActivity.onActivityResult(MainActivity.java:49)\n    at android.app.Activity.dispatchActivityResult(Activity.java:6932)\n    at android.app.ActivityThread.deliverResults(ActivityThread.java:4085)\n    at android.app.ActivityThread.handleSendResult(ActivityThread.java:4132)\u00a0\n    at android.app.ActivityThread.-wrap20(ActivityThread.java)\u00a0\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1533)\u00a0\n    at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n    at android.os.Looper.loop(Looper.java:154)\u00a0\n    at android.app.ActivityThread.main(ActivityThread.java:6119)\u00a0\n    at java.lang.reflect.Method.invoke(Native Method)\u00a0\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\u00a0\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\n</code></pre>\n"}, {"tags": ["java", "hive", "hiveql"], "comments": [{"owner": {"reputation": 6191, "user_id": 3829426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c17e59aafd2b709c8368a3504c283a9?s=128&d=identicon&r=PG&f=1", "display_name": "hlagos", "link": "https://stackoverflow.com/users/3829426/hlagos"}, "edited": false, "score": 1, "creation_date": 1561603324, "post_id": 56777765, "comment_id": 100120937, "body": "you should include your query .."}, {"owner": {"reputation": 1, "user_id": 7321300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/894c7aa64224c5a01d44202107f15eef?s=128&d=identicon&r=PG&f=1", "display_name": "bala_mahesh", "link": "https://stackoverflow.com/users/7321300/bala-mahesh"}, "reply_to_user": {"reputation": 6191, "user_id": 3829426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c17e59aafd2b709c8368a3504c283a9?s=128&d=identicon&r=PG&f=1", "display_name": "hlagos", "link": "https://stackoverflow.com/users/3829426/hlagos"}, "edited": false, "score": 0, "creation_date": 1561636423, "post_id": 56777765, "comment_id": 100135074, "body": "attached the query, please check"}], "owner": {"reputation": 1, "user_id": 7321300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/894c7aa64224c5a01d44202107f15eef?s=128&d=identicon&r=PG&f=1", "display_name": "bala_mahesh", "link": "https://stackoverflow.com/users/7321300/bala-mahesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561636382, "creation_date": 1561568259, "last_edit_date": 1561636382, "question_id": 56777765, "link": "https://stackoverflow.com/questions/56777765/hive-query-throwing-semantic-exception-if-partitions-in-where-condition-exceed-s", "title": "Hive Query throwing Semantic exception if partitions in where condition exceed some number(30 in my case) and succeeding if partitons are less than 30", "body": "<p>I am running the hive query and getting the below exception </p>\n\n<pre><code>.HiveSQLException: Error while compiling statement: FAILED: SemanticException MetaException(message:The arguments for IN should be the same type!Types are: {struct&lt;col1:string,col2:string,col3:string&gt; IN (struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;..{No.of partitions I give here}\n</code></pre>\n\n<p>How ever same query is running if I reduce the number of partitions in where condition.\nI am not sure where it is failing, but one thing I understood is it's checking partitions information in hive metastore and failing at some points.</p>\n\n<p>My table is partitioned on year, month and day with a string data type. Any insights why this happen?</p>\n\n<p>I have tried with changing the number of partitions to be used in where condition</p>\n\n<pre><code>Caused by: org.apache.hive.service.cli.HiveSQLException: Error while compiling statement: FAILED: SemanticException MetaException(message:The arguments for IN should be the same type! Types are: {struct&lt;col1:string,col2:string,col3:string&gt; IN (struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;, struct&lt;col1:int,col2:int,col3:int&gt;)})\n    at org.apache.hive.service.cli.operation.Operation.toSQLException(Operation.java:315)\n    at org.apache.hive.service.cli.operation.SQLOperation.prepare(SQLOperation.java:112)\n    at org.apache.hive.service.cli.operation.SQLOperation.runInternal(SQLOperation.java:181)\n\n</code></pre>\n\n<p>Query:</p>\n\n<pre><code>SELECT\n\n`id` as `id`,\n`source_id` as `source_id`,\n`source` as `source`,\n`created_at` as `created_at`,\n`updated_at` as `updated_at`,\n`deleted_at` as `deleted_at`,\n`is_done` as `is_done` ,year,month,day\n    FROM\n      (SELECT RANK() OVER w AS rnk,\n                          ROW_NUMBER() OVER w AS row_num,\n                                            t1.*\n       FROM\n         (\n              SELECT *\n              FROM `test.metrics`\n               WHERE ((YEAR = 2019 AND MONTH = 5 AND DAY=21) OR (YEAR = 2019 AND MONTH = 5 AND DAY=22) OR (YEAR = 2019 AND MONTH = 5 AND DAY=23) OR (YEAR = 2019 AND MONTH = 5 AND DAY=24) OR (YEAR = 2019 AND MONTH = 5 AND DAY=20) OR (YEAR = 2019 AND MONTH = 5 AND DAY=18) OR (YEAR = 2019 AND MONTH = 5 AND DAY=19) OR (YEAR = 2019 AND MONTH = 5 AND DAY=25) OR (YEAR = 2019 AND MONTH = 5 AND DAY=26) OR (YEAR = 2019 AND MONTH = 5 AND DAY=16) OR (YEAR = 2019 AND MONTH = 5 AND DAY=17))\n        UNION ALL\n          SELECT\ncast( data[\"id\"]  as INT) as `id`,\ncast( data[\"source_id\"]  as INT) as `source_id`,\ndata[\"source\"]  as `source`,\ndata[\"created_at\"]  as `created_at`,\ndata[\"updated_at\"]  as `updated_at`,\ndata[\"deleted_at\"]  as `deleted_at`,\ncast( data[\"is_done\"]  as SMALLINT) as `is_done`\n              ,YEAR(data[\"created_at\"] ) as `year`,\nMONTH(data[\"created_at\"] ) as `month`,\nDAY(data[\"created_at\"] ) as `day`\n              FROM temp.metrics\n               WHERE ((YEAR = 2019 AND MONTH = 5 AND DAY=9) OR (YEAR = 2019 AND MONTH = 5 AND DAY=8) OR (YEAR = 2019 AND MONTH = 5 AND DAY=7) OR (YEAR = 2019 AND MONTH = 5 AND DAY=6) OR (YEAR = 2019 AND MONTH = 5 AND DAY=5) OR (YEAR = 2019 AND MONTH = 4 AND DAY=26) OR (YEAR = 2019 AND MONTH = 4 AND DAY=27) OR (YEAR = 2019 AND MONTH = 4 AND DAY=25) OR (YEAR = 2019 AND MONTH = 4 AND DAY=28) OR (YEAR = 2019 AND MONTH = 4 AND DAY=29) OR (YEAR = 2019 AND MONTH = 5 AND DAY=10) OR (YEAR = 2019 AND MONTH = 5 AND DAY=11) OR (YEAR = 2019 AND MONTH = 5 AND DAY=12) OR (YEAR = 2019 AND MONTH = 5 AND DAY=13) OR (YEAR = 2019 AND MONTH = 5 AND DAY=18) OR (YEAR = 2019 AND MONTH = 5 AND DAY=19) OR (YEAR = 2019 AND MONTH = 5 AND DAY=14) OR (YEAR = 2019 AND MONTH = 5 AND DAY=15) OR (YEAR = 2019 AND MONTH = 5 AND DAY=16) OR (YEAR = 2019 AND MONTH = 5 AND DAY=17) OR (YEAR = 2019 AND MONTH = 4 AND DAY=30) OR (YEAR = 2019 AND MONTH = 5 AND DAY=21) OR (YEAR = 2019 AND MONTH = 5 AND DAY=22) OR (YEAR = 2019 AND MONTH = 5 AND DAY=23) OR (YEAR = 2019 AND MONTH = 5 AND DAY=24) OR (YEAR = 2019 AND MONTH = 5 AND DAY=20) OR (YEAR = 2019 AND MONTH = 5 AND DAY=4) OR (YEAR = 2019 AND MONTH = 5 AND DAY=3) OR (YEAR = 2019 AND MONTH = 5 AND DAY=2) OR (YEAR = 2019 AND MONTH = 5 AND DAY=1) OR (YEAR = 2019 AND MONTH = 5 AND DAY=25) OR (YEAR = 2019 AND MONTH = 5 AND DAY=26))\n          ) t1\n          WINDOW w AS  (PARTITION BY id\n                                            ORDER BY updated_at DESC)\n      )t\n    WHERE rnk =1 AND row_num =1  AND ((YEAR = 2019 AND MONTH = 5 AND DAY=21) OR (YEAR = 2019 AND MONTH = 5 AND DAY=22) OR (YEAR = 2019 AND MONTH = 5 AND DAY=23) OR (YEAR = 2019 AND MONTH = 5 AND DAY=24) OR (YEAR = 2019 AND MONTH = 5 AND DAY=20) OR (YEAR = 2019 AND MONTH = 5 AND DAY=18) OR (YEAR = 2019 AND MONTH = 5 AND DAY=19) OR (YEAR = 2019 AND MONTH = 5 AND DAY=25) OR (YEAR = 2019 AND MONTH = 5 AND DAY=26) OR (YEAR = 2019 AND MONTH = 5 AND DAY=16) OR (YEAR = 2019 AND MONTH = 5 AND DAY=17))  DISTRIBUTE BY year,month,day\n</code></pre>\n"}, {"tags": ["java", "postgresql", "glassfish"], "comments": [{"owner": {"reputation": 365, "user_id": 9005151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sRCoh.png?s=128&g=1", "display_name": "German Burgardt", "link": "https://stackoverflow.com/users/9005151/german-burgardt"}, "edited": false, "score": 0, "creation_date": 1561569446, "post_id": 56777739, "comment_id": 100111251, "body": "You have created the resource and the pool that indicates there in the log? Does the pool ping?"}, {"owner": {"reputation": 29, "user_id": 11194132, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-troVprsdmgA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re62a3PbE44SfQgVRQxixfpPwD73g/mo/photo.jpg?sz=128", "display_name": "Frank Vargas", "link": "https://stackoverflow.com/users/11194132/frank-vargas"}, "reply_to_user": {"reputation": 365, "user_id": 9005151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sRCoh.png?s=128&g=1", "display_name": "German Burgardt", "link": "https://stackoverflow.com/users/9005151/german-burgardt"}, "edited": false, "score": 0, "creation_date": 1561647945, "post_id": 56777739, "comment_id": 100142490, "body": "@GermanBurgardt to be completely honest, I dont know many technical terms or how much of that works. I don&#39;t know what to do :("}, {"owner": {"reputation": 365, "user_id": 9005151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sRCoh.png?s=128&g=1", "display_name": "German Burgardt", "link": "https://stackoverflow.com/users/9005151/german-burgardt"}, "edited": false, "score": 0, "creation_date": 1561651531, "post_id": 56777739, "comment_id": 100144475, "body": "In the glassfish console you have to create a JDBC connection pool to the database. Apparently the error indicates that the connection pool can not be found"}, {"owner": {"reputation": 29, "user_id": 11194132, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-troVprsdmgA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re62a3PbE44SfQgVRQxixfpPwD73g/mo/photo.jpg?sz=128", "display_name": "Frank Vargas", "link": "https://stackoverflow.com/users/11194132/frank-vargas"}, "reply_to_user": {"reputation": 365, "user_id": 9005151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sRCoh.png?s=128&g=1", "display_name": "German Burgardt", "link": "https://stackoverflow.com/users/9005151/german-burgardt"}, "edited": false, "score": 0, "creation_date": 1561653704, "post_id": 56777739, "comment_id": 100145488, "body": "@GermanBurgardt Ive been testing around and found out something. I use netbeans, so opening the services window, going to servers-&gt;glassfish-&gt;applications, and just undeploying the projects and then running them again seem to fix the issue. But every now and then the error comes again, so i gotta undeply them. Is there a more permanent solution?"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 3851579, "user_type": "registered", "profile_image": "https://graph.facebook.com/835325949894555/picture?type=large", "display_name": "sidibe", "link": "https://stackoverflow.com/users/3851579/sidibe"}, "is_accepted": false, "score": 0, "last_activity_date": 1565545736, "creation_date": 1565545736, "answer_id": 57452267, "question_id": 56777739, "link": "https://stackoverflow.com/questions/56777739/jndi-lookup-failed-for-the-resource-type-javax-sql-datasource/57452267#57452267", "title": "JNDI lookup failed for the resource Type: javax.sql.DataSource", "body": "<p>In my case I removed the eclipse jar file in netbeans. Click the eclipse jar file under libraries and click remove.\nThen Right on Libraries, choose add Jar and provide the location of the Eclipse jar file.</p>\n\n<p>After try deploy you project it shall work</p>\n"}], "owner": {"reputation": 29, "user_id": 11194132, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-troVprsdmgA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re62a3PbE44SfQgVRQxixfpPwD73g/mo/photo.jpg?sz=128", "display_name": "Frank Vargas", "link": "https://stackoverflow.com/users/11194132/frank-vargas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1468, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565545736, "creation_date": 1561568184, "question_id": 56777739, "link": "https://stackoverflow.com/questions/56777739/jndi-lookup-failed-for-the-resource-type-javax-sql-datasource", "title": "JNDI lookup failed for the resource Type: javax.sql.DataSource", "body": "<p>The error is in the title. It's very strange, because I was doing some modifications to the xhtml code and its beans, turning the glassfish server on and off and on again several times, and suddenly this error appeared. I did not touch the web.xml or any of those types of files while I was working, just the xhtml and its beans.</p>\n\n<p>Error message: </p>\n\n<pre><code>Severe:   JNDI lookup failed for the resource: Name: JPATestPU, Lookup: java:app/jpaDB, Type: javax.sql.DataSource.\nSevere:   Exception while deploying the app [JPAAdvanced]\nSevere:   Exception during lifecycle processing\n\norg.glassfish.deployment.common.DeploymentException: JNDI lookup failed for the resource: Name: [JPATestPU], Lookup: [java:app/jpaDB], Type: [javax.sql.DataSource]\n    at[...]\nCaused by: javax.naming.NamingException: Lookup failed for 'java:app/jpaDB' in SerialContext[myEnv={java.naming.factory.state=com.sun.corba.ee.impl.presentation.rmi.JNDIStateFactoryImpl, java.naming.factory.url.pkgs=com.sun.enterprise.naming} [Root exception is javax.naming.NamingException: Invocation exception: Got null ComponentInvocation ]\n    at[...]\nCaused by: javax.naming.NamingException: Invocation exception: Got null ComponentInvocation \n    at[...]\n\nSevere:   Exception while deploying the app [JPAAdvanced] : JNDI lookup failed for the resource: Name: [JPATestPU], Lookup: [java:app/jpaDB], Type: [javax.sql.DataSource]\njavax.naming.NamingException: Lookup failed for 'java:app/jpaDB' in SerialContext[myEnv={java.naming.factory.state=com.sun.corba.ee.impl.presentation.rmi.JNDIStateFactoryImpl, java.naming.factory.url.pkgs=com.sun.enterprise.naming} [Root exception is javax.naming.NamingException: Invocation exception: Got null ComponentInvocation ]\n    at[...]\nCaused by: javax.naming.NamingException: Invocation exception: Got null ComponentInvocation \n    at[...]\n</code></pre>\n\n<p>The web.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"3.1\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;javax.faces.PROJECT_STAGE&lt;/param-name&gt;\n        &lt;param-value&gt;Development&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/faces/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;\n            30\n        &lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;faces/index.xhtml&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>The glasfish-resources.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE resources PUBLIC \"-//GlassFish.org//DTD GlassFish Application Server 3.1 Resource Definitions//EN\" \"http://glassfish.org/dtds/glassfish-resources_1_5.dtd\"&gt;\n&lt;resources&gt;\n    &lt;jdbc-connection-pool allow-non-component-callers=\"false\" associate-with-thread=\"false\" connection-creation-retry-attempts=\"0\" connection-creation-retry-interval-in-seconds=\"10\" connection-leak-reclaim=\"false\" connection-leak-timeout-in-seconds=\"0\" connection-validation-method=\"auto-commit\" datasource-classname=\"org.postgresql.ds.PGSimpleDataSource\" fail-all-connections=\"false\" idle-timeout-in-seconds=\"300\" is-connection-validation-required=\"false\" is-isolation-level-guaranteed=\"true\" lazy-connection-association=\"false\" lazy-connection-enlistment=\"false\" match-connections=\"false\" max-connection-usage-count=\"0\" max-pool-size=\"32\" max-wait-time-in-millis=\"60000\" name=\"post-gre-sql_jpaDB_postgresPool\" non-transactional-connections=\"false\" pool-resize-quantity=\"2\" res-type=\"javax.sql.DataSource\" statement-timeout-in-seconds=\"-1\" steady-pool-size=\"8\" validate-atmost-once-period-in-seconds=\"0\" wrap-jdbc-objects=\"false\"&gt;\n\n        &lt;property name=\"serverName\" value=\"localhost\"/&gt;\n        &lt;property name=\"portNumber\" value=\"5432\"/&gt;\n        &lt;property name=\"databaseName\" value=\"jpaDB\"/&gt;\n        &lt;property name=\"User\" value=\"postgres\"/&gt;\n        &lt;property name=\"Password\" value=\"*****\"/&gt;\n        &lt;property name=\"URL\" value=\"jdbc:postgresql://localhost:5432/jpaDB\"/&gt;\n        &lt;property name=\"driverClass\" value=\"org.postgresql.Driver\"/&gt;\n    &lt;/jdbc-connection-pool&gt;\n    &lt;jdbc-resource enabled=\"true\" jndi-name=\"java:app/jpaDB\" object-type=\"user\" pool-name=\"post-gre-sql_jpaDB_postgresPool\"/&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>If there is anything else to add, please say so and I will add it.</p>\n"}, {"tags": ["java", "android"], "answers": [{"comments": [{"owner": {"reputation": 326, "user_id": 10501485, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GSnCcXafi_4/AAAAAAAAAAI/AAAAAAAAAiM/KFntt_1bP5k/photo.jpg?sz=128", "display_name": "jcfuerte", "link": "https://stackoverflow.com/users/10501485/jcfuerte"}, "reply_to_user": {"reputation": 7, "user_id": 8608954, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FPhXUZeuGd0/AAAAAAAAAAI/AAAAAAAAABM/DzxwZV1ZXTQ/photo.jpg?sz=128", "display_name": "Muhammad Usama", "link": "https://stackoverflow.com/users/8608954/muhammad-usama"}, "edited": false, "score": 0, "creation_date": 1562084445, "post_id": 56778510, "comment_id": 100263277, "body": "you&#39;re welcome @MuhammadUsama, I hope it is what you&#39;re looking for, regards"}], "tags": [], "owner": {"reputation": 326, "user_id": 10501485, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GSnCcXafi_4/AAAAAAAAAAI/AAAAAAAAAiM/KFntt_1bP5k/photo.jpg?sz=128", "display_name": "jcfuerte", "link": "https://stackoverflow.com/users/10501485/jcfuerte"}, "is_accepted": false, "score": 0, "last_activity_date": 1561571385, "creation_date": 1561571385, "answer_id": 56778510, "question_id": 56777587, "link": "https://stackoverflow.com/questions/56777587/how-to-automatically-execute-numbers-on-dialpads-without-showing-to-user-by-clic/56778510#56778510", "title": "How to automatically execute numbers on dialpads without showing to user by clicking button", "body": "<p>You can add this a method in your button listener dialToNumberStr(\"0123456789\")</p>\n\n<pre><code>public void dialToNumberStr(String numberToDial){\n //String numberToDial = \"0123456789\"\n Intent dialIntent = new Intent(Intent.ACTION_DIAL);\n dialIntent.setData(Uri.parse(\"tel:\".concat(numberToDial)));\n startActivity(dialIntent); \n }\n\n</code></pre>\n\n<p>your listener should be (using Lambda Expression):</p>\n\n<pre><code>myButton.setOnClickListener(v-&gt;{\ndialToNumberStr(\"0123456789\");\n});\n</code></pre>\n\n<p>your listener should be (or the old way):</p>\n\n<pre><code>     myButton.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                   dialToNumberStr(\"0123456789\");\n                }\n            });\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 8608954, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FPhXUZeuGd0/AAAAAAAAAAI/AAAAAAAAABM/DzxwZV1ZXTQ/photo.jpg?sz=128", "display_name": "Muhammad Usama", "link": "https://stackoverflow.com/users/8608954/muhammad-usama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 14, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561618796, "creation_date": 1561567505, "last_edit_date": 1561618796, "question_id": 56777587, "link": "https://stackoverflow.com/questions/56777587/how-to-automatically-execute-numbers-on-dialpads-without-showing-to-user-by-clic", "title": "How to automatically execute numbers on dialpads without showing to user by clicking button", "body": "<p>Is it possible when any users clicks on button which I created on Application, and code some numbers like *123#. When click happens then it automatically execute this without showing dialpad to User and show its responce in popup like we get.</p>\n\n<p>May be it little bit confusing because I do not know how to clearly explain it. If any person know how to do that in Android Studio.</p>\n"}, {"tags": ["java", "android", "ocr", "dji-sdk", "text-recognition"], "comments": [{"owner": {"reputation": 1609, "user_id": 11530294, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Wmx8FmXvssw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rddovKe67tDYNr2B-3B5bFJOj8cZg/mo/photo.jpg?sz=128", "display_name": "Dr Yuan Shenghai", "link": "https://stackoverflow.com/users/11530294/dr-yuan-shenghai"}, "edited": false, "score": 0, "creation_date": 1561581186, "post_id": 56777525, "comment_id": 100115985, "body": "You dont have a clear coding question or clear background. Assume you work on commercial drone, so get  Windows SDK then integrate the windows AZURE  OCR with it. Convert the image and send to online query.  I did a similar project before for a DJI and Microsoft collaboration show in Singapore.  Takes me 2 weeks to get this product done. If you need it to run on the phone, Install MSDK and integrate the Google vision.  Convert the image container and send to google server. It is the same concept"}, {"owner": {"reputation": 1609, "user_id": 11530294, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Wmx8FmXvssw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rddovKe67tDYNr2B-3B5bFJOj8cZg/mo/photo.jpg?sz=128", "display_name": "Dr Yuan Shenghai", "link": "https://stackoverflow.com/users/11530294/dr-yuan-shenghai"}, "edited": false, "score": 0, "creation_date": 1561634049, "post_id": 56777525, "comment_id": 100133793, "body": "Found my old video.  <a href=\"https://youtu.be/CcndnHkriyA\" rel=\"nofollow noreferrer\">youtu.be/CcndnHkriyA</a>  . In my case, it`s all windows header. in your case you should use NSMutableData *downloadedImageData or NSMutableData data. Restructure the data and upload to google vision OCR <a href=\"https://cloud.google.com/vision/docs/handwriting\" rel=\"nofollow noreferrer\">cloud.google.com/vision/docs/handwriting</a>. cast the NSMutableData(DJI) into ByteString imgBytes(google) then follow the example"}], "owner": {"reputation": 3, "user_id": 11447503, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-41tNwT8QK6U/AAAAAAAAAAI/AAAAAAAAOXk/hBUt3hn6E6s/photo.jpg?sz=128", "display_name": "Renato Souza", "link": "https://stackoverflow.com/users/11447503/renato-souza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 221, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561567248, "creation_date": 1561567248, "question_id": 56777525, "link": "https://stackoverflow.com/questions/56777525/real-time-text-recognition-ocr-using-dji-drone", "title": "Real-time text recognition (OCR) using DJI Drone", "body": "<p>I\u2019m working in a project that I need to do a real-time recognition of text using OCR (in this case I\u2019m trying to use the text recognizer by google) with a DJI drone and an android mobile. So I get the sample of DJI SDK \u201cvideo stream decoding sample\u201d to understand how the decoding of the data from the drone is converted to a frame that has the output showing on the screen of the application. My problem is that I didn\u2019t understand how the camera of the drone works in the application and how I can get the frames and apply the OCR in real-time and edit it to show the identification.</p>\n"}, {"tags": ["java", "groovy", "udp"], "comments": [{"owner": {"reputation": 4066, "user_id": 2442526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c673a5b98a6b201606a39c644c467b13?s=128&d=identicon&r=PG&f=1", "display_name": "xtratic", "link": "https://stackoverflow.com/users/2442526/xtratic"}, "edited": false, "score": 0, "creation_date": 1561569937, "post_id": 56777446, "comment_id": 100111486, "body": "Please provide an MCVE. What is the expected result, what is the result you&#39;re getting, what is the server code?"}, {"owner": {"reputation": 132, "user_id": 9923503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5cb169fbe79fc5268acf76c0fd8856e?s=128&d=identicon&r=PG&f=1", "display_name": "Steave Jones", "link": "https://stackoverflow.com/users/9923503/steave-jones"}, "reply_to_user": {"reputation": 4066, "user_id": 2442526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c673a5b98a6b201606a39c644c467b13?s=128&d=identicon&r=PG&f=1", "display_name": "xtratic", "link": "https://stackoverflow.com/users/2442526/xtratic"}, "edited": false, "score": 0, "creation_date": 1561596502, "post_id": 56777446, "comment_id": 100119879, "body": "hi, I have clearly highlighted above the Expected result and what i getting"}, {"owner": {"reputation": 132, "user_id": 9923503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5cb169fbe79fc5268acf76c0fd8856e?s=128&d=identicon&r=PG&f=1", "display_name": "Steave Jones", "link": "https://stackoverflow.com/users/9923503/steave-jones"}, "reply_to_user": {"reputation": 4066, "user_id": 2442526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c673a5b98a6b201606a39c644c467b13?s=128&d=identicon&r=PG&f=1", "display_name": "xtratic", "link": "https://stackoverflow.com/users/2442526/xtratic"}, "edited": false, "score": 0, "creation_date": 1561596533, "post_id": 56777446, "comment_id": 100119886, "body": "Sever is a node server...angular application"}, {"owner": {"reputation": 4066, "user_id": 2442526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c673a5b98a6b201606a39c644c467b13?s=128&d=identicon&r=PG&f=1", "display_name": "xtratic", "link": "https://stackoverflow.com/users/2442526/xtratic"}, "edited": false, "score": 1, "creation_date": 1561638987, "post_id": 56777446, "comment_id": 100136620, "body": "No way we were to know it was an Angular server.. You say &quot;My goal is to make the application not responsive ... but i am not getting the expected result&quot;, but that tells us practically nothing.. What do the server logs say, is it actually getting all these requests, what data is it reading, and how is it acting on those requests? That should get you on the right track but I&#39;m not going to bother more than that because I didn&#39;t exactly like your response and an exercise in debugging would be good experience for you anyway. Best of luck."}], "owner": {"reputation": 132, "user_id": 9923503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5cb169fbe79fc5268acf76c0fd8856e?s=128&d=identicon&r=PG&f=1", "display_name": "Steave Jones", "link": "https://stackoverflow.com/users/9923503/steave-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1561566960, "creation_date": 1561566960, "question_id": 56777446, "link": "https://stackoverflow.com/questions/56777446/continuous-udp-request-to-the-server-not-work-as-expected", "title": "continuous UDP request to the server not work as expected", "body": "<p>Currently I am working on a performance testing tool and I have to develop a UDP request testing plugin for load testing. I tried to send continuous large number of  request to monitor the maximum load that server could handle. <strong>My goal is to make the application not responsive by sending maximum number of requests but i am not getting the expected result</strong>. My testing application is up and running in my local environment. Is it the fault of the implementation or the configurations. Please help.</p>\n\n<pre><code>//UDPRequests.groovy\npackage com.udp.testsubject;\n\nimport java.security.SecureRandom;\n\npublic class UDPRequests {\n    static void main(String [] args) {\n\n        DatagramSocket socket = null;\n        InetAddress address = null;\n        byte[] buf = new byte[65507];\n        SecureRandom random = new SecureRandom();\n\n        //following paramters will get from a property file\n        String ipAddr = '127.0.0.1';\n        int portDst = 4445;\n        int numberOfRequests = 1200000;\n\n        socket = new DatagramSocket();\n        address = InetAddress.getByName(ipAddr);\n        random.nextBytes(buf);\n        DatagramPacket packet = new DatagramPacket(buf, buf.length, address, portDst);\n\n        try {\n            printf(\"[*] Start send requests to %s:%d\\n\", ipAddr, portDst);\n            int count=0;\n            while (count &lt; numberOfRequests) {\n                count++;\n                socket.send(packet);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        socket.close();\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "jakarta-ee", "dto", "mapstruct"], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 6592293, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f8vvTOMM_0c/AAAAAAAAAAI/AAAAAAAAATY/F-qGtUnPvn0/photo.jpg?sz=128", "display_name": "Simon Tran", "link": "https://stackoverflow.com/users/6592293/simon-tran"}, "edited": false, "score": 0, "creation_date": 1561730747, "post_id": 56777548, "comment_id": 100170923, "body": "I should&#39;ve precised that I&#39;m using mapstruct 1.2, so this won&#39;t work. Thank you"}], "tags": [], "owner": {"reputation": 9673, "user_id": 2044302, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JDKSu.jpg?s=128&g=1", "display_name": "Alexander Petrov", "link": "https://stackoverflow.com/users/2044302/alexander-petrov"}, "is_accepted": false, "score": 3, "last_activity_date": 1561567356, "creation_date": 1561567356, "answer_id": 56777548, "question_id": 56777302, "link": "https://stackoverflow.com/questions/56777302/how-can-i-prevent-mapstruct-from-mapping-lots-of-fields-without-having-to-exclud/56777548#56777548", "title": "How can I prevent mapstruct from mapping lots of fields without having to exclude them all manually?", "body": "<p>You can define on the mapping method the following annotation:</p>\n\n<pre><code>@BeanMapping(ignoreByDefault = true)\n</code></pre>\n\n<p>this will make mapstruct to ignore by default all matching fields between the two classes.</p>\n\n<p>Here is a Quotation from Mapstruct documentation regarding this annotation:</p>\n\n<blockquote>\n  <p>By means of the @BeanMapping(ignoreByDefault = true) the default\n  behavior will be explicit mapping, meaning that all mappings have to\n  be specified by means of the @Mapping and no warnings will be issued\n  on missing target properties.</p>\n</blockquote>\n\n<p>and link to the javadoc:\n<a href=\"http://mapstruct.org/documentation/stable/api/org/mapstruct/BeanMapping.html\" rel=\"nofollow noreferrer\">http://mapstruct.org/documentation/stable/api/org/mapstruct/BeanMapping.html</a></p>\n"}], "owner": {"reputation": 320, "user_id": 6592293, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f8vvTOMM_0c/AAAAAAAAAAI/AAAAAAAAATY/F-qGtUnPvn0/photo.jpg?sz=128", "display_name": "Simon Tran", "link": "https://stackoverflow.com/users/6592293/simon-tran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1561707544, "creation_date": 1561566384, "question_id": 56777302, "link": "https://stackoverflow.com/questions/56777302/how-can-i-prevent-mapstruct-from-mapping-lots-of-fields-without-having-to-exclud", "title": "How can I prevent mapstruct from mapping lots of fields without having to exclude them all manually?", "body": "<p>I'm using mapstruct to map an object to a DTO. My object has 100 fields that need to be mapped in the DTO, and about 30 that shouldn't be mapped.</p>\n\n<p>How can I ignore the 30 fields without having to write 30 times </p>\n\n<pre><code>@Mapping(source = \"fieldtoIgnore\", ignore = true)\n</code></pre>\n\n<p>I'm not looking to ignore the warning, I want to completely prevent mapstruct from mapping some fields</p>\n\n<p>Thank you</p>\n"}, {"tags": ["java", "xml", "sonarqube", "owasp"], "comments": [{"owner": {"reputation": 1080, "user_id": 599851, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ulL3z.png?s=128&g=1", "display_name": "iCrus", "link": "https://stackoverflow.com/users/599851/icrus"}, "edited": false, "score": 0, "creation_date": 1561567777, "post_id": 56777287, "comment_id": 100110519, "body": "Have you had a look at : <a href=\"https://stackoverflow.com/questions/40649152/how-to-prevent-xxe-attack\" title=\"how to prevent xxe attack\">stackoverflow.com/questions/40649152/how-to-prevent-xxe-atta&zwnj;&#8203;ck</a>  and this rule from Sonar: <a href=\"https://sonarcloud.io/organizations/alexlittle-github/rules?open=squid%3AS2755&amp;rule_key=squid%3AS2755\" rel=\"nofollow noreferrer\">sonarcloud.io/organizations/alexlittle-github/&hellip;</a>"}, {"owner": {"reputation": 137436, "user_id": 415448, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/P2vVZ.png?s=128&g=1", "display_name": "Michael Kay", "link": "https://stackoverflow.com/users/415448/michael-kay"}, "edited": false, "score": 0, "creation_date": 1561569521, "post_id": 56777287, "comment_id": 100111279, "body": "Your code looks fine to me, perhaps the checker is just being stupid. Also, what people so often forget is that the XXE vulnerability only applies if you are processing untrusted XML. If you know where the XML came from and trust the code that generated it, XXE is not an issue. Unfortunately though the security people don&#39;t always understand that subtlety."}, {"owner": {"reputation": 81, "user_id": 11704276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4e8a57b759dc33dbe005d81cfeb451?s=128&d=identicon&r=PG&f=1", "display_name": "cheetoo", "link": "https://stackoverflow.com/users/11704276/cheetoo"}, "edited": false, "score": 0, "creation_date": 1561570873, "post_id": 56777287, "comment_id": 100111927, "body": "Hi iCrus. I have tried all those possibilities from sonarqube but still I didn&#39;t fixed yet"}], "answers": [{"tags": [], "owner": {"reputation": 1222, "user_id": 2738155, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/TvLt7.jpg?s=128&g=1", "display_name": "chomp", "link": "https://stackoverflow.com/users/2738155/chomp"}, "is_accepted": false, "score": 11, "last_activity_date": 1579013328, "creation_date": 1579013328, "answer_id": 59736162, "question_id": 56777287, "link": "https://stackoverflow.com/questions/56777287/how-to-fix-disable-xml-external-entity-xxe-processing-vulnerabilities-in-jav/59736162#59736162", "title": "how to fix &#39;Disable XML external entity (XXE) processing&#39; vulnerabilities in java", "body": "<p>I end up adding all of the following attributes in order to avoid Sonar complaining about this vulnerability:</p>\n\n<pre><code>        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n\n        //REDHAT\n        //https://www.blackhat.com/docs/us-15/materials/us-15-Wang-FileCry-The-New-Age-Of-XXE-java-wp.pdf\n        factory.setAttribute(XMLConstants.FEATURE_SECURE_PROCESSING, true);\n        factory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, \"\");\n        factory.setAttribute(XMLConstants.ACCESS_EXTERNAL_SCHEMA, \"\");\n\n        //OWASP\n        //https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html\n        factory.setFeature(\"http://apache.org/xml/features/disallow-doctype-decl\", true);\n        factory.setFeature(\"http://xml.org/sax/features/external-general-entities\", false);\n        factory.setFeature(\"http://xml.org/sax/features/external-parameter-entities\", false);\n        // Disable external DTDs as well\n        factory.setFeature(\"http://apache.org/xml/features/nonvalidating/load-external-dtd\", false);\n        // and these as well, per Timothy Morgan's 2014 paper: \"XML Schema, DTD, and Entity Attacks\"\n        factory.setXIncludeAware(false);\n        factory.setExpandEntityReferences(false);\n\n        DocumentBuilder builder = factory.newDocumentBuilder();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 7298746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/febd16662fb145c5045235b7970c542e?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 S", "link": "https://stackoverflow.com/users/7298746/micha%c5%82-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1582881150, "creation_date": 1582881150, "answer_id": 60448479, "question_id": 56777287, "link": "https://stackoverflow.com/questions/56777287/how-to-fix-disable-xml-external-entity-xxe-processing-vulnerabilities-in-jav/60448479#60448479", "title": "how to fix &#39;Disable XML external entity (XXE) processing&#39; vulnerabilities in java", "body": "<p>It should be enough to just set this two properties:</p>\n\n<pre><code>factory.setFeature(\"http://apache.org/xml/features/disallow-doctype-decl\", true);\nfactory.setFeature(\"http://xml.org/sax/features/external-general-entities\", false);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1858, "user_id": 803687, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/HxK4H.jpg?s=128&g=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/803687/anand"}, "edited": false, "score": 0, "creation_date": 1594302186, "post_id": 61081042, "comment_id": 111083376, "body": "Don&#39;t see the method newDefaultInstance() on javax.xml.parsers.DocumentBuilderFactory"}, {"owner": {"reputation": 1318, "user_id": 2147927, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/61db3527d478220b5326596628ff4a8b?s=128&d=identicon&r=PG", "display_name": "Line", "link": "https://stackoverflow.com/users/2147927/line"}, "reply_to_user": {"reputation": 1858, "user_id": 803687, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/HxK4H.jpg?s=128&g=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/803687/anand"}, "edited": false, "score": 0, "creation_date": 1594380763, "post_id": 61081042, "comment_id": 111112935, "body": "@Anand it was introduced in Java 9."}, {"owner": {"reputation": 8086, "user_id": 2131074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/579b58072937a718317e020c891de635?s=128&d=identicon&r=PG", "display_name": "GPI", "link": "https://stackoverflow.com/users/2131074/gpi"}, "edited": false, "score": 1, "creation_date": 1610531759, "post_id": 61081042, "comment_id": 116160998, "body": "With no additionnal information, this sounds more like a way to defeat Sonar&#39;s check (e.g. it does not know about this method, so it does not mark it), and not to solve the underlying vulnerability. Basically, it looks like you went and did the just same, but  behind sonar&#39;s back. (Once more, without additionnal information)."}, {"owner": {"reputation": 1318, "user_id": 2147927, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/61db3527d478220b5326596628ff4a8b?s=128&d=identicon&r=PG", "display_name": "Line", "link": "https://stackoverflow.com/users/2147927/line"}, "reply_to_user": {"reputation": 8086, "user_id": 2131074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/579b58072937a718317e020c891de635?s=128&d=identicon&r=PG", "display_name": "GPI", "link": "https://stackoverflow.com/users/2131074/gpi"}, "edited": false, "score": 0, "creation_date": 1610626466, "post_id": 61081042, "comment_id": 116195032, "body": "@GPI that may be true, I haven&#39;t investigate it. If anyone knows the reason behind such behaviour, please feel free to edit the answer adding it"}], "tags": [], "owner": {"reputation": 1318, "user_id": 2147927, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/61db3527d478220b5326596628ff4a8b?s=128&d=identicon&r=PG", "display_name": "Line", "link": "https://stackoverflow.com/users/2147927/line"}, "is_accepted": false, "score": 3, "last_activity_date": 1594380802, "last_edit_date": 1594380802, "creation_date": 1586265819, "answer_id": 61081042, "question_id": 56777287, "link": "https://stackoverflow.com/questions/56777287/how-to-fix-disable-xml-external-entity-xxe-processing-vulnerabilities-in-jav/61081042#61081042", "title": "how to fix &#39;Disable XML external entity (XXE) processing&#39; vulnerabilities in java", "body": "<p><em>Java 9+ solution:</em></p>\n<p>For me changing <code>DocumentBuilderFactory.newInstance()</code> to <code>DocumentBuilderFactory.newDefaultInstance()</code> was enough to red rid of this warning.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 6889375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41ecc7fb93ea2f708cc9e87a98b50a0a?s=128&d=identicon&r=PG&f=1", "display_name": "Yogesh", "link": "https://stackoverflow.com/users/6889375/yogesh"}, "is_accepted": false, "score": 1, "last_activity_date": 1610539284, "last_edit_date": 1610539284, "creation_date": 1610530423, "answer_id": 65699126, "question_id": 56777287, "link": "https://stackoverflow.com/questions/56777287/how-to-fix-disable-xml-external-entity-xxe-processing-vulnerabilities-in-jav/65699126#65699126", "title": "how to fix &#39;Disable XML external entity (XXE) processing&#39; vulnerabilities in java", "body": "<p>I have fixed this issue by adding the below code snippet :</p>\n<pre><code>saxParserFactory = SAXParserFactory.newInstance();\nsaxParserFactory.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\nsaxParserFactory.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);\nsaxParserFactory.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);    \nsaxParserFactory.setFeature(&quot;http://apache.org/xml/features/nonvalidating/load-external-dtd&quot;, false);\nsaxParserFactory.setXIncludeAware(false);\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 11704276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4e8a57b759dc33dbe005d81cfeb451?s=128&d=identicon&r=PG&f=1", "display_name": "cheetoo", "link": "https://stackoverflow.com/users/11704276/cheetoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11476, "favorite_count": 1, "answer_count": 4, "score": 8, "last_activity_date": 1610539284, "creation_date": 1561566329, "question_id": 56777287, "link": "https://stackoverflow.com/questions/56777287/how-to-fix-disable-xml-external-entity-xxe-processing-vulnerabilities-in-jav", "title": "how to fix &#39;Disable XML external entity (XXE) processing&#39; vulnerabilities in java", "body": "<p>I ran my java code against sonarqube and I got 'Disable XML external entity (XXE) processing' as vulnerability. I spend some time on google to resolve the issue. I have been trying alot of approach but nothing is working for me. I don't know what I'm missing</p>\n\n<p>My Code:</p>\n\n<pre><code>        final DocumentBuilderFactory docFactory = DocumentBuilderFactory.newInstance();\n        docFactory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\n        docFactory.setFeature(XMLInputFactory.IS_SUPPORTING_EXTERNAL_ENTITIES, false);\n        docFactory.setFeature(XMLInputFactory.SUPPORT_DTD, false);\n\n        docFactory.setFeature(\"http://apache.org/xml/features/disallow-doctype-decl\", true);\n        docFactory.setFeature(\"http://xml.org/sax/features/external-general-entities\", false);\n        docFactory.setFeature(\"http://xml.org/sax/features/external-parameter-entities\", false);\n        docFactory.setFeature(\"http://apache.org/xml/features/nonvalidating/load-external-dtd\", false);\n\n        final DocumentBuilder docBuilder = docFactory.newDocumentBuilder();\n        final Document doc = docBuilder.parse(filepath);\n</code></pre>\n\n<p>I'm using java 1.8, Any help is appreciated. Thanks</p>\n"}, {"tags": ["java", "spring", "spring-boot", "xml-parsing", "jaxb"], "answers": [{"comments": [{"owner": {"reputation": 4580, "user_id": 1614428, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/1a408d00954f240772514fb3d988ed45?s=128&d=identicon&r=PG", "display_name": "VK321", "link": "https://stackoverflow.com/users/1614428/vk321"}, "edited": false, "score": 0, "creation_date": 1561628156, "post_id": 56777685, "comment_id": 100130406, "body": "what is Element class here?"}, {"owner": {"reputation": 9673, "user_id": 2044302, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JDKSu.jpg?s=128&g=1", "display_name": "Alexander Petrov", "link": "https://stackoverflow.com/users/2044302/alexander-petrov"}, "reply_to_user": {"reputation": 4580, "user_id": 1614428, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/1a408d00954f240772514fb3d988ed45?s=128&d=identicon&r=PG", "display_name": "VK321", "link": "https://stackoverflow.com/users/1614428/vk321"}, "edited": false, "score": 0, "creation_date": 1561630621, "post_id": 56777685, "comment_id": 100131870, "body": "@VK321 org.w3c.dom.Element"}], "tags": [], "owner": {"reputation": 9673, "user_id": 2044302, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JDKSu.jpg?s=128&g=1", "display_name": "Alexander Petrov", "link": "https://stackoverflow.com/users/2044302/alexander-petrov"}, "is_accepted": false, "score": 1, "last_activity_date": 1561568353, "last_edit_date": 1561568353, "creation_date": 1561567969, "answer_id": 56777685, "question_id": 56777286, "link": "https://stackoverflow.com/questions/56777286/java-spring-xml-binding-based-on-conditions-using-jaxb/56777685#56777685", "title": "Java spring XML binding based on conditions using JAXB", "body": "<p>It is not necessary to make a transformation for such a simple setup.Take advantage of @XmlAnyElement <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/xml/bind/annotation/XmlAnyElement.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/javax/xml/bind/annotation/XmlAnyElement.html</a> and just map your collection as a list of Elements.</p>\n\n<pre><code>@XmlElementWrapper(name = \"pagination\")\n@XmlAnyElement\npublic List&lt;Element&gt; getPages() {\n        return pages;\n }\n</code></pre>\n\n<p>Where Element is <code>org.w3c.dom.Element</code></p>\n\n<p>The <code>@XmlElementWrapper</code> is optional, if you want you can map your pagination element. I am not sure you need it though.</p>\n\n<p>Then you extract the position with:</p>\n\n<pre><code>page.getAttribute(\"position\")\n</code></pre>\n\n<p>and </p>\n\n<pre><code>page.getAttribute(\"href\") \n</code></pre>\n\n<p>for the url</p>\n"}], "owner": {"reputation": 4580, "user_id": 1614428, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/1a408d00954f240772514fb3d988ed45?s=128&d=identicon&r=PG", "display_name": "VK321", "link": "https://stackoverflow.com/users/1614428/vk321"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1564526763, "creation_date": 1561566302, "last_edit_date": 1564526763, "question_id": 56777286, "link": "https://stackoverflow.com/questions/56777286/java-spring-xml-binding-based-on-conditions-using-jaxb", "title": "Java spring XML binding based on conditions using JAXB", "body": "<p>I am binding XML to object using JAXB, is it possible to bind based on conditions such as</p>\n\n<p>Bind <code>href</code> attribute in <code>api:page</code> element where attribute <code>position</code> is equal to <code>next</code>. </p>\n\n<p>Or get all records as standard list and then filter out by using  <code>if condition</code></p>\n\n<pre><code>&lt;api:pagination results-count=\"93\" items-per-page=\"25\"&gt;\n  &lt;api:page position=\"this\" href=\"https://url1.com\" /&gt;\n  &lt;api:page position=\"next\" href=\"https://url1.com?pid=2\" /&gt;\n&lt;/api:pagination&gt;\n</code></pre>\n"}, {"tags": ["java", "spring", "servlets", "rx-java", "threadcontext"], "answers": [{"tags": [], "owner": {"reputation": 1390, "user_id": 9417843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1f8aa138e8df00f8cde4301af8bdee2?s=128&d=identicon&r=PG", "display_name": "zlaval", "link": "https://stackoverflow.com/users/9417843/zlaval"}, "is_accepted": false, "score": 0, "last_activity_date": 1561632014, "creation_date": 1561632014, "answer_id": 56789232, "question_id": 56777285, "link": "https://stackoverflow.com/questions/56777285/how-to-make-request-header-available-in-rxjava-threads-injecting-httpservletreq/56789232#56789232", "title": "How to make request header available in rxJava threads? Injecting HttpServletRequest in a new thread does not work", "body": "<p>First of all, I suggest to use spring reactive web, your life will be much more easier.\nBut if you must use plain spring web with rxjava, you must know that requests are held in threadlocals, so you can only reach it in the same thread which handle the request. But if you want, you are able to pass properties to rxjava in the form of context propagation.\nYou can find more information here:\n<a href=\"https://github.com/reactiverse/reactive-contexts\" rel=\"nofollow noreferrer\">https://github.com/reactiverse/reactive-contexts</a></p>\n"}], "owner": {"reputation": 143, "user_id": 10937286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f37282c6e01c7033c58c8a19b9e11b51?s=128&d=identicon&r=PG&f=1", "display_name": "user10937286", "link": "https://stackoverflow.com/users/10937286/user10937286"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561632014, "creation_date": 1561566296, "last_edit_date": 1561573194, "question_id": 56777285, "link": "https://stackoverflow.com/questions/56777285/how-to-make-request-header-available-in-rxjava-threads-injecting-httpservletreq", "title": "How to make request header available in rxJava threads? Injecting HttpServletRequest in a new thread does not work", "body": "<p>I am working on a Spring boot application and need to read request header in a RxJava thread, but injecting HttpServletRequest doesn't work because of a new thread. Passing header from current thread to new thread is unwanted.</p>\n\n<p>code flow: Controller -> Service -> for each order -> (this code spawns new threads) <code>Observable.just(invokeOrderService(orderNumber))</code> -> fetch request header something like <code>httpRequest.getHeader(\"isApp\")</code></p>\n\n<p>I am completely clueless about approach. All I need is header info to be available in the newly created threads.</p>\n"}, {"tags": ["java", "switch-statement", "infinite-loop"], "comments": [{"owner": {"reputation": 562, "user_id": 1120534, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/EaWmN.jpg?s=128&g=1", "display_name": "inquizitive", "link": "https://stackoverflow.com/users/1120534/inquizitive"}, "edited": false, "score": 2, "creation_date": 1561566705, "post_id": 56777281, "comment_id": 100110069, "body": "Why is <code>while(true)</code> not allowed? This looks like a valid scenario for using it. You could use <code>for(;;)</code> if it is just a case of not allowing <code>while</code>"}, {"owner": {"reputation": 111, "user_id": 11677503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/waEXX.jpg?s=128&g=1", "display_name": "AiSirachcha21", "link": "https://stackoverflow.com/users/11677503/aisirachcha21"}, "reply_to_user": {"reputation": 562, "user_id": 1120534, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/EaWmN.jpg?s=128&g=1", "display_name": "inquizitive", "link": "https://stackoverflow.com/users/1120534/inquizitive"}, "edited": false, "score": 0, "creation_date": 1561567655, "post_id": 56777281, "comment_id": 100110472, "body": "It&#39;s for an assignment. They&#39;re trying to make us use more appropriate ways of carrying out a loop. But I might stick with it regardless since it seems to be the more appropriate way of doing it"}, {"owner": {"reputation": 59831, "user_id": 12943, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d6a9924b767fe91c46def7edc7bce035?s=128&d=identicon&r=PG", "display_name": "Bill K", "link": "https://stackoverflow.com/users/12943/bill-k"}, "edited": false, "score": 0, "creation_date": 1561591028, "post_id": 56777281, "comment_id": 100118932, "body": "I&#39;m not sure how to make recursion work here.  A top level control loop in this kind of an app is very common, what you did was pretty good.  If you want extra credit with your teacher you might replace the numbers with numeric constants as in &quot;case DISPLAY:&quot; and &quot;case EXIT:&quot; for readability."}, {"owner": {"reputation": 111, "user_id": 11677503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/waEXX.jpg?s=128&g=1", "display_name": "AiSirachcha21", "link": "https://stackoverflow.com/users/11677503/aisirachcha21"}, "edited": false, "score": 0, "creation_date": 1561617347, "post_id": 56777281, "comment_id": 100124510, "body": "You could make the menu a function and call it once in the main method, once in the default case and then once again after the switch.  This should make it inescapable until such time where the program is closed manually."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 11677503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/waEXX.jpg?s=128&g=1", "display_name": "AiSirachcha21", "link": "https://stackoverflow.com/users/11677503/aisirachcha21"}, "edited": false, "score": 0, "creation_date": 1561576945, "post_id": 56777407, "comment_id": 100114509, "body": "Thanks for your help Bill. But I was thinking, what about using recursive functions? Wouldn&#39;t this fix the whole problem of the loop??"}], "tags": [], "owner": {"reputation": 59831, "user_id": 12943, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d6a9924b767fe91c46def7edc7bce035?s=128&d=identicon&r=PG", "display_name": "Bill K", "link": "https://stackoverflow.com/users/12943/bill-k"}, "is_accepted": true, "score": 4, "last_activity_date": 1561571977, "last_edit_date": 1561571977, "creation_date": 1561566785, "answer_id": 56777407, "question_id": 56777281, "link": "https://stackoverflow.com/questions/56777281/im-looking-for-an-alternative-to-this-infinite-loop/56777407#56777407", "title": "I&#39;m looking for an alternative to this Infinite Loop", "body": "<p>Most long running systems have a top level \"Infinite\" loop of some sort.  I don't see a huge problem with this, but politically some people don't like infinite loops.</p>\n\n<p>If that's your problem, initialize a Boolean \"running\" flag to true, use while(running) and instead of System.exit() set running to false.  Should be the same effect.  </p>\n\n<pre><code>public static void main(String[] s)\n{\n    Boolean running=true;\n    while(running) {        \n         switch() {\n         ...\n             case 5:\n               ...\n                if(exitConditionsMet) \n                    running=false;\n          \u2026\n          }         \n     }\n     return; // Just let main return to exit program.\n }\n</code></pre>\n\n<p>Technically there is no real difference, but some people have been trained to scan for that while(true) construct and call it a problem.</p>\n\n<p>There are a couple SLIGHT advantages to the flag approach...</p>\n\n<ul>\n<li>The control flow of exiting through a function is unexpected.  If you were scanning that code at a very high level just looking for flow control (braces and if/while/for/break type constructs), you wouldn't immediately see that that loop would ever exit.</li>\n<li>Some static analysis tools might be slightly confused for the same reason.</li>\n<li>System.exit should generally be avoided (as a matter of habit, not in this case specifically).  System.exit can force containers (like Tomcat) to shut down unnaturally, it can also kill threads that might be in the middle of doing something important (Except when you need to return a value to the command line which means you need a system.exit() but probably want to make it the last line of your main.</li>\n</ul>\n"}], "owner": {"reputation": 111, "user_id": 11677503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/waEXX.jpg?s=128&g=1", "display_name": "AiSirachcha21", "link": "https://stackoverflow.com/users/11677503/aisirachcha21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 438, "favorite_count": 0, "accepted_answer_id": 56777407, "answer_count": 1, "score": 1, "last_activity_date": 1561571977, "creation_date": 1561566280, "last_edit_date": 1561566349, "question_id": 56777281, "link": "https://stackoverflow.com/questions/56777281/im-looking-for-an-alternative-to-this-infinite-loop", "title": "I&#39;m looking for an alternative to this Infinite Loop", "body": "<p>I'm using a while(true) loop for the below code but we've been stopped from using it. I can't think of another way of doing this.</p>\n\n<p>I've tried using a do-while loop but it doesn't help my situation here. </p>\n\n<p>'''java</p>\n\n<pre><code>while(true){\n            System.out.println(\"\\nSelect the number of the Option you wish to carry out:\\n    1) Enter Scores\\n    2) Find Golfer\\n    3) Display Scoreboard\\n    4) Edit Scoresheet\\n    5) Exit\\n \");\n            userChoice = integerVerify(); //Used to verify whether user input is a valid number\n            switch (userChoice) {\n\n                case 1:\n                    System.out.println(\"Please enter the scores in the following order\");\n                    displayPlayers();   //Displays scoreboard to help users enter player scores in order.\n                    addScores();    //Used to verify whether user input is a valid String\n                    break;\n\n                case 2:\n                    System.out.println(\"**********PLEASE ENTER THE NAME OF THE PLAYER YOU WISH TO FIND**********\");\n                    findPlayer();\n                    break;\n\n                case 3:\n                    displayPlayers();\n                    break;\n\n                case 4:\n                    options();\n                    break;\n\n                case 5:\n                    System.out.println(\"Are you sure you wish to exit?\");\n                    confirm = stringVerify();\n                    if (confirm.equalsIgnoreCase(\"yes\") || confirm.equalsIgnoreCase(\"y\")) {\n                        System.out.println(\"Thank you for using our application.\");\n                        System.out.println(\"Exiting\");\n                        System.exit(0);\n                    }\n                    break;\n\n                default:\n                    System.out.println(\"Please enter an appropriate option.\");\n            }\n        }\n</code></pre>\n\n<p>'''</p>\n\n<p>The code needs to reject anything that's not in the switch-case...but it also needs to display an appropriate message whether it be through a function or from within the loop itself and ultimately, I still need it to loop until the exit option (case 5) is entered.</p>\n"}, {"tags": ["java", "rx-java", "reactive"], "comments": [{"owner": {"reputation": 5120, "user_id": 1401164, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/892b23de3c567590676d6ce001d5d854?s=128&d=identicon&r=PG", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/1401164/gustavo"}, "edited": false, "score": 0, "creation_date": 1561933027, "post_id": 56777266, "comment_id": 100209315, "body": "do you want to run <code>countMetrics</code> as soon as <code>fetchMessages</code> method is called? You should wrap everything inside <code>fetchMessages</code> into a <code>Single.defer</code>  if you want <code>countMetrics</code> to only run when the Single returned by <code>fetchMessages</code> is subscribed to"}, {"owner": {"reputation": 3557, "user_id": 1885326, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/MAdeR.png?s=128&g=1", "display_name": "kas-kad", "link": "https://stackoverflow.com/users/1885326/kas-kad"}, "reply_to_user": {"reputation": 5120, "user_id": 1401164, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/892b23de3c567590676d6ce001d5d854?s=128&d=identicon&r=PG", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/1401164/gustavo"}, "edited": false, "score": 0, "creation_date": 1562159465, "post_id": 56777266, "comment_id": 100290578, "body": "@Gustavo I want countMetrics to start together with fetchMessagesFromStorage (in parallel)"}], "owner": {"reputation": 3557, "user_id": 1885326, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/MAdeR.png?s=128&g=1", "display_name": "kas-kad", "link": "https://stackoverflow.com/users/1885326/kas-kad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562159514, "creation_date": 1561566213, "last_edit_date": 1562159514, "question_id": 56777266, "link": "https://stackoverflow.com/questions/56777266/how-to-execute-completable-in-parallel-with-a-single-without-waiting-for-the", "title": "How to execute &quot;completable&quot; in parallel with a &quot;single&quot; without waiting for the &quot;completable&quot; to complete?", "body": "<p>My function has to do some work (completable, \"countMetrics()\") in parallel with another work (single, \"fetchMessagesFromStorage()\"). </p>\n\n<p>\"fetchMessagesFromStorage\" returns messages that I need to pass back to the caller.</p>\n\n<p>\"countMetrics\" has no return value, it just updates some metrics, I don't care about the result of it wether it is the success or fail.</p>\n\n<p>I tried to do this:</p>\n\n<pre><code>private Single&lt;Response&gt; fetchMessages(Parameters params) {\n   countMetrics().subscribeOn(Schedulers.newThread()).subscribe() // Schedulers.io(), Schedulers.computation() don't work either\n   return fetchMessagesFromStorage(params)\n}\n</code></pre>\n\n<p>But \"countMetrics\" is still executing in the same thread and blocks until finished, only then \"fetchMessagesFromStorage\" takes it's turn to execute.\nWhat am I doing wrong?</p>\n"}, {"tags": ["java", "hibernate", "spring-data-jpa", "spring-data"], "comments": [{"owner": {"reputation": 10726, "user_id": 4956907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ypfs.jpg?s=128&g=1", "display_name": "michalk", "link": "https://stackoverflow.com/users/4956907/michalk"}, "edited": false, "score": 0, "creation_date": 1561568760, "post_id": 56777264, "comment_id": 100110939, "body": "show your entity. And what version of hibernate are you using."}], "answers": [{"comments": [{"owner": {"reputation": 637, "user_id": 10142946, "user_type": "registered", "profile_image": "https://graph.facebook.com/1857757114270747/picture?type=large", "display_name": "Gabriel Robaina", "link": "https://stackoverflow.com/users/10142946/gabriel-robaina"}, "edited": false, "score": 0, "creation_date": 1562786256, "post_id": 56777536, "comment_id": 100490697, "body": "Did it answer your question? Please consider marking it as a correct one for future reference."}], "tags": [], "owner": {"reputation": 637, "user_id": 10142946, "user_type": "registered", "profile_image": "https://graph.facebook.com/1857757114270747/picture?type=large", "display_name": "Gabriel Robaina", "link": "https://stackoverflow.com/users/10142946/gabriel-robaina"}, "is_accepted": false, "score": 1, "last_activity_date": 1561576914, "last_edit_date": 1561576914, "creation_date": 1561567300, "answer_id": 56777536, "question_id": 56777264, "link": "https://stackoverflow.com/questions/56777264/spring-jpa-util-date/56777536#56777536", "title": "Spring jpa util date", "body": "<p>To my understanding of the question, you want to know when it is necessary to use the <code>@Temporal</code> annotation, and when it is not.</p>\n\n<ul>\n<li><p>According to <a href=\"https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/Temporal.html\" rel=\"nofollow noreferrer\">this documentation</a>, the annotation is used on <code>java.util</code> data types. I have been using <code>java.sql</code> date and time objects, and they do not require this annotation.</p></li>\n<li><p>The <code>@Temporal</code> annotation is a way of converting between java API for date and calendar information, and temporal types the database can understand. Please consult <a href=\"https://stackoverflow.com/questions/25333711/what-is-the-use-of-the-temporal-annotation-in-hibernate\">this other question</a> for more info.</p></li>\n</ul>\n\n<p><code>java.util.Date</code> has date and time precision, and that is why you need to annotate it with <code>@Temporal</code> when persisting to a database data type of TIME or DATE. </p>\n\n<blockquote>\n  <p>If you are persisting a <code>java.util.Date</code> object to a database data type of TIMESTAMP, then that is probably why it works, since both types have the same precision.</p>\n</blockquote>\n"}], "owner": {"reputation": 33, "user_id": 9331304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b9c9078ffb09aed62ffb65622efc11b?s=128&d=identicon&r=PG&f=1", "display_name": "asanka12", "link": "https://stackoverflow.com/users/9331304/asanka12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561576914, "creation_date": 1561566204, "last_edit_date": 1561568314, "question_id": 56777264, "link": "https://stackoverflow.com/questions/56777264/spring-jpa-util-date", "title": "Spring jpa util date", "body": "<p>While using <code>java.util.Date</code> in a spring boot application, is it required to decorate with <code>@Temporal</code> annotation? For me, it worked without the annotation!</p>\n\n<p>Can anyone clarify? As per my knowledge it needs to be decorated with the <code>@Temporal</code> annotation.</p>\n"}, {"tags": ["java", "reactive-programming", "rx-java2"], "comments": [{"owner": {"reputation": 37826, "user_id": 30587, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/d7c26b1a7279e3ae1b4fed1ff4e13f70?s=128&d=identicon&r=PG", "display_name": "joshperry", "link": "https://stackoverflow.com/users/30587/joshperry"}, "edited": false, "score": 0, "creation_date": 1562042251, "post_id": 56777230, "comment_id": 100241903, "body": "Thank you for your responses everyone! It looks like my problem was because the service (part of a closed-source SDK) was returning multiple sets, one for data stored in the local cache, and one for data stored in the cloud. Luckily they have a flag for the different sources (in the <code>event</code>) and I was able to filter the duplicate data out."}, {"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1562042533, "post_id": 56777230, "comment_id": 100241961, "body": "You should post this as an answer. I don&#39;t see any reason why it should be closed. Others who are new to this framework may have the same problem. If you are still convinced that it&#39;s useless, you can ping me back and I&#39;ll delete it."}], "answers": [{"tags": [], "owner": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "is_accepted": false, "score": 0, "last_activity_date": 1561569290, "creation_date": 1561569290, "answer_id": 56778018, "question_id": 56777230, "link": "https://stackoverflow.com/questions/56777230/applying-a-single-to-an-observablesource-and-not-over-reading/56778018#56778018", "title": "Applying a Single to an ObservableSource and not over-reading", "body": "<p>If the source stream emits more than one item, <code>singleOrError()</code> is supposed to emit an error. <a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/Flowable.html#firstOrError--\" rel=\"nofollow noreferrer\">Doc</a></p>\n\n<p>For your case, use either <code>first()</code> or <code>firstOrError()</code> instead.</p>\n\n<pre><code>  Single&lt;Organization&gt; getOrgFromCreds(String orgid) {\n    return getCredentials()\n      .map(DeviceCredential::getOrganization)\n      .filter(org -&gt; org.getId().equals(orgid))\n      .firstOrError();\n  }\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 8810162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b1396a2c584e66485b5e7939bc02e15?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/8810162/vadim"}, "is_accepted": false, "score": 0, "last_activity_date": 1561585447, "creation_date": 1561585447, "answer_id": 56781311, "question_id": 56777230, "link": "https://stackoverflow.com/questions/56777230/applying-a-single-to-an-observablesource-and-not-over-reading/56781311#56781311", "title": "Applying a Single to an ObservableSource and not over-reading", "body": "<p>If I got you right, you need to make some action using previously retrieved async data. So, you could use <a href=\"http://reactivex.io/documentation/operators/zip.html\" rel=\"nofollow noreferrer\">.zip()</a> operator.\nHere is an example:</p>\n\n<pre><code>Observable.zip(\n                getOrgFromCreds().toObservable(),\n                getCredentials(),\n                (first, second) -&gt; /*create output object here*/\n)\n                .subscribe(\n                        (n) -&gt; /*do onNext*/,\n                        (e) -&gt; /*do onError*/\n                );\n</code></pre>\n\n<p>Note, that <code>.zip()</code> operator will wait for both emission from two streams, and then it will create outer emission using the function you provided in \"create output object here\".\nIf you don't want to wait for both items - you can use <a href=\"http://reactivex.io/documentation/operators/combinelatest.html\" rel=\"nofollow noreferrer\">.combineLatest()</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 37826, "user_id": 30587, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/d7c26b1a7279e3ae1b4fed1ff4e13f70?s=128&d=identicon&r=PG", "display_name": "joshperry", "link": "https://stackoverflow.com/users/30587/joshperry"}, "is_accepted": true, "score": 0, "last_activity_date": 1562258714, "last_edit_date": 1562258714, "creation_date": 1562258270, "answer_id": 56891785, "question_id": 56777230, "link": "https://stackoverflow.com/questions/56777230/applying-a-single-to-an-observablesource-and-not-over-reading/56891785#56891785", "title": "Applying a Single to an ObservableSource and not over-reading", "body": "<p>The problem here turned out to be that the API was designed in an odd way (and unfortunately has extremely poor documentation). I couldn't figure out why I was getting duplicates, and thought I was using <code>flatMapIterable</code> incorrectly.</p>\n\n<p>What the <code>deviceCredentialService.getCredentials()</code> call actually creates is an observable that emits <code>DataEvent</code> objects which are simple wrappers over a list of results, and with a flag of where the results came from.</p>\n\n<p>The API designer wanted to allow the user to use locally cached data to fill the UI immediately while a longer request to a REST API executes. The <code>DataEvent.from</code> property is an enum that flags the source, either from the local device cache or from the remote API call.</p>\n\n<p>The way I solved this was to simply ignore the results coming from local cache and only emit results from the API:</p>\n\n<pre><code>  Observable&lt;DeviceCredential&gt; getCredentials() {\n    return deviceCredentialService()\n      .getCredentials()\n      // Only get creds from network\n      .filter(e -&gt; e.getFrom() == SyncedDataSourceObservableFactory.From.SOURCE)\n      .flatMapIterable(e -&gt; e.getData());\n  }\n\n  Single&lt;Organization&gt; getOrgFromCreds(String orgid) {\n    return getCredentials()\n      // A device is logically constrained to only have a single cred per org\n      .map(DeviceCredential::getOrganization)\n      .filter(org -&gt; org.getId().equals(orgid))\n      .singleOrError();\n  }\n</code></pre>\n\n<p>The plan then is to use memoization to cache entities in a way that gives the implementing app access to cache invalidation. Since the provided interface doesn't allow squelching the API call, there is no way to work only with cache if the app feels its is fresh.</p>\n"}], "owner": {"reputation": 37826, "user_id": 30587, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/d7c26b1a7279e3ae1b4fed1ff4e13f70?s=128&d=identicon&r=PG", "display_name": "joshperry", "link": "https://stackoverflow.com/users/30587/joshperry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "accepted_answer_id": 56891785, "answer_count": 3, "score": 0, "last_activity_date": 1562258714, "creation_date": 1561566030, "last_edit_date": 1562258676, "question_id": 56777230, "link": "https://stackoverflow.com/questions/56777230/applying-a-single-to-an-observablesource-and-not-over-reading", "title": "Applying a Single to an ObservableSource and not over-reading", "body": "<p>I'm pretty new to RX in general, and rxjava in particular, pardon mistakes.</p>\n\n<p>This operation depends on a two async operations.</p>\n\n<p>The first uses a filter function to attempt to get a single entity from a list returned by an async Observable.</p>\n\n<p>The second is an async operation that communicates with a device and produces an Observable of status updates.</p>\n\n<p>I want to take the Single that is created from the filter function, apply that to <code>pairReader(...)</code>, and subscribe to its Observable for updates. I can get this to work as shown, but only if I include the <code>take(1)</code> commented, otherwise I get an exception because the chain tries to pull another value from the Single.</p>\n\n<pre><code>  Observable&lt;DeviceCredential&gt; getCredentials() {\n    return deviceCredentialService()\n            .getCredentials()\n            .flatMapIterable(event -&gt; event.getData());\n  }\n\n  Single&lt;Organization&gt; getOrgFromCreds(String orgid) {\n    return getCredentials()\n      // A device is logically constrained to only have a single cred per org\n      .map(DeviceCredential::getOrganization)\n      .filter(org -&gt; org.getId().equals(orgid))\n      .take(1)  // Without this I get an exception\n      .singleOrError();\n  }\n\n  Function&lt;Organization, Observable&lt;Reader.EnrollmentState&gt;&gt; pairReader(String name) {\n    return org -&gt; readerService().pair(name, org);\n  }\n\ngetOrgFromCreds(orgid)\n  .flatMapObservable(pairReader(readerid))\n  .subscribe(state -&gt; {\n     switch(state) {\n       case BEGUN:\n         LOG.d(TAG, \"Pairing begun\");\n         break;\n       case PAIRED:\n         LOG.d(TAG, \"Pairing success\");\n         callback.success();\n         break;\n       case NOTIFIED_SERVER:\n         LOG.d(TAG, \"Pairing server notified\");\n         break;\n     }},\n     error -&gt; {\n       Crashlytics.logException(error);\n       callback.error(error.getLocalizedMessage());\n     });\n</code></pre>\n"}, {"tags": ["java", "spring", "multithreading"], "comments": [{"owner": {"reputation": 89, "user_id": 4395133, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yd_sWTGQOM0/AAAAAAAAAAI/AAAAAAAAABc/p5Yjc0q_fSU/photo.jpg?sz=128", "display_name": "Debapriyo Majumder", "link": "https://stackoverflow.com/users/4395133/debapriyo-majumder"}, "reply_to_user": {"reputation": 8287, "user_id": 9840318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mVUQR.jpg?s=128&g=1", "display_name": "Madhu Bhat", "link": "https://stackoverflow.com/users/9840318/madhu-bhat"}, "edited": false, "score": 0, "creation_date": 1561565671, "post_id": 56776981, "comment_id": 100109581, "body": "I have updated the Question section."}, {"owner": {"reputation": 12389, "user_id": 1206301, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/NMBDq.jpg?s=128&g=1", "display_name": "Alexei Kaigorodov", "link": "https://stackoverflow.com/users/1206301/alexei-kaigorodov"}, "edited": false, "score": 0, "creation_date": 1561567976, "post_id": 56776981, "comment_id": 100110608, "body": "and if one job started and already finished, should triggers do anything? If not, it means that the job is executed only ones in lifetime - do you really mean it? If yes, than it is definitely bad design - one millisecond ago do not start, and now do start - but in fact no essential changes happened."}, {"owner": {"reputation": 89, "user_id": 4395133, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yd_sWTGQOM0/AAAAAAAAAAI/AAAAAAAAABc/p5Yjc0q_fSU/photo.jpg?sz=128", "display_name": "Debapriyo Majumder", "link": "https://stackoverflow.com/users/4395133/debapriyo-majumder"}, "reply_to_user": {"reputation": 12389, "user_id": 1206301, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/NMBDq.jpg?s=128&g=1", "display_name": "Alexei Kaigorodov", "link": "https://stackoverflow.com/users/1206301/alexei-kaigorodov"}, "edited": false, "score": 0, "creation_date": 1561712844, "post_id": 56776981, "comment_id": 100162243, "body": "@AlexeiKaigorodov if one job is started and processing then concurrent invocations should be ignored. Once the current job is done, new requests can be handled. In short, only one job runs at a time + requests are not queued / blocked."}], "answers": [{"tags": [], "owner": {"reputation": 8287, "user_id": 9840318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mVUQR.jpg?s=128&g=1", "display_name": "Madhu Bhat", "link": "https://stackoverflow.com/users/9840318/madhu-bhat"}, "is_accepted": false, "score": 1, "last_activity_date": 1561570152, "last_edit_date": 1561570152, "creation_date": 1561567194, "answer_id": 56777505, "question_id": 56776981, "link": "https://stackoverflow.com/questions/56776981/java-new-thread-to-skip-synchronised-method-if-another-thread-already-in-it/56777505#56777505", "title": "Java: New thread to skip synchronised method if another thread already in it", "body": "<p>For <strong>requirement 1</strong>, if you want to use just <code>@Async</code>, you should have it on the service method and not the controller method. But be aware that by making it async, you would lose control over the job and failure handling will be not possible, unless you implement <code>@Async</code> with <code>Future</code> and handle failures by implementing <code>AsyncUncaughtExceptionHandler</code> interface.</p>\n\n<p>For <strong>requirement 3</strong>, you can have a volatile boolean field in the service, which gets set just before beginning the job process and unset after the job process completes. In your controller method, you can check the service's volatile boolean field to decide if the job is being executed or not and just return with appropriate message if the job is in progress. Also, make sure to unset the boolean field while handling the failure in the implementation of <code>AsyncUncaughtExceptionHandler</code> interface.</p>\n\n<p><strong>Service:</strong></p>\n\n<pre><code>@Service\npublic class SomeService {\n\n    public volatile boolean isJobInProgress = false;\n\n    @Async\n    public Future&lt;String&gt; executeJob() {\n        isJobInProgress = true;\n        //Job processing logic\n        isJobInProgress = false;\n    }\n}\n</code></pre>\n\n<p><strong>Controller:</strong></p>\n\n<pre><code>@RestController\npublic class SomeTask {\n\n    @Autowired\n    private SomeService someService;\n\n    @RequestMapping(method = RequestMethod.POST, path = \"/triggerJob\")\n    public void triggerJob() {\n        if (!someService.isJobInProgress){\n            someService.executeJob(); //can have this in a sync block to be on the safer side. \n        } else {\n            return;\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>Implementation of AsyncUncaughtExceptionHandler:</strong></p>\n\n<pre><code>public class CustomAsyncExceptionHandler implements AsyncUncaughtExceptionHandler {\n\n    @Autowired\n    private SomeService someService;\n\n    @Override\n    public void handleUncaughtException(\n            Throwable throwable, Method method, Object... obj) {\n\n        //Handle failure\n        if (someService.isJobInProgress){\n            someService.isJobInProgress = false;\n        }\n    }\n}\n</code></pre>\n\n<p><strong>@Async configuration:</strong></p>\n\n<pre><code>@Configuration\n@EnableAsync\npublic class SpringAsyncConfig implements AsyncConfigurer {\n\n    @Override\n    public Executor getAsyncExecutor() {\n        return new ThreadPoolTaskExecutor();\n    }\n\n    @Override\n    public AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {\n        return new CustomAsyncExceptionHandler();\n    }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 89, "user_id": 4395133, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yd_sWTGQOM0/AAAAAAAAAAI/AAAAAAAAABc/p5Yjc0q_fSU/photo.jpg?sz=128", "display_name": "Debapriyo Majumder", "link": "https://stackoverflow.com/users/4395133/debapriyo-majumder"}, "edited": false, "score": 0, "creation_date": 1561729198, "post_id": 56777968, "comment_id": 100170076, "body": "I cant seem to be able to write a unit test for triggerJob() method to test the fact that only one thread enters and runs the job while all others initiated during this time are skipped, without using some sort of delay (Thread.sleep) in my tests. Any ideas ?"}, {"owner": {"reputation": 36328, "user_id": 5483526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec50563f80bacd2a7fed69bd31d0c810?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Timmermans", "link": "https://stackoverflow.com/users/5483526/matt-timmermans"}, "reply_to_user": {"reputation": 89, "user_id": 4395133, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yd_sWTGQOM0/AAAAAAAAAAI/AAAAAAAAABc/p5Yjc0q_fSU/photo.jpg?sz=128", "display_name": "Debapriyo Majumder", "link": "https://stackoverflow.com/users/4395133/debapriyo-majumder"}, "edited": false, "score": 0, "creation_date": 1561733465, "post_id": 56777968, "comment_id": 100172282, "body": "In your unit test your &quot;long running job&quot; can wait on a <code>CountDownLatch</code> that you release when the other thread(s) are complete."}], "tags": [], "owner": {"reputation": 36328, "user_id": 5483526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec50563f80bacd2a7fed69bd31d0c810?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Timmermans", "link": "https://stackoverflow.com/users/5483526/matt-timmermans"}, "is_accepted": true, "score": 3, "last_activity_date": 1561608865, "last_edit_date": 1561608865, "creation_date": 1561569052, "answer_id": 56777968, "question_id": 56776981, "link": "https://stackoverflow.com/questions/56776981/java-new-thread-to-skip-synchronised-method-if-another-thread-already-in-it/56777968#56777968", "title": "Java: New thread to skip synchronised method if another thread already in it", "body": "<p>Synchronization isn't the right tool for the job.  You can do it like this:</p>\n\n<pre><code>@RestController\npublic class SomeTask {\n\n    private SomeService someService;\n    private final AtomicBoolean isTriggered = new AtomicBoolean();\n\n    @Autowired\n    public SomeTask(SomeService someService) {\n        this.someService = someService;\n    }\n\n    @Async // requirement 1\n    @RequestMapping(method = RequestMethod.POST, path = \"/triggerJob\")\n    public void triggerJob() {\n        if (!isTriggered.getAndSet(true)) {\n            try {\n                expensiveLongRunningJob();\n            } finally {\n                isTriggered.set(false);\n            }\n        }\n    }\n\n    /**\n     * only runs once at a time, in the thread that sets isTriggered to true\n     */\n    private void expensiveLongRunningJob() { \n        someService.executedJob();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 4395133, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yd_sWTGQOM0/AAAAAAAAAAI/AAAAAAAAABc/p5Yjc0q_fSU/photo.jpg?sz=128", "display_name": "Debapriyo Majumder", "link": "https://stackoverflow.com/users/4395133/debapriyo-majumder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 1, "accepted_answer_id": 56777968, "answer_count": 2, "score": 3, "last_activity_date": 1561608865, "creation_date": 1561565103, "last_edit_date": 1561565635, "question_id": 56776981, "link": "https://stackoverflow.com/questions/56776981/java-new-thread-to-skip-synchronised-method-if-another-thread-already-in-it", "title": "Java: New thread to skip synchronised method if another thread already in it", "body": "<p><strong>Requirements</strong></p>\n\n<ol>\n<li><p>I need to be able to trigger a (long running) job via a POST call and return immediately. </p></li>\n<li><p>Only one thread can run the job at one time.</p></li>\n<li><p>The job being an expensive one, I want all future triggers of this job to not do anything if one job is already in progress. </p></li>\n</ol>\n\n<p><strong>Code</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class SomeTask {\n\n    private SomeService someService;\n\n    @Autowired\n    public SomeTask(SomeService someService) {\n        this.someService = someService;\n    }\n\n    @Async // requirement 1\n    @RequestMapping(method = RequestMethod.POST, path = \"/triggerJob\")\n    public void triggerJob() {\n        expensiveLongRunningJob();\n    }\n\n    /**\n     * Synchronized in order to restrict multiple invocations. // requirement 2\n     *\n     */\n    private synchronized void expensiveLongRunningJob() { \n        someService.executedJob();\n    }\n}\n\n</code></pre>\n\n<p><strong>Question</strong></p>\n\n<p>With the above code requirements 1 and 2 are satisfied. What is the best way to satisfy requirement 3 as well (have the new thread, created as a result of a POST call, skip the synchronised method and return immediately on failure to acquire a lock)?</p>\n"}, {"tags": ["java", "android", "android-recyclerview"], "comments": [{"owner": {"reputation": 1033, "user_id": 6628878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5IHTc.jpg?s=128&g=1", "display_name": "MedAmine.Rihane", "link": "https://stackoverflow.com/users/6628878/medamine-rihane"}, "edited": false, "score": 0, "creation_date": 1561565591, "post_id": 56776973, "comment_id": 100109536, "body": "can you try to make viewholder attributes not private ? i think for that you can&#39;t set image ressource or add a getter and setter for viewholder attributes ."}, {"owner": {"reputation": 2225, "user_id": 2517849, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GCGSi.jpg?s=128&g=1", "display_name": "Naveed", "link": "https://stackoverflow.com/users/2517849/naveed"}, "edited": false, "score": 0, "creation_date": 1561565695, "post_id": 56776973, "comment_id": 100109593, "body": "Its telling you where the problem is <code>java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.github.abdularis.civ.CircleImageView.setImageResource(in&zwnj;&#8203;t)&#39; on a null object reference</code> There is a null pointer being thrown in your <code>CircleImageView</code>"}, {"owner": {"reputation": 71, "user_id": 8099601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80674cb60fe7ee29958d352975a570fa?s=128&d=identicon&r=PG&f=1", "display_name": "Iron Man", "link": "https://stackoverflow.com/users/8099601/iron-man"}, "reply_to_user": {"reputation": 1033, "user_id": 6628878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5IHTc.jpg?s=128&g=1", "display_name": "MedAmine.Rihane", "link": "https://stackoverflow.com/users/6628878/medamine-rihane"}, "edited": false, "score": 0, "creation_date": 1561566601, "post_id": 56776973, "comment_id": 100110027, "body": "@MedAmine.Rihane tried, didn&#39;t solved it :("}, {"owner": {"reputation": 71, "user_id": 8099601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80674cb60fe7ee29958d352975a570fa?s=128&d=identicon&r=PG&f=1", "display_name": "Iron Man", "link": "https://stackoverflow.com/users/8099601/iron-man"}, "reply_to_user": {"reputation": 2225, "user_id": 2517849, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GCGSi.jpg?s=128&g=1", "display_name": "Naveed", "link": "https://stackoverflow.com/users/2517849/naveed"}, "edited": false, "score": 0, "creation_date": 1561567063, "post_id": 56776973, "comment_id": 100110234, "body": "@Naveed saw that&#39; but none of the things written in this error is null... all the drawable mentioned in Goal.java exist,  the CircleImageView itself exists in the goals_list_ item.xml ... I can&#39;t find anything that is actually null, so I suspect its something about the order of the methods calling in ActiveGoals.java"}, {"owner": {"reputation": 16285, "user_id": 4860513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zNzBp.jpg?s=128&g=1", "display_name": "W0rmH0le", "link": "https://stackoverflow.com/users/4860513/w0rmh0le"}, "edited": false, "score": 0, "creation_date": 1561568142, "post_id": 56776973, "comment_id": 100110681, "body": "Try Tools-&gt;Rebuild or Tools-&gt;Clean and build again. You are inflating proper layouts. This null pointer seems an Android Studio error."}, {"owner": {"reputation": 71, "user_id": 8099601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80674cb60fe7ee29958d352975a570fa?s=128&d=identicon&r=PG&f=1", "display_name": "Iron Man", "link": "https://stackoverflow.com/users/8099601/iron-man"}, "reply_to_user": {"reputation": 16285, "user_id": 4860513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zNzBp.jpg?s=128&g=1", "display_name": "W0rmH0le", "link": "https://stackoverflow.com/users/4860513/w0rmh0le"}, "edited": false, "score": 0, "creation_date": 1561568390, "post_id": 56776973, "comment_id": 100110786, "body": "@W0rmH0le tried cleaning and rebuilding, the app still crashes"}, {"owner": {"reputation": 2225, "user_id": 2517849, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GCGSi.jpg?s=128&g=1", "display_name": "Naveed", "link": "https://stackoverflow.com/users/2517849/naveed"}, "edited": false, "score": 0, "creation_date": 1562003210, "post_id": 56776973, "comment_id": 100232600, "body": "Can you comment out the <code>holder.goalImage.setImageResource(goals.get(position).getIma&zwnj;&#8203;geId());</code> to see if it still crashes?  That will help you isolate the issue from missing views to image resources."}, {"owner": {"reputation": 71, "user_id": 8099601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80674cb60fe7ee29958d352975a570fa?s=128&d=identicon&r=PG&f=1", "display_name": "Iron Man", "link": "https://stackoverflow.com/users/8099601/iron-man"}, "reply_to_user": {"reputation": 2225, "user_id": 2517849, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GCGSi.jpg?s=128&g=1", "display_name": "Naveed", "link": "https://stackoverflow.com/users/2517849/naveed"}, "edited": false, "score": 0, "creation_date": 1562101780, "post_id": 56776973, "comment_id": 100270064, "body": "@Naveed Actually already tried that, it moves to blame the text for the error:       java.lang.NullPointerException: Attempt to invoke virtual method &#39;void     android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object     reference             at     com.example.performancemeasurement.RecyclerViewAdapter.onBin&zwnj;&#8203;dViewHo    lder(RecyclerViewAdapter.java:38)             at     com.example.performancemeasurement.RecyclerViewAdapter.onBin&zwnj;&#8203;dViewHo    lder(RecyclerViewAdapter.java:17)&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 8099601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80674cb60fe7ee29958d352975a570fa?s=128&d=identicon&r=PG&f=1", "display_name": "Iron Man", "link": "https://stackoverflow.com/users/8099601/iron-man"}, "edited": false, "score": 0, "creation_date": 1561643763, "post_id": 56786651, "comment_id": 100139831, "body": "still the app crashes, still the same log... the problem is actually a null exception, because even if I delete the goalImage-setup line, the app crashes because of the goalName-setup line... I guess the problem is in loading the goals themselves."}, {"owner": {"reputation": 85, "user_id": 8805150, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Tc2I3vusb2k/AAAAAAAAAAI/AAAAAAAAH-c/--RSm60P-9o/photo.jpg?sz=128", "display_name": "Dr BigKitkat", "link": "https://stackoverflow.com/users/8805150/dr-bigkitkat"}, "reply_to_user": {"reputation": 71, "user_id": 8099601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80674cb60fe7ee29958d352975a570fa?s=128&d=identicon&r=PG&f=1", "display_name": "Iron Man", "link": "https://stackoverflow.com/users/8099601/iron-man"}, "edited": false, "score": 0, "creation_date": 1561712741, "post_id": 56786651, "comment_id": 100162199, "body": "Try calling the initGoals() method and the recyler view initialization in the onViewCreated() method instead of the onCreateView()"}, {"owner": {"reputation": 71, "user_id": 8099601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80674cb60fe7ee29958d352975a570fa?s=128&d=identicon&r=PG&f=1", "display_name": "Iron Man", "link": "https://stackoverflow.com/users/8099601/iron-man"}, "edited": false, "score": 0, "creation_date": 1561829456, "post_id": 56786651, "comment_id": 100192087, "body": "There&#39;s no such a method onViewCreated() :/"}, {"owner": {"reputation": 85, "user_id": 8805150, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Tc2I3vusb2k/AAAAAAAAAAI/AAAAAAAAH-c/--RSm60P-9o/photo.jpg?sz=128", "display_name": "Dr BigKitkat", "link": "https://stackoverflow.com/users/8805150/dr-bigkitkat"}, "reply_to_user": {"reputation": 71, "user_id": 8099601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80674cb60fe7ee29958d352975a570fa?s=128&d=identicon&r=PG&f=1", "display_name": "Iron Man", "link": "https://stackoverflow.com/users/8099601/iron-man"}, "edited": false, "score": 0, "creation_date": 1562077439, "post_id": 56786651, "comment_id": 100259306, "body": "onViewCreated (View view, Bundle savedInstanceState) in the fragment"}, {"owner": {"reputation": 71, "user_id": 8099601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80674cb60fe7ee29958d352975a570fa?s=128&d=identicon&r=PG&f=1", "display_name": "Iron Man", "link": "https://stackoverflow.com/users/8099601/iron-man"}, "edited": false, "score": 0, "creation_date": 1562343255, "post_id": 56786651, "comment_id": 100357398, "body": "tried calling the initGoals() method and the recyler view initialization in the onViewCreated() method instead of the onCreateView(), didn&#39;t work :/"}], "tags": [], "owner": {"reputation": 85, "user_id": 8805150, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Tc2I3vusb2k/AAAAAAAAAAI/AAAAAAAAH-c/--RSm60P-9o/photo.jpg?sz=128", "display_name": "Dr BigKitkat", "link": "https://stackoverflow.com/users/8805150/dr-bigkitkat"}, "is_accepted": false, "score": 0, "last_activity_date": 1561622890, "creation_date": 1561622890, "answer_id": 56786651, "question_id": 56776973, "link": "https://stackoverflow.com/questions/56776973/recycleviewadapter-gets-null-exception-while-loading-its-items-recycleview-in/56786651#56786651", "title": "RecycleViewAdapter gets null exception while loading it&#39;s items (RecycleView in a Fragment)", "body": "<p>I know this is a custom view, but if it extends a normal ImageView, you should instead try this because you are using a drawable ID</p>\n\n<pre><code>holder.goalImage.setImageDrawable(mContext.getDrawable(goals.get(position).getImageId()));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 8099601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80674cb60fe7ee29958d352975a570fa?s=128&d=identicon&r=PG&f=1", "display_name": "Iron Man", "link": "https://stackoverflow.com/users/8099601/iron-man"}, "is_accepted": true, "score": 1, "last_activity_date": 1563553723, "creation_date": 1563553723, "answer_id": 57116405, "question_id": 56776973, "link": "https://stackoverflow.com/questions/56776973/recycleviewadapter-gets-null-exception-while-loading-its-items-recycleview-in/57116405#57116405", "title": "RecycleViewAdapter gets null exception while loading it&#39;s items (RecycleView in a Fragment)", "body": "<p>Just figured it out! the problem was in the goal_list_item.xml (v26)... the ids of the objects were somehow different and the code could'nt find the right objects by their ids. sorry for bothering,my bad XD thanks everyone for helping me!</p>\n"}], "owner": {"reputation": 71, "user_id": 8099601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80674cb60fe7ee29958d352975a570fa?s=128&d=identicon&r=PG&f=1", "display_name": "Iron Man", "link": "https://stackoverflow.com/users/8099601/iron-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1424, "favorite_count": 0, "accepted_answer_id": 57116405, "answer_count": 2, "score": 1, "last_activity_date": 1563553723, "creation_date": 1561565062, "last_edit_date": 1563524085, "question_id": 56776973, "link": "https://stackoverflow.com/questions/56776973/recycleviewadapter-gets-null-exception-while-loading-its-items-recycleview-in", "title": "RecycleViewAdapter gets null exception while loading it&#39;s items (RecycleView in a Fragment)", "body": "<p>In my app I have an activity (main activity), that has in it a ViewPager, that shows Fragments. Right now I have a Fragment that has in it a RecyclerView. This RecyclerView supposed to show a list of 'Goal' objects. every time I run the app it crushes, says it has a null issue, and I thought it is probbably because of the order things were written.</p>\n\n<p>I've tried then changing the order, searching on the internet for what else could the issue be, with no success.</p>\n\n<p>the error log:</p>\n\n<pre><code>2019-06-26 18:51:10.544 15296-15296/com.example.performancemeasurement E/RecyclerView: No adapter attached; skipping layout\n2019-06-26 18:52:23.369 15296-15349/com.example.performancemeasurement E/zygote64: Dex checksum does not match for dex: /data/data/com.example.performancemeasurement/files/instant-run/dex-temp/reload0x0000.dex.Expected: 3346174271, actual: 1626468260\n2019-06-26 18:52:24.380 15296-15296/com.example.performancemeasurement E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.performancemeasurement, PID: 15296\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void com.github.abdularis.civ.CircleImageView.setImageResource(int)' on a null object reference\n        at com.example.performancemeasurement.RecyclerViewAdapter.onBindViewHolder(RecyclerViewAdapter.java:36)\n        at com.example.performancemeasurement.RecyclerViewAdapter.onBindViewHolder(RecyclerViewAdapter.java:17)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:6781)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:6823)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:5752)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6019)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5858)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5854)\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2230)\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1557)\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1517)\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:612)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:3924)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3641)\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4194)\n        at android.view.View.layout(View.java:19654)\n        at android.view.ViewGroup.layout(ViewGroup.java:6127)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n        at android.view.View.layout(View.java:19654)\n        at android.view.ViewGroup.layout(ViewGroup.java:6127)\n        at androidx.viewpager.widget.ViewPager.onLayout(ViewPager.java:1775)\n        at android.view.View.layout(View.java:19654)\n        at android.view.ViewGroup.layout(ViewGroup.java:6127)\n        at android.widget.RelativeLayout.onLayout(RelativeLayout.java:1081)\n        at android.view.View.layout(View.java:19654)\n        at android.view.ViewGroup.layout(ViewGroup.java:6127)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n        at android.view.View.layout(View.java:19654)\n        at android.view.ViewGroup.layout(ViewGroup.java:6127)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1791)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1635)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1544)\n        at android.view.View.layout(View.java:19654)\n        at android.view.ViewGroup.layout(ViewGroup.java:6127)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n        at android.view.View.layout(View.java:19654)\n        at android.view.ViewGroup.layout(ViewGroup.java:6127)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1791)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1635)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1544)\n        at android.view.View.layout(View.java:19654)\n        at android.view.ViewGroup.layout(ViewGroup.java:6127)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n        at com.android.internal.policy.DecorView.onLayout(DecorView.java:782)\n        at android.view.View.layout(View.java:19654)\n        at android.view.ViewGroup.layout(ViewGroup.java:6127)\n        at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:2584)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2293)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1451)\n2019-06-26 18:52:24.380 15296-15296/com.example.performancemeasurement E/AndroidRuntime:     at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7204)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:979)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:791)\n        at android.view.Choreographer.doFrame(Choreographer.java:726)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:965)\n        at android.os.Handler.handleCallback(Handler.java:789)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6710)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:770)\n</code></pre>\n\n<p>fragment_active_goals.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".ActiveGoals\"&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=\"@+id/activeGoalsRecyclerView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>goals_list_item.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.cardview.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/goalCardParent\"\n    android:orientation=\"vertical\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    app:cardCornerRadius=\"0dp\"\n    android:clickable=\"true\"\n    android:focusable=\"true\"\n    android:background=\"@color/cardview_light_background\"&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        &lt;com.github.abdularis.civ.CircleImageView\n            android:id=\"@+id/goalImage\"\n            android:layout_width=\"150dp\"\n            android:layout_height=\"0dp\"\n            app:layout_constraintDimensionRatio=\"1:1\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintVertical_bias=\"0.5\"\n            android:src=\"@drawable/active_brain_drawing\"/&gt;\n\n        &lt;TextView\n            android:id=\"@+id/goalName\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            app:layout_constraintStart_toEndOf=\"@id/goalImage\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            android:autoSizeTextType=\"uniform\"\n            android:padding=\"15dp\"\n            android:text=\"@string/active_goal_name_sample\"/&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n\n<p>ActiveGoals.java:</p>\n\n<pre><code>public class ActiveGoals extends Fragment {\n\n    private ArrayList&lt;Goal&gt; goals = new ArrayList&lt;&gt;();\n    private RecyclerView recyclerView;\n\n    public ActiveGoals() {\n        // Required empty public constructor\n    }\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View v = inflater.inflate(R.layout.fragment_active_goals, container, false);\n        recyclerView = v.findViewById(R.id.activeGoalsRecyclerView);\n        initGoals();\n        return v;\n    }\n\n    private void initGoals(){\n        goals.add(new Goal(\"A\", \"active\", \"\", null));\n        goals.add(new Goal(\"B\", \"bronze\", \"\", null));\n        goals.add(new Goal(\"C\", \"silver\", \"\", null));\n        goals.add(new Goal(\"D\", \"gold\", \"\", null));\n        goals.add(new Goal(\"E\", \"active\", \"\", null));\n        goals.add(new Goal(\"F\", \"bronze\", \"\", null));\n        goals.add(new Goal(\"G\", \"silver\", \"\", null));\n        goals.add(new Goal(\"H\", \"gold\", \"\", null));\n        initRecyclerView();\n    }\n\n    private void initRecyclerView(){\n        RecyclerViewAdapter adapter = new RecyclerViewAdapter(goals, this.getContext());\n        recyclerView.setAdapter(adapter);\n        recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\n    }\n\n}\n</code></pre>\n\n<p>Goal.java:</p>\n\n<pre><code>public class Goal {\n    private String name, status, description;\n    private Integer imageId;\n    private ArrayList&lt;Goal&gt; subGoals;\n\n    public Goal(String name, String status, String description, ArrayList&lt;Goal&gt; subGoals) {\n        this.name = name;\n        this.status = status;\n        this.description = description;\n        this.subGoals = subGoals;\n\n        switch (status){\n            case \"active\":\n                imageId = R.drawable.active_brain_drawing;\n                break;\n            case \"bronze\":\n                imageId = R.drawable.bronze_medal;\n                break;\n            case \"silver\":\n                imageId = R.drawable.silver_medal;\n                break;\n            case \"gold\":\n                imageId = R.drawable.golden_medal;\n                break;\n            default:\n                imageId = R.drawable.active_brain_drawing;\n                break;\n        }\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n        switch (status){\n            case \"active\":\n                imageId = R.drawable.active_brain_drawing;\n                break;\n            case \"bronze\":\n                imageId = R.drawable.bronze_medal;\n                break;\n            case \"silver\":\n                imageId = R.drawable.silver_medal;\n                break;\n            case \"gold\":\n                imageId = R.drawable.golden_medal;\n                break;\n            default:\n                imageId = R.drawable.active_brain_drawing;\n                break;\n        }\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public ArrayList&lt;Goal&gt; getSubGoals() {\n        return subGoals;\n    }\n\n    public void setImageId(Integer imageId) {\n        this.imageId = imageId;\n    }\n\n    public Integer getImageId() {\n        return imageId;\n    }\n}\n</code></pre>\n\n<p>RecyclerViewAdapter.java:</p>\n\n<pre><code>public class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerViewAdapter.MyViewHolder&gt; {\n\n    private ArrayList&lt;Goal&gt; goals;\n    private Context mContext;\n\n    RecyclerViewAdapter(ArrayList&lt;Goal&gt; goals, Context mContext) {\n        this.goals = goals;\n        this.mContext = mContext;\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(mContext).inflate(R.layout.goals_list_item, parent, false);\n        return new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        holder.goalImage.setImageResource(goals.get(position).getImageId());\n\n        holder.goalName.setText(goals.get(position).getName());\n\n        holder.goalCardParent.setOnClickListener(view -&gt; {\n\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return goals.size();\n    }\n\n    class MyViewHolder extends RecyclerView.ViewHolder{\n\n        private CardView goalCardParent;\n        private CircleImageView goalImage;\n        private TextView goalName;\n\n        MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n            goalCardParent = itemView.findViewById(R.id.goalCardParent);\n            goalImage = itemView.findViewById(R.id.goalImage);\n            goalName = itemView.findViewById(R.id.goalName);\n\n        }\n    }\n}\n</code></pre>\n\n<p>Where is the problem and how can I fix it?</p>\n\n<h1>EDIT</h1>\n\n<p>Found where's the problem - the goalImage, goalName and goalCardParent under the holder in the onBindViewHolder method (in the RecyclerViewAdapter class) are all null, while the holder is not. What's the cause and how can I fix it? </p>\n\n<p>thanks in advance (:</p>\n"}, {"tags": ["java", "android", "tensorflow-lite"], "comments": [{"owner": {"reputation": 3081, "user_id": 2711811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fc519c42e8a7c55c1e33af5ca6203f4?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/2711811/andy"}, "edited": false, "score": 0, "creation_date": 1561567236, "post_id": 56776846, "comment_id": 100110306, "body": "This answer is probably what you want: <a href=\"https://stackoverflow.com/a/18729478/2711811\">stackoverflow.com/a/18729478/2711811</a> - add the listener call at line 152.  Seems like a bug in the example -or- a race condition not accounted for.  Basically the camera is set to null onPause but the <code>onSurfaceTextureAvailable</code> (which sets the camera) is not called again because the view is already available.  (The main activity is not starting because one of its fragments failed during onResume.)"}, {"owner": {"reputation": 4057, "user_id": 8285811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C38qo.jpg?s=128&g=1", "display_name": "Akaisteph7", "link": "https://stackoverflow.com/users/8285811/akaisteph7"}, "reply_to_user": {"reputation": 3081, "user_id": 2711811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fc519c42e8a7c55c1e33af5ca6203f4?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/2711811/andy"}, "edited": false, "score": 0, "creation_date": 1561578521, "post_id": 56776846, "comment_id": 100115174, "body": "@Andy But why does commenting out the lines I mention above not restart the main activity? since <code>onsurfaceTextureAvailable</code> was already run, shouldn&#39;t everything be in place already?"}], "answers": [{"tags": [], "owner": {"reputation": 4057, "user_id": 8285811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C38qo.jpg?s=128&g=1", "display_name": "Akaisteph7", "link": "https://stackoverflow.com/users/8285811/akaisteph7"}, "is_accepted": true, "score": 0, "last_activity_date": 1562170566, "creation_date": 1562170566, "answer_id": 56874335, "question_id": 56776846, "link": "https://stackoverflow.com/questions/56776846/why-doesnt-the-activity-resume-properly/56874335#56874335", "title": "Why doesn&#39;t the activity resume properly?", "body": "<p>The changes that I made and mention in the question did not solve the problem for some reason. I imagine it has to do with the callback not being set properly after onStop is called or the new backgroundthread changing something?</p>\n\n<p>To fix it, I added </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>textureView.getSurfaceTextureListener().onSurfaceTextureAvailable(textureView.getSurfaceTexture(), textureView.getWidth(), textureView.getHeight());\n</code></pre>\n\n<p>before line 152 in the Legacy... .java file.</p>\n"}], "owner": {"reputation": 4057, "user_id": 8285811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C38qo.jpg?s=128&g=1", "display_name": "Akaisteph7", "link": "https://stackoverflow.com/users/8285811/akaisteph7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 56874335, "answer_count": 1, "score": 0, "last_activity_date": 1562170566, "creation_date": 1561564635, "question_id": 56776846, "link": "https://stackoverflow.com/questions/56776846/why-doesnt-the-activity-resume-properly", "title": "Why doesn&#39;t the activity resume properly?", "body": "<p>I am trying to get a program to correctly resume after onPause and onStop are called as a result of pressing the rightmost button to look at the open applications or making the phone go to sleep. I am not familiar with what the correct calls are. I have looked up some information about this but all I have found are people saying to call super.onPause in onPause and super.onResume in the onResume and then write my code. This code is not mine however and crashes upon resume with error: </p>\n\n<pre><code>java.lang.RuntimeException: Unable to resume activity {org.tensorflow.lite.examples.detection/org.tensorflow.lite.examples.detection.DetectorActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.hardware.Camera.startPreview()' on a null object reference\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.hardware.Camera.startPreview()' on a null object reference\n</code></pre>\n\n<p>The code can be found at: \n<a href=\"https://github.com/tensorflow/examples/blob/master/lite/examples/object_detection/android/app/src/main/java/org/tensorflow/lite/examples/detection/LegacyCameraConnectionFragment.java\" rel=\"nofollow noreferrer\">https://github.com/tensorflow/examples/blob/master/lite/examples/object_detection/android/app/src/main/java/org/tensorflow/lite/examples/detection/LegacyCameraConnectionFragment.java</a></p>\n\n<p><br>\nI have <strong>two</strong> questions about all of this:  </p>\n\n<ul>\n<li><p>I can get the camera to restart properly by commenting out lines 185-187 but I do not know if this is the correct way to go about this. Comments? Thoughts?</p></li>\n<li><p>And even if this works, the main activity does not restart. This is the actual main issue here. I also imagine something must be wrong with this code but cannot figure out what it is. Any advice on how to fix it? </p></li>\n</ul>\n\n<p><br>\nMain activity code link:\n<a href=\"https://github.com/tensorflow/examples/blob/master/lite/examples/object_detection/android/app/src/main/java/org/tensorflow/lite/examples/detection/CameraActivity.java\" rel=\"nofollow noreferrer\">https://github.com/tensorflow/examples/blob/master/lite/examples/object_detection/android/app/src/main/java/org/tensorflow/lite/examples/detection/CameraActivity.java</a></p>\n"}, {"tags": ["java", "regex", "groovy"], "comments": [{"owner": {"reputation": 21, "user_id": 5637719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/520b5c40a5e6b61cb68dfdbd0caece79?s=128&d=identicon&r=PG&f=1", "display_name": "krisP", "link": "https://stackoverflow.com/users/5637719/krisp"}, "reply_to_user": {"reputation": 18354, "user_id": 1276664, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/873470471a482071b8e085095cf89221?s=128&d=identicon&r=PG", "display_name": "daggett", "link": "https://stackoverflow.com/users/1276664/daggett"}, "edited": false, "score": 0, "creation_date": 1561573251, "post_id": 56776839, "comment_id": 100112926, "body": "When running the script as is, there are no error messages. The file simply doesn&#39;t copy. I&#39;ve been looking into it some more and it seems to occur in the <code>SourceDirToCopy.eachFileRecurse()</code> when &quot;matching&quot; the paths. Although a println would should that <code>IncludesRegexInfo.getAllRegexes()</code> and <code>SourceFilePath</code> would show the same value, when using a <code>SourceFilePath.matches(IncludesRegexInfo.getAllRegexes) </code>  the expression would evaluate to false."}, {"owner": {"reputation": 18354, "user_id": 1276664, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/873470471a482071b8e085095cf89221?s=128&d=identicon&r=PG", "display_name": "daggett", "link": "https://stackoverflow.com/users/1276664/daggett"}, "edited": false, "score": 0, "creation_date": 1561621469, "post_id": 56776839, "comment_id": 100126628, "body": "just before <code>Files.copy</code> put the following assertions: <code>assert SourceFile.exists()</code> and <code>assert TargetFile.getParentFile().exists()</code>. then you&#39;ll see the error if source file of target folder does not exist. the error <code>unexpected characters</code> connected with wrong regular expression."}, {"owner": {"reputation": 21, "user_id": 5637719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/520b5c40a5e6b61cb68dfdbd0caece79?s=128&d=identicon&r=PG&f=1", "display_name": "krisP", "link": "https://stackoverflow.com/users/5637719/krisp"}, "reply_to_user": {"reputation": 18354, "user_id": 1276664, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/873470471a482071b8e085095cf89221?s=128&d=identicon&r=PG", "display_name": "daggett", "link": "https://stackoverflow.com/users/1276664/daggett"}, "edited": false, "score": 0, "creation_date": 1561638637, "post_id": 56776839, "comment_id": 100136368, "body": "Yeah, but the problem is that it never makes it into that <code>if(SourceFilePath.matches(IncludesRegexInfo.getAllRegexes() &amp;&amp; !SourceFilePath.matches(ExcludesRegexInfo.getAllRegexes()))</code> to do the assertions. If you do a <code>println</code> for  <code>SourceFilePath</code> and <code>IncludesRegexInfo.getAllRegexes()</code> you&#39;ll see that both of those values would be the same. However I think since the <code>(</code> is a special character for grouping in regex, it is somehow affecting either of the two listed variables."}, {"owner": {"reputation": 18354, "user_id": 1276664, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/873470471a482071b8e085095cf89221?s=128&d=identicon&r=PG", "display_name": "daggett", "link": "https://stackoverflow.com/users/1276664/daggett"}, "edited": false, "score": 0, "creation_date": 1561640949, "post_id": 56776839, "comment_id": 100137920, "body": "so, what&#39;s your question? do you need help with regex?"}, {"owner": {"reputation": 21, "user_id": 5637719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/520b5c40a5e6b61cb68dfdbd0caece79?s=128&d=identicon&r=PG&f=1", "display_name": "krisP", "link": "https://stackoverflow.com/users/5637719/krisp"}, "reply_to_user": {"reputation": 18354, "user_id": 1276664, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/873470471a482071b8e085095cf89221?s=128&d=identicon&r=PG", "display_name": "daggett", "link": "https://stackoverflow.com/users/1276664/daggett"}, "edited": false, "score": 0, "creation_date": 1561642101, "post_id": 56776839, "comment_id": 100138690, "body": "I guess so, or at least how to replace that special character <code>(</code> with the escaped version of it. I&#39;ve tried replacing it with the following line of code <code>SourceFilePath.replaceAll(&quot;\\\\(&quot;,Matcher.quoteReplacement(&#39;(&#39;&zwnj;&#8203;))</code> but I&#39;m not sure if I&#39;m selecting what I want to replace correctly."}, {"owner": {"reputation": 18354, "user_id": 1276664, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/873470471a482071b8e085095cf89221?s=128&d=identicon&r=PG", "display_name": "daggett", "link": "https://stackoverflow.com/users/1276664/daggett"}, "edited": false, "score": 0, "creation_date": 1561642458, "post_id": 56776839, "comment_id": 100138925, "body": "i think you have to ask another question and provide what you have (input data), what you want to achieve, and what you&#39;ve tried. make your non-working code simple, so anybody could help you."}, {"owner": {"reputation": 21, "user_id": 5637719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/520b5c40a5e6b61cb68dfdbd0caece79?s=128&d=identicon&r=PG&f=1", "display_name": "krisP", "link": "https://stackoverflow.com/users/5637719/krisp"}, "reply_to_user": {"reputation": 18354, "user_id": 1276664, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/873470471a482071b8e085095cf89221?s=128&d=identicon&r=PG", "display_name": "daggett", "link": "https://stackoverflow.com/users/1276664/daggett"}, "edited": false, "score": 0, "creation_date": 1561643152, "post_id": 56776839, "comment_id": 100139430, "body": "I mean my post already encompasses the question I asked, i.e. the second paragraph. Plus the code I provided also has all of the input data and has been slimmed down to show how exactly it works and where I believe it needs to be edited..."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 5637719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/520b5c40a5e6b61cb68dfdbd0caece79?s=128&d=identicon&r=PG&f=1", "display_name": "krisP", "link": "https://stackoverflow.com/users/5637719/krisp"}, "is_accepted": true, "score": 0, "last_activity_date": 1561739060, "last_edit_date": 1561739060, "creation_date": 1561645209, "answer_id": 56793114, "question_id": 56776839, "link": "https://stackoverflow.com/questions/56776839/groovy-java-issue-copying-files-with-parentheses-in-its-path/56793114#56793114", "title": "Groovy/Java - Issue copying files with parentheses in its path", "body": "<p>In order to solve the issue of the script not copying, there was an issue with <code>if(SourceFilePath.matches(IncludesRegexInfo.getAllRegexes() &amp;&amp; !SourceFilePath.matches(ExcludesRegexInfo.getAllRegexes()))</code> when \"matching\" the two strings. </p>\n\n<p>The strings read as the same lines however did not match in terms of regex. To fix this you must escape the <code>(</code> and <code>)</code> in the <code>ExcludesRegexInfo.getAllRegexes()</code>. This was done with an <code>.replaceAll(\"\\\\(\",\"\\\\\\\\(\").replaceAll(\"\\\\)\",\"\\\\\\\\)\")</code></p>\n"}], "owner": {"reputation": 21, "user_id": 5637719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/520b5c40a5e6b61cb68dfdbd0caece79?s=128&d=identicon&r=PG&f=1", "display_name": "krisP", "link": "https://stackoverflow.com/users/5637719/krisp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 56793114, "answer_count": 1, "score": 1, "last_activity_date": 1561739060, "creation_date": 1561564598, "question_id": 56776839, "link": "https://stackoverflow.com/questions/56776839/groovy-java-issue-copying-files-with-parentheses-in-its-path", "title": "Groovy/Java - Issue copying files with parentheses in its path", "body": "<p>I currently have a script that copies files from a source directory to a target directory through regex inclusions and exclusions, however when the path contains parentheses the file will not copy.</p>\n\n<p>My initial thought was that the issue was with how source and target were being read since ( is a special character, to combat that I've tried to replace the ( with an escaped (, but I may have been doing that portion wrong.</p>\n\n<pre><code>import groovy.io.FileType\nimport java.nio.file.*\n\n    String Source = 'C:/temp/file(s)'\n    String Target = 'C:/newTemp/file(s)'\n\n    String InclusionsRegexes = \"garbage.txt\"\n\n    String ExclusionsRegexes = \"\"\n\n    class RegexInfo\n    {\n        private String AllRegexes = \"\";\n\n        public RegexInfo(String RegexString, String RegexType, String Source)\n        {\n            if(RegexString != null)\n            {\n                def RegexArray = RegexString.split(\",\");\n\n                for(item in RegexArray)\n                {\n                    String fullRegexPath = Source + \"/\" + item;\n\n                    if(AllRegexes != null &amp;&amp; !AllRegexes.isAllWhitespace())\n                    {\n                        //Add regex value for Or\n                        AllRegexes += \"|\";\n                    }\n                    AllRegexes += fullRegexPath;\n                }\n            }\n        }\n        public String getAllRegexes() { return this.AllRegexes; }\n    }\n\n    IncludesRegexInfo = new RegexInfo(InclusionsRegexes, \"inclusion\", Source);\n    ExcludesRegexInfo = new RegexInfo(ExclusionsRegexes, \"exclusion\", Source);\n\n    File SourceDirToCopy = new File(Source);\n\n    SourceDirToCopy.eachFileRecurse()\n    {\n        SourceFile -&gt;\n\n        String SourceFilePath = SourceFile.toString().replaceAll(\"\\\\\\\\\",\"/\");\n\n        if(SourceFile.isDirectory())\n        {\n            SourceFilePath += \"/\"\n        }\n\n        if(SourceFilePath.matches(IncludesRegexInfo.getAllRegexes()) &amp;&amp; !SourceFilePath.matches(ExcludesRegexInfo.getAllRegexes()))\n        {\n            File TargetFile = new File(SourceFilePath.replace(Source, Target))\n            String TargetFilePath = TargetFile.toString().replaceAll(\"\\\\\\\\\", \"/\");\n\n                if(!TargetFile.getParentFile().exists())\n                {\n                    TargetFile.getParentFile().mkdirs()\n                }\n                Files.copy(SourceFile.toPath(), TargetFile.toPath(), StandardCopyOption.REPLACE_EXISTING);\n            }\n        }\n    }\n</code></pre>\n\n<p>The errors I've been receiving have been either unexpected characters or the file not moving without an error.</p>\n"}, {"tags": ["java", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 1, "user_id": 11704119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee2c983ec6aeeaf6367e9b0d37bc4f99?s=128&d=identicon&r=PG&f=1", "display_name": "Enver Cin", "link": "https://stackoverflow.com/users/11704119/enver-cin"}, "edited": false, "score": 0, "creation_date": 1561566941, "post_id": 56776758, "comment_id": 100110193, "body": "The problem here is: I am facing with frames AND! new windows. When I try to switchTo defaultContent() first and then to a frame, I get the following error message:   &quot;Exception in thread &quot;main&quot; org.openqa.selenium.NoSuchWindowException: Unable to get browser"}, {"owner": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "edited": false, "score": 0, "creation_date": 1561571087, "post_id": 56776758, "comment_id": 100112017, "body": "you&#39;ll want to wait until those framesets are loaded.  The main page may return as pageloaded before the frameset content is loaded.  Try using ExpectedConditions.FrameToBeAvailableAndSwitchToIt... <a href=\"https://seleniumhq.github.io/selenium/docs/api/dotnet/html/M_OpenQA_Selenium_Support_UI_ExpectedConditions_FrameToBeAvailableAndSwitchToIt.htm\" rel=\"nofollow noreferrer\">seleniumhq.github.io/selenium/docs/api/dotnet/html/&hellip;</a>  I think you can then safely assume the frameset has been loaded and the new window has been created. Might also want to check &quot;hasnext&quot; in your iterator..."}], "owner": {"reputation": 1, "user_id": 11704119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee2c983ec6aeeaf6367e9b0d37bc4f99?s=128&d=identicon&r=PG&f=1", "display_name": "Enver Cin", "link": "https://stackoverflow.com/users/11704119/enver-cin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "closed_date": 1561626082, "answer_count": 0, "score": 0, "last_activity_date": 1561567661, "creation_date": 1561564361, "last_edit_date": 1561567661, "question_id": 56776758, "link": "https://stackoverflow.com/questions/56776758/how-can-i-focus-new-windows-while-testing-website", "closed_reason": "Duplicate", "title": "How can I focus new windows while testing website", "body": "<p>I am using selenium for testing intranet-sites. The website I am testing runs only in internet explorer 11. I used this Java code to manage the windows:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class DMSBrowserTest {\n\n    public static void main(String[] args) throws InterruptedException {\n\n        String projectPath = System.getProperty(\"user.dir\");\n        System.setProperty(\"webdriver.ie.driver\", projectPath + \"\\\\drivers\\\\iedriver\\\\IEDriverServer.exe\");\n\n        DesiredCapabilities caps = new DesiredCapabilities();\n        caps.setCapability(\"ignoreProtectedModeSettings\", true);\n        caps.setCapability(\"initialBrowserUrl\", \"http://myIntranet.htm\");\n        WebDriver driver = new InternetExplorerDriver(caps);\n        driver.get(\"http://myIntranet.htm\");\n        Set&lt;String&gt; winids = driver.getWindowHandles();\n        Iterator&lt;String&gt; iterate = winids.iterator();\n        String first_window = iterate.next();\n        winids = driver.getWindowHandles();\n        iterate = winids.iterator();\n        String second_window = iterate.next();\n        driver.switchTo().window(second_window);\n\n    }\n}\n</code></pre>\n\n<p>But my set is empty. When I reach the <code>iterate.next()</code> alignment, I get the Exception:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.util.NoSuchElementException</p>\n</blockquote>\n\n<p>The website has many Frames. And the first frameset opens a new window with the onLoad-Function:</p>\n\n<pre><code>&lt;frameset rows=\"36,*,0\" id=\"start\" border=1 frameborder=1 framespacing=1   onLoad=\"set_window_position(,,border_width,border_height,30,0);       \nnew_window1('eb.exe?p=switch&amp;MaskName=sw_save_bordersize&amp;switch=0&amp;BORDER_SIZE='+border_width+'%2C'+border_height,'af25593d975111e9ad44c8cb5923f8d8',100,100,7000,7000);\"\n</code></pre>\n\n<p>How can I handle the windows?</p>\n\n<p>My case is not duplicate of another question, because the problem here is, that I am facing with frames AND! new windows. Another questions are dealing with only frames.</p>\n"}, {"tags": ["java", "selenium", "testng", "dataprovider", "testng-dataprovider"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11703667, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EFWmox0soH8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfqtOEvKU9TMAMfD4rxz4MEDqFDVA/photo.jpg?sz=128", "display_name": "Ramit Dhamija", "link": "https://stackoverflow.com/users/11703667/ramit-dhamija"}, "edited": false, "score": 0, "creation_date": 1561720872, "post_id": 56804943, "comment_id": 100165933, "body": "Hi Prakash, thanks for the reply. But it doesn&#39;t helped with my scenario. The code you have shared generates the same testng emailable-report as it was generating before. Basically, I want my parameters passed from DataProvider class to be mentioned in the &quot;method&quot; column of testng report. Here is the screenshot for your reference:   <a href=\"https://ibb.co/q0NqNqV\" rel=\"nofollow noreferrer\">ibb.co/q0NqNqV</a>       Looking forward to hear from you again. Thanks in advance."}], "tags": [], "owner": {"reputation": 426, "user_id": 11067612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb1513c5399568c2857e1b745e37e29?s=128&d=identicon&r=PG&f=1", "display_name": "Prakash Saravanan", "link": "https://stackoverflow.com/users/11067612/prakash-saravanan"}, "is_accepted": false, "score": 0, "last_activity_date": 1561717470, "last_edit_date": 1561717470, "creation_date": 1561716429, "answer_id": 56804943, "question_id": 56776684, "link": "https://stackoverflow.com/questions/56776684/is-there-any-way-to-show-my-dataprovider-values-in-testng-report-summary/56804943#56804943", "title": "Is there any way to show my DataProvider values in TestNG report summary?", "body": "<p>You can add them to the description of the tests.</p>\n\n<pre><code>@Test(dataProviderClass = DataProviderClass.class, dataProvider = \"dataProviderMethod\")\npublic void testMethod(String param1, String param2, String param3, String param4) {\n    ITestResult result = Reporter.getCurrentTestResult();\n    result.getMethod().setDescription(param1 + \" \" + param2 + \" \" + param3 + \" \" + param4);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38, "user_id": 4857832, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WxQ0k4gwryU/AAAAAAAAAAI/AAAAAAAABBo/AVTIOLT6KDI/photo.jpg?sz=128", "display_name": "AMITESH SRIVASTAVA", "link": "https://stackoverflow.com/users/4857832/amitesh-srivastava"}, "is_accepted": false, "score": 0, "last_activity_date": 1567414297, "creation_date": 1567414297, "answer_id": 57753991, "question_id": 56776684, "link": "https://stackoverflow.com/questions/56776684/is-there-any-way-to-show-my-dataprovider-values-in-testng-report-summary/57753991#57753991", "title": "Is there any way to show my DataProvider values in TestNG report summary?", "body": "<p>I have tried your dataProvider against the code written against article, where you have posted your comment-\n<a href=\"https://www.swtestacademy.com/change-test-name-testng-dataprovider/\" rel=\"nofollow noreferrer\">https://www.swtestacademy.com/change-test-name-testng-dataprovider/</a></p>\n\n<p>I got the below result-</p>\n\n<pre><code>PASSED: testRenaming_chrome76(\"chrome\", \"chrome76\", \"win10\", \"1280x1024\")\nPASSED: testRenaming_chrome75(\"chrome\", \"chrome75\", \"win10\", \"1280x1024\")\nPASSED: testRenaming_chrome74(\"chrome\", \"chrome74\", \"win10\", \"1280x1024\")\nPASSED: testRenaming_chrome73(\"chrome\", \"chrome73\", \"win10\", \"1280x1024\")\nPASSED: testRenaming_chrome72(\"chrome\", \"chrome72\", \"win10\", \"1280x1024\")\nPASSED: testRenaming_firefox68(\"firefox\", \"firefox68\", \"win10\", \"1280x1024\")\nPASSED: testRenaming_firefox67(\"firefox\", \"firefox67\", \"win10\", \"1280x1024\")\nPASSED: testRenaming_firefox66(\"firefox\", \"firefox66\", \"win10\", \"1280x1024\")\nPASSED: testRenaming_firefox65(\"firefox\", \"firefox65\", \"win10\", \"1280x1024\")\nPASSED: testRenaming_firefox64(\"firefox\", \"firefox64\", \"win10\", \"1280x1024\")\n</code></pre>\n\n<ul>\n<li>I have changed to testData[1] in BeforeMethod for printing browser versions in testName, also increased the params in Test to 4 instead of 1.</li>\n</ul>\n"}], "owner": {"reputation": 23, "user_id": 11703667, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EFWmox0soH8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfqtOEvKU9TMAMfD4rxz4MEDqFDVA/photo.jpg?sz=128", "display_name": "Ramit Dhamija", "link": "https://stackoverflow.com/users/11703667/ramit-dhamija"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 780, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1567414297, "creation_date": 1561564101, "last_edit_date": 1561569530, "question_id": 56776684, "link": "https://stackoverflow.com/questions/56776684/is-there-any-way-to-show-my-dataprovider-values-in-testng-report-summary", "title": "Is there any way to show my DataProvider values in TestNG report summary?", "body": "<p>Basically, I am running my automation tests on LambdaTest Selenium Grid on multiple configurations. I have 7 test class files added in my testng test suite. I have passed my configurations such as browser, browser version, OS and resolution in my <code>DataProvider</code> class. Each test would run on all configurations passed in <code>DataProvider</code> class. However, I am not able to get those configuration values in the summary part of testng emailable-report.</p>\n\n<p>What I want is to have <code>DataProvider</code> class file--configuration values in the summary part of testng emailable-report which would help me getting that on which configuration each test has passed or failed.</p>\n\n<p>As of now, my testng report looks like this: <a href=\"https://ibb.co/5TbDdGw\" rel=\"nofollow noreferrer\">https://ibb.co/5TbDdGw</a></p>\n\n<p>On the top it shows 7 test cases added in 7 different class file. </p>\n\n<pre><code>package com.mydataprovider;\n\nimport org.testng.annotations.DataProvider;\n\npublic class MyDataProvider {\n\n@DataProvider\npublic Object[][] realTimeConfiguration() {\n    return new Object[][] { \n\n        new Object[] {\"chrome\", \"chrome76\",\"win10\",\"1280x1024\" },\n        new Object[] {\"chrome\", \"chrome75\",\"win10\",\"1280x1024\" },\n        new Object[] {\"chrome\", \"chrome74\",\"win10\",\"1280x1024\" },\n        new Object[] {\"chrome\", \"chrome73\",\"win10\",\"1280x1024\" },\n        new Object[] {\"chrome\", \"chrome72\",\"win10\",\"1280x1024\" },\n\n\n        new Object[] {\"firefox\", \"firefox68\",\"win10\",\"1280x1024\" },\n        new Object[] {\"firefox\", \"firefox67\",\"win10\",\"1280x1024\" },\n        new Object[] {\"firefox\", \"firefox66\",\"win10\",\"1280x1024\" },\n        new Object[] {\"firefox\", \"firefox65\",\"win10\",\"1280x1024\" },\n        new Object[] {\"firefox\", \"firefox64\",\"win10\",\"1280x1024\" },\n\n        };\n    }\n}\n</code></pre>\n\n<p>This is my <code>DataProvider</code> class which includes the configuration.\nIn the report screenshot shared, it shows that all test methods ran on all 10 configuration mentioned in the <code>DataProvider</code>. However, it doesn't show the configuration in the report summary that on which configuration my each test ran.</p>\n\n<p>Please help generating a report which includes <code>DataProvider</code> values in the summary of testng report.</p>\n"}, {"tags": ["java", "swing", "jbutton", "transparency"], "comments": [{"owner": {"reputation": 10842, "user_id": 2164365, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/RKSgV.png?s=128&g=1", "display_name": "Abra", "link": "https://stackoverflow.com/users/2164365/abra"}, "edited": false, "score": 0, "creation_date": 1561581340, "post_id": 56776678, "comment_id": 100116033, "body": "From the code you posted: <code>setContentPane(panelPrin = new JLabel());</code> You shouldn&#39;t use a <code>JLabel</code> as the content pane. You should use <code>JPanel</code>. To get a background image on a <code>JPanel</code> you need to override its <code>paintComponent()</code> method. You will find lots of online examples showing how to achieve this. You should also not add a <code>JButton</code> to a <code>JLabel</code>. Again, instead of the <code>JLabel</code> us a <code>JPanel</code> with a background image and add the <code>JButton</code> to the <code>JPanel</code>. Remember to set the appropriate layout manager for the <code>JPanel</code> as well."}, {"owner": {"reputation": 33, "user_id": 11522463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b8260bdd5202656557b847d4bdf78d?s=128&d=identicon&r=PG&f=1", "display_name": "Wil Fonseca", "link": "https://stackoverflow.com/users/11522463/wil-fonseca"}, "reply_to_user": {"reputation": 10842, "user_id": 2164365, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/RKSgV.png?s=128&g=1", "display_name": "Abra", "link": "https://stackoverflow.com/users/2164365/abra"}, "edited": false, "score": 0, "creation_date": 1561586425, "post_id": 56776678, "comment_id": 100117784, "body": "Thanks for the suggestion! In the moment I started the GUI, I got confused in how to add an image to a JPanel so I ended up using JLabel. Now I exchanged all the JLabel that were supposed to be JPanel to JPanel and it looks the same as when I used the JLabel. Sadly, even when using JPanel, the bug keeps persisting. Any other idea in how to fix it? I&#39;ll update the code."}, {"owner": {"reputation": 10842, "user_id": 2164365, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/RKSgV.png?s=128&g=1", "display_name": "Abra", "link": "https://stackoverflow.com/users/2164365/abra"}, "edited": false, "score": 0, "creation_date": 1561612795, "post_id": 56776678, "comment_id": 100122893, "body": "If you are not required to use <i>Swing</i> then I suggest you consider <i>JavaFX</i> which Oracle touts as the new, improved <i>Swing</i>."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 11522463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b8260bdd5202656557b847d4bdf78d?s=128&d=identicon&r=PG&f=1", "display_name": "Wil Fonseca", "link": "https://stackoverflow.com/users/11522463/wil-fonseca"}, "edited": false, "score": 0, "creation_date": 1561667651, "post_id": 56793107, "comment_id": 100150853, "body": "That&#39;s really helpful and interesting! I tried already changing everything for opaque and indeed that solves the artifacts problem, but I&#39;m being asked to implement transparency in the buttons and tha navigation panel. Is there other way to apply transparency to a button instead of setting it to opaque with a transparent background?"}, {"owner": {"reputation": 9804, "user_id": 909085, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/71cf25bf5d2a979f54cc83f342aeb89c?s=128&d=identicon&r=PG", "display_name": "Mikle Garin", "link": "https://stackoverflow.com/users/909085/mikle-garin"}, "reply_to_user": {"reputation": 33, "user_id": 11522463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b8260bdd5202656557b847d4bdf78d?s=128&d=identicon&r=PG&f=1", "display_name": "Wil Fonseca", "link": "https://stackoverflow.com/users/11522463/wil-fonseca"}, "edited": false, "score": 0, "creation_date": 1561703626, "post_id": 56793107, "comment_id": 100158293, "body": "There is nothing wrong with making buttons non-opaque and giving them a transparent background, you just need to be consistent and keep any components intersecting with them in the same layout non-opaque as well, then you shouldn&#39;t have any visual issues. In your particular example problem might be happening due to the two labels used for background images that are placed behind other components."}], "tags": [], "owner": {"reputation": 9804, "user_id": 909085, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/71cf25bf5d2a979f54cc83f342aeb89c?s=128&d=identicon&r=PG", "display_name": "Mikle Garin", "link": "https://stackoverflow.com/users/909085/mikle-garin"}, "is_accepted": true, "score": 1, "last_activity_date": 1561703318, "last_edit_date": 1561703318, "creation_date": 1561645174, "answer_id": 56793107, "question_id": 56776678, "link": "https://stackoverflow.com/questions/56776678/why-is-a-transparent-jbutton-showing-images-of-the-frame-when-transparency-is-ad/56793107#56793107", "title": "Why is a transparent JButton showing images of the frame when transparency is added?", "body": "<p>Any issues like the one you are seeing in the example app you have posted in 99% of cases happen due to incorrect mixing of opaque and/or non-opaque components. </p>\n\n<p>As I can see from the code - you are using <code>setOpaque(...)</code> to change opacity of various components, but it's quite chaotic. Shortly what <code>opaque</code> property does - it affects the way Swing repaints the specific UI element (panel/label/button/etc) whenever a visual update for that element is required. </p>\n\n<p>For example when you hover a button with the mouse - it might need to repaint if it has a different hover state, whether it's just an icon or a slightly/completely different style. This is where opacity comes into play - <code>opaque=true</code> components will never pass repaint calls \"under\" themselves (in other/proper terms - to their parent components). That means that if you have an opaque button on a panel and it have to be repainted when it changes to \"hover\" state - that button will be the only component to get repainted as there is no reason to repaint anything below it because it is opaque, you literally should not be able to see through it, so the graphics are expected to fill all pixels within bounds of that button with opaque colors. </p>\n\n<p>Theoretically. On practice if you set a button to an opaque state, but keep it's graphics content transparent or semi-transparent (which is obviously a mistake, but Swing will never tell you about it) - you will end up seeing various visual artifacts like the ones you see in your application. That happens due to <code>Graphics2D</code> implementation often performing different paint operations at (0,0) coordinate to optimize their speed - this is not really important to know, but that is partially why you might see other component \"parts\" mixed in your component bounds when it is transparent. It's a bit more complicated than that, but it shouldn't ever really matter as it is simply an internal Swing optimization.</p>\n\n<p>Similar visual problems might also be caused by mixing <code>opaque=true</code> and <code>opaque=false</code> components on the same layout. Most probably that is the case for your issue as well. I did quickly try to set everything in your demo to <code>opaque=false</code> and it did fix the issue, but it's not really the correct way to fix it, especially if you want to keep some components opaque. That just means the problem lies somewhere in the way of mixing components with different opacity types on top of each other within a single container.</p>\n\n<p>My personal recommendation - never mix opaque and non-opaque components in one layout if there is even a slight chance they will overlap (meaning their bounds will intersect within the layout). Or even better - never overlap components on top of each other within a single container. Use multiple nested containers with appropriate non-null layouts, this will also help you a lot in the future to easily modify your UI.</p>\n\n<p>I can give you a simple example that can demonstrate why it is bad:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * @author Mikle Garin\n */\npublic class OpacityGlitch\n{\n    public static void main ( String[] args )\n    {\n        SwingUtilities.invokeLater ( () -&gt; {\n            final JFrame frame = new JFrame ( \"Opacity glitch sample\" );\n\n            // Opaque by default\n            final JPanel panel = new JPanel ( null );\n\n            // Opaque by default, but might vary with L&amp;F\n            final JButton button1 = new JButton ( \"1111111\" );\n            panel.add ( button1 );\n\n            // Non-opaque to demonstrate the problem\n            final JButton button2 = new JButton ( \"2222222\" );\n            panel.add ( button2 );\n\n            // Intersecting buttons\n            button1.setBounds ( 100, 100, 150, 30 );\n            button2.setBounds ( 130, 115, 150, 30 );\n\n            frame.getContentPane ().add ( panel );\n\n            frame.setDefaultCloseOperation ( JFrame.EXIT_ON_CLOSE );\n            frame.setSize ( 500, 500 );\n            frame.setLocationRelativeTo ( null );\n            frame.setVisible ( true );\n        } );\n    }\n}\n</code></pre>\n\n<p>Theoretically what you should get is <code>button1</code> always being on top (due to it being added earlier and being painted last on the container), but on practice - which button is fully visible and on top of the other one will change if you try hovering either of the buttons. This happens due to both buttons being opaque and repaint calls not going past the button components to their container and whatever intersects with them further on. To fix this particular case it is enough to make <code>button2</code> non-opaque because it should always stay below the <code>button1</code> and if it is non-opaque it will safely pass the repaint calls at least to it's container:</p>\n\n<pre><code>button2.setOpaque ( false );\n</code></pre>\n\n<p>Although I personally would recommend making all involved components opaque in such cases to avoid other possible issues if component order may be changed in the future or due to any user interactions - for instance the scroll bar in your application is the prime example. Container does not have to be non-opaque though as it will correctly pass repaint calls between components placed in it and will correctly repaint itself as well.</p>\n\n<p>Once you change buttons from my example above to non-opaque the issue will disappear due to repaint being correctly handled for them.</p>\n\n<p>This might be a complicated topic for a beginner in Swing, but I highly recommend to fully understand why and how things like that happen, otherwise it will become a huge problem for you in the future, once your application grows bigger.</p>\n"}], "owner": {"reputation": 33, "user_id": 11522463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b8260bdd5202656557b847d4bdf78d?s=128&d=identicon&r=PG&f=1", "display_name": "Wil Fonseca", "link": "https://stackoverflow.com/users/11522463/wil-fonseca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 56793107, "answer_count": 1, "score": 1, "last_activity_date": 1561703318, "creation_date": 1561564071, "last_edit_date": 1561586885, "question_id": 56776678, "link": "https://stackoverflow.com/questions/56776678/why-is-a-transparent-jbutton-showing-images-of-the-frame-when-transparency-is-ad", "title": "Why is a transparent JButton showing images of the frame when transparency is added?", "body": "<p>I'm developing a GUI for a Java application and I want to have a background image. The problem is that I have a type of \"drawer\" filled with buttons, that has buttons highlited in red when are selected.</p>\n\n<p>Im using the method buttonName.setBackground(new Color(255, 102, 102, 200)); to set the highlited button and the transparency at the same time. The problem is that despite that the method works and transparents the button, the transparency shows random parts of the frame behind the button, beign these the header, another button, the scrollbar of the JScrollPane where the buttons are located, etc. The text of the button still shows up, and the button works, but the background shows the text from other buttons or parts of the frame.</p>\n\n<p>Besides, I realized that if I click a button and pass the mouse over the selected button multiple times, the transparency starts to accumulate to the point that it gets to a solid color.</p>\n\n<pre><code>package buttonsbug;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Image;\nimport java.awt.Toolkit;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport javax.imageio.ImageIO;\nimport javax.swing.BorderFactory;\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\n\n/**\n *\n * @author F&amp;H\n */\npublic class ButtonsBug extends JFrame implements ActionListener {\n\n    private ArrayList&lt;JButton&gt; botones;\n    private JLabel panelPrin, panelNav, panelUser, panelImgUser, nombre, puesto;\n    private JButton logout, planDis, consuEmpleados, funConsultarPiezas, btnCalidad, compraMat, soySuper, histProy, crearProyecto, clientes, adminConsProye;\n    private JPanel buttonScroll;\n    private JScrollPane navScroll;\n    private BufferedImage img;\n    private Dimension screenSize;\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    new ButtonsBug().setVisible(true);\n                } catch (Exception e) {\n                    System.out.println(e.getMessage());\n                    System.exit(0);\n                }\n            }\n        });\n    }\n\n    public ButtonsBug() {\n        botones = new ArrayList&lt;&gt;();\n\n        screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n        this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\n        setSize(ajustarDimensiones(1400), ajustarDimensiones(800));\n\n        setContentPane(panelPrin = new JLabel());\n        panelPrin.setSize(ajustarDimensiones(1400), ajustarDimensiones(800));\n        try {\n            img = ImageIO.read(new File(\"src/tw3.png\"));\n            Image dimg1 = img.getScaledInstance(panelPrin.getWidth(), panelPrin.getHeight(), Image.SCALE_SMOOTH);\n            ImageIcon imageIcon = new ImageIcon(dimg1);\n            panelPrin.setIcon(imageIcon);\n        } catch (IOException z) {\n            System.out.println(z.getMessage());\n            JOptionPane.showMessageDialog(this, \"\u00a1Error en la lectura de imagen!\", \"Error\", JOptionPane.ERROR_MESSAGE);\n        }\n\n        panelPrin.setBackground(java.awt.Color.white);\n        panelPrin.add(panelNav = new JLabel());\n//        panelPrin.setOpaque(true);\n\n//        panelNav.setOpaque(true);\n        panelNav.setBorder(BorderFactory.createLineBorder(Color.BLACK, 1));\n//        panelNav.setBackground(new Color(0, 0, 0, 150));\n        panelNav.setBounds(0, 0, ajustarDimensiones(305), ajustarDimensiones(771));\n        panelNav.add(panelUser = new JLabel());\n        panelNav.add(logout = new JButton());\n        logout.setContentAreaFilled(false);\n//        logout.setOpaque(true);\n\n//        panelUser.setOpaque(true);\n        panelUser.setBounds(ajustarDimensiones(1), ajustarDimensiones(1), ajustarDimensiones(303), ajustarDimensiones(88));\n        panelUser.add(panelImgUser = new JLabel());\n        panelUser.add(nombre = new JLabel());\n        panelUser.add(puesto = new JLabel());\n        nombre.setText(\"Wil Fonseca\");\n        puesto.setText(\"Production manager\");\n\n        nombre.setBounds(ajustarDimensiones(55), ajustarDimensiones(25), ajustarDimensiones(245), ajustarDimensiones(20));\n        puesto.setBounds(ajustarDimensiones(55), ajustarDimensiones(45), ajustarDimensiones(245), ajustarDimensiones(20));\n        nombre.setFont(new java.awt.Font(\"Arial\", 1, ajustarDimensiones(14)));\n        puesto.setFont(new java.awt.Font(\"Arial\", 1, ajustarDimensiones(12)));\n        nombre.setForeground(Color.white);\n        puesto.setForeground(Color.white);\n\n        logout.setText(\"Logout\");\n        logout.setFont(new java.awt.Font(\"Arial\", 1, ajustarDimensiones(34)));\n        logout.setBounds(ajustarDimensiones(1), ajustarDimensiones(691), ajustarDimensiones(303), ajustarDimensiones(88));\n        logout.setBackground(Color.white);\n        logout.setForeground(Color.red);\n        logout.addActionListener(this);\n        logout.setBorder(null);\n        logout.setBorderPainted(false);\n        logout.setFocusPainted(false);\n\n        panelImgUser.setBounds(ajustarDimensiones(3), ajustarDimensiones(24), ajustarDimensiones(40), ajustarDimensiones(40));\n\n        try {\n            img = ImageIO.read(new File(\"src/Usuario.png\"));\n            Image dimg1 = img.getScaledInstance(panelImgUser.getWidth(), panelImgUser.getHeight(), Image.SCALE_SMOOTH);\n            ImageIcon imageIcon = new ImageIcon(dimg1);\n            panelImgUser.setIcon(imageIcon);\n        } catch (IOException z) {\n            System.out.println(z.getMessage());\n        }\n\n        setTitle(\"ButtonsBug\");\n        setLocationRelativeTo(null);\n        setResizable(false);\n        setVisible(true);\n\n        buttonGenerator();\n\n    }\n\n    public int ajustarDimensiones(int coo) {\n        int newC = 0;\n        double res = (screenSize.getHeight());\n        float newRes;\n        if (res &lt; 1080) {\n            if (coo == 1400) {\n                return 1208;\n            } else if (coo == 800) {\n                return 680;\n            }\n        }\n        if (coo == 0) {\n            return newC;\n        } else {\n            if (res &lt; 1080) {\n                newRes = (918f / 1080f);\n                if (coo == 305) {\n                    newC = (int) (newRes * coo) - 1;\n                } else if (coo == 90) {\n                    newC = (int) (newRes * coo) - 1;\n                } else if (coo == 224) {\n                    newC = (int) (newRes * coo) - 1;\n                } else if (coo == 601) {\n                    newC = (int) (newRes * coo) + 3;\n                } else if (coo == 1066) {\n                    newC = (int) (newRes * coo) - 1;\n                } else if (coo == 1474 || coo == 1576) {\n                    newC = (int) (newRes * coo) + 1;\n                } else if (coo == 1059) {\n                    newC = (int) (newRes * coo) - 10;\n                } else if (coo == 1095) {\n                    newC = (int) (newRes * coo) + 14;\n                } else {\n                    newC = (int) (newRes * coo);\n                }\n            } else {\n                newRes = (float) (res / 1080f);\n                newC = (int) (newRes * coo);\n            }\n            if (newC &lt; 0) {\n                newC = 1;\n            }\n\n        }\n\n        return newC;\n    }\n\n    public void buttonGenerator() {\n\n        int y = 0;\n        panelNav.add(navScroll = new JScrollPane(buttonScroll = new JPanel(), JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED, JScrollPane.HORIZONTAL_SCROLLBAR_NEVER));\n        navScroll.setBorder(BorderFactory.createEmptyBorder());\n        navScroll.setBounds(ajustarDimensiones(1), ajustarDimensiones(90), ajustarDimensiones(303), ajustarDimensiones(600));\n//        navScroll.setBackground(Color.white);\n        navScroll.setOpaque(false);\n\n        navScroll.getVerticalScrollBar().setUnitIncrement(30);\n        navScroll.setPreferredSize(new Dimension(ajustarDimensiones(305), ajustarDimensiones(601)));\n//        buttonScroll.setBackground(Color.white);\n        buttonScroll.setPreferredSize(new Dimension(ajustarDimensiones(305), ajustarDimensiones(601)));\n        buttonScroll.setLayout(null);\n        navScroll.setViewportView(buttonScroll);\n        buttonScroll.setOpaque(false);\n        navScroll.getViewport().setOpaque(false);\n\n        buttonScroll.add(funConsultarPiezas = new JButton());\n        funConsultarPiezas.setContentAreaFilled(false);\n        //           funConsultarPiezas.setOpaque(true);\n        funConsultarPiezas.setText(\"Consultar pieza\");\n        funConsultarPiezas.setFont(new java.awt.Font(\"Arial\", 1, ajustarDimensiones(30)));\n        funConsultarPiezas.setBounds(ajustarDimensiones(1), ajustarDimensiones(0), ajustarDimensiones(301), ajustarDimensiones(80));\n        //        funConsultarPiezas.setBackground(java.awt.Color.white);\n        funConsultarPiezas.setForeground(Color.white);\n        funConsultarPiezas.addActionListener(this);\n        funConsultarPiezas.setBorder(null);\n        funConsultarPiezas.setBorderPainted(false);\n        funConsultarPiezas.setFocusPainted(false);\n        botones.add(funConsultarPiezas);\n\n        y += 81;\n\n        buttonScroll.add(btnCalidad = new JButton());\n        btnCalidad.setContentAreaFilled(false);\n        //     btnCalidad.setOpaque(true);\n        btnCalidad.setText(\"Quality Check\");\n        btnCalidad.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\n        btnCalidad.setFont(new java.awt.Font(\"Arial\", 1, ajustarDimensiones(30)));\n        //        btnCalidad.setBackground(Color.white);\n        btnCalidad.setForeground(Color.white);\n        btnCalidad.addActionListener(this);\n        btnCalidad.setBorder(null);\n        btnCalidad.setBorderPainted(false);\n        btnCalidad.setFocusPainted(false);\n        botones.add(btnCalidad);\n\n        y += 81;\n        buttonScroll.add(planDis = new JButton());\n        planDis.setContentAreaFilled(false);\n        //       planDis.setOpaque(true);\n        planDis.setText(\"Dise\u00f1o y planear\");\n        planDis.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\n        planDis.setFont(new java.awt.Font(\"Arial\", 1, ajustarDimensiones(30)));\n        //         planDis.setBackground(Color.white);\n        planDis.setForeground(Color.white);\n        planDis.addActionListener(this);\n        planDis.setBorder(null);\n        planDis.setBorderPainted(false);\n        planDis.setFocusPainted(false);\n        botones.add(planDis);\n\n        y += 81;\n\n        buttonScroll.add(compraMat = new JButton());\n        compraMat.setContentAreaFilled(false);\n//            compraMat.setOpaque(true);\n        compraMat.setText(\"Compra Material\");\n        compraMat.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\n        compraMat.setFont(new java.awt.Font(\"Arial\", 1, ajustarDimensiones(30)));\n        //compraMat.setBackground(Color.white);\n        compraMat.setForeground(Color.white);\n        compraMat.addActionListener(this);\n        compraMat.setBorder(null);\n        compraMat.setBorderPainted(false);\n        compraMat.setFocusPainted(false);\n        botones.add(compraMat);\n\n        y += 81;\n\n        buttonScroll.add(soySuper = new JButton());\n        soySuper.setContentAreaFilled(false);\n//            soySuper.setOpaque(true);\n        soySuper.setText(\"Liberar piezas\");\n        soySuper.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\n        soySuper.setFont(new java.awt.Font(\"Arial\", 1, ajustarDimensiones(30)));\n        //soySuper.setBackground(Color.white);\n        soySuper.setForeground(Color.white);\n        soySuper.addActionListener(this);\n        soySuper.setBorder(null);\n        soySuper.setBorderPainted(false);\n        soySuper.setFocusPainted(false);\n        botones.add(soySuper);\n\n        y += 81;\n\n        buttonScroll.add(crearProyecto = new JButton());\n        crearProyecto.setContentAreaFilled(false);\n//            crearProyecto.setOpaque(true);\n        crearProyecto.setText(\"Crear proyecto\");\n        crearProyecto.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\n        crearProyecto.setFont(new java.awt.Font(\"Arial\", 1, ajustarDimensiones(30)));\n        //crearProyecto.setBackground(Color.white);\n        crearProyecto.setForeground(Color.white);\n        crearProyecto.addActionListener(this);\n        crearProyecto.setBorder(null);\n        crearProyecto.setBorderPainted(false);\n        crearProyecto.setFocusPainted(false);\n        botones.add(crearProyecto);\n\n        y += 81;\n\n        buttonScroll.add(clientes = new JButton());\n        clientes.setContentAreaFilled(false);\n//            clientes.setOpaque(true);\n        clientes.setText(\"Clientes\");\n        clientes.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\n        clientes.setFont(new java.awt.Font(\"Arial\", 1, ajustarDimensiones(30)));\n        //clientes.setBackground(Color.white);\n        clientes.setForeground(Color.white);\n        clientes.addActionListener(this);\n        clientes.setBorder(null);\n        clientes.setBorderPainted(false);\n        clientes.setFocusPainted(false);\n        botones.add(clientes);\n\n        y += 81;\n\n        buttonScroll.add(adminConsProye = new JButton());\n        adminConsProye.setContentAreaFilled(false);\n//            adminConsProye.setOpaque(true);\n        adminConsProye.setText(\"Consultar proyectos\");\n        adminConsProye.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\n        adminConsProye.setFont(new java.awt.Font(\"Arial\", 1, ajustarDimensiones(26)));\n        //adminConsProye.setBackground(Color.white);\n        adminConsProye.setForeground(Color.white);\n        adminConsProye.addActionListener(this);\n        adminConsProye.setBorder(null);\n        adminConsProye.setBorderPainted(false);\n        adminConsProye.setFocusPainted(false);\n        botones.add(adminConsProye);\n\n        y += 81;\n\n        buttonScroll.add(histProy = new JButton());\n        histProy.setText(\"Historial\");\n        histProy.setContentAreaFilled(false);\n//            histProy.setOpaque(true);\n        histProy.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\n        histProy.setFont(new java.awt.Font(\"Arial\", 1, ajustarDimensiones(30)));\n        //histProy.setBackground(Color.white);\n        histProy.setForeground(Color.white);\n        histProy.addActionListener(this);\n        histProy.setBorder(null);\n        histProy.setBorderPainted(false);\n        histProy.setFocusPainted(false);\n        botones.add(histProy);\n\n        y += 81;\n\n        buttonScroll.add(consuEmpleados = new JButton());\n        consuEmpleados.setText(\"Trabajadores\");\n        consuEmpleados.setContentAreaFilled(false);\n//            consuEmpleados.setOpaque(true);\n        consuEmpleados.setBounds(ajustarDimensiones(1), ajustarDimensiones(y), ajustarDimensiones(301), ajustarDimensiones(80));\n        consuEmpleados.setFont(new java.awt.Font(\"Arial\", 1, ajustarDimensiones(30)));\n        //consuEmpleados.setBackground(Color.white);\n        consuEmpleados.setForeground(Color.white);\n        consuEmpleados.addActionListener(this);\n        consuEmpleados.setBorder(null);\n        consuEmpleados.setBorderPainted(false);\n        consuEmpleados.setFocusPainted(false);\n        botones.add(consuEmpleados);\n\n        y += 81;\n\n        buttonScroll.setPreferredSize(new Dimension(ajustarDimensiones(305), ajustarDimensiones(y)));\n    }\n\n    public void botonSeleccionado(JButton but) {\n        for (JButton b : botones) {\n            if (b.getText().equalsIgnoreCase(but.getText())) {\n                b.setOpaque(true);\n                b.setBackground(new Color(255, 102, 102, 200));\n                b.setForeground(Color.white);\n            } else {\n                b.setOpaque(false);\n                //b.setBackground(Color.white);\n                b.setForeground(Color.white);\n            }\n            b.revalidate();\n            b.repaint();\n        }\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent ae) {\n        JButton obj = (JButton) ae.getSource();\n        if (obj != logout) {\n            botonSeleccionado(obj);\n        }\n    }\n\n}\n\n</code></pre>\n\n<p>If someone knows how to make a clean transparent button, I would really appreciate the help.</p>\n\n<p>I leave here the source code with the test images that I'm using.\n<a href=\"https://drive.google.com/file/d/1l8R52WTDyP93L0UhTNd3oorD7Qhv-TcP/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1l8R52WTDyP93L0UhTNd3oorD7Qhv-TcP/view?usp=sharing</a></p>\n\n<p>In this <a href=\"https://i.stack.imgur.com/rV8Bm.png\" rel=\"nofollow noreferrer\">image</a>, you can see the 3 kind of bugs that I have, in the first one you can see how theres another button in the background and the scroll bar is shown in the left of the button. In the second one, it's the header of the navigation panel. In the third one, I passed the mouse multiple times over the seelcted button and it turned into a solid color instead of a transparent one.</p>\n\n<p>EDIT:</p>\n\n<p>I decided to check if the bug persisted if I applied it to the navigation panel, because it will have to be transparent as well when the application is finished. So I added the following lines of code in the lines 82 and 83 of the code above:</p>\n\n<pre><code>        panelNav.setBackground(new Color(0, 0, 0, 200));\n        panelNav.setOpaque(true);\n</code></pre>\n\n<p>In this other <a href=\"https://i.stack.imgur.com/pmcww.png\" rel=\"nofollow noreferrer\">image</a> I applied the transparency to the whole navigation panel, wich is a JLabel. In the first image is shown what appears when the frame is displayed, theres even parts of the frame that are displayed beneath the navigation panel. In the second one is shown what happens when I use the scroll bar once.</p>\n\n<p>EDIT 2:\nI replaced all the JLabel that were used as JPanel for actual JPanel. Sadly, the bug persisted. I add an extra button in the main JPanel, I did this because I thought the bug origin from adding buttons to a JScrollPane. But it seems that the problem is directly in how I implement the method buttonName.setBackground().</p>\n\n<p>Here's the new version of the code:\n<a href=\"https://drive.google.com/file/d/1PuHMkEYNbBoafqs5XiyUaeCkIyXfnHFJ/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1PuHMkEYNbBoafqs5XiyUaeCkIyXfnHFJ/view?usp=sharing</a></p>\n"}]