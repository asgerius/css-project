[{"tags": ["java", "android", "parsing", "web", "jsoup"], "owner": {"reputation": 129, "user_id": 5824959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c72b437d2004f4a1b29ee6569874fbea?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/5824959/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1470351496, "creation_date": 1470267849, "last_edit_date": 1470351496, "question_id": 38755349, "link": "https://stackoverflow.com/questions/38755349/how-to-order-h2-tags-into-a-list-jsoup", "title": "How to order H2 tags into a list Jsoup", "body": "<p>I want to pull a h2 class that contains multiple variations of it. The posttitle h2 class contains every post title. </p>\n\n<pre><code>&lt;h2 class=\"posttitle\"&gt;\n&lt;a href=\"website.com\"rel=\"bookmark\"&gt;    Text&lt;/a&gt;\n&lt;/h2&gt;\n</code></pre>\n\n<p>I want to pull each individual into my application using jsoup. I have already been able to pull all the texts from the \"postitle\" class.</p>\n\n<pre><code>@Override\n    protected Void doInBackground(Void... voids) {\n        try {\n            Document doc = Jsoup.connect(\"https://uhsswordandshield.com\").get();\n            Feed = doc.select(\"h2.posttitle a[href]\").text();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n</code></pre>\n\n<p>The context is that it is my School's new website and I would like to pull the title of news articles. The title of each articles are part of the posttitle class.</p>\n\n<p>This is what it looks like right now:\nTitle 1 Title 2 Title 3 Title 4....</p>\n\n<p>What I want:<br>\nTitle 1<br>\nTitle 2<br>\nTitle 3<br>\nTitle 4<br>\n...</p>\n\n<p>I am able to put it into a textview, but it all shows up as a big clump where all the titles are just put together. I would like to put each individual posttitle into an array list. Could someone please tell me if this is possible and how I would go about doing this. Thanks!</p>\n\n<p><strong>EDIT</strong>\nI changed the code a little bit and I no longer get any errors.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n   public static ArrayList&lt;String&gt; titles;\n//Declare Listview\npublic ListView lv ;\n//Array Adapter\npublic ArrayAdapter&lt;String&gt; arrayAdapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    arrayAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, titles);\n    lv = (ListView) findViewById(R.id.lv);\n    lv.setAdapter(arrayAdapter);\n//call AsyncTask\n        new Feed().execute();\n\n\n}\n//Async Test\nprivate class Feed extends AsyncTask&lt;String,Void,ArrayList&lt;String&gt;&gt;{\n\n    //Get post title class\n    @Override\n    protected ArrayList&lt;String&gt; doInBackground(String... voids) {\n\n        try {\n            Document doc = Jsoup.connect(\"https://uhsswordandshield.com\").get();\n            Elements e = doc.select(\"h2.posttitle\");\n            for (Element el:e) {\n            titles.add(el.text());\n            }}\n         catch (IOException e) {\n            e.printStackTrace();\n        }\n        return titles;\n    }\n}\n}\n</code></pre>\n\n<p>However, this causes me to get a null pointer exception error and my app crashes everytime. </p>\n\n<p><strong>EDIT</strong>\nSo I was able to figure out why I got null pointer exception. I was calling my array list before I declared it. However, I still have not been able to get the posttitle to be added to the array list. This is my main activity right now.</p>\n\n<pre><code>   public class MainActivity extends AppCompatActivity {\n\n   public ArrayList&lt;String&gt; titles = new ArrayList&lt;String&gt;();\n\n   //Declare Listview\n\n//Array Adapter\npublic ArrayAdapter&lt;String&gt; arrayAdapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    ListView lv = (ListView) findViewById(R.id.lv);\n\n    arrayAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, titles);\n    lv.setAdapter(arrayAdapter);\n    //Declare Button\n    new Feed().execute();\n\n\n\n\n        }\n\n\n\n//call AsyncTask\n\n\n\n\n//Async Test\nprivate class Feed extends AsyncTask&lt;Void,Void,ArrayList&lt;String&gt;&gt;{\n\n    //Get post title class\n    @Override\n    protected ArrayList&lt;String&gt; doInBackground(Void... voids) {\n\n\n        try {\n            Document doc = Jsoup.connect(\"https://uhsswordandshield.com\").get();\n            Elements e = doc.select(\"h2.posttitle\");\n            for (Element el:e) {\n            titles.add(el.text());\n            }}\n         catch (IOException e) {\n            e.printStackTrace();\n        }\n        return titles;\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["java", "jar", "log4j2"], "answers": [{"tags": [], "owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "is_accepted": true, "score": 3, "last_activity_date": 1470268399, "creation_date": 1470268399, "answer_id": 38755423, "question_id": 38755299, "link": "https://stackoverflow.com/questions/38755299/log4j2-different-logs-for-different-jars/38755423#38755423", "title": "Log4j2 different logs for different jars", "body": "<p>All your jars are loaded by a single ClassLoader, so there is only one instance of Log4j, and therefore only one configuration.</p>\n\n<p>Presumably, each jar file has classes from different packages, and you can send log messages to different appenders depending on the logger name, i.e. the name of the class generating the log message.</p>\n\n<p>So, define multiple appenders, and then configure the loggers with <code>additivity=\"false\"</code> and specify the appender to use, for each base package.</p>\n\n<p>Example: If you have <code>core.jar</code> with classes from package <code>com.example.core</code> and subpackages, and <code>extension.jar</code> with classes from package <code>com.example.ext</code> and subpackages, you'd use a configuration like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"WARN\"&gt;\n  &lt;Appenders&gt;\n    &lt;File name=\"MainFile\" fileName=\"main.log\"&gt;\n      . . .\n    &lt;/File&gt;\n    &lt;File name=\"CoreFile\" fileName=\"core.log\"&gt;\n      . . .\n    &lt;/File&gt;\n    &lt;File name=\"ExtFile\" fileName=\"ext.log\"&gt;\n      . . .\n    &lt;/File&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Logger name=\"com.example.core\" level=\"info\" additivity=\"false\"&gt;\n      &lt;AppenderRef ref=\"CoreFile\"/&gt;\n    &lt;/Logger&gt;\n    &lt;Logger name=\"com.example.ext\" level=\"info\" additivity=\"false\"&gt;\n      &lt;AppenderRef ref=\"ExtFile\"/&gt;\n    &lt;/Logger&gt;\n    &lt;Root level=\"info\"&gt;\n      &lt;AppenderRef ref=\"MainFile\"/&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 2297126, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/20f3b4d4f906304ce66b7d9be032a7b5?s=128&d=identicon&r=PG", "display_name": "Santiago Molina", "link": "https://stackoverflow.com/users/2297126/santiago-molina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 685, "favorite_count": 0, "accepted_answer_id": 38755423, "answer_count": 1, "score": 0, "last_activity_date": 1470268399, "creation_date": 1470267528, "question_id": 38755299, "link": "https://stackoverflow.com/questions/38755299/log4j2-different-logs-for-different-jars", "title": "Log4j2 different logs for different jars", "body": "<p>We are making a program that consists of several embbeded jars. Each jar requires an individual log file. The problem is that when we are trying to log in the core jar file, the log messages are written in the log files of the other jars.</p>\n\n<p>This is the code of the core jar file.</p>\n\n<pre><code>static Logger logCore = LogManager.getLogger(); //log file created \npublic static void main(String[] args) \n{\n    LoggerContext context = (org.apache.logging.log4j.core.LoggerContext) LogManager.getContext(false);\n    org.apache.logging.log4j.core.selector.BasicContextSelector\n    File file = new File(\"/home/pi/NetBeansProjects/CoreService/dist/log4j2.xml\");\n    context.setConfigLocation(file.toURI());\n\n    logCore.info(\"Core Service initiated\"); //Log here is done in the lof od the Core jar as expected \n    //Run methods of another jar (DBcontrollers)\n    try\n    {\n        SmartBoxSN = DBControllers.DeviceSetupController.GetOwnDeviceSetupFieldNameID(3).Value;\n    }\n    catch(SQLException | ClassNotFoundException ex)\n    {\n\n    }\n    logCore.info(\"Core Service initiated\"); //Log here is wrongly done in the log file of DBControllers\n}\n</code></pre>\n\n<p>How can we select the log file in which we want to log?</p>\n"}, {"tags": ["java", "swing"], "comments": [{"owner": {"reputation": 163297, "user_id": 418556, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/yOfDr.png?s=128&g=1", "display_name": "Andrew Thompson", "link": "https://stackoverflow.com/users/418556/andrew-thompson"}, "edited": false, "score": 0, "creation_date": 1470268819, "post_id": 38755226, "comment_id": 64884619, "body": "Note their is no reason apparent in above code for <code>DiceRoller</code> <b>or</b> <code>ViewPanel</code> to extend <code>JPanel</code>.."}], "answers": [{"tags": [], "owner": {"reputation": 306906, "user_id": 131872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0ced8e21d2a761db718acb6362b9225?s=128&d=identicon&r=PG", "display_name": "camickr", "link": "https://stackoverflow.com/users/131872/camickr"}, "is_accepted": true, "score": 3, "last_activity_date": 1470267942, "last_edit_date": 1470267942, "creation_date": 1470267542, "answer_id": 38755302, "question_id": 38755226, "link": "https://stackoverflow.com/questions/38755226/graphics-paintcomponents-drawstring-method-not-placing-numbers-on-my-dice-rolle/38755302#38755302", "title": "Graphics.paintComponents .drawString method not placing numbers on my dice roller", "body": "<pre><code>setPreferredSize(new Dimension(60, 60));\n\n\neg.drawString(getValue(), 40, 120);\n</code></pre>\n\n<p>What are the parameters of the drawstring() method? How can you paint something at 120 when its size is only 60?</p>\n\n<pre><code>public void paintComponents(Graphics g) {\n    super.paintComponents(g);\n</code></pre>\n\n<p>Don't override paintComponents() (note the \"s\"). It should be <code>paintComponent()</code> you override.</p>\n"}, {"tags": [], "owner": {"reputation": 20548, "user_id": 1048330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82cefccc64c7d7a8ad568fed1c34580c?s=128&d=identicon&r=PG&f=1", "display_name": "tenorsax", "link": "https://stackoverflow.com/users/1048330/tenorsax"}, "is_accepted": false, "score": 2, "last_activity_date": 1470267761, "creation_date": 1470267761, "answer_id": 38755338, "question_id": 38755226, "link": "https://stackoverflow.com/questions/38755226/graphics-paintcomponents-drawstring-method-not-placing-numbers-on-my-dice-rolle/38755338#38755338", "title": "Graphics.paintComponents .drawString method not placing numbers on my dice roller", "body": "<p>You are supposed to override <code>JComponent.paintComponent()</code> method rather than <code>Container.paintComponents()</code> for custom painting. </p>\n"}], "owner": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 38755302, "answer_count": 2, "score": 1, "last_activity_date": 1470267942, "creation_date": 1470267021, "question_id": 38755226, "link": "https://stackoverflow.com/questions/38755226/graphics-paintcomponents-drawstring-method-not-placing-numbers-on-my-dice-rolle", "title": "Graphics.paintComponents .drawString method not placing numbers on my dice roller", "body": "<p>I'm working on a basic dice roller GUI, and I'm down to trying to get the numbers to display on the dice when I roll.  Currently everything looks right except for my dice are blank.  Here is my code:</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.util.Random;\n\npublic class DiceRoller extends JPanel {\n\n    public DiceRoller() {\n    }\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        frame.setTitle(\"Dice Roller\");\n        frame.setContentPane(new ViewPanel());\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.pack(); //To set frame so contents are at or above preferred size.\n        frame.setVisible(true);\n    }\n}\n\nclass ViewPanel extends JPanel {\n    // Initialize the two dice\n    private Dice dice1;\n    private Dice dice2;\n\n    ViewPanel() {\n        dice1 = new Dice();\n        dice2 = new Dice();\n\n        JButton rollButton = new JButton(\"Roll\");\n        rollButton.setFont(new Font(\"Lucida Grande\", Font.BOLD, 30));\n        rollButton.addActionListener(new RollHandler());\n\n        JPanel viewPanel = new JPanel();\n        viewPanel.setLayout(new GridLayout(1, 2, 10, 5));\n        viewPanel.add(dice1);\n        viewPanel.add(dice2);\n\n        setLayout(new BorderLayout());\n        add(rollButton, BorderLayout.NORTH);\n        add(viewPanel, BorderLayout.CENTER);\n    }\n\n    private class RollHandler implements ActionListener {\n        public void actionPerformed(ActionEvent e) {\n            dice1.roll();\n            dice2.roll();\n        }\n    }\n}\n\nclass Dice extends JPanel {\n    private String value;\n    private int spot_diam = 9;\n\n    private static Random roller = new Random();\n\n    public Dice() {\n        setBackground(Color.WHITE);\n        setPreferredSize(new Dimension(60, 60));\n        roll();\n    }\n\n    String getValue() {\n        return value;\n    }\n\n    void setValue(String value) {\n        this.value = value;\n        repaint();\n    }\n\n    String roll() {\n        String val = Integer.toString(roller.nextInt(6) + 1);\n        setValue(val);\n        return val;\n    }\n\n    @Override\n    public void paintComponents(Graphics g) {\n        super.paintComponents(g);\n        Graphics2D eg = (Graphics2D)g;\n        eg.setColor(Color.BLACK);\n        eg.drawString(getValue(), 40, 120);\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "jsp", "sudo", "runtime.exec", "power-off"], "comments": [{"owner": {"reputation": 1524, "user_id": 3486184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d061cf1f005b9bdbe442cbb5598e2fcf?s=128&d=identicon&r=PG&f=1", "display_name": "user3486184", "link": "https://stackoverflow.com/users/3486184/user3486184"}, "edited": false, "score": 0, "creation_date": 1470267161, "post_id": 38755219, "comment_id": 64884222, "body": "This might help you for Runtime.exec(): <a href=\"http://stackoverflow.com/questions/8877236/unable-to-execute-java-program-from-jsp-using-runtime-getruntime-exec\" title=\"unable to execute java program from jsp using runtime getruntime exec\">stackoverflow.com/questions/8877236/&hellip;</a> . If you need to sudo, you can write a C program that&#39;s setuid root that calls poweroff."}, {"owner": {"reputation": 1251, "user_id": 4324721, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/w57jr.jpg?s=128&g=1", "display_name": "Turtle", "link": "https://stackoverflow.com/users/4324721/turtle"}, "edited": false, "score": 0, "creation_date": 1470267658, "post_id": 38755219, "comment_id": 64884329, "body": "You can&#39;t do this. It&#39;s impossible"}, {"owner": {"reputation": 182833, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 0, "creation_date": 1470269127, "post_id": 38755219, "comment_id": 64884678, "body": "This is a terrible idea, but you want <code>sudo &#47;sbin&#47;shutdown -h now</code>. It would probably be a better idea to install openssh-server and use a remote ssh to shut it down."}, {"owner": {"reputation": 942, "user_id": 2600184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/udczS.png?s=128&g=1", "display_name": "vikarjramun", "link": "https://stackoverflow.com/users/2600184/vikarjramun"}, "reply_to_user": {"reputation": 182833, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 0, "creation_date": 1470270191, "post_id": 38755219, "comment_id": 64884970, "body": "@ElliottFrisch This is only my development server. It <b><i>obviously</i></b> would not be used in production. But can I do <code>sudo &#47;shin&#47;poweroff</code>? Just wondering...."}, {"owner": {"reputation": 182833, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 0, "creation_date": 1470270348, "post_id": 38755219, "comment_id": 64884999, "body": "Try it, and see for yourself. And if the answer isn&#39;t <b>yes</b>, keep <b><i>trying</i></b>."}, {"owner": {"reputation": 942, "user_id": 2600184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/udczS.png?s=128&g=1", "display_name": "vikarjramun", "link": "https://stackoverflow.com/users/2600184/vikarjramun"}, "reply_to_user": {"reputation": 182833, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 0, "creation_date": 1470271094, "post_id": 38755219, "comment_id": 64885185, "body": "@ElliottFrisch Oh, and I tried ssh, but I had a lot of connection issues. It would only accept connections from my iPad for some reason, not from PuTTY on my computer. But that&#39;s another issue"}, {"owner": {"reputation": 163297, "user_id": 418556, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/yOfDr.png?s=128&g=1", "display_name": "Andrew Thompson", "link": "https://stackoverflow.com/users/418556/andrew-thompson"}, "edited": false, "score": 0, "creation_date": 1470298220, "post_id": 38755219, "comment_id": 64895515, "body": "See also <a href=\"http://www.javaworld.com/article/2071275/core-java/when-runtime-exec---won-t.html\" rel=\"nofollow noreferrer\">When Runtime.exec() won&#39;t</a> for many good tips on creating and handling a process correctly.  Then ignore it refers to <code>exec</code> and use a <code>ProcessBuilder</code> to create the process. Also break a <code>String arg</code> into <code>String[] args</code> to account for things like paths containing space characters &amp; to separate the parts of the command."}, {"owner": {"reputation": 942, "user_id": 2600184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/udczS.png?s=128&g=1", "display_name": "vikarjramun", "link": "https://stackoverflow.com/users/2600184/vikarjramun"}, "reply_to_user": {"reputation": 182833, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 0, "creation_date": 1471033314, "post_id": 38755219, "comment_id": 65208769, "body": "@ElliottFrisch If you make your original comment an answer, I will select it."}], "answers": [{"comments": [{"owner": {"reputation": 942, "user_id": 2600184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/udczS.png?s=128&g=1", "display_name": "vikarjramun", "link": "https://stackoverflow.com/users/2600184/vikarjramun"}, "edited": false, "score": 0, "creation_date": 1470270854, "post_id": 38755327, "comment_id": 64885127, "body": "The java docs also have <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#exec(java.lang.String)\" rel=\"nofollow noreferrer\">this method</a> so your answer is incorrect, at least according to the reasoning you gave"}, {"owner": {"reputation": 230, "user_id": 1451812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a70f1724c039089a29fe977cc15f313?s=128&d=identicon&r=PG", "display_name": "Larry", "link": "https://stackoverflow.com/users/1451812/larry"}, "reply_to_user": {"reputation": 942, "user_id": 2600184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/udczS.png?s=128&g=1", "display_name": "vikarjramun", "link": "https://stackoverflow.com/users/2600184/vikarjramun"}, "edited": false, "score": 0, "creation_date": 1470361298, "post_id": 38755327, "comment_id": 64930956, "body": "Did you try it? The method you refer to is for a command without parameters."}], "tags": [], "owner": {"reputation": 230, "user_id": 1451812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a70f1724c039089a29fe977cc15f313?s=128&d=identicon&r=PG", "display_name": "Larry", "link": "https://stackoverflow.com/users/1451812/larry"}, "is_accepted": false, "score": 2, "last_activity_date": 1470267692, "creation_date": 1470267692, "answer_id": 38755327, "question_id": 38755219, "link": "https://stackoverflow.com/questions/38755219/how-to-run-sudo-poweroff-in-java/38755327#38755327", "title": "How to run sudo poweroff in java", "body": "<p>If the user running tomcat has sudo perms (w/o a password), it should be doable - but the call should be something like this:</p>\n\n<p><code>Runtime.getRuntime().exec(new String[]{\"sudo\", \"poweroff\"});</code></p>\n\n<p>The command and parameters can't all be passed in one big string.</p>\n\n<p>Check out the docs for more info: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#exec(java.lang.String[])\" rel=\"nofollow\">https://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#exec(java.lang.String[])</a></p>\n\n<p>PS: This is probably a bad idea. :)</p>\n"}], "owner": {"reputation": 942, "user_id": 2600184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/udczS.png?s=128&g=1", "display_name": "vikarjramun", "link": "https://stackoverflow.com/users/2600184/vikarjramun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1470298257, "creation_date": 1470266954, "last_edit_date": 1470298257, "question_id": 38755219, "link": "https://stackoverflow.com/questions/38755219/how-to-run-sudo-poweroff-in-java", "title": "How to run sudo poweroff in java", "body": "<p>I am a jsp developer. I need to shut down my slow, unresponsive, laggy, (you get the point) development ubuntu \"server\" sometimes, when its keyboard stops responding to input. I already have tomcat configured properly, and even when my keyboard stops responding, I can use it as a server (accessing webpages served by tomcat). My idea is to make a jsp page that calls <code>sudo poweroff</code>. But I have no idea how to do that. I have tried</p>\n\n<pre><code>Runtime.getRuntime.exec(\"sudo poweroff\");\n</code></pre>\n\n<p>but it does not work for me. I have already edited the sudoers file to allow the tomcat user to perform this action without requiring a password. How can I make this happen?</p>\n"}, {"tags": ["java", "maven", "jenkins", "adobe", "aem"], "answers": [{"tags": [], "owner": {"reputation": 1543, "user_id": 6126132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2778e5fdbb851dde3444f7655dfd03e6?s=128&d=identicon&r=PG&f=1", "display_name": "Ameesh Trikha", "link": "https://stackoverflow.com/users/6126132/ameesh-trikha"}, "is_accepted": false, "score": 2, "last_activity_date": 1470340608, "creation_date": 1470340608, "answer_id": 38776353, "question_id": 38755208, "link": "https://stackoverflow.com/questions/38755208/aem-package-manager-returning-html-instead-of-xml-error-missing-response-statu/38776353#38776353", "title": "AEM package manager returning html instead of xml [ERROR] Missing response status information in response:", "body": "<p>For help on the latest plugin you could do following - </p>\n\n<pre><code>mvn com.day.jcr.vault:content-package-maven-plugin:0.5.1:help\n</code></pre>\n\n<p>This will give you list of goals available with new plugin. Given that you are looking into installing the package, the goal to get details will be <code>install</code>, you could type following command to get the details for configuring the goal - </p>\n\n<pre><code>mvn com.day.jcr.vault:content-package-maven-plugin:0.5.1:help -Ddetail=true -Dgoal=install\n</code></pre>\n\n<p>This will give you configuration details, something like - </p>\n\n<blockquote>\n  <p>[INFO] Adobe Content Package Maven Plugin 0.5.1   Maven Plugin\n  supporting creation of content packages and controlling the   package\n  manager on a remote system.</p>\n  \n  <p>content-package:install   Install a Content Package on a remote CRX or\n  Communique 5 system.</p>\n  \n  <p>Available parameters:</p>\n\n<pre><code>artifact\n  A string of the form groupId:artifactId:version[:packaging].\n  User property: vault.artifact\n\nartifactId\n  The artifactId of the artifact to install\n  User property: vault.artifactId\n\nfailOnError (Default: false)\n  If true, fail the build if there is an error while installing.\n  User property: vault.failOnError\n\ngroupId\n  The groupId of the artifact to install\n  User property: vault.groupId\n\ninstall (Default: true)\n  Whether to install (unpack) the uploaded package automatically or not.\n  User property: vault.install\n\nname (Default: ${project.artifactId})\n  The name of the content package\n  User property: vault.name\n\npackageFile (Default:\n${project.build.directory}/${project.build.finalName}.zip)\n  The name of the content package file to install on the target system. If\n  not set, the primary artifact of the project is considered the content\n  package to be installed.\n  User property: vault.file\n\npackaging (Default: zip)\n  The packaging of the artifact to install\n  User property: vault.packaging\n\npassword (Default: admin)\n  The password to authenticate against the remote CRX system.\n  Required: Yes\n  User property: vault.password\n\nrelaxedSSLCheck (Default: false)\n\n  User property: vault.relaxedSSLCheck\n\nrepositoryId (Default: temp)\n  The id of the repository from which we'll download the artifact\n  User property: vault.repoId\n\nrepositoryUrl\n  The url of the repository from which we'll download the artifact\n  User property: vault.repoUrl\n\nserverId\n  The server id with which to get the username and password from the user's\n  settings file.\n  User property: vault.serverId\n\nserviceURL (Default: http://localhost:4502/crx/packmgr/service/.json)\n\n  Required: Yes\n  User property: vault.serviceURL\n\ntargetURL (Default: http://localhost:4502/crx/packmgr/service.jsp)\n  The URL to the HTTP service API of the CRX package manager. See HTTP\n  Service Interface for details on this interface.\n  Required: Yes\n  User property: vault.targetURL\n\ntimeout (Default: 5)\n  The connection timeout to set when communicating with the package manager\n  service. Default value is 5 seconds. Value is specified in seconds.\n  User property: vault.timeout\n\nuseProxy (Default: true)\n  Setting this to false disables considering the use of any of the active\n  proxies configured in the Maven Settings. By default the first active\n  proxy configuration in the Maven Settings is used to proxy any request to\n  the package manager.\n  User property: vault.useProxy\n\nuserId (Default: admin)\n  The user name to authenticate as against the remote CRX system.\n  Required: Yes\n  User property: vault.userId\n\nverbose (Default: false)\n  Enable verbose logging when set to true.\n  User property: vault.verbose\n\nversion\n  The version of the artifact to install\n  User property: vault.version\n</code></pre>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 7159149, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/082f7a9b94d8adaab17d9254cd6363e6?s=128&d=identicon&r=PG", "display_name": "Francis", "link": "https://stackoverflow.com/users/7159149/francis"}, "edited": false, "score": 0, "creation_date": 1479161772, "post_id": 40598720, "comment_id": 68433055, "body": "The above should fix your issue. It fixed mine."}], "tags": [], "owner": {"reputation": 1, "user_id": 7159149, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/082f7a9b94d8adaab17d9254cd6363e6?s=128&d=identicon&r=PG", "display_name": "Francis", "link": "https://stackoverflow.com/users/7159149/francis"}, "is_accepted": false, "score": 0, "last_activity_date": 1479161738, "creation_date": 1479161738, "answer_id": 40598720, "question_id": 38755208, "link": "https://stackoverflow.com/questions/38755208/aem-package-manager-returning-html-instead-of-xml-error-missing-response-statu/40598720#40598720", "title": "AEM package manager returning html instead of xml [ERROR] Missing response status information in response:", "body": "<pre><code>&lt;plugins&gt;\n   &lt;plugin&gt;\n   &lt;groupId&gt;com.day.jcr.vault&lt;/groupId&gt;\n   &lt;artifactId&gt;content-package-maven-plugin&lt;/artifactId&gt;\n   &lt;executions&gt;\n      &lt;execution&gt;\n          &lt;id&gt;install-package&lt;/id&gt;\n          &lt;goals&gt;\n             &lt;goal&gt;install&lt;/goal&gt;\n          &lt;/goals&gt;\n      &lt;/execution&gt;\n   &lt;/executions&gt;\n   &lt;version&gt;0.0.24&lt;/version&gt;\n       &lt;extensions&gt;true&lt;/extensions&gt;\n       &lt;configuration&gt;\n           &lt;failOnError&gt;true&lt;/failOnError&gt;\n           &lt;username&gt;${crx.username}&lt;/username&gt;\n           &lt;password&gt;${crx.password}&lt;/password&gt;\n       &lt;/configuration&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7320979, "user_type": "registered", "profile_image": "https://graph.facebook.com/1294591370605620/picture?type=large", "display_name": "Tomasz &#39;Hilfman&#39; Hulak", "link": "https://stackoverflow.com/users/7320979/tomasz-hilfman-hulak"}, "is_accepted": false, "score": 1, "last_activity_date": 1482238282, "creation_date": 1482238282, "answer_id": 41242811, "question_id": 38755208, "link": "https://stackoverflow.com/questions/38755208/aem-package-manager-returning-html-instead-of-xml-error-missing-response-statu/41242811#41242811", "title": "AEM package manager returning html instead of xml [ERROR] Missing response status information in response:", "body": "<p>I had the same problem for my multimodule project:</p>\n\n<ul>\n<li>module 1: simple content</li>\n<li>module 2: simple content, assets and bundle</li>\n<li>module 3: simple content</li>\n</ul>\n\n<p>Packages for these modules were installed in the order shown above and it seemed to be the issue.</p>\n\n<p>It turned out that the problem occurred when installing the third package and in <code>error.log</code> there was a problem with some workflows for assets. I don't know what's the exact reason, but changing the order of packages actually helped, so what I had to do is to install the package with assets and bundle <strong>at the end</strong>. You may consider a similar solution depending on your project structure.</p>\n"}, {"comments": [{"owner": {"reputation": 6440, "user_id": 3768332, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qXVHN.jpg?s=128&g=1", "display_name": "Jamie Counsell", "link": "https://stackoverflow.com/users/3768332/jamie-counsell"}, "edited": false, "score": 0, "creation_date": 1542403837, "post_id": 51323604, "comment_id": 93570241, "body": "I also had to add <code>&lt;allowIndexDefinitions&gt;true&lt;&#47;allowIndexDefinitions&gt;</code> to the plugin <code>configurations</code>"}], "tags": [], "owner": {"reputation": 515, "user_id": 668644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/903fe610a2dfe4f3e38b06215d882a62?s=128&d=identicon&r=PG", "display_name": "Boris", "link": "https://stackoverflow.com/users/668644/boris"}, "is_accepted": false, "score": 1, "last_activity_date": 1531479615, "creation_date": 1531479615, "answer_id": 51323604, "question_id": 38755208, "link": "https://stackoverflow.com/questions/38755208/aem-package-manager-returning-html-instead-of-xml-error-missing-response-statu/51323604#51323604", "title": "AEM package manager returning html instead of xml [ERROR] Missing response status information in response:", "body": "<p>I know it's an old problem but we encountered this issue recently. Updating to version 0.5.24 of content-package-maven-plugin resolves the issue. </p>\n\n<p>The deploy profile on local machines works ok but failed in CI environment for which I'll create another story and link it here.</p>\n"}], "owner": {"reputation": 426, "user_id": 855086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cb2b64cc1f571d68d8a15a249007149?s=128&d=identicon&r=PG", "display_name": "gffny", "link": "https://stackoverflow.com/users/855086/gffny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3228, "favorite_count": 2, "answer_count": 4, "score": 4, "last_activity_date": 1531479615, "creation_date": 1470266887, "last_edit_date": 1470273625, "question_id": 38755208, "link": "https://stackoverflow.com/questions/38755208/aem-package-manager-returning-html-instead-of-xml-error-missing-response-statu", "title": "AEM package manager returning html instead of xml [ERROR] Missing response status information in response:", "body": "<p>I have a maven multi module project set up for an AEM application:</p>\n\n<ul>\n<li>core </li>\n<li>ui.apps </li>\n<li>it.launcher</li>\n<li>it.tests</li>\n<li>ui.workflows (added more recently)</li>\n</ul>\n\n<p>The application is deployed through Jenkins via a Maven build using the 0.0.24 version of the com.day.jcr.vault content-package-maven-plugin:</p>\n\n<p><code>mvn clean install -PautoInstallPackage (-D... [admin creds] -D... [server info])</code></p>\n\n<p>Intermittently, the Jenkins build will fail because the deployment of ui.workflows to <code>http://{server}.{port}/crx/packmgr/service.jsp</code> will fail with the following message:</p>\n\n<p><strong>[ERROR] Missing response status information in response:</strong></p>\n\n<p>Checking in the logs of successful and unsuccessful deployments, I can see that the <em>successful</em> deployment requests returns an <em>XML</em> response that begins with </p>\n\n<p><code>&lt;crx version=\"1.4.1\" user=\"admin\" workspace=\"crx.default\"&gt;</code></p>\n\n<p>and ends with</p>\n\n<p><code>Package installed in 4098ms.\n                &lt;/log&gt;\n            &lt;/data&gt;\n        &lt;status code=\"200\"&gt;ok&lt;/status&gt;\n    &lt;/response&gt;\n&lt;/crx&gt;</code></p>\n\n<p>The <em>unsuccessful</em> deployment requests returns an <em>HTML</em> response that begins with</p>\n\n<p><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Content modified /crx/packmgr/service.jsp&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Content modified /crx/packmgr/service.jsp&lt;/h1&gt;\n        &lt;table&gt;\n           &lt;tbody&gt;\n               &lt;tr&gt;\n                   &lt;td&gt;Status&lt;/td&gt;\n                   &lt;td&gt;&lt;div id=\"Status\"&gt;200&lt;/div&gt;&lt;/td&gt;\n               &lt;/tr&gt;</code></p>\n\n<p>I surmise that the request to the service endpoint in AEM was successful but that the plugin could not parse the HTML response. It looks like AEM in 6.2 is moving away from the /crx/packmgr/service.jsp endpoint, as well as XML responses in this documentation <a href=\"https://docs.adobe.com/docs/en/crx/2-3/how_to/package_manager.html\" rel=\"nofollow\">here</a></p>\n\n<p>In the <a href=\"https://repo.adobe.com/nexus/content/groups/public/com/day/jcr/vault/content-package-maven-plugin/\" rel=\"nofollow\">Adobe Nexus Repo for the maven plugin</a>, there is a new version (0.5), which is a significant leap in version number from the previous number, and also coincides with the AEM 6.2 version release (April 2016) but I cannot find any documentation on how to configure the new plugin. </p>\n\n<p>If anyone has experienced this issue, how did you resolve it? </p>\n"}, {"tags": ["java", "excel", "apache", "apache-poi", "indexoutofboundsexception"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 1, "creation_date": 1470272732, "post_id": 38755180, "comment_id": 64886533, "body": "How is <code>sheet2</code> instantiated (show the code)?"}, {"owner": {"reputation": 1, "user_id": 6674536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5bc6ac7a93960025bc44d90901370a4?s=128&d=identicon&r=PG&f=1", "display_name": "Cyberpixel", "link": "https://stackoverflow.com/users/6674536/cyberpixel"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1470300979, "post_id": 38755180, "comment_id": 64897333, "body": "I edited the post so you can see it"}, {"owner": {"reputation": 43110, "user_id": 685641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/598aa6e391b96b1ec24f1c34b58edcd9?s=128&d=identicon&r=PG", "display_name": "Gagravarr", "link": "https://stackoverflow.com/users/685641/gagravarr"}, "edited": false, "score": 0, "creation_date": 1470312264, "post_id": 38755180, "comment_id": 64904809, "body": "Switch to Apache POI 3.15 beta 3 and you can use <a href=\"https://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFWorkbook.html#write(java.io.File)\" rel=\"nofollow noreferrer\"><code>write(File)</code></a> to simplify and speed up the writing, see the <a href=\"http://poi.apache.org/faq.html#faq-N1023C\" rel=\"nofollow noreferrer\">FAQ for details</a>"}], "owner": {"reputation": 1, "user_id": 6674536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5bc6ac7a93960025bc44d90901370a4?s=128&d=identicon&r=PG&f=1", "display_name": "Cyberpixel", "link": "https://stackoverflow.com/users/6674536/cyberpixel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 963, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1470300965, "creation_date": 1470266673, "last_edit_date": 1470300965, "question_id": 38755180, "link": "https://stackoverflow.com/questions/38755180/indexoutofboundsexception-when-using-the-write-method-on-a-apache-poi-hssfworkbo", "title": "IndexOutOfBoundsException when using the write method on a Apache POI HSSFWorkbook", "body": "<p>I'm trying to write a method that takes two HSSFSheets (from two different HSSFWorkbooks that are imported via a FileChooser) and makes sure that the name of each Row of Sheet1 (as in the first cell of each row of Sheet1) has to be the same  name as each Row of Sheet2. If it's not the case the method has to re-organize Sheet2 so as the names of each Row of Sheet2 should match those of Sheet1. </p>\n\n<p>In the end the method should create and open a new excel file which should contain the reorganized Sheet2. And this is where the problem comes in</p>\n\n<pre><code>public void organizeSheets(HSSFSheet sheet1, HSSFSheet sheet2) throws FileNotFoundException, IOException {\n\n    HSSFWorkbook permutationWb = new HSSFWorkbook();\n    HSSFSheet permutationSheet = permutationWb.createSheet();\n    short noOfColumns;\n    HSSFRow testrow = sheet1.getRow(0);\n    short testcell = testrow.getLastCellNum();\n    noOfColumns = testcell;\n    int noOfRows = sheet1.getPhysicalNumberOfRows();\n    short noOfColumns2;\n    HSSFRow testrow2 = sheet2.getRow(0);\n    short testcell2 = testrow2.getLastCellNum();\n    noOfColumns2 = testcell2;\n\n    for (int i = 0; i &lt; noOfRows; i++) {\n        if (!getValue(sheet1, 0, i).toString().equals(getValue(sheet2, 0, i).toString())) {\n\n            System.out.println(getValue(sheet1, 0, i));\n            System.out.println(getValue(sheet2, 0, i));\n            int j = 0;\n\n            while (!getValue(sheet1, 0, i).toString().equals(getValue(sheet2, 0, j).toString())) {\n                j = j + 1;\n            }\n\n            HSSFRow transitionRow1 = permutationSheet.createRow(0);\n            HSSFRow transitionRow2 = permutationSheet.createRow(1);\n\n            for (int l=0; l &lt; noOfColumns2; l++) {\n                transitionRow1.createCell(l);\n                transitionRow1.getCell(l).setCellValue(getValue(sheet2, l, j));\n                //System.out.println(transitionRow1.getCell(l));\n            }\n\n            for (int p=0; p &lt; noOfColumns2; p++) {\n                transitionRow2.createCell(p);\n                transitionRow2.getCell(p).setCellValue(getValue(sheet2, p, i));\n            }\n\n\n            for (int k=0; k &lt; noOfColumns2; k++) {\n                sheet2.getRow(j).getCell(k).setCellValue(getValue(permutationSheet, k, 1).toString());\n                sheet2.getRow(i).getCell(k).setCellValue(getValue(permutationSheet, k, 0).toString());\n\n            }\n        }\n    }\n    sheet2.getWorkbook().write(new FileOutputStream(\"C:\\\\Users\\\\PC HP\\\\Desktop\\\\organized.xls\"));\n    sheet2.getWorkbook().close();\n    Desktop.getDesktop().open(new File(\"C:\\\\Users\\\\PC HP\\\\Desktop\\\\organized.xls\"));\n\n}\n</code></pre>\n\n<p>getValue(sheet, row, column) allows me to get the value of the cell whose coordinates are in the arguments of the method.</p>\n\n<p>Here's the error message I'm getting</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IndexOutOfBoundsException: Block 33 not found\nat org.apache.poi.poifs.filesystem.NPOIFSFileSystem.getBlockAt(NPOIFSFileSystem.java:486)\nat org.apache.poi.poifs.filesystem.NPOIFSStream$StreamBlockByteBufferIterator.next(NPOIFSStream.java:169)\nat org.apache.poi.poifs.filesystem.NPOIFSStream$StreamBlockByteBufferIterator.next(NPOIFSStream.java:142)\nat org.apache.poi.poifs.filesystem.NDocumentInputStream.readFully(NDocumentInputStream.java:248)\nat org.apache.poi.poifs.filesystem.NDocumentInputStream.read(NDocumentInputStream.java:150)\nat org.apache.poi.poifs.filesystem.DocumentInputStream.read(DocumentInputStream.java:125)\nat org.apache.poi.hpsf.PropertySet.isPropertySetStream(PropertySet.java:336)\nat org.apache.poi.hpsf.PropertySet.&lt;init&gt;(PropertySet.java:241)\nat org.apache.poi.hpsf.PropertySetFactory.create(PropertySetFactory.java:92)\nat org.apache.poi.POIDocument.getPropertySet(POIDocument.java:211)\nat org.apache.poi.POIDocument.getPropertySet(POIDocument.java:168)\nat org.apache.poi.POIDocument.readProperties(POIDocument.java:141)\nat org.apache.poi.POIDocument.getSummaryInformation(POIDocument.java:108)\nat org.apache.poi.POIDocument.writeProperties(POIDocument.java:260)\nat org.apache.poi.hssf.usermodel.HSSFWorkbook.write(HSSFWorkbook.java:1377)\nat model.main.organizeSheets(main.java:377)\nat model.main.main(main.java:42)\nCaused by: java.lang.IndexOutOfBoundsException: Unable to read 512 bytes from 17408 in stream of length -1\nat     org.apache.poi.poifs.nio.ByteArrayBackedDataSource.read(ByteArrayBackedDataSource.java:42)\nat org.apache.poi.poifs.filesystem.NPOIFSFileSystem.getBlockAt(NPOIFSFileSystem.java:484)\n... 16 more\n</code></pre>\n\n<p>I believe that there is no problem with the actual switch between the rows of Sheet2 (I've tested with prints, I might be wrong if I didn't test enough) and I have no idea how to deal with this situation.</p>\n\n<p>In order to instantiate Sheet2, the code asks the user to chose a workbook from his computer then choose a sheet within the workbook like follows</p>\n\n<pre><code>excelworkbook1 = o.chooseFile1();\n    Scanner scanner1 = new Scanner(System.in);\n    int sheetnumber1 = Integer.parseInt(scanner1.nextLine());\n    excelsheet1 = o.chooseSheet(excelworkbook1, sheetnumber1);\n\npublic HSSFWorkbook chooseFile1() throws IOException {\n    JFrame frame = null;\n    JFileChooser fc = new JFileChooser();\n    int returnVal = fc.showOpenDialog(frame);\n    String filepath = new String();\n\n    if (returnVal == JFileChooser.APPROVE_OPTION) {\n        filepath = fc.getSelectedFile().getCanonicalPath();\n        setFile1Adress(filepath);\n    } else {\n        System.exit(1);\n    }\n\n    FileInputStream file1InputStream;\n    file1InputStream = new FileInputStream(filepath);\n\n    NPOIFSFileSystem file;\n\n    file = new NPOIFSFileSystem(file1InputStream);\n\n    HSSFWorkbook workbook = new HSSFWorkbook(file.getRoot(), true);\n    file.close();\n\n    return workbook;\n}\n\n public HSSFSheet chooseSheet(HSSFWorkbook excelfile, int entry) {\n    return excelfile.getSheetAt(entry - 1);\n}  \n</code></pre>\n"}, {"tags": ["java", "directed-graph", "jgrapht"], "answers": [{"comments": [{"owner": {"reputation": 9790, "user_id": 369722, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/24eda94096d4b827c9aeb0cccc8c2198?s=128&d=identicon&r=PG", "display_name": "Julian A.", "link": "https://stackoverflow.com/users/369722/julian-a"}, "edited": false, "score": 0, "creation_date": 1470461002, "post_id": 38788401, "comment_id": 64971429, "body": "I already have an implementation of Bellman-Ford that I wrote for a course I&#39;m taking.  But I wanted to generate some random graphs and compare the results of my implementation with some other implementation capable of detecting negative cycles specifically.  For this purpose, I figured I could either use someone else&#39;s implementation of Bellman-Ford, or write some non-Bellman-Ford alternative myself."}], "tags": [], "owner": {"reputation": 1046, "user_id": 5669512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5923ce7463be25e86a3bbeacb7c68f16?s=128&d=identicon&r=PG&f=1", "display_name": "Christian W", "link": "https://stackoverflow.com/users/5669512/christian-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1470470433, "last_edit_date": 1492087710, "creation_date": 1470397300, "answer_id": 38788401, "question_id": 38755147, "link": "https://stackoverflow.com/questions/38755147/find-negative-cycles-in-a-directed-edge-weighted-graph-using-jgrapht/38788401#38788401", "title": "Find negative cycles in a directed edge-weighted graph using JGrapht", "body": "<p>In general you could use <code>BellmanFordShortestPath</code>to check for negative cycles in a graph, although the non-existence of a shortest path only tells you whether at least one negative cycle exists. I haven't had a proper look at the <code>BellmanFordShortestPath</code> implementation in JgraphT, so I can't provide you with code for that.</p>\n\n<p>Other than that, there is a neat paper linked in <a href=\"https://cs.stackexchange.com/questions/6919/getting-negative-cycle-using-bellman-ford\">https://cs.stackexchange.com/questions/6919/getting-negative-cycle-using-bellman-ford</a>. \nA working link to the paper should be:</p>\n\n<p><a href=\"https://www.semanticscholar.org/paper/Negative-Weight-Cycle-Algorithms-Huang/dc1391024d74f736aa7a9c24191a35e822589516/pdf\" rel=\"nofollow noreferrer\">https://www.semanticscholar.org/paper/Negative-Weight-Cycle-Algorithms-Huang/dc1391024d74f736aa7a9c24191a35e822589516/pdf</a></p>\n\n<p>So if all else fails, you could at least implement a working algorithm yourself, using a JgraphT graph like <code>DefaultDirectedWeightedGraph</code></p>\n"}, {"tags": [], "owner": {"reputation": 997, "user_id": 1159548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86e82da416602ef838a19c6f86210ae1?s=128&d=identicon&r=PG", "display_name": "Jan Dolejsi", "link": "https://stackoverflow.com/users/1159548/jan-dolejsi"}, "is_accepted": false, "score": 2, "last_activity_date": 1485262377, "creation_date": 1485262377, "answer_id": 41828735, "question_id": 38755147, "link": "https://stackoverflow.com/questions/38755147/find-negative-cycles-in-a-directed-edge-weighted-graph-using-jgrapht/41828735#41828735", "title": "Find negative cycles in a directed edge-weighted graph using JGrapht", "body": "<p>You can try to use  the <code>BellmanFordShortestPath</code>, but it will not find the loop if you look for a path from one vertex to itself, because every vertex is implicitly connected to itself with a weight <code>0</code>. </p>\n\n<pre><code>DefaultDirectedWeightedGraph&lt;String, DefaultWeightedEdge&gt; directedGraph = new DefaultDirectedWeightedGraph&lt;&gt;(DefaultWeightedEdge.class);\n\n...\n\nBellmanFordShortestPath&lt;String, DefaultWeightedEdge&gt; algorithm = new BellmanFordShortestPath(graph);\n\nGraphPath&lt;String, DefaultWeightedEdge&gt; path = algorithm.getPath(node1, node1);\n\nint length = path.getLength(); // returns 0\ndouble weight = path.getWeight(); // returns 0.0\n</code></pre>\n\n<p>The best I can find are the algorithms in <code>org.jgrapht.alg.cycle</code>, which give you all cycles and then you have to calculate the total weight of the path around the cycle. </p>\n\n<pre><code>private boolean hasNegativeLoop(DefaultDirectedWeightedGraph&lt;String, DefaultWeightedEdge&gt; graph){\n    SzwarcfiterLauerSimpleCycles&lt;String, DefaultWeightedEdge&gt; cycleDetector = new SzwarcfiterLauerSimpleCycles&lt;&gt;(graph);\n\n    List&lt;List&lt;String&gt;&gt; cycles = cycleDetector.findSimpleCycles();\n\n    for (List&lt;String&gt; cycle : cycles){\n        double cycleWeight = getCycleWeight(graph, cycle);\n\n        if(cycleWeight &lt; 0) return true;\n    }\n\n    return false;\n}\n\nprivate double getCycleWeight(DefaultDirectedWeightedGraph&lt;String, DefaultWeightedEdge&gt; graph, List&lt;String&gt; cycle) {\n    double totalWeight = 0;\n\n    for(int i = 1; i &lt; cycle.size(); i++){\n        double weight = graph.getEdgeWeight(graph.getEdge(cycle.get(i-1), cycle.get(i)));\n\n        totalWeight += weight;\n    }\n\n    double weightBackToStart = graph.getEdgeWeight(graph.getEdge(cycle.get(cycle.size()-1), cycle.get(0)));\n\n    return totalWeight + weightBackToStart;\n}\n</code></pre>\n\n<p>This is way more inefficient comparing to Bellman Ford negative cycle detection, but could serve as a reference for your implementation. </p>\n"}], "owner": {"reputation": 9790, "user_id": 369722, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/24eda94096d4b827c9aeb0cccc8c2198?s=128&d=identicon&r=PG", "display_name": "Julian A.", "link": "https://stackoverflow.com/users/369722/julian-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 645, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1485262377, "creation_date": 1470266437, "last_edit_date": 1470361439, "question_id": 38755147, "link": "https://stackoverflow.com/questions/38755147/find-negative-cycles-in-a-directed-edge-weighted-graph-using-jgrapht", "title": "Find negative cycles in a directed edge-weighted graph using JGrapht", "body": "<p>Is it possible to use JGrapht to find negative cycles in a directed edge-weighted graph?  I've looked through the Javadocs and found I can use a <code>CycleDetector</code> to detect cycles, but not specifically negative cycles. CycleDetector finds cycles, but you can't tell if they're negative or not without somehow exploring them some other way.  Thanks!</p>\n"}, {"tags": ["java", "caching", "collections", "lru"], "comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1470268395, "post_id": 38755134, "comment_id": 64884511, "body": "This...isn&#39;t LRU, then.  And there&#39;s no way to do it with the built-in <code>LinkedHashMap</code>; you&#39;d have to build your own data structure -- and generally there&#39;s not an efficient way to insert into a desired location in the middle of any kind of linked list."}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1470269443, "post_id": 38755134, "comment_id": 64884767, "body": "No, not really.  You&#39;re almost certainly better off using something preexisting with a more conventional eviction policy."}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 1, "creation_date": 1470270005, "post_id": 38755134, "comment_id": 64884918, "body": "If you want as much of my time as it&#39;ll take to build a whole new data structure, you can pay me for it.  I&#39;m here to give help to people who have tried to solve their problems and have the effort to show for it, not to solve their problems from scratch."}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 1, "creation_date": 1470270640, "post_id": 38755134, "comment_id": 64885066, "body": "I can outline some ideas I have - keep your entries in a priority queue, balanced binary tree, or skip list - but I can also tell you that that&#39;ll take O(log n), I can tell you it&#39;s going to require a custom data structure, I can tell you I&#39;m not aware of any third party libraries that provide anything like that, and I can tell you I&#39;m not going to code this for you from scratch."}, {"owner": {"reputation": 7522, "user_id": 19450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40d9bb2e8df635f2f598b7577c5b3eb9?s=128&d=identicon&r=PG", "display_name": "Ben Manes", "link": "https://stackoverflow.com/users/19450/ben-manes"}, "edited": false, "score": 1, "creation_date": 1470275891, "post_id": 38755134, "comment_id": 64887146, "body": "<a href=\"http://highscalability.com/blog/2016/1/25/design-of-a-modern-cache.html\" rel=\"nofollow noreferrer\">Design of a Modern Cache</a> should provide ideas, links to explore, and reference code."}, {"owner": {"reputation": 7522, "user_id": 19450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40d9bb2e8df635f2f598b7577c5b3eb9?s=128&d=identicon&r=PG", "display_name": "Ben Manes", "link": "https://stackoverflow.com/users/19450/ben-manes"}, "edited": false, "score": 1, "creation_date": 1470277718, "post_id": 38755134, "comment_id": 64887578, "body": "Another trick to insert into the &quot;middle&quot; of an LRU: you could encode it into a flat array with an access timestamps. Then take a random sample to probabilistically guess at a mid element, link as the neighbor, and use the calculated middle access timestamp. Don&#39;t expect this to be worth the effort, though."}], "owner": {"reputation": 4651, "user_id": 860522, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vkbK1.jpg?s=128&g=1", "display_name": "OneSolitaryNoob", "link": "https://stackoverflow.com/users/860522/onesolitarynoob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1470266326, "creation_date": 1470266326, "question_id": 38755134, "link": "https://stackoverflow.com/questions/38755134/java-lru-with-random-insertion", "title": "Java LRU with random insertion", "body": "<p>I'm building an LRU cache in Java - basically a size constrained linkedhashmap that inserts items to the head of a list when first fetched,  drops them when they hit the end of the list, and moves them to the front of the list when accessed.</p>\n\n<p>But there's a twist.   I want to be able to insert into the middle of the list depending on how likely I think the item is to be fetched.   Inserting into the middle of the list would mean the item would be in \"cache\" for less time and use up less space.</p>\n\n<p>I can't see how to insert into the middle of a linkedhashmap,  any other options?</p>\n"}, {"tags": ["java", "eclipse", "javafx", "ant", "build"], "comments": [{"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 1, "creation_date": 1470266019, "post_id": 38755042, "comment_id": 64883940, "body": "Can you show the <code>build.fxbuild</code> file?"}, {"owner": {"reputation": 10023, "user_id": 3894351, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d3bb5780512cf35b3d0f712c0b99511c?s=128&d=identicon&r=PG&f=1", "display_name": "Elltz", "link": "https://stackoverflow.com/users/3894351/elltz"}, "edited": false, "score": 0, "creation_date": 1470450886, "post_id": 38755042, "comment_id": 64970041, "body": "goto your not working build and check with the working build and see whats up"}], "owner": {"reputation": 51, "user_id": 5781149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21b3eaad00b02407f463356984eb9c33?s=128&d=identicon&r=PG&f=1", "display_name": "nsmith95", "link": "https://stackoverflow.com/users/5781149/nsmith95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 437, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1470265654, "creation_date": 1470265654, "question_id": 38755042, "link": "https://stackoverflow.com/questions/38755042/javafx-build-fxbuild-not-working", "title": "JavaFx build.fxbuild not working", "body": "<p>I have a JavaFX Application I am trying to deploy. When I fill in the information in the build.fxbuild file, and click 'generate ant build.xml', nothing happens. If i create a new JavaFX application, the ant build works for that. I cannot find any error messages associated with creating the build so I do not know where to start. If anyone has insight into this help would be greatly appreciated.\nThanks in advance. I am using JavaFX 8 with Eclipse Neon.</p>\n"}, {"tags": ["java", "c++", "swig"], "comments": [{"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1470265529, "post_id": 38755014, "comment_id": 64883803, "body": "How would you use the buffer if your main program was in C and you were not using JNI, without knowing the size?"}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1470265540, "post_id": 38755014, "comment_id": 64883806, "body": "There is no way to create a Java array without knowing the size of the array."}, {"owner": {"reputation": 323, "user_id": 3043521, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4381d145f16fddd98cf8ff28f868b061?s=128&d=identicon&r=PG&f=1", "display_name": "BenK", "link": "https://stackoverflow.com/users/3043521/benk"}, "reply_to_user": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1470266043, "post_id": 38755014, "comment_id": 64883951, "body": "I specifically said I am using SWIG, which generated JNI code and that one possibility I am considering is to modify that code so that it does what I want. This could include getting the C++ buffer size and replacing the array passed from Java with another of appropriate size and handing that one back out to Java.  And of course, I am interested in simpler approaches."}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 1, "creation_date": 1470266403, "post_id": 38755014, "comment_id": 64884031, "body": "Before considering <code>SWIG</code> or <code>JNI</code> how does the <code>C++</code> function that calls <code>foo(ptr);</code> know what size the returned array is?"}, {"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1470266409, "post_id": 38755014, "comment_id": 64884034, "body": "I assume you know the size of the buffer. Is it documented? Is it also reference returned? How would a C++ user know the size of the buffer?"}, {"owner": {"reputation": 323, "user_id": 3043521, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4381d145f16fddd98cf8ff28f868b061?s=128&d=identicon&r=PG&f=1", "display_name": "BenK", "link": "https://stackoverflow.com/users/3043521/benk"}, "edited": false, "score": 0, "creation_date": 1470278214, "post_id": 38755014, "comment_id": 64887713, "body": "The data that the function fills in the buffer is a file type with header information including its size. That is how the caller of <code>foo</code> can know the size of the buffer."}, {"owner": {"reputation": 323, "user_id": 3043521, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4381d145f16fddd98cf8ff28f868b061?s=128&d=identicon&r=PG&f=1", "display_name": "BenK", "link": "https://stackoverflow.com/users/3043521/benk"}, "edited": false, "score": 0, "creation_date": 1470278781, "post_id": 38755014, "comment_id": 64887859, "body": "that is, after <code>foo</code> is called, the caller can use the passed-in pointer to examine the buffer&#39;s header to find out how big the buffer is"}, {"owner": {"reputation": 3868, "user_id": 2386026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b480a437c4c0af43ae3866177c79e142?s=128&d=identicon&r=PG&f=1", "display_name": "Jens Munk", "link": "https://stackoverflow.com/users/2386026/jens-munk"}, "edited": false, "score": 0, "creation_date": 1470296110, "post_id": 38755014, "comment_id": 64894241, "body": "Create a function with an <code>char**</code> argument. Your C program will allocat. Create an <code>in</code> and an <code>argout</code> typemaps to convert the argument into a return type and free any temporary char array. There should be plenty of such examples out there"}], "answers": [{"comments": [{"owner": {"reputation": 3868, "user_id": 2386026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b480a437c4c0af43ae3866177c79e142?s=128&d=identicon&r=PG&f=1", "display_name": "Jens Munk", "link": "https://stackoverflow.com/users/2386026/jens-munk"}, "edited": false, "score": 0, "creation_date": 1470851424, "post_id": 38839637, "comment_id": 65121669, "body": "Unless ``foo` is making the pointer <code>ptr</code> point to a buffer which is either static or disposed of properly when your library exits, you leak memory. I solved your problem 1000 times in Python, if you would like to see this solution, I can give it to you."}, {"owner": {"reputation": 323, "user_id": 3043521, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4381d145f16fddd98cf8ff28f868b061?s=128&d=identicon&r=PG&f=1", "display_name": "BenK", "link": "https://stackoverflow.com/users/3043521/benk"}, "reply_to_user": {"reputation": 3868, "user_id": 2386026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b480a437c4c0af43ae3866177c79e142?s=128&d=identicon&r=PG&f=1", "display_name": "Jens Munk", "link": "https://stackoverflow.com/users/2386026/jens-munk"}, "edited": false, "score": 0, "creation_date": 1471475526, "post_id": 38839637, "comment_id": 65366897, "body": "Well, the Java side has in <code>array_classes.i</code> the function <code>delete</code>. Will that prevent the memory leak?"}, {"owner": {"reputation": 3868, "user_id": 2386026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b480a437c4c0af43ae3866177c79e142?s=128&d=identicon&r=PG&f=1", "display_name": "Jens Munk", "link": "https://stackoverflow.com/users/2386026/jens-munk"}, "edited": false, "score": 0, "creation_date": 1471475974, "post_id": 38839637, "comment_id": 65367016, "body": "There is almost a complete example of what you are trying to do in the SWIG manual in the Java section.."}, {"owner": {"reputation": 323, "user_id": 3043521, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4381d145f16fddd98cf8ff28f868b061?s=128&d=identicon&r=PG&f=1", "display_name": "BenK", "link": "https://stackoverflow.com/users/3043521/benk"}, "reply_to_user": {"reputation": 3868, "user_id": 2386026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b480a437c4c0af43ae3866177c79e142?s=128&d=identicon&r=PG&f=1", "display_name": "Jens Munk", "link": "https://stackoverflow.com/users/2386026/jens-munk"}, "edited": false, "score": 0, "creation_date": 1471555897, "post_id": 38839637, "comment_id": 65406394, "body": "Do you mean 25.10.6, &quot;Using typemaps to return arguments&quot;?.  The manual doesn&#39;t elaborate on <code>delete</code> from <code>array_class</code>. Does it delete the C pointer that the Java array class was created from via <code>frompointer</code>? Or will I have to use typemaps to prevent the memory leak?"}, {"owner": {"reputation": 3868, "user_id": 2386026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b480a437c4c0af43ae3866177c79e142?s=128&d=identicon&r=PG&f=1", "display_name": "Jens Munk", "link": "https://stackoverflow.com/users/2386026/jens-munk"}, "edited": false, "score": 0, "creation_date": 1471556279, "post_id": 38839637, "comment_id": 65406546, "body": "No, 25.10.4. in the SWIG 3.0 documentation. An array of strings are returned as a Java String Array. It does a little more than you need, but you can change to a length 1 array or a single String object."}], "tags": [], "owner": {"reputation": 323, "user_id": 3043521, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4381d145f16fddd98cf8ff28f868b061?s=128&d=identicon&r=PG&f=1", "display_name": "BenK", "link": "https://stackoverflow.com/users/3043521/benk"}, "is_accepted": true, "score": 0, "last_activity_date": 1470696567, "creation_date": 1470696567, "answer_id": 38839637, "question_id": 38755014, "link": "https://stackoverflow.com/questions/38755014/swig-java-get-buffer-of-unknown-size-from-c/38839637#38839637", "title": "SWIG/Java get buffer of unknown size from C++", "body": "<p>I've come up with a solution. Assuming the same function <code>foo</code> in my question:</p>\n\n<ol>\n<li><p>Write a function, say <code>bar</code>, that creates a local pointer, passes it into <code>foo</code>, and returns it. In this case, <code>bar</code> would be</p>\n\n<p><code>unsigned char* bar()\n{\n unsigned char* ptr;\n foo(ptr);\n return ptr;\n}</code></p></li>\n<li><p>In SWIG: Use <code>%array_classes</code> , ie, <code>array_class(unsigned char, ShortArray)</code></p></li>\n<li><p>Create an instance of the array class via the pointer returned from <code>bar</code> by using <code>frompointer</code>. \n<code>ShortArray sa = ShortArray.frompointer(example.bar())</code></p></li>\n</ol>\n\n<p>This bypasses the headache of getting SWIG to work with <code>type*&amp;</code> as an argin/out, since you are now dealing with ordinary pointers and arrays which SWIG handles just fine \"out of the box\". It also allows the Java side to receive a buffer of arbitrary size and also provides more Java-like syntax.</p>\n"}], "owner": {"reputation": 323, "user_id": 3043521, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4381d145f16fddd98cf8ff28f868b061?s=128&d=identicon&r=PG&f=1", "display_name": "BenK", "link": "https://stackoverflow.com/users/3043521/benk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "accepted_answer_id": 38839637, "answer_count": 1, "score": 0, "last_activity_date": 1470696567, "creation_date": 1470265476, "last_edit_date": 1495540298, "question_id": 38755014, "link": "https://stackoverflow.com/questions/38755014/swig-java-get-buffer-of-unknown-size-from-c", "title": "SWIG/Java get buffer of unknown size from C++", "body": "<p>I have a C++ function\n<code>foo(unsigned char*&amp; ptr)</code>\nthat creates a buffer and fills it with binary data and sets ptr to point to it.\nI need to get the buffer's contents from Java. </p>\n\n<p>To clarify, the C++ code can be used like this:</p>\n\n<pre><code>unsigned char* ptr;\nfoo(ptr);\n//now ptr points to a buffer, do what you want, eg\nx=ptr[1];\n</code></pre>\n\n<p>Using <code>arrays_java.i</code> will not work because SWIG needs to know the array size in advance. I also tried the built-in typemap NIOBUFFER for <code>unsigned char*</code> modified for <code>unsigned char*&amp;</code> but that presented problems with the generated C++ wrapper code, where the JVM crashed when attempting to use it. I also don't think using <code>carrays.i</code> as in <a href=\"https://stackoverflow.com/questions/11564334/how-to-define-swig-typemap-for-returning-unsigned-char-back-to-java\">this answer</a> will work either because the parameter is <code>unsigned char*&amp;</code>, not just <code>unsigned char*</code>, but I haven't tried this yet. (<strong>EDIT</strong> using <code>%array_functions (int * Iarr)</code> for a test function </p>\n\n<pre><code>void test(int*&amp; ia)\n{\nia[0]=1;\n...\n}\n</code></pre>\n\n<p>results in a JVM crash with EXCEPTION_ACCESS_VIOLATION as happened with the NIOBUFFER typemap)</p>\n\n<p>Is there a way to get the buffer's size from the C++/JNI wrapper code and then create a Java array of known size from within the JNI code so I can leverage <code>arrays_java.i</code>?</p>\n\n<p>Is there a way to use NIOBUFFER, possibly with modifications to its typemap and/or the generated C++ wrapper?</p>\n\n<p>Is there a way to treat some <code>type*&amp;</code> as a <code>type*</code>so I can use <code>carrays.i</code>?</p>\n\n<p>Because both the NIOBUFFER typemap and <code>array_functions</code> crashed the JVM, I have a feeling that the root of my problem is the <code>type*&amp;</code> parameter and that a way to solve this will allow either of those two options. How do I do this?</p>\n"}, {"tags": ["java", "apache-kafka", "kafka-consumer-api"], "comments": [{"owner": {"reputation": 1355, "user_id": 1046859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37416a39b2321d9a934e11675df92f07?s=128&d=identicon&r=PG", "display_name": "alexlod", "link": "https://stackoverflow.com/users/1046859/alexlod"}, "edited": false, "score": 0, "creation_date": 1470442210, "post_id": 38754865, "comment_id": 64968713, "body": "How long did you wait to see if the new topic started being consumed? The group coordinator broker asynchronously checks to see if new topics match the pattern, and it does so periodically. It&#39;s possible you didn&#39;t wait long enough."}, {"owner": {"reputation": 1003, "user_id": 1118312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e713ef8c118326683021a41db4d9852f?s=128&d=identicon&r=PG", "display_name": "user1118312", "link": "https://stackoverflow.com/users/1118312/user1118312"}, "reply_to_user": {"reputation": 1355, "user_id": 1046859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37416a39b2321d9a934e11675df92f07?s=128&d=identicon&r=PG", "display_name": "alexlod", "link": "https://stackoverflow.com/users/1046859/alexlod"}, "edited": false, "score": 0, "creation_date": 1470670824, "post_id": 38754865, "comment_id": 65032051, "body": "@alexlod your comment was in the right direction. I found which property controls the period time for the check and added it to an answer."}], "answers": [{"tags": [], "owner": {"reputation": 1003, "user_id": 1118312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e713ef8c118326683021a41db4d9852f?s=128&d=identicon&r=PG", "display_name": "user1118312", "link": "https://stackoverflow.com/users/1118312/user1118312"}, "is_accepted": false, "score": 7, "last_activity_date": 1470670719, "creation_date": 1470670719, "answer_id": 38833347, "question_id": 38754865, "link": "https://stackoverflow.com/questions/38754865/kafka-pattern-subscription-rebalancing-is-not-being-triggered-on-new-topic/38833347#38833347", "title": "Kafka pattern subscription. Rebalancing is not being triggered on new topic", "body": "<p>The documentation mentions \"The pattern matching will be done periodically against topics existing at the time of check.\". It turns out the \"periodically\" corresponds to the metadata.max.age.ms property. By setting that property (inside \"consumer.props\" in my code sample) to i.e. 5000 I can see it detects new topics and partitions every 5 seconds.</p>\n\n<p>This is as designed, according to this jira ticket <a href=\"https://issues.apache.org/jira/browse/KAFKA-3854\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/KAFKA-3854</a>:</p>\n\n<blockquote>\n  <p>The final note on the JIRA stating that a later created topic that matches a consumer's subscription pattern would not be assigned to the consumer upon creation seems to be as designed. A repeat subscribe() to the same pattern would be needed to handle that case. </p>\n</blockquote>\n\n<p>The refresh metadata polling does the \"repeat subscribe()\" mentioned in the ticket. </p>\n\n<p>This is confusing coming from Kafka 0.8 where there was true triggering based on zookeper watches, instead of polling. IMO 0.9 is more of a downgrade for this scenario, instead of \"just in time\" rebalancing, this becomes either high frequency polling with overhead, or low frequency polling with long times before it reacts to new topics/partitions.</p>\n"}, {"tags": [], "owner": {"reputation": 845, "user_id": 4823653, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-myKMzrMqlOU/AAAAAAAAAAI/AAAAAAAAAIU/EVEaVdpboto/photo.jpg?sz=128", "display_name": "LIU YUE", "link": "https://stackoverflow.com/users/4823653/liu-yue"}, "is_accepted": false, "score": 0, "last_activity_date": 1616484283, "creation_date": 1616484283, "answer_id": 66758840, "question_id": 38754865, "link": "https://stackoverflow.com/questions/38754865/kafka-pattern-subscription-rebalancing-is-not-being-triggered-on-new-topic/66758840#66758840", "title": "Kafka pattern subscription. Rebalancing is not being triggered on new topic", "body": "<p>to trigger a rebalance immediately, you can explicitly make a poll call after subscribe to the topic:</p>\n<pre><code>kafkaConsumer.poll(pollDuration);\n</code></pre>\n<p>refer to:\n<a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-568%3A+Explicit+rebalance+triggering+on+the+Consumer\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/KAFKA/KIP-568%3A+Explicit+rebalance+triggering+on+the+Consumer</a></p>\n"}], "owner": {"reputation": 1003, "user_id": 1118312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e713ef8c118326683021a41db4d9852f?s=128&d=identicon&r=PG", "display_name": "user1118312", "link": "https://stackoverflow.com/users/1118312/user1118312"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3773, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1616484283, "creation_date": 1470264452, "last_edit_date": 1495541687, "question_id": 38754865, "link": "https://stackoverflow.com/questions/38754865/kafka-pattern-subscription-rebalancing-is-not-being-triggered-on-new-topic", "title": "Kafka pattern subscription. Rebalancing is not being triggered on new topic", "body": "<p>According to the documentation on <a href=\"http://kafka.apache.org/0100/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#subscribe(java.util.regex.Pattern,%20org.apache.kafka.clients.consumer.ConsumerRebalanceListener)\" rel=\"nofollow noreferrer\">kafka javadocs</a> if I:</p>\n\n<ul>\n<li>Subscribe to a pattern</li>\n<li>Create a topic that matches the pattern</li>\n</ul>\n\n<p>A rebalance should occur, which makes the consumer read from that new topic. But that's not happening.</p>\n\n<p>If I stop and start the consumer, it does pick up the new topic. So I know the new topic matches the pattern. There's a possible duplicate of this question in <a href=\"https://stackoverflow.com/questions/37120537/whitelist-filter-in-kafka-doesnt-pick-up-new-topics\">https://stackoverflow.com/questions/37120537/whitelist-filter-in-kafka-doesnt-pick-up-new-topics</a> but that question got nowhere.</p>\n\n<p>I'm seeing the kafka logs and there are no errors, it just doesn't trigger a rebalance. The rebalance is triggered when consumers join or die, but not when new topics are created (not even when partitions are added to existing topics, but that's another subject).</p>\n\n<p>I'm using kafka 0.10.0.0, and the official Java client for the \"New Consumer API\", meaning broker GroupCoordinator instead of fat client + zookeeper.</p>\n\n<p>This is the code for the sample consumer:</p>\n\n<pre><code>public class SampleConsumer {\npublic static void main(String[] args) throws IOException {\n    KafkaConsumer&lt;String, String&gt; consumer;\n    try (InputStream props = Resources.getResource(\"consumer.props\").openStream()) {\n        Properties properties = new Properties();\n        properties.load(props);\n        properties.setProperty(\"group.id\", \"my-group\");\n\n        System.out.println(properties.get(\"group.id\"));\n        consumer = new KafkaConsumer&lt;&gt;(properties);\n    }\n    Pattern pattern = Pattern.compile(\"mytopic.+\");\n    consumer.subscribe(pattern, new SampleRebalanceListener());\n    while (true) {\n        ConsumerRecords&lt;String, String&gt; records = consumer.poll(1000);\n        for (ConsumerRecord&lt;String, String&gt; record : records) {\n            System.out.printf(\"%s %s\\n\", record.topic(), record.value());\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>In the producer, I'm sending messages to topics named mytopic1, mytopic2, etc.</p>\n\n<p>Patterns are pretty much useless if the rebalance is not triggered.</p>\n\n<p>Do you know why the rebalance is not happening?</p>\n"}, {"tags": ["java", "json", "annotations"], "answers": [{"tags": [], "owner": {"reputation": 8853, "user_id": 1022260, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/27a141cb4a1a2f49d43bc09a5fa742b2?s=128&d=identicon&r=PG&f=1", "display_name": "mikeb", "link": "https://stackoverflow.com/users/1022260/mikeb"}, "is_accepted": true, "score": 4, "last_activity_date": 1470306452, "creation_date": 1470306452, "answer_id": 38764827, "question_id": 38754831, "link": "https://stackoverflow.com/questions/38754831/wildfly-ignoring-jackson-annotations-and-not-using-provider-class/38764827#38764827", "title": "Wildfly ignoring jackson annotations and not using @Provider class", "body": "<p>For anyone else, I figured this out.  The problem was that I had jackson jars in my pom that were not marked as \"provided\" scope.  This meant that I had jars in my war file's <code>WEB-INF/lib</code> directory.</p>\n\n<p>Even though they are the exact same version of Wildfly's jars (I use the same version properties as the WF version I'm using) they do not work properly.  Looks like the <code>hashCode()</code> is different for the same annotation from different jars even if they are the exact same (checksum and everything).</p>\n\n<p>So, the solution was to mark the dependencies as <code>provided</code> in maven for all Jackson stuff. </p>\n"}], "owner": {"reputation": 8853, "user_id": 1022260, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/27a141cb4a1a2f49d43bc09a5fa742b2?s=128&d=identicon&r=PG&f=1", "display_name": "mikeb", "link": "https://stackoverflow.com/users/1022260/mikeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 807, "favorite_count": 1, "accepted_answer_id": 38764827, "answer_count": 1, "score": 1, "last_activity_date": 1470306452, "creation_date": 1470264223, "last_edit_date": 1495541311, "question_id": 38754831, "link": "https://stackoverflow.com/questions/38754831/wildfly-ignoring-jackson-annotations-and-not-using-provider-class", "title": "Wildfly ignoring jackson annotations and not using @Provider class", "body": "<p>I have looked around here and don't think this is a duplicate of any of these:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/22442134/using-jackson-annotations-in-wildfly\">using Jackson annotations in Wildfly</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/18703831/jackson-annotations-being-ignored\">jackson annotations being ignored</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/34253264/wildfly-and-jackson-jsonignore-annotation\">Wildfly and Jackson @JsonIgnore annotation</a></p>\n\n<p>Using Wildfly 10 and deploying a war with the following class:</p>\n\n<pre><code>@Provider\npublic class JaxApplication implements ContextResolver&lt;ObjectMapper&gt; {\n  private final ObjectMapper mapper;\n\n  public JaxApplication() {\n    mapper = new ObjectMapper();\n    mapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);\n    //throw new RuntimeException(\"HERE\");\n  }\n\n  @Override\n  public ObjectMapper getContext(Class&lt;?&gt; type) {\n    throw new RuntimeException(\"HERE\");\n    //return mapper;\n  }\n\n}\n</code></pre>\n\n<p>I see the exception in the constructor thrown when I deploy if it's not commented, but I don't see the one from the <code>getContext</code> method when I make a request to my REST service.</p>\n\n<p>I have a <code>@JsonIgnore</code> annotation on an entity and it's not working, nor is the <code>@JsonIdentityInfo</code> annotation I'm using</p>\n\n<p>That class looks like this (imports included, to verify I'm using com.fasterxml.*)</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonIdentityInfo;\nimport com.fasterxml.jackson.annotation.ObjectIdGenerators;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.NotNull;\nimport java.util.List;\n\n/**\n * Created by mb995a on 7/29/2016.\n */\n@Entity\n@JsonIdentityInfo(generator=ObjectIdGenerators.IntSequenceGenerator.class, property=\"@request_id\", scope=Request.class)\n\npublic class Request extends BaseEntity {\n</code></pre>\n\n<p>Do I need to do something special in my REST config?</p>\n\n<pre><code>@ApplicationPath(\"api\")\npublic class RestApplication extends Application {\n    public RestApplication() {\n        super();\n    }\n}\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p>Edited to say:  I also have a unit test that uses an ObjectMapper and it serializes properly.</p>\n"}, {"tags": ["java", "jxta"], "comments": [{"owner": {"reputation": 1095, "user_id": 62462, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fc310991ac87cccdee90aaed90c9e25f?s=128&d=identicon&r=PG", "display_name": "Greg Chabala", "link": "https://stackoverflow.com/users/62462/greg-chabala"}, "edited": false, "score": 0, "creation_date": 1470267482, "post_id": 38754735, "comment_id": 64884293, "body": "Slightly off topic: why are you trying to run the sample code for a dead technology? <a href=\"https://en.wikipedia.org/wiki/JXTA#Status\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/JXTA#Status</a>"}, {"owner": {"reputation": 1, "user_id": 6674406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29909fddf5c670f72435e2e409c6a96?s=128&d=identicon&r=PG", "display_name": "therealdtw", "link": "https://stackoverflow.com/users/6674406/therealdtw"}, "reply_to_user": {"reputation": 1095, "user_id": 62462, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fc310991ac87cccdee90aaed90c9e25f?s=128&d=identicon&r=PG", "display_name": "Greg Chabala", "link": "https://stackoverflow.com/users/62462/greg-chabala"}, "edited": false, "score": 0, "creation_date": 1470268929, "post_id": 38754735, "comment_id": 64884639, "body": "@GregChabala The technology has exactly what I am looking for, a P2P framework to build another application on top of.  If nothing else, should I get it working it will prove that that what I want to do can be done even if the P2P part needs to be rewritten.  If you know of alternative to JXTA I am all ears. Cheers!"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6674406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29909fddf5c670f72435e2e409c6a96?s=128&d=identicon&r=PG", "display_name": "therealdtw", "link": "https://stackoverflow.com/users/6674406/therealdtw"}, "is_accepted": false, "score": 0, "last_activity_date": 1470275128, "creation_date": 1470275128, "answer_id": 38757208, "question_id": 38754735, "link": "https://stackoverflow.com/questions/38754735/jxta-configuration-issue-jxtahttptransportadvertisement-not-registered/38757208#38757208", "title": "JXTA Configuration issue: jxta:HTTPTransportAdvertisement not registered", "body": "<p>Debugging the JXTA/JXSE code I found out that it was looking for a file in a META-INF folder that exists in the built jar file.  This is something I did not have in my build from source.  </p>\n\n<p>One likely resolution would be to build your own jar file and included the META-INF folder located in source src/main/resources, but I can not fully vouch for that method.  </p>\n\n<p>My resolution was to download the binary build of JXSE from <a href=\"https://oss.sonatype.org/service/local/repositories/releases/content/com/kenai/jxse/jxse/2.7/jxse-2.7.jar\" rel=\"nofollow\">https://oss.sonatype.org/service/local/repositories/releases/content/com/kenai/jxse/jxse/2.7/jxse-2.7.jar</a> which is in the projects Maven repository and include it in my project along with the required jar's for jxse-2.7.jar from <a href=\"https://sourceforge.net/projects/practicaljxta/files/lib-dependencies-2.7.zip/download\" rel=\"nofollow\">https://sourceforge.net/projects/practicaljxta/files/lib-dependencies-2.7.zip/download</a> </p>\n"}], "owner": {"reputation": 1, "user_id": 6674406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29909fddf5c670f72435e2e409c6a96?s=128&d=identicon&r=PG", "display_name": "therealdtw", "link": "https://stackoverflow.com/users/6674406/therealdtw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1470275128, "creation_date": 1470263634, "last_edit_date": 1470264426, "question_id": 38754735, "link": "https://stackoverflow.com/questions/38754735/jxta-configuration-issue-jxtahttptransportadvertisement-not-registered", "title": "JXTA Configuration issue: jxta:HTTPTransportAdvertisement not registered", "body": "<p>I am trying to the run a \"Hello World\" sample.  The problem is I keep getting the following error when trying to run the HelloWorld.java example ...</p>\n\n<pre><code>Fatal error -- Quitting\njava.util.NoSuchElementException: key 'jxta:HTTPTransportAdvertisement' not registered.\n    at net.jxta.util.ClassFactory.getInstantiator(ClassFactory.java:355)\n    at net.jxta.document.AdvertisementFactory.newAdvertisement(AdvertisementFactory.java:249)\n    at net.jxta.platform.NetworkConfigurator.createHttpAdv(NetworkConfigurator.java:1833)\n    at net.jxta.platform.NetworkConfigurator.&lt;init&gt;(NetworkConfigurator.java:528)\n    at net.jxta.platform.NetworkConfigurator.newAdHocConfiguration(NetworkConfigurator.java:436)\n    at net.jxta.platform.NetworkManager.configure(NetworkManager.java:321)\n    at net.jxta.platform.NetworkManager.startNetwork(NetworkManager.java:402)\n    at tutorial.helloworld.HelloWorld.main(HelloWorld.java:90)\n</code></pre>\n\n<p>Now from digging around through the code and doing some reading the NoSuchElementException comes from the fact the a XML element or key cannot be found the in the configuration.  OK that's cool, but reading the documentation when the NetworkManager.ConfigMode is ADHOC it looks like you don't need a configuration file.  </p>\n\n<p>I have tried with some wild hope that turning off my firewall and Host and Network IPS and Anti-virus may help, but no. Using Sysinternals Process Monitor I do not see the eclipse.exe or java.exe trying to read a PlatformConfig file or even look for the reconf file. So this again leads me to believe (right ot wrong) that I don't need a configuration file.</p>\n\n<p>I am using JXTA 2.7 from [<a href=\"https://svn.java.net/svn/jxta-jxse~svn/\" rel=\"nofollow\">https://svn.java.net/svn/jxta-jxse~svn/</a>, Tag: 2.7] in Eclipse Neon with JDK 1.8. I have included the dependencies from <a href=\"https://sourceforge.net/projects/practicaljxta/files/\" rel=\"nofollow\">https://sourceforge.net/projects/practicaljxta/files/</a> in my project.</p>\n\n<p>The sample code was located on the tutorials/src/main/java/tutorial/HelloWorld/HelloWorld.java path.</p>\n\n<p>I would like to understand why JXTA cannot register the jxta:HTTPTransportAdvertisement and how to correct the issue.</p>\n"}, {"tags": ["java", "rest", "maven", "maven-central"], "comments": [{"owner": {"reputation": 81177, "user_id": 296328, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DSpH6.jpg?s=128&g=1", "display_name": "khmarbaise", "link": "https://stackoverflow.com/users/296328/khmarbaise"}, "edited": false, "score": 0, "creation_date": 1470290482, "post_id": 38754672, "comment_id": 64891259, "body": "You need to load the pom files and you can read the meta information..."}, {"owner": {"reputation": 329, "user_id": 2121324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59c6e404ffc0be0907e4b47058ca2263?s=128&d=identicon&r=PG&f=1", "display_name": "stefanbuck", "link": "https://stackoverflow.com/users/2121324/stefanbuck"}, "reply_to_user": {"reputation": 81177, "user_id": 296328, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DSpH6.jpg?s=128&g=1", "display_name": "khmarbaise", "link": "https://stackoverflow.com/users/296328/khmarbaise"}, "edited": false, "score": 0, "creation_date": 1481069763, "post_id": 38754672, "comment_id": 69222942, "body": "Thanks @khmarbaise. From where can I get those pom files? Are the accessible via maven central rest API somehow?"}], "owner": {"reputation": 329, "user_id": 2121324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59c6e404ffc0be0907e4b47058ca2263?s=128&d=identicon&r=PG&f=1", "display_name": "stefanbuck", "link": "https://stackoverflow.com/users/2121324/stefanbuck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1470263266, "creation_date": 1470263266, "question_id": 38754672, "link": "https://stackoverflow.com/questions/38754672/get-meta-information-from-a-java-package-from-the-maven-central", "title": "Get meta information from a java package from the maven central", "body": "<p>Is there a way of getting the meta information described in a pom.xml from maven central via rest API? I'm interested in the following fields</p>\n\n<pre><code>&lt;url&gt;\n&lt;organization&gt;\n&lt;scm&gt; \n</code></pre>\n\n<p>The search result exposes just a few fields. <a href=\"http://search.maven.org/solrsearch/select?wt=json&amp;rows=20&amp;q=fc:%22org.springframework.boot%22\" rel=\"nofollow\">http://search.maven.org/solrsearch/select?wt=json&amp;rows=20&amp;q=fc:%22org.springframework.boot%22</a></p>\n"}, {"tags": ["java", "performance", "gradle", "build.gradle", "jmh"], "answers": [{"tags": [], "owner": {"reputation": 9694, "user_id": 3239417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QWrO4.png?s=128&g=1", "display_name": "vsminkov", "link": "https://stackoverflow.com/users/3239417/vsminkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1473708198, "creation_date": 1473708198, "answer_id": 39457336, "question_id": 38754665, "link": "https://stackoverflow.com/questions/38754665/how-to-append-meta-inf-benchmarklist-to-jmh-task-to-fix-error-unable-to-find/39457336#39457336", "title": "How to append /META-INF/BenchmarkList to jmh task to fix &quot;ERROR: Unable to find the resource: /META-INF/BenchmarkList&quot;", "body": "<p>There was a couple of issues</p>\n\n<ol>\n<li><code>JMHSample_02_BenchmarkModes</code> class was in incorrectly named java class</li>\n<li>build.gradle was missing <code>apply plugin: \"me.champeau.gradle.jmh\"</code> declaration</li>\n<li>In <code>jmhJar</code> section <code>Main-Class</code> manifest entry was overridden (which is unnecessary)</li>\n</ol>\n\n<p>I've made a <a href=\"https://github.com/coderrick/JMH-Studies/pull/1\" rel=\"nofollow\">PR</a> with above fixes. After applying it you can run performance tests using </p>\n\n<pre><code>java -jar build/libs/JMH-Studies-jmh.jar\n</code></pre>\n"}], "owner": {"reputation": 939, "user_id": 3424651, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8a051529d305682f57da12895e5dabb8?s=128&d=identicon&r=PG&f=1", "display_name": "coderrick", "link": "https://stackoverflow.com/users/3424651/coderrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1783, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1473708198, "creation_date": 1470263190, "last_edit_date": 1470757130, "question_id": 38754665, "link": "https://stackoverflow.com/questions/38754665/how-to-append-meta-inf-benchmarklist-to-jmh-task-to-fix-error-unable-to-find", "title": "How to append /META-INF/BenchmarkList to jmh task to fix &quot;ERROR: Unable to find the resource: /META-INF/BenchmarkList&quot;", "body": "<p>I'm new to micro bench-marking in general. When I execute the JMH task in my project I get \"ERROR: Unable to find the resource: /META-INF/BenchmarkList\", I believe is created by jmh-generator-annprocess. I am using <strong>Gradle</strong> and I am trying to figure out if jmh-generator-annprocess is even working? Will it work properly for Gradle or do I need to use the Maven plugin or something?</p>\n\n<p><code>https://github.com/coderrick/JMH-Studies.git</code> in case you want to <code>git clone</code> my project and run it yourself.</p>\n"}, {"tags": ["java", "android", "android-intent"], "answers": [{"comments": [{"owner": {"reputation": 661, "user_id": 4413241, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f22d6399a8d6499588caf11b321d1596?s=128&d=identicon&r=PG&f=1", "display_name": "javapalava", "link": "https://stackoverflow.com/users/4413241/javapalava"}, "edited": false, "score": 0, "creation_date": 1470263790, "post_id": 38754706, "comment_id": 64883249, "body": "Thanks Flavio - I guess I just wasn&#39;t understanding why Activity B has to get the Intent, but then do nothing with it, and create a new one?"}, {"owner": {"reputation": 6340, "user_id": 595881, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/628e9fd15d791186ead2b4efe2ea0ac6?s=128&d=identicon&r=PG", "display_name": "Fl&#225;vio Faria", "link": "https://stackoverflow.com/users/595881/fl%c3%a1vio-faria"}, "reply_to_user": {"reputation": 661, "user_id": 4413241, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f22d6399a8d6499588caf11b321d1596?s=128&d=identicon&r=PG&f=1", "display_name": "javapalava", "link": "https://stackoverflow.com/users/4413241/javapalava"}, "edited": false, "score": 0, "creation_date": 1470263887, "post_id": 38754706, "comment_id": 64883285, "body": "The Intent doesn&#39;t hold only shared information. It holds things that allow the system to know what is the target activity. It is fine to get an empty intent. You may not need to read any info from it, but the system had to in order to resolve the activity you&#39;re calling."}, {"owner": {"reputation": 6340, "user_id": 595881, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/628e9fd15d791186ead2b4efe2ea0ac6?s=128&d=identicon&r=PG", "display_name": "Fl&#225;vio Faria", "link": "https://stackoverflow.com/users/595881/fl%c3%a1vio-faria"}, "reply_to_user": {"reputation": 661, "user_id": 4413241, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f22d6399a8d6499588caf11b321d1596?s=128&d=identicon&r=PG&f=1", "display_name": "javapalava", "link": "https://stackoverflow.com/users/4413241/javapalava"}, "edited": false, "score": 0, "creation_date": 1470263957, "post_id": 38754706, "comment_id": 64883302, "body": "The request code is used in <code>onActivityResult()</code> to handle activity calls differently. Let&#39;s say you also have Activity C that returns results. How would you tell apart a result that comes from B or C? you can just test the request code in <code>onActivityResult()</code>."}, {"owner": {"reputation": 661, "user_id": 4413241, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f22d6399a8d6499588caf11b321d1596?s=128&d=identicon&r=PG&f=1", "display_name": "javapalava", "link": "https://stackoverflow.com/users/4413241/javapalava"}, "edited": false, "score": 0, "creation_date": 1470264110, "post_id": 38754706, "comment_id": 64883346, "body": "OK, perfect - now I understand :) Thank you so much for your help."}, {"owner": {"reputation": 3604, "user_id": 1643723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e16eeec789c8b7281a9d7dd56b8030?s=128&d=identicon&r=PG", "display_name": "user1643723", "link": "https://stackoverflow.com/users/1643723/user1643723"}, "edited": false, "score": 0, "creation_date": 1470271956, "post_id": 38754706, "comment_id": 64885400, "body": "&quot;a piece of data exchanged by an intent is never the same instance&quot; \u2014 this is blatantly wrong. It is almost always the same instance, because Bundle internally avoids performing serialize/deserialize cycle as long as it has references to original objects in memory."}, {"owner": {"reputation": 6340, "user_id": 595881, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/628e9fd15d791186ead2b4efe2ea0ac6?s=128&d=identicon&r=PG", "display_name": "Fl&#225;vio Faria", "link": "https://stackoverflow.com/users/595881/fl%c3%a1vio-faria"}, "reply_to_user": {"reputation": 3604, "user_id": 1643723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e16eeec789c8b7281a9d7dd56b8030?s=128&d=identicon&r=PG", "display_name": "user1643723", "link": "https://stackoverflow.com/users/1643723/user1643723"}, "edited": false, "score": 2, "creation_date": 1470322319, "post_id": 38754706, "comment_id": 64912745, "body": "@user1643723 What do you have to back this statement, my friend? You are blatantly wrong. I wrote a minimal test app so that you can run and see it for yourself: <a href=\"http://pastebin.com/UZu78YaF\" rel=\"nofollow noreferrer\">pastebin.com/UZu78YaF</a>"}, {"owner": {"reputation": 3604, "user_id": 1643723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e16eeec789c8b7281a9d7dd56b8030?s=128&d=identicon&r=PG", "display_name": "user1643723", "link": "https://stackoverflow.com/users/1643723/user1643723"}, "edited": false, "score": 1, "creation_date": 1470374871, "post_id": 38754706, "comment_id": 64934358, "body": "So it seems, I was blatantly wrong myself. Just re-checked, and indeed, nothing besides LocalBroadcastManager (which simply never passes anything between processes) exhibits the behavior I described in my comment above."}, {"owner": {"reputation": 10302, "user_id": 902276, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/eLAjw.jpg?s=128&g=1", "display_name": "Daniele Segato", "link": "https://stackoverflow.com/users/902276/daniele-segato"}, "edited": false, "score": 0, "creation_date": 1470385713, "post_id": 38754706, "comment_id": 64939682, "body": "@Fl&#225;vioFaria you are wrong. The result intent is NOT supposed to have any reference to the activity that need to receive the result. It is perfectly possible to use that mechanism with a caller activity from another application that someone else developed."}, {"owner": {"reputation": 6340, "user_id": 595881, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/628e9fd15d791186ead2b4efe2ea0ac6?s=128&d=identicon&r=PG", "display_name": "Fl&#225;vio Faria", "link": "https://stackoverflow.com/users/595881/fl%c3%a1vio-faria"}, "reply_to_user": {"reputation": 10302, "user_id": 902276, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/eLAjw.jpg?s=128&g=1", "display_name": "Daniele Segato", "link": "https://stackoverflow.com/users/902276/daniele-segato"}, "edited": false, "score": 0, "creation_date": 1470409775, "post_id": 38754706, "comment_id": 64955275, "body": "@DanieleSegato When I said <i>&quot;It holds things that allow the system to know what is the target activity&quot;</i>, I meant an Intent that is used to start a new Activity, not returning a result to the caller one. <i>Target activity</i> is a common term to refer to activities resolved by the <code>IntentResolver</code>, in this case, being called by another one, not the other way around."}, {"owner": {"reputation": 10302, "user_id": 902276, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/eLAjw.jpg?s=128&g=1", "display_name": "Daniele Segato", "link": "https://stackoverflow.com/users/902276/daniele-segato"}, "edited": false, "score": 0, "creation_date": 1472109713, "post_id": 38754706, "comment_id": 65622402, "body": "@Fl&#225;vioFaria I know :-) but the way you wrote it down can be misinterpreted by a newbie"}], "tags": [], "owner": {"reputation": 6340, "user_id": 595881, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/628e9fd15d791186ead2b4efe2ea0ac6?s=128&d=identicon&r=PG", "display_name": "Fl&#225;vio Faria", "link": "https://stackoverflow.com/users/595881/fl%c3%a1vio-faria"}, "is_accepted": false, "score": 3, "last_activity_date": 1470322719, "last_edit_date": 1470322719, "creation_date": 1470263455, "answer_id": 38754706, "question_id": 38754626, "link": "https://stackoverflow.com/questions/38754626/sending-data-between-two-activities-using-explicit-intents/38754706#38754706", "title": "Sending data between two Activities using Explicit Intents", "body": "<p>Yes, you're doing things exactly how you're expected to. It may seem a little odd to be passing data through intents, but that's how Android was designed. Have in mind that activities may live in different processes, so the system serializes and deserializes the data in order to perform inter-process communication. The intent mechanism is the standard way of exchanging information across them and that's why intents only hold primitive data, Parcelables and Serializables. That being said, a piece of data exchanged by an intent is never the same instance on both sides, but an actual copy of the original data.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 2137407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3378a325b53515238c1dd454230b9528?s=128&d=identicon&r=PG", "display_name": "AJ_NY", "link": "https://stackoverflow.com/users/2137407/aj-ny"}, "is_accepted": false, "score": 0, "last_activity_date": 1470265896, "creation_date": 1470265896, "answer_id": 38755075, "question_id": 38754626, "link": "https://stackoverflow.com/questions/38754626/sending-data-between-two-activities-using-explicit-intents/38755075#38755075", "title": "Sending data between two Activities using Explicit Intents", "body": "<p>Your logic looks fine as mentioned by  Flavio. Just wanted to add that you don't have to call getIntent() in Activity B if you are not expecting anything from intent. You can avoid that line.</p>\n"}, {"tags": [], "owner": {"reputation": 10302, "user_id": 902276, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/eLAjw.jpg?s=128&g=1", "display_name": "Daniele Segato", "link": "https://stackoverflow.com/users/902276/daniele-segato"}, "is_accepted": false, "score": 0, "last_activity_date": 1470385427, "creation_date": 1470385427, "answer_id": 38784561, "question_id": 38754626, "link": "https://stackoverflow.com/questions/38754626/sending-data-between-two-activities-using-explicit-intents/38784561#38784561", "title": "Sending data between two Activities using Explicit Intents", "body": "<p>No, that's not how you are supposed to do it.</p>\n\n<p>When using <code>startActivityForResult()</code> the activity being called (B in your example) has to use: <code>setResult()</code> before <code>finish()</code>. This is the way it gives a result to the calling activity.</p>\n\n<p>From activity B there's no need to call <code>getIntent()</code> unless you need some parameter or to check if you've been called for result.</p>\n\n<p>Let's make an example: <code>FriendsActivity</code> is an activity meant to manage friends, it usually show the current friends list and allow adding more.</p>\n\n<p>From some place of your app you need the user to select a Friend for some action, so you have a button: <em>choose friend</em>, which open <code>FriendsActivity</code> with <code>ACTION_PICK</code> and <code>startActivityForResult()</code>.</p>\n\n<p>All of that looks like this:</p>\n\n<pre><code>Intent pickFriendIntent = new Intent(this, FriendsActivity.class);\npickFriendIntent.setAction(Intent.ACTION_PICK);\nstartActivityForResult(pickFriendIntent, REQUEST_PICK_FRIEND);\n</code></pre>\n\n<p>The <code>REQUEST_PICK_FRIEND</code> is a constant <code>int</code> defined in the caller activity (useful if you have more then one type of request with result).</p>\n\n<p>From <code>FriendsActivity</code>:</p>\n\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    // boolean flag to know if we are requested to pick or not\n    mPickMode = getIntent() != null &amp;&amp; Intent.ACTION_PICK.equals(getIntent().getAction());\n    // etc...\n}\n</code></pre>\n\n<p>The flag let us modify the behavior of our activity to pick a friend.</p>\n\n<p>For example when clicking a friend, instead of going to his profile (or whatever action was used before) we are supposed to return the friend information and finish the activity:</p>\n\n<pre><code>public void onFriendClicked(Friend theFriend) {\n    if (mPickMode) {\n        Intent resultData = new Intent();\n        // assuming Friend is Parcelable, if not just pass an ID or something\n        // it's usually best to handle this with a custom Uri actually\n        resultData.putExtra(\"friendParcelable\", theFriend);\n        // here we set the result for the calling activity\n        setResult(RESULT_FRIEND_PICKED, resultData);\n        // and then we finish this one\n        finish();\n    } else { ... }\n}\n</code></pre>\n\n<p>The <code>RESULT_FRIEND_PICKED</code> is an <code>int</code> constant, usually public. It tells which kind of result happened to the parent activity, you can have more then one, to your needs. It's actually a good idea also to make public constants for extras, like <code>\"friendParcelable\"</code> in the above example.</p>\n\n<p>When the <code>FriendsActivity</code> finish the caller get the callback:</p>\n\n<pre><code>protected void onActivityResult (int requestCode, \n            int resultCode, \n            Intent data) {\n    if (requestCode == REQUEST_PICK_FRIEND) {\n        if (resultCode == FriendsActivity.RESULT_FRIEND_PICKED) {\n            Friend pickedFriend = data.getParcelableExtra(\"friendParcelable\");\n            // do whatever you want with that information\n        } else if (resultCode == Activity.RESULT_CANCELED) {\n            // the FriendsActivity terminated without calling setResult();\n        }\n    }\n}\n</code></pre>\n\n<p>Also note that it is not mandatory to call <code>finish()</code> right after <code>setResult()</code>. If you call <code>setResult()</code> and then let the user click back it will still provide the result back. However if after the call to <code>setResult()</code> the activity is destroyed and re-created (ex. device rotation) you'll have to call <code>setResult()</code> again.</p>\n"}], "owner": {"reputation": 661, "user_id": 4413241, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f22d6399a8d6499588caf11b321d1596?s=128&d=identicon&r=PG&f=1", "display_name": "javapalava", "link": "https://stackoverflow.com/users/4413241/javapalava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1470385427, "creation_date": 1470262972, "question_id": 38754626, "link": "https://stackoverflow.com/questions/38754626/sending-data-between-two-activities-using-explicit-intents", "title": "Sending data between two Activities using Explicit Intents", "body": "<p>I have two Activities - Activity A, and Activity B. The user is presented with Activity A on opening the app.</p>\n\n<p>When you click a button on Activity A, it opens Activity B. </p>\n\n<p>In Activity B, the user is prompted to add some text into an EditText field, which is stored in a TextView object.</p>\n\n<p>When you click a button on Activity B, it redirects you to Activity A, and passes the data stored in the TextView object to Activity A to display on the screen.</p>\n\n<p>My assumed logic:</p>\n\n<p>Activity A constructs a new Intent and passes in Activity B.</p>\n\n<p>Activity A calls startActivityForResult(intent).</p>\n\n<p>Activity B then calls getIntent(), but does nothing with it, because there is nothing required(?)</p>\n\n<p>In onClick() method, Activity B creates a new Intent, passing in Activity A. Activity B puts its results in the new Intent (i.e. using intent.putExtra() )</p>\n\n<p>onActivityResult() in Activity A is called.</p>\n\n<p>I'm wondering, if this is the right logic?</p>\n"}, {"tags": ["java", "android", "android-fragments"], "comments": [{"owner": {"reputation": 34672, "user_id": 135946, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cbXyr.jpg?s=128&g=1", "display_name": "Bostone", "link": "https://stackoverflow.com/users/135946/bostone"}, "edited": false, "score": 0, "creation_date": 1470262539, "post_id": 38754528, "comment_id": 64882862, "body": "Please post a stacktrace"}, {"owner": {"reputation": 13, "user_id": 6674367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eba00220623b2faecd180336cc2b877a?s=128&d=identicon&r=PG&f=1", "display_name": "Captain Warning", "link": "https://stackoverflow.com/users/6674367/captain-warning"}, "reply_to_user": {"reputation": 34672, "user_id": 135946, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cbXyr.jpg?s=128&g=1", "display_name": "Bostone", "link": "https://stackoverflow.com/users/135946/bostone"}, "edited": false, "score": 0, "creation_date": 1470303975, "post_id": 38754528, "comment_id": 64899446, "body": "Sorry, I posted it"}, {"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 1, "creation_date": 1470327124, "post_id": 38754528, "comment_id": 64916357, "body": "you are accessing the view of the fragment before it is created. You can&#39;t do that. instead of <code>f1.showDetails(q.getName());</code>,  put that name in the fragment arguments, and use the argument in the <code>onCreateView</code> to populate the views."}], "answers": [{"tags": [], "owner": {"reputation": 3167, "user_id": 5512611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1u6Zq.jpg?s=128&g=1", "display_name": "Huy Z", "link": "https://stackoverflow.com/users/5512611/huy-z"}, "is_accepted": false, "score": 0, "last_activity_date": 1470301301, "last_edit_date": 1470301301, "creation_date": 1470276813, "answer_id": 38757437, "question_id": 38754528, "link": "https://stackoverflow.com/questions/38754528/nullpointerexception-using-fragment-transactions/38757437#38757437", "title": "NullPointerException using fragment transactions", "body": "<p>in <strong>QuestionListFragment</strong>:</p>\n\n<p>We set click listener for <strong>recView</strong>, not <strong>adapter</strong>. You should replace <code>adapter.setOnClickListener</code> with </p>\n\n<pre><code>recView.addOnItemTouchListener(new RecyclerTouchListener(getApplicationContext(), recView, new ClickListener() {\n            @Override\n            public void onClick(View view, int position) {\n                // do something with position.\n            }\n\n            @Override\n            public void onLongClick(View view, int position) {\n\n            }\n        }));\n</code></pre>\n\n<p>in <strong>QuestionDetail</strong>:</p>\n\n<p><strong>questionId</strong> wasn't initialized but you have use it in this line:</p>\n\n<pre><code>Question question = QuestionCatalog.getQuestionCatalog().getQuestionList().getList().get((int) questionId);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34672, "user_id": 135946, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cbXyr.jpg?s=128&g=1", "display_name": "Bostone", "link": "https://stackoverflow.com/users/135946/bostone"}, "is_accepted": false, "score": 0, "last_activity_date": 1470326784, "creation_date": 1470326784, "answer_id": 38772350, "question_id": 38754528, "link": "https://stackoverflow.com/questions/38754528/nullpointerexception-using-fragment-transactions/38772350#38772350", "title": "NullPointerException using fragment transactions", "body": "<p>Based on stacktrace and your code (not sure which one is line #50 in your QuestionDetail) ether txtName or txtKind evaluates to null (maybe both), so for whatever reason <code>getView().findViewById(R.id.textQuestion)</code> returns null. Probably because <code>getView()</code> in that call doesn't get you a parent view of the TextView in question</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 6674367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eba00220623b2faecd180336cc2b877a?s=128&d=identicon&r=PG&f=1", "display_name": "Captain Warning", "link": "https://stackoverflow.com/users/6674367/captain-warning"}, "edited": false, "score": 0, "creation_date": 1470338342, "post_id": 38772629, "comment_id": 64922800, "body": "Thank you so much for your help. It works now."}], "tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": true, "score": 0, "last_activity_date": 1470327615, "last_edit_date": 1495542773, "creation_date": 1470327615, "answer_id": 38772629, "question_id": 38754528, "link": "https://stackoverflow.com/questions/38754528/nullpointerexception-using-fragment-transactions/38772629#38772629", "title": "NullPointerException using fragment transactions", "body": "<p>First, don't use <code>getView()</code> in <code>onStart()</code> - You shouldn't have a view to get at that point. Second, you shouldn't be calling methods directly on the Fragment instances from elsewhere, in your case <code>f1.showDetails(q.getName());</code>. There, again, the Fragment has no View. Please see <a href=\"https://stackoverflow.com/questions/9245408/best-practice-for-instantiating-a-new-android-fragment\"><strong>Best practice for instantiating a new Android Fragment</strong></a> for how to pass arguments into Fragment before you load it into the FragmentManager. </p>\n\n<hr>\n\n<p>Next point - you should initialize your views using <code>findViewById</code> inside of <code>onCreateView</code> just like you did for the other Fragment class. For example, </p>\n\n<pre><code>private TextView txtName, txtKind;\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    View rootView = inflater.inflate(R.layout.fragment_question_detail, container, false);\n\n    txtName = (TextView) rootView.findViewById(R.id.textQuestion);\n    txtKind = (TextView) rootView.findViewById(R.id.textKind);\n\n    // TODO: Read the link how to use these\n    Bundle arguments = getArguments();\n\n    Question question = QuestionCatalog.getQuestionCatalog()\n                .getQuestionList().getList().get((int) questionId);\n    showQuestion(question);\n\n    return view;\n}\n\nprivate void showQuestion(Question q) {\n    txtName.setText(q.getName());\n    txtKind.setText(q.getKind());\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6674367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eba00220623b2faecd180336cc2b877a?s=128&d=identicon&r=PG&f=1", "display_name": "Captain Warning", "link": "https://stackoverflow.com/users/6674367/captain-warning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "closed_date": 1470331701, "accepted_answer_id": 38772629, "answer_count": 3, "score": 1, "last_activity_date": 1470327615, "creation_date": 1470262421, "last_edit_date": 1470300894, "question_id": 38754528, "link": "https://stackoverflow.com/questions/38754528/nullpointerexception-using-fragment-transactions", "closed_reason": "Duplicate", "title": "NullPointerException using fragment transactions", "body": "<p>I'm starting with android and just getting crazy with the implements of multiple fragments. \nI have two fragments in my MainActivity: QuestionDetail and QuestionListFragment.\nWhen I use a fragment transactions to replace the QuestionDetail fragment when someone click in one of the QuestionListFragment options I get a NullPointerException error. </p>\n\n<p>I have been trying to fix this issue for hours. Any help is greatly appreciated.</p>\n\n<p>QuestionDetail</p>\n\n<pre><code>public class QuestionListFragment extends Fragment{\n\nprivate RecyclerView recView;\npublic static QuestionAdapter adapter;\nprivate QuestionListener listener;\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    View v = inflater.inflate(R.layout.fragment_question_list, container, false);\n    recView = (RecyclerView) v.findViewById(R.id.recView);\n    return v;\n}\n\n@Override\npublic void onActivityCreated(@Nullable Bundle savedInstanceState) {\n    super.onActivityCreated(savedInstanceState);\n\n    LinearLayoutManager layoutManager = new LinearLayoutManager(getActivity());\n    layoutManager.setOrientation(LinearLayoutManager.VERTICAL);\n    recView.setLayoutManager(layoutManager);\n\n    adapter = new QuestionAdapter(QuestionCatalog.getQuestionCatalog().getQuestionList().getList());\n    adapter.setOnClickListener(new View.OnClickListener(){\n        @Override\n        public void onClick(View v) {\n            if (listener!=null) {\n                listener.onQuestionListener(adapter.getItem(recView.getChildAdapterPosition(v)));\n            }\n        }\n    });\n    recView.setAdapter(adapter);\n}\n\npublic interface QuestionListener {\n    void onQuestionListener(Question q);\n}\n\npublic void setQuestionListener(QuestionListener listener) {\n    this.listener=listener;\n}\n</code></pre>\n\n<p>QuestionDetail</p>\n\n<pre><code>public class QuestionDetail extends Fragment {\n// We use an ID to know which Question we're using\nprivate long questionId;\n\npublic QuestionDetail() {\n    // Required empty public constructor\n}\n\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    return inflater.inflate(R.layout.fragment_question_detail, container, false);\n}\n\n@Override\npublic void onStart() {\n    super.onStart();\n    //Fragments don\u2019t include findViewById(). To get a reference to a view, we use getView()\n    View view = getView();\n    if (view != null) {\n        TextView title = (TextView) view.findViewById(R.id.textQuestion);\n        Question question = QuestionCatalog.getQuestionCatalog().getQuestionList().getList().get((int) questionId);\n        title.setText(question.getName());\n        TextView kind = (TextView) view.findViewById(R.id.textKind);\n        kind.setText(question.getKind());\n    }\n}\n\npublic void showDetails(String texto) {\n    TextView txtName = (TextView)getView().findViewById(R.id.textQuestion);\n    TextView txtKind = (TextView)getView().findViewById(R.id.textKind);\n    txtName.setText(texto);\n    txtKind.setText(texto);\n    }\n}\n</code></pre>\n\n<p>MainActivity</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity implements QuestionListFragment.QuestionListener {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    QuestionListFragment frg =(QuestionListFragment)getFragmentManager().findFragmentById(R.id.listFragment);\n    frg.setQuestionListener(this);\n}\n\n@Override\npublic void onQuestionListener(Question q) {\n    Toast.makeText(this, \"num: \" + q.getName(),\n            Toast.LENGTH_LONG).show();\n    FragmentTransaction t = getSupportFragmentManager().beginTransaction();\n    QuestionDetail f1 = new QuestionDetail();\n    f1.showDetails(q.getName());\n    t.replace(R.id.detailFragment,f1);\n    t.addToBackStack(null);\n    t.commit();\n}\n</code></pre>\n\n<p>stacktrace</p>\n\n<pre><code>08-04 09:54:11.914 22277-22277/com.hfad.predictandwin E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                    java.lang.NullPointerException\n                                                                        at com.hfad.predictandwin.Fragments.QuestionDetail.showDetails(QuestionDetail.java:50)\n                                                                        at com.hfad.predictandwin.MainActivity.onQuestionListener(MainActivity.java:34)\n                                                                        at com.hfad.predictandwin.Fragments.QuestionListFragment$1.onClick(QuestionListFragment.java:55)\n                                                                        at com.hfad.predictandwin.QuestionAdapter.onClick(QuestionAdapter.java:61)\n                                                                        at android.view.View.performClick(View.java:4475)\n                                                                        at android.view.View$PerformClick.run(View.java:18786)\n                                                                        at android.os.Handler.handleCallback(Handler.java:730)\n                                                                        at android.os.Handler.dispatchMessage(Handler.java:92)\n                                                                        at android.os.Looper.loop(Looper.java:176)\n                                                                        at android.app.ActivityThread.main(ActivityThread.java:5419)\n                                                                        at java.lang.reflect.Method.invokeNative(Native Method)\n                                                                        at java.lang.reflect.Method.invoke(Method.java:525)\n                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1046)\n                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:862)\n                                                                        at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n"}, {"tags": ["java", "serversocket", "nonblocking", "socketchannel"], "comments": [{"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1470267734, "post_id": 38754508, "comment_id": 64884350, "body": "Where is your evidence for this claim?"}, {"owner": {"reputation": 996, "user_id": 6382969, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/6573906dc8d142351d2f6ec09fd942ce?s=128&d=identicon&r=PG&f=1", "display_name": "PHcoDer", "link": "https://stackoverflow.com/users/6382969/phcoder"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1470331726, "post_id": 38754508, "comment_id": 64919124, "body": "@EJP I retrieve the socket associated with channel by .socket() call and then, print the address associated with the socket by .getLocalAddress and getPort() calls. Also other machines are not able to connect to the machine which is binding on 127.0.1.1, they throw connection refused exception. Another evidence, when I do netstat -tpln. I see that the port is with which I tried to bind the channel, shows address as 127.0.1.1"}, {"owner": {"reputation": 7159, "user_id": 1458771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daccc9f7e12a09ef7adc52f9c7bd13b1?s=128&d=identicon&r=PG", "display_name": "Drew MacInnis", "link": "https://stackoverflow.com/users/1458771/drew-macinnis"}, "edited": false, "score": 0, "creation_date": 1470963351, "post_id": 38754508, "comment_id": 65174845, "body": "Anything different about the <code>&#47;etc&#47;hosts</code> or <code>&#47;etc&#47;resolv.conf</code> on the host that doesn&#39;t work vs. the one that does? My guess is it is a host name resolution issue (DNS)."}], "owner": {"reputation": 996, "user_id": 6382969, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/6573906dc8d142351d2f6ec09fd942ce?s=128&d=identicon&r=PG&f=1", "display_name": "PHcoDer", "link": "https://stackoverflow.com/users/6382969/phcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1470333977, "creation_date": 1470262299, "last_edit_date": 1470333977, "question_id": 38754508, "link": "https://stackoverflow.com/questions/38754508/java-socketchannel-bind-binding-to-127-0-1-1-even-if-passed-machines-public-n", "title": "Java SocketChannel.bind() binding to 127.0.1.1, even if passed machines public name", "body": "<p>I am using following code to bind a SocketChannel to a port.</p>\n\n<pre><code>private ServerSocketChannel channel;\nchannel = ServerSocketChannel.open();\nchannel.bind(new InetSocketAddress(&lt;MachinesPublicNameAsString&gt;,&lt;portBeyond1024&gt;));\nchannel.configureBlocking(false);\n</code></pre>\n\n<p>At one machine this same code executed with same privilege level binds socket to public IP of the machine. Whereas on other it binds it on 127.0.1.1. MachinesPublicNameAsString is the one with which I am able to ssh from other machines.</p>\n\n<p>Please suggest me what could be wrong? What all system settings I should check for?</p>\n"}, {"tags": ["java", "datetime"], "comments": [{"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 1, "creation_date": 1470262450, "post_id": 38754490, "comment_id": 64882838, "body": "Have a look at <a href=\"http://stackoverflow.com/questions/38607864/how-can-i-get-two-midnights-from-given-instant\">this</a>; ignore that it is asking for &quot;midnight tomorrow&quot; too; the answers tell you how to get &quot;midnight today&quot;. However: note that you should use the start of the day, not midnight: midnight doesn&#39;t always exist."}, {"owner": {"reputation": 34086, "user_id": 787480, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/91cDR.png?s=128&g=1", "display_name": "Sneftel", "link": "https://stackoverflow.com/users/787480/sneftel"}, "reply_to_user": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1470262568, "post_id": 38754490, "comment_id": 64882877, "body": "@AndyTurner I&#39;m a little intrigued by that... when can midnight not exist? DST and leap years/seconds wouldn&#39;t interfere with it."}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "reply_to_user": {"reputation": 34086, "user_id": 787480, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/91cDR.png?s=128&g=1", "display_name": "Sneftel", "link": "https://stackoverflow.com/users/787480/sneftel"}, "edited": false, "score": 3, "creation_date": 1470262637, "post_id": 38754490, "comment_id": 64882899, "body": "@Sneftel e.g. Asia/Gaza on 26th March 2016 - doesn&#39;t have midnight, because DST starts at midnight, and so the time jumps straight to 1am."}, {"owner": {"reputation": 7290, "user_id": 4785110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bae5c00f27770d807c943268438bb6?s=128&d=identicon&r=PG&f=1", "display_name": "maraca", "link": "https://stackoverflow.com/users/4785110/maraca"}, "edited": false, "score": 0, "creation_date": 1470264299, "post_id": 38754490, "comment_id": 64883415, "body": "Have a look at <code>GregorianCalendar</code>. You can set the time zone and it has a method <code>computeTime()</code> which is the ms offset from the epoch."}], "answers": [{"tags": [], "owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "is_accepted": true, "score": 8, "last_activity_date": 1470264350, "creation_date": 1470264350, "answer_id": 38754849, "question_id": 38754490, "link": "https://stackoverflow.com/questions/38754490/get-current-day-in-milliseconds-in-java/38754849#38754849", "title": "Get Current Day in Milliseconds In Java", "body": "<p>You can do it in Java 8 like this:</p>\n\n<pre><code>ZonedDateTime startOfToday = LocalDate.now().atStartOfDay(ZoneId.systemDefault());\nlong todayMillis1 = startOfToday.toEpochSecond() * 1000;\n</code></pre>\n\n<p>Or in any Java version like this:</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\nint year  = cal.get(Calendar.YEAR);\nint month = cal.get(Calendar.MONTH);\nint date  = cal.get(Calendar.DATE);\ncal.clear();\ncal.set(year, month, date);\nlong todayMillis2 = cal.getTimeInMillis();\n</code></pre>\n\n<p>Printing the result using this:</p>\n\n<pre><code>System.out.println(\"Today is \" + startOfToday);\nSystem.out.println(todayMillis1);\nSystem.out.println(todayMillis2);\n</code></pre>\n\n<p>will give you this output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Today is 2016-08-03T00:00-04:00[America/New_York]\n1470196800000\n1470196800000\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44, "user_id": 6501885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12dde868ee45e71ee14bfec90ceea181?s=128&d=identicon&r=PG&f=1", "display_name": "iagooa", "link": "https://stackoverflow.com/users/6501885/iagooa"}, "is_accepted": false, "score": 2, "last_activity_date": 1470268591, "creation_date": 1470268591, "answer_id": 38755459, "question_id": 38754490, "link": "https://stackoverflow.com/questions/38754490/get-current-day-in-milliseconds-in-java/38755459#38755459", "title": "Get Current Day in Milliseconds In Java", "body": "<p>You can do as follows with <strong>Calendar</strong>:</p>\n\n<pre><code>Calendar date = Calendar.getInstance();\nlong millisecondsDate = date.getTimeInMillis();\n</code></pre>\n\n<p>Regards.</p>\n"}, {"tags": [], "owner": {"reputation": 15663, "user_id": 2564847, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1441871406/picture?type=large", "display_name": "Robin Dijkhof", "link": "https://stackoverflow.com/users/2564847/robin-dijkhof"}, "is_accepted": false, "score": 0, "last_activity_date": 1470269430, "creation_date": 1470269430, "answer_id": 38755570, "question_id": 38754490, "link": "https://stackoverflow.com/questions/38754490/get-current-day-in-milliseconds-in-java/38755570#38755570", "title": "Get Current Day in Milliseconds In Java", "body": "<p>Just as simple:</p>\n\n<pre><code>GregorianCalendar now = new GregorianCalendar();\nGregorianCalendar start = new GregorianCalendar(now.get(Calendar.YEAR), now.get(Calendar.MONTH), now.get(Calendar.DAY_OF_MONTH));\nlong ms = now.getTimeInMillis() - start.getTimeInMillis();\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>GregorianCalendar now = new GregorianCalendar();\nlong ms = now.getTimeInMillis() - new GregorianCalendar(now.get(Calendar.YEAR), now.get(Calendar.MONTH), now.get(Calendar.DAY_OF_MONTH)).getTimeInMillis();\n</code></pre>\n"}], "owner": {"reputation": 773, "user_id": 5407287, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/49bdb5440d34f0cb4b0ad6c117e8a04e?s=128&d=identicon&r=PG&f=1", "display_name": "LivingRobot", "link": "https://stackoverflow.com/users/5407287/livingrobot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8363, "favorite_count": 1, "accepted_answer_id": 38754849, "answer_count": 3, "score": 3, "last_activity_date": 1470269430, "creation_date": 1470262226, "question_id": 38754490, "link": "https://stackoverflow.com/questions/38754490/get-current-day-in-milliseconds-in-java", "title": "Get Current Day in Milliseconds In Java", "body": "<p>This is probably a very simple matter, but I would like to get the current day in milliseconds; that is, the Unix Timestamp at midnight of the current day. I know that I could do it by having</p>\n\n<pre><code>long time = System.currentTimeMillis() - new DateTime().millisOfDay().getMillis;  \n</code></pre>\n\n<p>But, is there a way to do this simpler? Like, is there a way to do this is one line without subtracting?</p>\n"}, {"tags": ["java", "jboss", "resteasy"], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 4056947, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-zi1E4f_HqfE/AAAAAAAAAAI/AAAAAAAAAB0/89omoWJTVfE/photo.jpg?sz=128", "display_name": "arjun kumar", "link": "https://stackoverflow.com/users/4056947/arjun-kumar"}, "edited": false, "score": 0, "creation_date": 1470333788, "post_id": 38772737, "comment_id": 64920264, "body": "I am going to add some updates to my original post, as I have made some changes to web.xml, but I previously had the snippet you provided in there, and I would get a warning statement that the resteasy.scan was being ignored (I think it is defaulted in JBoss 7).  It then fails on deployment.    [Added later] - when I try this on my new web.xml, I deploy just fine, but I get a http status of 500, and it gives me the error java.lang.RuntimeException: Unable to find a public constructor for class org.jboss.resteasy.core.AsynchronousDispatche, which is what the deployment used to fail on."}], "tags": [], "owner": {"reputation": 3162, "user_id": 2631139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef0a62e295f503fe4ec9fa95bc8d4d6?s=128&d=identicon&r=PG", "display_name": "mendieta", "link": "https://stackoverflow.com/users/2631139/mendieta"}, "is_accepted": false, "score": 0, "last_activity_date": 1470327972, "creation_date": 1470327972, "answer_id": 38772737, "question_id": 38754457, "link": "https://stackoverflow.com/questions/38754457/jboss-7-resteasy-services-not-being-registered/38772737#38772737", "title": "JBoss 7 RestEasy...services not being registered?", "body": "<p>I think you are right about your suspicion.. Try adding this to your web.xml</p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;resteasy.scan&lt;/param-name&gt;\n    &lt;param-value&gt;true&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 143, "user_id": 4056947, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-zi1E4f_HqfE/AAAAAAAAAAI/AAAAAAAAAB0/89omoWJTVfE/photo.jpg?sz=128", "display_name": "arjun kumar", "link": "https://stackoverflow.com/users/4056947/arjun-kumar"}, "is_accepted": true, "score": 1, "last_activity_date": 1470664010, "creation_date": 1470664010, "answer_id": 38830899, "question_id": 38754457, "link": "https://stackoverflow.com/questions/38754457/jboss-7-resteasy-services-not-being-registered/38830899#38830899", "title": "JBoss 7 RestEasy...services not being registered?", "body": "<p>Ended up solving this.  The key was to include this to what I already had, where each singleton is a rest service:</p>\n\n<pre><code>public class MyApplication  extends Application {\nprivate Set&lt;Object&gt; singletons = new HashSet&lt;Object&gt;();\n\npublic MyApplication() {\n    singletons.add(new RestEasyExample());\n    singletons.add(new RestEasyExample2());\n}\n\n@Override\npublic Set&lt;Class&lt;?&gt;&gt; getClasses() {\n    // TODO Auto-generated method stub\n    return null;\n}\n@Override\npublic Set&lt;Object&gt; getSingletons() {\n    return singletons;\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 4056947, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-zi1E4f_HqfE/AAAAAAAAAAI/AAAAAAAAAB0/89omoWJTVfE/photo.jpg?sz=128", "display_name": "arjun kumar", "link": "https://stackoverflow.com/users/4056947/arjun-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 689, "favorite_count": 0, "accepted_answer_id": 38830899, "answer_count": 2, "score": 0, "last_activity_date": 1470664010, "creation_date": 1470262113, "last_edit_date": 1470335345, "question_id": 38754457, "link": "https://stackoverflow.com/questions/38754457/jboss-7-resteasy-services-not-being-registered", "title": "JBoss 7 RestEasy...services not being registered?", "body": "<p>I am upgrading my app to JBoss 7.1.1 and will now be using RestEasy.  I am having issues getting RestEasy to work.  I get the error HTTP Status 404 - Could not find resource for relative.  I believe this means that it can't find the correct endpoint.  My suspicion is that there is some issue scanning and registering the services.  I could be wrong though.  Note: I am not using Maven</p>\n\n<p>Here is the portion of my web.xml that is concerned with RestEasy: </p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;resteasy.servlet.mapping.prefix&lt;/param-name&gt;\n    &lt;param-value&gt;/rest&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;listener&gt;\n    &lt;listener-class&gt;\n        org.jboss.resteasy.plugins.server.servlet.ResteasyBootstrap\n    &lt;/listener-class&gt;\n&lt;/listener&gt;\n\n\n&lt;servlet&gt;\n    &lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt; \n    &lt;servlet-class&gt;\n        org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher\n    &lt;/servlet-class&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt; \n    &lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;  \n</code></pre>\n\n<p>Here is a sample resource I am using:</p>\n\n<pre><code>import javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\n\n@Path(\"/hello\")\npublic class HelloResource {\n\n@POST\n@Produces(\"text/plain\")\npublic String helloResource() {\n    return \"Hello!\";\n}\n}\n</code></pre>\n\n<p>The url I have tried is: <a href=\"http://localhost:8080/[project-name]/rest/hello\" rel=\"nofollow\">http://localhost:8080/[project-name]/rest/hello</a></p>\n\n<p>I think that is all I am using for the call.  If additional info is required to answer my question, don't hesitate to ask.  Thanks in advance for your help!</p>\n\n<p>P.S. - How do the files need to be structured in the WAR?</p>\n\n<p><strong>[Updated web.xml]</strong></p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;resteasy.servlet.mapping.prefix&lt;/param-name&gt;\n    &lt;param-value&gt;/rest&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n  &lt;context-param&gt;\n    &lt;param-name&gt;resteasy.resources&lt;/param-name&gt;\n    &lt;param-value&gt;com.elderscan.test.RestEasyExample&lt;/param-value&gt;\n&lt;/context-param&gt; \n\n&lt;servlet&gt;\n    &lt;servlet-name&gt;resteasy-servlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;\n        org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher\n     &lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n        &lt;param-value&gt;com.elderscan.test.MyApplication&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/servlet&gt;\n\n\n&lt;servlet-mapping&gt; \n    &lt;servlet-name&gt;resteasy-servlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;  \n</code></pre>\n\n<p>So this allows me to successfully make a call to RestEasyExample, but I cannot make calls to another other rest services, which I obviously need to do.  Furthermore, this solution of adding all of my services to xml is not ideal, so another way would be preferred.  </p>\n"}, {"tags": ["java", "algorithm", "conways-game-of-life"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user177800"}, "edited": false, "score": 0, "creation_date": 1470263499, "post_id": 38754450, "comment_id": 64883163, "body": "lots of code; absolutely no mention of what it is or is not doing correctly?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user177800"}, "edited": false, "score": 0, "creation_date": 1470264188, "post_id": 38754450, "comment_id": 64883380, "body": "the edit removes about 90% of the code dump that was unrelated, don&#39;t encourage useless fix my code dumps like this"}, {"owner": {"reputation": 8739, "user_id": 631911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4DT5.jpg?s=128&g=1", "display_name": "Tatarize", "link": "https://stackoverflow.com/users/631911/tatarize"}, "edited": false, "score": 1, "creation_date": 1470267227, "post_id": 38754450, "comment_id": 64884236, "body": "&quot;Simply, activation of a cell occurs only when the algorithm iterates over the all members of the Cell two dimensional array.&quot; -- Activation occurs based on the previous states only. Maarten&#39;s right when your code changes the state then the next bit uses that changed state rather than the previous state of a copy. You make a copy, then do that to create the new activation state of the board. Rather than simply iterate over the board in a scan line corrupting the state each time."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 6073876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ToC4x.jpg?s=128&g=1", "display_name": "Burak G&#252;ne\u015f", "link": "https://stackoverflow.com/users/6073876/burak-g%c3%bcne%c5%9f"}, "edited": false, "score": 0, "creation_date": 1470264432, "post_id": 38754671, "comment_id": 64883455, "body": "I do use the state of the previous iteration in a way. Neighbor counting algorithm only considers <b>active cells</b> and a cell only becomes an active one after algorithms complete their work."}, {"owner": {"reputation": 3180, "user_id": 905033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a6b947cd4c65dce0c3493549f9f411c?s=128&d=identicon&r=PG", "display_name": "Lew Bloch", "link": "https://stackoverflow.com/users/905033/lew-bloch"}, "reply_to_user": {"reputation": 41, "user_id": 6073876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ToC4x.jpg?s=128&g=1", "display_name": "Burak G&#252;ne\u015f", "link": "https://stackoverflow.com/users/6073876/burak-g%c3%bcne%c5%9f"}, "edited": false, "score": 0, "creation_date": 1470266097, "post_id": 38754671, "comment_id": 64883967, "body": "Actually, @BurakG&#252;ne\u015f, from what I can see that is not true. You call <code>getNeighbourNumbers</code>, which you don&#39;t show us, then change the state of the cell, then call that anonymous method again, then change the state, ... Unless <code>getNeighbourNumbers</code> has kept a defensive copy of the board, not shown in this post, that spells trouble. You also don&#39;t show <code>refreshStates</code>, so I don&#39;t really think anyone can help."}, {"owner": {"reputation": 8739, "user_id": 631911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4DT5.jpg?s=128&g=1", "display_name": "Tatarize", "link": "https://stackoverflow.com/users/631911/tatarize"}, "reply_to_user": {"reputation": 41, "user_id": 6073876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ToC4x.jpg?s=128&g=1", "display_name": "Burak G&#252;ne\u015f", "link": "https://stackoverflow.com/users/6073876/burak-g%c3%bcne%c5%9f"}, "edited": false, "score": 1, "creation_date": 1470267011, "post_id": 38754671, "comment_id": 64884185, "body": "@BurakG&#252;ne\u015f, yeah, given your now edit Maarten&#39;s answer is clearly correct. Conways game of life must be done with a copy of the board last time and the new copy of the board. Much like an convolution operation. You can only do what you&#39;re doing there by shifting up and to the right in a weird way. But clearly you&#39;re corrupting the data with a scan line information."}], "tags": [], "owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "is_accepted": false, "score": 2, "last_activity_date": 1470263244, "creation_date": 1470263244, "answer_id": 38754671, "question_id": 38754450, "link": "https://stackoverflow.com/questions/38754450/why-my-implementation-of-conways-game-of-life-in-java-does-not-work/38754671#38754671", "title": "Why my implementation of Conway&#39;s Game of Life in java does not work?", "body": "<p>You're changing the cells as you go, so you don't use the state of the cells <em>of the previous iteration</em>.</p>\n\n<p>In other words, you need to store the state of the previous \"board\" and use it to create a new board.</p>\n"}], "owner": {"reputation": 41, "user_id": 6073876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ToC4x.jpg?s=128&g=1", "display_name": "Burak G&#252;ne\u015f", "link": "https://stackoverflow.com/users/6073876/burak-g%c3%bcne%c5%9f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 1, "closed_date": 1470300830, "answer_count": 1, "score": -2, "last_activity_date": 1470441676, "creation_date": 1470262081, "last_edit_date": 1470441676, "question_id": 38754450, "link": "https://stackoverflow.com/questions/38754450/why-my-implementation-of-conways-game-of-life-in-java-does-not-work", "closed_reason": "Not suitable for this site", "title": "Why my implementation of Conway&#39;s Game of Life in java does not work?", "body": "<p><s>I\u2019m trying to develop a program demonstrating Conway\u2019s Game of Life. The algorithm I\u2019ve written looks simple and meaningful to me, though the JRE seemingly is not agree with me. Each cell object have two states, indicating whether it\u2019s alive and it\u2019s active. Simply, activation of a cell occurs only when the algorithm iterates over the all members of the Cell two dimensional array. This is the most important aspect of the program because program needs to know what was the previous state of all of the cells. And finally, the birth of a new cell occurs when <em>neighbor checking algorithm</em> finds out a cell(alive or not) is surrounded with 3 cells.</s></p>\n\n<p>I calculate the number of neighbors of an individual cell by looking whether the surrounding cell is active or not. So when a new cell was born, it doesn't consider. It works as expected. </p>\n\n<p>What is the problem with my algorithm I fail to see?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I have found out that neighbor checking algorithm produce erroneous data inside my brand new process() method. Also, I changed the basic algorithm behind the game. Instead of having a single array which holds two states at the mean time, I started using two separate 2D boolean array. It made things a lot easier. Yet, program continues to come up with interesting and unwelcome data.</p>\n\n<pre><code>private void process(){\n    boolean[][] temp = new boolean[BOARD_LENGTH][BOARD_LENGTH];\n\n    for(int i=0; i&lt;cells.length; i++)\n        for(int j=0; j&lt;cells[i].length; j++){\n            if(i == 5 &amp;&amp; j == 5)\n                System.out.println(getNeighborNumbers(i,j));//THIS IS WHERE I NOTICED THE PROBLEM. OUTSIDE TH\u0130S process() method, getNeighborNumbers() method works flawlessly, though when it comes here, things get interesting. \n            if(getNeighborNumbers(i,j) &lt; 2 || getNeighborNumbers(i,j) &gt; 3 )\n                temp[i][j] = false;\n            else if(cells[i][j] = true &amp;&amp; getNeighborNumbers(i,j) == 2)\n                temp[i][j] = true;\n            else if(getNeighborNumbers(i,j) == 3)\n                temp[i][j] = true;\n        }\n\n\n    for(int i=0; i&lt;cells.length; i++)\n        for(int j=0; j&lt;cells.length; j++)\n            cells[i][j] = temp[i][j];\n\n    /*\n    System.out.println(\"5,4 \" + getNeighborNumbers(5,4) +\" \"+ cells[5][4]);\n    System.out.println(\"5,5 \" + getNeighborNumbers(5,5) +\" \"+ cells[5][5]);\n    System.out.println(\"5,6 \" + getNeighborNumbers(5,6) +\" \"+ cells[5][6]);\n    System.out.println(\"6,5 \" + getNeighborNumbers(6,5) +\" \"+ cells[6][5]);\n    System.out.println(\"6,6 \" + getNeighborNumbers(6,6) +\" \"+ cells[6][6]);\n    */\n\n}\n\n\nprivate int getNeighborNumbers(int i, int j){\n    int neighbors = 0;\n\n    if(i&gt;0 &amp;&amp; j&gt;0 &amp;&amp; cells[i-1][j-1] == true)\n        neighbors++;\n    if(i&gt;0 &amp;&amp; cells[i-1][j] == true)\n        neighbors++;\n    if(i&gt;0 &amp;&amp; j+1&lt; BOARD_LENGTH &amp;&amp; cells[i-1][j+1] == true)\n        neighbors++;\n    if(j&gt;0 &amp;&amp; cells[i][j-1] == true)\n        neighbors++;\n    if(j+1&lt;BOARD_LENGTH &amp;&amp; cells[i][j+1] == true)\n        neighbors++;\n    if(i+1&lt;BOARD_LENGTH &amp;&amp; j&gt;0 &amp;&amp; cells[i+1][j-1] == true)\n        neighbors++;\n    if(i+1 &lt;BOARD_LENGTH &amp;&amp; cells[i+1][j] == true)\n        neighbors++;\n    if(i+1&lt;BOARD_LENGTH &amp;&amp; j+1&lt;BOARD_LENGTH &amp;&amp; cells[i+1][j+1] == true)\n        neighbors++;\n\n    return neighbors;\n}\n</code></pre>\n\n<p>What might be the problem causing getNeighborNumbers to produce incorrect data? I believe my algorithm is simple as it can be.</p>\n\n<p><strong>MOST RECENT UPDATE</strong>\nWell, apparently instead of writing ==, I've written =. I could have never thought this kind of simple erroneous statement cost me hours.  </p>\n"}, {"tags": ["java", "android", "fresco"], "comments": [{"owner": {"reputation": 1172, "user_id": 2300128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bt7Fv.png?s=128&g=1", "display_name": "Alexander Oprisnik", "link": "https://stackoverflow.com/users/2300128/alexander-oprisnik"}, "edited": false, "score": 0, "creation_date": 1470301144, "post_id": 38754327, "comment_id": 64897444, "body": "Why exactly do you want to do this? Fresco already manages all the caching etc. for you."}, {"owner": {"reputation": 18268, "user_id": 984830, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/921db8f27811370fb2abf9b4712a04e7?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Cardoso", "link": "https://stackoverflow.com/users/984830/nick-cardoso"}, "reply_to_user": {"reputation": 1172, "user_id": 2300128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bt7Fv.png?s=128&g=1", "display_name": "Alexander Oprisnik", "link": "https://stackoverflow.com/users/2300128/alexander-oprisnik"}, "edited": false, "score": 0, "creation_date": 1470738273, "post_id": 38754327, "comment_id": 65060773, "body": "@AlexanderOprisnik A good reason I can think of is for UI testing it&#39;s useful to have access to a bitmap drawable, but to do that we need to start with a regular drawable it seems, and I don&#39;t know how to cast that"}, {"owner": {"reputation": 227, "user_id": 6606971, "user_type": "registered", "accept_rate": 37, "profile_image": "https://graph.facebook.com/822957514504959/picture?type=large", "display_name": "Dex Sebas", "link": "https://stackoverflow.com/users/6606971/dex-sebas"}, "edited": false, "score": 0, "creation_date": 1470789302, "post_id": 38754327, "comment_id": 65088649, "body": "Because I want to the user see some image then save it into storage"}], "answers": [{"tags": [], "owner": {"reputation": 1172, "user_id": 2300128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bt7Fv.png?s=128&g=1", "display_name": "Alexander Oprisnik", "link": "https://stackoverflow.com/users/2300128/alexander-oprisnik"}, "is_accepted": false, "score": 1, "last_activity_date": 1470829192, "last_edit_date": 1470829192, "creation_date": 1470826924, "answer_id": 38871565, "question_id": 38754327, "link": "https://stackoverflow.com/questions/38754327/getting-bitmapdrawable-from-fresco/38871565#38871565", "title": "Getting bitmapdrawable from fresco", "body": "<p>Getting the bitmap drawable is not a good idea since the underlying implementation of Fresco could change in the future, which would break your code.</p>\n\n<p>I guess you really just want the raw encoded image bytes (so that you don't have to re-encode the image).\nYou can get the encoded image bytes with</p>\n\n<p><code>DataSource&lt;CloseableReference&lt;PooledByteBuffer&gt;&gt;\n    dataSource = imagePipeline.fetchEncodedImage(imageRequest, callerContext);\n</code></p>\n\n<p>Since you already fetched the image before, it should be available instantly and you can do something like</p>\n\n<pre><code>try {\n  CloseableReference&lt;PooledByteBuffer&gt; encodedImage = dataSource.getResult();\n  if (imageReference != null) {\n    try {\n      // Do something with the encoded image, but do not keep the reference to it!\n      // The image may get recycled as soon as the reference gets closed below.\n    } finally {\n      CloseableReference.closeSafely(encodedImage);\n    }\n  } else {\n    // cache miss\n    ...\n  }\n} finally {\n  dataSource.close();\n}\n</code></pre>\n\n<p>Don't forget to close the references so that you don't leak memory.\nYou can find more information <a href=\"http://frescolib.org/docs/using-image-pipeline.html\" rel=\"nofollow\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1518, "user_id": 7606064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vEiKi.png?s=128&g=1", "display_name": "Dyvoker", "link": "https://stackoverflow.com/users/7606064/dyvoker"}, "is_accepted": false, "score": 1, "last_activity_date": 1498127920, "creation_date": 1498127920, "answer_id": 44697016, "question_id": 38754327, "link": "https://stackoverflow.com/questions/38754327/getting-bitmapdrawable-from-fresco/44697016#44697016", "title": "Getting bitmapdrawable from fresco", "body": "<p>I think it can be help you.</p>\n\n<pre><code>SimpleDraweeView view = findView(R.id.pic);\nview.setDrawingCacheEnabled(true);\nview.buildDrawingCache();\nBitmap bitmap = view.getDrawingCache();\nif (bitmap != null) {\n    dominantColor = getDominantColor(bitmap);\n}\n</code></pre>\n\n<p>Maybe it's not beautiful solution, but working well for me.</p>\n"}], "owner": {"reputation": 227, "user_id": 6606971, "user_type": "registered", "accept_rate": 37, "profile_image": "https://graph.facebook.com/822957514504959/picture?type=large", "display_name": "Dex Sebas", "link": "https://stackoverflow.com/users/6606971/dex-sebas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1440, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1498127920, "creation_date": 1470261522, "question_id": 38754327, "link": "https://stackoverflow.com/questions/38754327/getting-bitmapdrawable-from-fresco", "title": "Getting bitmapdrawable from fresco", "body": "<p>I'm trying to get the bitmap that from SimpleDraweeView.</p>\n\n<p>I already setted my SimpleDraweeView with uri image:</p>\n\n<pre><code>final Uri uri = new Uri.Builder()\n                    .scheme(UriUtil.LOCAL_RESOURCE_SCHEME)\n                    .path(returnUri.getPath())\n                    .build();\n            profileImage.setImageURI(returnUri);\n</code></pre>\n\n<p>And now I'm trying to save the image in the memory (storage) of the phone.</p>\n\n<pre><code> Bitmap b = ((BitmapDrawable) profileImage.getDrawable()).getBitmap(); //  ImageDiskHelper.drawableToBitmap(profileImage.getDrawable().get);\n        try {\n            ImageDiskHelper.saveToInternalStorage(b, \"MyActualProfileImage\");\n        } catch(Exception c){ }\n</code></pre>\n\n<p>But If I use the code above I get :  com.facebook.drawee.generic.RootDrawable cannot be cast to android.graphics.drawable.BitmapDrawable</p>\n\n<p>I convert profileImage.getDrawable to bitmap the image is like this:  <a href=\"http://i.stack.imgur.com/vbDrk.png\" rel=\"nofollow\">empty image</a></p>\n\n<p>I'm trying to get the bitmap which is being displayed by the SimpleDraweeView </p>\n"}, {"tags": ["java", "maven", "junit"], "comments": [{"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 3, "creation_date": 1470261369, "post_id": 38754254, "comment_id": 64882440, "body": "But then your test classes can be accessed in production code; and even if you make sure that they&#39;re not, you still have to carry the extra bloat of literally unused test code in your production code jars. Why do you want that?"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 2, "creation_date": 1470261500, "post_id": 38754254, "comment_id": 64882490, "body": "It&#39;d be a lot of work. Unrelated, but this seems like a convention that would lead to massive file bloat, less readability, harder packaging, etc. I can&#39;t come up with any good reasons to do it."}, {"owner": {"reputation": 132, "user_id": 1509901, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52b872231a2b0753281ed9e9797b0dc1?s=128&d=identicon&r=PG", "display_name": "Yossi Gil", "link": "https://stackoverflow.com/users/1509901/yossi-gil"}, "edited": false, "score": 0, "creation_date": 1470262561, "post_id": 38754254, "comment_id": 64882870, "body": "Wouldn&#39;t it be possible to remove such classes automatically? All .class files that have @ Test methods can be eliminated. It should be a tool&#39;s job to separate @ Test and other meta code from production code, not the programmer&#39;s."}, {"owner": {"reputation": 81177, "user_id": 296328, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DSpH6.jpg?s=128&g=1", "display_name": "khmarbaise", "link": "https://stackoverflow.com/users/296328/khmarbaise"}, "edited": false, "score": 0, "creation_date": 1470290603, "post_id": 38754254, "comment_id": 64891316, "body": "If you test code is in the class as you production code there is no way to spearate that. You could create a tool which will filter out the byte code from the class files...But i don&#39;t see any advantage of this approach?"}, {"owner": {"reputation": 14138, "user_id": 474287, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c573bb99af70871f3ce97507d564f49f?s=128&d=identicon&r=PG", "display_name": "Morfic", "link": "https://stackoverflow.com/users/474287/morfic"}, "edited": false, "score": 0, "creation_date": 1470326744, "post_id": 38754254, "comment_id": 64916087, "body": "Just out of curiosity, what would you do if you had to use a testing framework that required your test-cases to extend a base class instead of using annotations, such as <code>TestCase</code> in JUnit 3?"}, {"owner": {"reputation": 132, "user_id": 1509901, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52b872231a2b0753281ed9e9797b0dc1?s=128&d=identicon&r=PG", "display_name": "Yossi Gil", "link": "https://stackoverflow.com/users/1509901/yossi-gil"}, "reply_to_user": {"reputation": 14138, "user_id": 474287, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c573bb99af70871f3ce97507d564f49f?s=128&d=identicon&r=PG", "display_name": "Morfic", "link": "https://stackoverflow.com/users/474287/morfic"}, "edited": false, "score": 0, "creation_date": 1470365210, "post_id": 38754254, "comment_id": 64931847, "body": "@Morfic: You do not need to mess with the byte code. Inner classes are placed in different .class files, so there  is no issue here. <code>static</code> inner classes can extend an external test base class"}, {"owner": {"reputation": 14138, "user_id": 474287, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c573bb99af70871f3ce97507d564f49f?s=128&d=identicon&r=PG", "display_name": "Morfic", "link": "https://stackoverflow.com/users/474287/morfic"}, "edited": false, "score": 1, "creation_date": 1470389559, "post_id": 38754254, "comment_id": 64942079, "body": "You&#39;re right, apologies, I totally missed the inner class definition"}], "answers": [{"tags": [], "owner": {"reputation": 341, "user_id": 608316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/862be0a36fcb8b580aee47d7e850ebb4?s=128&d=identicon&r=PG", "display_name": "David M.", "link": "https://stackoverflow.com/users/608316/david-m"}, "is_accepted": true, "score": 3, "last_activity_date": 1470919545, "creation_date": 1470919545, "answer_id": 38896802, "question_id": 38754254, "link": "https://stackoverflow.com/questions/38754254/pom-file-in-the-case-that-junit-tests-are-mixed-with-real-source/38896802#38896802", "title": "POM file in the case that junit tests are mixed with real source", "body": "<p>I'm afraid Maven favors <a href=\"https://en.wikipedia.org/wiki/Convention_over_configuration\" rel=\"nofollow\">Convention over Configuration</a> (that's their motto). So if you don't want to follow their convention, you will have a hard time doing so, as it's hard-wired in the way Maven works. </p>\n\n<p>Maybe you could look into other build tools like Gradle that are less prone to conventions.</p>\n"}], "owner": {"reputation": 132, "user_id": 1509901, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52b872231a2b0753281ed9e9797b0dc1?s=128&d=identicon&r=PG", "display_name": "Yossi Gil", "link": "https://stackoverflow.com/users/1509901/yossi-gil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 38896802, "answer_count": 1, "score": 1, "last_activity_date": 1470919545, "creation_date": 1470261183, "question_id": 38754254, "link": "https://stackoverflow.com/questions/38754254/pom-file-in-the-case-that-junit-tests-are-mixed-with-real-source", "title": "POM file in the case that junit tests are mixed with real source", "body": "<p>I like to write classes together with their test code, e.g., </p>\n\n<pre><code>  public class My {\n    int zero() { return 0; }\n    public static class TEST {\n       @Test public void zeroTest() {\n         assertEquals(0, zero());\n       }\n    }\n  }\n</code></pre>\n\n<p>This is quite different than the usual maven assumptions</p>\n\n<ol>\n<li>Test classes are not in a separate file, and certainly not in a separate folder.</li>\n<li>Test methods may take  any name.</li>\n<li>Test classes may take any name.</li>\n</ol>\n\n<p>It would be really nice if I could have taught Maven this convention, so that in the compile stage, it would compile all code, including test code,\nand in the test stage, it would just run junit against all code, which will lead to it picking only methods labeled with @Test.</p>\n\n<p>Can this be done? </p>\n"}, {"tags": ["java", "macos", "url", "command"], "answers": [{"tags": [], "owner": {"reputation": 23365, "user_id": 176180, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/OiqtE.jpg?s=128&g=1", "display_name": "NawaMan", "link": "https://stackoverflow.com/users/176180/nawaman"}, "is_accepted": true, "score": 3, "last_activity_date": 1470261470, "creation_date": 1470261470, "answer_id": 38754317, "question_id": 38754219, "link": "https://stackoverflow.com/questions/38754219/java-how-to-open-url-with-command-on-mac/38754317#38754317", "title": "Java how to open url with command on Mac?", "body": "<p>Try <code>open</code>.</p>\n\n<pre><code>String Command=\"open \"+\"http://google.ca\";\nProcess Child=Runtime.getRuntime().exec(Command);\n</code></pre>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 28252, "user_id": 32834, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/21oX6.png?s=128&g=1", "display_name": "Frank", "link": "https://stackoverflow.com/users/32834/frank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 825, "favorite_count": 0, "closed_date": 1470261469, "accepted_answer_id": 38754317, "answer_count": 1, "score": 2, "last_activity_date": 1470261470, "creation_date": 1470261024, "question_id": 38754219, "link": "https://stackoverflow.com/questions/38754219/java-how-to-open-url-with-command-on-mac", "closed_reason": "Duplicate", "title": "Java how to open url with command on Mac?", "body": "<p>I use the following to open a url in a browser on Windows :</p>\n\n<pre><code>Command=\"C:\\\\Program Files\\\\Internet Explorer\\\\IEXPLORE \"+Url;\n\nProcess Child=Runtime.getRuntime().exec(Command);\n</code></pre>\n\n<p>What should I do to achieve the same on Mac ?</p>\n"}, {"tags": ["java", "php", "html", "dynamic", "menu"], "comments": [{"owner": {"reputation": 83063, "user_id": 2310830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P6rM1.png?s=128&g=1", "display_name": "RiggsFolly", "link": "https://stackoverflow.com/users/2310830/riggsfolly"}, "edited": false, "score": 0, "creation_date": 1470260952, "post_id": 38754176, "comment_id": 64882265, "body": "Welcome to SO. Please read <a href=\"http://stackoverflow.com/help/on-topic\">What topics can I ask about</a> and <a href=\"http://stackoverflow.com/help/how-to-ask\">How to ask a good question</a> And <a href=\"http://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/\" rel=\"nofollow noreferrer\">the perfect question</a> And how to create a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete and Verifiable example</a>"}], "answers": [{"tags": [], "owner": {"reputation": 135, "user_id": 1509059, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/950cb29b0dd4f9e4e0f2d5ea5f8ebefb?s=128&d=identicon&r=PG", "display_name": "user1509059", "link": "https://stackoverflow.com/users/1509059/user1509059"}, "is_accepted": false, "score": 0, "last_activity_date": 1470328061, "creation_date": 1470328061, "answer_id": 38772766, "question_id": 38754176, "link": "https://stackoverflow.com/questions/38754176/dynamically-updating-menus-based-on-previously-picked-menu-items/38772766#38772766", "title": "Dynamically Updating Menus Based On Previously Picked Menu Items", "body": "<p>Okay I figured it out.  </p>\n\n<p>I have one column that lists all the nfl teams K4:K35.</p>\n\n<p>I have a data validation cell A4 that looks at the nfl teams on K4:K35.</p>\n\n<p>In cell A24 I put the formula \"=filter(K4:K35,K4:K35&lt;>A4)\" that filters the nfl team list K4:K35 except for the week 1 pick in cell A4.</p>\n\n<p>I then have a data validation cell B4 that looks at the A22:A55 list for users to pick for week 2.</p>\n\n<p>In cell A24 I put the formula \"=filter(K4:K35,(K4:K35&lt;>B4)*(K4:K35&lt;>A4))\" that filters the nfl team list K4:K35 except for the week 1 pick in cell A4 week 2 pick of B4.</p>\n\n<p>Lather rinse repeat, and hide some columns and rows.  One sheet for each participant.  I'll add point totals with a master point total sheet too later on.</p>\n\n<p>Jerome</p>\n"}], "owner": {"reputation": 135, "user_id": 1509059, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/950cb29b0dd4f9e4e0f2d5ea5f8ebefb?s=128&d=identicon&r=PG", "display_name": "user1509059", "link": "https://stackoverflow.com/users/1509059/user1509059"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1470455533, "creation_date": 1470260859, "last_edit_date": 1470455533, "question_id": 38754176, "link": "https://stackoverflow.com/questions/38754176/dynamically-updating-menus-based-on-previously-picked-menu-items", "title": "Dynamically Updating Menus Based On Previously Picked Menu Items", "body": "<p>So I'm thinking of making an NFL Team Pick 'em Google Sheet for my co-workers and I to use this upcoming NFL season.  Every week, we will pick an NFL team to win a game and we can only pick each team once.  1 point for every correctly picked  game.  Most points wins the pot.</p>\n\n<p>I need some help with how to pick the team each week so that you can only pick a team once.  I'm not sure if this is possible in a Google Sheet.  If so, how can I have someone pick a team from all 32 NFL teams the first week, then the menu for week two automatically excludes the pick from week 1.  Then week 3 automatically excludes the pick from both weeks 1 and 2 and so on.</p>\n\n<p>Or would a project like this be better suited in PHP/Java/HTML?  If so, how would I handle the same menu principles in PHP?</p>\n\n<p>Thanks in advance for any help!</p>\n"}, {"tags": ["java", "jackson", "jodatime"], "comments": [{"owner": {"reputation": 6627, "user_id": 116301, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e5e0253aafe7650f7819f5285cfec7f0?s=128&d=identicon&r=PG", "display_name": "GuiSim", "link": "https://stackoverflow.com/users/116301/guisim"}, "edited": false, "score": 0, "creation_date": 1470312849, "post_id": 38754147, "comment_id": 64905153, "body": "The JodaModule will serialize DateTime instances into a Unix Timestamp. If I run your example, I get the following String <code>&quot;1403098016000&quot;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 99875, "user_id": 1426227, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ElYch.jpg?s=128&g=1", "display_name": "cassiomolin", "link": "https://stackoverflow.com/users/1426227/cassiomolin"}, "is_accepted": true, "score": 5, "last_activity_date": 1470314347, "last_edit_date": 1470314347, "creation_date": 1470312821, "answer_id": 38767028, "question_id": 38754147, "link": "https://stackoverflow.com/questions/38754147/jackson-objectmapper-adjusts-dates-to-context-timezone-when-deserializing-even-i/38767028#38767028", "title": "Jackson ObjectMapper adjusts dates to context timezone when deserializing even if explicitly disabled", "body": "<p><a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/DeserializationFeature.html#ADJUST_DATES_TO_CONTEXT_TIME_ZONE\" rel=\"noreferrer\"><code>DeserializationFeature.ADJUST_DATES_TO_CONTEXT_TIME_ZONE</code></a> is a <strong>deserialization</strong> feature and it's not taken into consideration when performing a <strong>serialization</strong>.</p>\n\n<p>One possible solution is to create an <code>ObjectMapper</code> instance with a <code>TimeZone</code>:</p>\n\n<pre><code>ObjectMapper mapper =  new ObjectMapper()\n            .enable(SerializationFeature.INDENT_OUTPUT)\n            .disable(DeserializationFeature.ADJUST_DATES_TO_CONTEXT_TIME_ZONE)\n            .registerModule(new JodaModule())\n            .setTimeZone(TimeZone.getTimeZone(\"GMT-7\"));\n</code></pre>\n\n<p>For more details, check the <a href=\"https://github.com/FasterXML/jackson-datatype-joda/blob/master/src/main/java/com/fasterxml/jackson/datatype/joda/ser/DateTimeSerializer.java\" rel=\"noreferrer\"><code>DateTimeSerializer</code></a> code.</p>\n"}], "owner": {"reputation": 302, "user_id": 2136140, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1760bc54a4ffe2a64e3f5f928def520a?s=128&d=identicon&r=PG", "display_name": "Aydin", "link": "https://stackoverflow.com/users/2136140/aydin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4652, "favorite_count": 1, "accepted_answer_id": 38767028, "answer_count": 1, "score": 6, "last_activity_date": 1470314347, "creation_date": 1470260702, "last_edit_date": 1470309509, "question_id": 38754147, "link": "https://stackoverflow.com/questions/38754147/jackson-objectmapper-adjusts-dates-to-context-timezone-when-deserializing-even-i", "title": "Jackson ObjectMapper adjusts dates to context timezone when deserializing even if explicitly disabled", "body": "<p>This is the format of the date in JSON that I want to serialize/deserialize: </p>\n\n<blockquote>\n  <p>\"2014-06-18T06:26:56-07:00\"</p>\n</blockquote>\n\n<p>The Joda DateTime field is declared as follows:</p>\n\n<pre><code>  @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"yyyy-MM-dd'T'HH:mm:ssZ\")\n    private DateTime dueTime;\n</code></pre>\n\n<p>The mapper:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper().enable(SerializationFeature.INDENT_OUTPUT)\n            .registerModule(new JodaModule())\n            .disable(DeserializationFeature.ADJUST_DATES_TO_CONTEXT_TIME_ZONE);\n\nmapper.writeValueAsString(objectWithDT)).as(\"application/json\")\n</code></pre>\n\n<p>In the resulting JSON the date with timezone above changes to:</p>\n\n<pre><code>2014-06-18T13:26:56+0000\n</code></pre>\n"}, {"tags": ["java", "android", "canvas", "bitmap", "background-color"], "answers": [{"comments": [{"owner": {"reputation": 591, "user_id": 5731819, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/MXygy.png?s=128&g=1", "display_name": "BlackBox", "link": "https://stackoverflow.com/users/5731819/blackbox"}, "edited": false, "score": 0, "creation_date": 1470261195, "post_id": 38754213, "comment_id": 64882368, "body": "Works! Thanks a lot. Also do you know what should I do if in the future I wanted to replace the tile color with a drawable/bitmap? (like a wood image/mask or such)"}, {"owner": {"reputation": 6340, "user_id": 595881, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/628e9fd15d791186ead2b4efe2ea0ac6?s=128&d=identicon&r=PG", "display_name": "Fl&#225;vio Faria", "link": "https://stackoverflow.com/users/595881/fl%c3%a1vio-faria"}, "reply_to_user": {"reputation": 591, "user_id": 5731819, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/MXygy.png?s=128&g=1", "display_name": "BlackBox", "link": "https://stackoverflow.com/users/5731819/blackbox"}, "edited": false, "score": 1, "creation_date": 1470261492, "post_id": 38754213, "comment_id": 64882489, "body": "Just replace the <code>drawRect()</code> call by a <code>drawBitmap()</code> one. On a <code>Canvas</code>, <code>draw</code> calls are drawn one on top of the other."}], "tags": [], "owner": {"reputation": 6340, "user_id": 595881, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/628e9fd15d791186ead2b4efe2ea0ac6?s=128&d=identicon&r=PG", "display_name": "Fl&#225;vio Faria", "link": "https://stackoverflow.com/users/595881/fl%c3%a1vio-faria"}, "is_accepted": true, "score": 1, "last_activity_date": 1470260996, "creation_date": 1470260996, "answer_id": 38754213, "question_id": 38754125, "link": "https://stackoverflow.com/questions/38754125/draw-a-bitmap-from-a-drawable-on-a-canvas-with-a-colored-background/38754213#38754213", "title": "Draw a bitmap (from a drawable) on a Canvas with a colored background", "body": "<p>You're only drawing the background if <code>pieceDrawable</code> is null. Change your code to:</p>\n\n<pre><code>public void draw(final Canvas canvas) {\n    canvas.drawRect(tileRect, squareColor); // Draws background no matter if place is empty.\n    if(pieceDrawable != null) {\n        Bitmap image = ((BitmapDrawable) pieceDrawable).getBitmap();\n        ColorFilter filter = new LightingColorFilter(squareColor.getColor(), Color.TRANSPARENT);\n        squareColor.setColorFilter(filter);\n        canvas.drawBitmap(image, null, tileRect, squareColor);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 591, "user_id": 5731819, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/MXygy.png?s=128&g=1", "display_name": "BlackBox", "link": "https://stackoverflow.com/users/5731819/blackbox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 851, "favorite_count": 0, "accepted_answer_id": 38754213, "answer_count": 1, "score": 0, "last_activity_date": 1470260996, "creation_date": 1470260601, "question_id": 38754125, "link": "https://stackoverflow.com/questions/38754125/draw-a-bitmap-from-a-drawable-on-a-canvas-with-a-colored-background", "title": "Draw a bitmap (from a drawable) on a Canvas with a colored background", "body": "<p>I'm doing a chess app and when I draw the tiles of the board, they don't get colored in the (transparent) background. Basically what I'd want, it's similar to what would happen in an ImageView that shows an image (with a transparent background) with a colored background.</p>\n\n<p>This is the code</p>\n\n<pre><code>private final Paint squareColor;\nprivate Rect tileRect;\nprivate Drawable pieceDrawable;\n\npublic Tile(final int col, final int row) {\n    this.col = col;\n    this.row = row;\n\n    this.squareColor = new Paint();\n    squareColor.setColor(isDark() ? Color.RED : Color.WHITE);\n\n\n}\n\npublic void draw(final Canvas canvas) {\n    if(pieceDrawable != null) {\n\n        Bitmap image = ((BitmapDrawable) pieceDrawable).getBitmap();\n        ColorFilter filter = new LightingColorFilter(squareColor.getColor(), Color.TRANSPARENT);\n        squareColor.setColorFilter(filter);\n        canvas.drawBitmap(image, null, tileRect, squareColor);\n    } else {\n        canvas.drawRect(tileRect, squareColor);\n    }\n}\n</code></pre>\n\n<p>And this is how the chessboard looks like (left image)</p>\n\n<p><img src=\"https://i.imgur.com/NByiUhnm.png\" alt=\"1\">\n<img src=\"https://i.imgur.com/XwBeIUOm.png\" alt=\"2\"></p>\n\n<p>If I comment out these 2 lines before <code>drawBitmap call</code>, I get the board as the right image.</p>\n\n<pre><code>ColorFilter filter = new LightingColorFilter(squareColor.getColor(), Color.TRANSPARENT);\nsquareColor.setColorFilter(filter);\n</code></pre>\n\n<p>My pieces are normal images with a transparent background where the piece is not drawn in the square. How can I have the red color <strong>behind</strong> the piece? (just as it would happen to an ImageView with the same images with a background color or onto a colored View)</p>\n"}, {"tags": ["java", "sql", "jdbc", "derby"], "comments": [{"owner": {"reputation": 5537, "user_id": 3059893, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/fUOFo.png?s=128&g=1", "display_name": "JavaHopper", "link": "https://stackoverflow.com/users/3059893/javahopper"}, "edited": false, "score": 0, "creation_date": 1470260619, "post_id": 38754043, "comment_id": 64882116, "body": "can you please add stack trace as part of your question?"}, {"owner": {"reputation": 229, "user_id": 3745362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01ba7f3e3692bf5f58cfdd82af650489?s=128&d=identicon&r=PG&f=1", "display_name": "user3745362", "link": "https://stackoverflow.com/users/3745362/user3745362"}, "edited": false, "score": 0, "creation_date": 1470261116, "post_id": 38754043, "comment_id": 64882338, "body": "Also describe how your derby database is setup.  Is this the in process file based database you are using or is there really a separate process running the derby database?"}, {"owner": {"reputation": 165, "user_id": 3487203, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/100000951673746/picture?type=large", "display_name": "Ardel", "link": "https://stackoverflow.com/users/3487203/ardel"}, "edited": false, "score": 0, "creation_date": 1470261253, "post_id": 38754043, "comment_id": 64882395, "body": "The database is ran on a separate server. Its main use is with another program. I am just trying to pull data from it."}, {"owner": {"reputation": 5537, "user_id": 3059893, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/fUOFo.png?s=128&g=1", "display_name": "JavaHopper", "link": "https://stackoverflow.com/users/3059893/javahopper"}, "edited": false, "score": 0, "creation_date": 1470261266, "post_id": 38754043, "comment_id": 64882402, "body": "Is your database host name, username and password, all correct? Looking at your code, it seems you have copied it from some reference and forgot to replace actual username, password and hostname (in place of Server)"}, {"owner": {"reputation": 165, "user_id": 3487203, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/100000951673746/picture?type=large", "display_name": "Ardel", "link": "https://stackoverflow.com/users/3487203/ardel"}, "edited": false, "score": 0, "creation_date": 1470261421, "post_id": 38754043, "comment_id": 64882460, "body": "Yes it is correct. If i change anything I get unkownHostException. I changed it to not give out the sensitive information"}, {"owner": {"reputation": 5537, "user_id": 3059893, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/fUOFo.png?s=128&g=1", "display_name": "JavaHopper", "link": "https://stackoverflow.com/users/3059893/javahopper"}, "edited": false, "score": 0, "creation_date": 1470261446, "post_id": 38754043, "comment_id": 64882472, "body": "Did you look at <a href=\"http://stackoverflow.com/questions/17165882/connectivity-error-in-derby\" title=\"connectivity error in derby\">stackoverflow.com/questions/17165882/&hellip;</a>"}, {"owner": {"reputation": 165, "user_id": 3487203, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/100000951673746/picture?type=large", "display_name": "Ardel", "link": "https://stackoverflow.com/users/3487203/ardel"}, "edited": false, "score": 0, "creation_date": 1470261595, "post_id": 38754043, "comment_id": 64882535, "body": "Yes it seemed his problem was not putting in a user name or password. I looked thru the refrence link and couldn&#39;t find any solution in there"}, {"owner": {"reputation": 5537, "user_id": 3059893, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/fUOFo.png?s=128&g=1", "display_name": "JavaHopper", "link": "https://stackoverflow.com/users/3059893/javahopper"}, "edited": false, "score": 0, "creation_date": 1470261698, "post_id": 38754043, "comment_id": 64882579, "body": "@Ardel, did you try adding this statement Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;); before DriverManager.getConnection(.., .., ..)"}, {"owner": {"reputation": 165, "user_id": 3487203, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/100000951673746/picture?type=large", "display_name": "Ardel", "link": "https://stackoverflow.com/users/3487203/ardel"}, "edited": false, "score": 0, "creation_date": 1470261705, "post_id": 38754043, "comment_id": 64882582, "body": "Added Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;); but still same error as above"}, {"owner": {"reputation": 5537, "user_id": 3059893, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/fUOFo.png?s=128&g=1", "display_name": "JavaHopper", "link": "https://stackoverflow.com/users/3059893/javahopper"}, "edited": false, "score": 0, "creation_date": 1470261919, "post_id": 38754043, "comment_id": 64882659, "body": "I know you might have already gone through, but I recommend you to take a look at <a href=\"https://db.apache.org/derby/integrate/plugin_help/start_toc.html\" rel=\"nofollow noreferrer\">db.apache.org/derby/integrate/plugin_help/start_toc.html</a> and check whether you missed something"}, {"owner": {"reputation": 15375, "user_id": 193453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc77f0d4e25a0f95d90a768aeb0a8517?s=128&d=identicon&r=PG", "display_name": "Bryan Pendleton", "link": "https://stackoverflow.com/users/193453/bryan-pendleton"}, "edited": false, "score": 0, "creation_date": 1470277762, "post_id": 38754043, "comment_id": 64887588, "body": "Are there any server-side errors reported in the server&#39;s derby.log?"}, {"owner": {"reputation": 165, "user_id": 3487203, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/100000951673746/picture?type=large", "display_name": "Ardel", "link": "https://stackoverflow.com/users/3487203/ardel"}, "reply_to_user": {"reputation": 5537, "user_id": 3059893, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/fUOFo.png?s=128&g=1", "display_name": "JavaHopper", "link": "https://stackoverflow.com/users/3059893/javahopper"}, "edited": false, "score": 0, "creation_date": 1470317911, "post_id": 38754043, "comment_id": 64909029, "body": "@JavaHopper I had not been there nor did I install a plug in for Derby. I was following the tutorial here <a href=\"http://www.homeandlearn.co.uk/java/connect_to_a_database_using_java_code.html\" rel=\"nofollow noreferrer\">homeandlearn.co.uk/java/&hellip;</a>"}, {"owner": {"reputation": 165, "user_id": 3487203, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/100000951673746/picture?type=large", "display_name": "Ardel", "link": "https://stackoverflow.com/users/3487203/ardel"}, "reply_to_user": {"reputation": 15375, "user_id": 193453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc77f0d4e25a0f95d90a768aeb0a8517?s=128&d=identicon&r=PG", "display_name": "Bryan Pendleton", "link": "https://stackoverflow.com/users/193453/bryan-pendleton"}, "edited": false, "score": 0, "creation_date": 1470318015, "post_id": 38754043, "comment_id": 64909118, "body": "@BryanPendleton I could not find the logs. Do you know the default location those logs would be at? Would they be on the local machine java is installed on or to they get placed on the database?"}], "answers": [{"tags": [], "owner": {"reputation": 165, "user_id": 3487203, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/100000951673746/picture?type=large", "display_name": "Ardel", "link": "https://stackoverflow.com/users/3487203/ardel"}, "is_accepted": true, "score": 1, "last_activity_date": 1470343247, "creation_date": 1470343247, "answer_id": 38777051, "question_id": 38754043, "link": "https://stackoverflow.com/questions/38754043/java-sql-expected-6-bytes-and-received-0-error/38777051#38777051", "title": "Java SQL expected 6 bytes and received 0 error", "body": "<p>It looks like I found out what is going on. It is due to my own confusion. I am trying to connect to a Microsoft SQL database. Thus I need the sqljdbc driver not derby. This has resolve my issue. Thanks for the help guys. </p>\n"}], "owner": {"reputation": 165, "user_id": 3487203, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/100000951673746/picture?type=large", "display_name": "Ardel", "link": "https://stackoverflow.com/users/3487203/ardel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 944, "favorite_count": 0, "accepted_answer_id": 38777051, "answer_count": 1, "score": 1, "last_activity_date": 1470343247, "creation_date": 1470260214, "last_edit_date": 1470261767, "question_id": 38754043, "link": "https://stackoverflow.com/questions/38754043/java-sql-expected-6-bytes-and-received-0-error", "title": "Java SQL expected 6 bytes and received 0 error", "body": "<p>I am getting this error: \"Insufficient data while reading from the network - expected a minimum of 6 bytes and received only 0 bytes.  The connection has been terminated.\" When I try to connect to my data base. I can not seem to find any solution that works. Could you guys give me a hand? </p>\n\n<pre><code>    import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class RetrieveData \n{\n    private String zone;\n    private String date;\n    private String userName = \"User\";\n    private String password = \"Password\";\n    private String serverAdress= \"jdbc:derby://Server:1010/Database\";\n    private Connection con = null;  \n    private Statement stmt = null;  \n    private ResultSet rs = null; \n    RetrieveData(String zoneToPull, String dayToPull)\n    {\n        zone = zoneToPull;\n        date = dayToPull;\n    }\n\n    public int HistoryActual()\n    {\n        try \n        {\n            Class.forName(\"org.apache.derby.jdbc.ClientDriver\");\n            con = DriverManager.getConnection(serverAdress, userName, password);\n            String sql = \"SELECT TOP 10 \" +\n                                \"*\" +\n                            \"FROM\" +\n                                \"walks\" +\n                            \"WHERE\"+\n                                \"company_id = 'TMS3'\";\n            stmt = con.createStatement();\n            rs = stmt.executeQuery(sql);\n            while (rs.next()) \n            {  \n                System.out.println(rs.getString(4) + \" \" + rs.getString(6));  \n            }\n        } \n        catch (SQLException e)\n        {\n            System.out.println(e.getMessage());\n        }\n        finally \n        {  \n            if (rs != null) try { rs.close(); } catch(Exception e) {}  \n            if (stmt != null) try { stmt.close(); } catch(Exception e) {}  \n            if (con != null) try { con.close(); } catch(Exception e) {}  \n        } \n        return 0;\n    }\n}\n</code></pre>\n\n<p>Here is the stack trace: </p>\n\n<blockquote>\n  <p>java.sql.SQLNonTransientConnectionException: Insufficient data while reading from the network - expected a minimum of 6 bytes and received only 0 bytes.  The connection has been terminated.\n      at org.apache.derby.client.am.SQLExceptionFactory.getSQLException(Unknown Source)\n      at org.apache.derby.client.am.SqlException.getSQLException(Unknown Source)\n      at org.apache.derby.jdbc.ClientDriver.connect(Unknown Source)\n      at java.sql.DriverManager.getConnection(Unknown Source)\n      at java.sql.DriverManager.getConnection(Unknown Source)\n      at RetrieveData.HistoryActual(RetrieveData.java:27)\n      at BookToGoals.(BookToGoals.java:34)\n      at Console.Console(Console.java:96)\n      at Console.access$0(Console.java:47)\n      at Console$1.run(Console.java:43)\n      at java.awt.event.InvocationEvent.dispatch(Unknown Source)\n      at java.awt.EventQueue.dispatchEventImpl(Unknown Source)\n      at java.awt.EventQueue.access$500(Unknown Source)\n      at java.awt.EventQueue$3.run(Unknown Source)\n      at java.awt.EventQueue$3.run(Unknown Source)\n      at java.security.AccessController.doPrivileged(Native Method)\n      at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\n      at java.awt.EventQueue.dispatchEvent(Unknown Source)\n      at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\n      at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\n      at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\n      at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n      at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n      at java.awt.EventDispatchThread.run(Unknown Source)\n  Caused by: ERROR 08006: Insufficient data while reading from the network - expected a minimum of 6 bytes and received only 0 bytes.  The connection has been terminated.\n      at org.apache.derby.client.net.Reply.fill(Unknown Source)\n      at org.apache.derby.client.net.Reply.ensureALayerDataInBuffer(Unknown Source)\n      at org.apache.derby.client.net.Reply.readDssHeader(Unknown Source)\n      at org.apache.derby.client.net.Reply.startSameIdChainParse(Unknown Source)\n      at org.apache.derby.client.net.NetConnectionReply.readExchangeServerAttributes(Unknown Source)\n      at org.apache.derby.client.net.NetConnection.readServerAttributesAndKeyExchange(Unknown Source)\n      at org.apache.derby.client.net.NetConnection.flowServerAttributesAndKeyExchange(Unknown Source)\n      at org.apache.derby.client.net.NetConnection.flowUSRIDPWDconnect(Unknown Source)\n      at org.apache.derby.client.net.NetConnection.flowConnect(Unknown Source)\n      at org.apache.derby.client.net.NetConnection.(Unknown Source)\n      at org.apache.derby.client.net.ClientJDBCObjectFactoryImpl.newNetConnection(Unknown Source)\n      ... 22 more</p>\n</blockquote>\n"}, {"tags": ["java", "spring", "encoding", "utf-8"], "comments": [{"owner": {"reputation": 395, "user_id": 1651364, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5b091d305160c7940534e38dc95f5e68?s=128&d=identicon&r=PG", "display_name": "Mihai Tudor", "link": "https://stackoverflow.com/users/1651364/mihai-tudor"}, "edited": false, "score": 0, "creation_date": 1477633135, "post_id": 38754040, "comment_id": 67855194, "body": "Take a look at this <a href=\"http://stackoverflow.com/questions/39675773/spring-boot-1-2-5-release-resttemplate-multipart-file-upload-utf-8-filename-no/40298693#40298693\" title=\"spring boot 1 2 5 release resttemplate multipart file upload utf 8 filename no\">stackoverflow.com/questions/39675773/&hellip;</a>"}], "owner": {"reputation": 21, "user_id": 3720646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3801f0812c9794b8a389774786774ee8?s=128&d=identicon&r=PG", "display_name": "Lucas Martins", "link": "https://stackoverflow.com/users/3720646/lucas-martins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1165, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1470260195, "creation_date": 1470260195, "question_id": 38754040, "link": "https://stackoverflow.com/questions/38754040/filename-wrong-encoding-when-has-accent-character-at-upload-file-with-resttempla", "title": "Filename wrong encoding when has accent character at upload file with RestTemplate", "body": "<p>I'm trying to upload a file and basically i have a issue with filename encoding, when a send a multipart/form-data with RestTemplate and filename contains character accent like \"<strong>t\u00e9st\u00e9.pdf\"</strong>, server responds \"<strong>t?st?.pdf\"</strong>, but when i send with postman/browser it works!</p>\n\n<p>I tried a lot of things, like set MessageConverters with utf-8, convert string to byte and create a new one with utf-8 and set at File, create a new file with name already converted in utf-8 and etc.. I have no more ideas to resolve this problem, i'm using latest version of spring-webmvc, 4.3.2, and still does'nt work.</p>\n\n<pre><code>    String url = \"https://someurl.com/api\";\n    RestTemplate t = new RestTemplate();\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n\n    LinkedMultiValueMap&lt;String, Object&gt; map = new LinkedMultiValueMap&lt;&gt;();\n    File file = new File(\"/Users/myuser/Desktop/t\u00e9st\u00e9.pdf\");\n\n    map.add(\"file\", new FileSystemResource(file));\n    map.add(\"convert\", \"false\");\n    map.add(\"thumb\", 0);\n\n    String postForObject = t.postForObject(url, new HttpEntity&lt;LinkedMultiValueMap&gt;(map, headers), String.class);\n</code></pre>\n"}, {"tags": ["java", "android", "nullpointerexception", "inputstream", "assets"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1470260145, "post_id": 38754018, "comment_id": 64881916, "body": "Please edit your question and post the Java stack trace associated with your exception."}, {"owner": {"reputation": 314, "user_id": 6529877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g1H2t.png?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/6529877/julian"}, "edited": false, "score": 0, "creation_date": 1470260378, "post_id": 38754018, "comment_id": 64882019, "body": "Add stacktrace on question please."}, {"owner": {"reputation": 1313, "user_id": 6122491, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6227cbb5bca5f4fce6d78660d0b1d3c7?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/6122491/jared"}, "reply_to_user": {"reputation": 314, "user_id": 6529877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g1H2t.png?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/6529877/julian"}, "edited": false, "score": 0, "creation_date": 1470260470, "post_id": 38754018, "comment_id": 64882056, "body": "@Julian I added the stack trace."}, {"owner": {"reputation": 314, "user_id": 6529877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g1H2t.png?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/6529877/julian"}, "edited": false, "score": 0, "creation_date": 1470260822, "post_id": 38754018, "comment_id": 64882209, "body": "@Jared Is <code>en-sent.bin</code> on the root directory of your application? Or is it inside a folder?"}, {"owner": {"reputation": 1313, "user_id": 6122491, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6227cbb5bca5f4fce6d78660d0b1d3c7?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/6122491/jared"}, "reply_to_user": {"reputation": 314, "user_id": 6529877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g1H2t.png?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/6529877/julian"}, "edited": false, "score": 0, "creation_date": 1470261007, "post_id": 38754018, "comment_id": 64882287, "body": "@Julian It&#39;s in a folder called assets along with the .gradle, .idea, .app etc folders"}, {"owner": {"reputation": 314, "user_id": 6529877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g1H2t.png?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/6529877/julian"}, "edited": false, "score": 0, "creation_date": 1470261735, "post_id": 38754018, "comment_id": 64882596, "body": "@Jared I believe that the answer by Jason will solve your problem."}], "answers": [{"comments": [{"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 0, "creation_date": 1470270135, "post_id": 38754182, "comment_id": 64884951, "body": "Please explain why they need to do this and how it relates to the exception they are seeing with their current code."}, {"owner": {"reputation": 1313, "user_id": 6122491, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6227cbb5bca5f4fce6d78660d0b1d3c7?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/6122491/jared"}, "edited": false, "score": 0, "creation_date": 1470276470, "post_id": 38754182, "comment_id": 64887272, "body": "@Jason What is &quot;sbuilder&quot; and &quot;buffer&quot;? I don&#39;t understand how to implement this into my code."}, {"owner": {"reputation": 221, "user_id": 2625912, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/e859285de0a7287f6ff48bf3a8f84cac?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/2625912/jason"}, "edited": false, "score": 0, "creation_date": 1470298746, "post_id": 38754182, "comment_id": 64895836, "body": "I&#39;ve edited the code, if you whant to open an assets file to InputStream like your example,    InputStream modelIn = null; AssetManager assManager = context.getAssets();          modelIn = assManager.open(&quot;en-sent.bin&quot;);  you need to read it with the InputStreamReader In sbuilder you have all data from the file to string so you can read it;"}, {"owner": {"reputation": 1313, "user_id": 6122491, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6227cbb5bca5f4fce6d78660d0b1d3c7?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/6122491/jared"}, "edited": false, "score": 0, "creation_date": 1470330306, "post_id": 38754182, "comment_id": 64918317, "body": "@Jason my code still does not work. I don&#39;t know how to incorporate my modelIn and model variables with this code. I think i need a FileInputStream but this code gives me a StringBuilder. It also can&#39;t file the jar file it seems like."}], "tags": [], "owner": {"reputation": 221, "user_id": 2625912, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/e859285de0a7287f6ff48bf3a8f84cac?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/2625912/jason"}, "is_accepted": false, "score": -1, "last_activity_date": 1470298564, "last_edit_date": 1470298564, "creation_date": 1470260888, "answer_id": 38754182, "question_id": 38754018, "link": "https://stackoverflow.com/questions/38754018/inputstream-always-returns-nullpointerexception/38754182#38754182", "title": "InputStream Always returns nullpointerexception", "body": "<p>You need to:</p>\n\n<pre><code>    BufferedReader reader = null;\nStringBuilder sbuilder = new StringBuilder();\n    try {\n        reader = new BufferedReader(\n            new InputStreamReader(getAssets().open(\"en-sent.bin\")));\n\n        // read\n        String mLine; \n        while ((mLine = buffer.readLine()) != null) {\n                    sbuilder.append(mLine);\n        }\n    } catch (IOException e) {\n//log\n    } finally {\n        if (reader != null) {\n             try {\n                 reader.close();\n             } catch (IOException e) {\n //log\n             }\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1313, "user_id": 6122491, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6227cbb5bca5f4fce6d78660d0b1d3c7?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/6122491/jared"}, "is_accepted": false, "score": 0, "last_activity_date": 1470367373, "creation_date": 1470367373, "answer_id": 38780574, "question_id": 38754018, "link": "https://stackoverflow.com/questions/38754018/inputstream-always-returns-nullpointerexception/38780574#38780574", "title": "InputStream Always returns nullpointerexception", "body": "<p>I found an easy solution! I put the bin file in the \"raw\" directory and...</p>\n\n<p>Instead of:</p>\n\n<pre><code>        modelIn = assManager.open(\"en-sent.bin\");\n        model = new SentenceModel(modelIn);\n</code></pre>\n\n<p>Use:</p>\n\n<pre><code>        modelIn = context.getResources().openRawResource(R.raw.en_sent);\n        model = new SentenceModel(modelIn);\n</code></pre>\n\n<p>Works perfectly!</p>\n"}], "owner": {"reputation": 1313, "user_id": 6122491, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6227cbb5bca5f4fce6d78660d0b1d3c7?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/6122491/jared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 318, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1470367373, "creation_date": 1470260062, "last_edit_date": 1470260408, "question_id": 38754018, "link": "https://stackoverflow.com/questions/38754018/inputstream-always-returns-nullpointerexception", "title": "InputStream Always returns nullpointerexception", "body": "<pre><code>    SentenceModel model = null;\n    InputStream modelIn = null;\n\n    AssetManager assManager = context.getAssets();\n\n    try {\n        modelIn = assManager.open(\"en-sent.bin\");\n        model = new SentenceModel(modelIn);\n    } catch (IOException e) {\n        e.printStackTrace();\n    } finally {\n        if (modelIn != null) {\n            try {\n                modelIn.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    //initializes sentence detector\n    SentenceDetectorME sentenceDetector = new SentenceDetectorME(model);\n\n//Stacktrace \n08-03 14:25:23.842 27210-27210/com.gigstudios.newssummary W/System.err: java.io.FileNotFoundException: en-sent.bin\n08-03 14:25:23.842 27210-27210/com.gigstudios.newssummary W/System.err:     at android.content.res.AssetManager.openAsset(Native Method)\n08-03 14:25:23.842 27210-27210/com.gigstudios.newssummary W/System.err:     at android.content.res.AssetManager.open(AssetManager.java:313)\n08-03 14:25:23.842 27210-27210/com.gigstudios.newssummary W/System.err:     at android.content.res.AssetManager.open(AssetManager.java:287)\n08-03 14:25:23.842 27210-27210/com.gigstudios.newssummary W/System.err:     at com.gigstudios.newssummary.WordCounter.makeSentences(WordCounter.java:35)\n08-03 14:25:23.842 27210-27210/com.gigstudios.newssummary W/System.err:     at com.gigstudios.newssummary.Article.&lt;init&gt;(Article.java:19)\n08-03 14:25:23.842 27210-27210/com.gigstudios.newssummary W/System.err:     at com.gigstudios.newssummary.ArticleReceiver.receiveNewsArticles(ArticleReceiver.java:87)\n08-03 14:25:23.842 27210-27210/com.gigstudios.newssummary W/System.err:     at com.gigstudios.newssummary.ArticleReceiver.&lt;init&gt;(ArticleReceiver.java:37)\n08-03 14:25:23.842 27210-27210/com.gigstudios.newssummary W/System.err:     at com.gigstudios.newssummary.MainActivity.fetchNews(MainActivity.java:114)\n08-03 14:25:23.842 27210-27210/com.gigstudios.newssummary W/System.err:     at com.gigstudios.newssummary.MainActivity$1.run(MainActivity.java:52)\n08-03 14:25:23.843 27210-27210/com.gigstudios.newssummary W/System.err:     at android.os.Handler.handleCallback(Handler.java:746)\n08-03 14:25:23.843 27210-27210/com.gigstudios.newssummary W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:95)\n08-03 14:25:23.843 27210-27210/com.gigstudios.newssummary W/System.err:     at android.os.Looper.loop(Looper.java:148)\n08-03 14:25:23.843 27210-27210/com.gigstudios.newssummary W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:5443)\n08-03 14:25:23.843 27210-27210/com.gigstudios.newssummary W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\n08-03 14:25:23.843 27210-27210/com.gigstudios.newssummary W/System.err:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:728)\n08-03 14:25:23.843 27210-27210/com.gigstudios.newssummary W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\n08-03 14:25:23.843 27210-27210/com.gigstudios.newssummary D/AndroidRuntime: Shutting down VM\n08-03 14:25:23.844 27210-27210/com.gigstudios.newssummary E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                            Process: com.gigstudios.newssummary, PID: 27210\n                                                                            java.lang.NullPointerException: Attempt to invoke virtual method 'opennlp.tools.sentdetect.SentenceDetectorFactory opennlp.tools.sentdetect.SentenceModel.getFactory()' on a null object reference\n                                                                                at opennlp.tools.sentdetect.SentenceDetectorME.&lt;init&gt;(SentenceDetectorME.java:86)\n                                                                                at com.gigstudios.newssummary.WordCounter.makeSentences(WordCounter.java:50)\n                                                                                at com.gigstudios.newssummary.Article.&lt;init&gt;(Article.java:19)\n                                                                                at com.gigstudios.newssummary.ArticleReceiver.receiveNewsArticles(ArticleReceiver.java:87)\n                                                                                at com.gigstudios.newssummary.ArticleReceiver.&lt;init&gt;(ArticleReceiver.java:37)\n                                                                                at com.gigstudios.newssummary.MainActivity.fetchNews(MainActivity.java:114)\n                                                                                at com.gigstudios.newssummary.MainActivity$1.run(MainActivity.java:52)\n                                                                                at android.os.Handler.handleCallback(Handler.java:746)\n                                                                                at android.os.Handler.dispatchMessage(Handler.java:95)\n                                                                                at android.os.Looper.loop(Looper.java:148)\n                                                                                at android.app.ActivityThread.main(ActivityThread.java:5443)\n                                                                                at java.lang.reflect.Method.invoke(Native Method)\n                                                                                at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:728)\n                                                                                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\n</code></pre>\n\n<p>I have been trying to fix this issue for hours and have gotten nowhere. In the above code sample model is always null and the en-sent.bin file doesn't seem to be read into the modelIn object. My bin file is in an assets folder currently. Any help is greatly appreciated.</p>\n"}, {"tags": ["java", "gson"], "comments": [{"owner": {"reputation": 4006, "user_id": 1255737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fd7f0e50ff644a87144feff4fbe2101?s=128&d=identicon&r=PG", "display_name": "rmlan", "link": "https://stackoverflow.com/users/1255737/rmlan"}, "edited": false, "score": 0, "creation_date": 1470260192, "post_id": 38754003, "comment_id": 64881935, "body": "First off, your POJO is not valid Java. Secondly, you haven&#39;t shown that you have tried anything, so why should we help you?"}, {"owner": {"reputation": 2682, "user_id": 2306306, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ccee0280f4f1db54998459cf6f5bb5b3?s=128&d=identicon&r=PG", "display_name": "Bhaskar Mishra", "link": "https://stackoverflow.com/users/2306306/bhaskar-mishra"}, "reply_to_user": {"reputation": 4006, "user_id": 1255737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fd7f0e50ff644a87144feff4fbe2101?s=128&d=identicon&r=PG", "display_name": "rmlan", "link": "https://stackoverflow.com/users/1255737/rmlan"}, "edited": false, "score": 0, "creation_date": 1470260522, "post_id": 38754003, "comment_id": 64882070, "body": "@rmlan : Just came out of scala so missed it on writing the class here. I tried getting the data but either i can get starRating or averagePricePerNight, I have been unable to get both."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1470260634, "post_id": 38754003, "comment_id": 64882122, "body": "That still is not Java code. And it would be easier to provide an answer if your JSON was valid."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1470260693, "post_id": 38754003, "comment_id": 64882147, "body": "Perhaps you should try this site: <a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">jsonschema2pojo.org</a>"}], "answers": [{"tags": [], "owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "is_accepted": false, "score": 1, "last_activity_date": 1470262156, "creation_date": 1470262156, "answer_id": 38754468, "question_id": 38754003, "link": "https://stackoverflow.com/questions/38754003/json-into-list-with-gson/38754468#38754468", "title": "json into list with Gson", "body": "<p>You can write a custom deserializer:</p>\n\n<pre><code>class Deserializers {\n     public static ResponseModel responseModelDeserializer(JsonElement json, Type typeOfT,\n        JsonDeserializationContext context) {\n\n        JsonObject obj1 = json.getAsJsonObject();\n        JsonObject obj2 = obj1.get(\"charges\").getAsJsonObject();\n\n        double starRating = obj1.get(\"starRating\").getAsDouble();\n        int averagePricePerNight = obj2.get(\"averagePricePerNight\").getAsInt();\n\n        return new ResponseModel(starRating, averagePricePerNight);\n    }\n}\n</code></pre>\n\n<p>Register it when building <code>Gson</code>:</p>\n\n<pre><code>Gson gson = new GsonBuilder()\n    .registerTypeAdapter(ResponseModel.class,\n        (JsonDeserializer&lt;ResponseModel&gt;) Deserializers::responseModelDeserializer\n        // ^^^ Cast is needed because the parameter has type Object\n    )\n    .create();\n</code></pre>\n\n<p>(Other options include, besides a method reference, are; lambda, anonymous class, or just a regular class. But this one is my favourite.)</p>\n\n<p>Parse your json:</p>\n\n<pre><code>// Get root json object\nJsonObject root = new JsonParser().parse(input).getAsJsonObject();\n\nType tt = new TypeToken&lt;List&lt;ResponseModel&gt;&gt;() {}.getType();\n// Get array\nList&lt;ResponseModel&gt; mo = gson.fromJson(root.get(\"solution\"), tt);\n\nSystem.out.println(mo); // [3.5 : 153, 3.5 : 153]\n</code></pre>\n\n<p>Where ResponseModel is:</p>\n\n<pre><code>class ResponseModel {\n    private final double starRating;\n    private final int averagePricePerNight;\n\n    public ResponseModel(double starRating, int averagePricePerNight) {\n        this.starRating = starRating;\n        this.averagePricePerNight = averagePricePerNight;\n    }\n\n    @Override\n    public String toString() {\n        return String.format(\"%s : %s\", starRating, averagePricePerNight);\n    }\n}\n</code></pre>\n\n<p>I made <code>starRating</code> a <code>double</code> since it seems to be one in your example.</p>\n"}], "owner": {"reputation": 2682, "user_id": 2306306, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ccee0280f4f1db54998459cf6f5bb5b3?s=128&d=identicon&r=PG", "display_name": "Bhaskar Mishra", "link": "https://stackoverflow.com/users/2306306/bhaskar-mishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1470262156, "creation_date": 1470259979, "last_edit_date": 1470260641, "question_id": 38754003, "link": "https://stackoverflow.com/questions/38754003/json-into-list-with-gson", "title": "json into list with Gson", "body": "<p>I have a Json like below: </p>\n\n<pre><code>{\n \"searchResults\": {\n\"searchCriteria\": {\n  \"location\": {\n    \"originalLocation\": null\n  },\n  \"startAndEndDate\": {\n    \"start\": \"2016-10-06T00:00:00\",\n    \"end\": \"2016-10-09T00:00:00\"\n  },\n\n\"solution\": [\n  {\n    \"resultID\": \"O1MDc1MD\",\n    \"selected\": false,\n    \"charges\": {\n      \"localCurrencyCode\": \"USD\",\n      \"averagePricePerNight\": 153\n    },\n    \"starRating\": 3.5\n  },\n  {\n    \"resultID\": \"0MDc1MD\",\n    \"selected\": false,\n    \"charges\": {\n      \"localCurrencyCode\": \"USD\",\n      \"averagePricePerNight\": 153\n    },\n    \"starRating\": 3.5\n  }\n  ....\n</code></pre>\n\n<p>I have class with attributes starRating and averagePricePerNight which essentially formulates into my POJO. </p>\n\n<pre><code>class ResponseModel {\n Int starRating;  Int averagePricePerNight\n}\n</code></pre>\n\n<p>I want to parse this JSON and return a List containing :</p>\n\n<pre><code>List(ResponseModel(3.5,900), ResponseModel(3.5,100), ResponseModel(4.5,1000))\n</code></pre>\n\n<p>I tried to get the json as a List but then i am unable to find examples to get two elements from JSon.</p>\n"}, {"tags": ["java", "unit-testing", "testing", "annotations", "preprocessor"], "comments": [{"owner": {"reputation": 6004, "user_id": 6471538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Robert Columbia", "link": "https://stackoverflow.com/users/6471538/robert-columbia"}, "edited": false, "score": 0, "creation_date": 1470259984, "post_id": 38753986, "comment_id": 64881830, "body": "Please share your code and the test scenarios you have written so far. What is wrong with them?"}, {"owner": {"reputation": 44881, "user_id": 995926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UPzx8.png?s=128&g=1", "display_name": "rekire", "link": "https://stackoverflow.com/users/995926/rekire"}, "reply_to_user": {"reputation": 6004, "user_id": 6471538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Robert Columbia", "link": "https://stackoverflow.com/users/6471538/robert-columbia"}, "edited": false, "score": 0, "creation_date": 1470260136, "post_id": 38753986, "comment_id": 64881907, "body": "Just wondering do you know what I am talking about? It is a high complex topic and if you are familar with it the abstract level of my question should be fine. However I can add an example if this makes it more clear for you."}, {"owner": {"reputation": 44881, "user_id": 995926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UPzx8.png?s=128&g=1", "display_name": "rekire", "link": "https://stackoverflow.com/users/995926/rekire"}, "reply_to_user": {"reputation": 6004, "user_id": 6471538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Robert Columbia", "link": "https://stackoverflow.com/users/6471538/robert-columbia"}, "edited": false, "score": 0, "creation_date": 1470262604, "post_id": 38753986, "comment_id": 64882888, "body": "@RobertColumbia here is a simple example project which cannot compile as intended: <a href=\"https://github.com/rekire/AnnotationTesting\" rel=\"nofollow noreferrer\">github.com/rekire/AnnotationTesting</a> you just need to check out the project and execute <code>gradlew cJ</code>, if you use linux you have to fix the missing x permission of the script."}], "answers": [{"comments": [{"owner": {"reputation": 44881, "user_id": 995926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UPzx8.png?s=128&g=1", "display_name": "rekire", "link": "https://stackoverflow.com/users/995926/rekire"}, "edited": false, "score": 0, "creation_date": 1470340954, "post_id": 38768820, "comment_id": 64924275, "body": "I am trying to use that jtreg library however I do not really understand how to use it. I will try to tun jtreg within gradle and for now I know that I can run <code>java -Dprogram=jtreg -jar &#47;tmp&#47;jtreg&#47;lib&#47;jtreg.jar</code>, but what args do I need to apply? How does that <code>@Compile</code> comment start a new compile process? I do not get it at all."}, {"owner": {"reputation": 44881, "user_id": 995926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UPzx8.png?s=128&g=1", "display_name": "rekire", "link": "https://stackoverflow.com/users/995926/rekire"}, "edited": false, "score": 0, "creation_date": 1470348026, "post_id": 38768820, "comment_id": 64927570, "body": "Okay I guess I got it now managed, however my reference file does not match. How do I find out the exact format of the file? Just the expected error output?"}, {"owner": {"reputation": 6266, "user_id": 173852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbe9bdaaab5367044ba1e72bc4f247e9?s=128&d=identicon&r=PG", "display_name": "mernst", "link": "https://stackoverflow.com/users/173852/mernst"}, "reply_to_user": {"reputation": 44881, "user_id": 995926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UPzx8.png?s=128&g=1", "display_name": "rekire", "link": "https://stackoverflow.com/users/995926/rekire"}, "edited": false, "score": 0, "creation_date": 1470403235, "post_id": 38768820, "comment_id": 64950760, "body": "Yes, jtreg requires the compiler output to match the goal file.  jtreg does not attempt to do clever parsing of the output.  For how to run jtreg, I suggest seeing the jtreg documentation."}, {"owner": {"reputation": 44881, "user_id": 995926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UPzx8.png?s=128&g=1", "display_name": "rekire", "link": "https://stackoverflow.com/users/995926/rekire"}, "edited": false, "score": 0, "creation_date": 1470485155, "post_id": 38768820, "comment_id": 64976942, "body": "Oh man I debugged now <code>CompileAction.compareGoldenFile(...)</code> I missed that I had a debug message in the output stream. So it does not just look at the error stream. Good to know!"}], "tags": [], "owner": {"reputation": 6266, "user_id": 173852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbe9bdaaab5367044ba1e72bc4f247e9?s=128&d=identicon&r=PG", "display_name": "mernst", "link": "https://stackoverflow.com/users/173852/mernst"}, "is_accepted": true, "score": 1, "last_activity_date": 1470403157, "last_edit_date": 1470403157, "creation_date": 1470317552, "answer_id": 38768820, "question_id": 38753986, "link": "https://stackoverflow.com/questions/38753986/testing-abstractprocessor-javas-annotation-handling-at-compile-time/38768820#38768820", "title": "Testing AbstractProcessor (Java&#39;s annotation handling at compile time)", "body": "<p>This problem has been solved by previous teams writing compilers and annotation processors, so you could re-use their solutions.</p>\n\n<p>The javac team uses a tool called <a href=\"http://openjdk.java.net/jtreg/\" rel=\"nofollow\">jtreg</a>.\nFor example, here is a <a href=\"https://github.com/typetools/checker-framework/blob/master/checker/jtreg/multiplecheckers/NullnessInterning.java\" rel=\"nofollow\">jtreg test</a> that compiles a source file 6 times with different command-line arguments, indicating a different <a href=\"https://github.com/typetools/checker-framework/blob/master/checker/jtreg/multiplecheckers/NullnessInterning2.out\" rel=\"nofollow\">expected compiler output</a> for each one.</p>\n\n<p>The <a href=\"http://CheckerFramework.org/\" rel=\"nofollow\">Checker Framework</a> team designed a testing framework specifically for annotation processors.  Here is a <a href=\"https://github.com/typetools/checker-framework/blob/master/checker/tests/nullness/generics/MethodTypeVars.java\" rel=\"nofollow\">test case</a> using that framework, where special <code>//::</code> comments indicate the lines where the annotation processor is expected to issue <a href=\"https://github.com/typetools/checker-framework/blob/master/checker/tests/nullness/generics/MethodTypeVars.java#L21\" rel=\"nofollow\">a warning</a> or <a href=\"https://github.com/typetools/checker-framework/blob/master/checker/tests/nullness/generics/MethodTypeVars.java#L9\" rel=\"nofollow\">an error</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 85, "user_id": 7250723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f898d150abbce5bbd2f5b7395987d41b?s=128&d=identicon&r=PG&f=1", "display_name": "Wesss", "link": "https://stackoverflow.com/users/7250723/wesss"}, "is_accepted": false, "score": 3, "last_activity_date": 1480922182, "creation_date": 1480922182, "answer_id": 40968989, "question_id": 38753986, "link": "https://stackoverflow.com/questions/38753986/testing-abstractprocessor-javas-annotation-handling-at-compile-time/40968989#40968989", "title": "Testing AbstractProcessor (Java&#39;s annotation handling at compile time)", "body": "<p>Google has a very good API for testing compilation. (<a href=\"https://github.com/google/compile-testing\" rel=\"nofollow noreferrer\">https://github.com/google/compile-testing</a>). Here's a example to test if a .java file compiles with a processor using junit.</p>\n\n<pre><code>package org.coffeebag.processor;\n\nimport com.google.testing.compile.JavaFileObjects;\nimport com.google.testing.compile.JavaSourceSubjectFactory;\nimport org.junit.Test;\n\nimport java.io.File;\nimport java.net.MalformedURLException;\n\nimport static org.truth0.Truth.ASSERT;\n\npublic class ExampleTest {\n\n    @Test\n    public void EmptyClassCompiles() throws MalformedURLException {\n        final MyProcessor processor = MyProcessor.testMode();\n        File source = new File(\"path/to/test/file.java\");\n        ASSERT.about(JavaSourceSubjectFactory.javaSource())\n                .that(JavaFileObjects.forResource(source.toURI().toURL()))\n                .processedWith(processor)\n                .compilesWithoutError();\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "is_accepted": false, "score": 0, "last_activity_date": 1544778751, "creation_date": 1544778751, "answer_id": 53776569, "question_id": 38753986, "link": "https://stackoverflow.com/questions/38753986/testing-abstractprocessor-javas-annotation-handling-at-compile-time/53776569#53776569", "title": "Testing AbstractProcessor (Java&#39;s annotation handling at compile time)", "body": "<p>We've written a simplified API that helps access the <code>javax.tools.JavaCompiler</code> API for in-memory Java compilation, which allows for writing simple JUnit based test. In your example, you could write:</p>\n\n<pre><code>@Test\npublic void testFailAnnotationProcessing() {\n    ExamplePreprocessor p = new ExamplePreprocessor();\n    try {\n        Reflect.compile(\n            \"com.example.test.FailAnnotationProcessing\",\n            \"package com.example.test; \" +\n            \"public class FailAnnotationProcessing { \" +\n            \"    @com.example.Decorator \" +\n            \"    public int breakBuild() { \" +\n            \"        return -1; \" +\n            \"    } \" +\n            \"}\",\n            new CompileOptions().processors(p)\n        ).create().get();\n        Assert.fail();\n    }\n    catch (ReflectException expected) {}\n}\n\n@Test\npublic void testSucceedAnnotationProcessing() {\n    ExamplePreprocessor p = new ExamplePreprocessor();\n    Reflect.compile(\n        \"com.example.test.SucceedAnnotationProcessing\",\n        \"package com.example.test; \" +\n        \"public class SucceedAnnotationProcessing { \" +\n        \"    @com.example.Decorator \" +\n        \"    public String willCompile(StringBuilder sb) { \" +\n        \"        return null; \" +\n        \"    } \" +\n        \"}\",\n        new CompileOptions().processors(p)\n    ).create().get();\n}\n</code></pre>\n\n<p><a href=\"https://blog.jooq.org/2018/12/07/how-to-unit-test-your-annotation-processor-using-joor/\" rel=\"nofollow noreferrer\">More examples can be seen here</a>.</p>\n"}], "owner": {"reputation": 44881, "user_id": 995926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UPzx8.png?s=128&g=1", "display_name": "rekire", "link": "https://stackoverflow.com/users/995926/rekire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1309, "favorite_count": 0, "accepted_answer_id": 38768820, "answer_count": 3, "score": 2, "last_activity_date": 1544778751, "creation_date": 1470259902, "last_edit_date": 1470263754, "question_id": 38753986, "link": "https://stackoverflow.com/questions/38753986/testing-abstractprocessor-javas-annotation-handling-at-compile-time", "title": "Testing AbstractProcessor (Java&#39;s annotation handling at compile time)", "body": "<p>I am writing a library which relies on the <code>AbstractProcessor</code> class, since I want to write a great library I want to have a good coverage too. Since the <em>preprocessor</em> works at the compile time I am not sure how to test that code.</p>\n\n<p>I have some test scenarios in mind where the build should fail. However how can I test that? Do I have to execute gradle and check the exit code? Is there a clean way to verify that the build fails caused by an expected cause or do I need to write also some kind of parser? That would be IMHO a huge overhead just for a good coverage.</p>\n\n<p>For those of you which need a example:</p>\n\n<pre><code>@SupportedAnnotationTypes(\"eu.rekisoft.java.preprocessor.Decorator\")\n@SupportedSourceVersion(SourceVersion.RELEASE_7)\npublic class ExamplePreprocessor extends AbstractProcessor {\n\n    public ExamplePreprocessor() {\n        super();\n    }\n\n    @Override\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n        for(Element elem : roundEnv.getElementsAnnotatedWith(Decorator.class)) {\n            Method method = Method.from((ExecutableElement)elem);\n            if(!method.matchesTypes(String.class, StringBuilder.class)) {\n                processingEnv.getMessager().printMessage(Diagnostic.Kind.ERROR, \"No! \" + elem + \" has the wrong args!\");\n            } else {\n                processingEnv.getMessager().printMessage(Diagnostic.Kind.NOTE, \"Yey \" + elem + \" this is fine!\");\n            }\n        }\n        return true; // no further processing of this annotation type\n    }\n}\n</code></pre>\n\n<p>And here is a class which cannot been compiled:</p>\n\n<pre><code>public class AnnotationedExample {\n    @Decorator\n    public int breakBuild() {\n        return -1;\n    }\n\n    @Decorator\n    public String willCompile(StringBuilder sb) {\n        return null;\n    }\n}\n</code></pre>\n\n<p>And finally the boring annotation:</p>\n\n<pre><code>@Retention(RetentionPolicy.SOURCE)\n@Target(ElementType.METHOD)\npublic @interface Decorator {\n}\n</code></pre>\n\n<p>You can also checkout the project at <a href=\"https://github.com/rekire/AnnotationTesting\" rel=\"nofollow\">GitHub</a> you just need to check out the project and execute <code>gradlew cJ</code>. You may have to fix the missing x permission on the script on linux and mac.</p>\n"}, {"tags": ["java", "azure", "android-studio", "azure-mobile-services", "azure-sql-database"], "answers": [{"tags": [], "owner": {"reputation": 1631, "user_id": 327581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e5e213cf1a479ab10de55e0d5aecb26?s=128&d=identicon&r=PG", "display_name": "Dale Anderson", "link": "https://stackoverflow.com/users/327581/dale-anderson"}, "is_accepted": true, "score": 0, "last_activity_date": 1470260769, "creation_date": 1470260769, "answer_id": 38754159, "question_id": 38753919, "link": "https://stackoverflow.com/questions/38753919/how-to-retrieve-more-than-50-items-using-azure-mobile/38754159#38754159", "title": "How to retrieve more than 50 items using Azure Mobile", "body": "<p>This question was answered on the MSDN forums today - <a href=\"https://social.msdn.microsoft.com/Forums/en-US/5efee2d6-417c-4d48-99d5-b8836d733a3e/override-50-row-limit-for-android-app?forum=azuremobile\" rel=\"nofollow\">https://social.msdn.microsoft.com/Forums/en-US/5efee2d6-417c-4d48-99d5-b8836d733a3e/override-50-row-limit-for-android-app?forum=azuremobile</a></p>\n"}, {"tags": [], "owner": {"reputation": 20467, "user_id": 4989676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jP8H6.jpg?s=128&g=1", "display_name": "Peter Pan", "link": "https://stackoverflow.com/users/4989676/peter-pan"}, "is_accepted": false, "score": 0, "last_activity_date": 1470296759, "creation_date": 1470296759, "answer_id": 38761383, "question_id": 38753919, "link": "https://stackoverflow.com/questions/38753919/how-to-retrieve-more-than-50-items-using-azure-mobile/38761383#38761383", "title": "How to retrieve more than 50 items using Azure Mobile", "body": "<p>@JamieWang, You can use the function <a href=\"http://azure.github.io/azure-mobile-apps-android-client/com/microsoft/windowsazure/mobileservices/table/MobileServiceTable.html#top-int-\" rel=\"nofollow\"><code>MobileServiceTable.top(int top)</code></a> to Sets the number of records to return. </p>\n\n<p>If without the <code>top</code> function, according to the description of REST API <a href=\"https://msdn.microsoft.com/en-us/library/azure/jj677199.aspx\" rel=\"nofollow\">here</a>,</p>\n\n<blockquote>\n  <p>By default, Mobile Services returns only 50 records in a query.</p>\n</blockquote>\n\n<p>As reference, there is an offical tutorial which you can refer to the subsection \"How to: Return data in pages\" of the section <a href=\"https://azure.microsoft.com/en-us/documentation/articles/mobile-services-android-how-to-use-client-library/#querying\" rel=\"nofollow\"><code>How to: Query data from a mobile service</code></a> to know how to use.</p>\n\n<p>So your code should be modified as below.</p>\n\n<pre><code>private List&lt;ItemInfo&gt; retrieveItemNumList() throws ExecutionException, InterruptedException {\n    return mItemInfoTable.select(\"Item_Number\", \"Item_Description\").top(1000).execute().get();\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6674329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45071025e8bb26dc34376c0438b6e438?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie Wang", "link": "https://stackoverflow.com/users/6674329/jamie-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "accepted_answer_id": 38754159, "answer_count": 2, "score": 0, "last_activity_date": 1470296759, "creation_date": 1470259582, "question_id": 38753919, "link": "https://stackoverflow.com/questions/38753919/how-to-retrieve-more-than-50-items-using-azure-mobile", "title": "How to retrieve more than 50 items using Azure Mobile", "body": "<p>I'm using Android Studio and talk to a cloud-based Azure database. I know about the query limit of 50 and want to circumvent this. I use this query:</p>\n\n<pre><code>private List&lt;ItemInfo&gt; retrieveItemNumList() throws ExecutionException, InterruptedException {\n    return mItemInfoTable.select(\"Item_Number\", \"Item_Description\").execute().get();\n}\n</code></pre>\n\n<p>I've already found solutions such as: </p>\n\n<pre><code>[Queryable(MaxTop = 1000)]\npublic IQueryable&lt;Place&gt; GetAll() \n</code></pre>\n\n<p>However, this is a .NET solution while I am using Node.js. Also, I'm a complete noob so I don't know how to access the back ends functions of Azure. Could someone walk me through how to enable a query of 1000?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["java", "concurrency", "queue", "sanity-check"], "comments": [{"owner": {"reputation": 5929, "user_id": 676877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aeb52e51002fe05e9a142c42184e7873?s=128&d=identicon&r=PG", "display_name": "Brett Okken", "link": "https://stackoverflow.com/users/676877/brett-okken"}, "edited": false, "score": 0, "creation_date": 1470259704, "post_id": 38753916, "comment_id": 64881675, "body": "It is not clear to me what you are asking. What does the fact that <code>size</code> is not a constant time operation have to do with checking whether the <code>add</code> method returns the correct value?"}], "answers": [{"comments": [{"owner": {"reputation": 277, "user_id": 2931946, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LM1Ys.jpg?s=128&g=1", "display_name": "Ayush", "link": "https://stackoverflow.com/users/2931946/ayush"}, "edited": false, "score": 0, "creation_date": 1470262124, "post_id": 38754226, "comment_id": 64882726, "body": "Its not that bad and happens very rarely but still is something that needs to be addressed. I guess your idea of extending would work."}], "tags": [], "owner": {"reputation": 6636, "user_id": 76237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E0QaY.jpg?s=128&g=1", "display_name": "diginoise", "link": "https://stackoverflow.com/users/76237/diginoise"}, "is_accepted": true, "score": 1, "last_activity_date": 1470261047, "last_edit_date": 1495542156, "creation_date": 1470261047, "answer_id": 38754226, "question_id": 38753916, "link": "https://stackoverflow.com/questions/38753916/sanity-checks-on-dynamic-set/38754226#38754226", "title": "Sanity checks on dynamic set", "body": "<p>It is true that your <code>ConcurrentSkipListSet.add(element)</code> can return <code>true</code> or <code>false</code> depending on whether the set is being simultaneously modified by another thread using iterator, which here is <strong><a href=\"https://stackoverflow.com/questions/28915215/iterator-type-in-java-weakly-consistent\">weakly consistent</a></strong>, or by bulk methods (i.e. <code>xxxAll()</code>) which are not atomic.</p>\n\n<p>Please mind however that <code>add()</code> and <code>remove()</code> methods are thread safe, so as long as you modify your set using <strong>only</strong> these you will be fine.</p>\n\n<p>It will be down to your specific application what to do about it. If the element was not there, but got added, that's good. Is it so bad if the element was there in the first place and therefore not added?</p>\n\n<p>You can devise a class containing (or perhaps extending) <code>ConcurrentSkipListSet</code> with very controlled API preventing any of the problematic operations or making them thread safe by using locks.</p>\n"}], "owner": {"reputation": 277, "user_id": 2931946, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LM1Ys.jpg?s=128&g=1", "display_name": "Ayush", "link": "https://stackoverflow.com/users/2931946/ayush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 38754226, "answer_count": 1, "score": 0, "last_activity_date": 1582444345, "creation_date": 1470259563, "last_edit_date": 1582444345, "question_id": 38753916, "link": "https://stackoverflow.com/questions/38753916/sanity-checks-on-dynamic-set", "title": "Sanity checks on dynamic set", "body": "<p>I have a object QueueSet made from <a href=\"http://[6:46%20PM]%20James%20Kent:%20https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListSet.html%20[6:46%20PM]%20James%20Kent:%20%20%20%20%20%7C\" rel=\"nofollow noreferrer\">ConcurrentSkipListSet</a> in Java</p>\n\n<blockquote>\n  <p>Beware that, unlike in most collections, the size method is not a constant-time operation. Because of the asynchronous nature of these sets, determining the current number of elements requires a traversal of the elements, and so may report inaccurate results if this collection is modified during traversal. Additionally, the bulk operations addAll, removeAll, retainAll, containsAll, equals, and toArray are not guaranteed to be performed atomically. For example, an iterator operating concurrently with an addAll operation might view only some of the added elements.</p>\n</blockquote>\n\n<p><strong>Problem</strong>: There is flawed sanity check on this <code>if(!activeQueueSet.add(queue))</code> but as you can see from the documentation its a O(n) operation i.e. the whole set is traversed which somehow misinterprets the state of the list quite a lot of times. I'm looking for a foolproof sanity check on this.</p>\n"}, {"tags": ["java", "apache-spark", "pyspark", "apache-spark-sql"], "comments": [{"owner": {"reputation": 2651, "user_id": 1128392, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/82dc2d8b993dc54d3a183e558888d439?s=128&d=identicon&r=PG", "display_name": "erwaman", "link": "https://stackoverflow.com/users/1128392/erwaman"}, "edited": false, "score": 1, "creation_date": 1515598653, "post_id": 38753898, "comment_id": 83362016, "body": "The answers at <a href=\"https://stackoverflow.com/questions/37471346/automatically-and-elegantly-flatten-dataframe-in-spark-sql\" title=\"automatically and elegantly flatten dataframe in spark sql\">stackoverflow.com/questions/37471346/&hellip;</a> were also helpful."}, {"owner": {"reputation": 1, "user_id": 11824997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8770393e941b80601143bc1c1f81d20e?s=128&d=identicon&r=PG", "display_name": "TobiStraub", "link": "https://stackoverflow.com/users/11824997/tobistraub"}, "edited": false, "score": 1, "creation_date": 1563888334, "post_id": 38753898, "comment_id": 100844115, "body": "a nice solution is also presented here: <a href=\"https://stackoverflow.com/questions/47285871/exploded-struct-in-spark?rq=1\" title=\"exploded struct in spark\">stackoverflow.com/questions/47285871/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1577, "user_id": 1732062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2021c6f73ea7d35e4c863d2012ca2ff7?s=128&d=identicon&r=PG", "display_name": "djWann", "link": "https://stackoverflow.com/users/1732062/djwann"}, "edited": false, "score": 12, "creation_date": 1470261293, "post_id": 38754012, "comment_id": 64882410, "body": "Exception in thread &quot;main&quot; org.apache.spark.sql.AnalysisException: No such struct field *"}, {"owner": {"reputation": 1577, "user_id": 1732062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2021c6f73ea7d35e4c863d2012ca2ff7?s=128&d=identicon&r=PG", "display_name": "djWann", "link": "https://stackoverflow.com/users/1732062/djwann"}, "edited": false, "score": 0, "creation_date": 1470261626, "post_id": 38754012, "comment_id": 64882550, "body": "but using select on all the columns like df.select(df.col1, df.col2, df.col3) works, so I will accept this answer"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6022341"}, "reply_to_user": {"reputation": 1577, "user_id": 1732062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2021c6f73ea7d35e4c863d2012ca2ff7?s=128&d=identicon&r=PG", "display_name": "djWann", "link": "https://stackoverflow.com/users/1732062/djwann"}, "edited": false, "score": 0, "creation_date": 1470261707, "post_id": 38754012, "comment_id": 64882584, "body": "I was just editing but it is strange. I can use *. Maybe some version issue?"}, {"owner": {"reputation": 1577, "user_id": 1732062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2021c6f73ea7d35e4c863d2012ca2ff7?s=128&d=identicon&r=PG", "display_name": "djWann", "link": "https://stackoverflow.com/users/1732062/djwann"}, "edited": false, "score": 0, "creation_date": 1470262079, "post_id": 38754012, "comment_id": 64882710, "body": "Yeah maybe. I&#39;m using spark 1.6.1 and scala 2.10"}, {"owner": {"reputation": 483, "user_id": 4934659, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/l1DXy.gif?s=128&g=1", "display_name": "SparkleGoat", "link": "https://stackoverflow.com/users/4934659/sparklegoat"}, "edited": false, "score": 0, "creation_date": 1506525577, "post_id": 38754012, "comment_id": 79858785, "body": "How would you select key or note under the nested struct keyNote?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6022341"}, "is_accepted": true, "score": 85, "last_activity_date": 1470261663, "last_edit_date": 1470261663, "creation_date": 1470260035, "answer_id": 38754012, "question_id": 38753898, "link": "https://stackoverflow.com/questions/38753898/how-to-flatten-a-struct-in-a-spark-dataframe/38754012#38754012", "title": "How to flatten a struct in a Spark dataframe?", "body": "<p>This should work in Spark 1.6 or later:</p>\n\n<pre><code>df.select(df.col(\"data.*\"))\n</code></pre>\n\n<p>or</p>\n\n<pre><code>df.select(df.col(\"data.id\"), df.col(\"data.keyNote\"), df.col(\"data.details\"))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18271, "user_id": 447344, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/hq0lN.jpg?s=128&g=1", "display_name": "Thomas Decaux", "link": "https://stackoverflow.com/users/447344/thomas-decaux"}, "is_accepted": false, "score": 2, "last_activity_date": 1552652608, "last_edit_date": 1552652608, "creation_date": 1491940435, "answer_id": 43355059, "question_id": 38753898, "link": "https://stackoverflow.com/questions/38753898/how-to-flatten-a-struct-in-a-spark-dataframe/43355059#43355059", "title": "How to flatten a struct in a Spark dataframe?", "body": "<p>An easy way is to use SQL, you could build a SQL query string to alias nested column as flat ones.</p>\n\n<ul>\n<li>Retrieve data-frame schema (<code>df.schema()</code>) </li>\n<li>Transform schema to SQL\n(for (field : <code>schema().fields()</code>) ...</li>\n<li><p>Query:</p>\n\n<pre><code>val newDF = sqlContext.sql(\"SELECT \" + sqlGenerated + \" FROM source\")\n</code></pre></li>\n</ul>\n\n<p>Here is <a href=\"https://gist.github.com/ebuildy/3de0e2855498e5358e4eed1a4f72ea48\" rel=\"nofollow noreferrer\">an example in Java</a>.</p>\n\n<p>(I prefer SQL way, so you can easily test it on Spark-shell and it's cross-language).</p>\n"}, {"tags": [], "owner": {"reputation": 808, "user_id": 1876485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e195511dec7c232e666754bea8e2f6?s=128&d=identicon&r=PG", "display_name": "steco", "link": "https://stackoverflow.com/users/1876485/steco"}, "is_accepted": false, "score": 18, "last_activity_date": 1594837988, "last_edit_date": 1594837988, "creation_date": 1522234061, "answer_id": 49532496, "question_id": 38753898, "link": "https://stackoverflow.com/questions/38753898/how-to-flatten-a-struct-in-a-spark-dataframe/49532496#49532496", "title": "How to flatten a struct in a Spark dataframe?", "body": "<p>Here is function that is doing what you want and that can deal with multiple nested columns containing columns with same name:</p>\n<pre><code>import pyspark.sql.functions as F\n\ndef flatten_df(nested_df):\n    flat_cols = [c[0] for c in nested_df.dtypes if c[1][:6] != 'struct']\n    nested_cols = [c[0] for c in nested_df.dtypes if c[1][:6] == 'struct']\n\n    flat_df = nested_df.select(flat_cols +\n                               [F.col(nc+'.'+c).alias(nc+'_'+c)\n                                for nc in nested_cols\n                                for c in nested_df.select(nc+'.*').columns])\n    return flat_df\n</code></pre>\n<p>Before:</p>\n<pre><code>root\n |-- x: string (nullable = true)\n |-- y: string (nullable = true)\n |-- foo: struct (nullable = true)\n |    |-- a: float (nullable = true)\n |    |-- b: float (nullable = true)\n |    |-- c: integer (nullable = true)\n |-- bar: struct (nullable = true)\n |    |-- a: float (nullable = true)\n |    |-- b: float (nullable = true)\n |    |-- c: integer (nullable = true)\n</code></pre>\n<p>After:</p>\n<pre><code>root\n |-- x: string (nullable = true)\n |-- y: string (nullable = true)\n |-- foo_a: float (nullable = true)\n |-- foo_b: float (nullable = true)\n |-- foo_c: integer (nullable = true)\n |-- bar_a: float (nullable = true)\n |-- bar_b: float (nullable = true)\n |-- bar_c: integer (nullable = true)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2762, "user_id": 470517, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/gWEdm.jpg?s=128&g=1", "display_name": "Aydin K.", "link": "https://stackoverflow.com/users/470517/aydin-k"}, "is_accepted": false, "score": 5, "last_activity_date": 1524149907, "last_edit_date": 1524149907, "creation_date": 1522932908, "answer_id": 49672951, "question_id": 38753898, "link": "https://stackoverflow.com/questions/38753898/how-to-flatten-a-struct-in-a-spark-dataframe/49672951#49672951", "title": "How to flatten a struct in a Spark dataframe?", "body": "<p>I generalized the solution from stecos a bit more so the flattening can be done on more than two struct layers deep:</p>\n\n<pre><code>def flatten_df(nested_df, layers):\n    flat_cols = []\n    nested_cols = []\n    flat_df = []\n\n    flat_cols.append([c[0] for c in nested_df.dtypes if c[1][:6] != 'struct'])\n    nested_cols.append([c[0] for c in nested_df.dtypes if c[1][:6] == 'struct'])\n\n    flat_df.append(nested_df.select(flat_cols[0] +\n                               [col(nc+'.'+c).alias(nc+'_'+c)\n                                for nc in nested_cols[0]\n                                for c in nested_df.select(nc+'.*').columns])\n                  )\n    for i in range(1, layers):\n        print (flat_cols[i-1])\n        flat_cols.append([c[0] for c in flat_df[i-1].dtypes if c[1][:6] != 'struct'])\n        nested_cols.append([c[0] for c in flat_df[i-1].dtypes if c[1][:6] == 'struct'])\n\n        flat_df.append(flat_df[i-1].select(flat_cols[i] +\n                                [col(nc+'.'+c).alias(nc+'_'+c)\n                                    for nc in nested_cols[i]\n                                    for c in flat_df[i-1].select(nc+'.*').columns])\n        )\n\n    return flat_df[-1]\n</code></pre>\n\n<p>just call with:</p>\n\n<pre><code>my_flattened_df = flatten_df(my_df_having_nested_structs, 3)\n</code></pre>\n\n<p>(second parameter is the level of layers to be flattened, in my case it's 3)</p>\n"}, {"comments": [{"owner": {"reputation": 678, "user_id": 647151, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7e5c476f7ed6fcbb67eee738e304f066?s=128&d=identicon&r=PG", "display_name": "malthe", "link": "https://stackoverflow.com/users/647151/malthe"}, "edited": false, "score": 0, "creation_date": 1614852319, "post_id": 56533459, "comment_id": 117513712, "body": "This doesn&#39;t seem to recurse into nested structs inside arrays."}, {"owner": {"reputation": 272, "user_id": 3132919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/82222eb793ebdbcc013b02d9596de30b?s=128&d=identicon&r=PG&f=1", "display_name": "federicojasson", "link": "https://stackoverflow.com/users/3132919/federicojasson"}, "reply_to_user": {"reputation": 678, "user_id": 647151, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7e5c476f7ed6fcbb67eee738e304f066?s=128&d=identicon&r=PG", "display_name": "malthe", "link": "https://stackoverflow.com/users/647151/malthe"}, "edited": false, "score": 0, "creation_date": 1614894979, "post_id": 56533459, "comment_id": 117532779, "body": "@malthe It won&#39;t. I don&#39;t think it&#39;s feasible to do that, actually. Assuming you use the array index as column name (e.g. array.0.field, array.1.field, ...), you&#39;ll have to know the length of the array beforehand. All these solutions iterate the dataframe structure, which is known at the driver."}, {"owner": {"reputation": 678, "user_id": 647151, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7e5c476f7ed6fcbb67eee738e304f066?s=128&d=identicon&r=PG", "display_name": "malthe", "link": "https://stackoverflow.com/users/647151/malthe"}, "edited": false, "score": 1, "creation_date": 1614896738, "post_id": 56533459, "comment_id": 117533304, "body": "I ended up figuring out how to do it and posted a script here: <a href=\"https://stackoverflow.com/a/66482320/647151\">stackoverflow.com/a/66482320/647151</a>."}, {"owner": {"reputation": 272, "user_id": 3132919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/82222eb793ebdbcc013b02d9596de30b?s=128&d=identicon&r=PG&f=1", "display_name": "federicojasson", "link": "https://stackoverflow.com/users/3132919/federicojasson"}, "reply_to_user": {"reputation": 678, "user_id": 647151, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7e5c476f7ed6fcbb67eee738e304f066?s=128&d=identicon&r=PG", "display_name": "malthe", "link": "https://stackoverflow.com/users/647151/malthe"}, "edited": false, "score": 0, "creation_date": 1614947800, "post_id": 56533459, "comment_id": 117547634, "body": "Oh, so the idea was to keep the array but transform the structures it contains. Nice!"}], "tags": [], "owner": {"reputation": 272, "user_id": 3132919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/82222eb793ebdbcc013b02d9596de30b?s=128&d=identicon&r=PG&f=1", "display_name": "federicojasson", "link": "https://stackoverflow.com/users/3132919/federicojasson"}, "is_accepted": false, "score": 6, "last_activity_date": 1560200354, "creation_date": 1560200354, "answer_id": 56533459, "question_id": 38753898, "link": "https://stackoverflow.com/questions/38753898/how-to-flatten-a-struct-in-a-spark-dataframe/56533459#56533459", "title": "How to flatten a struct in a Spark dataframe?", "body": "<p>This <code>flatten_df</code> version flattens the dataframe at every layer level, using a stack to avoid recursive calls:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from pyspark.sql.functions import col\n\n\ndef flatten_df(nested_df):\n    stack = [((), nested_df)]\n    columns = []\n\n    while len(stack) &gt; 0:\n        parents, df = stack.pop()\n\n        flat_cols = [\n            col(\".\".join(parents + (c[0],))).alias(\"_\".join(parents + (c[0],)))\n            for c in df.dtypes\n            if c[1][:6] != \"struct\"\n        ]\n\n        nested_cols = [\n            c[0]\n            for c in df.dtypes\n            if c[1][:6] == \"struct\"\n        ]\n\n        columns.extend(flat_cols)\n\n        for nested_col in nested_cols:\n            projected_df = df.select(nested_col + \".*\")\n            stack.append((parents + (nested_col,), projected_df))\n\n    return nested_df.select(columns)\n</code></pre>\n\n<p>Example:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from pyspark.sql.types import StringType, StructField, StructType\n\n\nschema = StructType([\n    StructField(\"some\", StringType()),\n\n    StructField(\"nested\", StructType([\n        StructField(\"nestedchild1\", StringType()),\n        StructField(\"nestedchild2\", StringType())\n    ])),\n\n    StructField(\"renested\", StructType([\n        StructField(\"nested\", StructType([\n            StructField(\"nestedchild1\", StringType()),\n            StructField(\"nestedchild2\", StringType())\n        ]))\n    ]))\n])\n\ndata = [\n    {\n        \"some\": \"value1\",\n        \"nested\": {\n            \"nestedchild1\": \"value2\",\n            \"nestedchild2\": \"value3\",\n        },\n        \"renested\": {\n            \"nested\": {\n                \"nestedchild1\": \"value4\",\n                \"nestedchild2\": \"value5\",\n            }\n        }\n    }\n]\n\ndf = spark.createDataFrame(data, schema)\nflat_df = flatten_df(df)\nprint(flat_df.collect())\n</code></pre>\n\n<p>Prints:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>[Row(some=u'value1', renested_nested_nestedchild1=u'value4', renested_nested_nestedchild2=u'value5', nested_nestedchild1=u'value2', nested_nestedchild2=u'value3')]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 916, "user_id": 4035861, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1528144007209428/picture?type=large", "display_name": "sri hari kali charan Tummala", "link": "https://stackoverflow.com/users/4035861/sri-hari-kali-charan-tummala"}, "is_accepted": false, "score": 1, "last_activity_date": 1579913640, "creation_date": 1579913640, "answer_id": 59905440, "question_id": 38753898, "link": "https://stackoverflow.com/questions/38753898/how-to-flatten-a-struct-in-a-spark-dataframe/59905440#59905440", "title": "How to flatten a struct in a Spark dataframe?", "body": "<p>below worked for me in spark sql</p>\n\n<pre><code>import org.apache.spark.sql._\nimport org.apache.hadoop.conf.Configuration\nimport org.apache.hadoop.fs._\nimport org.apache.http.client.methods.HttpGet\nimport org.apache.http.impl.client.DefaultHttpClient\nimport org.apache.spark.sql.{DataFrame, SaveMode, SparkSession}\nimport org.apache.spark.sql.functions._\nimport org.apache.spark.sql.types.StructType\nimport org.apache.log4j.{Level, Logger}\nimport org.apache.spark.rdd.RDD\nimport org.apache.spark.sql.types._\nimport org.apache.spark.storage.StorageLevel\nimport org.apache.spark.sql.functions.{explode, expr, posexplode, when}\n\nobject StackOverFlowQuestion {\n  def main(args: Array[String]): Unit = {\n\n    val logger = Logger.getLogger(\"FlattenTest\")\n    Logger.getLogger(\"org\").setLevel(Level.WARN)\n    Logger.getLogger(\"akka\").setLevel(Level.WARN)\n\n    val spark = SparkSession.builder()\n      .appName(\"FlattenTest\")\n      .config(\"spark.sql.warehouse.dir\", \"C:\\\\Temp\\\\hive\")\n      .master(\"local[2]\")\n      //.enableHiveSupport()\n      .getOrCreate()\n    import spark.implicits._\n\n    val stringTest =\n      \"\"\"{\n                               \"total_count\": 123,\n                               \"page_size\": 20,\n                               \"another_id\": \"gdbfdbfdbd\",\n                               \"sen\": [{\n                                \"id\": 123,\n                                \"ses_id\": 12424343,\n                                \"columns\": {\n                                    \"blah\": \"blah\",\n                                    \"count\": 1234\n                                },\n                                \"class\": {},\n                                \"class_timestamps\": {},\n                                \"sentence\": \"spark is good\"\n                               }]\n                            }\n                             \"\"\"\n    val result = List(stringTest)\n    val githubRdd=spark.sparkContext.makeRDD(result)\n    val gitHubDF=spark.read.json(githubRdd)\n    gitHubDF.show()\n    gitHubDF.printSchema()\n\n    gitHubDF.registerTempTable(\"JsonTable\")\n\n   spark.sql(\"with cte as\" +\n      \"(\" +\n      \"select explode(sen) as senArray  from JsonTable\" +\n      \"), cte_2 as\" +\n      \"(\" +\n      \"select senArray.ses_id,senArray.ses_id,senArray.columns.* from cte\" +\n      \")\" +\n      \"select * from cte_2\"\n    ).show()\n\n    spark.stop()\n}\n\n}\n\n</code></pre>\n\n<p>output:-</p>\n\n<pre><code>+----------+---------+--------------------+-----------+\n|another_id|page_size|                 sen|total_count|\n+----------+---------+--------------------+-----------+\n|gdbfdbfdbd|       20|[[[blah, 1234], 1...|        123|\n+----------+---------+--------------------+-----------+\n\nroot\n |-- another_id: string (nullable = true)\n |-- page_size: long (nullable = true)\n |-- sen: array (nullable = true)\n |    |-- element: struct (containsNull = true)\n |    |    |-- columns: struct (nullable = true)\n |    |    |    |-- blah: string (nullable = true)\n |    |    |    |-- count: long (nullable = true)\n |    |    |-- id: long (nullable = true)\n |    |    |-- sentence: string (nullable = true)\n |    |    |-- ses_id: long (nullable = true)\n |-- total_count: long (nullable = true)\n\n+--------+--------+----+-----+\n|  ses_id|  ses_id|blah|count|\n+--------+--------+----+-----+\n|12424343|12424343|blah| 1234|\n+--------+--------+----+-----+\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 90, "user_id": 10556923, "user_type": "registered", "profile_image": "https://graph.facebook.com/1936244033135602/picture?type=large", "display_name": "Amrish Mishra", "link": "https://stackoverflow.com/users/10556923/amrish-mishra"}, "is_accepted": false, "score": 1, "last_activity_date": 1594838618, "creation_date": 1594838618, "answer_id": 62921755, "question_id": 38753898, "link": "https://stackoverflow.com/questions/38753898/how-to-flatten-a-struct-in-a-spark-dataframe/62921755#62921755", "title": "How to flatten a struct in a Spark dataframe?", "body": "<p>You can use this approach if, you have to covert only struct types.\nI would not suggest converting the array, as it could lead to duplicate records.</p>\n<pre><code>from pyspark.sql.functions import col\nfrom pyspark.sql.types import StructType\n\n\ndef flatten_schema(schema, prefix=&quot;&quot;):\n    return_schema = []\n    for field in schema.fields:\n        if isinstance(field.dataType, StructType):\n            if prefix:\n                return_schema = return_schema + flatten_schema(field.dataType, &quot;{}.{}&quot;.format(prefix, field.name))\n            else:\n                return_schema = return_schema + flatten_schema(field.dataType, field.name)\n        else:\n            if prefix:\n                field_path = &quot;{}.{}&quot;.format(prefix, field.name)\n                return_schema.append(col(field_path).alias(field_path.replace(&quot;.&quot;, &quot;_&quot;)))\n            else:\n                return_schema.append(field.name)\n    return return_schema\n</code></pre>\n<p>You can use it as</p>\n<pre><code>new_schema = flatten_schema(df.schema)\ndf1 = df.select(se)\ndf1.show()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12601, "user_id": 514878, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2436423552aa319c4e960540ff091b0b?s=128&d=identicon&r=PG", "display_name": "FluffyKitten", "link": "https://stackoverflow.com/users/514878/fluffykitten"}, "edited": false, "score": 0, "creation_date": 1600134321, "post_id": 63893150, "comment_id": 112985201, "body": "Welcome to Stack Overflow. Code-only answers are discouraged on Stack Overflow because they don&#39;t explain how it solves the problem. Please edit your answer to explain what this code does and how it is more efficient than the other answers as you say it is, so that it is useful to other users with similar issues and they can learn from it."}], "tags": [], "owner": {"reputation": 41, "user_id": 11672595, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Cn4wcPYgwVg/AAAAAAAAAAI/AAAAAAAAAgg/6FWDqhGPEyg/photo.jpg?sz=128", "display_name": "Domenico Di Nicola", "link": "https://stackoverflow.com/users/11672595/domenico-di-nicola"}, "is_accepted": false, "score": 1, "last_activity_date": 1600292712, "last_edit_date": 1600292712, "creation_date": 1600126933, "answer_id": 63893150, "question_id": 38753898, "link": "https://stackoverflow.com/questions/38753898/how-to-flatten-a-struct-in-a-spark-dataframe/63893150#63893150", "title": "How to flatten a struct in a Spark dataframe?", "body": "<p>A little more compact and efficient implementation:</p>\n<p>No need to create list and iterate on them.\nYou &quot;act&quot; on fields based on their type (if structures or not).</p>\n<pre><code>def flatten_df(nested_df):\n    stack = [((), nested_df)]\n    columns = []\n    while len(stack) &gt; 0:\n        parents, df = stack.pop()\n        for column_name, column_type in df.dtypes:\n            if column_type[:6] == &quot;struct&quot;:\n                projected_df = df.select(column_name + &quot;.*&quot;)\n                stack.append((parents + (column_name,), projected_df))\n            else:\n                columns.append(col(&quot;.&quot;.join(parents + (column_name,))).alias(&quot;_&quot;.join(parents + (column_name,))))\n    return nested_df.select(columns)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 174, "user_id": 11430389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Urv7U.jpg?s=128&g=1", "display_name": "Raptor0009", "link": "https://stackoverflow.com/users/11430389/raptor0009"}, "is_accepted": false, "score": 0, "last_activity_date": 1600918954, "last_edit_date": 1600918954, "creation_date": 1600789750, "answer_id": 64013303, "question_id": 38753898, "link": "https://stackoverflow.com/questions/38753898/how-to-flatten-a-struct-in-a-spark-dataframe/64013303#64013303", "title": "How to flatten a struct in a Spark dataframe?", "body": "<p>This is for scala spark.</p>\n<pre><code>val totalMainArrayBuffer=collection.mutable.ArrayBuffer[String]()\ndef flatten_df_Struct(dfTemp:org.apache.spark.sql.DataFrame,dfTotalOuter:org.apache.spark.sql.DataFrame):org.apache.spark.sql.DataFrame=\n{\n//dfTemp.printSchema\nval totalStructCols=dfTemp.dtypes.map(x =&gt; x.toString.substring(1,x.toString.size-1)).filter(_.split(&quot;,&quot;,2)(1).contains(&quot;Struct&quot;)) // in case i the column names come with the word Struct embedded in it\nval mainArrayBuffer=collection.mutable.ArrayBuffer[String]()\nfor(totalStructCol &lt;- totalStructCols)\n{\nval tempArrayBuffer=collection.mutable.ArrayBuffer[String]()\ntempArrayBuffer+=s&quot;${totalStructCol.split(&quot;,&quot;)(0)}.*&quot;\n//tempArrayBuffer.toSeq.toDF.show(false)\nval columnsInside=dfTemp.selectExpr(tempArrayBuffer:_*).columns\nfor(column &lt;- columnsInside)\nmainArrayBuffer+=s&quot;${totalStructCol.split(&quot;,&quot;)(0)}.${column} as ${totalStructCol.split(&quot;,&quot;)(0)}_${column}&quot;\n//mainArrayBuffer.toSeq.toDF.show(false)\n}\n//dfTemp.selectExpr(mainArrayBuffer:_*).printSchema\nval nonStructCols=dfTemp.selectExpr(mainArrayBuffer:_*).dtypes.map(x =&gt; x.toString.substring(1,x.toString.size-1)).filter(!_.split(&quot;,&quot;,2)(1).contains(&quot;Struct&quot;)) // in case i the column names come with the word Struct embedded in it\nfor (nonStructCol &lt;- nonStructCols)\ntotalMainArrayBuffer+=s&quot;${nonStructCol.split(&quot;,&quot;)(0).replace(&quot;_&quot;,&quot;.&quot;)} as ${nonStructCol.split(&quot;,&quot;)(0)}&quot; // replacing _ by . in origial select clause if it's an already nested column \ndfTemp.selectExpr(mainArrayBuffer:_*).dtypes.map(x =&gt; x.toString.substring(1,x.toString.size-1)).filter(_.split(&quot;,&quot;,2)(1).contains(&quot;Struct&quot;)).size \nmatch {\ncase value if value ==0 =&gt; dfTotalOuter.selectExpr(totalMainArrayBuffer:_*)\ncase _ =&gt; flatten_df_Struct(dfTemp.selectExpr(mainArrayBuffer:_*),dfTotalOuter)\n}\n}\n\n\ndef flatten_df(dfTemp:org.apache.spark.sql.DataFrame):org.apache.spark.sql.DataFrame=\n{\nvar totalArrayBuffer=collection.mutable.ArrayBuffer[String]()\nval totalNonStructCols=dfTemp.dtypes.map(x =&gt; x.toString.substring(1,x.toString.size-1)).filter(!_.split(&quot;,&quot;,2)(1).contains(&quot;Struct&quot;)) // in case i the column names come with the word Struct embedded in it\nfor (totalNonStructCol &lt;- totalNonStructCols)\ntotalArrayBuffer+=s&quot;${totalNonStructCol.split(&quot;,&quot;)(0)}&quot;\ntotalMainArrayBuffer.clear\nflatten_df_Struct(dfTemp,dfTemp) // flattened schema is now in totalMainArrayBuffer \ntotalArrayBuffer=totalArrayBuffer++totalMainArrayBuffer\ndfTemp.selectExpr(totalArrayBuffer:_*)\n}\n\n\nflatten_df(dfTotal.withColumn(&quot;tempStruct&quot;,lit(5))).printSchema\n\n\n\n</code></pre>\n<p>File</p>\n<pre><code>{&quot;num1&quot;:1,&quot;num2&quot;:2,&quot;bool1&quot;:true,&quot;bool2&quot;:false,&quot;double1&quot;:4.5,&quot;double2&quot;:5.6,&quot;str1&quot;:&quot;a&quot;,&quot;str2&quot;:&quot;b&quot;,&quot;arr1&quot;:[3,4,5],&quot;map1&quot;:{&quot;cool&quot;:1,&quot;okay&quot;:2,&quot;normal&quot;:3},&quot;carInfo&quot;:{&quot;Engine&quot;:{&quot;Make&quot;:&quot;sa&quot;,&quot;Power&quot;:{&quot;IC&quot;:&quot;900&quot;,&quot;battery&quot;:&quot;165&quot;},&quot;Redline&quot;:&quot;11500&quot;} ,&quot;Tyres&quot;:{&quot;Make&quot;:&quot;Pirelli&quot;,&quot;Compound&quot;:&quot;c1&quot;,&quot;Life&quot;:&quot;120&quot;}}}\n{&quot;num1&quot;:3,&quot;num2&quot;:4,&quot;bool1&quot;:false,&quot;bool2&quot;:false,&quot;double1&quot;:4.2,&quot;double2&quot;:5.5,&quot;str1&quot;:&quot;u&quot;,&quot;str2&quot;:&quot;n&quot;,&quot;arr1&quot;:[6,7,9],&quot;map1&quot;:{&quot;fast&quot;:1,&quot;medium&quot;:2,&quot;agressive&quot;:3},&quot;carInfo&quot;:{&quot;Engine&quot;:{&quot;Make&quot;:&quot;na&quot;,&quot;Power&quot;:{&quot;IC&quot;:&quot;800&quot;,&quot;battery&quot;:&quot;150&quot;},&quot;Redline&quot;:&quot;10000&quot;} ,&quot;Tyres&quot;:{&quot;Make&quot;:&quot;Pirelli&quot;,&quot;Compound&quot;:&quot;c2&quot;,&quot;Life&quot;:&quot;100&quot;}}}\n{&quot;num1&quot;:8,&quot;num2&quot;:4,&quot;bool1&quot;:true,&quot;bool2&quot;:true,&quot;double1&quot;:5.7,&quot;double2&quot;:7.5,&quot;str1&quot;:&quot;t&quot;,&quot;str2&quot;:&quot;k&quot;,&quot;arr1&quot;:[11,12,23],&quot;map1&quot;:{&quot;preserve&quot;:1,&quot;medium&quot;:2,&quot;fast&quot;:3},&quot;carInfo&quot;:{&quot;Engine&quot;:{&quot;Make&quot;:&quot;ta&quot;,&quot;Power&quot;:{&quot;IC&quot;:&quot;950&quot;,&quot;battery&quot;:&quot;170&quot;},&quot;Redline&quot;:&quot;12500&quot;} ,&quot;Tyres&quot;:{&quot;Make&quot;:&quot;Pirelli&quot;,&quot;Compound&quot;:&quot;c3&quot;,&quot;Life&quot;:&quot;80&quot;}}}\n{&quot;num1&quot;:7,&quot;num2&quot;:9,&quot;bool1&quot;:false,&quot;bool2&quot;:true,&quot;double1&quot;:33.2,&quot;double2&quot;:7.5,&quot;str1&quot;:&quot;b&quot;,&quot;str2&quot;:&quot;u&quot;,&quot;arr1&quot;:[12,14,5],&quot;map1&quot;:{&quot;normal&quot;:1,&quot;preserve&quot;:2,&quot;agressive&quot;:3},&quot;carInfo&quot;:{&quot;Engine&quot;:{&quot;Make&quot;:&quot;pa&quot;,&quot;Power&quot;:{&quot;IC&quot;:&quot;920&quot;,&quot;battery&quot;:&quot;160&quot;},&quot;Redline&quot;:&quot;11800&quot;} ,&quot;Tyres&quot;:{&quot;Make&quot;:&quot;Pirelli&quot;,&quot;Compound&quot;:&quot;c4&quot;,&quot;Life&quot;:&quot;70&quot;}}}\n</code></pre>\n<p>Before:</p>\n<pre><code>root\n |-- arr1: array (nullable = true)\n |    |-- element: long (containsNull = true)\n |-- bool1: boolean (nullable = true)\n |-- bool2: boolean (nullable = true)\n |-- carInfo: struct (nullable = true)\n |    |-- Engine: struct (nullable = true)\n |    |    |-- Make: string (nullable = true)\n |    |    |-- Power: struct (nullable = true)\n |    |    |    |-- IC: string (nullable = true)\n |    |    |    |-- battery: string (nullable = true)\n |    |    |-- Redline: string (nullable = true)\n |    |-- Tyres: struct (nullable = true)\n |    |    |-- Compound: string (nullable = true)\n |    |    |-- Life: string (nullable = true)\n |    |    |-- Make: string (nullable = true)\n |-- double1: double (nullable = true)\n |-- double2: double (nullable = true)\n |-- map1: struct (nullable = true)\n |    |-- agressive: long (nullable = true)\n |    |-- cool: long (nullable = true)\n |    |-- fast: long (nullable = true)\n |    |-- medium: long (nullable = true)\n |    |-- normal: long (nullable = true)\n |    |-- okay: long (nullable = true)\n |    |-- preserve: long (nullable = true)\n |-- num1: long (nullable = true)\n |-- num2: long (nullable = true)\n |-- str1: string (nullable = true)\n |-- str2: string (nullable = true\n</code></pre>\n<p>After:</p>\n<pre><code>root\n |-- arr1: array (nullable = true)\n |    |-- element: long (containsNull = true)\n |-- bool1: boolean (nullable = true)\n |-- bool2: boolean (nullable = true)\n |-- double1: double (nullable = true)\n |-- double2: double (nullable = true)\n |-- num1: long (nullable = true)\n |-- num2: long (nullable = true)\n |-- str1: string (nullable = true)\n |-- str2: string (nullable = true)\n |-- map1_agressive: long (nullable = true)\n |-- map1_cool: long (nullable = true)\n |-- map1_fast: long (nullable = true)\n |-- map1_medium: long (nullable = true)\n |-- map1_normal: long (nullable = true)\n |-- map1_okay: long (nullable = true)\n |-- map1_preserve: long (nullable = true)\n |-- carInfo_Engine_Make: string (nullable = true)\n |-- carInfo_Engine_Redline: string (nullable = true)\n |-- carInfo_Tyres_Compound: string (nullable = true)\n |-- carInfo_Tyres_Life: string (nullable = true)\n |-- carInfo_Tyres_Make: string (nullable = true)\n |-- carInfo_Engine_Power_IC: string (nullable = true)\n |-- carInfo_Engine_Power_battery: string (nullable = true)\n\n</code></pre>\n<p>Tried for 2 Levels, it worked</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 4063984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d23b33e840282a5315de26554dd2319?s=128&d=identicon&r=PG", "display_name": "Pratik Anurag", "link": "https://stackoverflow.com/users/4063984/pratik-anurag"}, "is_accepted": false, "score": 3, "last_activity_date": 1605086323, "creation_date": 1605086323, "answer_id": 64783597, "question_id": 38753898, "link": "https://stackoverflow.com/questions/38753898/how-to-flatten-a-struct-in-a-spark-dataframe/64783597#64783597", "title": "How to flatten a struct in a Spark dataframe?", "body": "<p>For Spark 2.4.5,</p>\n<p>while,<code>df.select(df.col(&quot;data.*&quot;))</code> will give you <code>org.apache.spark.sql.AnalysisException: No such struct field * in</code> exception</p>\n<p>this will work:-</p>\n<pre><code>df.select($&quot;data.*&quot;)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 204, "user_id": 7131019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03bee5db84d0d41db8fe50011dc7a0ed?s=128&d=identicon&r=PG&f=1", "display_name": "Narahari B M", "link": "https://stackoverflow.com/users/7131019/narahari-b-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1607711181, "last_edit_date": 1607711181, "creation_date": 1607710677, "answer_id": 65256608, "question_id": 38753898, "link": "https://stackoverflow.com/questions/38753898/how-to-flatten-a-struct-in-a-spark-dataframe/65256608#65256608", "title": "How to flatten a struct in a Spark dataframe?", "body": "<p>PySpark solution to flatten nested df with both struct and array types with any level of depth. This is improved on this: <a href=\"https://stackoverflow.com/a/56533459/7131019\">https://stackoverflow.com/a/56533459/7131019</a></p>\n<pre><code>from pyspark.sql.types import *\nfrom pyspark.sql import functions as f\n\ndef flatten_structs(nested_df):\n    stack = [((), nested_df)]\n    columns = []\n\n    while len(stack) &gt; 0:\n        \n        parents, df = stack.pop()\n        \n        array_cols = [\n            c[0]\n            for c in df.dtypes\n            if c[1][:5] == &quot;array&quot;\n        ]\n        \n        flat_cols = [\n            f.col(&quot;.&quot;.join(parents + (c[0],))).alias(&quot;_&quot;.join(parents + (c[0],)))\n            for c in df.dtypes\n            if c[1][:6] != &quot;struct&quot;\n        ]\n\n        nested_cols = [\n            c[0]\n            for c in df.dtypes\n            if c[1][:6] == &quot;struct&quot;\n        ]\n        \n        columns.extend(flat_cols)\n\n        for nested_col in nested_cols:\n            projected_df = df.select(nested_col + &quot;.*&quot;)\n            stack.append((parents + (nested_col,), projected_df))\n        \n    return nested_df.select(columns)\n\ndef flatten_array_struct_df(df):\n    \n    array_cols = [\n            c[0]\n            for c in df.dtypes\n            if c[1][:5] == &quot;array&quot;\n        ]\n    \n    while len(array_cols) &gt; 0:\n        \n        for array_col in array_cols:\n            \n            cols_to_select = [x for x in df.columns if x != array_col ]\n            \n            df = df.withColumn(array_col, f.explode(f.col(array_col)))\n            \n        df = flatten_structs(df)\n        \n        array_cols = [\n            c[0]\n            for c in df.dtypes\n            if c[1][:5] == &quot;array&quot;\n        ]\n    return df\n\nflat_df = flatten_array_struct_df(df)\n</code></pre>\n"}], "owner": {"reputation": 1577, "user_id": 1732062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2021c6f73ea7d35e4c863d2012ca2ff7?s=128&d=identicon&r=PG", "display_name": "djWann", "link": "https://stackoverflow.com/users/1732062/djwann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74576, "favorite_count": 15, "accepted_answer_id": 38754012, "answer_count": 11, "score": 47, "last_activity_date": 1612502276, "creation_date": 1470259479, "last_edit_date": 1612502276, "question_id": 38753898, "link": "https://stackoverflow.com/questions/38753898/how-to-flatten-a-struct-in-a-spark-dataframe", "title": "How to flatten a struct in a Spark dataframe?", "body": "<p>I have a dataframe with the following structure:</p>\n\n<pre><code> |-- data: struct (nullable = true)\n |    |-- id: long (nullable = true)\n |    |-- keyNote: struct (nullable = true)\n |    |    |-- key: string (nullable = true)\n |    |    |-- note: string (nullable = true)\n |    |-- details: map (nullable = true)\n |    |    |-- key: string\n |    |    |-- value: string (valueContainsNull = true)\n</code></pre>\n\n<p>How it is possible to flatten the structure and create a new dataframe:</p>\n\n<pre><code>     |-- id: long (nullable = true)\n     |-- keyNote: struct (nullable = true)\n     |    |-- key: string (nullable = true)\n     |    |-- note: string (nullable = true)\n     |-- details: map (nullable = true)\n     |    |-- key: string\n     |    |-- value: string (valueContainsNull = true)\n</code></pre>\n\n<p>Is there something like explode, but for structs?</p>\n"}, {"tags": ["java", "email", "ewsjavaapi"], "comments": [{"owner": {"reputation": 6636, "user_id": 76237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E0QaY.jpg?s=128&g=1", "display_name": "diginoise", "link": "https://stackoverflow.com/users/76237/diginoise"}, "edited": false, "score": 0, "creation_date": 1470261593, "post_id": 38753742, "comment_id": 64882533, "body": "check this answer: <a href=\"http://stackoverflow.com/questions/6213571/exchange-web-services-ews-api-to-header-for-alias\" title=\"exchange web services ews api to header for alias\">stackoverflow.com/questions/6213571/&hellip;</a>"}, {"owner": {"reputation": 21, "user_id": 2862755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/921a1866aae8b738e3bb36d9cbd45f0d?s=128&d=identicon&r=PG", "display_name": "spye", "link": "https://stackoverflow.com/users/2862755/spye"}, "reply_to_user": {"reputation": 6636, "user_id": 76237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E0QaY.jpg?s=128&g=1", "display_name": "diginoise", "link": "https://stackoverflow.com/users/76237/diginoise"}, "edited": false, "score": 0, "creation_date": 1470315528, "post_id": 38753742, "comment_id": 64907150, "body": "That&#39;s an excellent starting point... thank you for catching that, as I couldn&#39;t find that earlier. However, that&#39;s C# code, and a few of the items don&#39;t translate correctly to the ews-java-api library. I&#39;m not that familiar with C#, so I&#39;m not sure how to translate things like the propertySet syntax, or the tryGetProperty functions, as they don&#39;t seem to have functional Java equivalents."}, {"owner": {"reputation": 6636, "user_id": 76237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E0QaY.jpg?s=128&g=1", "display_name": "diginoise", "link": "https://stackoverflow.com/users/76237/diginoise"}, "edited": false, "score": 0, "creation_date": 1470318540, "post_id": 38753742, "comment_id": 64909579, "body": "All you need is to inspect the appropriate headers, which the above example lists. Since headers are part of the protocol, as long as your java lib allows you to extract the headers, you should be fine (I think)."}, {"owner": {"reputation": 21, "user_id": 2862755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/921a1866aae8b738e3bb36d9cbd45f0d?s=128&d=identicon&r=PG", "display_name": "spye", "link": "https://stackoverflow.com/users/2862755/spye"}, "reply_to_user": {"reputation": 6636, "user_id": 76237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E0QaY.jpg?s=128&g=1", "display_name": "diginoise", "link": "https://stackoverflow.com/users/76237/diginoise"}, "edited": false, "score": 0, "creation_date": 1470336901, "post_id": 38753742, "comment_id": 64921982, "body": "Well, it took a fair bit to figure out, and between the link you posted and <a href=\"http://stackoverflow.com/questions/27507359/how-i-can-get-email-headers-programmatically-from-ms-exchange-server-in-java\">this one</a> it looks like the issue was related to adding ItemSchema.MimeContent to the PropertySet, and then using a regular expression to the find the alias in the &quot;to&quot; field. I&#39;ll update the question with that resolution, because although it&#39;s not overly clean, I was able to make it work. Thanks for pointing me in the right direction!"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 2862755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/921a1866aae8b738e3bb36d9cbd45f0d?s=128&d=identicon&r=PG", "display_name": "spye", "link": "https://stackoverflow.com/users/2862755/spye"}, "is_accepted": false, "score": 1, "last_activity_date": 1470337574, "creation_date": 1470337574, "answer_id": 38775466, "question_id": 38753742, "link": "https://stackoverflow.com/questions/38753742/how-do-i-identify-the-recipient-email-using-ews-java-api-if-the-address-is-an-al/38775466#38775466", "title": "How do I identify the recipient email using ews-java-api if the address is an alias?", "body": "<p>Okay, so, thanks to @diginoise, the resulting solution was to do the following. I didn't post code initially, but hopefully this will be helpful for anyone else searching for this same issue.</p>\n\n<p>I started by using the default property set and added the mime content so that my property query would include mime content. I then add a regex to examine the mimecontent directly to get the alias that might have been used:</p>\n\n<pre><code>FindItemsResults&lt;Item&gt; findResults = ...; // This is several lines, but is well documented in the library\n\n// Adding MimeContent to the set is key\nPropertySet propertySet = new PropertySet(BasePropertySet.FirstClassProperties, ItemSchema.MimeContent);\nservice.loadPropertiesForItems(findResults, propertySet);\n\nfor (Item item : findResults) {\n    String messageContent = new String(((EmailMessage) item).getMimeContent().getContent());\n\n    // find the alias used\n    Pattern pattern = Pattern.compile(\"To: \\\"(.*)\\\" &lt;(.*?)&gt;\");\n    Matcher matcher = pattern.matcher(messageContent);\n    if (matcher.find()) {\n        System.out.println(\"Alias is: \" + matcher.group(1));\n    }\n}\n</code></pre>\n\n<p>This works if you're only looking for the first email address listed, but won't handle a list of aliases, so you'd need to modify the Pattern and search for multiple instances on the \"To:\" line and extract them out, but this covers the basics of how to get the actual \"sent to\" address rather than the \"received by\" address.</p>\n"}], "owner": {"reputation": 21, "user_id": 2862755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/921a1866aae8b738e3bb36d9cbd45f0d?s=128&d=identicon&r=PG", "display_name": "spye", "link": "https://stackoverflow.com/users/2862755/spye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 730, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1470337574, "creation_date": 1470258821, "question_id": 38753742, "link": "https://stackoverflow.com/questions/38753742/how-do-i-identify-the-recipient-email-using-ews-java-api-if-the-address-is-an-al", "title": "How do I identify the recipient email using ews-java-api if the address is an alias?", "body": "<p>I'm working with the ews-java-api, which I'm using to process incoming emails to specific Exchange accounts, so that I can extract out key information from the email (ie, subject, body, recipient, sender, etc) to forward on to another system through an API call. I'm able to identify the recipient of the email, because it naturally matches the account I'm retrieving new emails from, but I can't seem to identify what alias the sender may have used to send the email.</p>\n\n<p>For example, if I send an email from janedoe@mycompany.com to bobsmith@mycompany.com, I can then grab an email from the \"bobsmith\" account, and read the subject, body, etc. But if Bob Smith has an alias of, say, \"hero@mycompany.com\" which goes to his bobsmith account, and Jane Doe emails him to that address, I only see \"bobsmith@mycompany.com\" as the recipient, not \"hero...\". I can't seem to find any method calls on the Exchange item (even when cast as an \"EmailMessage\" type, that allows me to get the address used in the \"to:\" field.</p>\n\n<p>Does anyone know how to obtain that alias on the received message?</p>\n"}, {"tags": ["java", "audio", "playback", "id3"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 4760699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4A5SW.jpg?s=128&g=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/4760699/nicholas"}, "edited": false, "score": 0, "creation_date": 1470269891, "post_id": 38754482, "comment_id": 64884889, "body": "Thanks for responding! This could work for me, but do you know if it is possible to assign ID3 tags without using an external library? If a library is required, that is fine, but if I could get around it, that would be great. Thanks again for your help!"}, {"owner": {"reputation": 15, "user_id": 4760699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4A5SW.jpg?s=128&g=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/4760699/nicholas"}, "edited": false, "score": 0, "creation_date": 1470274105, "post_id": 38754482, "comment_id": 64886796, "body": "I am sorry, but it appears that you misunderstood my question. I already have my ID3 Tags set (as shown in image one). What I would like to do is <b>USE the ID3 tags by passing them to the OS and speakers.</b> I added an additional clarification in the question. Also, take a look at image two (<a href=\"http://i.stack.imgur.com/65SZd.png\" rel=\"nofollow noreferrer\">or click here</a>). I would like to pass the ID3 tags to the OS so it can be shown on sidebars and speakers what song is playing (like in image 2). Is that possible?"}, {"owner": {"reputation": 63, "user_id": 2440339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2317ff643cbfdac854d207116f3f948?s=128&d=identicon&r=PG", "display_name": "Manoj Khanna", "link": "https://stackoverflow.com/users/2440339/manoj-khanna"}, "reply_to_user": {"reputation": 15, "user_id": 4760699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4A5SW.jpg?s=128&g=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/4760699/nicholas"}, "edited": false, "score": 0, "creation_date": 1470346519, "post_id": 38754482, "comment_id": 64926957, "body": "I&#39;m afraid it is not possible using Java. The images that you have attached above shows features that can only be implemented in native Windows applications built using C#. Java is a cross platform supporting language hence it lacks control over such platform dependant features. If you really require such Windows related features you should consider porting your application to C# as it very much similar to Java."}], "tags": [], "owner": {"reputation": 63, "user_id": 2440339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2317ff643cbfdac854d207116f3f948?s=128&d=identicon&r=PG", "display_name": "Manoj Khanna", "link": "https://stackoverflow.com/users/2440339/manoj-khanna"}, "is_accepted": true, "score": 0, "last_activity_date": 1470262201, "creation_date": 1470262201, "answer_id": 38754482, "question_id": 38753679, "link": "https://stackoverflow.com/questions/38753679/how-to-use-id3-tags-audio-file-details-and-information-for-a-java-clip/38754482#38754482", "title": "How To Use ID3 Tags (Audio File Details and Information) for a Java Clip", "body": "<p>The properties that you would like to read or modify are called ID3 tags.</p>\n\n<p>A quick Google search gave me this library <a href=\"http://www.jthink.net/jaudiotagger/index.jsp\" rel=\"nofollow\">JAudiotagger</a>. It can also be used to read or modify ID3 tags of several other formats too.</p>\n\n<p><strong>Usage</strong></p>\n\n<pre><code>AudioFile file = AudioFileIO.read(new File(\"filename.wav\"));\nTag tag = file.getTag();\ntag.setField(FieldKey.ARTIST,\"Kings of Leon\");\nAudioFileIO.write(file);\n</code></pre>\n\n<p>More examples can be viewed <a href=\"http://www.jthink.net/jaudiotagger/examples.jsp\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 15, "user_id": 4760699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4A5SW.jpg?s=128&g=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/4760699/nicholas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 719, "favorite_count": 0, "accepted_answer_id": 38754482, "answer_count": 1, "score": 0, "last_activity_date": 1470273480, "creation_date": 1470258604, "last_edit_date": 1470273480, "question_id": 38753679, "link": "https://stackoverflow.com/questions/38753679/how-to-use-id3-tags-audio-file-details-and-information-for-a-java-clip", "title": "How To Use ID3 Tags (Audio File Details and Information) for a Java Clip", "body": "<h2>EDIT</h2>\n\n<p>Special thanks to Manoj Khanna who has alerted me that the \"details\" I referred to in this question are actually called <code>ID3 Tags</code>. Part of the reason I needed the community's help was because I didn't know the name of these tags, so thank you for responding to my question! You guys are a huge help!</p>\n\n<h2>Original Question</h2>\n\n<p>I created a simple <strong>Java application</strong> (in Java 8) that plays <strong><code>.WAV Audio Files</code></strong> stored on my computer. I use the <code>javax.sound.sampled.AudioSystem</code> to play a <code>javax.sound.sampled.Clip</code> using this code:</p>\n\n<pre><code>Clip l = AudioSystem.getClip();\nl.open(AudioSystem.getAudioInputStream(new File(\"song.wav\")));\nl.setFramePosition(0);\nl.start();\n</code></pre>\n\n<p>That code works completely fine, and I am very happy with how it works. I get the name of the file to identify the songs, and it works well. However, what I am asking for help with is how to use the <code>.WAV Audio File</code>'s song \"details\" and \"information.\"</p>\n\n<hr>\n\n<p>This is a bit hard to explain, so I will use include pictures and specific applications to clarify. </p>\n\n<p>Other audio applications (as an example, I will use Microsoft's \"Groove Music\" app in Windows 10) send the \"details\" of the track to the speakers and the operating system.</p>\n\n<p><a href=\"http://i.stack.imgur.com/ZJdvn.png\" rel=\"nofollow\"><strong>IMAGE ONE:</strong> You can set the \"details\" of an audio track in the properties of a file, or set them when you create the file. <strong>This hyperlink links to a screenshot showing the \"details\" of the song (the title and contributing artists).</strong></a>\nNotice that the name of the file has nothing to do with the details shown in the image linked about (even though I named them the same).</p>\n\n<p><a href=\"http://i.stack.imgur.com/65SZd.png\" rel=\"nofollow\"><strong>IMAGE TWO:</strong> The \"details\" of the track are reflected while the song is playing in most audio playing applications (in this case \"Groove Music\"). The details are also reflected in the volume changing menu on the top left of the screen. <strong>This hyperlink links to a screenshot showing how the \"details\" are reflected while the track is playing.</strong></a>\nThe same \"details\" would be sent to a Bluetooth audio playback device (such as a car or speaker), and possibly displayed on the device's screen (if the device has that feature).</p>\n\n<hr>\n\n<p>As of now, my <code>Clip</code> does not take any of the information from the properties of the <code>.WAV Audio Files</code> and doesn't pass them along to my operating system or any of my speakers that I have tested it on. They all play the music fine, they just don't display the information as I'd like.</p>\n\n<hr>\n\n<p><strong>Is there any way for me to use these ID3 tags while playing the audio?</strong>\nI'd be fine with a solution where I'd have to manually set the song name and artist, or change a setting that automatically collects the information from the properties of the file.</p>\n\n<h2>CLARIFICATION (EDIT 2)</h2>\n\n<p>I already have the ID3 tags set up in my audio file, but I want to pass these tags to the operating system and speakers when playing using the Clip. I want my Clip to play in a way that uses the information as shown in image two. I want the ID3 Tags already set up previously to be used when playing the audio file; I want the tags to be passed to the speakers and operating system while playing.</p>\n\n<p>I would prefer not to use an external library, but if I must, than I can settle for using one.</p>\n\n<p><strong>Is this possible, and if so, how?</strong></p>\n"}, {"tags": ["java", "android", "android-mediaplayer", "text-to-speech"], "comments": [{"owner": {"reputation": 5694, "user_id": 1256219, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/625jD.png?s=128&g=1", "display_name": "brandall", "link": "https://stackoverflow.com/users/1256219/brandall"}, "edited": false, "score": 0, "creation_date": 1470271502, "post_id": 38753451, "comment_id": 64885294, "body": "You need to use the API correctly, a clue would be passing in <code>null</code> parameters. There are plenty of examples out there. You need to pass in an utterance id."}, {"owner": {"reputation": 1, "user_id": 6646914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93c1b2000a793691932bf1ac6f71c4cc?s=128&d=identicon&r=PG&f=1", "display_name": "lionnn", "link": "https://stackoverflow.com/users/6646914/lionnn"}, "reply_to_user": {"reputation": 5694, "user_id": 1256219, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/625jD.png?s=128&g=1", "display_name": "brandall", "link": "https://stackoverflow.com/users/1256219/brandall"}, "edited": false, "score": 0, "creation_date": 1470351196, "post_id": 38753451, "comment_id": 64928509, "body": "@brandall How do I pass in an utterance id? I can&#39;t find any examples."}], "owner": {"reputation": 1, "user_id": 6646914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93c1b2000a793691932bf1ac6f71c4cc?s=128&d=identicon&r=PG&f=1", "display_name": "lionnn", "link": "https://stackoverflow.com/users/6646914/lionnn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1470257700, "creation_date": 1470257700, "question_id": 38753451, "link": "https://stackoverflow.com/questions/38753451/how-to-get-sound-to-start-only-after-text-to-speech-ends", "title": "How to get sound to start only after text to speech ends", "body": "<p>I have this code which reads a string using text to speech and then plays a sound. However, the sound plays at the same time that the text to speech is used. I tried to use onutterancecompletedlistener and onutteranceprogresslistener but now when I run the code, only the text to speech is heard and not the sound. Am I implementing something incorrectly? Any help is much appreciated! Thank you!!</p>\n\n<pre><code>String animalString = res.getString(R.string.Animal);\n                tv.setText(animalString);\n                if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.HONEYCOMB) {\n                    tts.speak(greenString, TextToSpeech.QUEUE_FLUSH, null);\n                    tts.setOnUtteranceCompletedListener(new TextToSpeech.OnUtteranceCompletedListener()\n                    {\n                        @Override\n                        public void onUtteranceCompleted(String utteranceId)\n                        {\n                            sound.start();\n                        }\n                    });\n\n                } else {\n                    tts.speak(greenString, TextToSpeech.QUEUE_FLUSH, null, null);\n                    if (Build.VERSION.SDK_INT &gt;= 15) {\n                        tts.setOnUtteranceProgressListener(new UtteranceProgressListener() {\n                            @Override\n                            public void onDone(String utteranceId) {\n\n                                sound.start();\n\n                            }\n\n                            @Override\n                            public void onError(String utteranceId) {\n                            }\n\n                            @Override\n                            public void onStart(String utteranceId) {\n                            }\n                        });\n\n                    }\n</code></pre>\n"}, {"tags": ["java", "scala", "akka", "actor"], "comments": [{"owner": {"reputation": 1178, "user_id": 1548679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a74e2ea06280a5e54c9c40c341e6088?s=128&d=identicon&r=PG", "display_name": "sascha10000", "link": "https://stackoverflow.com/users/1548679/sascha10000"}, "edited": false, "score": 0, "creation_date": 1470264289, "post_id": 38753379, "comment_id": 64883412, "body": "Why aren&#39;t you prefiltering and only passing the latest values instead? Maybe an example would help to understand your use-case. I don&#39;t see the reason for the subtopics?"}, {"owner": {"reputation": 9, "user_id": 6674203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9e7a856d705461232dd6b6c701c52b6?s=128&d=identicon&r=PG&f=1", "display_name": "sdfdfjndfsd", "link": "https://stackoverflow.com/users/6674203/sdfdfjndfsd"}, "reply_to_user": {"reputation": 1178, "user_id": 1548679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a74e2ea06280a5e54c9c40c341e6088?s=128&d=identicon&r=PG", "display_name": "sascha10000", "link": "https://stackoverflow.com/users/1548679/sascha10000"}, "edited": false, "score": 0, "creation_date": 1470292265, "post_id": 38753379, "comment_id": 64892028, "body": "The application is in HFT domain and the input is a stream of market tickers, The idea is that, after you&#39;ve processed the freshest ticker, there&#39;s no point in processing outdated market data. So the &quot;topics&quot; or &quot;keys&quot; would be ticker symbols and the values would be their prices."}, {"owner": {"reputation": 1178, "user_id": 1548679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a74e2ea06280a5e54c9c40c341e6088?s=128&d=identicon&r=PG", "display_name": "sascha10000", "link": "https://stackoverflow.com/users/1548679/sascha10000"}, "edited": false, "score": 0, "creation_date": 1470318995, "post_id": 38753379, "comment_id": 64909930, "body": "Okay therefore, I would preprocess the stream maybe via akka-streams and then only send the &quot;actual&quot; tickinfos to a BalancingPool if the handling for the key:value pairs are equal. Otherwise if you have more than 1 Actor implemented you can first filter the stream and then decide which Actor it should handle. Basically I would even build an Actor system the RootActor/s handle the filtering and then will send it to the according  child for furhter operations. The should do &quot;one&quot; thing and that very good."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 6674203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9e7a856d705461232dd6b6c701c52b6?s=128&d=identicon&r=PG&f=1", "display_name": "sdfdfjndfsd", "link": "https://stackoverflow.com/users/6674203/sdfdfjndfsd"}, "edited": false, "score": 0, "creation_date": 1470292689, "post_id": 38757318, "comment_id": 64892217, "body": "I thought of this approach, but wouldn&#39;t it be slow? I would need a shared variable across all actor instances, which would force me to use synchronization/atomic values. I&#39;m pretty new to Akka and don&#39;t understand everything perfectly. Also I need the messages to be &quot;unique&quot; only between some set (more explanations in a comment to the question), not across the whole stream. I could try modifying this approach by having a shared Map of versions, but it would a) slow everything down b) require some mechanism to evict old keys."}, {"owner": {"reputation": 15219, "user_id": 1272950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O1MQy.jpg?s=128&g=1", "display_name": "y\u01dds\u029e\u01ddla", "link": "https://stackoverflow.com/users/1272950/y%c7%9ds%ca%9e%c7%9dla"}, "reply_to_user": {"reputation": 9, "user_id": 6674203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9e7a856d705461232dd6b6c701c52b6?s=128&d=identicon&r=PG&f=1", "display_name": "sdfdfjndfsd", "link": "https://stackoverflow.com/users/6674203/sdfdfjndfsd"}, "edited": false, "score": 0, "creation_date": 1470293270, "post_id": 38757318, "comment_id": 64892517, "body": "There should be no shared variables. You need to create an actor per key. Ignoring messages will be cheap. Mutable state that represents latest seen version of a message is safely encapsulated within an actor. Should work very well for millions of actors per JVM"}, {"owner": {"reputation": 9, "user_id": 6674203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9e7a856d705461232dd6b6c701c52b6?s=128&d=identicon&r=PG&f=1", "display_name": "sdfdfjndfsd", "link": "https://stackoverflow.com/users/6674203/sdfdfjndfsd"}, "edited": false, "score": 0, "creation_date": 1470345891, "post_id": 38757318, "comment_id": 64926723, "body": "But how do I ensure that future messages will get routed to the same destination actor? By writing a custom router?"}, {"owner": {"reputation": 15219, "user_id": 1272950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O1MQy.jpg?s=128&g=1", "display_name": "y\u01dds\u029e\u01ddla", "link": "https://stackoverflow.com/users/1272950/y%c7%9ds%ca%9e%c7%9dla"}, "reply_to_user": {"reputation": 9, "user_id": 6674203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9e7a856d705461232dd6b6c701c52b6?s=128&d=identicon&r=PG&f=1", "display_name": "sdfdfjndfsd", "link": "https://stackoverflow.com/users/6674203/sdfdfjndfsd"}, "edited": false, "score": 0, "creation_date": 1470355347, "post_id": 38757318, "comment_id": 64929577, "body": "You can either maintain a map from key to an actor or create actor with key name and get actor by name"}], "tags": [], "owner": {"reputation": 15219, "user_id": 1272950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O1MQy.jpg?s=128&g=1", "display_name": "y\u01dds\u029e\u01ddla", "link": "https://stackoverflow.com/users/1272950/y%c7%9ds%ca%9e%c7%9dla"}, "is_accepted": false, "score": 0, "last_activity_date": 1470276395, "last_edit_date": 1470276395, "creation_date": 1470275956, "answer_id": 38757318, "question_id": 38753379, "link": "https://stackoverflow.com/questions/38753379/make-akka-messages-unique-versioned-by-some-attribute/38757318#38757318", "title": "Make Akka messages unique/versioned by some attribute", "body": "<p>I think what you need is a priority mailbox, where the newer messages have higher priority. Take a look at default implementation of <a href=\"http://doc.akka.io/docs/akka/current/scala/mailboxes.html#PriorityMailbox\" rel=\"nofollow\">PriorityMailbox</a>.</p>\n\n<p>It might look something like this (based on the example from the docs):</p>\n\n<pre><code>import akka.dispatch.PriorityGenerator\nimport akka.dispatch.UnboundedStablePriorityMailbox\nimport com.typesafe.config.Config\n\ntype Version = // Long, Date, Timestamp, smth else - must be ordered\ncase class MyMessage(key: String, value: String, version: Version)\n\nclass MyPrioMailbox(settings: ActorSystem.Settings, config: Config)\n  extends UnboundedStablePriorityMailbox(\n    // Create a new PriorityGenerator, lower prio means more important\n    PriorityGenerator {\n      case MyMessage(_, _, version) =&gt; versionToInt(version)\n\n      // PoisonPill when no other left\n      case PoisonPill    =&gt; 1 // or  Int.MaxValue - 2\n\n      // We default to 1, which is in between high and low\n      case otherwise     =&gt; 0 // or Int.MaxValue - 1\n    })\n</code></pre>\n\n<p>Here <code>versionToInt</code> should return some <code>Int</code> value that is lower for newer versions of messages (higher priority), say in <code>2 - Inf</code> range.</p>\n\n<p>Afterwards you can keep track of highest version processed in your actor and drop all other messages that are older than that version. Either use <code>become</code> or just a <code>var</code> in your actor for that.</p>\n\n<p>It's worth mentioning that the order of sent messages will be guaranteed by Akka, but eventually it will depend on the sender in which order it emits them and the delays in between, which would affect which messages will get processed.</p>\n"}], "owner": {"reputation": 9, "user_id": 6674203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9e7a856d705461232dd6b6c701c52b6?s=128&d=identicon&r=PG&f=1", "display_name": "sdfdfjndfsd", "link": "https://stackoverflow.com/users/6674203/sdfdfjndfsd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1470276395, "creation_date": 1470257438, "last_edit_date": 1470276287, "question_id": 38753379, "link": "https://stackoverflow.com/questions/38753379/make-akka-messages-unique-versioned-by-some-attribute", "title": "Make Akka messages unique/versioned by some attribute", "body": "<p>I have the following use case:</p>\n\n<p>An actor consumes data from some external source, which consists of <code>key:value</code> pairs. Then they're passed to an actor that must perform some actions on <code>key</code> and the latest <code>value</code>, skipping the older ones. Basically I'm seeking to split the mailbox into \"subtopics\" with capacity of 1.\nIs such thing possible with Akka at all? If not, what alternatives to it should I consider?</p>\n"}, {"tags": ["java", "android", "google-maps"], "comments": [{"owner": {"reputation": 4912, "user_id": 3307720, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/a9af81f6e3d88cba98772f0419f85214?s=128&d=identicon&r=PG&f=1", "display_name": "nasch", "link": "https://stackoverflow.com/users/3307720/nasch"}, "edited": false, "score": 0, "creation_date": 1470316543, "post_id": 38753339, "comment_id": 64907919, "body": "Show the code around where you&#39;re displaying the info window."}, {"owner": {"reputation": 17, "user_id": 6432733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed7637748ad13b21e21321dbd3195f32?s=128&d=identicon&r=PG&f=1", "display_name": "Abi K", "link": "https://stackoverflow.com/users/6432733/abi-k"}, "reply_to_user": {"reputation": 4912, "user_id": 3307720, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/a9af81f6e3d88cba98772f0419f85214?s=128&d=identicon&r=PG&f=1", "display_name": "nasch", "link": "https://stackoverflow.com/users/3307720/nasch"}, "edited": false, "score": 0, "creation_date": 1471624043, "post_id": 38753339, "comment_id": 65437157, "body": "above i put my code"}, {"owner": {"reputation": 4912, "user_id": 3307720, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/a9af81f6e3d88cba98772f0419f85214?s=128&d=identicon&r=PG&f=1", "display_name": "nasch", "link": "https://stackoverflow.com/users/3307720/nasch"}, "edited": false, "score": 0, "creation_date": 1471637373, "post_id": 38753339, "comment_id": 65443826, "body": "It seems it is not possible to show multiple info windows at once.  This answer has a possible workaround: <a href=\"http://stackoverflow.com/questions/32984118/show-info-window-on-every-marker-at-a-time\" title=\"show info window on every marker at a time\">stackoverflow.com/questions/32984118/&hellip;</a>"}], "owner": {"reputation": 17, "user_id": 6432733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed7637748ad13b21e21321dbd3195f32?s=128&d=identicon&r=PG&f=1", "display_name": "Abi K", "link": "https://stackoverflow.com/users/6432733/abi-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1802, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1471556702, "creation_date": 1470257301, "last_edit_date": 1471556702, "question_id": 38753339, "link": "https://stackoverflow.com/questions/38753339/how-to-make-maps-marker-title-always-visible-for-all-showing-places", "title": "How to make maps marker title always visible for all showing places?", "body": "<p>i used marker.showInfoWindow(); it display one place title but i want display title all showing possible. <a href=\"http://i.stack.imgur.com/HyvEZ.jpg\" rel=\"nofollow\">enter image description here</a></p>\n\n<p>public void onMapReady(GoogleMap map) {\n        // map.setMapType(GoogleMap.MAP_TYPE_NORMAL);</p>\n\n<pre><code>        map.setMapType(GoogleMap.MAP_TYPE_TERRAIN);\n\n    for(int i=0;i&lt;arraylocation.size();i++) {\n        String ab=arraylocation.get(i);\n        StringTokenizer str=new StringTokenizer(ab,\"&gt;&gt;\");\n        String pic=str.nextToken();\n        String a=str.nextToken();\n        String b=str.nextToken();\n        String Value3 = str.hasMoreTokens() ? str.nextToken() : null;\n        String c=null;\n        if(Value3 !=null &amp;&amp; Value3.length()&gt;0) {\n            c = Value3;\n        }else\n        {\n            c=\" \";\n        }\n\n        Bitmap icon = BitmapFactory.decodeResource(context.getResources(),\n                R.drawable.lat);\n        if(strLoc.contentEquals(\"1\"))\n        {\n            URL url = null;\n            try {\n                url = new URL(pic);\n            } catch (MalformedURLException e) {\n                e.printStackTrace();\n            }\n            try {\n                icon = BitmapFactory.decodeStream(url.openConnection().getInputStream());\n            } catch (MalformedURLException e) {\n                e.printStackTrace();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n\n            map.moveCamera(CameraUpdateFactory.newLatLngZoom(\n                    new LatLng(Double.parseDouble(a), Double.parseDouble(b)), 16));\n            marker=map.addMarker(new MarkerOptions()\n                    .icon(BitmapDescriptorFactory.fromBitmap(getCircleBitmap(icon)))\n                    .anchor(0.0f, 1.0f) // Anchors the marker on the bottom left\n                    .position(new LatLng(Double.parseDouble(a), Double.parseDouble(b))).title(c));\n      marker.showInfoWindow();\n        }else {\n\n\n            map.moveCamera(CameraUpdateFactory.newLatLngZoom(\n                    new LatLng(Double.parseDouble(a), Double.parseDouble(b)), 3));\n\n marker=  map.addMarker(new MarkerOptions()\n                    .icon(BitmapDescriptorFactory.fromBitmap(icon))\n                    .anchor(0.0f, 1.0f) // Anchors the marker on the bottom left\n                    .position(new LatLng(Double.parseDouble(a), Double.parseDouble(b))).title(c));\n</code></pre>\n\n<p>marker.showInfoWindow();\n            }</p>\n"}, {"tags": ["java", "lucene", "derby"], "comments": [{"owner": {"reputation": 809, "user_id": 2925985, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kevlx.png?s=128&g=1", "display_name": "Susannah Potts", "link": "https://stackoverflow.com/users/2925985/susannah-potts"}, "edited": false, "score": 0, "creation_date": 1470257501, "post_id": 38753324, "comment_id": 64880657, "body": "Without access to source code to make changes, I&#39;m not sure there is much that can be done.  If the internal structure of the program was understood there might be some syntax changes that could be made to speed up the search, but that is a big might."}, {"owner": {"reputation": 15375, "user_id": 193453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc77f0d4e25a0f95d90a768aeb0a8517?s=128&d=identicon&r=PG", "display_name": "Bryan Pendleton", "link": "https://stackoverflow.com/users/193453/bryan-pendleton"}, "edited": false, "score": 0, "creation_date": 1470268516, "post_id": 38753324, "comment_id": 64884540, "body": "Are you saying that in the query <code>guid: ( g1 or g2 )</code>, you are trying to list 100,000 separate guids, all OR&#39;d together?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5245950"}, "reply_to_user": {"reputation": 15375, "user_id": 193453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc77f0d4e25a0f95d90a768aeb0a8517?s=128&d=identicon&r=PG", "display_name": "Bryan Pendleton", "link": "https://stackoverflow.com/users/193453/bryan-pendleton"}, "edited": false, "score": 0, "creation_date": 1470269427, "post_id": 38753324, "comment_id": 64884759, "body": "@Bryan Pendleton: Yes, my query will have 100,000 separate guids, all OR&#39;ed together."}, {"owner": {"reputation": 8298, "user_id": 2663985, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/531b51e8cd1cf8655256f3e913ed9eef?s=128&d=identicon&r=PG&f=1", "display_name": "Mysterion", "link": "https://stackoverflow.com/users/2663985/mysterion"}, "edited": false, "score": 0, "creation_date": 1470297603, "post_id": 38753324, "comment_id": 64895143, "body": "@Joe, of course this will be terribly slow, if you will enter 100.000 ORs together, no way you could change the speed in this case."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5245950"}, "reply_to_user": {"reputation": 8298, "user_id": 2663985, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/531b51e8cd1cf8655256f3e913ed9eef?s=128&d=identicon&r=PG&f=1", "display_name": "Mysterion", "link": "https://stackoverflow.com/users/2663985/mysterion"}, "edited": false, "score": 0, "creation_date": 1470329708, "post_id": 38753324, "comment_id": 64918003, "body": "@Mysterion: I see...thank you for the input"}], "owner": {"user_type": "does_not_exist", "display_name": "user5245950"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1470257253, "creation_date": 1470257253, "question_id": 38753324, "link": "https://stackoverflow.com/questions/38753324/searching-large-number-of-arguments-java-derby-lucene", "title": "Searching Large number of Arguments (Java/Derby/Lucene)", "body": "<p>I have a Java application (developed by a third party, I do not have the source code) which I know is using Derby databases and Lucene indexing.</p>\n\n<p>The application UI allows searching; for example, the following syntax is allowed:</p>\n\n<pre><code>guid: (5ec3419a-1cfa-4e65-9c3d-617134c22ccb OR  b804abcb-2e01-48ec-8220-98c9e4778737)\n</code></pre>\n\n<p>A similar search works fast if the number of listed guids is lower than 25,000-30,000. However, everything greater than 100,000 takes more than 2 days to complete.</p>\n\n<p>Any starting point on how to improve the search performances? We do not have dev support for the Java application anymore.</p>\n"}, {"tags": ["java", "ignite"], "comments": [{"owner": {"reputation": 7955, "user_id": 1832193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7886121f315ae5348033e4b7b643c09d?s=128&d=identicon&r=PG", "display_name": "Valentin Kulichenko", "link": "https://stackoverflow.com/users/1832193/valentin-kulichenko"}, "edited": false, "score": 0, "creation_date": 1470803790, "post_id": 38753264, "comment_id": 65091744, "body": "Are you sure that server nodes actually discover each other? Can you somewhere upload the logs from all the nodes?"}, {"owner": {"reputation": 3691, "user_id": 2744726, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4ed08ae27f3c9fd48e9645a5b24d60ef?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Bribiescas", "link": "https://stackoverflow.com/users/2744726/carlos-bribiescas"}, "reply_to_user": {"reputation": 7955, "user_id": 1832193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7886121f315ae5348033e4b7b643c09d?s=128&d=identicon&r=PG", "display_name": "Valentin Kulichenko", "link": "https://stackoverflow.com/users/1832193/valentin-kulichenko"}, "edited": false, "score": 0, "creation_date": 1470836549, "post_id": 38753264, "comment_id": 65111613, "body": "It happens before nodes discover each other and its starting up.  At least it happens before you see the topology update in the console.  I&#39;ll get logs for them sometime today."}], "answers": [{"comments": [{"owner": {"reputation": 3691, "user_id": 2744726, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4ed08ae27f3c9fd48e9645a5b24d60ef?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Bribiescas", "link": "https://stackoverflow.com/users/2744726/carlos-bribiescas"}, "edited": false, "score": 0, "creation_date": 1471274338, "post_id": 38932693, "comment_id": 65270001, "body": "Sorry I missed responding to your answer BEFORE the bounty expired.  Thanks!"}], "tags": [], "owner": {"reputation": 29117, "user_id": 1587329, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/UWmiP.png?s=128&g=1", "display_name": "serv-inc", "link": "https://stackoverflow.com/users/1587329/serv-inc"}, "is_accepted": true, "score": 4, "last_activity_date": 1471091006, "creation_date": 1471091006, "answer_id": 38932693, "question_id": 38753264, "link": "https://stackoverflow.com/questions/38753264/apache-ignite-availability-issue-w-custom-cachestoreadapter/38932693#38932693", "title": "Apache Ignite Availability Issue w/Custom CacheStoreAdapter", "body": "<p><a href=\"http://apache-ignite-users.70518.x6.nabble.com/Ignite-cluster-recovery-after-network-partition-td2775.html\" rel=\"nofollow\">http://apache-ignite-users.70518.x6.nabble.com/Ignite-cluster-recovery-after-network-partition-td2775.html</a> stresses that the <a href=\"https://ignite.apache.org/releases/mobile/org/apache/ignite/IgniteClientDisconnectedException.html\" rel=\"nofollow\"><code>IgniteClientDisconnectedException</code></a> provides a <a href=\"https://ignite.apache.org/releases/mobile/org/apache/ignite/lang/IgniteFuture.html\" rel=\"nofollow\"><code>IgniteFuture</code></a> that can be accessed by calling</p>\n\n<pre><code>IgniteFuture f = myException.reconnectFuture();\n</code></pre>\n\n<p>That future has a <a href=\"https://ignite.apache.org/releases/mobile/org/apache/ignite/lang/IgniteFuture.html#get()\" rel=\"nofollow\"><code>get()</code></a>-method, which waits for the node to reconnect:</p>\n\n<blockquote>\n  <p>Synchronously waits for completion of the computation and returns computation result.</p>\n</blockquote>\n\n<p>Thus, the following should finish when the client has reconnected:</p>\n\n<pre><code>f.get();\n</code></pre>\n"}], "owner": {"reputation": 3691, "user_id": 2744726, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4ed08ae27f3c9fd48e9645a5b24d60ef?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Bribiescas", "link": "https://stackoverflow.com/users/2744726/carlos-bribiescas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 675, "favorite_count": 1, "accepted_answer_id": 38932693, "answer_count": 1, "score": 9, "last_activity_date": 1530880187, "creation_date": 1470257006, "last_edit_date": 1470258063, "question_id": 38753264, "link": "https://stackoverflow.com/questions/38753264/apache-ignite-availability-issue-w-custom-cachestoreadapter", "title": "Apache Ignite Availability Issue w/Custom CacheStoreAdapter", "body": "<p>I'm doing a PoC using apache ignite.  Here is the scenario I'm testing:</p>\n\n<ol>\n<li>Start a cluster of 3 nodes and a client.</li>\n<li>Call get <em>key</em>.  I log on node that caches this <em>key</em>.</li>\n<li>Call get <em>key</em>.  I verify it gets stored value.</li>\n<li>Do a loadCache().  All nodes report successfully Loading cache.</li>\n<li>Kill node that originally loaded <em>key</em></li>\n<li><strong>Restart node that I just killed.</strong></li>\n<li><strong>Query for <em>key</em> again.</strong></li>\n</ol>\n\n<p>Steps 6 and 7 have some trouble.  If I wait <em>Long enough</em> between the two everything works as it should.  However if try to do 6 and 7 too close together then I get <a href=\"http://pastebin.com/h0mnmWQ3\">this error on the client</a> and <a href=\"http://pastebin.com/hmFmU6z6\">this error on the node</a>.  </p>\n\n<p>I see the error <code>IgniteClientDisconnectedException: Failed to wait for topology update, client disconnected.</code>  However is there a way to avoid this issue?  Setting a longer time to wait for a topology update isn't really an option because a client may try to connect at any time.  Is it to do with my cluster configuration?  I saw <a href=\"http://apacheignite.gridgain.org/docs/clients-vs-servers\">this documentation</a> which suggests infinitely trying to connect which seems like it would just keep erring.</p>\n\n<p>Also, we would need to be able to dynamically grow/shrink the cluster.  Is this possible?  Would having in memory backups fix the functionality?</p>\n\n<p>Note, if I omit step 6 I've not seen it fail.</p>\n\n<p>Cluster Node Config</p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"\n       http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n    &lt;!--&lt;import resource=\"./cache.xml\"/&gt;--&gt;\n    &lt;bean id=\"grid.cfg\" class=\"org.apache.ignite.configuration.IgniteConfiguration\"&gt;\n        &lt;property name=\"peerClassLoadingEnabled\" value=\"true\"/&gt;\n\n        &lt;property name=\"cacheConfiguration\"&gt;\n            &lt;bean class=\"org.apache.ignite.configuration.CacheConfiguration\"&gt;\n                &lt;!-- Set a cache name. --&gt;\n                &lt;property name=\"name\" value=\"recordData\"/&gt;\n                &lt;!--&lt;property name=\"rebalanceMode\" value=\"SYNC\"/&gt;--&gt;\n                &lt;!-- Set cache mode. --&gt;\n                &lt;property name=\"cacheMode\" value=\"PARTITIONED\"/&gt;\n\n                &lt;property name=\"cacheStoreFactory\"&gt;\n                    &lt;bean class=\"javax.cache.configuration.FactoryBuilder\" factory-method=\"factoryOf\"&gt;\n                        &lt;constructor-arg value=\"Application.RecordDataStore\"/&gt;\n                    &lt;/bean&gt;\n                &lt;/property&gt;\n                &lt;property name=\"readThrough\" value=\"true\"/&gt;\n                &lt;property name=\"writeThrough\"  value=\"true\"/&gt;\n\n            &lt;/bean&gt;\n        &lt;/property&gt;\n\n        &lt;property name=\"discoverySpi\"&gt;\n            &lt;bean class=\"org.apache.ignite.spi.discovery.tcp.TcpDiscoverySpi\"&gt;\n                &lt;!-- Override local port. --&gt;\n                &lt;property name=\"localPort\" value=\"8000\"/&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt;\n\n        &lt;property name=\"communicationSpi\"&gt;\n            &lt;bean class=\"org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi\"&gt;\n                &lt;!-- Override local port. --&gt;\n                &lt;property name=\"localPort\" value=\"8100\"/&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>Client Config</p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:util=\"http://www.springframework.org/schema/util\"\n       xsi:schemaLocation=\"\n        http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/util\n        http://www.springframework.org/schema/util/spring-util.xsd\"&gt;\n    &lt;bean abstract=\"true\" id=\"ignite.cfg\" class=\"org.apache.ignite.configuration.IgniteConfiguration\"&gt;\n        &lt;!-- Set to true to enable distributed class loading for examples, default is false. --&gt;\n        &lt;property name=\"peerClassLoadingEnabled\" value=\"true\"/&gt;\n        &lt;property name=\"clientMode\" value=\"true\"/&gt;\n\n        &lt;property name=\"cacheConfiguration\"&gt;\n            &lt;bean class=\"org.apache.ignite.configuration.CacheConfiguration\"&gt;\n                &lt;!-- Set a cache name. --&gt;\n                &lt;property name=\"name\" value=\"recordData\"/&gt;\n                &lt;!--&lt;property name=\"rebalanceMode\" value=\"SYNC\"/&gt;--&gt;\n\n                &lt;!-- Set cache mode. --&gt;\n                &lt;property name=\"cacheMode\" value=\"PARTITIONED\"/&gt;\n\n                &lt;property name=\"cacheStoreFactory\"&gt;\n                    &lt;bean class=\"javax.cache.configuration.FactoryBuilder\" factory-method=\"factoryOf\"&gt;\n                        &lt;constructor-arg value=\"com.digitaslbi.idiom.util.RecordDataStore\"/&gt;\n                    &lt;/bean&gt;\n                &lt;/property&gt;\n                &lt;property name=\"readThrough\" value=\"true\"/&gt;\n                &lt;property name=\"writeThrough\"  value=\"true\"/&gt;\n\n            &lt;/bean&gt;\n        &lt;/property&gt;\n\n        &lt;!-- Enable task execution events for examples. --&gt;\n        &lt;property name=\"includeEventTypes\"&gt;\n            &lt;list&gt;\n                &lt;!--Task execution events--&gt;\n                &lt;util:constant static-field=\"org.apache.ignite.events.EventType.EVT_TASK_STARTED\"/&gt;\n                &lt;util:constant static-field=\"org.apache.ignite.events.EventType.EVT_TASK_FINISHED\"/&gt;\n                &lt;util:constant static-field=\"org.apache.ignite.events.EventType.EVT_TASK_FAILED\"/&gt;\n                &lt;util:constant static-field=\"org.apache.ignite.events.EventType.EVT_TASK_TIMEDOUT\"/&gt;\n                &lt;util:constant static-field=\"org.apache.ignite.events.EventType.EVT_TASK_SESSION_ATTR_SET\"/&gt;\n                &lt;util:constant static-field=\"org.apache.ignite.events.EventType.EVT_TASK_REDUCED\"/&gt;\n                &lt;!--Cache events--&gt;\n                &lt;util:constant static-field=\"org.apache.ignite.events.EventType.EVT_CACHE_OBJECT_PUT\"/&gt;\n                &lt;util:constant static-field=\"org.apache.ignite.events.EventType.EVT_CACHE_OBJECT_READ\"/&gt;\n                &lt;util:constant static-field=\"org.apache.ignite.events.EventType.EVT_CACHE_OBJECT_REMOVED\"/&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n\n        &lt;!-- Explicitly configure TCP discovery SPI to provide list of initial nodes. --&gt;\n        &lt;property name=\"discoverySpi\"&gt;\n            &lt;bean class=\"org.apache.ignite.spi.discovery.tcp.TcpDiscoverySpi\"&gt;\n                &lt;property name=\"ipFinder\"&gt;\n                    &lt;!--\n                        Ignite provides several options for automatic discovery that can be used\n                        instead os static IP based discovery. For information on all options refer\n                        to our documentation: http://apacheignite.readme.io/docs/cluster-config\n                    --&gt;\n                    &lt;!-- Uncomment static IP finder to enable static-based discovery of initial nodes. --&gt;\n                    &lt;!--&lt;bean class=\"org.apache.ignite.spi.discovery.tcp.ipfinder.vm.TcpDiscoveryVmIpFinder\"&gt;--&gt;\n                    &lt;bean class=\"org.apache.ignite.spi.discovery.tcp.ipfinder.vm.TcpDiscoveryVmIpFinder\"&gt;\n                        &lt;property name=\"addresses\"&gt;\n                            &lt;list&gt;\n                                &lt;!-- In distributed environment, replace with actual host IP address. --&gt;\n                                &lt;value&gt;localhost:8000..8099&lt;/value&gt;\n                                &lt;!--&lt;value&gt;127.0.0.1:47500..47509&lt;/value&gt;--&gt;\n                            &lt;/list&gt;\n                        &lt;/property&gt;\n                    &lt;/bean&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>Implemented methods of CacheStoreAdaptor</p>\n\n<pre><code>public class RecordDataStore extends CacheStoreAdapter&lt;Long, List&lt;Record&gt;&gt; {\n\n  // This method is called whenever \"get(...)\" methods are called on IgniteCache.\n    @Override public List&lt;Record&gt; load(Long key) {\n        System.out.println(\"Load data for pel: \" + key);\n        try {\n            CouchDbConnector db = RecordDataStore.getDb();\n            ViewQuery viewQuery = new ViewQuery().designDocId(\"_design/docs\").viewName(\"all\");\n            List&lt;Record&gt; list = db.queryView(viewQuery,Record.class);\n            HashMultimap&lt;Long,Record&gt; multimap = HashMultimap.create();\n\n            list.forEach(r -&gt; {\n                multimap.put(r.getId(),r);\n            });\n            return new LinkedList&lt;&gt;(multimap.get(key));\n        } catch (MalformedURLException e) {\n            throw new CacheLoaderException(\"Failed to load values from cache store.\", e);\n        }\n    }\n    ....\n    @Override public void loadCache(IgniteBiInClosure&lt;Long, List&lt;Record&gt;&gt; clo, Object... args) {\n        if (args == null || args.length == 0 || args[0] == null) {\n            throw new CacheLoaderException(\"Expected entry count parameter is not provided.\");\n        }\n\n        System.out.println(\"Loading Cache...\");\n        final long entryCnt = (Long)args[0];\n\n        try{\n            CouchDbConnector db = RecordDataStore.getDb();\n            ViewQuery viewQuery = new ViewQuery().designDocId(\"_design/docs\").viewName(\"all\");\n            List&lt;Record&gt; list = db.queryView(viewQuery,Record.class);\n            HashMultimap&lt;Long,Record&gt; multimap = HashMultimap.create();\n\n            long count = 0;\n            for(Record r : list) {\n                multimap.put(r.getPel(),r);\n                count++;\n                if(count == entryCnt)\n                    break;\n            }\n\n            multimap.keySet().forEach(key -&gt; {\n                clo.apply(key,new LinkedList&lt;&gt;(multimap.get(key)));\n            });\n        }\n        catch (MalformedURLException e) {\n            throw new CacheLoaderException(\"Failed to load values from cache store.\", e);\n        }\n\n        System.out.println(\"Loaded Cache\");\n    }\n\n    public static CouchDbConnector getDb() throws MalformedURLException {\n        HttpClient httpClient = new StdHttpClient.Builder()\n            .url(\"server:1111/\")\n            .build();\n\n        CouchDbInstance dbInstance = new StdCouchDbInstance(httpClient);\n        CouchDbConnector db = new StdCouchDbConnector(\"ignite\", dbInstance);\n\n        return db;\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "multithreading", "memory-leaks", "spring-boot", "cloud-foundry"], "comments": [{"owner": {"reputation": 5537, "user_id": 3059893, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/fUOFo.png?s=128&g=1", "display_name": "JavaHopper", "link": "https://stackoverflow.com/users/3059893/javahopper"}, "edited": false, "score": 0, "creation_date": 1470259494, "post_id": 38753203, "comment_id": 64881570, "body": "take a look at this post <a href=\"http://stackoverflow.com/questions/65668/why-to-use-stringbuffer-in-java-instead-of-the-string-concatenation-operator\" title=\"why to use stringbuffer in java instead of the string concatenation operator\">stackoverflow.com/questions/65668/&hellip;</a> and also <a href=\"http://stackoverflow.com/questions/18406703/when-will-a-string-be-garbage-collected-in-java\" title=\"when will a string be garbage collected in java\">stackoverflow.com/questions/18406703/&hellip;</a>"}, {"owner": {"reputation": 26764, "user_id": 144746, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/170e317e1e3d42b520786bcec9dfb409?s=128&d=identicon&r=PG", "display_name": "Voo", "link": "https://stackoverflow.com/users/144746/voo"}, "edited": false, "score": 0, "creation_date": 1470308277, "post_id": 38753203, "comment_id": 64902332, "body": "Clearly the string vs strong builder issue has nothing to do with whether you get a memory leak or not. How do you know you&#39;re having a leak to begin with? If the method is called too often before previous iterations finish you&#39;ll run out of memory. on the other hand if you still have free memory there&#39;s no reason to start a GC collection even if some objects would be collectable. This doesn&#39;t look like there&#39;s a memory leak anywhere."}, {"owner": {"reputation": 11, "user_id": 5748542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27604ad888273ab4e6e41e467f0ddf48?s=128&d=identicon&r=PG&f=1", "display_name": "K. Ure", "link": "https://stackoverflow.com/users/5748542/k-ure"}, "reply_to_user": {"reputation": 26764, "user_id": 144746, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/170e317e1e3d42b520786bcec9dfb409?s=128&d=identicon&r=PG", "display_name": "Voo", "link": "https://stackoverflow.com/users/144746/voo"}, "edited": false, "score": 0, "creation_date": 1470315700, "post_id": 38753203, "comment_id": 64907266, "body": "@Voo If i run the application PCF reports about 400mb memory used. if i tell it to spin up a couple thousand threads the memory usage goes up to 450mb. If i check on it a few hours later its still at 450mb"}, {"owner": {"reputation": 26764, "user_id": 144746, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/170e317e1e3d42b520786bcec9dfb409?s=128&d=identicon&r=PG", "display_name": "Voo", "link": "https://stackoverflow.com/users/144746/voo"}, "edited": false, "score": 0, "creation_date": 1470318768, "post_id": 38753203, "comment_id": 64909756, "body": "That&#39;s not necessarily a memory leak, that&#39;s just the GC deciding that it doesn&#39;t collect any memory if there&#39;s no memory pressure."}, {"owner": {"reputation": 11, "user_id": 5748542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27604ad888273ab4e6e41e467f0ddf48?s=128&d=identicon&r=PG&f=1", "display_name": "K. Ure", "link": "https://stackoverflow.com/users/5748542/k-ure"}, "reply_to_user": {"reputation": 26764, "user_id": 144746, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/170e317e1e3d42b520786bcec9dfb409?s=128&d=identicon&r=PG", "display_name": "Voo", "link": "https://stackoverflow.com/users/144746/voo"}, "edited": false, "score": 0, "creation_date": 1470321418, "post_id": 38753203, "comment_id": 64911997, "body": "@Voo interesting, so the GC is lazy in java? I come from .NET land where i&#39;ve never seen this behavior. do you have any links that detail Java&#39;s GC&#39;s behavior that you think do a good job of explaining it, or should i just dig into the oracle stuff?"}, {"owner": {"reputation": 26764, "user_id": 144746, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/170e317e1e3d42b520786bcec9dfb409?s=128&d=identicon&r=PG", "display_name": "Voo", "link": "https://stackoverflow.com/users/144746/voo"}, "edited": false, "score": 0, "creation_date": 1470321805, "post_id": 38753203, "comment_id": 64912312, "body": "@Kure The .NET GC doesn&#39;t give any more guarantees than the HotSpot GCs do. Any modern GC that isn&#39;t ref counted is &quot;lazy&quot; to some degree. The idea is simple: Garbage collection costs time, so if you have enough free memory there&#39;s no reason to do one. you also have to be careful what you&#39;re measuring: HotSpot won&#39;t give memory back to the OS so the memory allocated to the process will never go down (the CLR on the other hand does). you can use eg visualvm to see whether you have an actual memory leak by forcing a full GC."}, {"owner": {"reputation": 37604, "user_id": 192444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/caa09b52f2616de4fd1a6ffcc65a5859?s=128&d=identicon&r=PG", "display_name": "John Vint", "link": "https://stackoverflow.com/users/192444/john-vint"}, "edited": false, "score": 0, "creation_date": 1470334049, "post_id": 38753203, "comment_id": 64920393, "body": "What type of OOM error are you getting? Can you link the stacktrace you receive? Or are you not running out of memory (just yet) but you&#39;re curious?"}, {"owner": {"reputation": 11, "user_id": 5748542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27604ad888273ab4e6e41e467f0ddf48?s=128&d=identicon&r=PG&f=1", "display_name": "K. Ure", "link": "https://stackoverflow.com/users/5748542/k-ure"}, "reply_to_user": {"reputation": 37604, "user_id": 192444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/caa09b52f2616de4fd1a6ffcc65a5859?s=128&d=identicon&r=PG", "display_name": "John Vint", "link": "https://stackoverflow.com/users/192444/john-vint"}, "edited": false, "score": 0, "creation_date": 1470343939, "post_id": 38753203, "comment_id": 64925843, "body": "@JohnVint All that PCF gives me is this: Thu Aug 04 2016 16:42:24 GMT-0400 (Eastern Daylight Time) [API] OUT App instance exited with guid 46e6d13c-5b18-44d0-b183-11dda9ad0c86 payload: {&quot;cc_partition&quot;=&gt;&quot;default&quot;, &quot;droplet&quot;=&gt;&quot;46e6d13c-5b18-44d0-b183-11dda9ad0c86&quot;, &quot;version&quot;=&gt;&quot;c4fbc295-f300-40e7-8708-eb55e170b561&quot;, &quot;instance&quot;=&gt;&quot;8127fcd1675b49b28951d30688b1e51d&quot;, &quot;index&quot;=&gt;0, &quot;reason&quot;=&gt;&quot;CRASHED&quot;, &quot;exit_status&quot;=&gt;255, &quot;exit_description&quot;=&gt;&quot;out of memory&quot;, &quot;crash_timestamp&quot;=&gt;1470343344}  Reading through the logs i only see debug output statements, and network errors right prior to crash, no OOM"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5748542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27604ad888273ab4e6e41e467f0ddf48?s=128&d=identicon&r=PG&f=1", "display_name": "K. Ure", "link": "https://stackoverflow.com/users/5748542/k-ure"}, "edited": false, "score": 0, "creation_date": 1470264895, "post_id": 38753652, "comment_id": 64883606, "body": "once the loop is over though it should finish the method, be done with spaceWaster, and dispose of the field, which it does not. StringBuilder will not make make a difference, i could replace spaceWaster with &quot;int[] spacewaster2 = new int[1000000]&quot; and the leak remains"}, {"owner": {"reputation": 26764, "user_id": 144746, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/170e317e1e3d42b520786bcec9dfb409?s=128&d=identicon&r=PG", "display_name": "Voo", "link": "https://stackoverflow.com/users/144746/voo"}, "edited": false, "score": 0, "creation_date": 1470377230, "post_id": 38753652, "comment_id": 64935190, "body": "The only strings interned in Java are literals (the &quot;W&quot; and the empty one in this case) or strings you explicitly call intern on. Everything else isn&#39;t for obvious reasons."}], "tags": [], "owner": {"reputation": 352, "user_id": 3923199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d52ca4ba1f4e586f87b28ee68bf4f14?s=128&d=identicon&r=PG&f=1", "display_name": "CSK", "link": "https://stackoverflow.com/users/3923199/csk"}, "is_accepted": false, "score": 0, "last_activity_date": 1470258468, "creation_date": 1470258468, "answer_id": 38753652, "question_id": 38753203, "link": "https://stackoverflow.com/questions/38753203/java-threading-memory-leak/38753652#38753652", "title": "Java threading memory leak", "body": "<p>it is becasue you keep adding String. Java doesn't GC String pool automatically </p>\n\n<p><a href=\"http://www.journaldev.com/797/what-is-java-string-pool\" rel=\"nofollow\">Java String Pool</a></p>\n\n<pre><code>String spaceWaster = \"\";\n            for (int i = 0; i &lt; 10000; i ++)\n                spaceWaster += \"W\";\n</code></pre>\n\n<p>use <a href=\"https://docs.oracle.com/javase/tutorial/java/data/buffers.html\" rel=\"nofollow\">StringBuilder</a> instead</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 5748542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27604ad888273ab4e6e41e467f0ddf48?s=128&d=identicon&r=PG&f=1", "display_name": "K. Ure", "link": "https://stackoverflow.com/users/5748542/k-ure"}, "edited": false, "score": 0, "creation_date": 1470332719, "post_id": 38771135, "comment_id": 64919669, "body": "i agree that threadpooling would be better than using an AtomicInteger to keep track of running thread count but i have no experience with the pool in java and am currently doing more of a PoC than working at production code. also the program is actually reading from a queue and spinning up threads to handle the queue. the whole reason that i&#39;m threading at all is because Azure Document DB (a NoSQL offering) takes an unacceptable amount of time to add a new record but scales well to multiple calls at once."}, {"owner": {"reputation": 2186, "user_id": 3644708, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/bdca60fc88122c40eeae8cf23137040b?s=128&d=identicon&r=PG&f=1", "display_name": "user3644708", "link": "https://stackoverflow.com/users/3644708/user3644708"}, "reply_to_user": {"reputation": 11, "user_id": 5748542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27604ad888273ab4e6e41e467f0ddf48?s=128&d=identicon&r=PG&f=1", "display_name": "K. Ure", "link": "https://stackoverflow.com/users/5748542/k-ure"}, "edited": false, "score": 0, "creation_date": 1470336817, "post_id": 38771135, "comment_id": 64921942, "body": "ok, I see.  depends on your string, it probably went to <code>Permanent Generation</code> directly, but not <code>eden space</code>.   you need to tuning jvm parameters"}, {"owner": {"reputation": 26764, "user_id": 144746, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/170e317e1e3d42b520786bcec9dfb409?s=128&d=identicon&r=PG", "display_name": "Voo", "link": "https://stackoverflow.com/users/144746/voo"}, "edited": false, "score": 0, "creation_date": 1470377065, "post_id": 38771135, "comment_id": 64935135, "body": "No dynamically allocated strings don&#39;t go to the permanent generation, there&#39;s absolutely no reason to tune any parameters there. Hell not even interned strings end up there any more for a while."}], "tags": [], "owner": {"reputation": 2186, "user_id": 3644708, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/bdca60fc88122c40eeae8cf23137040b?s=128&d=identicon&r=PG&f=1", "display_name": "user3644708", "link": "https://stackoverflow.com/users/3644708/user3644708"}, "is_accepted": false, "score": -1, "last_activity_date": 1470323380, "creation_date": 1470323380, "answer_id": 38771135, "question_id": 38753203, "link": "https://stackoverflow.com/questions/38753203/java-threading-memory-leak/38771135#38771135", "title": "Java threading memory leak", "body": "<p>use <code>stringbuilder</code> was correct</p>\n\n<p>don't think you need 2000 threads. </p>\n\n<p>A better design could be A <code>Queue</code> for tasks(string/docs) and a <code>thread pool</code> to process the string/docs. </p>\n"}], "owner": {"reputation": 11, "user_id": 5748542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27604ad888273ab4e6e41e467f0ddf48?s=128&d=identicon&r=PG&f=1", "display_name": "K. Ure", "link": "https://stackoverflow.com/users/5748542/k-ure"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1489, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1470332971, "creation_date": 1470256773, "last_edit_date": 1470332971, "question_id": 38753203, "link": "https://stackoverflow.com/questions/38753203/java-threading-memory-leak", "title": "Java threading memory leak", "body": "<p>I'm trying to implement multi-threading for some task parallelism in a program i am writing. The program is utilizes Spring framework and runs on Pivotal Cloud Foundry. It was crashing occasionally so i went in and viewed the logs and performance metrics; which is when i discovered it has a memory leak. after some testing i narrowed down the culprit to my threading implementation. My understanding of the GC in the JVM is that it will not dispose of a thread that is not dead, nor will it dispose of any object that is still being referenced by another object or later line of executable code. I'm not holding any reference to the thread at all however, and if i do it claims to put itself into a dead state once it finishes running so I dont know what is causing the leak.</p>\n\n<p>I've written a clean PoC to demonstrate the leak. it uses a rest controller so i can control the number of threads, a runnable class because my real program requires parameters, and a string to take up arbitrary space in memory that would be held by other fields in the real program (makes the leak more apparent).</p>\n\n<pre><code>package com.example;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class LeakController {\n\n    @RequestMapping(\"/Run\")\n    public String DoWork(@RequestParam(\"Amount\") int amount, @RequestParam(\"Args\") String args)\n    {\n        for(int i = 0; i &lt; amount; i++)\n            new Thread(new MyRunnable(args)).start();\n        return \"Workin' on it\";\n    }\n\n    public class MyRunnable implements Runnable{\n        String args;\n        public MyRunnable(String args){ this.args = args; }\n        public void run()\n        {\n            int timeToSleep = Integer.valueOf(args);\n            String spaceWaster = \"\";\n            for (int i = 0; i &lt; 10000; i ++)\n                spaceWaster += \"W\";\n            System.out.println(spaceWaster);\n            try {Thread.sleep(timeToSleep);} catch (InterruptedException e) {e.printStackTrace();}\n            System.out.println(\"Done\");\n        }\n    }\n}\n</code></pre>\n\n<p>Can anyone explain why this program leaks memory?</p>\n\n<p>Edit: I've gotten a few responses about String assignment vs string building and the string pool so i changed my code to the following</p>\n\n<pre><code>        int[] spaceWaster = new int[10000];\n        for (int i = 0; i &lt; 10000; i ++)\n            spaceWaster[i] = 512;\n        System.out.println(spaceWaster[1]);\n</code></pre>\n\n<p>and it still leaks.</p>\n\n<p>Edit: In acquiring some real numbers to respond to Voo with i noticed something interesting. calling new threads starts eating memory up but only to a point. after permanently growing about 60mb the new integer based program stops growing further regardless of how hard it is pushed. Does this have something to do with the way the spring framework allocates memory? </p>\n\n<p>I also think there is merit in going back to the String example as it more closely relates the my real use case; which is to do regex operations on incoming JSON, several hundred such JSON a second. With that in mind i have changed the code to:</p>\n\n<pre><code>@RestController\npublic class LeakController {\n\n    public static String characters[] = {\n            \"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"0\",\n            \"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\n            \"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\"};\n    public Random rng = new Random();\n\n    @RequestMapping(\"/Run\")\n    public String GenerateAndSend(@RequestParam(\"Amount\") int amount)\n    {\n        for(int i = 0; i &lt; amount; i++)\n        {\n            StringBuilder sb = new StringBuilder(100);\n            for(int j = 0; j&lt; 100; j++)\n                sb.append(characters[rng.nextInt(36)]);\n            new Thread(new MyRunnable(sb.toString())).start();\n            System.out.println(\"Thread \" + i + \" created\");\n        }\n        System.out.println(\"Done making threads\");\n        return \"Workin' on it\";\n    }\n\n    public class MyRunnable implements Runnable{\n        String args;\n        public MyRunnable(String args){ this.args = args; }\n        public void run()\n        {\n            System.out.println(args);\n            args = args.replaceAll(\"\\\\d+\", \"\\\\[Number was here\\\\]\");\n            System.out.println(args);\n        }\n    }\n}\n</code></pre>\n\n<p>This new application exhibits similar behavior as the integer example in that it grows about 50mb permanently (after 2000 threads), and tapers off from there until i cant notice any memory growth with each new batch of 1000 threads (about 85mb past original deploy memory).</p>\n\n<p>if i change it to remove stringbuilder:</p>\n\n<pre><code>String temp = \"\";\nfor(int j = 0; j&lt; 100; j++)\n    temp += characters[rng.nextInt(36)];\nnew Thread(new MyRunnable(temp)).start();\n</code></pre>\n\n<p>it leaks indefinitely; i assume that once all 36^100 strings have been generated once that it will stop. </p>\n\n<p>Combining those findings i guess my real issue could be both an issue with the string pool and an issue with how spring allocates memory. What i am still failing to understand is that in my real application if i make a runnable and call run() on the main thread the memory doesnt seem to spike, but if i make a new thread and give it the runnable then the memory jumps. Heres what my runnable looks like currently in the application i am building:</p>\n\n<pre><code>public class MyRunnable implements Runnable{\n    String json;\n    public MyRunnable(String json){\n        this.json = new String(json);\n    }\n    public void run()\n    {\n        DocumentClient documentClient = new DocumentClient (END_POINT,\n                MASTER_KEY, ConnectionPolicy.GetDefault(),\n                ConsistencyLevel.Session);\n        System.out.println(\"JSON : \" + json);\n        Document myDocument = new Document(json);\n        System.out.println(new DateTime().toString(DateTimeFormat.forPattern(\"MM-dd-yyyy&gt;HH:mm:ss.SSS\"))+\"&gt;\"+\"Created JSON Document Locally\");\n        // Create a new document\n        try {\n            //collectioncache is a variable in the parent restcontroller class that this class is declared inside of\n            System.out.println(\"CollectionExists:\" + collectionCache != null);\n            System.out.println(\"CollectionLink:\" + collectionCache.getSelfLink());\n            System.out.println(new DateTime().toString(DateTimeFormat.forPattern(\"MM-dd-yyyy&gt;HH:mm:ss.SSS\"))+\"&gt;\"+\"Creating Document on DocDB\");\n            documentClient.createDocument(collectionCache.getSelfLink(), myDocument, null, false);\n            System.out.println(new DateTime().toString(DateTimeFormat.forPattern(\"MM-dd-yyyy&gt;HH:mm:ss.SSS\"))+\"&gt;\"+\"Document Creation Successful\");\n            System.out.flush();\n            currentThreads.decrementAndGet();\n        } catch (DocumentClientException e) {\n            System.out.println(\"Failed to Upload Document\");\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Any ideas where my real leak is? Is there somewhere i need a string builder? does string just do memory funny and i need to give it a higher ceiling to stretch out into then it will be fine?</p>\n\n<p>Edit: i did some bench-marking so i could actually graph the behavior in order to better understand what the GC is doing</p>\n\n<pre><code>00000 Threads - 457 MB\n01000 Threads - 535 MB\n02000 Threads - 545 MB\n03000 Threads - 549 MB\n04000 Threads - 551 MB\n05000 Threads - 555 MB\n2 hours later - 595 MB\n06000 Threads - 598 MB\n07000 Threads - 600 MB\n08000 Threads - 602 MB\n</code></pre>\n\n<p>It seems asymptotic but what was most interesting to me is that while i was out attending meetings and eating lunch it decided to grow 40mb on its own. i checked with my team and nobody used the app during that time. Not sure what to make of that either</p>\n"}, {"tags": ["java", "spring", "asynchronous", "spring-boot"], "comments": [{"owner": {"reputation": 10222, "user_id": 3493036, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rBHhs.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/3493036/patrick"}, "edited": false, "score": 0, "creation_date": 1470293319, "post_id": 38753193, "comment_id": 64892540, "body": "So you want that the boot application stops after unexpected exception, right? <code>shutdown</code> of the executerService wont accept new tasks but the already submitted tasks continue to run. Is this what you want?"}, {"owner": {"reputation": 2172, "user_id": 1460626, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77eaa1388d0b7551db45051320a74518?s=128&d=identicon&r=PG", "display_name": "Djon", "link": "https://stackoverflow.com/users/1460626/djon"}, "reply_to_user": {"reputation": 10222, "user_id": 3493036, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rBHhs.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/3493036/patrick"}, "edited": false, "score": 0, "creation_date": 1470297714, "post_id": 38753193, "comment_id": 64895200, "body": "@Patrick Yes, without the executor everything just terminates, the context is destroyed and the application stops. But once the executor is started, it has to be manually <code>shutdown</code> at some point before the application can exit gracefully, and this is the solution I came up with."}, {"owner": {"reputation": 10222, "user_id": 3493036, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rBHhs.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/3493036/patrick"}, "edited": false, "score": 1, "creation_date": 1470298015, "post_id": 38753193, "comment_id": 64895382, "body": "From my point of view your solution is ok. Just want to share <a href=\"http://stackoverflow.com/a/11520233/3493036\">this answer</a> with you for optional implementation after shutdown call."}, {"owner": {"reputation": 2172, "user_id": 1460626, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77eaa1388d0b7551db45051320a74518?s=128&d=identicon&r=PG", "display_name": "Djon", "link": "https://stackoverflow.com/users/1460626/djon"}, "reply_to_user": {"reputation": 10222, "user_id": 3493036, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rBHhs.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/3493036/patrick"}, "edited": false, "score": 0, "creation_date": 1470299158, "post_id": 38753193, "comment_id": 64896125, "body": "@Patrick The tasks are actually really small and will always complete in a very short time, so calling <code>shutdown</code> or <code>shutdownNow</code> should be the same, but I&#39;ll have a look."}], "owner": {"reputation": 2172, "user_id": 1460626, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77eaa1388d0b7551db45051320a74518?s=128&d=identicon&r=PG", "display_name": "Djon", "link": "https://stackoverflow.com/users/1460626/djon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 229, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1470256708, "creation_date": 1470256708, "last_edit_date": 1495541286, "question_id": 38753193, "link": "https://stackoverflow.com/questions/38753193/how-to-properly-execute-code-in-spring-boot-after-an-exception-and-let-the-progr", "title": "How to properly execute code in Spring Boot after an exception and let the program exit?", "body": "<p>After thinking about how to run an infinite task in Spring Boot (see my previous <a href=\"https://stackoverflow.com/q/38719127/1460626%20question\">question</a>), I decided to do this:</p>\n\n<pre><code>@Component\n@EnableAsync\npublic class MyRunner implements CommandLineRunner {\n\n    @Autowired\n    private ScheduledExecutorService scheduledExecutorService;\n\n    @Async\n    @Override\n    public void run(String... args) throws Exception {\n        try {\n            infiniteLoop();\n        } finally {\n            this.scheduledExecutorService.shutdown();\n        }\n    }\n}\n</code></pre>\n\n<p>This allows the <code>SpringApplication#run</code> method to fully complete.</p>\n\n<p>As part of the whole thing, I have declared a <code>ScheduledExecutorService</code> bean. My issue is that if <code>infiniteLoop()</code> throws an unexpected exception, the <code>Executor</code> will prevent the application from shunting down as it is managed externally.</p>\n\n<p>Is there a better way to handle such a case? Or is this a good use of the <code>finally</code> block?</p>\n"}, {"tags": ["java", "jquery", "hibernate", "list", "return"], "comments": [{"owner": {"reputation": 11711, "user_id": 5091073, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-66nPSaK71Ts/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re5ad5VFAaXIqweqmy4xOu9quVajQ/mo/photo.jpg?sz=128", "display_name": "Nir Levy", "link": "https://stackoverflow.com/users/5091073/nir-levy"}, "edited": false, "score": 0, "creation_date": 1470256840, "post_id": 38753187, "comment_id": 64880304, "body": "what is not working? what error do you get?"}], "answers": [{"tags": [], "owner": {"reputation": 15197, "user_id": 1475228, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TgQ5O.png?s=128&g=1", "display_name": "Pritam Banerjee", "link": "https://stackoverflow.com/users/1475228/pritam-banerjee"}, "is_accepted": false, "score": 0, "last_activity_date": 1470257018, "creation_date": 1470257018, "answer_id": 38753271, "question_id": 38753187, "link": "https://stackoverflow.com/questions/38753187/return-class-hibernate-with-parameters-string-and-bigdecimal/38753271#38753271", "title": "return class hibernate with parameters string and bigdecimal", "body": "<p>I usually do it here:</p>\n\n<pre><code> List&lt;UsuarioValido&gt; rs = q.list();\n</code></pre>\n\n<p>I think this is the best way to do it and not error prone. But do make sure that the query you are using sends back only that class and not a field of that class or results obtained from <code>count()</code>, <code>avg()</code> etc.</p>\n\n<p>But since you are fetching fields you won't be able to use that.</p>\n\n<p>In Hibernate it is recommended to bring back the results in form of List of particular classes and not use <code>Select ...</code></p>\n"}], "owner": {"reputation": 1, "user_id": 3640863, "user_type": "registered", "profile_image": "https://graph.facebook.com/1650262163/picture?type=large", "display_name": "Didier Orjuela", "link": "https://stackoverflow.com/users/3640863/didier-orjuela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1470257018, "creation_date": 1470256691, "last_edit_date": 1470256797, "question_id": 38753187, "link": "https://stackoverflow.com/questions/38753187/return-class-hibernate-with-parameters-string-and-bigdecimal", "title": "return class hibernate with parameters string and bigdecimal", "body": "<p>How can return correctly this query with hibernate?</p>\n\n<p>Help me please</p>\n\n<pre><code>    @Override\n    public UsuarioValido validarUserLoggin(String loggin, BigDecimal canal) throws Exception{\n        Query q = sessionFactory.getCurrentSession().createSQLQuery(\"SELECT A.ID_USER, '' AS nombre_canal_canales, A.CANAL_ID, '' AS nombre_pto_vta_puntos_de_venta, \"\n                + \" A.PUNTO_VTA_ID, A.LOGGIN, A.PASSWORD, A.NOMBRES, A.APELLIDOS, A.SN_CAMBIO_PASS, A.ULTINGRESO, A.ULTCMBCONT, A.ESTADO, A.CONTINTENTOS, \"\n                + \" B.NU_INT_PER AS NRO_INT_PASS,  A.EMAIL, B.NDIASINACT AS DIAS_VENC_CLAV \"\n                + \" FROM \"+General.Esquema_DB+\".SEG_USER A \"\n                + \" LEFT JOIN \"+General.Esquema_DB+\".SEGPOLSEG B ON A.ID_USER = B.ID \"\n                + \" WHERE A.LOGGIN = '\"+loggin+\"' AND A.CANAL_ID = \"+canal);\n        List rs = q.list();\n\n         List&lt;UsuarioValido&gt; validos = q.list();\n        for (UsuarioValido usuarioValido : validos) {\n          System.out.println(usuarioValido.toString());\n         }\n\n        UsuarioValido max = (UsuarioValido)rs.get(0);\n        return max;\n\n\n    }\n</code></pre>\n"}, {"tags": ["java", "libgdx"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 4343713, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/181cc09816876180a601c260a3e185c6?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Torres", "link": "https://stackoverflow.com/users/4343713/luis-torres"}, "edited": false, "score": 0, "creation_date": 1470261780, "post_id": 38753375, "comment_id": 64882611, "body": "oh ok thanks. I implemented drawable to see if it would fix the problem. I guess I can get rid of that. would I still be able to draw the image that is suppose to represent my actor? or am missing something?"}, {"owner": {"reputation": 39, "user_id": 4343713, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/181cc09816876180a601c260a3e185c6?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Torres", "link": "https://stackoverflow.com/users/4343713/luis-torres"}, "edited": false, "score": 0, "creation_date": 1470267818, "post_id": 38753375, "comment_id": 64884367, "body": "Also the Label class doesn&#39;t do what I want."}, {"owner": {"reputation": 37871, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 39, "user_id": 4343713, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/181cc09816876180a601c260a3e185c6?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Torres", "link": "https://stackoverflow.com/users/4343713/luis-torres"}, "edited": false, "score": 0, "creation_date": 1470274534, "post_id": 38753375, "comment_id": 64886872, "body": "You can draw anything you want in the <code>draw</code> method."}, {"owner": {"reputation": 39, "user_id": 4343713, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/181cc09816876180a601c260a3e185c6?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Torres", "link": "https://stackoverflow.com/users/4343713/luis-torres"}, "edited": false, "score": 0, "creation_date": 1470275091, "post_id": 38753375, "comment_id": 64886974, "body": "So would I just call the texture&#39;s draw method in the actor&#39;s draw method?"}, {"owner": {"reputation": 37871, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 39, "user_id": 4343713, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/181cc09816876180a601c260a3e185c6?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Torres", "link": "https://stackoverflow.com/users/4343713/luis-torres"}, "edited": false, "score": 0, "creation_date": 1470278312, "post_id": 38753375, "comment_id": 64887738, "body": "In the Actor&#39;s draw method call batch.draw(texture...) or font.draw(batch...)"}, {"owner": {"reputation": 39, "user_id": 4343713, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/181cc09816876180a601c260a3e185c6?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Torres", "link": "https://stackoverflow.com/users/4343713/luis-torres"}, "edited": false, "score": 0, "creation_date": 1470278373, "post_id": 38753375, "comment_id": 64887758, "body": "Or both? I want to be able to display text in a box"}, {"owner": {"reputation": 37871, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 39, "user_id": 4343713, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/181cc09816876180a601c260a3e185c6?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Torres", "link": "https://stackoverflow.com/users/4343713/luis-torres"}, "edited": false, "score": 0, "creation_date": 1470320021, "post_id": 38753375, "comment_id": 64910818, "body": "Sure you can do whatever you want, as long as it involves using the Batch to draw it. I do recommend calling <code>batch.setColor(Color.WHITE)</code> even if you aren&#39;t modifying color, because there&#39;s no guarantee of what color/alpha the batch as been set as."}], "tags": [], "owner": {"reputation": 37871, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": false, "score": 2, "last_activity_date": 1470257423, "creation_date": 1470257423, "answer_id": 38753375, "question_id": 38753184, "link": "https://stackoverflow.com/questions/38753184/how-to-extend-actor-and-draw-it-on-stage-libgdx/38753375#38753375", "title": "How to extend Actor and draw it on stage? Libgdx", "body": "<p>You overrode the wrong <code>draw</code> method. Actor's draw method signature is:</p>\n\n<pre><code>public void draw (Batch batch, float parentAlpha)\n</code></pre>\n\n<p>You overrode the one from Drawable. Not sure why you're implementing Drawable. There's already an Actor available for drawing text anyway, called Label.</p>\n\n<p>Also, if you want to put your Actor in a table, you need to set its width and height, or the width and height of its cell in the table.</p>\n"}], "owner": {"reputation": 39, "user_id": 4343713, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/181cc09816876180a601c260a3e185c6?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Torres", "link": "https://stackoverflow.com/users/4343713/luis-torres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1079, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1470257423, "creation_date": 1470256681, "question_id": 38753184, "link": "https://stackoverflow.com/questions/38753184/how-to-extend-actor-and-draw-it-on-stage-libgdx", "title": "How to extend Actor and draw it on stage? Libgdx", "body": "<p>I am trying to make an object that extends the Actor class. but whenever I have call the Stage's draw() method, it only draws the button I added to it. Here is my code, maybe someone here can help me?</p>\n\n<p>Code for my Screen class (Assume that I had overridden all necessary methods and that I imported all necessary classes):\npublic class PlayScreen implements Screen{</p>\n\n<pre><code>SpriteBatch batch;\nGame game;\nTable table;\nSkin skin;\nStage stage;\nBitmapFont font;\nTextButton button;\nTextDisplay display;\n\n\npublic PlayScreen(MyGdxGame game, SpriteBatch batch){\n\n    this.game = game;\n    this.batch = batch;\n\n    //instantiating Stage, Table, BitmapFont, and Skin objects.\n    font = new BitmapFont(Gdx.files.internal(\"MyTruefont.fnt\"));\n    table = new Table();\n    stage = new Stage();\n    skin = new Skin(Gdx.files.internal(\"Test.json\"));\n\n\n    button = new TextButton(\"Start!\", skin, \"default\");\n    display = new TextDisplay(font, this);\n\n    //Setting table properties\n    table.setWidth(stage.getWidth());\n    table.align(Align.center|Align.top);\n    table.setPosition(0, Gdx.graphics.getHeight());\n    table.padTop(30);\n\n    //Adding actors to table\n    table.add(button).padBottom(50);\n    table.add(display);\n\n    //Adding table to stage and setting stage as the input processor\n    stage.addActor(table);\n    Gdx.input.setInputProcessor(stage);\n}\n\n\n\n@Override\npublic void show() {\n\n}\n\n@Override\npublic void render(float delta) {\n\n    Gdx.gl.glClearColor(1, 0, 0, 1);\n    Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n    batch.begin();\n    stage.draw();\n    batch.end();\n}\n</code></pre>\n\n<p>And here is My Textdisplay class that extends Actor (Again assume all other methods have been overriden, and all necessary classes have been imported):</p>\n\n<pre><code>public class TextDisplay extends Actor implements Drawable {\n\n    Texture texture;\n    BitmapFont font;\n    String str;\n\n    public TextDisplay(BitmapFont font, Screen screen){\n        this.font = font;\n\n        texture = new Texture(Gdx.files.internal(\"TextArea.png\"));\n\n        str = \"\";\n\n        setLeftWidth(texture.getWidth());\n        setRightWidth(texture.getWidth());\n\n        setBottomHeight(texture.getHeight());\n        setTopHeight(texture.getHeight());\n    }\n\n\n\n@Override\npublic void draw(Batch batch, float x, float y, float width, float height) {\n    batch.draw(texture, x, y);\n}\n</code></pre>\n"}, {"tags": ["java", "eclipse", "tomcat", "port"], "comments": [{"owner": {"reputation": 1516, "user_id": 1789356, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/1nw4e.jpg?s=128&g=1", "display_name": "zoom", "link": "https://stackoverflow.com/users/1789356/zoom"}, "edited": false, "score": 0, "creation_date": 1470257115, "post_id": 38753165, "comment_id": 64880460, "body": "I also use eclipse and tomcat, and I personally use a standalone tomcat application. I advise against using tomcat as a windows service, you should be able to disable the autostart feature in the list of window services. To be able to launch tomcat via eclipse, just download the <a href=\"http://tomcat.apache.org/download-90.cgi\" rel=\"nofollow noreferrer\">latest tomcat archive (.zip)</a>, and configure eclipse to use that one."}, {"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "reply_to_user": {"reputation": 1516, "user_id": 1789356, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/1nw4e.jpg?s=128&g=1", "display_name": "zoom", "link": "https://stackoverflow.com/users/1789356/zoom"}, "edited": false, "score": 0, "creation_date": 1470257210, "post_id": 38753165, "comment_id": 64880505, "body": "Thanks. But I do need to keep Tomcat running as a Service while Eclipse can either quickly use that instance or launch another instance."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1470257221, "post_id": 38753165, "comment_id": 64880510, "body": "You should be able to point Eclipse at your current Tomcat installation and deploy a WAR file there. <a href=\"https://www.mulesoft.com/tcat/tomcat-eclipse\" rel=\"nofollow noreferrer\">mulesoft.com/tcat/tomcat-eclipse</a>"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1470257286, "post_id": 38753165, "comment_id": 64880536, "body": "Additionally, I have had success with this plugin. <a href=\"https://marketplace.eclipse.org/content/eclipse-tomcat-plugin\" rel=\"nofollow noreferrer\">marketplace.eclipse.org/content/eclipse-tomcat-plugin</a>"}, {"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1470257289, "post_id": 38753165, "comment_id": 64880538, "body": "Thanks. Yes, but that would require to deploy the WAR file after every little code change and then look inside an external browser."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1470257347, "post_id": 38753165, "comment_id": 64880571, "body": "Right... You have to compile the Java code regardless. Static resources like JS, CSS, and HTML, you don&#39;t need to do that, though"}, {"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1470257517, "post_id": 38753165, "comment_id": 64880665, "body": "cricket_007: will the Tomcat plugin make this work like I am trying to?"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1470258890, "post_id": 38753165, "comment_id": 64881300, "body": "@Meengla My project uses Velocity templates instead of JSP, but it seems to be running okay on Jersey JAX-WS"}, {"owner": {"reputation": 5537, "user_id": 3059893, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/fUOFo.png?s=128&g=1", "display_name": "JavaHopper", "link": "https://stackoverflow.com/users/3059893/javahopper"}, "edited": false, "score": 0, "creation_date": 1470258926, "post_id": 38753165, "comment_id": 64881318, "body": "may be this can help you to ensure you have setup tomcat properly on eclipse <a href=\"http://stackoverflow.com/questions/8046871/how-to-add-tomcat-server-in-eclipse\" title=\"how to add tomcat server in eclipse\">stackoverflow.com/questions/8046871/&hellip;</a>"}, {"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "edited": false, "score": 0, "creation_date": 1470259608, "post_id": 38753165, "comment_id": 64881630, "body": "Hi all, before I could try JavaHopper solution I think I have found a solution and posted that as an Answer. I will let this page know if there are issues with my Answer. Thanks again!"}], "answers": [{"comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1470259830, "post_id": 38753912, "comment_id": 64881749, "body": "Glad you solved the problem, but you should be able to keep one server instance and run multiple apps from various ContextRoot mappings."}, {"owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1470260900, "post_id": 38753912, "comment_id": 64882241, "body": "Thanks cricket_007. BTW, my solution is working beautifully!"}], "tags": [], "owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "is_accepted": true, "score": 0, "last_activity_date": 1470259549, "creation_date": 1470259549, "answer_id": 38753912, "question_id": 38753165, "link": "https://stackoverflow.com/questions/38753165/eclipse-tomcat-port-change-or-test-in-the-regular-tomcat-instance/38753912#38753912", "title": "Eclipse Tomcat Port Change or Test in the Regular Tomcat Instance", "body": "<p>I think I got the two instances of Tomcat working simultaneously. Here is what I ended up doing:</p>\n\n<p>1) Left the original instance of Tomcat on port 8080 as such</p>\n\n<p>2) Inside Eclipse, added a new Server and this time <strong>downloaded</strong> to a c:\\tomcat7_for_eclipse2 folder.</p>\n\n<p>3) Inside Eclipse, changed the ports to 8081 etc for the newly downloaded instance of Tomcat</p>\n\n<p>This seems to be working fine: Both the regular instance of Tomcat continues to run while I can now launch the new instance of Tomcat right from inside Eclipse and quickly view  my .JSP file's dynamic code.</p>\n\n<p>This is sort of like what Microsoft Visual Studio does. I know it's not some 'best practices' but it keeps my development environment simpler.</p>\n\n<p>Thanks to all for their help!</p>\n"}], "owner": {"reputation": 1271, "user_id": 830429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12fac7f860b4cfdc763fca8b1aa33ee1?s=128&d=identicon&r=PG", "display_name": "IrfanClemson", "link": "https://stackoverflow.com/users/830429/irfanclemson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 38753912, "answer_count": 1, "score": 0, "last_activity_date": 1470259549, "creation_date": 1470256578, "last_edit_date": 1470256969, "question_id": 38753165, "link": "https://stackoverflow.com/questions/38753165/eclipse-tomcat-port-change-or-test-in-the-regular-tomcat-instance", "title": "Eclipse Tomcat Port Change or Test in the Regular Tomcat Instance", "body": "<p>This is a Windows 7 development environment where Tomcat 7 is set to autostart in c:\\tomcat7 folder. That does work fine but I want to test my Java (.JSP) code right inside Eclipse Neon interface. So I configure Tomcat inside Eclipse by pointing to c:\\tomcat7 folder but I get the port <code>8080</code> already in use error.</p>\n\n<p>I know what's happening: Tomcat is trying to start but it is already running. So I duplicated the <strong>c:\\tomcat7</strong> folder to a <strong>c:\\tomcat7_for_eclipse</strong> folder, pointed Eclipse to that, then changed the port to <code>8081</code> via Eclipse but I now get an error:</p>\n\n<p><code>Tomcat couldn't start;</code> </p>\n\n<p>and doing that actually stops the port <code>8080</code> instance of Tomcat.</p>\n\n<p>There must be a simpler way to quickly deploy to the actual Tomcat to test applications or to do the port route as I tried above?</p>\n\n<p>I am very new to Java, Eclipse, and Tomcat. So please bear with me: I have looked at online solutions but nothing helping so far.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["java", "maven", "selenium", "automated-tests"], "comments": [{"owner": {"reputation": 115475, "user_id": 1743880, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wcXBB.png?s=128&g=1", "display_name": "Tunaki", "link": "https://stackoverflow.com/users/1743880/tunaki"}, "edited": false, "score": 0, "creation_date": 1470257914, "post_id": 38753144, "comment_id": 64880843, "body": "So maybe the <code>webdriver.chrome.driver</code> property is set in your Eclipse environment, but not on your OS, so the command-line doesn&#39;t pick it up. Check your Eclipse preferences, I&#39;d start by the Maven run configurations."}, {"owner": {"reputation": 7850, "user_id": 879977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63c02695fd0faec88a57a10432aaba1a?s=128&d=identicon&r=PG", "display_name": "niharika_neo", "link": "https://stackoverflow.com/users/879977/niharika-neo"}, "edited": false, "score": 0, "creation_date": 1470293419, "post_id": 38753144, "comment_id": 64892585, "body": "How are you running your tests? through xml?"}, {"owner": {"reputation": 63, "user_id": 6297162, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/52f1a1c03812f0d7a19771323cc72fec?s=128&d=identicon&r=PG&f=1", "display_name": "Lamar ", "link": "https://stackoverflow.com/users/6297162/lamar"}, "edited": false, "score": 0, "creation_date": 1470400974, "post_id": 38753144, "comment_id": 64949178, "body": "Yes I was running the test through xml. After doing some digging I found that you are to put the path to the driver.exe file in you environmental variable PATH. So I did that, not 100% sure if that did anything ( did that and some other actions) but I suspect it did."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 6297162, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/52f1a1c03812f0d7a19771323cc72fec?s=128&d=identicon&r=PG&f=1", "display_name": "Lamar ", "link": "https://stackoverflow.com/users/6297162/lamar"}, "edited": false, "score": 0, "creation_date": 1470400830, "post_id": 38760380, "comment_id": 64949082, "body": "This was the issue, I never called in the method that set the system property, once I did that my mvn test cmd worked fine and the driver instantiation in the test code was redundant. Thanks a lot !"}], "tags": [], "owner": {"reputation": 7850, "user_id": 879977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63c02695fd0faec88a57a10432aaba1a?s=128&d=identicon&r=PG", "display_name": "niharika_neo", "link": "https://stackoverflow.com/users/879977/niharika-neo"}, "is_accepted": false, "score": 0, "last_activity_date": 1470293599, "creation_date": 1470293599, "answer_id": 38760380, "question_id": 38753144, "link": "https://stackoverflow.com/questions/38753144/mvn-test-cmd-line-build-failure-test-works-in-eclipse/38760380#38760380", "title": "Mvn Test cmd line Build Failure, Test Works in Eclipse", "body": "<p>The structure of your tests seems incorrect.  You have a main method in the LoginPage - which is doing driver instantiation. Where is the main method being called from?  Your beforetest also has a driver instantiation code which is called by testng but there you are not setting the chromedriver property.  </p>\n\n<p>Ideally the driver instantiation code should be written at one place and be consumed from the rest of the testcases.</p>\n"}], "owner": {"reputation": 63, "user_id": 6297162, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/52f1a1c03812f0d7a19771323cc72fec?s=128&d=identicon&r=PG&f=1", "display_name": "Lamar ", "link": "https://stackoverflow.com/users/6297162/lamar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 211, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1470293599, "creation_date": 1470256510, "last_edit_date": 1470257067, "question_id": 38753144, "link": "https://stackoverflow.com/questions/38753144/mvn-test-cmd-line-build-failure-test-works-in-eclipse", "title": "Mvn Test cmd line Build Failure, Test Works in Eclipse", "body": "<p>This is the circumstance. I am an QA Automation Engineer and right now I am being charged with setting up our CI framework in Jenkins but right now I am having issues with Maven. I am getting this error below when I try to run the mvn test command. However the tests work flawlessly in eclipse when run as maven test. </p>\n\n<pre><code> T E S T S\n-------------------------------------------------------\nRunning TestSuite\nConfiguring TestNG with: org.apache.maven.surefire.testng.conf.TestNG652Configur\nator@3830f1c0\nConfiguring TestNG with: org.apache.maven.surefire.testng.conf.TestNG652Configur\nator@bd8db5a\nTests run: 16, Failures: 1, Errors: 0, Skipped: 14, Time elapsed: 0.66 sec &lt;&lt;&lt; F\nAILURE!\nbeforeTest(fcstestingsuite.fsnrgn.LoginTest)  Time elapsed: 0.442 sec  &lt;&lt;&lt; FAILU\nRE!\njava.lang.IllegalStateException: The path to the driver executable must be set b\ny the webdriver.chrome.driver system property; for more information, see https:/\n/github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest version can be dow\nnloaded from http://chromedriver.storage.googleapis.com/index.html\n        at com.google.common.base.Preconditions.checkState(Preconditions.java:19\n9)\n        at org.openqa.selenium.remote.service.DriverService.findExecutable(Drive\nrService.java:109)\n        at org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDrive\nrService.java:32)\n        at org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExe\ncutable(ChromeDriverService.java:137)\n        at org.openqa.selenium.remote.service.DriverService$Builder.build(Driver\nService.java:296)\n        at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(C\nhromeDriverService.java:88)\n        at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:116)\n\n        at fcstestingsuite.fsnrgn.LoginTest.beforeTest(LoginTest.java:54)\n\n\nResults :\n\nFailed tests:   beforeTest(fcstestingsuite.fsnrgn.LoginTest): The path to the dr\niver executable must be set by the webdriver.chrome.driver system property; for\nmore information, see https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver.\nThe latest version can be downloaded from http://chromedriver.storage.googleapis\n.com/index.html\n\nTests run: 16, Failures: 1, Errors: 0, Skipped: 14\n</code></pre>\n\n<p>As you can see it is related to my chrome system property/path. In my project I have a test package and page object package. I set my chrome system property in the object class and import that class into the test class which works fine in eclipse. I'm not quite sure why Maven is having an issue with this. See sample object and test class below </p>\n\n<p>Page Class </p>\n\n<pre><code>package pageobjectfactory;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.FindBy;\nimport org.testng.Assert;\n// URL = http://www.ourfsn.com/myfsn/\n\npublic class Ourfsnlogin {\n\n    @FindBy(id=\"ctl00_ContentPlaceHolder1_tbxUname\")\n    WebElement login;\n    @FindBy(id=\"ctl00_ContentPlaceHolder1_tbxPword\")\n    WebElement password;\n    @FindBy(id=\"ctl00_ContentPlaceHolder1_btnSubmit\")\n    WebElement submit;\n    @FindBy(name=\"ctl00$ContentPlaceHolder1$rptAccounts$ctl01$AccountSwitch\")\n    WebElement PETSMARTUS;\n    @FindBy(name=\"ctl00$ContentPlaceHolder1$rptAccounts$ctl02$AccountSwitch\")\n    WebElement PETSMARTCAD;\n    @FindBy(name=\"ctl00$ContentPlaceHolder1$rptAccounts$ctl03$AccountSwitch\")\n    WebElement PETSMARTPR;\n    @FindBy(id=\"ctl00_lblTopLogin\")\n    WebElement PETSMARTUSASSERT;\n    @FindBy(id=\"ctl00_lblTopLogin\")\n    WebElement PETSMARTCAASSERT;\n    @FindBy(id=\"ctl00_lblTopLogin\")\n    WebElement PETSMARTPRASSERT;\n    @FindBy(id=\"ctl00_Menu1_16\")\n    WebElement LogoutButton;\n\n\n    public static WebDriver driver;\n    public static void main(String[] args) {\n        System.setProperty(\"webdriver.chrome.driver\",\"C:\\\\Users\\\\dmohamed\\\\Documents\\\\Testing Environment\\\\Testing Environment\\\\Web Drivers\\\\chromedriver_win32 (1)\\\\chromedriver.exe\");\n        WebDriver chromedriver = null; new ChromeDriver();\n\n\n        driver= chromedriver;\n\n\n    }\n\n\n    //Send user name in textbox \n    public void sendUserName(String strUsername){\n        login.sendKeys(\"ebluth\");}\n    public void sendUserNameServiceCenter(String strUsername){\n        login.sendKeys(\"servicecenter\");}\n    public void sendUserNameSP(String strUsername){\n        login.sendKeys(\"4328701\");\n    }\n    //Send Password\n    public void sendPassword(String strPassword){\n        password.sendKeys(\"password\");}\n\n\n\n\n    //submitting credentials \n    public void clicksubmit(){\n        submit.click();}\n    //Checking US PAge \n    public void USAssertion(){\n        PETSMARTUS.isEnabled();\n    }\n    //Checking CAD page \n    public void CAAssertion(){\n        PETSMARTCAD.isEnabled();}\n    //Checking PR Page \n    public void PRAssertion(){\n        PETSMARTPR.isEnabled();}\n    //click us link\n\n    //Checking US PAge \n    public void USclick(){\n        PETSMARTUS.click();\n    }\n    //Checking CAD page \n    public void CAclick(){\n        PETSMARTCAD.click();}\n    //Checking PR Page \n    public void PRclick(){\n        PETSMARTPR.click();}\n\n    //Click on\n    public void USPageValidation(){\n        Assert.assertTrue(PETSMARTUSASSERT.getText().contains(\"PETM-US\"), \"Incorrect Page [US,CA,PR]\");\n\n    }\n    public void PRPageValidation(){\n        Assert.assertTrue(PETSMARTPRASSERT.getText().contains(\"PETM-PR\"),\"Incorrect Page [US,CA,PR]\");\n    }\n    public void CAPageValidation(){\n        Assert.assertTrue(PETSMARTCAASSERT.getText().contains(\"PETM-CN\"),\"Incorrect Page [US,CA,PR]\");\n    }\n    //Log out \n\n    public void Logout (){\n        LogoutButton.click();\n\n\n\n    }}\n\nTest Class \npackage fcstestingsuite.fsnrgn;\nimport org.testng.annotations.Test;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.testng.annotations.BeforeTest;\nimport org.testng.annotations.AfterMethod;\nimport org.testng.annotations.AfterTest;\nimport pageobjectfactory.Ourfsnlogin;\nimport org.openqa.selenium.support.PageFactory;\nimport org.openqa.selenium.support.pagefactory.AjaxElementLocatorFactory;\n\npublic class LoginTest {\n    static WebDriver driver;\n    Ourfsnlogin LoginPage; \n\n    @Test (priority=1)\n    public void USPageTest() {\n        LoginPage.sendUserName(\"ebluth\");\n        LoginPage.sendPassword(\"password\");\n        LoginPage.clicksubmit();\n        LoginPage.USclick();\n        LoginPage.USPageValidation();\n    }\n\n    @Test(priority=2)\n    public void CAPageTest(){\n        LoginPage.sendUserName(\"ebluth\");\n        LoginPage.sendPassword(\"password\");\n        LoginPage.clicksubmit();\n        LoginPage.CAclick();\n        LoginPage.CAPageValidation();\n    }\n\n\n    @Test (priority=3)\n    public void PRPageTest(){\n        LoginPage.sendUserName(\"ebluth\");\n        LoginPage.sendPassword(\"password\");\n        LoginPage.clicksubmit();\n        LoginPage.PRclick();\n        LoginPage.PRPageValidation();\n    }\n\n\n    @AfterMethod \n    public void aftermethod(){\n        LoginPage.Logout();\n    }\n\n\n\n    @BeforeTest\n    public void beforeTest() {\n        Ourfsnlogin.driver=new ChromeDriver();\n        //setting global explicit wait \n        PageFactory.initElements(new AjaxElementLocatorFactory(driver, 20), this);\n        Ourfsnlogin.driver.get(\"http://www.ourfsn.com/myfsn\");\n        //initiating elements in page factory \n        LoginPage= PageFactory.initElements(Ourfsnlogin.driver, Ourfsnlogin.class);\n\n    }\n\n    @AfterTest\n    public void afterTest() {\n        Ourfsnlogin.driver.quit();\n\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["java", "excel", "jsp"], "comments": [{"owner": {"reputation": 3913, "user_id": 2216414, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mudUB.jpg?s=128&g=1", "display_name": "Cristian Meneses", "link": "https://stackoverflow.com/users/2216414/cristian-meneses"}, "edited": false, "score": 0, "creation_date": 1470256545, "post_id": 38753109, "comment_id": 64880160, "body": "What are you using tu build the XLS file ? Apache POI? Because changing the content type of the response will not transform HTML to Excel"}, {"owner": {"reputation": 114, "user_id": 3348558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c883eb428ccb7e01851ae849382aed70?s=128&d=identicon&r=PG&f=1", "display_name": "Rizwan Ahmed", "link": "https://stackoverflow.com/users/3348558/rizwan-ahmed"}, "reply_to_user": {"reputation": 3913, "user_id": 2216414, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mudUB.jpg?s=128&g=1", "display_name": "Cristian Meneses", "link": "https://stackoverflow.com/users/2216414/cristian-meneses"}, "edited": false, "score": 0, "creation_date": 1470256682, "post_id": 38753109, "comment_id": 64880229, "body": "Am not using POI. Just a jsp with content type html and css(css in the jsp itself, its not included as a file). Mainly table tags"}, {"owner": {"reputation": 3913, "user_id": 2216414, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mudUB.jpg?s=128&g=1", "display_name": "Cristian Meneses", "link": "https://stackoverflow.com/users/2216414/cristian-meneses"}, "edited": false, "score": 0, "creation_date": 1470256780, "post_id": 38753109, "comment_id": 64880276, "body": "Ok.. then the previous versions of Excel you were using was displaying HTML from a XLS file. The most probable thing is that Excel 2016 is not supporting this feature anymore. For full XLS support you should rely on a library like POI to build Excel files natively."}, {"owner": {"reputation": 809, "user_id": 2925985, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kevlx.png?s=128&g=1", "display_name": "Susannah Potts", "link": "https://stackoverflow.com/users/2925985/susannah-potts"}, "edited": false, "score": 1, "creation_date": 1470256805, "post_id": 38753109, "comment_id": 64880286, "body": "I know in a servlet I used to return an Excel file the type was different than the one you show: <code>application&#47;vnd.openxmlformats-officedocument.spreadsheetml.&zwnj;&#8203;sheet</code> which specifies the .xslx file extension. (Which I&#39;m pretty certain is the extension used primarily by Excel 2016)"}, {"owner": {"reputation": 114, "user_id": 3348558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c883eb428ccb7e01851ae849382aed70?s=128&d=identicon&r=PG&f=1", "display_name": "Rizwan Ahmed", "link": "https://stackoverflow.com/users/3348558/rizwan-ahmed"}, "edited": false, "score": 0, "creation_date": 1470259413, "post_id": 38753109, "comment_id": 64881523, "body": "I think I was super excited. I was checking across csv. Still excel is not generating with application/vnd.openxmlformats-officedocument.spreadsheetml.&zwnj;&#8203;sheet"}, {"owner": {"reputation": 114, "user_id": 3348558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c883eb428ccb7e01851ae849382aed70?s=128&d=identicon&r=PG&f=1", "display_name": "Rizwan Ahmed", "link": "https://stackoverflow.com/users/3348558/rizwan-ahmed"}, "edited": false, "score": 0, "creation_date": 1470259634, "post_id": 38753109, "comment_id": 64881641, "body": "Cristian Meneses, its not easy for me to go and change this. In my application there are at least 100 place where am using the same content type. It was working perfectly prior to MS 2016."}, {"owner": {"reputation": 2788, "user_id": 3511123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b226e10967db044eb9bc3e7811c5fb9?s=128&d=identicon&r=PG", "display_name": "Jozef Chocholacek", "link": "https://stackoverflow.com/users/3511123/jozef-chocholacek"}, "edited": false, "score": 0, "creation_date": 1470292630, "post_id": 38753109, "comment_id": 64892193, "body": "@RizwanAhmed Well, you could ask Microsoft to get that functionality back. &lt;/irony&gt;"}, {"owner": {"reputation": 114, "user_id": 3348558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c883eb428ccb7e01851ae849382aed70?s=128&d=identicon&r=PG&f=1", "display_name": "Rizwan Ahmed", "link": "https://stackoverflow.com/users/3348558/rizwan-ahmed"}, "reply_to_user": {"reputation": 2788, "user_id": 3511123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b226e10967db044eb9bc3e7811c5fb9?s=128&d=identicon&r=PG", "display_name": "Jozef Chocholacek", "link": "https://stackoverflow.com/users/3511123/jozef-chocholacek"}, "edited": false, "score": 0, "creation_date": 1470421873, "post_id": 38753109, "comment_id": 64961711, "body": "@JozefChocholacek thanks for your suggestion buddy. I guess, its difficult they listen me."}, {"owner": {"reputation": 114, "user_id": 3348558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c883eb428ccb7e01851ae849382aed70?s=128&d=identicon&r=PG&f=1", "display_name": "Rizwan Ahmed", "link": "https://stackoverflow.com/users/3348558/rizwan-ahmed"}, "edited": false, "score": 0, "creation_date": 1471549835, "post_id": 38753109, "comment_id": 65403680, "body": "I got a turn around for this. Please see the below urls from Microsoft and Salesforce. <a href=\"https://support.microsoft.com/en-us/kb/3181507\" rel=\"nofollow noreferrer\">support.microsoft.com/en-us/kb/3181507</a> and                                                   <a href=\"http://salesforce.stackexchange.com/questions/131404/end-user-cannot-open-a-xls-report-exported-from-salesforce\" title=\"end user cannot open a xls report exported from salesforce\">salesforce.stackexchange.com/questions/131404/&hellip;</a> Hope this helps someone."}], "owner": {"reputation": 114, "user_id": 3348558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c883eb428ccb7e01851ae849382aed70?s=128&d=identicon&r=PG&f=1", "display_name": "Rizwan Ahmed", "link": "https://stackoverflow.com/users/3348558/rizwan-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 348, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1473362809, "creation_date": 1470256371, "question_id": 38753109, "link": "https://stackoverflow.com/questions/38753109/ms-excel-2016-file-not-generating-using-jsp", "title": "Ms Excel 2016 file not generating using JSP", "body": "<p>Am not able to export the data from a jsp to MS Excel 2016. The same code was working with previous versions. After installing 2016 it is not generating. Basically am trying to render html data to the excel.</p>\n\n<pre><code>&lt;%@ page contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF8\" %&gt;\n\nresponse.setContentType(\"application/vnd.ms-excel\");\nresponse.setHeader(\"Content-disposition\", \"attachment; filename=Results.xls\");\n</code></pre>\n\n<p>Thank you.</p>\n"}, {"tags": ["java", "serial-port"], "comments": [{"owner": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "edited": false, "score": 0, "creation_date": 1470256745, "post_id": 38753097, "comment_id": 64880253, "body": "Is there a permissions issue? Try running <code>sudo chmod 666 &#47;dev&#47;ttyUSB3</code> first"}, {"owner": {"reputation": 3, "user_id": 6674155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1ba701aee6983462664ca0ae29bfd5e?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Liu", "link": "https://stackoverflow.com/users/6674155/jerry-liu"}, "reply_to_user": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "edited": false, "score": 0, "creation_date": 1470257536, "post_id": 38753097, "comment_id": 64880677, "body": "Don&#39;t think that helped. Still turned up nothing in the hashset and threw NoSuchPortException."}, {"owner": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "edited": false, "score": 0, "creation_date": 1470257878, "post_id": 38753097, "comment_id": 64880823, "body": "thats strange.. Maybe its a setup issue. I&#39;ve had success using <a href=\"https://github.com/NeuronRobotics/nrjavaserial\" rel=\"nofollow noreferrer\">this library</a>: com.neuronrobotics:nrjavaserial:3.11.0 which is an rxtx fork with all the binaries baked in."}, {"owner": {"reputation": 3, "user_id": 6674155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1ba701aee6983462664ca0ae29bfd5e?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Liu", "link": "https://stackoverflow.com/users/6674155/jerry-liu"}, "reply_to_user": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "edited": false, "score": 0, "creation_date": 1470259016, "post_id": 38753097, "comment_id": 64881356, "body": "Working on a company project as an intern so I would mess around with dependencies only as a last resort. Any other theories why it isn&#39;t working?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6674155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1ba701aee6983462664ca0ae29bfd5e?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Liu", "link": "https://stackoverflow.com/users/6674155/jerry-liu"}, "edited": false, "score": 0, "creation_date": 1470261580, "post_id": 38754117, "comment_id": 64882521, "body": "Sir, you are a living legend. Thank you so much. #1 resolved my problem."}, {"owner": {"reputation": 3, "user_id": 6674155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1ba701aee6983462664ca0ae29bfd5e?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Liu", "link": "https://stackoverflow.com/users/6674155/jerry-liu"}, "edited": false, "score": 0, "creation_date": 1470264213, "post_id": 38754117, "comment_id": 64883387, "body": "Think I spoke a bit too soon. Worked once and now its back to NoSuchPortException.  One thing to note is that I just closed the program without calling .close(). I read a bit about this problem and one solution was to delete a file in /var/lock, but these are the only files, LCK..ttyO4  LCK..ttyO5\tLCK..ttyUSB2  lockdev  subsys. Wondering why ttyUSB3 doesn&#39;t show up here. Any other ways to &quot;unlock&quot; the serial port?"}, {"owner": {"reputation": 2395, "user_id": 624483, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UZa0K.png?s=128&g=1", "display_name": "rm5248", "link": "https://stackoverflow.com/users/624483/rm5248"}, "reply_to_user": {"reputation": 3, "user_id": 6674155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1ba701aee6983462664ca0ae29bfd5e?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Liu", "link": "https://stackoverflow.com/users/6674155/jerry-liu"}, "edited": false, "score": 0, "creation_date": 1470278818, "post_id": 38754117, "comment_id": 64887870, "body": "@JerryLiu I don&#39;t know why the port would still be locked - it has been a while since I have used RXTX.  You may want to check <code>lsof</code> and see if anything else has the port open."}], "tags": [], "owner": {"reputation": 2395, "user_id": 624483, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UZa0K.png?s=128&g=1", "display_name": "rm5248", "link": "https://stackoverflow.com/users/624483/rm5248"}, "is_accepted": true, "score": 1, "last_activity_date": 1470260574, "creation_date": 1470260574, "answer_id": 38754117, "question_id": 38753097, "link": "https://stackoverflow.com/questions/38753097/unable-to-find-serial-ports/38754117#38754117", "title": "Unable to find serial ports", "body": "<p>The problem here is with how RXTX defines ports.  By default, it will only look for certain serial ports(on Linux, <code>/dev/ttySX</code>).  There are several options you have to fix this:</p>\n\n<ol>\n<li>Set the <code>gnu.io.rxtx.SerialPorts</code> property when you start Java(either on the command line, or through code.  See the <a href=\"http://rxtx.qbang.org/wiki/index.php/FAQ#RXTX_does_not_find_my_device.2C_what.27s_wrong.3F\" rel=\"nofollow\">Rxtx documentation</a> for more details)</li>\n<li>Use a different serial port library that lets you select serial ports manually.</li>\n</ol>\n\n<p>For #2, the following are libraries that I know of:</p>\n\n<ul>\n<li><a href=\"http://rxtx.qbang.org/wiki/index.php/Main_Page\" rel=\"nofollow\">RXTX</a></li>\n<li><a href=\"https://github.com/scream3r/java-simple-serial-connector\" rel=\"nofollow\">JSSC</a></li>\n<li><a href=\"http://www.sparetimelabs.com/purejavacomm/purejavacomm.php\" rel=\"nofollow\">PureJavaComm</a></li>\n<li><a href=\"https://github.com/rm5248/JavaSerial\" rel=\"nofollow\">JavaSerial</a> (disclaimer: this is my library)</li>\n</ul>\n"}], "owner": {"reputation": 3, "user_id": 6674155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1ba701aee6983462664ca0ae29bfd5e?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Liu", "link": "https://stackoverflow.com/users/6674155/jerry-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 0, "accepted_answer_id": 38754117, "answer_count": 1, "score": 0, "last_activity_date": 1470260574, "creation_date": 1470256337, "last_edit_date": 1470257799, "question_id": 38753097, "link": "https://stackoverflow.com/questions/38753097/unable-to-find-serial-ports", "title": "Unable to find serial ports", "body": "<p>Using Rxtx API.</p>\n\n<p>I am 100% sure there is a serial port available. On Debian, I can see <code>/dev/ttyUSB3</code> exists when the device is connected.</p>\n\n<p>Tried running <code>getPortIdentifiers()</code> and got nothing when I tried iterating over the hashset</p>\n\n<pre><code>CommPortIdentifier portIdentifier = CommPortIdentifier.getPortIdentifier(\"/dev/ttyUSB3\");\n</code></pre>\n\n<p>Also did not work. I got:</p>\n\n<blockquote>\n  <p>Exception Caused by: gnu.io.NoSuchPortException</p>\n</blockquote>\n\n<p>What am I doing wrong? I am fairly sure rxtx was set up correctly.</p>\n"}, {"tags": ["java", "switch-statement"], "comments": [{"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 1, "creation_date": 1470256132, "post_id": 38753028, "comment_id": 64879966, "body": "Also, don&#39;t keep creating <code>Scanner</code> instances: create one and reuse it."}, {"owner": {"reputation": 13, "user_id": 6559226, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5jhFuOREUvY/AAAAAAAAAAI/AAAAAAAAAKA/MeExW84mc7k/photo.jpg?sz=128", "display_name": "Pavan Yalamanchili", "link": "https://stackoverflow.com/users/6559226/pavan-yalamanchili"}, "reply_to_user": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1470256595, "post_id": 38753028, "comment_id": 64880186, "body": "Sure But can you atleast tell me how to achieve it"}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 1, "creation_date": 1470256882, "post_id": 38753028, "comment_id": 64880333, "body": "The only thing that is stopping you looping is that you are not comparing <code>Rch</code> to <code>&quot;Y&quot;</code> and <code>&quot;y&quot;</code> correctly. The problem is explained in the duplicate question."}], "owner": {"reputation": 13, "user_id": 6559226, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5jhFuOREUvY/AAAAAAAAAAI/AAAAAAAAAKA/MeExW84mc7k/photo.jpg?sz=128", "display_name": "Pavan Yalamanchili", "link": "https://stackoverflow.com/users/6559226/pavan-yalamanchili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "closed_date": 1470256103, "answer_count": 0, "score": 0, "last_activity_date": 1493310105, "creation_date": 1470256044, "last_edit_date": 1493310105, "question_id": 38753028, "link": "https://stackoverflow.com/questions/38753028/i-want-to-make-user-to-enter-his-choice-and-repeat-the-program-untill-he-press-a", "closed_reason": "Duplicate", "title": "I want to make user to enter his choice and repeat the program untill he press an N on keyboard in java", "body": "<p>So far my code is like this in Java. I tried it in C and I used a FFLUSH() function to do this. Is there any such function in Java that can do this?</p>\n\n<pre><code>/**\n * \n */\npackage UserInput;\n\nimport java.util.Scanner;\n\n/**\n * @author ypava\n *\n */\npublic class UserInput {\n\n    private static Scanner s,p5,q5,p4,q4,p3,q3,p2,q2,p,q,ch;\n     //static float a,b,c;\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n\n        //float a,b,c;\n\n        int choice;\n\n        String Rch;\n        do{\n        System.out.println(\"\\t\\t\\t Menu\");\n        System.out.println(\"\\t 1.Addition\");\n        System.out.println(\"\\t 2.Subtraction\");\n        System.out.println(\"\\t 3.Multiplication\");\n        System.out.println(\"\\t 4.Division\");\n        System.out.println(\"\\t 5.Modulus\");\n        System.out.println(\"\");\n        System.out.println(\"Please Enter Your Choice\");\n        s = new Scanner(System.in);\n        choice=s.nextInt();\n\n\n        switch(choice)\n        {\n        case 1:\n        {\n            System.out.println(\"Enter the Values of a &amp; b\");\n            p5 = new Scanner(System.in);\n            float a=p5.nextFloat();\n            q5 = new Scanner(System.in);\n            float b= q5.nextFloat();\n            float c=a+b;\n            System.out.println(\"The Sum is: \\t\" +c);\n            break;\n\n        }\n        case 2:\n        {\n            System.out.println(\"Enter the Values of a &amp; b\");\n            p4 = new Scanner(System.in);\n            float a=p4.nextFloat();\n            q4 = new Scanner(System.in);\n            float b= q4.nextFloat();\n            float c=a-b;\n            System.out.println(\"The Difference is: \\t\" +c);\n            break;\n        }\n        case 3:\n        {\n            System.out.println(\"Enter the Values of a &amp; b\");\n            p3 = new Scanner(System.in);\n            float a=p3.nextFloat();\n            q3 = new Scanner(System.in);\n            float b= q3.nextFloat();\n            float c=a*b;\n            System.out.println(\"The Multiplication is: \\t\" +c);\n            break;\n        }\n        case 4:\n        {\n            System.out.println(\"Enter the Values of a &amp; b\");\n            p2 = new Scanner(System.in);\n            float a=p2.nextFloat();\n            q2 = new Scanner(System.in);\n            float b= q2.nextFloat();\n            float c=a/b;\n            System.out.println(\"The Division is: \\t\" +c);\n            break;\n        }\n        case 5:\n        {\n            System.out.println(\"Enter the Values of a &amp; b\");\n            p = new Scanner(System.in);\n            float a=p.nextFloat();\n            q = new Scanner(System.in);\n            float b= q.nextFloat();\n            float c=a%b;\n            System.out.println(\"The Modulus is: \\t\" +c);\n            break;\n        }\n\n       default:\n           System.out.println(\"Wrong Option Entered\");\n           break;\n\n        }\n\n        System.out.println(\"Do you Want to Perform any other operation Y/N\");\n        ch = new Scanner(System.in);\n         Rch=ch.nextLine();\n\n\n        }while(Rch==\"Y\"|| Rch==\"y\");\n\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["java", "spring-boot", "spring-retry"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 1750707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f23d59d883cef1bd542a2e735aae5e?s=128&d=identicon&r=PG", "display_name": "TacoTacoBurrito175", "link": "https://stackoverflow.com/users/1750707/tacotacoburrito175"}, "edited": false, "score": 0, "creation_date": 1470267989, "post_id": 38755319, "comment_id": 64884418, "body": "The delete() method is part of the dao class that is being autowired in. The dao is a crud repository class. Sorry didn&#39;t include the whole DetailService class there. Would this still be short circuiting the proxy?"}, {"owner": {"reputation": 93, "user_id": 1750707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f23d59d883cef1bd542a2e735aae5e?s=128&d=identicon&r=PG", "display_name": "TacoTacoBurrito175", "link": "https://stackoverflow.com/users/1750707/tacotacoburrito175"}, "edited": false, "score": 0, "creation_date": 1470268289, "post_id": 38755319, "comment_id": 64884479, "body": "Oh sorry, misunderstood. No this is not being called within the same class. It&#39;s being called from a controller or another service"}, {"owner": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "reply_to_user": {"reputation": 93, "user_id": 1750707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f23d59d883cef1bd542a2e735aae5e?s=128&d=identicon&r=PG", "display_name": "TacoTacoBurrito175", "link": "https://stackoverflow.com/users/1750707/tacotacoburrito175"}, "edited": false, "score": 0, "creation_date": 1470268361, "post_id": 38755319, "comment_id": 64884502, "body": "No; I mean the <code>delete()</code> method in <b>this</b> class (the one that&#39;s annotated). See my edit for another work around."}, {"owner": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "reply_to_user": {"reputation": 93, "user_id": 1750707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f23d59d883cef1bd542a2e735aae5e?s=128&d=identicon&r=PG", "display_name": "TacoTacoBurrito175", "link": "https://stackoverflow.com/users/1750707/tacotacoburrito175"}, "edited": false, "score": 0, "creation_date": 1470268504, "post_id": 38755319, "comment_id": 64884538, "body": "If you set a breakpoint, you should see a proxy and RetryTemplate in the call stack between the controller and this class; if you don&#39;t then there&#39;s something wrong with the wiring."}, {"owner": {"reputation": 93, "user_id": 1750707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f23d59d883cef1bd542a2e735aae5e?s=128&d=identicon&r=PG", "display_name": "TacoTacoBurrito175", "link": "https://stackoverflow.com/users/1750707/tacotacoburrito175"}, "edited": false, "score": 0, "creation_date": 1470323819, "post_id": 38755319, "comment_id": 64913984, "body": "I was mistaken last night, that <code>delete()</code> is called by two other methods in the class. If i put the <code>@Retryable</code> on those methods will that work? Or do I need to write my own RetryTemplate? I&#39;m trying to avoid the writing my own..."}, {"owner": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "reply_to_user": {"reputation": 93, "user_id": 1750707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f23d59d883cef1bd542a2e735aae5e?s=128&d=identicon&r=PG", "display_name": "TacoTacoBurrito175", "link": "https://stackoverflow.com/users/1750707/tacotacoburrito175"}, "edited": false, "score": 0, "creation_date": 1470327901, "post_id": 38755319, "comment_id": 64916874, "body": "Yes; as long as the call is from an external bean, <code>@Retryable</code> will work. But you don&#39;t need to &quot;write&quot; a <code>RetryTemplate</code>, just configure one and use it to call the method through one of its <code>execute</code> methods."}, {"owner": {"reputation": 93, "user_id": 1750707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f23d59d883cef1bd542a2e735aae5e?s=128&d=identicon&r=PG", "display_name": "TacoTacoBurrito175", "link": "https://stackoverflow.com/users/1750707/tacotacoburrito175"}, "edited": false, "score": 0, "creation_date": 1470336639, "post_id": 38755319, "comment_id": 64921848, "body": "Thank you! I was under the assumption that the Retry Template would have a default bean and I didn&#39;t need to declare a bean in the Application class. Once I did that <code>@Retryable</code> worked.  <code>@Bean public RetryTemplate retryTemplate() { </code>"}], "tags": [], "owner": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "is_accepted": true, "score": 10, "last_activity_date": 1470268315, "last_edit_date": 1470268315, "creation_date": 1470267647, "answer_id": 38755319, "question_id": 38753024, "link": "https://stackoverflow.com/questions/38753024/retryable-annotation-in-spring-retry-will-not-fire/38755319#38755319", "title": "@Retryable annotation in Spring Retry will not fire", "body": "<p>If you are calling the <code>delete()</code> method (in the <code>DetailService</code>) from within the same class, you are short-circuiting the proxy that Spring wraps the bean in.</p>\n\n<p>The class that has the annotation must be a Spring-managed bean and the <code>delete()</code> method must be called from some other Spring-managed bean that has access to the retryable bean via autowiring, injection etc.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>If you need to call the <code>delete()</code> method from another method within this class, you can't use the annotation - use a suitably configured <code>RetryTemplate</code> instead.</p>\n"}], "owner": {"reputation": 93, "user_id": 1750707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f23d59d883cef1bd542a2e735aae5e?s=128&d=identicon&r=PG", "display_name": "TacoTacoBurrito175", "link": "https://stackoverflow.com/users/1750707/tacotacoburrito175"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5592, "favorite_count": 0, "closed_date": 1599355541, "accepted_answer_id": 38755319, "answer_count": 1, "score": 1, "last_activity_date": 1500482024, "creation_date": 1470256039, "last_edit_date": 1500482024, "question_id": 38753024, "link": "https://stackoverflow.com/questions/38753024/retryable-annotation-in-spring-retry-will-not-fire", "closed_reason": "Duplicate", "title": "@Retryable annotation in Spring Retry will not fire", "body": "<p>I have a table update that causes a deadlock and am trying to get the Spring Retry to retry when the method gets the a locking exception of some kind. I've tried taking out the maxAttempts, value and backoff but it doesn't ever seem to catch any of the exceptions. Am I missing something? Do I need to declare a bean in the Application file? Any help would be much appreciated!</p>\n\n<h2>Application.Java</h2>\n\n<pre><code>@SpringBootApplication\n@EnableRetry\npublic class Application extends SpringBootServletInitializer {\n</code></pre>\n\n<h2>DetailService</h2>\n\n<pre><code>@Service\npublic class DetailService {\n\n    @Retryable(maxAttempts = 5, value = { LockAcquisitionException.class, ConcurrencyFailureException.class }, backoff = @Backoff(delay = 500, multiplier = 2) )\n    public void delete(final String detailCode) {\n        try {\n            this.delete(this.dao.findByDetailCode(detailCode));\n        } catch (LockAcquisitionException | ConcurrencyFailureException e) {\n            LOG.warn(\"Locking error! Going to retry\", e.getMessage());\n            throw e;\n        }\n    }\n\n    public void delete(Details detail) {\n           this.dao.delete(detail);            \n    }\n\n    @Retryable(maxAttempts = 5, value = { LockAcquisitionException.class, ConcurrencyFailureException.class }, backoff = @Backoff(delay = 500, multiplier = 2) )\n    public void delete(final Integer id) {\n        if (id != null) {\n            try {\n                this.delete(this.dao.findOne(id));\n            } catch (LockAcquisitionException | ConcurrencyFailureException e) { \n                 LOG.warn(\"Locking error! Going to retry\", e.getMessage());\n                 throw e;\n            }\n        }\n    }\n</code></pre>\n\n<h2>EDIT</h2>\n\n<p>Rewrote my DetailService above to give more detail and add missing methods</p>\n"}, {"tags": ["java", "maven", "build", "backwards-compatibility", "shim"], "comments": [{"owner": {"reputation": 81177, "user_id": 296328, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DSpH6.jpg?s=128&g=1", "display_name": "khmarbaise", "link": "https://stackoverflow.com/users/296328/khmarbaise"}, "edited": false, "score": 0, "creation_date": 1470290751, "post_id": 38752883, "comment_id": 64891371, "body": "Profiles as not good. If you have already a &quot;shim&quot; class which handles this than the shim class into a separate module and your usual lib into an other. So a user can decide to use the shim package which has the other version within it and other users can decide to sue directpy the lib module without the shim module."}], "owner": {"reputation": 390, "user_id": 1002246, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8df4d2e9234745ee943f1b1f0569b895?s=128&d=identicon&r=PG", "display_name": "grimetime", "link": "https://stackoverflow.com/users/1002246/grimetime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1470255471, "creation_date": 1470255471, "question_id": 38752883, "link": "https://stackoverflow.com/questions/38752883/what-ways-can-maven-be-used-to-introduce-a-shim-to-a-build-that-supports-two-d", "title": "What ways can Maven be used to introduce a &quot;shim&quot; to a build that supports two different versions of a dependency?", "body": "<p>I have a project that I build using Maven, which has a number of different dependencies. A requirement of my project is to build against two different versions of one of these dependencies, using a profile to toggle using one version over the other:</p>\n\n<pre><code>&lt;profile&gt;\n    &lt;id&gt;use-old-version&lt;/id&gt;\n    &lt;properties&gt;\n        &lt;my.dependency.version&gt;1.0-old-version&lt;/my.dependency.version&gt;\n    &lt;/properties&gt;\n&lt;/profile&gt;\n</code></pre>\n\n<p>This works just fine, except that there is a difference in the API provided by these versions. It's only a small difference, and is totally manageable by introducing a small \"shim\" class to delegate which call to use, which gets decided at build time.</p>\n\n<p>How I am currently envisioning solving this problem is by using separate modules for each version's shim class, and declaring this dependency on the older version's shim module in the profile definition.</p>\n\n<p>My question is - is this the best way to do this? What other options would I have for doing such an operation with Maven?</p>\n"}, {"tags": ["java", "android", "listview", "search"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 6528720, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/81dbd229e3aa1f9775db68515d906a71?s=128&d=identicon&r=PG&f=1", "display_name": "Devk", "link": "https://stackoverflow.com/users/6528720/devk"}, "edited": false, "score": 0, "creation_date": 1470286750, "post_id": 38753026, "comment_id": 64889922, "body": "now the problem is after returning to main listview ,pressing the back button should close the app.... above solution solves the editText clear problem...."}, {"owner": {"reputation": 3132, "user_id": 3960815, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QKWIX.jpg?s=128&g=1", "display_name": "basic", "link": "https://stackoverflow.com/users/3960815/basic"}, "reply_to_user": {"reputation": 107, "user_id": 6528720, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/81dbd229e3aa1f9775db68515d906a71?s=128&d=identicon&r=PG&f=1", "display_name": "Devk", "link": "https://stackoverflow.com/users/6528720/devk"}, "edited": false, "score": 0, "creation_date": 1470315207, "post_id": 38753026, "comment_id": 64906891, "body": "So should it close if hte edittext is empty or if you are at index 0 in the listview?"}, {"owner": {"reputation": 107, "user_id": 6528720, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/81dbd229e3aa1f9775db68515d906a71?s=128&d=identicon&r=PG&f=1", "display_name": "Devk", "link": "https://stackoverflow.com/users/6528720/devk"}, "edited": false, "score": 0, "creation_date": 1470315355, "post_id": 38753026, "comment_id": 64907003, "body": "I should close only when at index 0.....if the user is typing and wants to go back to index 0....clicking back button should clear the contents of the edittext and come at index0"}], "tags": [], "owner": {"reputation": 3132, "user_id": 3960815, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QKWIX.jpg?s=128&g=1", "display_name": "basic", "link": "https://stackoverflow.com/users/3960815/basic"}, "is_accepted": false, "score": 1, "last_activity_date": 1470316698, "last_edit_date": 1470316698, "creation_date": 1470256042, "answer_id": 38753026, "question_id": 38752881, "link": "https://stackoverflow.com/questions/38752881/clear-the-contents-of-the-edittext-on-pressing-back-button/38753026#38753026", "title": "clear the contents of the editText on pressing back button", "body": "<p>You will need to override your onBackPressed() method in your actiivty so that it does not finish</p>\n\n<pre><code>@Override\npublic void onBackPressed(){\n    edittext.setText(\"\");\n    listView.setSelection(0);\n    //or\n    listView.smoothScrollToPosition(0);\n}\n</code></pre>\n\n<p>The above will set the edittext to an empty string and then move your listview back to index 0 when you click the back button. </p>\n\n<p><a href=\"https://developer.android.com/reference/android/app/Activity.html#onBackPressed()\" rel=\"nofollow\">https://developer.android.com/reference/android/app/Activity.html#onBackPressed()</a></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>So in order to still close the application if you are at the top of the listview, you will need to add some logic to keep track of where you are in your listview. The easiest way would be to create a boolean that you alter in a listview scroll listener. </p>\n\n<pre><code>public class first extends AppCompatActivity {\nEditText editText;\nprivate ListView listView;\nboolean atTop; --&gt; add this variable here. This will monitor our top status.\n...// rest of logic\n</code></pre>\n\n<p>Then we need to apply a scrollListener to your listview in your onCreate. </p>\n\n<pre><code>listView.setOnScrollListener(new AbsListView.OnScrollListener() {\n            @Override\n            public void onScrollStateChanged(AbsListView absListView, int i) {\n\n            }\n\n            @Override\n            public void onScroll(AbsListView absListView, int i, int i1, int i2) {\n                if(i == 0){\n                    View v = myListView.getChildAt(0);\n                    int offset = (v == null) ? 0 : v.getTop();\n                    if (offset == 0) {\n                        atTop = true;\n                        return;\n                    }\n                }else{\n                    atTop = false;\n                }\n            }\n});\n</code></pre>\n\n<p>In the onscroll essentially we are checking if we are at the top or somewhere else. We aren't checking for the bottom so this should work almost anywhere. Then in your onBackPressed you would jsut do:</p>\n\n<pre><code>@Override\npublic void onBackPressed(){\n     if(atTop){\n          super.onBackPressed();\n     }else {\n          edittext.setText(\"\");\n          listView.setSelection(0);\n          //or\n          listView.smoothScrollToPosition(0);\n      }\n}\n</code></pre>\n\n<p>So now if we are at the top we want the onBackPressed to run the same as it normally would. If we aren't clear the edit text and scroll to the top. </p>\n"}], "owner": {"reputation": 107, "user_id": 6528720, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/81dbd229e3aa1f9775db68515d906a71?s=128&d=identicon&r=PG&f=1", "display_name": "Devk", "link": "https://stackoverflow.com/users/6528720/devk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1499, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1470316698, "creation_date": 1470255465, "question_id": 38752881, "link": "https://stackoverflow.com/questions/38752881/clear-the-contents-of-the-edittext-on-pressing-back-button", "title": "clear the contents of the editText on pressing back button", "body": "<p>I want to clear the contents of editText. When back button is pressed while typing it should minimize the keyboard and take me back to the starting listview....Now doing so it directly exists the app..\nAnd the keyboard appears on the screen once the app is started....instead i want it to appear when the user clicks on the editText.....</p>\n\n<p>Here's my code:</p>\n\n<pre><code>package com.example.acer.aartisangrah;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.text.Editable;\nimport android.text.TextWatcher;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.AdapterView;\nimport android.widget.BaseAdapter;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.ListView;\nimport android.widget.TextView;\n\nimport java.util.ArrayList;\n\npublic class first extends AppCompatActivity {\nEditText editText;\nprivate ListView listView;\n\nprivate String[] names = {\"\u092a\u094d\u0930\u093e\u0930\u094d\u0925\u0928\u093e\", \"\u0938\u0941\u0916\u0915\u0930\u094d\u0924\u093e \u0926\u0941:\u0916\u0939\u0930\u094d\u0924\u093e\", \"\u0917\u091c\u093e\u0928\u0928\u093e \u0936\u094d\u0930\u0940\u0917\u0923\u0930\u093e\u092f\u093e\", \"\u092f\u0947\u0908 \u0939\u094b \u0935\u093f\u0920\u094d\u0920\u0932\u0947\", \"\u0932\u0935\u0925\u0935\u0924\u0940 \u0935\u093f\u0915\u094d\u0930\u093e\u0933\u093e\", \"\u0926\u0941\u0930\u094d\u0917\u0947 \u0926\u0941\u0930\u094d\u0918\u091f \u092d\u093e\u0930\u0940\", \"\u0906\u0930\u0924\u0940 \u091c\u094d\u091e\u093e\u0928\u0930\u093e\u091c\u093e\",\n        \"\u0939\u0947 \u092d\u094b\u0933\u094d\u092f\u093e \u0936\u0902\u0915\u0930\u093e\", \"\u0913\u0935\u093e\u0933\u0942\", \"\u092e\u0902\u0917\u0947\u0936\u093e \u092e\u0939\u093e\u0930\u0942\u0926\u094d\u0930\u093e\", \"\u0906\u0932\u093e \u0917\u0923\u0930\u093e\u092f\u093e\", \"\u0936\u0947\u0902\u0926\u0941\u0930 \u0932\u093e\u0932 \u091a\u0922\u093e\u092f\u094b\", \"\u090f\u0915\u0926\u0902\u0924\u093e\", \"\u0915\u0930\u094d\u092a\u0942\u0930 \u0917\u094c\u0930\u093e\", \"\u0939\u0947 \u0917\u091c\u0935\u0927\u0928\u093e\", \"\u092a\u094d\u0930\u0925\u092e\u0947\u0936\u094d\u0935\u0930\u093e\", \"\u091c\u092f\u0926\u0947\u0935\u093e \u0939\u0947  \u0938\u093e\u0908\u0928\u093e\u0925\u093e\",\n        \"\u0936\u094d\u0930\u0940 \u0938\u0924\u094d\u092f\u0928\u093e\u0930\u093e\u092f\u0923\u093e\u091a\u0940 \u0906\u0930\u0924\u0940\", \"\u0936\u094d\u0930\u0940 \u092e\u0939\u093e\u0932\u0915\u094d\u0937\u094d\u092e\u0940\u091a\u0940 \u0906\u0930\u0924\u0940\", \"\u0950 \u091c\u092f \u0932\u0915\u094d\u0937\u094d\u092e\u0940 \u092e\u093e\u0924\u093e\", \"\u0906\u0930\u0924\u0940 \u0938\u0902\u0924\u094b\u0937\u0940 \u092e\u093e\u0924\u093e \u0915\u0940\", \"\u0927\u0928\u094d\u092f \u0927\u0928\u094d\u092f \u0939\u094b \u092a\u094d\u0930\u0926\u0915\u094d\u0937\u093f\u0923\u093e\", \"\u0938\u0941\u0916\u0902\u0915\u0930\u094d\u0924\u093e \u0915\u0940 \u0926\u0941:\u0916\u0939\u0930\u094d\u0924\u093e\",\n        \"\u0950 \u091c\u092f \u091c\u0917\u0926\u0940\u0936\", \"\u0939\u0947 \u0917\u094c\u0930\u0940 \u0917\u091c\u093e\u0928\u0928\", \"\u0918\u093e\u0932\u0940\u0928 \u0932\u094b\u091f\u093e\u0902\u0917\u0923\"};\nprivate int imageid[] = {R.drawable.ganeshaji, R.drawable.ganeshaji, R.drawable.ganeshaji, R.drawable.ganeshaji, R.drawable.ganeshaji, R.drawable.ganeshaji, R.drawable.ganeshaji, R.drawable.ganeshaji,\n        R.drawable.ganeshaji, R.drawable.ganeshaji, R.drawable.ganeshaji, R.drawable.ganeshaji, R.drawable.ganeshaji, R.drawable.ganeshaji,\n        R.drawable.ganeshaji, R.drawable.ganeshaji, R.drawable.ganeshaji, R.drawable.ganeshaji, R.drawable.ganeshaji, R.drawable.ganeshaji, R.drawable.ganeshaji,\n        R.drawable.ganeshaji, R.drawable.ganeshaji, R.drawable.ganeshaji, R.drawable.ganeshaji, R.drawable.ganeshaji};\nint textlength = 0;\nArrayList&lt;String&gt; text_sort = new ArrayList&lt;String&gt;();\n\nArrayList&lt;Integer&gt; image_sort = new ArrayList&lt;Integer&gt;();\n\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_first);\n    listView = (ListView) findViewById(R.id.listView);\n    editText = (EditText) findViewById(R.id.inputSearch);\n    listView.setAdapter(new MyCustomAdapter(names, imageid));\n    editText.addTextChangedListener(new TextWatcher()\n\n    {\n        public void afterTextChanged(Editable s) {\n        }\n\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n        }\n\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\n            textlength = editText.getText().length();\n            text_sort.clear();\n            image_sort.clear();\n            for (int i = 0; i &lt; names.length; i++) {\n                if (textlength &lt;= names[i].length()) {\n                    if (editText.getText().toString().equalsIgnoreCase((String) names[i].subSequence(0, textlength))) {\n                        text_sort.add(names[i]);\n                        image_sort.add(imageid[i]);\n                    }\n                }\n            }\n            listView.setAdapter(new MyCustomAdapter(text_sort, image_sort));\n        }\n\n    });\n\n    listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n            TextView tv = (TextView) view.findViewById(R.id.textViewName);\n            String strSelectedString = tv.getText().toString();\n            for (int selectedPosition = 0; selectedPosition &lt; names.length; selectedPosition++) {\n                if (names[selectedPosition].equalsIgnoreCase(strSelectedString)) {\n                    moveToNextActivity(selectedPosition);\n                    break;\n                }\n            }\n\n        }\n    });\n}\n\n\npublic void moveToNextActivity(int position) {\n    if (position == 0) {\n        Intent myIntent = new Intent(getApplicationContext(), akalp.class);\n        startActivityForResult(myIntent, 0);\n    }\n\n    if (position == 1) {\n        Intent myIntent = new Intent(getApplicationContext(), Sukharta.class);\n        startActivityForResult(myIntent, 0);\n    }\n\n    if (position == 2) {\n        Intent myIntent = new Intent(getApplicationContext(), gajananashriganraya.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 3) {\n        Intent myIntent = new Intent(getApplicationContext(), yehihovittale.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 4) {\n        Intent myIntent = new Intent(getApplicationContext(), lavathavthi.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 5) {\n        Intent myIntent = new Intent(getApplicationContext(), durgedurgat.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 6) {\n        Intent myIntent = new Intent(getApplicationContext(), nyanraja.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 7) {\n        Intent myIntent = new Intent(getApplicationContext(), bolya.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 8) {\n        Intent myIntent = new Intent(getApplicationContext(), vovalo.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 9) {\n        Intent myIntent = new Intent(getApplicationContext(), mangesha.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 10) {\n        Intent myIntent = new Intent(getApplicationContext(), alaganraya.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 11) {\n        Intent myIntent = new Intent(getApplicationContext(), shendorlal.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 12) {\n        Intent myIntent = new Intent(getApplicationContext(), ekdanta.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 13) {\n        Intent myIntent = new Intent(getApplicationContext(), karpurgaura.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 14) {\n        Intent myIntent = new Intent(getApplicationContext(), heygajavadana.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 15) {\n        Intent myIntent = new Intent(getApplicationContext(), prathmeshvara.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 16) {\n        Intent myIntent = new Intent(getApplicationContext(), sainatha.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 17) {\n        Intent myIntent = new Intent(getApplicationContext(), satyanarayan.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 18) {\n        Intent myIntent = new Intent(getApplicationContext(), jaidevijaidevi.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 19) {\n        Intent myIntent = new Intent(getApplicationContext(), omjaimahalakshmi.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 20) {\n        Intent myIntent = new Intent(getApplicationContext(), maitohaarti.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 21) {\n        Intent myIntent = new Intent(getApplicationContext(), danyadanyaho.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 22) {\n        Intent myIntent = new Intent(getApplicationContext(), sukhartakidukharta.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 23) {\n        Intent myIntent = new Intent(getApplicationContext(), omjaijagdish.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 24) {\n        Intent myIntent = new Intent(getApplicationContext(), heygaurigajanana.class);\n        startActivityForResult(myIntent, 0);\n    }\n    if (position == 25) {\n        Intent myIntent = new Intent(getApplicationContext(), ghalinlotangan.class);\n        startActivityForResult(myIntent, 0);\n    }\n}\n\nclass MyCustomAdapter extends BaseAdapter {\n    String[] data_text;\n    int[] data_image;\n\n    MyCustomAdapter() {\n\n    }\n\n    MyCustomAdapter(String[] names, int[] imageid) {\n        data_text = names;\n        data_image = imageid;\n    }\n\n    MyCustomAdapter(ArrayList&lt;String&gt; names, ArrayList&lt;Integer&gt; imageid) {\n        data_text = new String[names.size()];\n        data_image = new int[imageid.size()];\n        for (int i = 0; i &lt; names.size(); i++) {\n            data_text[i] = names.get(i);\n            data_image[i] = imageid.get(i);\n        }\n    }\n\n    public int getCount() {\n        return data_text.length;\n    }\n\n    public String getItem(int position) {\n        return null;\n    }\n\n    public long getItemId(int position) {\n        return position;\n    }\n\n    public View getView(int position, View convertView, ViewGroup parent) {\n        LayoutInflater inflater = getLayoutInflater();\n        View row;\n        row = inflater.inflate(R.layout.list_layout, parent, false);\n        TextView textview = (TextView) row.findViewById(R.id.textViewName);\n        ImageView imageview = (ImageView) row.findViewById(R.id.imageView);\n        textview.setText(data_text[position]);\n        imageview.setImageResource(data_image[position]);\n        return (row);\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["java", "csv", "fileinputstream", "file-writing"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6674065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e360e99c72fc765f2b9b3c7a2e7ed50?s=128&d=identicon&r=PG&f=1", "display_name": "Dom", "link": "https://stackoverflow.com/users/6674065/dom"}, "edited": false, "score": 1, "creation_date": 1470258792, "post_id": 38753152, "comment_id": 64881257, "body": "You happen to be one of my favorite people right now. It worked!! I tried to up-vote but I don&#39;t have a high enough reputation for that."}, {"owner": {"reputation": 117, "user_id": 5510259, "user_type": "registered", "profile_image": "https://graph.facebook.com/937528609661686/picture?type=large", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5510259/daniel"}, "reply_to_user": {"reputation": 13, "user_id": 6674065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e360e99c72fc765f2b9b3c7a2e7ed50?s=128&d=identicon&r=PG&f=1", "display_name": "Dom", "link": "https://stackoverflow.com/users/6674065/dom"}, "edited": false, "score": 0, "creation_date": 1470262000, "post_id": 38753152, "comment_id": 64882689, "body": "No worries! Glad I could help :)"}], "tags": [], "owner": {"reputation": 117, "user_id": 5510259, "user_type": "registered", "profile_image": "https://graph.facebook.com/937528609661686/picture?type=large", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5510259/daniel"}, "is_accepted": true, "score": 0, "last_activity_date": 1470257345, "last_edit_date": 1470257345, "creation_date": 1470256531, "answer_id": 38753152, "question_id": 38752868, "link": "https://stackoverflow.com/questions/38752868/generating-custom-text-files-in-java/38753152#38753152", "title": "Generating custom text files in java", "body": "<p>It looks like you have some scoping issues. Whenever you declare a variable, it only exists within the boundaries of its closest set of braces. By declaring strar in your main method, the only place you can explicitly use it is within your main method. Your Printer() method doesn't have any previous mention of strar, and the only way it can know about it is by passing it as an argument to the function.</p>\n\n<p>i.e. </p>\n\n<pre><code>Printer(String[] args) \n</code></pre>\n\n<p>Or, better yet: </p>\n\n<pre><code>Printer(String arg)\n</code></pre>\n\n<p>and then call it in your while loop with </p>\n\n<pre><code>Printer(strar[0]);\n</code></pre>\n\n<p>Also, your Printer method begins with a \"for each\" loop called on strar[0], which is not a valid target for a foreach loop anyway, because if I recall correctly, String isn't an Iterable object. If you implemented the Printer function in the way I recommended, you won't need a for each loop anyway, as there will only be one name passed at a time.</p>\n"}], "owner": {"reputation": 13, "user_id": 6674065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e360e99c72fc765f2b9b3c7a2e7ed50?s=128&d=identicon&r=PG&f=1", "display_name": "Dom", "link": "https://stackoverflow.com/users/6674065/dom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 38753152, "answer_count": 1, "score": 1, "last_activity_date": 1470259071, "creation_date": 1470255411, "last_edit_date": 1470259071, "question_id": 38752868, "link": "https://stackoverflow.com/questions/38752868/generating-custom-text-files-in-java", "title": "Generating custom text files in java", "body": "<pre><code>public class ScriptCreator {\n\n    public static void main(String[] args) throws IOException {\n        #Choose the CSV file that I am importing the data from\n        String fName = \"C:\\\\Users\\\\MyUser\\\\Downloads\\\\CurrentApplications (1).csv\";\n        String thisLine;\n        int count = 0;\n        FileInputStream fis = new FileInputStream(fName);\n        DataInputStream myInput = new DataInputStream(fis);\n        int i = 0;\n        #Prints the List of names in the CSV file\n        while((thisLine = myInput.readLine()) != null){\n            String strar[] = thisLine.split(\",\");\n            Printer(strar[0]);\n        }\n\n    }\n\n    public static void Printer(String arg) throws IOException{      \n        #Want to pull from the String strar[0] from above\n        #Says that it cannot be resolved to a variable      \n            String name = arg;\n            String direc = \"C:/Users/MyUser/Documents/\";\n            String path = \"C:/Users/MyUser/Documents\";\n            Iterable&lt;String&gt; lines = Arrays.asList(\"LOGIN -acceptssl ServerName\",\"N \" + name + \" \" + direc ,\"cd \" + name,\"import \" + path  + \"*.ppf\" + \" true\",\"scan\", \"publishassessase -aseapplication \" + name,\"removeassess *\",\"del \" + name );\n            Path file = Paths.get(name + \".txt\");\n            Files.write(file, lines, Charset.forName(\"UTF-8\"));\n\n    }\n\n}\n</code></pre>\n\n<p>Hello everyone and thank you in advance for any help that you may be able to give me. I am trying to create a java program that will pull names from a CSV file and take those names to generate custom outputs for text files. I am having a hard time being able to set a variable that I can use to grab the names that are being printed and using them to generate a text file by setting the name variable.\nI am also going to need some help in making sure that it creates the amount of scripts for the amount of names in the CSV file. Ex. 7 names in CSV makes 7 custom .txt files, each with its appropriate name.</p>\n\n<p>Any help is greatly appreciated!</p>\n\n<p>Edit:   I have updated my code to match the correction that was needed to make the code work.</p>\n"}, {"tags": ["java", "cookies", "oauth", "stormpath"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 6575333, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/baf75f73ce08dd67a433fe8b44f4df99?s=128&d=identicon&r=PG&f=1", "display_name": "tinker", "link": "https://stackoverflow.com/users/6575333/tinker"}, "edited": false, "score": 0, "creation_date": 1470320294, "post_id": 38755917, "comment_id": 64911065, "body": "Thanks for the response. I figured I couldn&#39;t be too far off base with the implementation but I wanted to get some confirmation that what I was doing here was solid."}, {"owner": {"reputation": 4203, "user_id": 998998, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/76297450aebc4e5b5e0cfe7519a2952a?s=128&d=identicon&r=PG", "display_name": "robertjd", "link": "https://stackoverflow.com/users/998998/robertjd"}, "reply_to_user": {"reputation": 57, "user_id": 6575333, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/baf75f73ce08dd67a433fe8b44f4df99?s=128&d=identicon&r=PG&f=1", "display_name": "tinker", "link": "https://stackoverflow.com/users/6575333/tinker"}, "edited": false, "score": 0, "creation_date": 1470329194, "post_id": 38755917, "comment_id": 64917689, "body": "I&#39;m glad I could help!  P.S. I work at <a href=\"https://stormpath.com\" rel=\"nofollow noreferrer\">Stormpath</a> and we love helping out with integrations, feel free to join us in our slack channel if you have more questions: <a href=\"https://talkstormpath.slack.com\" rel=\"nofollow noreferrer\">talkstormpath.slack.com</a>"}], "tags": [], "owner": {"reputation": 4203, "user_id": 998998, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/76297450aebc4e5b5e0cfe7519a2952a?s=128&d=identicon&r=PG", "display_name": "robertjd", "link": "https://stackoverflow.com/users/998998/robertjd"}, "is_accepted": true, "score": 0, "last_activity_date": 1470272369, "creation_date": 1470272369, "answer_id": 38755917, "question_id": 38752832, "link": "https://stackoverflow.com/questions/38752832/stormpath-oauth-access-token-on-cookie/38755917#38755917", "title": "Stormpath OAuth access token on cookie", "body": "<p>The result form the Stormpath API does provide the <code>token_type</code> attribute, defined as <code>Bearer</code>, as that's the expected default from an OAuth endpoint.  The idea is to inform the client how the token should be used to authenticate future requests, the default strategy being as an HTTP header <code>Authorization: Bearer &lt;token&gt;</code>, where <code>&lt;token&gt;</code>is the compact token string that you got from <code>getAccessTokenString()</code></p>\n\n<p>But in your case you're going to store it in a cookie, and the browser will send it back in a <code>Cookie</code> header, nice and simple :) so there's no need for the client to know much else about the token.  However you should set the expiration time of the cookie to be the same as the expiration time of the token, so that the browser will automatically purge the token when it is no longer valid.</p>\n\n<p>You're also doing the right thing by making this a secure, http only cookie that can't be stolen by malicious JavaScript, so this approach looks pretty good to me.</p>\n"}], "owner": {"reputation": 57, "user_id": 6575333, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/baf75f73ce08dd67a433fe8b44f4df99?s=128&d=identicon&r=PG&f=1", "display_name": "tinker", "link": "https://stackoverflow.com/users/6575333/tinker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 360, "favorite_count": 0, "accepted_answer_id": 38755917, "answer_count": 1, "score": 2, "last_activity_date": 1470272369, "creation_date": 1470255324, "question_id": 38752832, "link": "https://stackoverflow.com/questions/38752832/stormpath-oauth-access-token-on-cookie", "title": "Stormpath OAuth access token on cookie", "body": "<p>I'm working on integrating OAuth 2.0 token management via Stormpath into my application. Currently I'm storing the access token in a cookie by building a cookie like so:</p>\n\n<pre><code>public Cookie buildAuthCookie(OauthGrantAuthenticationResult ogar){\n    Cookie authCookie = new Cookie(\"authCookie\", ogar.getAccessTokenString());\n    authCookie.setSecure(true);\n    authCookie.setHttpOnly(true);\n    return authCookie;\n}\n</code></pre>\n\n<p>and attaching it to my response like so:</p>\n\n<pre><code>response.addCookie(buildAuthCookie(ogar));\n</code></pre>\n\n<p>Is the only thing I need to attach to the cookie from the OAuthGrantAuthenticationResult the access-token or is there something else I need to add? The documentation I've been reading (<a href=\"http://docs.stormpath.com/guides/token-management/\" rel=\"nofollow\">http://docs.stormpath.com/guides/token-management/</a>) seems to have the client passing the token-type as well but is that something I need to pass to the client in a cookie?</p>\n"}, {"tags": ["java", "encryption"], "answers": [{"tags": [], "owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "is_accepted": true, "score": 3, "last_activity_date": 1470255826, "creation_date": 1470255826, "answer_id": 38752974, "question_id": 38752828, "link": "https://stackoverflow.com/questions/38752828/badpadding-exception-using-same-cipher-instance/38752974#38752974", "title": "BadPadding Exception using same cipher instance", "body": "<p><code>convertBase64ToMessage</code> should not return a <code>String</code>, but rather a <code>byte[]</code>, because ciphertexts cannot be represented by a printable string (with a high probability).</p>\n"}], "owner": {"reputation": 1595, "user_id": 1322796, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93bd2375ae8e8d59a1316615c0f2ced0?s=128&d=identicon&r=PG", "display_name": "wondergoat77", "link": "https://stackoverflow.com/users/1322796/wondergoat77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 38752974, "answer_count": 1, "score": 1, "last_activity_date": 1470255826, "creation_date": 1470255300, "question_id": 38752828, "link": "https://stackoverflow.com/questions/38752828/badpadding-exception-using-same-cipher-instance", "title": "BadPadding Exception using same cipher instance", "body": "<p>I have this encryption code which works no problem. I can decrypt the text it encrypts in another language, but I need to decrypt it in java now.</p>\n\n<pre><code> private static final String AES = \"AES\";\n    private static final String CBC_BLOCK = \"CBC\";\n    private static final String ECB_BLOCK = \"ECB\";\n    private static final String PADDING = \"PKCS5Padding\";\n    private static final String AES_CBC_PCKS5_CIPHER_CONFIG = AES + \"/\" + CBC_BLOCK + \"/\" + PADDING;\n    private static final String AES_ECB_PCKS5_CIPHER_CONFIG = AES + \"/\" + ECB_BLOCK + \"/\" + PADDING;\n\n public static String encryptInAesEcbPkcs5Padding(String salt, String message) {\n        String encryptedMessage = \"\";\n        SecretKeySpec key = null;\n        try {\n            if (message != null &amp;&amp; !message.equals(\"\")) {\n                key = new SecretKeySpec(salt.getBytes(StandardCharsets.UTF_8), AES);\n                Cipher cipher = Cipher.getInstance(AES_ECB_PCKS5_CIPHER_CONFIG);\n                cipher.init(Cipher.ENCRYPT_MODE, key);\n                encryptedMessage = convertMessageToBase64(cipher.doFinal(message.getBytes(StandardCharsets.UTF_8)));\n            }\n        } catch (NoSuchAlgorithmException e) {\n            LOGGER.error(LogPreFix.ERROR + \"No such algorithm [\" + AES + \"]\", e);\n        } catch (NoSuchPaddingException e) {\n            LOGGER.error(LogPreFix.ERROR + \"No such padding for algorithm [\" + AES + \"]\", e);\n        } catch (IllegalBlockSizeException e) {\n            LOGGER.error(LogPreFix.ERROR + \"Invalid block size for [\" + AES + \"/\" + ECB_BLOCK + \"]\", e);\n        } catch (BadPaddingException e) {\n            LOGGER.error(LogPreFix.ERROR + \"Invalid padding [\" + PADDING + \"]\", e);\n        } catch (InvalidKeyException e) {\n            LOGGER.error(\"Invalid key [\" + key + \"]\", e);\n        }\n        return encryptedMessage;\n    }\n</code></pre>\n\n<p>Trying to decrypt with this code. I am using the exact same salt as the encryption and passing in the string the encrypter creates as the \"message\"</p>\n\n<pre><code>  public static String decrypt(String message, String salt) throws InvalidAlgorithmParameterException {\n            SecretKeySpec key = null;\n            String string = null;\n            try {\n                if (message != null &amp;&amp; !message.equals(\"\")) {\n  String decoded = convertBase64ToMessage(message.getBytes(StandardCharsets.UTF_8));\n                    key = new SecretKeySpec(salt.getBytes(StandardCharsets.UTF_8), AES);\n                    Cipher cipher = Cipher.getInstance(AES_ECB_PCKS5_CIPHER_CONFIG);\n                    cipher.init(Cipher.DECRYPT_MODE, key);\n                    byte[] decrypted = cipher.doFinal(decoded.getBytes(StandardCharsets.UTF_8));\n                    string = new String(decrypted);\n                }\n            } catch (NoSuchAlgorithmException e) {\n                LOGGER.error(LogPreFix.ERROR + \"No such algorithm [\" + AES + \"]\", e);\n            } catch (NoSuchPaddingException e) {\n                LOGGER.error(LogPreFix.ERROR + \"No such padding for algorithm [\" + AES + \"]\", e);\n            } catch (IllegalBlockSizeException e) {\n                LOGGER.error(LogPreFix.ERROR + \"Invalid block size for [\" + AES + \"/\" + ECB_BLOCK + \"]\", e);\n            } catch (BadPaddingException e) {\n                LOGGER.error(LogPreFix.ERROR + \"Invalid padding [\" + PADDING + \"]\", e);\n            } catch (InvalidKeyException e) {\n                LOGGER.error(\"Invalid key [\" + key + \"]\", e);\n            }\n            return string;\n        }\n</code></pre>\n\n<p>But I get this error, since i am using the same Cipher instance as i did when encrypting it, I am not sure why I cannot decrypt the message.</p>\n\n<pre><code>javax.crypto.BadPaddingException: Given final block not properly padded\n    at com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:811)\n    at com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:676)\n    at com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:313)\n    at javax.crypto.Cipher.doFinal(Cipher.java:2087)\n</code></pre>\n"}, {"tags": ["java", "garbage-collection", "g1gc", "concurrent-mark-sweep"], "comments": [{"owner": {"reputation": 1300, "user_id": 233965, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/86f20817162992681cc79c4eb6430ba5?s=128&d=identicon&r=PG", "display_name": "IceMan", "link": "https://stackoverflow.com/users/233965/iceman"}, "edited": false, "score": 0, "creation_date": 1470351086, "post_id": 38752782, "comment_id": 64928476, "body": "Is the G1 flag in the last command <code>-XX:+G1GC</code> a typo?"}, {"owner": {"reputation": 1078, "user_id": 794763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0134d94401bf6997c3f513a24e758a81?s=128&d=identicon&r=PG", "display_name": "Ashu Pachauri", "link": "https://stackoverflow.com/users/794763/ashu-pachauri"}, "reply_to_user": {"reputation": 1300, "user_id": 233965, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/86f20817162992681cc79c4eb6430ba5?s=128&d=identicon&r=PG", "display_name": "IceMan", "link": "https://stackoverflow.com/users/233965/iceman"}, "edited": false, "score": 0, "creation_date": 1470427066, "post_id": 38752782, "comment_id": 64964137, "body": "@IceMan Yes it was, thanks for pointing it out. I just corrected it."}], "answers": [{"comments": [{"owner": {"reputation": 1078, "user_id": 794763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0134d94401bf6997c3f513a24e758a81?s=128&d=identicon&r=PG", "display_name": "Ashu Pachauri", "link": "https://stackoverflow.com/users/794763/ashu-pachauri"}, "edited": false, "score": 0, "creation_date": 1470427257, "post_id": 38787003, "comment_id": 64964210, "body": "That&#39;s the thing. I am not using more than 32GB heap. Both 32766 MB and 32736 MB are less than 32 GB. CMS uses compressed pointers till 32766 MB but G1 uses only till 32736 MB heap. I cannot understand what accounts for difference between these thresholds. (Edited the question to clearly reflect the confusion I am having.)"}, {"owner": {"reputation": 34798, "user_id": 1362755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97aa8c37ffa60c4262955aefae56e605?s=128&d=identicon&r=PG", "display_name": "the8472", "link": "https://stackoverflow.com/users/1362755/the8472"}, "reply_to_user": {"reputation": 1078, "user_id": 794763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0134d94401bf6997c3f513a24e758a81?s=128&d=identicon&r=PG", "display_name": "Ashu Pachauri", "link": "https://stackoverflow.com/users/794763/ashu-pachauri"}, "edited": false, "score": 0, "creation_date": 1470460604, "post_id": 38787003, "comment_id": 64971359, "body": "Why does that miniscule difference even matter? Anyway, the answer I linked contains diagnostic flags, they may help with your &quot;problem&quot;."}], "tags": [], "owner": {"reputation": 34798, "user_id": 1362755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97aa8c37ffa60c4262955aefae56e605?s=128&d=identicon&r=PG", "display_name": "the8472", "link": "https://stackoverflow.com/users/1362755/the8472"}, "is_accepted": false, "score": 4, "last_activity_date": 1470392894, "last_edit_date": 1495542775, "creation_date": 1470392894, "answer_id": 38787003, "question_id": 38752782, "link": "https://stackoverflow.com/questions/38752782/usecompressedoops-kick-in-threshold-different-for-g1-and-cms/38787003#38787003", "title": "UseCompressedOops kick-in threshold different for G1 and CMS", "body": "<blockquote>\n  <p>but cannot get it compressed pointer optimization to kick in for heap sizes above 32736 MB</p>\n</blockquote>\n\n<p>That's normal because objects are aligned to 8byte boundaries by default, which means the lowest 3 bits are redundant and be eliminated by a shift, which in turn means 32bit object pointers can at most address 4GB * 8 worth of objects with that alignment.</p>\n\n<p>You need to bump the object alignment to 16 bytes via <code>-XX:ObjectAlignmentInBytes=16</code> if you want to use more than 32GB with compressed oops. Note that this makes small objects larger, i.e. wastes some memory, so you will have to measure whether it actually gains you anything.</p>\n\n<p><a href=\"https://stackoverflow.com/a/37251787/1362755\">This answer</a> has some additional diagnostic options that might be of interest.</p>\n"}], "owner": {"reputation": 1078, "user_id": 794763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0134d94401bf6997c3f513a24e758a81?s=128&d=identicon&r=PG", "display_name": "Ashu Pachauri", "link": "https://stackoverflow.com/users/794763/ashu-pachauri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1113, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1470427393, "creation_date": 1470255139, "last_edit_date": 1470427393, "question_id": 38752782, "link": "https://stackoverflow.com/questions/38752782/usecompressedoops-kick-in-threshold-different-for-g1-and-cms", "title": "UseCompressedOops kick-in threshold different for G1 and CMS", "body": "<p>I am running a 64 bit Java 1.8 Hotspot JVM by Oracle. I have been trying to wrap my head around a difference in behavior of JVM to kick in compressed object pointers when different GC mechanisms are used. For example:</p>\n\n<pre><code>$ java -XX:+UseConcMarkSweepGC -XX:+PrintFlagsFinal -Xms32766m -Xmx32766m\n\nbool UseCompressedClassPointers        := true        {lp64_product}\nbool UseCompressedOops                 := true        {lp64_product}\n\n$ java -XX:+UseConcMarkSweepGC -XX:+PrintFlagsFinal -Xms32767m -Xmx32767m\n\nbool UseCompressedClassPointers        = false        {lp64_product}\nbool UseCompressedOops                 = false        {lp64_product}\n\n$ java -XX:+UseG1GC -XX:+PrintFlagsFinal -Xms32736m -Xmx32736m\n\nbool UseCompressedClassPointers        := true        {lp64_product}\nbool UseCompressedOops                 := true        {lp64_product}\n\n$ java -XX:+UseG1GC -XX:+PrintFlagsFinal -Xms32737m -Xmx32737m\n\nbool UseCompressedClassPointers        = false        {lp64_product}\nbool UseCompressedOops                 = false        {lp64_product}\n</code></pre>\n\n<p>I have tried changing a few other G1GC knobs but cannot get compressed pointer optimization to kick in for heap sizes above 32736 MB for G1. But, as you can see clearly that CMS can use compressed pointers for heap sizes up to 32766 MB. I am trying to understand what controls this threshold for different GC algorithms.</p>\n"}, {"tags": ["java", "android", "list", "generics", "jackson"], "owner": {"reputation": 21, "user_id": 6626631, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fbRwvtb2ans/AAAAAAAAAAI/AAAAAAAABAE/k4Ji2sK1cTY/photo.jpg?sz=128", "display_name": "mot", "link": "https://stackoverflow.com/users/6626631/mot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 312, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1470254986, "creation_date": 1470254986, "question_id": 38752746, "link": "https://stackoverflow.com/questions/38752746/jackson-deserialize-array-and-filter-invalid-data", "title": "Jackson - Deserialize array and filter invalid data", "body": "<p>On an Android project, we are using Retrofit with Jackson to fetch data from a json REST API.</p>\n\n<p>For some technical reasons, the API can return arrays with a mix of valid data and invalid data.</p>\n\n<p>The android app need to fetch these data and filter only valid data.</p>\n\n<p>To do this, we have the idea to add a custom JsonDeserializer for List classes to our ObjectMapper used by Retrofit to Deserialize Json:</p>\n\n<pre><code>    SimpleModule listModule = new SimpleModule();\n    listModule.addDeserializer(List.class, new ResilientListJsonDeserializer(null));\n    objectMapper.registerModule(listModule);\n</code></pre>\n\n<p>But we do not find a solution to implement a JsonDeserilizer that allows us to filter json arrays and retrieve a List with only filtered valid data.</p>\n\n<p>We are blocked on the way by the fact that we don't know how to build array item's. Here our current JsonDeserializer:</p>\n\n<pre><code>public class MyJsonDeserializer extends JsonDeserializer&lt;List&gt; {\n\n    @Override\n    public List deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n\n        final ObjectMapper mapper = (ObjectMapper) p.getCodec();\n\n        final JsonNode node = mapper.readTree(p);\n\n        List&lt;Object&gt; result = new ArrayList&lt;&gt;();\n\n        Iterator&lt;JsonNode&gt; iterator = node.elements();\n\n        while (iterator.hasNext()) {\n            JsonNode childNode = iterator.next();\n\n            try {\n                Object obj = mapper.convertValue(childNode, ????); // How to get class type of the current parsed objet ?\n                result.add(obj);\n            }catch(IllegalArgumentException e) {\n                Log.e(TAG, \"impossible to parse json\", e);\n            }\n        }\n\n        return result;\n    }\n}\n</code></pre>\n\n<p>Maybe you have the solution or an other way to solve the problem on filtering values from deserialized array with Jackson :)</p>\n\n<p>Thanks in advance for your feedback.</p>\n"}, {"tags": ["java", "java-8", "javac", "netbeans-8"], "comments": [{"owner": {"reputation": 809, "user_id": 2925985, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kevlx.png?s=128&g=1", "display_name": "Susannah Potts", "link": "https://stackoverflow.com/users/2925985/susannah-potts"}, "edited": false, "score": 1, "creation_date": 1470254906, "post_id": 38752651, "comment_id": 64879364, "body": "First, this particular error can be solved by doing a quick search with your favorite search engine.  That being said, you can fix this by adding the JDK installation to your environment path.  The method will vary based on your OS.  Homework: Figure out how to do the above."}, {"owner": {"reputation": 11, "user_id": 6381496, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E7_n0QzgwXI/AAAAAAAAAAI/AAAAAAAAAEY/Ttj5hh3jGjI/photo.jpg?sz=128", "display_name": "Hugo Gayoso", "link": "https://stackoverflow.com/users/6381496/hugo-gayoso"}, "reply_to_user": {"reputation": 809, "user_id": 2925985, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kevlx.png?s=128&g=1", "display_name": "Susannah Potts", "link": "https://stackoverflow.com/users/2925985/susannah-potts"}, "edited": false, "score": 0, "creation_date": 1470255632, "post_id": 38752651, "comment_id": 64879735, "body": "Thank you, and I am sorry for the lack of knowledge"}, {"owner": {"reputation": 809, "user_id": 2925985, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kevlx.png?s=128&g=1", "display_name": "Susannah Potts", "link": "https://stackoverflow.com/users/2925985/susannah-potts"}, "edited": false, "score": 0, "creation_date": 1470255784, "post_id": 38752651, "comment_id": 64879805, "body": "It&#39;s all good Hugo, we all have to start somewhere."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6381496, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E7_n0QzgwXI/AAAAAAAAAAI/AAAAAAAAAEY/Ttj5hh3jGjI/photo.jpg?sz=128", "display_name": "Hugo Gayoso", "link": "https://stackoverflow.com/users/6381496/hugo-gayoso"}, "edited": false, "score": 0, "creation_date": 1470255951, "post_id": 38752934, "comment_id": 64879880, "body": "Ow , I see!  In case I had only installed the JVM, would I still have the java folder but no javac ? Thanks, man"}], "tags": [], "owner": {"reputation": 109, "user_id": 5578258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239afaeb9f6578458f573e0af76fc640?s=128&d=identicon&r=PG", "display_name": "Santiago", "link": "https://stackoverflow.com/users/5578258/santiago"}, "is_accepted": false, "score": 0, "last_activity_date": 1470255681, "creation_date": 1470255681, "answer_id": 38752934, "question_id": 38752651, "link": "https://stackoverflow.com/questions/38752651/what-are-the-diferences-between-installing-netbeans-with-jdk-and-just-the-java-p/38752934#38752934", "title": "What are the diferences between installing NetBeans with JDK and just the Java Platform?", "body": "<p>\"javac -version\" will only work in the bin folder of java, where it resides, not as a OS command. That's why for example you have to add an environment variable on Windows to let the system know where it has to find the javac.</p>\n\n<p>C:\\Program Files\\Java\\jdk1.8.0_92\\bin>javac -version</p>\n\n<p>javac 1.8.0_92</p>\n"}], "owner": {"reputation": 11, "user_id": 6381496, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E7_n0QzgwXI/AAAAAAAAAAI/AAAAAAAAAEY/Ttj5hh3jGjI/photo.jpg?sz=128", "display_name": "Hugo Gayoso", "link": "https://stackoverflow.com/users/6381496/hugo-gayoso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1470255681, "creation_date": 1470254610, "last_edit_date": 1470254707, "question_id": 38752651, "link": "https://stackoverflow.com/questions/38752651/what-are-the-diferences-between-installing-netbeans-with-jdk-and-just-the-java-p", "title": "What are the diferences between installing NetBeans with JDK and just the Java Platform?", "body": "<p>I've been programming in java for a couple of months(only desktop applications), and recently I've decided to learn a little bit of Android development. To develop something for Android devices I know that is necessary to have the JDK installed.</p>\n\n<p>I installed JDK with Netbeans, <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a>, few months ago, and everything seamed to be fine. I did some java desktop applications and they worked well, so I thought that the JDK was installed on my computer.</p>\n\n<p>I saw online that to check if JDK is installed it's just check the version of javac, but when typed 'javac -version' on cmd, it did not recognize as a command. Wasn't suppose to recognize? Technically I have already installed along with Netbeans.</p>\n\n<p>I appreciate if someone could explain me</p>\n\n<p>Thank you</p>\n"}, {"tags": ["java", "maven", "neo4j"], "comments": [{"owner": {"reputation": 18317, "user_id": 232671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9fafab68e922fdf068c5c36f823687fe?s=128&d=identicon&r=PG", "display_name": "Luanne", "link": "https://stackoverflow.com/users/232671/luanne"}, "edited": false, "score": 0, "creation_date": 1470278206, "post_id": 38752648, "comment_id": 64887711, "body": "What dependencies have you added?"}, {"owner": {"reputation": 309, "user_id": 4239522, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4f9de9632675624d3057eb302f7296f7?s=128&d=identicon&r=PG&f=1", "display_name": "Rhea", "link": "https://stackoverflow.com/users/4239522/rhea"}, "reply_to_user": {"reputation": 18317, "user_id": 232671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9fafab68e922fdf068c5c36f823687fe?s=128&d=identicon&r=PG", "display_name": "Luanne", "link": "https://stackoverflow.com/users/232671/luanne"}, "edited": false, "score": 0, "creation_date": 1470279030, "post_id": 38752648, "comment_id": 64887923, "body": "I have added all the jar  present in neo4j/lib as external jar in my project"}, {"owner": {"reputation": 18317, "user_id": 232671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9fafab68e922fdf068c5c36f823687fe?s=128&d=identicon&r=PG", "display_name": "Luanne", "link": "https://stackoverflow.com/users/232671/luanne"}, "edited": false, "score": 1, "creation_date": 1470279193, "post_id": 38752648, "comment_id": 64887978, "body": "If you use maven, I would suggest adding neo4j dependencies there to be sure it pulls in all its related dependencies"}], "owner": {"reputation": 309, "user_id": 4239522, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4f9de9632675624d3057eb302f7296f7?s=128&d=identicon&r=PG&f=1", "display_name": "Rhea", "link": "https://stackoverflow.com/users/4239522/rhea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1470449729, "creation_date": 1470254607, "last_edit_date": 1470449729, "question_id": 38752648, "link": "https://stackoverflow.com/questions/38752648/not-able-to-integrate-neo4j-with-my-existing-maven-project", "title": "Not able to integrate neo4j with my existing maven project", "body": "<p>I am trying to integrate neo4j with my existing maven project. Neo4j application as a standalone working properly but after integration, I am getting </p>\n\n<pre>\njava.lang.IllegalAccessError: \n    at org.neo4j.kernel.api.impl.labelscan.LuceneLabelScanIndex.(LuceneLabelScanIndex.java:55)\n</pre>\n\n<p>I have added neo4j lib in the classpath.</p>\n"}, {"tags": ["java", "xml", "android-studio", "dynamic", "nine-patch"], "answers": [{"tags": [], "owner": {"reputation": 399, "user_id": 2477882, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e8b74a4ef020777adc0ecb9d6ef21982?s=128&d=identicon&r=PG", "display_name": "Boo", "link": "https://stackoverflow.com/users/2477882/boo"}, "is_accepted": false, "score": 0, "last_activity_date": 1470257138, "creation_date": 1470257138, "answer_id": 38753296, "question_id": 38752598, "link": "https://stackoverflow.com/questions/38752598/9-patch-border-around-image-button/38753296#38753296", "title": "9-Patch, Border around Image button", "body": "<p>Whey I did it.  Quite easy but if you've never done it, it is hard to know each settings element to go with.  Here's my answer</p>\n\n<pre><code> &lt;/LinearLayout&gt;\n\n    &lt;ImageButton\n\n        android:layout_width=\"150dp\"\n        android:layout_height=\"100dp\"\n        android:maxHeight=\"600dp\"\n        android:maxWidth=\"300dp\"\n        android:adjustViewBounds=\"true\"\n        android:scaleType=\"fitXY\"\n        android:id=\"@+id/imageButton\"\n        android:src=\"@drawable/events_selected\"\n        android:layout_gravity=\"center_horizontal\"\n        android:layout_weight=\"0.05\"\n        android:background=\"@drawable/photo_4\"\n        /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>I will post dynamic code when done </p>\n"}], "owner": {"reputation": 399, "user_id": 2477882, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e8b74a4ef020777adc0ecb9d6ef21982?s=128&d=identicon&r=PG", "display_name": "Boo", "link": "https://stackoverflow.com/users/2477882/boo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1470267051, "creation_date": 1470254440, "last_edit_date": 1470267051, "question_id": 38752598, "link": "https://stackoverflow.com/questions/38752598/9-patch-border-around-image-button", "title": "9-Patch, Border around Image button", "body": "<p>I am trying to apply many picture/photo/avatar user icons (dynamically) so as a user signs up a new button will be added.  I want each button to be surrounded by a polaroid frame.  Im guessing this is a 9-patch thing (never used before).  I have created the 9-patch with transparent centre, but I have no idea how to surround each image button with the polaroid border.  I managed to dynamically program a layout before and that should be no problem.  I am trying to practice surrounding the button in xml at the moment..but nay such luck! please can someone help me! can it even be done?am i going in the right direction?</p>\n"}, {"tags": ["java", "multithreading", "amazon-web-services", "amazon-sqs"], "comments": [{"owner": {"reputation": 137816, "user_id": 13070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pio3A.jpg?s=128&g=1", "display_name": "Mark B", "link": "https://stackoverflow.com/users/13070/mark-b"}, "edited": false, "score": 1, "creation_date": 1470254612, "post_id": 38752590, "comment_id": 64879214, "body": "What about listening to the queue in a single thread, and then spinning up new threads to process each message you receive?"}, {"owner": {"reputation": 10865, "user_id": 2933977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25308d33862d9b72e0b93160b1fd778c?s=128&d=identicon&r=PG", "display_name": "stdunbar", "link": "https://stackoverflow.com/users/2933977/stdunbar"}, "reply_to_user": {"reputation": 137816, "user_id": 13070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pio3A.jpg?s=128&g=1", "display_name": "Mark B", "link": "https://stackoverflow.com/users/13070/mark-b"}, "edited": false, "score": 0, "creation_date": 1470254784, "post_id": 38752590, "comment_id": 64879291, "body": "@Mark B - That&#39;s a variation of what I proposed in my last paragraph - I was hoping to avoid that but it may be the best bet."}, {"owner": {"reputation": 230, "user_id": 1451812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a70f1724c039089a29fe977cc15f313?s=128&d=identicon&r=PG", "display_name": "Larry", "link": "https://stackoverflow.com/users/1451812/larry"}, "edited": false, "score": 2, "creation_date": 1470266798, "post_id": 38752590, "comment_id": 64884124, "body": "How long does your process take? You may need to use setVisibilityTimeout on your message request to give your process time to process and delete the messages."}, {"owner": {"reputation": 3122, "user_id": 1874627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eV76W.jpg?s=128&g=1", "display_name": "saurabheights", "link": "https://stackoverflow.com/users/1874627/saurabheights"}, "edited": false, "score": 0, "creation_date": 1475083172, "post_id": 38752590, "comment_id": 66803781, "body": "@stdunbar: Though late, but it depends on how fast you want to write to db(say S tps) and difference between speed of SQS fetch(spSqs) and db write(spDB). If you can poll X messages in one call, then go for single thread, if S &gt; (X*spSQS)/spDB, else opt for multithread, assuming one write db call per message. Next, about receiving duplicate messages, you can fetch from multiple threads and put it all in a single hashset(duplicates will be removed), and then write all in DB."}, {"owner": {"reputation": 3122, "user_id": 1874627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eV76W.jpg?s=128&g=1", "display_name": "saurabheights", "link": "https://stackoverflow.com/users/1874627/saurabheights"}, "edited": false, "score": 0, "creation_date": 1475083220, "post_id": 38752590, "comment_id": 66803809, "body": "@stdunbar: One question: is sqs supposed to return duplicates?"}, {"owner": {"reputation": 2625, "user_id": 3871549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CsIS.jpg?s=128&g=1", "display_name": "Denis Makarenko", "link": "https://stackoverflow.com/users/3871549/denis-makarenko"}, "edited": false, "score": 0, "creation_date": 1489021571, "post_id": 38752590, "comment_id": 72493650, "body": "@stdunbar did you figure it out eventually? I&#39;m running into the same problem. An Akka actor is processing Akka messages to retrieve SQS messages.  Since each Akka message can be processed in a context of a different thread, there are a lot of duplicated messages as of result of reading them from multiple threads. I&#39;m leaning towards pinning the actor to a single thread but it would be interesting to know whether it works with multiple threads in principle"}, {"owner": {"reputation": 1587, "user_id": 3307066, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/760acdf66106b5d533063a120409db3d?s=128&d=identicon&r=PG&f=1", "display_name": "jbarrameda", "link": "https://stackoverflow.com/users/3307066/jbarrameda"}, "reply_to_user": {"reputation": 3122, "user_id": 1874627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eV76W.jpg?s=128&g=1", "display_name": "saurabheights", "link": "https://stackoverflow.com/users/1874627/saurabheights"}, "edited": false, "score": 0, "creation_date": 1509337358, "post_id": 38752590, "comment_id": 80962768, "body": "@saurabheights Yes, SQS will return a message until the message is deleted. The message is not returned if it is inflight (<a href=\"http://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-visibility-timeout.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AWSSimpleQueueService/latest/&hellip;</a>)."}, {"owner": {"reputation": 1587, "user_id": 3307066, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/760acdf66106b5d533063a120409db3d?s=128&d=identicon&r=PG&f=1", "display_name": "jbarrameda", "link": "https://stackoverflow.com/users/3307066/jbarrameda"}, "reply_to_user": {"reputation": 2625, "user_id": 3871549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CsIS.jpg?s=128&g=1", "display_name": "Denis Makarenko", "link": "https://stackoverflow.com/users/3871549/denis-makarenko"}, "edited": false, "score": 0, "creation_date": 1509337439, "post_id": 38752590, "comment_id": 80962794, "body": "@DenisMakarenko It should work with multiples threads, just mind the visibility timeout (<a href=\"http://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-visibility-timeout.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AWSSimpleQueueService/latest/&hellip;</a>)."}], "answers": [{"comments": [{"owner": {"reputation": 2625, "user_id": 3871549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CsIS.jpg?s=128&g=1", "display_name": "Denis Makarenko", "link": "https://stackoverflow.com/users/3871549/denis-makarenko"}, "edited": false, "score": 0, "creation_date": 1509385487, "post_id": 47008084, "comment_id": 80989411, "body": "Low visibility timeout could cause issues with duplicate messages in the case of long message processing time but it clearly wasn\u2019t the root cause in my case as it was set to 3 minutes and I saw duplicated messages well before SQS would make them available again. I ended up using pinned dispatcher in Akka to guarantee that a single thread does all the reading from the queue. Message processing though is done by different threads to prevent it interfering with reading new messages from the queue"}], "tags": [], "owner": {"reputation": 1587, "user_id": 3307066, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/760acdf66106b5d533063a120409db3d?s=128&d=identicon&r=PG&f=1", "display_name": "jbarrameda", "link": "https://stackoverflow.com/users/3307066/jbarrameda"}, "is_accepted": false, "score": 2, "last_activity_date": 1509337156, "creation_date": 1509337156, "answer_id": 47008084, "question_id": 38752590, "link": "https://stackoverflow.com/questions/38752590/reading-from-an-sqs-queue-with-multiple-threads/47008084#47008084", "title": "Reading from an SQS queue with multiple threads", "body": "<p>As you have a database hit for each message, it seems that processing each message takes time. You should increase the visibility timeout of the queue. </p>\n\n<p>From AWS SQS documentation:</p>\n\n<blockquote>\n  <p>Immediately after the message is received, it remains in the queue. To\n  prevent other consumers from processing the message again, Amazon SQS\n  sets a visibility timeout, a period of time during which Amazon SQS\n  prevents other consuming components from receiving and processing the\n  message.</p>\n</blockquote>\n\n<p>(<a href=\"http://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-visibility-timeout.html\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-visibility-timeout.html</a>)</p>\n"}, {"comments": [{"owner": {"reputation": 2705, "user_id": 269876, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/41fdee0212c5aa05b4924352f024cffa?s=128&d=identicon&r=PG", "display_name": "Lo-Tan", "link": "https://stackoverflow.com/users/269876/lo-tan"}, "edited": false, "score": 0, "creation_date": 1566454012, "post_id": 56875233, "comment_id": 101662287, "body": "This solution also throws away messages that may be valid, but failed to be handled be a consumer. I don&#39;t think this is a good solution."}, {"owner": {"reputation": 705, "user_id": 6596525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f9e6abcdc0ab11b4e37bea1f8f3c450?s=128&d=identicon&r=PG&f=1", "display_name": "thewmo", "link": "https://stackoverflow.com/users/6596525/thewmo"}, "edited": false, "score": 0, "creation_date": 1598401193, "post_id": 56875233, "comment_id": 112445446, "body": "To say nothing of the fact that attempted re-delivery after the visibility window expires is a crucial <i>feature</i> of SQS in ensuring that each message is eventually processed even in the face of systems that may crash or fail on a message. That reliability is a big part of the reason to perform queueing in the first place. Don&#39;t delete messages with a receive count &gt; 1."}], "tags": [], "owner": {"reputation": 1907, "user_id": 1270903, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/7d6b0b4487c658df7ca09bb356f62aae?s=128&d=identicon&r=PG", "display_name": "Manjay_TBAG", "link": "https://stackoverflow.com/users/1270903/manjay-tbag"}, "is_accepted": false, "score": -1, "last_activity_date": 1562174562, "creation_date": 1562174562, "answer_id": 56875233, "question_id": 38752590, "link": "https://stackoverflow.com/questions/38752590/reading-from-an-sqs-queue-with-multiple-threads/56875233#56875233", "title": "Reading from an SQS queue with multiple threads", "body": "<p>This will ensure duplicate message, you can skip duplicate message using this code</p>\n\n<pre><code> var receivedCounts = message.Attributes.Where(x =&gt; x.Key == \"ApproximateReceiveCount\").FirstOrDefault();\n                            if (message.Attributes != null &amp;&amp; message.Attributes.Count &gt; 0 &amp;&amp;\n                                message.Attributes.Any(x =&gt; x.Key == \"ApproximateReceiveCount\") &amp;&amp; receivedCounts.Value != \"1\")\n                            {\n                                AppLogger.LogError(\"Duplicate message arrived\");\n                                listDeleteMessageBatchRequestEntry.Add(new DeleteMessageBatchRequestEntry()\n                                {\n                                    Id = message.MessageId,\n                                    ReceiptHandle = message.ReceiptHandle\n                                });\n                                continue;\n                            }\n</code></pre>\n"}], "owner": {"reputation": 10865, "user_id": 2933977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25308d33862d9b72e0b93160b1fd778c?s=128&d=identicon&r=PG", "display_name": "stdunbar", "link": "https://stackoverflow.com/users/2933977/stdunbar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6667, "favorite_count": 2, "answer_count": 2, "score": 7, "last_activity_date": 1562174562, "creation_date": 1470254416, "question_id": 38752590, "link": "https://stackoverflow.com/questions/38752590/reading-from-an-sqs-queue-with-multiple-threads", "title": "Reading from an SQS queue with multiple threads", "body": "<p><strong>Note</strong>: this is a repost of a thread from <a href=\"https://forums.aws.amazon.com/thread.jspa?threadID=236599&amp;tstart=0\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Hi all,\nI've got a process that processes messages in a single SQS queue. The queue can have many message in it and each message results in a database hit. Therefore I wanted to thread the readers of this queue.</p>\n\n<p>The basic code for each thread is:</p>\n\n<pre><code>public void run() {\n    while(true) {\n        ReceiveMessageRequest rmr = new ReceiveMessageRequest(queueUrl)\n               .withMaxNumberOfMessages(10)\n               .withWaitTimeSeconds(3);\n        List&lt;Message&gt; messages = sqsClient.receiveMessage(rmr).getMessages();\n        // process messages\n        // delete messages\n    }\n}\n</code></pre>\n\n<p>What I'm seeing is that there are tons of duplicated messages between the threads. I know that I should expect a few duplicates here and there but it appears that each thread gets the same set of messages and, realistically, only one thread ever does much work.</p>\n\n<p>Am I misunderstanding how to use the API or am I doing something else wrong? The Javadocs indicate that the AmazonSQS class is threadsafe and, indeed, even creating a new AmazonSQS class for each thread changed nothing.</p>\n\n<p>Any pointers would be most appreciated. My current thought of a fix is to have a single thread reading from the SQS queue, putting each message into something like a LinkedBlockingDeque and then have the workers reading that. But I feel that that implementation will not drain the queue as fast as I'd like.</p>\n"}, {"tags": ["javascript", "java", "sockets", "websocket", "socket.io"], "comments": [{"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1470254248, "post_id": 38752467, "comment_id": 64879017, "body": "How is this question different than your prior question from a few hours ago which you got comments and an answer for, but did not respond to <a href=\"http://stackoverflow.com/questions/38747699/socket-server-not-connect-with-javascript-socket-client\" title=\"socket server not connect with javascript socket client\">stackoverflow.com/questions/38747699/&hellip;</a>"}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 2, "creation_date": 1470256468, "post_id": 38752467, "comment_id": 64880123, "body": "If you did not understand something in the answer I provided to your previous question, then you should post a comment to that answer and explain exactly what you don&#39;t understand.  You don&#39;t just keep posting the same question here over and over again, hoping for another answer.  That is against the rules.  If you do post an additional question, it should be very clear how it is different than your prior question.  And, if someone provides you an answer you don&#39;t understand, ask them about it by posting comments to their answer."}, {"owner": {"reputation": 9731, "user_id": 3269852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/399b62aa74620180226c8d6ec5060165?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjeev", "link": "https://stackoverflow.com/users/3269852/sanjeev"}, "edited": false, "score": 0, "creation_date": 1470291087, "post_id": 38752467, "comment_id": 64891509, "body": "How did you deploy your class to server ?"}], "owner": {"reputation": 21, "user_id": 6198559, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-33g4m_cdZCY/AAAAAAAAAAI/AAAAAAAAAIs/iYfM7a4flc4/photo.jpg?sz=128", "display_name": "Nirmal Srinath", "link": "https://stackoverflow.com/users/6198559/nirmal-srinath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1431, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1470254216, "creation_date": 1470253939, "question_id": 38752467, "link": "https://stackoverflow.com/questions/38752467/error-during-websocket-handshake-unexpected-response-code-404-when-trying-to-c", "title": "Error during WebSocket handshake: Unexpected response code: 404 when trying to connect with JavaScript", "body": "<p>Below is the code for socket.</p>\n\n<pre><code>package com.shankar.rest;\n\nimport java.io.IOException;\n\nimport javax.websocket.OnClose;\nimport javax.websocket.OnMessage;\nimport javax.websocket.OnOpen;\nimport javax.websocket.Session;\nimport javax.websocket.server.ServerEndpoint;\n\n/** \n * @ServerEndpoint gives the relative name for the end point\n * This will be accessed via ws://localhost:8080/com.shankar.rest/echo\n * Where \"localhost\" is the address of the host,\n * \"com.shankar.rest\" is the name of the package\n * and \"echo\" is the address to access this class from the server\n */\n@ServerEndpoint(\"/echo\") \npublic class EchoServer {\n    /**\n     * @OnOpen allows us to intercept the creation of a new session.\n     * The session class allows us to send data to the user.\n     * In the method onOpen, we'll let the user know that the handshake was \n     * successful.\n     */\n    @OnOpen\n    public void onOpen(Session session){\n        System.out.println(session.getId() + \" has opened a connection\"); \n        try {\n            session.getBasicRemote().sendText(\"Connection Established\");\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    /**\n     * When a user sends a message to the server, this method will intercept the message\n     * and allow us to react to it. For now the message is read as a String.\n     */\n    @OnMessage\n    public void onMessage(String message, Session session){\n        System.out.println(\"Message from \" + session.getId() + \": \" + message);\n        try {\n            session.getBasicRemote().sendText(message);\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    /**\n     * The user closes the connection.\n     * \n     * Note: you can't send messages to the client from this method\n     */\n    @OnClose\n    public void onClose(Session session){\n        System.out.println(\"Session \" +session.getId()+\" has ended\");\n    }\n}\n</code></pre>\n\n<p>Am not sure why it throwing error when connect with JavaScript.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Echo Chamber&lt;/title&gt;\n&lt;meta charset=\"UTF-8\"&gt;\n&lt;meta name=\"viewport\" content=\"width=device-width\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;div&gt;\n        &lt;input type=\"text\" id=\"messageinput\" /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;button type=\"button\" onclick=\"openSocket();\"&gt;Open&lt;/button&gt;\n        &lt;button type=\"button\" onclick=\"send();\"&gt;Send&lt;/button&gt;\n        &lt;button type=\"button\" onclick=\"closeSocket();\"&gt;Close&lt;/button&gt;\n    &lt;/div&gt;\n    &lt;!-- Server responses get written here --&gt;\n    &lt;div id=\"messages\"&gt;&lt;/div&gt;\n\n    &lt;!-- Script to utilise the WebSocket --&gt;\n    &lt;script type=\"text/javascript\"&gt;\n\n            var webSocket;\n            var messages = document.getElementById(\"messages\");\n\n\n            function openSocket(){\n                // Ensures only one connection is open at a time\n                if(webSocket !== undefined &amp;&amp; webSocket.readyState !== WebSocket.CLOSED){\n                   writeResponse(\"WebSocket is already opened.\");\n                    return;\n                }\n                // Create a new instance of the websocket\n                webSocket = new WebSocket(\"ws://localhost:8080/com.shankar.rest/echo\");\n\n                /**\n                 * Binds functions to the listeners for the websocket.\n                 */\n                webSocket.onopen = function(event){\n                    // For reasons I can't determine, onopen gets called twice\n                    // and the first time event.data is undefined.\n                    // Leave a comment if you know the answer.\n                    if(event.data === undefined)\n                        return;\n\n                    writeResponse(event.data);\n                };\n\n                webSocket.onmessage = function(event){\n                    writeResponse(event.data);\n                };\n\n                webSocket.onclose = function(event){\n                    writeResponse(\"Connection closed\");\n                };\n            }\n\n            /**\n             * Sends the value of the text input to the server\n             */\n            function send(){\n                var text = document.getElementById(\"messageinput\").value;\n                webSocket.send(text);\n            }\n\n            function closeSocket(){\n                webSocket.close();\n            }\n\n            function writeResponse(text){\n                messages.innerHTML += \"&lt;br/&gt;\" + text;\n            }\n\n        &lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When I try to open connection from JavaScript, it throws the following error:</p>\n\n<blockquote>\n  <p>WebSocket connection to 'ws://localhost:8080/com.shankar.rest/echo'\n  failed: Error during WebSocket handshake: Unexpected response code:\n  404</p>\n</blockquote>\n\n<p>Here is my web.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\" id=\"WebApp_ID\" version=\"3.0\"&gt;\n  &lt;display-name&gt;Demo&lt;/display-name&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;NewFile.html&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n\n  &lt;servlet&gt;\n      &lt;servlet-name&gt;SimulationAPI&lt;/servlet-name&gt;\n      &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n      &lt;init-param&gt;\n           &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n           &lt;param-value&gt;com.shankar.rest&lt;/param-value&gt;\n      &lt;/init-param&gt;\n      &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;SimulationAPI&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n"}, {"tags": ["java", "web-services", "call", "axis", "stub"], "comments": [{"owner": {"reputation": 809, "user_id": 2925985, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kevlx.png?s=128&g=1", "display_name": "Susannah Potts", "link": "https://stackoverflow.com/users/2925985/susannah-potts"}, "edited": false, "score": 0, "creation_date": 1470253993, "post_id": 38752435, "comment_id": 64878884, "body": "Is <code>usuario.getBytes()</code> supposed to be <code>user.getBytes()</code>?  Also, from my experience, what is expected for Basic auth is a Base64 encoded string of <code>username:password</code> rather than <code>username</code>; but I only see the username being passed to encode."}, {"owner": {"reputation": 29, "user_id": 2263370, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a2c19c4f3e542d93c146c54684199bae?s=128&d=identicon&r=PG", "display_name": "Hernan Bernal", "link": "https://stackoverflow.com/users/2263370/hernan-bernal"}, "reply_to_user": {"reputation": 809, "user_id": 2925985, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kevlx.png?s=128&g=1", "display_name": "Susannah Potts", "link": "https://stackoverflow.com/users/2925985/susannah-potts"}, "edited": false, "score": 0, "creation_date": 1470254456, "post_id": 38752435, "comment_id": 64879132, "body": "User is suplied but i ommited by simplicity, also namespace and service real name. User codified is the same for java code and soapui request. On soap ui headers the request is sent with Authorization: Basic XXXXXXX"}, {"owner": {"reputation": 809, "user_id": 2925985, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kevlx.png?s=128&g=1", "display_name": "Susannah Potts", "link": "https://stackoverflow.com/users/2925985/susannah-potts"}, "edited": false, "score": 0, "creation_date": 1470254569, "post_id": 38752435, "comment_id": 64879191, "body": "In no way am I trying to be condescending but I&#39;m not sure that answers my question or addresses my following point; I don&#39;t understand what you mean by what you said. If you&#39;re saying that the code you posted doesn&#39;t necessarily reflect what is happening during your actual application, then it&#39;s hard to help find what&#39;s going wrong.  If you can, post a MCVE (Minimal, Complete, and Verifiable Example)."}, {"owner": {"reputation": 29, "user_id": 2263370, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a2c19c4f3e542d93c146c54684199bae?s=128&d=identicon&r=PG", "display_name": "Hernan Bernal", "link": "https://stackoverflow.com/users/2263370/hernan-bernal"}, "reply_to_user": {"reputation": 809, "user_id": 2925985, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kevlx.png?s=128&g=1", "display_name": "Susannah Potts", "link": "https://stackoverflow.com/users/2925985/susannah-potts"}, "edited": false, "score": 0, "creation_date": 1470254947, "post_id": 38752435, "comment_id": 64879387, "body": "The code create an axis call using a wsdl, code on base64 an username, create parameters, try create a header to add &quot;Authorization: Basic {codedUsername}&quot;,add header to service call, and call a service method. I ommited the real names &#180;cause is confidencial information, i only need to know how correctly set the header with the authorization token"}, {"owner": {"reputation": 809, "user_id": 2925985, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kevlx.png?s=128&g=1", "display_name": "Susannah Potts", "link": "https://stackoverflow.com/users/2925985/susannah-potts"}, "edited": false, "score": 0, "creation_date": 1470255096, "post_id": 38752435, "comment_id": 64879479, "body": "Thank you for clarifying.  I would point to my original comment, as far as I have ever found with <code>REST</code> an <code>Authorization: Basic</code> header is formed like the following: <code>Authorization: Basic {codedUsernamePassword}</code> where <code>{codedUsernamePassword}</code> is a <code>Base64</code> encoded <code>String</code> that follows the following format: <code>username:password</code>.  I&#39;d suggest trying that."}, {"owner": {"reputation": 29, "user_id": 2263370, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a2c19c4f3e542d93c146c54684199bae?s=128&d=identicon&r=PG", "display_name": "Hernan Bernal", "link": "https://stackoverflow.com/users/2263370/hernan-bernal"}, "reply_to_user": {"reputation": 809, "user_id": 2925985, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kevlx.png?s=128&g=1", "display_name": "Susannah Potts", "link": "https://stackoverflow.com/users/2925985/susannah-potts"}, "edited": false, "score": 0, "creation_date": 1470255304, "post_id": 38752435, "comment_id": 64879575, "body": "I know that, the thing that i need to know is how to set it using Axis 1.4, &#180;cause is old technology and i&#180;ve been unable to get a good example that works"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 2263370, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a2c19c4f3e542d93c146c54684199bae?s=128&d=identicon&r=PG", "display_name": "Hernan Bernal", "link": "https://stackoverflow.com/users/2263370/hernan-bernal"}, "edited": false, "score": 0, "creation_date": 1470259773, "post_id": 38752935, "comment_id": 64881719, "body": "Thanks Susannah,so you tell me that something like this should work  SOAPHeaderElement auth = new SOAPHeaderElement(url,&quot;Authentication&quot;);    SOAPHeaderElement user = new SOAPHeaderElement(url,&quot;Authorization&quot;, &quot;Basic &quot;+encoded);                     auth.addChild(user); call.addHeader(auth);                     String response = (String)call.invoke(params);   Where url is service namespace url  Code is fine?"}, {"owner": {"reputation": 809, "user_id": 2925985, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kevlx.png?s=128&g=1", "display_name": "Susannah Potts", "link": "https://stackoverflow.com/users/2925985/susannah-potts"}, "reply_to_user": {"reputation": 29, "user_id": 2263370, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a2c19c4f3e542d93c146c54684199bae?s=128&d=identicon&r=PG", "display_name": "Hernan Bernal", "link": "https://stackoverflow.com/users/2263370/hernan-bernal"}, "edited": false, "score": 0, "creation_date": 1470260392, "post_id": 38752935, "comment_id": 64882028, "body": "Yes, from my understanding, that should fix it.  If this works out, please remember to accept my answer! :D"}, {"owner": {"reputation": 29, "user_id": 2263370, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a2c19c4f3e542d93c146c54684199bae?s=128&d=identicon&r=PG", "display_name": "Hernan Bernal", "link": "https://stackoverflow.com/users/2263370/hernan-bernal"}, "edited": false, "score": 0, "creation_date": 1470261303, "post_id": 38752935, "comment_id": 64882416, "body": "Sadly for me didn&#180;t work, calling service with your advice is the same that with soapui when i dont set the header with &#39;Authorization&#39; token, also  tried only setting the token with &#39;Authorization&#39; on the call object, with the same result. Thanks"}, {"owner": {"reputation": 809, "user_id": 2925985, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kevlx.png?s=128&g=1", "display_name": "Susannah Potts", "link": "https://stackoverflow.com/users/2925985/susannah-potts"}, "reply_to_user": {"reputation": 29, "user_id": 2263370, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a2c19c4f3e542d93c146c54684199bae?s=128&d=identicon&r=PG", "display_name": "Hernan Bernal", "link": "https://stackoverflow.com/users/2263370/hernan-bernal"}, "edited": false, "score": 0, "creation_date": 1470269514, "post_id": 38752935, "comment_id": 64884781, "body": "Seeing as this is your webservice, do you have a way of watching what is happening on its end when it receives this request?  It might be helpful to see what it&#39;s seeing from this so it can be compared to what is being sent by SoapUI."}, {"owner": {"reputation": 29, "user_id": 2263370, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a2c19c4f3e542d93c146c54684199bae?s=128&d=identicon&r=PG", "display_name": "Hernan Bernal", "link": "https://stackoverflow.com/users/2263370/hernan-bernal"}, "edited": false, "score": 0, "creation_date": 1470317333, "post_id": 38752935, "comment_id": 64908517, "body": "Today i&#180;m gonna search a way to do that, but i see in soap ui is that http header is where Authorization token is sent, yesterday i found an example where using Axis 1.4 authorization token is sent using mimeheaders, but didnt test"}], "tags": [], "owner": {"reputation": 809, "user_id": 2925985, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kevlx.png?s=128&g=1", "display_name": "Susannah Potts", "link": "https://stackoverflow.com/users/2925985/susannah-potts"}, "is_accepted": false, "score": 0, "last_activity_date": 1470255689, "creation_date": 1470255689, "answer_id": 38752935, "question_id": 38752435, "link": "https://stackoverflow.com/questions/38752435/authorization-header-on-axis-1-4-service/38752935#38752935", "title": "Authorization header on Axis 1.4 Service", "body": "<p>Setting an Auth header element for Axis 1.4 should look a little like this:</p>\n\n<pre><code>SOAPHeaderElement auth = new SOAPHeaderElement(url,\"Authentication\");\nSOAPHeaderElement user = new SOAPHeaderElement(url,\"User\", \"string\");\nSOAPHeaderElement pass = new SOAPHeaderElement(url,\"Password\", \"string\");\nauth.addChild(user);\nauth.addChild(pass);\n// add to Call object ...\n</code></pre>\n\n<p>This should work...then just add to the call object like you are with your existing <code>SOAPHeaderElement</code>.</p>\n"}], "owner": {"reputation": 29, "user_id": 2263370, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a2c19c4f3e542d93c146c54684199bae?s=128&d=identicon&r=PG", "display_name": "Hernan Bernal", "link": "https://stackoverflow.com/users/2263370/hernan-bernal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5324, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1470258806, "creation_date": 1470253778, "question_id": 38752435, "link": "https://stackoverflow.com/questions/38752435/authorization-header-on-axis-1-4-service", "title": "Authorization header on Axis 1.4 Service", "body": "<p>I have an old webservice created with Axis 1.4 that i need to consume. To make it work, on request header must be added the following token</p>\n\n<p>Authorization: Basic {codifiedUsername}</p>\n\n<p>Using soapui i dont have any issue, but when i try to add the authorization token into axis service call, service response with error, just like when i dont set codifiedUsername into request header on soapui</p>\n\n<p>I\u00b4m using the following code trying to add the token Authorization: Basic {codifiedUsername}, to the header</p>\n\n<pre><code>String targetNamespace = \"http://www.mysrevice/services/MyService\";\nString serviceName = \"MyService\";\nString portName = \"MyService\";\nString wsdlURL = \"http://xxx.xx.xx.x:8080/idws2/services/MyService?wsdl\";\nQName qnameService = new QName(targetNamespace, serviceName);\nQName qnamePort = new QName(targetNamespace, portName);\nServiceFactory factory = (ServiceFactory) ServiceFactory.newInstance();        \nService service = (Service)factory.createService(new URL(wsdlURL),qnameService);      \nQName qnameOperation = new QName(targetNamespace, \"validate\");        \nCall call = (Call)service.createCall(qnamePort, qnameOperation);           \nString user=\"235654321\";\nbyte[] bUser=usuario.getBytes();\nString encoded=Base64.encode(bUser);\nSystem.out.println(\"encoded user: \"+encoded);                    \norg.apache.axis.message.SOAPHeaderElement header = new org.apache.axis.message.SOAPHeaderElement(\"http://myservice.com\",\"MyServiceHeade r\");\nSOAPElement node = header.addChildElement(\"Authorization:\");\nnode.addTextNode(\"Basic \"+encoded);\ncall.addHeader(header);\nObject[] params = {\"6677\",\"6778\",\"001\",\"trrtr\"};\ncall.addHeader(header);\nString response = (String)call.invoke(params);   \n</code></pre>\n\n<p>I also created the webservice stub to see if stub does have any method to pass the header with authorization info, but i dont know so much about axis. This is the code that i have to call the same method</p>\n\n<pre><code>MyService myService = new MyServiceLocator();\nMyServiceSoapBindingStub stub;              \nstub = new MyServiceSoapBindingStub(new     URL(myService.getMyServiceAddress()),myService);               \nString result=stub.validate(\"6677\",\"6778\",\"001\",\"trrtr\");     \n</code></pre>\n\n<p>So i need to know how correctly set authorization token on service call or service stub, using java Axis 1.4</p>\n\n<p>Thanks</p>\n"}, {"tags": ["java", "android", "xml", "crash"], "comments": [{"owner": {"reputation": 40632, "user_id": 4409409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fVAPJ.jpg?s=128&g=1", "display_name": "Daniel Nugent", "link": "https://stackoverflow.com/users/4409409/daniel-nugent"}, "edited": false, "score": 4, "creation_date": 1470253397, "post_id": 38752325, "comment_id": 64878617, "body": "<code>caused by: java.lang.OutOfMemoryError</code>"}, {"owner": {"reputation": 2470, "user_id": 4665938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a92c5fbf7a18f9ca77ad836f23a6a747?s=128&d=identicon&r=PG&f=1", "display_name": "Rakshit Nawani", "link": "https://stackoverflow.com/users/4665938/rakshit-nawani"}, "edited": false, "score": 0, "creation_date": 1470253488, "post_id": 38752325, "comment_id": 64878660, "body": "Error is XML file :: Binary XML file line #17: Error inflating class android.support.design.widget.NavigationView"}, {"owner": {"reputation": 706, "user_id": 6670001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lo5Ls.jpg?s=128&g=1", "display_name": "Kelvin Kellner", "link": "https://stackoverflow.com/users/6670001/kelvin-kellner"}, "reply_to_user": {"reputation": 40632, "user_id": 4409409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fVAPJ.jpg?s=128&g=1", "display_name": "Daniel Nugent", "link": "https://stackoverflow.com/users/4409409/daniel-nugent"}, "edited": false, "score": 0, "creation_date": 1470253691, "post_id": 38752325, "comment_id": 64878742, "body": "@DanielNugent What does this mean?"}, {"owner": {"reputation": 706, "user_id": 6670001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lo5Ls.jpg?s=128&g=1", "display_name": "Kelvin Kellner", "link": "https://stackoverflow.com/users/6670001/kelvin-kellner"}, "reply_to_user": {"reputation": 2470, "user_id": 4665938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a92c5fbf7a18f9ca77ad836f23a6a747?s=128&d=identicon&r=PG&f=1", "display_name": "Rakshit Nawani", "link": "https://stackoverflow.com/users/4665938/rakshit-nawani"}, "edited": false, "score": 0, "creation_date": 1470253748, "post_id": 38752325, "comment_id": 64878770, "body": "@RakshitNawani What&#39;s wrong with the NavigationView, and how can I fix it?"}, {"owner": {"reputation": 2470, "user_id": 4665938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a92c5fbf7a18f9ca77ad836f23a6a747?s=128&d=identicon&r=PG&f=1", "display_name": "Rakshit Nawani", "link": "https://stackoverflow.com/users/4665938/rakshit-nawani"}, "edited": false, "score": 0, "creation_date": 1470253780, "post_id": 38752325, "comment_id": 64878787, "body": "Well show your XML so that we can solve the error as soon as possible"}, {"owner": {"reputation": 706, "user_id": 6670001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lo5Ls.jpg?s=128&g=1", "display_name": "Kelvin Kellner", "link": "https://stackoverflow.com/users/6670001/kelvin-kellner"}, "reply_to_user": {"reputation": 2470, "user_id": 4665938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a92c5fbf7a18f9ca77ad836f23a6a747?s=128&d=identicon&r=PG&f=1", "display_name": "Rakshit Nawani", "link": "https://stackoverflow.com/users/4665938/rakshit-nawani"}, "edited": false, "score": 0, "creation_date": 1470253867, "post_id": 38752325, "comment_id": 64878833, "body": "@RakshitNawani I added the <code>activity_main</code> XML file, do you need another one too? I can give you the NavigationView&#39;s XML doc too?"}, {"owner": {"reputation": 2965, "user_id": 2058844, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/12ysy.jpg?s=128&g=1", "display_name": "Paras", "link": "https://stackoverflow.com/users/2058844/paras"}, "edited": false, "score": 0, "creation_date": 1470256041, "post_id": 38752325, "comment_id": 64879918, "body": "I remember getting this issue. What I did was I created a new layout file from scratch and used that layout file.. and it started working automatically. Can you try it once. Don&#39;t copy paste write everything from scratch."}, {"owner": {"reputation": 706, "user_id": 6670001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lo5Ls.jpg?s=128&g=1", "display_name": "Kelvin Kellner", "link": "https://stackoverflow.com/users/6670001/kelvin-kellner"}, "reply_to_user": {"reputation": 2965, "user_id": 2058844, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/12ysy.jpg?s=128&g=1", "display_name": "Paras", "link": "https://stackoverflow.com/users/2058844/paras"}, "edited": false, "score": 0, "creation_date": 1470264856, "post_id": 38752325, "comment_id": 64883587, "body": "@pArAs Okay, I&#39;ll try it tomorrow, then post my results. Post it as an answer and I&#39;ll mark it as solved."}, {"owner": {"reputation": 706, "user_id": 6670001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lo5Ls.jpg?s=128&g=1", "display_name": "Kelvin Kellner", "link": "https://stackoverflow.com/users/6670001/kelvin-kellner"}, "reply_to_user": {"reputation": 2965, "user_id": 2058844, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/12ysy.jpg?s=128&g=1", "display_name": "Paras", "link": "https://stackoverflow.com/users/2058844/paras"}, "edited": false, "score": 0, "creation_date": 1470318190, "post_id": 38752325, "comment_id": 64909271, "body": "@pArAs I rewrote <code>activity_main.xml</code>, and it still crashes, should I rebuild the other related XML layouts and Java classes too?"}], "owner": {"reputation": 706, "user_id": 6670001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lo5Ls.jpg?s=128&g=1", "display_name": "Kelvin Kellner", "link": "https://stackoverflow.com/users/6670001/kelvin-kellner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1470257390, "creation_date": 1470253310, "last_edit_date": 1470254609, "question_id": 38752325, "link": "https://stackoverflow.com/questions/38752325/my-app-crashes-everytime-i-open-it", "title": "My App Crashes Everytime I Open It", "body": "<p>Every time I try running my application, it crashes right away. It was working fine for the longest while, but it randomly broke, and I'm not sure what caused it. The only thing I could think of was that I uploaded a new jpg, and changed the background of something to it. But the thing is I tried changing the background back to the old thing it was, and I even tried deleting the jpg, so now I'm not sure what's wrong.</p>\n\n<p>Here is my main activity's <code>onCreate()</code> function (the supposed root of the problem):</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity\n    implements NavigationView.OnNavigationItemSelectedListener {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n\n    FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);\n    fab.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Snackbar.make(view, \"Replace with your own action\", Snackbar.LENGTH_LONG)\n                    .setAction(\"Action\", null).show();\n        }\n    });\n\n    DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n    ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n        this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n    drawer.setDrawerListener(toggle);\n    toggle.syncState();\n\n    NavigationView navigationView = (NavigationView) findViewById(R.id.nav_view);\n    navigationView.setNavigationItemSelectedListener(this);\n}\n</code></pre>\n\n<p>And here's the stacktrace (sorry about the insane size):</p>\n\n<pre><code>08-03 14:59:36.516 4847-4847/ca.davesautoservice.davesautoservice E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: ca.davesautoservice.davesautoservice, PID: 4847\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{ca.davesautoservice.davesautoservice/ca.davesautoservice.davesautoservice.MainActivity}: android.view.InflateException: Binary XML file line #17: Error inflating class android.support.design.widget.NavigationView\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2377)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2429)\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1342)\n        at android.os.Handler.dispatchMessage(Handler.java:110)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:5333)\n        at java.lang.reflect.Method.invokeNative(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:515)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:828)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:644)\n        at dalvik.system.NativeStart.main(Native Method)\n    Caused by: android.view.InflateException: Binary XML file line #17: Error inflating class android.support.design.widget.NavigationView\n        at android.view.LayoutInflater.createView(LayoutInflater.java:620)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:696)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:755)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:397)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:353)\n        at android.support.v7.app.AppCompatDelegateImplV7.setContentView(AppCompatDelegateImplV7.java:276)\n        at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:139)\n        at ca.davesautoservice.davesautoservice.MainActivity.onCreate(MainActivity.java:25)\n        at android.app.Activity.performCreate(Activity.java:5343)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1088)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2331)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2429)\u00a0\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)\u00a0\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1342)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:110)\u00a0\n        at android.os.Looper.loop(Looper.java:193)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:5333)\u00a0\n        at java.lang.reflect.Method.invokeNative(Native Method)\u00a0\n        at java.lang.reflect.Method.invoke(Method.java:515)\u00a0\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:828)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:644)\u00a0\n        at dalvik.system.NativeStart.main(Native Method)\u00a0\n    Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.constructNative(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:594)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:696)\u00a0\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:755)\u00a0\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\u00a0\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:397)\u00a0\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:353)\u00a0\n        at android.support.v7.app.AppCompatDelegateImplV7.setContentView(AppCompatDelegateImplV7.java:276)\u00a0\n        at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:139)\u00a0\n        at ca.davesautoservice.davesautoservice.MainActivity.onCreate(MainActivity.java:25)\u00a0\n        at android.app.Activity.performCreate(Activity.java:5343)\u00a0\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1088)\u00a0\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2331)\u00a0\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2429)\u00a0\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)\u00a0\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1342)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:110)\u00a0\n        at android.os.Looper.loop(Looper.java:193)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:5333)\u00a0\n        at java.lang.reflect.Method.invokeNative(Native Method)\u00a0\n        at java.lang.reflect.Method.invoke(Method.java:515)\u00a0\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:828)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:644)\u00a0\n        at dalvik.system.NativeStart.main(Native Method)\u00a0\n    Caused by: android.view.InflateException: Binary XML file line #2: Error inflating class &lt;unknown&gt;\n        at android.view.LayoutInflater.createView(LayoutInflater.java:620)\n        at com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:56)\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:669)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:694)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:469)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:397)\n        at android.support.design.internal.NavigationMenuPresenter.inflateHeaderView(NavigationMenuPresenter.java:189)\n        at android.support.design.widget.NavigationView.inflateHeaderView(NavigationView.java:258)\n        at android.support.design.widget.NavigationView.&lt;init&gt;(NavigationView.java:173)\n        at android.support.design.widget.NavigationView.&lt;init&gt;(NavigationView.java:95)\n        at java.lang.reflect.Constructor.constructNative(Native Method)\u00a0\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\u00a0\n        at android.view.LayoutInflater.createView(LayoutInflater.java:594)\u00a0\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:696)\u00a0\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:755)\u00a0\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\u00a0\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:397)\u00a0\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:353)\u00a0\n        at android.support.v7.app.AppCompatDelegateImplV7.setContentView(AppCompatDelegateImplV7.java:276)\u00a0\n        at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:139)\u00a0\n        at ca.davesautoservice.davesautoservice.MainActivity.onCreate(MainActivity.java:25)\u00a0\n        at android.app.Activity.performCreate(Activity.java:5343)\u00a0\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1088)\u00a0\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2331)\u00a0\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2429)\u00a0\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)\u00a0\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1342)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:110)\u00a0\n        at android.os.Looper.loop(Looper.java:193)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:5333)\u00a0\n        at java.lang.reflect.Method.invokeNative(Native Method)\u00a0\n        at java.lang.reflect.Method.invoke(Method.java:515)\u00a0\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:828)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:644)\u00a0\n        at dalvik.system.NativeStart.main(Native Method)\u00a0\n    Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.constructNative(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:594)\n        at com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:56)\u00a0\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:669)\u00a0\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:694)\u00a0\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:469)\u00a0\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:397)\u00a0\n        at android.support.design.internal.NavigationMenuPresenter.inflateHeaderView(NavigationMenuPresenter.java:189)\u00a0\n        at android.support.design.widget.NavigationView.inflateHeaderView(NavigationView.java:258)\u00a0\n        at android.support.design.widget.NavigationView.&lt;init&gt;(NavigationView.java:173)\u00a0\n        at android.support.design.widget.NavigationView.&lt;init&gt;(NavigationView.java:95)\u00a0\n        at java.lang.reflect.Constructor.constructNative(Native Method)\u00a0\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\u00a0\n        at android.view.LayoutInflater.createView(LayoutInflater.java:594)\u00a0\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:696)\u00a0\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:755)\u00a0\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\u00a0\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:397)\u00a0\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:353)\u00a0\n        at android.support.v7.app.AppCompatDelegateImplV7.setContentView(AppCompatDelegateImplV7.java:276)\u00a0\n        at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:139)\u00a0\n        at ca.davesautoservice.davesautoservice.MainActivity.onCreate(MainActivity.java:25)\u00a0\n        at android.app.Activity.performCreate(Activity.java:5343)\u00a0\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1088)\u00a0\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2331)\u00a0\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2429)\u00a0\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)\u00a0\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1342)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:110)\u00a0\n        at android.os.Looper.loop(Looper.java:193)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:5333)\u00a0\n        at java.lang.reflect.Method.invokeNative(Native Method)\u00a0\n        at java.lang.reflect.Method.invoke(Method.java:515)\u00a0\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:828)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:644)\u00a0\n        at dalvik.system.NativeStart.main(Native Method)\u00a0\n    Caused by: java.lang.OutOfMemoryError\n        at dalvik.system.VMRuntime.newNonMovableArray(Native Method)\n        at android.graphics.BitmapFactory.nativeDecodeAsset(Native Method)\n        at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:609)\n        at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:444)\n        at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:840)\n        at android.content.res.Reso\n</code></pre>\n\n<p><strong>Edit:</strong> Here's the <code>activity_main</code> class:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v4.widget.DrawerLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/drawer_layout\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:fitsSystemWindows=\"true\"\ntools:openDrawer=\"start\"&gt;\n\n&lt;include\n    layout=\"@layout/app_bar_main\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" /&gt;\n\n&lt;android.support.design.widget.NavigationView\n    android:id=\"@+id/nav_view\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"match_parent\"\n    android:layout_gravity=\"start\"\n    android:fitsSystemWindows=\"true\"\n    app:headerLayout=\"@layout/nav_header_main\"\n    app:menu=\"@menu/activity_main_drawer\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>If you need any additional info, I can surely give you some, just ask. Thanks for the help :)</p>\n"}, {"tags": ["java", "mysql", "spring", "spring-mvc", "spring-boot"], "comments": [{"owner": {"reputation": 1488, "user_id": 2170070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be7fd9f031f00388bed34289fbc786ec?s=128&d=identicon&r=PG&f=1", "display_name": "yardie", "link": "https://stackoverflow.com/users/2170070/yardie"}, "edited": false, "score": 0, "creation_date": 1470253372, "post_id": 38752297, "comment_id": 64878603, "body": "Where&#39;s the error that you got?"}, {"owner": {"reputation": 21, "user_id": 4923820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80dde0b8b5163298d0ba2428449fec60?s=128&d=identicon&r=PG&f=1", "display_name": "tchekroun", "link": "https://stackoverflow.com/users/4923820/tchekroun"}, "reply_to_user": {"reputation": 1488, "user_id": 2170070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be7fd9f031f00388bed34289fbc786ec?s=128&d=identicon&r=PG&f=1", "display_name": "yardie", "link": "https://stackoverflow.com/users/2170070/yardie"}, "edited": false, "score": 0, "creation_date": 1470254610, "post_id": 38752297, "comment_id": 64879211, "body": "The error is on usercontroller because i can t autowired userService :/"}, {"owner": {"reputation": 84631, "user_id": 1384297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQ01b.jpg?s=128&g=1", "display_name": "Andy Wilkinson", "link": "https://stackoverflow.com/users/1384297/andy-wilkinson"}, "edited": false, "score": 0, "creation_date": 1470256267, "post_id": 38752297, "comment_id": 64880027, "body": "What packages are your classes in?"}, {"owner": {"reputation": 2756, "user_id": 1704453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rehw8.jpg?s=128&g=1", "display_name": "vipin cp", "link": "https://stackoverflow.com/users/1704453/vipin-cp"}, "edited": false, "score": 0, "creation_date": 1470270148, "post_id": 38752297, "comment_id": 64884954, "body": "Not the scope of this question, but, why using <code>@Service</code> <code>@Component</code> annotation together?"}, {"owner": {"reputation": 376, "user_id": 4161590, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2741a32e8e52c72c1db1a67508ec4e70?s=128&d=identicon&r=PG", "display_name": "Amila Banuka Amarasinghe", "link": "https://stackoverflow.com/users/4161590/amila-banuka-amarasinghe"}, "edited": false, "score": 0, "creation_date": 1470275216, "post_id": 38752297, "comment_id": 64886997, "body": "UserService is depending of UserRepository. are you sure it is correctly instantiated? normally you have to go to the last exception in a stack trace to get the actual error/ the top ones are ripples of the original issue."}, {"owner": {"reputation": 5473, "user_id": 5363182, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-Yj16Z0_iIbk/AAAAAAAAAAI/AAAAAAAAGzU/alJ5Gugef5A/photo.jpg?sz=128", "display_name": "Tharsan Sivakumar", "link": "https://stackoverflow.com/users/5363182/tharsan-sivakumar"}, "edited": false, "score": 0, "creation_date": 1470285473, "post_id": 38752297, "comment_id": 64889549, "body": "Share your application-context.xml"}, {"owner": {"reputation": 963, "user_id": 6127820, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e5c16aa4abb08ffec710b7824122ffec?s=128&d=identicon&r=PG&f=1", "display_name": "Vaibs", "link": "https://stackoverflow.com/users/6127820/vaibs"}, "edited": false, "score": 0, "creation_date": 1470315910, "post_id": 38752297, "comment_id": 64907395, "body": "this error is related with configuration.Check you base component scan package also check the dependency mentioned in pom is having same version."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4923820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80dde0b8b5163298d0ba2428449fec60?s=128&d=identicon&r=PG&f=1", "display_name": "tchekroun", "link": "https://stackoverflow.com/users/4923820/tchekroun"}, "edited": false, "score": 0, "creation_date": 1470423273, "post_id": 38757547, "comment_id": 64962397, "body": "I edit my question, my database work and i still do not understand why my web service does not work ... I think the problem is about my entity or repository"}, {"owner": {"reputation": 59, "user_id": 6103856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfwMV.jpg?s=128&g=1", "display_name": "jinjun.zhu", "link": "https://stackoverflow.com/users/6103856/jinjun-zhu"}, "reply_to_user": {"reputation": 21, "user_id": 4923820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80dde0b8b5163298d0ba2428449fec60?s=128&d=identicon&r=PG&f=1", "display_name": "tchekroun", "link": "https://stackoverflow.com/users/4923820/tchekroun"}, "edited": false, "score": 0, "creation_date": 1470540074, "post_id": 38757547, "comment_id": 64989127, "body": "Saw your exception stack,I guess it is because the @ComponentScan does not scan your service.Can you show your JitBackofficeApplication class.Or Are you make sure your ComponentScan is configured right?The below is mine:  @ComponentScan(&quot;boot.web,boot.service,boot.repository,boot.a&zwnj;&#8203;pp&quot;)  and my directory structure is follows: src/main/ -----boot.app -----------App.java -----boot.domain -----boot.repository -----boot.service -----boot.web App.java is my startup class."}, {"owner": {"reputation": 21, "user_id": 4923820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80dde0b8b5163298d0ba2428449fec60?s=128&d=identicon&r=PG&f=1", "display_name": "tchekroun", "link": "https://stackoverflow.com/users/4923820/tchekroun"}, "edited": false, "score": 0, "creation_date": 1470593900, "post_id": 38757547, "comment_id": 65001266, "body": "I have just edit my post ( again .. ) i had an picture to see my architecture, but i don&#39;t really well understand the componentScan ..."}, {"owner": {"reputation": 59, "user_id": 6103856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfwMV.jpg?s=128&g=1", "display_name": "jinjun.zhu", "link": "https://stackoverflow.com/users/6103856/jinjun-zhu"}, "reply_to_user": {"reputation": 21, "user_id": 4923820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80dde0b8b5163298d0ba2428449fec60?s=128&d=identicon&r=PG&f=1", "display_name": "tchekroun", "link": "https://stackoverflow.com/users/4923820/tchekroun"}, "edited": false, "score": 0, "creation_date": 1470622866, "post_id": 38757547, "comment_id": 65007696, "body": "@ComponentScan(&quot;controllers&quot;) is not contain the service and repository,so you must modify it to @ComponentScan(&quot;controllers,services,repository,model&quot;) ComponentScan is used for scanning the bean class while load the spring container.If you not configure the componentscan with the path of service and  repository,the class depend them(such as controller) will load failure."}], "tags": [], "owner": {"reputation": 59, "user_id": 6103856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfwMV.jpg?s=128&g=1", "display_name": "jinjun.zhu", "link": "https://stackoverflow.com/users/6103856/jinjun-zhu"}, "is_accepted": false, "score": 0, "last_activity_date": 1470277562, "creation_date": 1470277562, "answer_id": 38757547, "question_id": 38752297, "link": "https://stackoverflow.com/questions/38752297/org-springframework-beans-factory-unsatisfieddependencyexception-error-creating/38757547#38757547", "title": "org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name userController : Unsatisfied dependency", "body": "<p>I got this problem before\uff0cI trace it and found that this is not the error of controller and service but the repository.I got this by the exception stack 'caused by xxx'.Finally I found the reason,I made a mistake when I config the datasource in application.properties,which lead to failure to connect the database.</p>\n\n<p>But your error is incomplete.I think your error is like as mine and I have some question to confirm.</p>\n\n<p>1.Can you show your complete exception stack?</p>\n\n<p>2.Can you show your application.properties?</p>\n\n<p>3.Are you make sure that your database can connect successfully?You can use jdbc to test it.</p>\n\n<p>4.Do you have one datasource or more?More that one datasource will make configuration complex and have more probability to error.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 4923820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80dde0b8b5163298d0ba2428449fec60?s=128&d=identicon&r=PG&f=1", "display_name": "tchekroun", "link": "https://stackoverflow.com/users/4923820/tchekroun"}, "edited": false, "score": 0, "creation_date": 1470595096, "post_id": 38817325, "comment_id": 65001613, "body": "What should White un my componentScan ?"}, {"owner": {"reputation": 21, "user_id": 4923820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80dde0b8b5163298d0ba2428449fec60?s=128&d=identicon&r=PG&f=1", "display_name": "tchekroun", "link": "https://stackoverflow.com/users/4923820/tchekroun"}, "edited": false, "score": 1, "creation_date": 1470596391, "post_id": 38817325, "comment_id": 65001971, "body": "Thanks a lot for your help !"}], "tags": [], "owner": {"reputation": 3507, "user_id": 1420715, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2c93ff3d290f9c6d54c58c849990f16d?s=128&d=identicon&r=PG", "display_name": "Lakatos Gyula", "link": "https://stackoverflow.com/users/1420715/lakatos-gyula"}, "is_accepted": true, "score": 2, "last_activity_date": 1491911739, "last_edit_date": 1592644375, "creation_date": 1470595051, "answer_id": 38817325, "question_id": 38752297, "link": "https://stackoverflow.com/questions/38752297/org-springframework-beans-factory-unsatisfieddependencyexception-error-creating/38817325#38817325", "title": "org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name userController : Unsatisfied dependency", "body": "<p>Your <code>@ComponentScan</code> annotation is wrong. You only add the controller package as a component source.</p>\n<p>You need to add the package that contains both your controllers and Services.</p>\n<p>Eg if your package structure is:</p>\n<blockquote>\n<p>com.mycompany.controllers</p>\n<p>com.mycompany.services</p>\n</blockquote>\n<p>Then write com.mycompany into the <code>@ComponentScan</code>.</p>\n<p>Also you should only use <code>@Service</code> on your service classes and not <code>@Component</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1432, "user_id": 5053266, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6627f6e4faa1cb54cd5592a4d816c3ac?s=128&d=identicon&r=PG&f=1", "display_name": "RotS", "link": "https://stackoverflow.com/users/5053266/rots"}, "is_accepted": false, "score": 0, "last_activity_date": 1579884142, "creation_date": 1579884142, "answer_id": 59900568, "question_id": 38752297, "link": "https://stackoverflow.com/questions/38752297/org-springframework-beans-factory-unsatisfieddependencyexception-error-creating/59900568#59900568", "title": "org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name userController : Unsatisfied dependency", "body": "<p>I got the same UnsatisfiedDependencyException and NoSuchBeanDefinitionException, so I checked that I had my <code>@Service</code> annotation on top of my service class, my <code>@Repository</code> on top of my JPA repository class, and that my Main class had <code>@ComponentScan(basePackages = { \"com.first.package.*\", \"com.second.package.*\" })</code> to scan the package where my repository is.</p>\n\n<p>Then I noticed that 2 repositories had the same class name! One was in the first package, and the other was in the second package! So Spring loaded just one and not the second one.\nI renamed the second repository and it worked! This could be also done using Qualifiers.</p>\n"}], "owner": {"reputation": 21, "user_id": 4923820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80dde0b8b5163298d0ba2428449fec60?s=128&d=identicon&r=PG&f=1", "display_name": "tchekroun", "link": "https://stackoverflow.com/users/4923820/tchekroun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26231, "favorite_count": 0, "accepted_answer_id": 38817325, "answer_count": 3, "score": 1, "last_activity_date": 1579884142, "creation_date": 1470253209, "last_edit_date": 1470593780, "question_id": 38752297, "link": "https://stackoverflow.com/questions/38752297/org-springframework-beans-factory-unsatisfieddependencyexception-error-creating", "title": "org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name userController : Unsatisfied dependency", "body": "<p>I try to connect mysql database to spring boot web service but i got this error and i don't know how to fix it ...</p>\n\n<p>my controller is : </p>\n\n<pre><code>    @RestController\n    @RequestMapping(\"/user\")\n    public class UsersController {\n\n    @Autowired\n    UserService userService;\n\n    @RequestMapping(\"/test\")\n    @ResponseBody\n    String home(){\n        return \"Hello world\";\n    }\n\n    @RequestMapping(\"/users\")\n    String test(){\n        return \"TEST \";\n    }\n}\n</code></pre>\n\n<p>and my Entity is : </p>\n\n<pre><code>@Entity\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n\n    private String username;\n    private String name;\n    private String firstname;\n    private String email;\n    private String adress;\n    private String password;\n\n    // Constructeur pour l'utilisation des JPA\n    protected User(){}\n\n    public User(String username, String name, String firstname, String email, String adress, String password) {\n        this.username = username;\n        this.name = name;\n        this.firstname = firstname;\n        this.email = email;\n        this.adress = adress;\n        this.password = password;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getFirstname() {\n        return firstname;\n    }\n\n    public void setFirstname(String firstname) {\n        this.firstname = firstname;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getAdress() {\n        return adress;\n    }\n\n    public void setAdress(String adress) {\n        this.adress = adress;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n}\n</code></pre>\n\n<p>My repository file : </p>\n\n<pre><code>public interface UserRepository extends CrudRepository&lt;User, Integer&gt;{\n    List&lt;User&gt; findUserByName(String name);\n    User findUserByUsername(String username);\n}\n</code></pre>\n\n<p>My service :</p>\n\n<pre><code>@Service\n@Component\npublic class UserService {\n    @Autowired\n    private UserRepository repoUser;\n\n    public List&lt;User&gt; getUser(String name){\n        return repoUser.findUserByName(name);\n    }\n}\n</code></pre>\n\n<p>EDIT : \nThis is my stacktrace :</p>\n\n<pre><code>2016-08-05 20:48:39.025  WARN 1849 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'usersController': Unsatisfied dependency expressed through field 'userService': No qualifying bean of type [services.UserService] found for dependency [services.UserService]: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [services.UserService] found for dependency [services.UserService]: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n2016-08-05 20:48:39.026  INFO 1849 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2016-08-05 20:48:39.031  INFO 1849 --- [           main] o.apache.catalina.core.StandardService   : Stopping service Tomcat\n2016-08-05 20:48:39.053  INFO 1849 --- [           main] utoConfigurationReportLoggingInitializer : \n\nError starting ApplicationContext. To display the auto-configuration report enable debug logging (start with --debug)\n\n\n2016-08-05 20:48:39.073 ERROR 1849 --- [           main] o.s.boot.SpringApplication               : Application startup failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'usersController': Unsatisfied dependency expressed through field 'userService': No qualifying bean of type [services.UserService] found for dependency [services.UserService]: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [services.UserService] found for dependency [services.UserService]: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:569) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:349) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:776) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:861) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:541) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:369) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:313) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1185) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1174) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at com.example.JitBackofficeApplication.main(JitBackofficeApplication.java:13) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_101]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_101]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_101]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_101]\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147) [idea_rt.jar:na]\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [services.UserService] found for dependency [services.UserService]: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1406) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1057) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1019) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:566) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    ... 24 common frames omitted\n</code></pre>\n\n<p>My aplication.properties : </p>\n\n<pre><code>spring.datasource.url=jdbc:mysql://localhost/jitdatabase\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.data.jpa.repositories.enabled=true\n</code></pre>\n\n<p>Here my Application file : </p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan(\"controllers\")\npublic class JitBackofficeApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(JitBackofficeApplication.class, args);\n    }\n}\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/5TQRI.png\" rel=\"nofollow\">here theres is my architecture</a></p>\n\n<p>Anyone have an solution ?</p>\n\n<p>Regards </p>\n"}, {"tags": ["javascript", "java", "android"], "answers": [{"tags": [], "owner": {"reputation": 943, "user_id": 6541772, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QgxUN.jpg?s=128&g=1", "display_name": "azriebakri", "link": "https://stackoverflow.com/users/6541772/azriebakri"}, "is_accepted": true, "score": 0, "last_activity_date": 1470277005, "last_edit_date": 1495542787, "creation_date": 1470277005, "answer_id": 38757464, "question_id": 38752285, "link": "https://stackoverflow.com/questions/38752285/check-for-onpagefinished-to-finish/38757464#38757464", "title": "Check for onPageFinished to finish", "body": "<p>Well since I found my own solution;</p>\n\n<p>As stated <a href=\"https://stackoverflow.com/questions/23430839/how-to-make-app-wait-and-then-start-activity-or-go-back\">here</a>, making a UI thread sleep is something that should never be done due to it'll will pausing all the activity inside. So handler postDelay is used instead. </p>\n\n<p>Solution code:</p>\n\n<pre><code> Handler handler = new Handler();\n handler.postDelayed(new Runnable(){\n  @Override\n  public void run(){\n  // do something\n    }\n  }, 3000);\n</code></pre>\n"}], "owner": {"reputation": 943, "user_id": 6541772, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QgxUN.jpg?s=128&g=1", "display_name": "azriebakri", "link": "https://stackoverflow.com/users/6541772/azriebakri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "accepted_answer_id": 38757464, "answer_count": 1, "score": 1, "last_activity_date": 1470277005, "creation_date": 1470253147, "question_id": 38752285, "link": "https://stackoverflow.com/questions/38752285/check-for-onpagefinished-to-finish", "title": "Check for onPageFinished to finish", "body": "<p>I'm still a beginner in programming and currently I have code where for my webview, I have a onPageFinished with JavaScript code inside to retrieve plain text from my webview. But the onPageFinished will always finish after my main thread and I can't proceed with anything  else after that. </p>\n\n<p>Is there anyway I can do a checking to wait for the onPageFinished to finish or delay my main thread so it wouldn't end before my onPageFinished ? I'm desperate for solution.</p>\n\n<p>Here is my code. </p>\n\n<p><code>WebViewActivity</code>class</p>\n\n<pre><code>public class WebViewActivity extends Activity{\n\nString[] paraText;\n\n@TargetApi(Build.VERSION_CODES.LOLLIPOP)\n@SuppressLint(\"JavascriptInterface\")\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_webview);\n\n    WebView webview = (WebView) findViewById(R.id.webView);\n    FloatingActionButton floatingActionButton = (FloatingActionButton) findViewById(R.id.button_voice);\n\n\n    //Retrieve value from CustomAdapter\n    Intent intent = getIntent();\n    String address = intent.getStringExtra(\"URL\");\n\n\n\n\n    //Enable JavaScript\n    webview.getSettings().setJavaScriptEnabled(true);\n    webview.getSettings().setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW);\n    webview.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);\n    webview.getSettings().setDomStorageEnabled(true);\n    webview.addJavascriptInterface(this,\"myjava\");\n    webview.setWebViewClient(new WebViewClient() {\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\n            return super.shouldOverrideUrlLoading(view, request);\n\n        }\n\n        @Override\n        public void onPageStarted(WebView view, String url, Bitmap favicon) {\n            super.onPageStarted(view, url, favicon);\n        }\n\n        @Override\n        public void onPageFinished(WebView view, String url) {\n            /*view.loadUrl(\"javascript:(function() { \" + \"document.getElementById('mk-navbar-secondary').style.display=\\\"none\\\"; \" + \"})()\");\n            view.loadUrl(\"javascript:(function() { \" + \"document.getElementsByClassName('uk-list uk-clearfix uk-margin-bottom-remove').style.display=\\\"none\\\"; \" + \"})()\");\n            view.loadUrl(\"javascript:(function() { \" + \"document.getElementsByTagName('section')[0].style.display=\\\"none\\\"; \" + \"})()\");\n            view.loadUrl(\"javascript:(function() { \" + \"document.getElementsByTagName('section')[1].style.display=\\\"none\\\"; \" + \"})()\");\n            view.loadUrl(\"javascript:(function() { \" + \"document.getElementsByTagName('section')[3].style.display=\\\"none\\\"; \" + \"})()\");*/\n\n            view.loadUrl(\"javascript:var paraTexts = []\");\n            view.loadUrl(\"javascript:var count = document.getElementsByTagName('p');\");\n            view.loadUrl(\"javascript:var loop;\");\n            view.loadUrl(\"javascript:for(loop = 0; loop &lt; count.length; loop++){ paraTexts.push( document.getElementsByTagName('p')[loop].innerHTML); }\");\n            view.loadUrl(\"javascript:myjava.onData(paraTexts);\");\n\n            Log.d(\"OUTPUT TEST\",\"onPageFinished\");\n\n        }\n    });\n\n\n    webview.loadUrl(address);\n\n\n}\n\n//This method will be registered as a JavaScript interface\n@JavascriptInterface\n@SuppressWarnings(\"unused\")\npublic void onData(String[] value){\n    this.paraText = value;\n    Log.d(\"OUTPUT TEST onDATA\",value[0]);\n    Log.d(\"OUTPUT TEST onDATA.P\",paraText[0]);\n    //new SpeakText(getApplicationContext(),paraText,floatingActionButton).execute();\n\n}\n\npublic void onDataDisplay(){\n\n    Log.d(\"OUTPUT TEST disDATA\",paraText[0]);\n}\n}\n</code></pre>\n"}, {"tags": ["java", "android", "chromecast", "google-cast"], "comments": [{"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1470266124, "post_id": 38752191, "comment_id": 64883971, "body": "Where do you call <code>mMediaSessionCompat.setActive(true)</code>?"}, {"owner": {"reputation": 8424, "user_id": 2511882, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/14b27314457e78023d62224bc508a5c0?s=128&d=identicon&r=PG", "display_name": "user2511882", "link": "https://stackoverflow.com/users/2511882/user2511882"}, "reply_to_user": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1470266248, "post_id": 38752191, "comment_id": 64884000, "body": "@ianhanniballake within the setupMediaSession method. I am using the default 2.7.0 library as-is. I have updated the question with the aforementioned method."}], "answers": [{"comments": [{"owner": {"reputation": 8424, "user_id": 2511882, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/14b27314457e78023d62224bc508a5c0?s=128&d=identicon&r=PG", "display_name": "user2511882", "link": "https://stackoverflow.com/users/2511882/user2511882"}, "edited": false, "score": 0, "creation_date": 1470268808, "post_id": 38755441, "comment_id": 64884617, "body": "are we talking about the getMetaData().getImages() call within the setBitmapForLockScreen method? I was debugging that method and apparently the list of web images is coming back as 0. However, the extended controls, notification, mini controller all show the correct images"}, {"owner": {"reputation": 8424, "user_id": 2511882, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/14b27314457e78023d62224bc508a5c0?s=128&d=identicon&r=PG", "display_name": "user2511882", "link": "https://stackoverflow.com/users/2511882/user2511882"}, "edited": false, "score": 0, "creation_date": 1470268871, "post_id": 38755441, "comment_id": 64884631, "body": "To add, even if the images is null, looking at the logic implementation it should still pickup the default album_art_placeholder_large and show that if nothing else is available, shouldn&#39;t it?"}, {"owner": {"reputation": 16611, "user_id": 2765813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KVg6L.jpg?s=128&g=1", "display_name": "Ali Naddaf", "link": "https://stackoverflow.com/users/2765813/ali-naddaf"}, "reply_to_user": {"reputation": 8424, "user_id": 2511882, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/14b27314457e78023d62224bc508a5c0?s=128&d=identicon&r=PG", "display_name": "user2511882", "link": "https://stackoverflow.com/users/2511882/user2511882"}, "edited": false, "score": 0, "creation_date": 1470278032, "post_id": 38755441, "comment_id": 64887657, "body": "As I suggested, please try CastVideos-v2 and see if that exhibits this issue or not."}], "tags": [], "owner": {"reputation": 16611, "user_id": 2765813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KVg6L.jpg?s=128&g=1", "display_name": "Ali Naddaf", "link": "https://stackoverflow.com/users/2765813/ali-naddaf"}, "is_accepted": false, "score": 0, "last_activity_date": 1470268516, "creation_date": 1470268516, "answer_id": 38755441, "question_id": 38752191, "link": "https://stackoverflow.com/questions/38752191/chromecast-sender-v2-7-0-lockscreen-image/38755441#38755441", "title": "Chromecast Sender v2.7.0 lockscreen image", "body": "<p>Have you defined a \"larger\" album arts when you defined your MediaInfo? CCL assumes you have a smaller one, set as index=0, which will be used in notification and mini-controller and media router controller dialog and a larger one (second image in MediaInfo, index=1) that will be used for the lockscreen and the fullscreen remote controller. If these images are there, CCL automatically uses them. As a test, run CastVideos-android (v2) and see if that works for you.</p>\n"}], "owner": {"reputation": 8424, "user_id": 2511882, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/14b27314457e78023d62224bc508a5c0?s=128&d=identicon&r=PG", "display_name": "user2511882", "link": "https://stackoverflow.com/users/2511882/user2511882"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 245, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1470268516, "creation_date": 1470252799, "last_edit_date": 1495542718, "question_id": 38752191, "link": "https://stackoverflow.com/questions/38752191/chromecast-sender-v2-7-0-lockscreen-image", "title": "Chromecast Sender v2.7.0 lockscreen image", "body": "<p>How do we go about showing the lockscreen artwork for a <code>chromecast sender</code> app running <code>v2.7.0</code>. I have spent the best part of about 2 days on this without any resolution. </p>\n\n<p>The <code>v2.7.0</code> library currently has the following method in the <code>VideoCastManager.java</code> class:</p>\n\n<pre><code>private void setBitmapForLockScreen(MediaInfo video) {\n    if (video == null || mMediaSessionCompat == null) {\n        return;\n    }\n    Uri imgUrl = null;\n    Bitmap bm = null;\n    List&lt;WebImage&gt; images = video.getMetadata().getImages();\n    if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.JELLY_BEAN_MR2) {\n        if (images.size() &gt; 1) {\n            imgUrl = images.get(1).getUrl();\n        } else if (images.size() == 1) {\n            imgUrl = images.get(0).getUrl();\n        } else if (mContext != null) {\n            // we don't have a url for image so get a placeholder image from resources\n            bm = BitmapFactory.decodeResource(mContext.getResources(),\n                    R.drawable.album_art_placeholder_large);\n        }\n    } else if (!images.isEmpty()) {\n        imgUrl = images.get(0).getUrl();\n    } else {\n        // we don't have a url for image so get a placeholder image from resources\n        bm = BitmapFactory.decodeResource(mContext.getResources(),\n                R.drawable.album_art_placeholder);\n    }\n    if (bm != null) {\n        MediaMetadataCompat currentMetadata = mMediaSessionCompat.getController().getMetadata();\n        MediaMetadataCompat.Builder newBuilder = currentMetadata == null\n                ? new MediaMetadataCompat.Builder()\n                : new MediaMetadataCompat.Builder(currentMetadata);\n        mMediaSessionCompat.setMetadata(newBuilder\n                .putBitmap(MediaMetadataCompat.METADATA_KEY_ART, bm)\n                .build());\n    } else {\n        if (mLockScreenFetchTask != null) {\n            mLockScreenFetchTask.cancel(true);\n        }\n        mLockScreenFetchTask = new FetchBitmapTask() {\n            @Override\n            protected void onPostExecute(Bitmap bitmap) {\n                if (mMediaSessionCompat != null) {\n                    MediaMetadataCompat currentMetadata = mMediaSessionCompat.getController()\n                            .getMetadata();\n                    MediaMetadataCompat.Builder newBuilder = currentMetadata == null\n                            ? new MediaMetadataCompat.Builder()\n                            : new MediaMetadataCompat.Builder(currentMetadata);\n                    mMediaSessionCompat.setMetadata(newBuilder\n                            .putBitmap(MediaMetadataCompat.METADATA_KEY_ART, bitmap)\n                            .build());\n                }\n                mLockScreenFetchTask = null;\n            }\n        };\n        mLockScreenFetchTask.execute(imgUrl);\n    }\n}\n</code></pre>\n\n<p>I have tried swaping the <code>album_art_placeholder_large</code> drawable with my own custom image, no results. Also tried adding a bitmap via the following line:</p>\n\n<pre><code>putBitmap(MediaMetadataCompat.METADATA_KEY_ALBUM_ART, bm)\n</code></pre>\n\n<p>but nothing works. What exactly am i missing here? What <code>MediaMetadataCompat</code> key needs to be used to show the lockscreen artwork??\nOr i am looking at the wrong place to begin with?</p>\n\n<p>Some other links i have tried but to no avail:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/29543418/android-mediametadata-image-on-lockscreen-is-zoomed\">Android MediaMetadata image on lockscreen is zoomed</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/22600416/adding-more-fields-in-mediametada-googlecast\">Adding more fields in MediaMetada GoogleCast</a></p>\n\n<p>The document online as of now is incredibly poor and does not help much.</p>\n\n<p>Thanks!</p>\n\n<p><strong>EDIT</strong>: On further investigation, it seems to be taking 15-20 minutes after locking the device to show the lockscreen image. Not sure why.</p>\n\n<p><strong>EDIT 2</strong>: setupMediaSession method.</p>\n\n<pre><code>private void setUpMediaSession(final MediaInfo info) {\n        if (!isFeatureEnabled(CastConfiguration.FEATURE_LOCKSCREEN)) {\n            return;\n        }\n        if (mMediaSessionCompat == null) {\n            ComponentName mediaEventReceiver = new ComponentName(mContext,\n                    VideoIntentReceiver.class.getName());\n            mMediaSessionCompat = new MediaSessionCompat(mContext, \"TAG\", mediaEventReceiver,\n                    null);\n            mMediaSessionCompat.setFlags(MediaSessionCompat.FLAG_HANDLES_MEDIA_BUTTONS\n                    | MediaSessionCompat.FLAG_HANDLES_TRANSPORT_CONTROLS);\n            mMediaSessionCompat.setActive(true);\n            mMediaSessionCompat.setCallback(new MediaSessionCompat.Callback() {\n                @Override\n                public boolean onMediaButtonEvent(Intent mediaButtonIntent) {\n                    KeyEvent keyEvent = mediaButtonIntent\n                            .getParcelableExtra(Intent.EXTRA_KEY_EVENT);\n                    if (keyEvent != null &amp;&amp; (keyEvent.getKeyCode() == KeyEvent.KEYCODE_MEDIA_PAUSE\n                            || keyEvent.getKeyCode() == KeyEvent.KEYCODE_MEDIA_PLAY)) {\n                        toggle();\n                    }\n                    return true;\n                }\n\n                @Override\n                public void onPlay() {\n                    toggle();\n                }\n\n                @Override\n                public void onPause() {\n                    toggle();\n                }\n\n                private void toggle() {\n                    try {\n                        togglePlayback();\n                    } catch (CastException | TransientNetworkDisconnectionException |\n                        NoConnectionException e) {\n                        LOGE(TAG, \"MediaSessionCompat.Callback(): Failed to toggle playback\", e);\n                    }\n                }\n            });\n        }\n\n        mAudioManager.requestAudioFocus(null, AudioManager.STREAM_MUSIC,\n                AudioManager.AUDIOFOCUS_GAIN_TRANSIENT_MAY_DUCK);\n\n        PendingIntent pi = getCastControllerPendingIntent();\n        if (pi != null) {\n            mMediaSessionCompat.setSessionActivity(pi);\n        }\n        if (info == null) {\n            mMediaSessionCompat.setPlaybackState(new PlaybackStateCompat.Builder()\n                .setState(PlaybackStateCompat.STATE_NONE, 0, 1.0f).build());\n        } else {\n            mMediaSessionCompat.setPlaybackState(new PlaybackStateCompat.Builder()\n                .setState(PlaybackStateCompat.STATE_PLAYING, 0, 1.0f)\n                .setActions(PlaybackStateCompat.ACTION_PLAY_PAUSE).build());\n        }\n\n        // Update the media session's image\n        updateLockScreenImage(info);\n\n        // update the media session's metadata\n        updateMediaSessionMetadata();\n\n        mMediaRouter.setMediaSessionCompat(mMediaSessionCompat);\n    }\n</code></pre>\n"}, {"tags": ["java", "char", "collation"], "comments": [{"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 1, "creation_date": 1470252919, "post_id": 38752154, "comment_id": 64878329, "body": "You could use <code>collator.compare(String.valueOf(c1), String.valueOf(c2));</code> where <code>c1</code> and <code>c2</code> are the characters."}, {"owner": {"reputation": 2264, "user_id": 5884788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4f484bab0de0d57ef1fcf392c952791?s=128&d=identicon&r=PG&f=1", "display_name": "bradimus", "link": "https://stackoverflow.com/users/5884788/bradimus"}, "edited": false, "score": 0, "creation_date": 1470252924, "post_id": 38752154, "comment_id": 64878331, "body": "Not that I know of. Consider using <code>String.valueOf(char)</code>,"}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1470254046, "post_id": 38752154, "comment_id": 64878914, "body": "What does <i>&quot;app which counts character appearance&quot;</i> have to do with <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/Collator.html\" rel=\"nofollow noreferrer\"><code>Collator</code></a> which is used to <i>&quot;build searching and sorting routines for natural language text&quot;</i>? <b>Collation</b> has <i>nothing</i> to do with <b>counting</b>. It&#39;s about <b>sorting</b>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4933750"}, "reply_to_user": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1470254246, "post_id": 38752154, "comment_id": 64879016, "body": "@Andreas Well, it prints too, so that that."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4933750"}, "edited": false, "score": 0, "creation_date": 1470254289, "post_id": 38752154, "comment_id": 64879038, "body": "I added an update about <code>String.valueOf</code>."}, {"owner": {"reputation": 248566, "user_id": 3474, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ffbf4e85b8ffbae4e9039b9c0cf07bc8?s=128&d=identicon&r=PG", "display_name": "erickson", "link": "https://stackoverflow.com/users/3474/erickson"}, "reply_to_user": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1470255212, "post_id": 38752154, "comment_id": 64879527, "body": "@Andreas Collation is completely relevant here. As you said, &quot;<code>Collator</code> ... is used to &#39;build searching ... routines for natural language text.&#39;&quot; The application here is searching for an entry in a map. Why are you getting hung up on what&#39;s done with the entry after?"}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "reply_to_user": {"reputation": 248566, "user_id": 3474, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ffbf4e85b8ffbae4e9039b9c0cf07bc8?s=128&d=identicon&r=PG", "display_name": "erickson", "link": "https://stackoverflow.com/users/3474/erickson"}, "edited": false, "score": 0, "creation_date": 1470255621, "post_id": 38752154, "comment_id": 64879726, "body": "@erickson But what is the point? To sort the result? To collapse &quot;equal&quot; letters, e.g. <code>a</code>, <code>A</code>, <code>&#228;</code>? Well, <i>are</i> they equal? If so, which one to you want to see? A <code>TreeMap</code> ordered by a <code>Collator</code> might map the three characters to the same entry, but the entry key will be the <i>first</i> such character <i>seen</i>, i.e. it&#39;ll be arbitrary what the key value will be, depending on the input text. That&#39;s just wrong."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4933750"}, "reply_to_user": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1470256022, "post_id": 38752154, "comment_id": 64879909, "body": "@Andreas Sometimes that may be just what I want, sometimes I may think of using it in some other way. But the question is if it can be done and how."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4933750"}, "edited": false, "score": 0, "creation_date": 1470256982, "post_id": 38752845, "comment_id": 64880379, "body": "Just what I wanted, thanks. Btw, a HashMap was slower than a TreeMap."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4933750"}, "edited": false, "score": 0, "creation_date": 1470257066, "post_id": 38752845, "comment_id": 64880427, "body": "Why are the warnings suppressed?"}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1470257373, "post_id": 38752845, "comment_id": 64880587, "body": "Because I accept the warning and don&#39;t want to see it anymore."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4933750"}, "edited": false, "score": 2, "creation_date": 1470265759, "post_id": 38752845, "comment_id": 64883865, "body": "There was a tiny bug in your code, which I corrected."}], "tags": [], "owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "is_accepted": true, "score": 1, "last_activity_date": 1470265871, "last_edit_date": 1470265871, "creation_date": 1470255359, "answer_id": 38752845, "question_id": 38752154, "link": "https://stackoverflow.com/questions/38752154/is-there-a-char-collator-in-java/38752845#38752845", "title": "Is there a Char collator in Java?", "body": "<p><strong>UPDATED</strong></p>\n\n<p>If you only want the <code>Collator</code> for sorting the result when printing it, just sort after counting. Much better for performance. See code further down.</p>\n\n<p>If you want the <code>TreeMap</code> to use a <code>Collator</code>, get the <code>Collator</code>, then give a <code>Comparator&lt;Character&gt;</code> to the <code>TreeMap</code> constructor. Since you're using Java 8 streams, you might as well do this using a lambda expression:</p>\n\n<pre><code>Collator collator = Collator.getInstance(Locale.GERMAN);\ncollator.setStrength(Collator.PRIMARY);\nMap&lt;Character, int[]&gt; countMap = new TreeMap&lt;&gt;(\n        (c1, c2) -&gt; collator.compare(c1.toString(), c2.toString())\n);\n</code></pre>\n\n<p>Using that <code>Collator</code>, accents and upper-/lower-case characters are all merged. See sample output at the end of this answer.</p>\n\n<p><strong>Full code for sorting after counting</strong></p>\n\n<pre><code>String input = \"Das Polarit\u00e4tsprofil f\u00fcr das Wort \\\"Hund\\\" als Testeinheit \" +\n               \"k\u00f6nnte zeigen , dass verschiedene Personen unterschiedliche \" +\n               \"Einstellungen zu diesen Tieren haben .\";\n\nMap&lt;Character, int[]&gt; countMap = new HashMap&lt;&gt;();\nfor (Character ch : input.toCharArray()) {\n    int[] counter = countMap.get(ch);\n    if (counter == null)\n        countMap.put(ch, new int[] { 1 });\n    else\n        counter[0]++;\n}\n@SuppressWarnings(\"unchecked\")\nEntry&lt;Character, int[]&gt;[] counts = countMap.entrySet().toArray(new Map.Entry[countMap.size()]);\nCollator collator = Collator.getInstance(Locale.GERMAN);\nArrays.sort(counts, (e1, e2) -&gt; collator.compare(e1.getKey().toString(), e2.getKey().toString()));\nfor (Entry&lt;Character, int[]&gt; entry : counts)\n    System.out.printf(\"%c - %d%n\", entry.getKey(), entry.getValue()[0]);\n</code></pre>\n\n<p><strong>Output from sorting after counting</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>, - 1\n. - 1\n\" - 2\n  - 20\na - 6\n\u00e4 - 1\nb - 1\nc - 3\nd - 6\nD - 1\nE - 1\ne - 22\nf - 2\ng - 2\nh - 5\nH - 1\ni - 11\nk - 1\nl - 6\nn - 15\n\u00f6 - 1\no - 4\nP - 2\np - 1\nr - 8\ns - 12\nt - 8\nT - 2\nu - 4\n\u00fc - 1\nv - 1\nW - 1\nz - 2\n</code></pre>\n\n<p>As you can see, the result is printed according to German collation, with <code>\u00e4</code> between <code>a</code> and <code>b</code>.</p>\n\n<p>If you want upper- and lower-case characters unified, you should decide which you want in the result and convert to that, otherwise it'll be arbitrary.</p>\n\n<p><strong>Output from using <code>PRIMARY</code> <code>Collator</code> in <code>TreeMap</code></strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>  - 20\n, - 1\n. - 1\n\" - 2\na - 7\nb - 1\nc - 3\nD - 7\ne - 23\nf - 2\ng - 2\nH - 6\ni - 11\nk - 1\nl - 6\nn - 15\no - 5\nP - 3\nr - 8\ns - 12\nt - 10\n\u00fc - 5\nv - 1\nW - 1\nz - 2\n</code></pre>\n\n<p>As you can see, sometimes you get a lowercase letter (e.g. <code>a</code>), sometimes you get an uppercase letter (e.g. <code>D</code>), and sometimes you get an accented letter (e.g. <code>\u00fc</code>). <em>That just seems wrong to me.</em></p>\n"}, {"comments": [{"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 1, "creation_date": 1470255748, "post_id": 38752856, "comment_id": 64879784, "body": "What does that have to do with the question? You&#39;re right, for full Unicode support, the map should be keyed by code point, but that doesn&#39;t answer the actual question about use of <code>Collator</code>. As such, this should have been a comment, not an answer. --- And I don&#39;t understand why using code point would make you say &quot;Then collation is no problem&quot;. The <code>TreeMap</code> would still be ordered by Unicode values, not alphabetically according to some locale. Changing from <code>char</code> to code point doesn&#39;t affect the sort order, except for supplementary characters."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4933750"}, "edited": false, "score": 0, "creation_date": 1470256437, "post_id": 38752856, "comment_id": 64880103, "body": "First, I&#39;m not sure what I need a string for. I would prefer to stay on the Char level. Second, I would like to be able to sort the Char-keyed map along given locale. Is going into code points any help toward this end or rather a complication?"}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1470257305, "post_id": 38752856, "comment_id": 64880546, "body": "@tomas It is a problem if your text can contain characters from the Supplementary Planes in Unicode (<i>mostly</i> Emoji&#39;s). If your text has that, they are stored as two Surrogate Pair <code>char</code> values in Java, so you would be counting the individual surrogate characters, not the actual Unicode characters,"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4933750"}, "reply_to_user": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1470258047, "post_id": 38752856, "comment_id": 64880897, "body": "@Andreas Ok. Are they UTF-16? UTF-32? Java is UTF-8 based as far as I know. Will my program work with ALL Japanese and Chinese characters? How to fix this?"}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1470263185, "post_id": 38752856, "comment_id": 64883063, "body": "Java <code>String</code> and <code>char</code> is UTF-16."}, {"owner": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "edited": false, "score": 0, "creation_date": 1470296857, "post_id": 38752856, "comment_id": 64894688, "body": "Sorry for the late response. (1) One has to do the collator on the String. For instance in German <code>o, &#246;, oe</code> in words sort differently. Collators work on strings. So putting chars back into a String would be a solution too."}, {"owner": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "edited": false, "score": 0, "creation_date": 1470296863, "post_id": 38752856, "comment_id": 64894692, "body": "(2) Unicode is a numbering of symbols, code points. Binary formats for them are: UTF-8, UTF-16 (LE and BE) and UTF-32. Either format will do. In java char is UTF-18, hence String too, but in a .class file the string constants are in UTF-8. You will never notice that String has some encoding, as for retrieving/storing bytes you practically need to indicate the encoding of those bytes, and a conversion is done. This was a language design decision, that java Strings hold Unicode and can combine all scripts."}], "tags": [], "owner": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "is_accepted": false, "score": -1, "last_activity_date": 1470255387, "creation_date": 1470255387, "answer_id": 38752856, "question_id": 38752154, "link": "https://stackoverflow.com/questions/38752154/is-there-a-char-collator-in-java/38752856#38752856", "title": "Is there a Char collator in Java?", "body": "<p>A <code>char</code> is a UTF-16 formatted 2-byte value. Unicode symbols, <strong>code points</strong>, reach into the 3 byte range and in java are represented as <strong>int</strong>. So better use code points. An make a String from them as follows:</p>\n\n<pre><code>int codePoint = ...\nint[] codePoints = { codePoint };\nString s = new String(codePoints, 0, codePoints.length);\n</code></pre>\n\n<p>Then collation is no problem.</p>\n\n<p>By the way Character has many nice Unicode info:</p>\n\n<pre><code>String name = Character.getName(codePoint);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4933750"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 562, "favorite_count": 0, "accepted_answer_id": 38752845, "answer_count": 2, "score": 0, "last_activity_date": 1470265871, "creation_date": 1470252636, "last_edit_date": 1470254187, "question_id": 38752154, "link": "https://stackoverflow.com/questions/38752154/is-there-a-char-collator-in-java", "title": "Is there a Char collator in Java?", "body": "<p>I'm working on a small app which counts character appearance in a text and prints a simple report. It bases on a TreeMap. It is supposed to work with any UTF-8 (so far) codable languages. When I try to use the standard collator by calling <code>Collator.getInstance()</code> I get the exception <code>java.lang.ClassCastException: java.lang.Character cannot be cast to java.lang.String</code>.</p>\n\n<p>Is there any Char collator?</p>\n\n<pre><code>static Map&lt;Character, Integer&gt; map = new TreeMap&lt;&gt;(); \n</code></pre>\n\n<p>The TreeMap constructor can take a collator, but not for Chars.</p>\n\n<pre><code>public static void main(String[] args) {\n    InputStream in = System.in;\n\n    try {\n        if (in.available() == 0) System.exit(0);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    count(in);  \n    printMap();\n} \n\n\nstatic void count(InputStream in) {\n    new BufferedReader(new InputStreamReader(in, StandardCharsets.UTF_8))   \n        .lines()\n        .forEach(x -&gt; tallyCharArray(x.toCharArray()));\n}\n\nstatic void tallyCharArray (char[] chars) {\n    for (int i=0; i&lt;chars.length; i++) {\n        map.merge(chars[i], 1, Integer::sum);\n    }\n}\n\nstatic void printMap() {\n    map.entrySet().stream()\n    .forEach(x -&gt; System.out.println(x.getKey() + \"\\t\" + x.getValue()));\n}\n</code></pre>\n\n<p>PROBLEM with compare</p>\n\n<pre><code>static Map&lt;Character, Integer&gt; map = new TreeMap&lt;&gt;(\n    Collator.getInstance().compare(String.valueOf(c1), String.valueOf(c2))\n);\n</code></pre>\n\n<p>This is clumsy, and it doesn't work yet. How to bind <code>c1</code> and <code>c2</code> with the map?</p>\n"}, {"tags": ["java", "jsoup"], "answers": [{"tags": [], "owner": {"reputation": 3625, "user_id": 249552, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/kQlfx.png?s=128&g=1", "display_name": "jacob", "link": "https://stackoverflow.com/users/249552/jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1470253371, "creation_date": 1470253371, "answer_id": 38752339, "question_id": 38752131, "link": "https://stackoverflow.com/questions/38752131/jsoup-imdb-rating/38752339#38752339", "title": "Jsoup imdb rating", "body": "<p>You can't use <code>getElementsByClass</code> to get an element which contain multiple classes; it only works singularly; If you wanted to get them with multiple elements you might use <code>select</code> on your <code>Document</code>. You can read more about how select works <a href=\"https://jsoup.org/apidocs/org/jsoup/select/Selector.html\" rel=\"nofollow\">here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 137, "user_id": 6646146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac5107e7edb99a88e67d106eec5990c6?s=128&d=identicon&r=PG&f=1", "display_name": "User124235", "link": "https://stackoverflow.com/users/6646146/user124235"}, "edited": false, "score": 0, "creation_date": 1470253749, "post_id": 38752383, "comment_id": 64878772, "body": "i wanted to use the names for other things but i had problems with rating and decided to delete that part and let only rating"}, {"owner": {"reputation": 1049, "user_id": 3251199, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/bf61d317161fc12eb6c9b74c546be321?s=128&d=identicon&r=PG&f=1", "display_name": "nicholas79171", "link": "https://stackoverflow.com/users/3251199/nicholas79171"}, "reply_to_user": {"reputation": 137, "user_id": 6646146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac5107e7edb99a88e67d106eec5990c6?s=128&d=identicon&r=PG&f=1", "display_name": "User124235", "link": "https://stackoverflow.com/users/6646146/user124235"}, "edited": false, "score": 0, "creation_date": 1470253772, "post_id": 38752383, "comment_id": 64878782, "body": "So what exactly is your question then?"}, {"owner": {"reputation": 137, "user_id": 6646146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac5107e7edb99a88e67d106eec5990c6?s=128&d=identicon&r=PG&f=1", "display_name": "User124235", "link": "https://stackoverflow.com/users/6646146/user124235"}, "edited": false, "score": 0, "creation_date": 1470253816, "post_id": 38752383, "comment_id": 64878805, "body": "why using &quot;ratingColumn imdbRating&quot; did not work? it is not this the column name or what?"}, {"owner": {"reputation": 1049, "user_id": 3251199, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/bf61d317161fc12eb6c9b74c546be321?s=128&d=identicon&r=PG&f=1", "display_name": "nicholas79171", "link": "https://stackoverflow.com/users/3251199/nicholas79171"}, "reply_to_user": {"reputation": 137, "user_id": 6646146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac5107e7edb99a88e67d106eec5990c6?s=128&d=identicon&r=PG&f=1", "display_name": "User124235", "link": "https://stackoverflow.com/users/6646146/user124235"}, "edited": false, "score": 0, "creation_date": 1470254651, "post_id": 38752383, "comment_id": 64879235, "body": "You have to use <code>select</code>. I edited my answer with working code."}, {"owner": {"reputation": 137, "user_id": 6646146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac5107e7edb99a88e67d106eec5990c6?s=128&d=identicon&r=PG&f=1", "display_name": "User124235", "link": "https://stackoverflow.com/users/6646146/user124235"}, "edited": false, "score": 0, "creation_date": 1470254781, "post_id": 38752383, "comment_id": 64879287, "body": "ok then. but why my version doesn&#39;t work? i saw something at the other answer but i did&#39;t understand very well.can you give me an example of an element from that page (for example when i use getelementsbyclass what element does it return)?"}, {"owner": {"reputation": 2251, "user_id": 6650475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3543c7ccbd9324d2bc28abd8bd8d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew S", "link": "https://stackoverflow.com/users/6650475/andrew-s"}, "edited": false, "score": 0, "creation_date": 1470254954, "post_id": 38752383, "comment_id": 64879392, "body": "The URL currently shows the top 250 but what if IMDB decides on a different number?  Should it be System.out.println(sum/ratings.size()) ?"}, {"owner": {"reputation": 137, "user_id": 6646146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac5107e7edb99a88e67d106eec5990c6?s=128&d=identicon&r=PG&f=1", "display_name": "User124235", "link": "https://stackoverflow.com/users/6646146/user124235"}, "edited": false, "score": 0, "creation_date": 1470255048, "post_id": 38752383, "comment_id": 64879450, "body": "yes but is was an example and i was facing others problem. this is my last problem if i don&#39;t understand why it is working this way and not the other way. i could get the number of movies as well if i understand what is the matter with select and what getelements...(all this functions) does because i think i don&#39;t understand very well"}, {"owner": {"reputation": 1049, "user_id": 3251199, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/bf61d317161fc12eb6c9b74c546be321?s=128&d=identicon&r=PG&f=1", "display_name": "nicholas79171", "link": "https://stackoverflow.com/users/3251199/nicholas79171"}, "edited": false, "score": 0, "creation_date": 1470316538, "post_id": 38752383, "comment_id": 64907913, "body": "It&#39;s just not how the class was built. If you&#39;re interested in finding out more, Jsoup is open source. Take a look at line 657 of <a href=\"https://github.com/jhy/jsoup/blob/f5ddda0a3ed0c0a8adf4e74dcb230bb609a2717f/src/main/java/org/jsoup/nodes/Element.java\" rel=\"nofollow noreferrer\">this class</a> to find out more."}], "tags": [], "owner": {"reputation": 1049, "user_id": 3251199, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/bf61d317161fc12eb6c9b74c546be321?s=128&d=identicon&r=PG&f=1", "display_name": "nicholas79171", "link": "https://stackoverflow.com/users/3251199/nicholas79171"}, "is_accepted": true, "score": 2, "last_activity_date": 1470254630, "last_edit_date": 1470254630, "creation_date": 1470253496, "answer_id": 38752383, "question_id": 38752131, "link": "https://stackoverflow.com/questions/38752131/jsoup-imdb-rating/38752383#38752383", "title": "Jsoup imdb rating", "body": "<p>You don't need the element <code>e</code> in this program. The <code>titleColumn</code> in the webpage just contains the title of the movie. Considering you only need the ratings, this is unnecessary. You can just use the <code>t</code> element when I renamed to <code>ratings</code> and cleaned up your code a little bit:</p>\n\n<pre><code>    import java.io.IOException;\n\nimport org.jsoup.*;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\npublic class da {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        try {\n\n            Document doc = Jsoup.connect(\"http://www.imdb.com/chart/top\").get();\n            Elements ratings = doc.select(\".ratingColumn.imdbRating\");\n\n            float suma = 0;\n\n            for(int i = 0; i &lt; ratings.size(); i++)\n                suma = suma + Float.parseFloat(ratings.get(i).child(0).text());\n\n            System.out.println(suma/250);\n\n\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n\n    }\n\n}\n</code></pre>\n\n<p><strong>EDIT:</strong> To select elements with multiple classes, you must use <code>doc#select</code> and pass it a CSS query like above.</p>\n"}, {"comments": [{"owner": {"reputation": 137, "user_id": 6646146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac5107e7edb99a88e67d106eec5990c6?s=128&d=identicon&r=PG&f=1", "display_name": "User124235", "link": "https://stackoverflow.com/users/6646146/user124235"}, "edited": false, "score": 0, "creation_date": 1470319587, "post_id": 38768759, "comment_id": 64910419, "body": "but what dom traversal methods doing? (sorry for lacking of knowledge but i started to learn this and i want to find a fast way of solving this problems and along with this to understand what really happens and why it is working or not)"}, {"owner": {"reputation": 2980, "user_id": 1176178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YFE6L.jpg?s=128&g=1", "display_name": "Zack", "link": "https://stackoverflow.com/users/1176178/zack"}, "reply_to_user": {"reputation": 137, "user_id": 6646146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac5107e7edb99a88e67d106eec5990c6?s=128&d=identicon&r=PG&f=1", "display_name": "User124235", "link": "https://stackoverflow.com/users/6646146/user124235"}, "edited": false, "score": 0, "creation_date": 1470322278, "post_id": 38768759, "comment_id": 64912710, "body": "@User124235 the DOM (Document Object Model) is basically a large tree structure.  Think of it like this, if you wanted to get to a particular leaf of a tree, you could climb the trunk, climb out on a large branch, climb to smaller branches, and eventually get to the leaf.  With CSS selectors, we can go right to the leaf we want using a ladder.  Both will get you to the leaf, but CSS selectors generally leave your code cleaner and doesn&#39;t require as much error handling."}], "tags": [], "owner": {"reputation": 2980, "user_id": 1176178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YFE6L.jpg?s=128&g=1", "display_name": "Zack", "link": "https://stackoverflow.com/users/1176178/zack"}, "is_accepted": false, "score": 1, "last_activity_date": 1506389756, "last_edit_date": 1506389756, "creation_date": 1470317397, "answer_id": 38768759, "question_id": 38752131, "link": "https://stackoverflow.com/questions/38752131/jsoup-imdb-rating/38768759#38768759", "title": "Jsoup imdb rating", "body": "<p>nicholas79171 has a good answer, but I would just like to point out that you can use <a href=\"http://jsoup.org/cookbook/extracting-data/selector-syntax\" rel=\"nofollow noreferrer\">CSS Selectors</a> to target the ratings directly, without all of the dom traversal methods.</p>\n\n<pre><code>    Document doc = Jsoup.connect(\"http://www.imdb.com/chart/top\").get();\n\n    float ratingSum = 0;\n\n    Elements ratings = doc.select(\"td.ratingColumn.imdbRating &gt; strong\");\n\n    for (Element rating : ratings)\n        ratingSum += Float.parseFloat(rating.ownText());\n\n    System.out.println(ratingSum / ratings.size());\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 6646146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac5107e7edb99a88e67d106eec5990c6?s=128&d=identicon&r=PG&f=1", "display_name": "User124235", "link": "https://stackoverflow.com/users/6646146/user124235"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 38752383, "answer_count": 3, "score": 1, "last_activity_date": 1506389756, "creation_date": 1470252575, "question_id": 38752131, "link": "https://stackoverflow.com/questions/38752131/jsoup-imdb-rating", "title": "Jsoup imdb rating", "body": "<p>I wrote a program which reads the name and the rating of the top 250 movies on imdb and return the mean of the rating. I have the follow program</p>\n\n<pre><code>import java.io.IOException;\n\nimport org.jsoup.*;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\npublic class da {\n\n/**\n * @param args\n */\npublic static void main(String[] args) {\n    try {\n\n\n            Document doc=Jsoup.connect(\"http://www.imdb.com/chart/top\").get();\n            Elements e=doc.getElementsByClass(\"titleColumn\");\n            Elements t=doc.getElementsByClass(\"imdbRating\");\n            float suma=0;\n        for(int i=0;i&lt;e.size();i++)\n            suma=suma+Float.parseFloat(t.get(i).text());\n\n    System.out.println(suma/250);\n\n\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n\n}\n\n}\n</code></pre>\n\n<p>My question is why in 't' it needs \"imdbRating\" because if i look in the html on the page i see that where rating is located it writes \"ratingColumn imdbRating\" (i did this program by mistake and i don't know why it is working this way and not the other way)</p>\n"}, {"tags": ["java", "android"], "answers": [{"comments": [{"owner": {"reputation": 168, "user_id": 6476193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba924a9126dbcf128b0939847dca7a4d?s=128&d=identicon&r=PG&f=1", "display_name": "OlaB", "link": "https://stackoverflow.com/users/6476193/olab"}, "edited": false, "score": 0, "creation_date": 1470253999, "post_id": 38752252, "comment_id": 64878890, "body": "Like I said I am new to the concept and I am doing a fair share of reading. I might have jumbled up words, I meant my method main() is static, which I posted above, and I am trying to enter the remaining program by accessing the method main(string [] args). Lets forget all the advanced concepts now, can you just tell me how to pass arguments to that main block of code and call those functions within it to start my activity."}, {"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "reply_to_user": {"reputation": 168, "user_id": 6476193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba924a9126dbcf128b0939847dca7a4d?s=128&d=identicon&r=PG&f=1", "display_name": "OlaB", "link": "https://stackoverflow.com/users/6476193/olab"}, "edited": false, "score": 0, "creation_date": 1470254064, "post_id": 38752252, "comment_id": 64878924, "body": "You don&#39;t use main in Android.  At all.  That&#39;s a desktop app java concept.  You really need to start again from books/tutorials-  there&#39;s too much wrong to explain what you&#39;re doing wrong."}, {"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "reply_to_user": {"reputation": 168, "user_id": 6476193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba924a9126dbcf128b0939847dca7a4d?s=128&d=identicon&r=PG&f=1", "display_name": "OlaB", "link": "https://stackoverflow.com/users/6476193/olab"}, "edited": false, "score": 0, "creation_date": 1470254094, "post_id": 38752252, "comment_id": 64878939, "body": "Also, the biggest one-  this isn&#39;t javascript like you tagged it, its java.  Two totally separate, unrelated languages."}, {"owner": {"reputation": 168, "user_id": 6476193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba924a9126dbcf128b0939847dca7a4d?s=128&d=identicon&r=PG&f=1", "display_name": "OlaB", "link": "https://stackoverflow.com/users/6476193/olab"}, "edited": false, "score": 0, "creation_date": 1470254105, "post_id": 38752252, "comment_id": 64878945, "body": "Thank you! I keep pressing enter for newline, I edited my response."}, {"owner": {"reputation": 168, "user_id": 6476193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba924a9126dbcf128b0939847dca7a4d?s=128&d=identicon&r=PG&f=1", "display_name": "OlaB", "link": "https://stackoverflow.com/users/6476193/olab"}, "edited": false, "score": 0, "creation_date": 1470254388, "post_id": 38752252, "comment_id": 64879088, "body": "If android doesn&#39;t use main,  can I  rename it as class helper just another member class? would changing the name from main make a difference?"}, {"owner": {"reputation": 168, "user_id": 6476193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba924a9126dbcf128b0939847dca7a4d?s=128&d=identicon&r=PG&f=1", "display_name": "OlaB", "link": "https://stackoverflow.com/users/6476193/olab"}, "edited": false, "score": 0, "creation_date": 1470254863, "post_id": 38752252, "comment_id": 64879340, "body": "I cant delete the tag, if there&#39;s nothing further you&#39;d help me with I can remove the post all together. Thanks"}, {"owner": {"reputation": 168, "user_id": 6476193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba924a9126dbcf128b0939847dca7a4d?s=128&d=identicon&r=PG&f=1", "display_name": "OlaB", "link": "https://stackoverflow.com/users/6476193/olab"}, "edited": false, "score": 0, "creation_date": 1470255321, "post_id": 38752252, "comment_id": 64879579, "body": "Can anyone give me an arbitrary way to call this function, if arg[0] had the VALUE2 and arg[1] has VALUUE2 assigned to them respectively.       public static void main(String[] args) throws IOException {     access();     key(args[0], args[1]);     }"}, {"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "reply_to_user": {"reputation": 168, "user_id": 6476193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba924a9126dbcf128b0939847dca7a4d?s=128&d=identicon&r=PG&f=1", "display_name": "OlaB", "link": "https://stackoverflow.com/users/6476193/olab"}, "edited": false, "score": 0, "creation_date": 1470255399, "post_id": 38752252, "comment_id": 64879621, "body": "Really, you need to go back to basics of Android.  Your approach makes 0 sense for either desktop or Android Java, the mix of the two makes it so I can&#39;t even give good advice."}, {"owner": {"reputation": 168, "user_id": 6476193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba924a9126dbcf128b0939847dca7a4d?s=128&d=identicon&r=PG&f=1", "display_name": "OlaB", "link": "https://stackoverflow.com/users/6476193/olab"}, "edited": false, "score": 0, "creation_date": 1470255767, "post_id": 38752252, "comment_id": 64879795, "body": "Okay thanks! can you help me delete this post please? I cant seem to delete it."}], "tags": [], "owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "is_accepted": false, "score": 3, "last_activity_date": 1470253049, "creation_date": 1470253049, "answer_id": 38752252, "question_id": 38752056, "link": "https://stackoverflow.com/questions/38752056/passing-arguments-to-static-constructor-with-intent/38752252#38752252", "title": "Passing arguments to Static constructor with Intent", "body": "<p>1)There is no such thing as a static constructor.  The entire concept is an oxymoron.</p>\n\n<p>2)Android doesn't use main functions.</p>\n\n<p>3)That's not how you start an activity anyway.  The second parameter of Intent's constructor is a Class, not a function call- which isn't legal java anyway as function pointers don't exist.</p>\n\n<p>What you're doing is so confused I'm not even sure how to fix it.  You need to start from scratch with android tutorials on what an activity is and how an android app works.</p>\n"}, {"tags": [], "owner": {"reputation": 168, "user_id": 6476193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba924a9126dbcf128b0939847dca7a4d?s=128&d=identicon&r=PG&f=1", "display_name": "OlaB", "link": "https://stackoverflow.com/users/6476193/olab"}, "is_accepted": false, "score": 0, "last_activity_date": 1470659267, "creation_date": 1470659267, "answer_id": 38829228, "question_id": 38752056, "link": "https://stackoverflow.com/questions/38752056/passing-arguments-to-static-constructor-with-intent/38829228#38829228", "title": "Passing arguments to Static constructor with Intent", "body": "<p>I have been able to find a solution to my problem. Firstly, the idea of using \"itent\" to start my activity came about when I tried to call a different class which I imported into main activity as a functional thread.  I really didn't need to when I combined the scripts I was trying to call. \nI only asked a simple question on how to call a static method which was what I needed to do.\nThe way I solved it was just to use the following lines (excerpt), after setting up the onclick listener button for keycode and statically defining the pin, as it relates to my question:</p>\n\n<pre><code>private void enter(String keycode) {\ntry {\nString[] arguments = new String[] { keycode, pin};\nMainActivity.main(arguments);\n</code></pre>\n\n<p>That was it, and my emulator and activity works just fine. And by the way android was able to use main functions, because it works just fine.\nTo all the experts who easily get uneasy with a newbie trying to ask a question, I thought they must have started from somewhere, and there's many ways to skin a cat not just thinking because you try to do something a certain way it wont work. Patience helps people to learn.</p>\n"}], "owner": {"reputation": 168, "user_id": 6476193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba924a9126dbcf128b0939847dca7a4d?s=128&d=identicon&r=PG&f=1", "display_name": "OlaB", "link": "https://stackoverflow.com/users/6476193/olab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1475850771, "creation_date": 1470252283, "last_edit_date": 1475850771, "question_id": 38752056, "link": "https://stackoverflow.com/questions/38752056/passing-arguments-to-static-constructor-with-intent", "title": "Passing arguments to Static constructor with Intent", "body": "<p>Hello I am new to Java and I am trying to do something so I need some help; I have a constructor as such :</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    access();\n    key(args[0], args[1]);\n}\n</code></pre>\n\n<p>and I am trying to pass the values for keys from the UI of my android Interface in main activity as such:</p>\n\n<pre><code>private void enter(String keycode) {\n    String[] args = {\"keycode\", \"pin\"};\n    Intent myIntent = new Intent(MainActivity.this, MainActivity.main());\n    myIntent.putExtra (\"keycode\", \"pin\"); //Optional parameters\n    startActivity(myIntent);\n}\n</code></pre>\n\n<p>But I am getting an error which is saying, the type main(String[]) is not applicable to the argument() in eclipse.\nThe keycode is from the onclick listener and I statically declared the pin. The key and pin are supposed to be the values of arg[0] and arg[1] in main. I have not run it or anything, all I need is just a correct syntax to call the main static method from the \"enter\" on click listener construct.\nThank you in advance. So in general, I have two parameters that main method takes:\naccess(); // all parameters are static defined\nkey(arg[0] , arg[1]);\nI need to pass those args using intent or some method that would start my activity. All in the same class. Sorry about my ignorance if any.\nBTW emulator of interface runs fine, I just need to access the main(strings [] args), just that part.</p>\n"}, {"tags": ["java", "asynchronous"], "comments": [{"owner": {"reputation": 67717, "user_id": 2541560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7H9TF.png?s=128&g=1", "display_name": "Kayaman", "link": "https://stackoverflow.com/users/2541560/kayaman"}, "edited": false, "score": 4, "creation_date": 1470252477, "post_id": 38752040, "comment_id": 64878070, "body": "Why wouldn&#39;t you just call <code>future.get()</code> directly? It&#39;s a blocking operation."}, {"owner": {"reputation": 325, "user_id": 6460291, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/71005ac01de8754a658e50a36928355a?s=128&d=identicon&r=PG&f=1", "display_name": "SVN600", "link": "https://stackoverflow.com/users/6460291/svn600"}, "reply_to_user": {"reputation": 67717, "user_id": 2541560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7H9TF.png?s=128&g=1", "display_name": "Kayaman", "link": "https://stackoverflow.com/users/2541560/kayaman"}, "edited": false, "score": 0, "creation_date": 1470252765, "post_id": 38752040, "comment_id": 64878228, "body": "Thanks @Kayaman, that will definitely work"}], "owner": {"reputation": 325, "user_id": 6460291, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/71005ac01de8754a658e50a36928355a?s=128&d=identicon&r=PG&f=1", "display_name": "SVN600", "link": "https://stackoverflow.com/users/6460291/svn600"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1470252223, "creation_date": 1470252223, "question_id": 38752040, "link": "https://stackoverflow.com/questions/38752040/how-to-mimick-polling-of-a-future-in-java", "title": "How to mimick polling of a Future in Java?", "body": "<p>I need to demonstrate asynchronous task handling and I am using a Callable object to do the async operation and I need to send a notification when the task is completed. So far I have:</p>\n\n<pre><code>Callable&lt;String&gt; task = () -&gt; {\n    writeToFile();\n    return \"Write to file op\";\n}\nFuture future = executor.submit(task);\nRunnable poller = () -&gt; {\n    if(future!=null) {\n        while(!future.isDone()) {\n        }\n        sendNotification(\"Completed \" + future.get());\n    }\n}\npoller.run();\n</code></pre>\n\n<p>I know that spinlocks are usually not thought of too highly, but I can't think of another simple way to mimick a traditional polling of an asynchronous operation. What can I use to replace the spinlock?</p>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 1556, "user_id": 611716, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/f4i2e.jpg?s=128&g=1", "display_name": "Frecklefoot", "link": "https://stackoverflow.com/users/611716/frecklefoot"}, "edited": false, "score": 0, "creation_date": 1470252385, "post_id": 38752032, "comment_id": 64878006, "body": "Can you use <code>String.split()</code>?"}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 1, "creation_date": 1470252416, "post_id": 38752032, "comment_id": 64878031, "body": "Why are you focused on <code>StringBuilder</code>? It is not intended for what you&#39;re trying to do, so you&#39;re trying to use the wrong tool."}, {"owner": {"reputation": 3737, "user_id": 214131, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/rRWd0.jpg?s=128&g=1", "display_name": "RKCY", "link": "https://stackoverflow.com/users/214131/rkcy"}, "edited": false, "score": 0, "creation_date": 1470252499, "post_id": 38752032, "comment_id": 64878083, "body": "I would like to change the URL value with other value, which i know."}, {"owner": {"reputation": 721, "user_id": 6301014, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nx0QBGL0WTI/AAAAAAAAAAI/AAAAAAAAAGA/mtSKFZ6euxg/photo.jpg?sz=128", "display_name": "Jerod Johnson", "link": "https://stackoverflow.com/users/6301014/jerod-johnson"}, "edited": false, "score": 0, "creation_date": 1470252506, "post_id": 38752032, "comment_id": 64878088, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/17537216/java-string-formatting-with-placeholders\">Java: String formatting with placeholders</a>"}, {"owner": {"reputation": 3737, "user_id": 214131, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/rRWd0.jpg?s=128&g=1", "display_name": "RKCY", "link": "https://stackoverflow.com/users/214131/rkcy"}, "edited": false, "score": 0, "creation_date": 1470252564, "post_id": 38752032, "comment_id": 64878129, "body": "How can i split the string. this url is changing the number of the characters always..means dynamic url but &quot; <a href=\"http://localhost/abcdef/servlet/cpd.abcd.build.coupons.CouponValueFormatterServlet\" rel=\"nofollow noreferrer\">localhost/abcdef/servlet/&hellip;</a>?&quot; is always same"}, {"owner": {"reputation": 1790, "user_id": 4526012, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/10203662607065332/picture?type=large", "display_name": "SomeStudent", "link": "https://stackoverflow.com/users/4526012/somestudent"}, "edited": false, "score": 0, "creation_date": 1470252868, "post_id": 38752032, "comment_id": 64878295, "body": "I think regex might be desirable here, or, if you know that length of each inner part is always the same you can probably do a substring"}, {"owner": {"reputation": 3737, "user_id": 214131, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/rRWd0.jpg?s=128&g=1", "display_name": "RKCY", "link": "https://stackoverflow.com/users/214131/rkcy"}, "edited": false, "score": 0, "creation_date": 1470252963, "post_id": 38752032, "comment_id": 64878359, "body": "we can replace with new string from &quot;val= &quot; and ending before &quot;&amp;classGroupid&quot; . Is this possible, if know start and end strings to replace in between data. ?"}], "answers": [{"comments": [{"owner": {"reputation": 3737, "user_id": 214131, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/rRWd0.jpg?s=128&g=1", "display_name": "RKCY", "link": "https://stackoverflow.com/users/214131/rkcy"}, "edited": false, "score": 0, "creation_date": 1470318018, "post_id": 38752327, "comment_id": 64909120, "body": "Thank you Andreas. Its working."}], "tags": [], "owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "is_accepted": true, "score": 0, "last_activity_date": 1470253316, "creation_date": 1470253316, "answer_id": 38752327, "question_id": 38752032, "link": "https://stackoverflow.com/questions/38752032/replacing-some-static-text-with-dynamic-text-using-string-builder/38752327#38752327", "title": "replacing some static text with dynamic text using string builder", "body": "<p>If you absolute want to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow\"><code>StringBuilder</code></a>, you should <strong>read the javadoc</strong> to find usable methods for your purpose.</p>\n\n<p>That would be:</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#indexOf-java.lang.String-\" rel=\"nofollow\"><code>indexOf(String str)</code></a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#indexOf-java.lang.String-int-\" rel=\"nofollow\"><code>indexOf(String str, int fromIndex)</code></a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#replace-int-int-java.lang.String-\" rel=\"nofollow\"><code>replace(int start, int end, String str)</code></a></li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder buf = new StringBuilder(\"http://localhost/abcdef/servlet/cpd.abcd.build.coupons.CouponValueFormatterServlet?dsn=frd_abcdef&amp;lang=ENG&amp;val=PRCTXT|ABCDE_-1223344&amp;classGroupid=101,201&amp;fgcolor=000000&amp;bgcolor=E0DBD8&amp;width=100&amp;height=80&amp;fontSize=11&amp;fontWeight=normal.\");\n\nint start = buf.indexOf(\"&amp;val=\");\nif (start != -1) {\n    start += 5;\n    int end = buf.indexOf(\"&amp;\", start);\n    if (end == -1)\n        end = buf.length();\n    buf.replace(start, end, \"123456\");\n    System.out.println(buf);\n}\n</code></pre>\n"}], "owner": {"reputation": 3737, "user_id": 214131, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/rRWd0.jpg?s=128&g=1", "display_name": "RKCY", "link": "https://stackoverflow.com/users/214131/rkcy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "closed_date": 1470265506, "accepted_answer_id": 38752327, "answer_count": 1, "score": -3, "last_activity_date": 1470253316, "creation_date": 1470252189, "last_edit_date": 1470253216, "question_id": 38752032, "link": "https://stackoverflow.com/questions/38752032/replacing-some-static-text-with-dynamic-text-using-string-builder", "closed_reason": "Needs details or clarity", "title": "replacing some static text with dynamic text using string builder", "body": "<p>I have a url which is generate on the fly and i want to place some text with unknowing text using string builder. Please let me know how?</p>\n\n<p>Example:- </p>\n\n<blockquote>\n  <p><a href=\"http://localhost/abcdef/servlet/cpd.abcd.build.coupons.CouponValueFormatterServlet?dsn=frd_abcdef&amp;lang=ENG&amp;val=PRCTXT|ABCDE_-1223344&amp;classGroupid=101,201&amp;fgcolor=000000&amp;bgcolor=E0DBD8&amp;width=100&amp;height=80&amp;fontSize=11&amp;fontWeight=normal\" rel=\"nofollow\">http://localhost/abcdef/servlet/cpd.abcd.build.coupons.CouponValueFormatterServlet?dsn=frd_abcdef&amp;lang=ENG&amp;val=PRCTXT|ABCDE_-1223344&amp;classGroupid=101,201&amp;fgcolor=000000&amp;bgcolor=E0DBD8&amp;width=100&amp;height=80&amp;fontSize=11&amp;fontWeight=normal</a>.</p>\n</blockquote>\n\n<p>The above URL is a string builder and \"val=PRCTXT|ABCDE_-1223344\" text has to change with \"val=123456\" text. But here Val is always user input . so it is changing always.</p>\n"}, {"tags": ["java", "android", "libgdx"], "answers": [{"tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": true, "score": 0, "last_activity_date": 1470402401, "creation_date": 1470402401, "answer_id": 38790041, "question_id": 38752019, "link": "https://stackoverflow.com/questions/38752019/how-fix-errorexecution-failed-for-task-androidprocessdebugresources/38790041#38790041", "title": "How fix Error:Execution failed for task &#39;:android:processDebugResources&#39;?", "body": "<blockquote>\n  <p>android:processDebugResources FAILED</p>\n</blockquote>\n\n<p>Means one of your XML resources is not correct. </p>\n\n<p>There is a Gradle <code>lint</code> task that may help with that. </p>\n\n<p>The Gradle panel of Android Studio should be on the right side of the screen. </p>\n"}], "owner": {"reputation": 229, "user_id": 5920305, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec8cab309a83ebd4579e7c3c43db8f47?s=128&d=identicon&r=PG&f=1", "display_name": "upward", "link": "https://stackoverflow.com/users/5920305/upward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1042, "favorite_count": 0, "accepted_answer_id": 38790041, "answer_count": 1, "score": 1, "last_activity_date": 1517421866, "creation_date": 1470252125, "last_edit_date": 1517421866, "question_id": 38752019, "link": "https://stackoverflow.com/questions/38752019/how-fix-errorexecution-failed-for-task-androidprocessdebugresources", "title": "How fix Error:Execution failed for task &#39;:android:processDebugResources&#39;?", "body": "<p>Error:</p>\n\n<pre><code>Error:Execution failed for task ':android:processDebugResources'.\n</code></pre>\n\n<blockquote>\n  <p>com.android.ide.common.process.ProcessException: org.gradle.process.internal.ExecException: Process 'command 'D:\\Android\\sdk\\build-tools\\24.0.0\\aapt.exe'' finished with non-zero exit value 1</p>\n</blockquote>\n\n<p>What I've done, and that did not help:\nI closed and opened AS, cleaning project and rebuilt.</p>\n\n<p>full logs:</p>\n\n<pre><code>    Information:Gradle tasks [clean, :android:generateDebugSources, :android:mockableAndroidJar, :android:prepareDebugUnitTestDependencies, :android:generateDebugAndroidTestSources]\n:android:clean\n:core:clean\n:desktop:clean UP-TO-DATE\n:ios:clean UP-TO-DATE\n:android:preBuild UP-TO-DATE\n:android:preDebugBuild UP-TO-DATE\n:android:checkDebugManifest\n:android:preReleaseBuild UP-TO-DATE\n:core:compileJava\nWarning:[options] bootstrap class path not set in conjunction with -source 1.6\n1 warning\n:core:processResources UP-TO-DATE\n:core:classes\n:core:jar\n:android:prepareComAndroidSupportAnimatedVectorDrawable2411Library\n:android:prepareComAndroidSupportAppcompatV72411Library\n:android:prepareComAndroidSupportSupportV42411Library\n:android:prepareComAndroidSupportSupportVectorDrawable2411Library\n:android:prepareComGoogleAndroidGmsPlayServicesAds921Library\n:android:prepareComGoogleAndroidGmsPlayServicesAdsLite921Library\n:android:prepareComGoogleAndroidGmsPlayServicesBase921Library\n:android:prepareComGoogleAndroidGmsPlayServicesBasement921Library\n:android:prepareComGoogleAndroidGmsPlayServicesClearcut921Library\n:android:prepareComGoogleAndroidGmsPlayServicesGass921Library\n:android:prepareComGoogleAndroidGmsPlayServicesTasks921Library\n:android:prepareComGoogleFirebaseFirebaseAds921Library\n:android:prepareComGoogleFirebaseFirebaseAnalytics921Library\n:android:prepareComGoogleFirebaseFirebaseAnalyticsImpl921Library\n:android:prepareComGoogleFirebaseFirebaseCommon921Library\n:android:prepareComGoogleFirebaseFirebaseCore921Library\n:android:prepareComGoogleFirebaseFirebaseIid921Library\n:android:prepareDebugDependencies\n:android:compileDebugAidl\n:android:compileDebugRenderscript\n:android:generateDebugBuildConfig\n:android:mergeDebugShaders\n:android:compileDebugShaders\n:android:generateDebugAssets\n:android:mergeDebugAssets\n:android:generateDebugResValues UP-TO-DATE\n:android:processDebugGoogleServices\nParsing json file: D:\\Android Project\\LibGdx\\MaGame\\android\\google-services.json\n:android:generateDebugResources\n:android:mergeDebugResources\n:android:processDebugManifest\n:android:processDebugResources FAILED\nError:Execution failed for task ':android:processDebugResources'.\n&gt; com.android.ide.common.process.ProcessException: org.gradle.process.internal.ExecException: Process 'command 'D:\\Programm\\android-studio\\sdk\\build-tools\\23.0.3\\aapt.exe'' finished with non-zero exit value 1\nInformation:BUILD FAILED\nInformation:Total time: 10.08 secs\nInformation:1 error\nInformation:1 warning\nInformation:See complete output in console\n</code></pre>\n\n<p>Gradle-android:</p>\n\n<pre><code>   android {\n    buildToolsVersion '23.0.0'\n    compileSdkVersion 23\n    sourceSets {\n        main {\n            manifest.srcFile 'AndroidManifest.xml'\n            java.srcDirs = ['src']\n            aidl.srcDirs = ['src']\n            renderscript.srcDirs = ['src']\n            res.srcDirs = ['res']\n            assets.srcDirs = ['assets']\n            jniLibs.srcDirs = ['libs']\n        }\n\n        instrumentTest.setRoot('tests')\n    }\n    defaultConfig {\n        applicationId \"upwardteam.pavel.game\"\n        minSdkVersion 9\n        targetSdkVersion 23\n    }\n    dexOptions {\n        javaMaxHeapSize \"4g\"\n    }\n    lintOptions {\n\n        checkReleaseBuilds false\n\n    }\n}\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    //noinspection GradleCompatible\n    compile 'com.android.support:appcompat-v7:23.0.0'\n    compile 'com.google.firebase:firebase-ads:9.2.1'\n}\napply plugin: 'com.google.gms.google-services'\n// called every time gradle gets executed, takes the native dependencies of\n// the natives configuration, and extracts them to the proper libs/ folders\n// so they get packed with the APK.\ntask copyAndroidNatives() {\n    file(\"libs/armeabi/\").mkdirs();\n    file(\"libs/armeabi-v7a/\").mkdirs();\n    file(\"libs/arm64-v8a/\").mkdirs();\n    file(\"libs/x86_64/\").mkdirs();\n    file(\"libs/x86/\").mkdirs();\n\n    configurations.natives.files.each { jar -&gt;\n        def outputDir = null\n        if (jar.name.endsWith(\"natives-arm64-v8a.jar\")) outputDir = file(\"libs/arm64-v8a\")\n        if (jar.name.endsWith(\"natives-armeabi-v7a.jar\")) outputDir = file(\"libs/armeabi-v7a\")\n        if (jar.name.endsWith(\"natives-armeabi.jar\")) outputDir = file(\"libs/armeabi\")\n        if (jar.name.endsWith(\"natives-x86_64.jar\")) outputDir = file(\"libs/x86_64\")\n        if (jar.name.endsWith(\"natives-x86.jar\")) outputDir = file(\"libs/x86\")\n        if (outputDir != null) {\n            copy {\n                from zipTree(jar)\n                into outputDir\n                include \"*.so\"\n            }\n        }\n    }\n}\n\n\ntask run(type: Exec) {\n    def path\n    def localProperties = project.file(\"../local.properties\")\n    if (localProperties.exists()) {\n        Properties properties = new Properties()\n        localProperties.withInputStream { instr -&gt;\n            properties.load(instr)\n        }\n        def sdkDir = properties.getProperty('sdk.dir')\n        if (sdkDir) {\n            path = sdkDir\n        } else {\n            path = \"$System.env.ANDROID_HOME\"\n        }\n    } else {\n        path = \"$System.env.ANDROID_HOME\"\n    }\n\n    def adb = path + \"/platform-tools/adb\"\n    commandLine \"$adb\", 'shell', 'am', 'start', '-n', 'upwardteam.pavel.game/upwardteam.pavel.game.AndroidLauncher'\n}\n\n// sets up the Android Eclipse project, using the old Ant based build.\neclipse {\n    // need to specify Java source sets explicitly, SpringSource Gradle Eclipse plugin\n    // ignores any nodes added in classpath.file.withXml\n    sourceSets {\n        main {\n            java.srcDirs \"src\", 'gen'\n        }\n    }\n\n    jdt {\n        sourceCompatibility = 1.6\n        targetCompatibility = 1.6\n    }\n\n    classpath {\n        plusConfigurations += [project.configurations.compile]\n        containers 'com.android.ide.eclipse.adt.ANDROID_FRAMEWORK', 'com.android.ide.eclipse.adt.LIBRARIES'\n    }\n\n    project {\n        name = appName + \"-android\"\n        natures 'com.android.ide.eclipse.adt.AndroidNature'\n        buildCommands.clear();\n        buildCommand \"com.android.ide.eclipse.adt.ResourceManagerBuilder\"\n        buildCommand \"com.android.ide.eclipse.adt.PreCompilerBuilder\"\n        buildCommand \"org.eclipse.jdt.core.javabuilder\"\n        buildCommand \"com.android.ide.eclipse.adt.ApkBuilder\"\n    }\n}\n\n// sets up the Android Idea project, using the old Ant based build.\nidea {\n    module {\n        sourceDirs += file(\"src\");\n        scopes = [COMPILE: [plus: [project.configurations.compile]]]\n\n        iml {\n            withXml {\n                def node = it.asNode()\n                def builder = NodeBuilder.newInstance();\n                builder.current = node;\n                builder.component(name: \"FacetManager\") {\n                    facet(type: \"android\", name: \"Android\") {\n                        configuration {\n                            option(name: \"UPDATE_PROPERTY_FILES\", value: \"true\")\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"}, {"tags": ["java", "spring-boot", "spring-test"], "answers": [{"tags": [], "owner": {"reputation": 11581, "user_id": 970308, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/792af4d95a8ff4da442ababc0dc06423?s=128&d=identicon&r=PG", "display_name": "checketts", "link": "https://stackoverflow.com/users/970308/checketts"}, "is_accepted": true, "score": 14, "last_activity_date": 1470251873, "creation_date": 1470251873, "answer_id": 38751957, "question_id": 38751956, "link": "https://stackoverflow.com/questions/38751956/cannot-subclass-final-class-java-lang-string-when-using-spring-boot-1-4-mockmv/38751957#38751957", "title": "&#39;Cannot subclass final class java.lang.String&#39; when using Spring Boot 1.4 MockMVC controller method matching", "body": "<p>The hint to a solution is here <a href=\"https://github.com/spring-projects/spring-hateoas/issues/155#issuecomment-36487869\" rel=\"noreferrer\">https://github.com/spring-projects/spring-hateoas/issues/155#issuecomment-36487869</a></p>\n\n<blockquote>\n  <p>The way the method-to-link functionality works is by creating a proxy for the return type of the method to be able to inspect the previous invocation. As String is a final class it cannot be proxied by definition.</p>\n</blockquote>\n\n<p>Checked the method signature:</p>\n\n<pre><code>@RequestMapping(value = \"/topology/{environmentId}\", method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\n@ResponseBody\npublic String environmentTopology(@PathVariable(\"environmentId\") String environmentId, ...\n</code></pre>\n\n<p>Since it returns a String, you need to wrap it in a class that is proxy-able, like <code>ResponseEntity</code></p>\n\n<pre><code>@RequestMapping(value = \"/topology/{environmentId}\", method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\n@ResponseBody\npublic ResponseEntity&lt;String&gt; environmentTopology(@PathVariable(\"environmentId\") String environmentId,\n</code></pre>\n\n<p>The <code>ResponseEntity</code> wraps your <code>String</code> response allowing the test mechanism to work.</p>\n"}], "owner": {"reputation": 11581, "user_id": 970308, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/792af4d95a8ff4da442ababc0dc06423?s=128&d=identicon&r=PG", "display_name": "checketts", "link": "https://stackoverflow.com/users/970308/checketts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6913, "favorite_count": 1, "accepted_answer_id": 38751957, "answer_count": 1, "score": 5, "last_activity_date": 1470251873, "creation_date": 1470251873, "question_id": 38751956, "link": "https://stackoverflow.com/questions/38751956/cannot-subclass-final-class-java-lang-string-when-using-spring-boot-1-4-mockmv", "title": "&#39;Cannot subclass final class java.lang.String&#39; when using Spring Boot 1.4 MockMVC controller method matching", "body": "<p>I have a MockMVC test and I'm trying to leverage the controller method matcher like so:</p>\n\n<pre><code>@Test\npublic void environmentTopology() throws Exception {\n    mockMvc.perform(get(\"/topology/{environmentId}\", \"envB\"))\n            .andExpect(handler().methodCall(on(ManagerController.class)\n                 .environmentTopology(\"envB\", true)));\n}\n</code></pre>\n\n<p>This should allow me to verify that the ManagerController's <code>environentTopology</code> method is called by the test. However instead I get the following exception:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Cannot subclass final class java.lang.String\n\nat org.springframework.cglib.proxy.Enhancer.generateClass(Enhancer.java:565)\nat org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\nat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329)\nat org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:492)\nat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93)\nat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91)\nat org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\nat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\nat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116)\nat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291)\nat org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:480)\nat org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:337)\nat org.springframework.web.servlet.mvc.method.annotation.MvcUriComponentsBuilder.initProxy(MvcUriComponentsBuilder.java:611)\nat org.springframework.web.servlet.mvc.method.annotation.MvcUriComponentsBuilder.access$000(MvcUriComponentsBuilder.java:89)\nat org.springframework.web.servlet.mvc.method.annotation.MvcUriComponentsBuilder$ControllerMethodInvocationInterceptor.intercept(MvcUriComponentsBuilder.java:725)\n</code></pre>\n"}, {"tags": ["java", "opencv", "image-processing", "matrix", "computer-vision"], "answers": [{"tags": [], "owner": {"reputation": 3740, "user_id": 1053938, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/59b4bb22f374b4224067923e11524a24?s=128&d=identicon&r=PG", "display_name": "jonhopkins", "link": "https://stackoverflow.com/users/1053938/jonhopkins"}, "is_accepted": true, "score": 2, "last_activity_date": 1470252243, "creation_date": 1470252243, "answer_id": 38752045, "question_id": 38751907, "link": "https://stackoverflow.com/questions/38751907/how-to-check-if-contours-are-the-same/38752045#38752045", "title": "How to check if contours are the same?", "body": "<p>The equality operator <code>==</code> doesn't work for objects the way it works for primitives.</p>\n\n<p>For <code>int</code>s, <code>char</code>s, <code>boolean</code>s, etc. comparing with <code>==</code> checks if their values are equal. For objects, it checks if the two variables refer to the same object, not if the fields within the objects are the same. In order to check for objects being equivalent, there is the method <code>.equals()</code>, which would be used like this:</p>\n\n<pre><code>if (contours1.get(i).equals(contours2.get(i)))\n</code></pre>\n\n<p>However, this will default to the same behavior as <code>==</code>, checking if the two variables refer to the same object. In your <code>MatOfPoint</code> class, you will need to override the <code>.equals()</code> method to define how it should check for two objects being \"equal\".</p>\n"}, {"comments": [{"owner": {"reputation": 1214, "user_id": 5740834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aaaaba0c043b131a3234fb02fc9c2feb?s=128&d=identicon&r=PG&f=1", "display_name": "Dainius \u0160altenis", "link": "https://stackoverflow.com/users/5740834/dainius-%c5%a0altenis"}, "edited": false, "score": 0, "creation_date": 1470262768, "post_id": 38752471, "comment_id": 64882938, "body": "The article you gave me is super interesting and useful, but it is for checking between two similar, not same contours. In my situation I have completely similar contours to find. Despite that, again, thanks for that article, really fascinating."}, {"owner": {"reputation": 4668, "user_id": 5256563, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/eWfIu.gif?s=128&g=1", "display_name": "FiReTiTi", "link": "https://stackoverflow.com/users/5256563/firetiti"}, "reply_to_user": {"reputation": 1214, "user_id": 5740834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aaaaba0c043b131a3234fb02fc9c2feb?s=128&d=identicon&r=PG&f=1", "display_name": "Dainius \u0160altenis", "link": "https://stackoverflow.com/users/5740834/dainius-%c5%a0altenis"}, "edited": false, "score": 0, "creation_date": 1470266621, "post_id": 38752471, "comment_id": 64884087, "body": "From experience, contours are never exact because of the discretization process. So there will always be some pixels that may be different or not is the exact same order. In that case, this paper makes sense."}, {"owner": {"reputation": 1214, "user_id": 5740834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aaaaba0c043b131a3234fb02fc9c2feb?s=128&d=identicon&r=PG&f=1", "display_name": "Dainius \u0160altenis", "link": "https://stackoverflow.com/users/5740834/dainius-%c5%a0altenis"}, "edited": false, "score": 0, "creation_date": 1470305266, "post_id": 38752471, "comment_id": 64900320, "body": "I understand your point, but in my situation they are completely the same, because the second image is just the modified first one, it has holes in its white zones. My task is to find wether those holes crosses the borders of the white zones and changes the outer contours and I solved this problem (I edited the question), but my method is quite time consuming (though abolishing any error ability), so I am thinking of more direct and faster way to check this contour matching, or only optimise the code I&#39;ve given. If my contours would not be 100% the same, your given article would be an answer."}, {"owner": {"reputation": 4668, "user_id": 5256563, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/eWfIu.gif?s=128&g=1", "display_name": "FiReTiTi", "link": "https://stackoverflow.com/users/5256563/firetiti"}, "reply_to_user": {"reputation": 1214, "user_id": 5740834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aaaaba0c043b131a3234fb02fc9c2feb?s=128&d=identicon&r=PG&f=1", "display_name": "Dainius \u0160altenis", "link": "https://stackoverflow.com/users/5740834/dainius-%c5%a0altenis"}, "edited": false, "score": 0, "creation_date": 1470328380, "post_id": 38752471, "comment_id": 64917212, "body": "Ok, in this specific case, you don&#39;t need the algorithm I pointed. Good luck with your project."}], "tags": [], "owner": {"reputation": 4668, "user_id": 5256563, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/eWfIu.gif?s=128&g=1", "display_name": "FiReTiTi", "link": "https://stackoverflow.com/users/5256563/firetiti"}, "is_accepted": false, "score": 1, "last_activity_date": 1470253945, "creation_date": 1470253945, "answer_id": 38752471, "question_id": 38751907, "link": "https://stackoverflow.com/questions/38751907/how-to-check-if-contours-are-the-same/38752471#38752471", "title": "How to check if contours are the same?", "body": "<p>A long time ago I had a similar problem and I used this algorithm: A multi-scale curve smoothing for generalised pattern recognition (MSGPR). See <a href=\"https://hal.archives-ouvertes.fr/hal-00132897/document\" rel=\"nofollow\">link1</a> and <a href=\"http://ieeexplore.ieee.org/xpl/login.jsp?tp=&amp;arnumber=1224905\" rel=\"nofollow\">link2</a>.</p>\n\n<p>This works really for close patterns, but in your case you could first fill the patterns, and then extract the contour.</p>\n"}], "owner": {"reputation": 1214, "user_id": 5740834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aaaaba0c043b131a3234fb02fc9c2feb?s=128&d=identicon&r=PG&f=1", "display_name": "Dainius \u0160altenis", "link": "https://stackoverflow.com/users/5740834/dainius-%c5%a0altenis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 611, "favorite_count": 0, "accepted_answer_id": 38752045, "answer_count": 2, "score": 2, "last_activity_date": 1470263629, "creation_date": 1470251684, "last_edit_date": 1470263629, "question_id": 38751907, "link": "https://stackoverflow.com/questions/38751907/how-to-check-if-contours-are-the-same", "title": "How to check if contours are the same?", "body": "<p>I've got two images, the second one is the first one after modification. I find contours of two images and then check if there any same contours. The problem is, that despite contours being the same (drawing contours of one image and another one gives totally same results) after checking that it never becomes true that one contour is equal to any another.</p>\n\n<p><strong>The code:</strong>\nFinding the contours:</p>\n\n<pre><code>List&lt;MatOfPoint&gt; contours1 = new ArrayList&lt;&gt;();\nList&lt;MatOfPoint&gt; contours2 = new ArrayList&lt;&gt;();\nImgproc.findContours(contours1mat, contours1, new Mat(), Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\nImgproc.findContours(contours2mat, contours2, new Mat(), Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\n</code></pre>\n\n<p>Checking the contours (it never makes match variable true):</p>\n\n<pre><code>for(int i = 0; i &lt; contours1.size(); i++)\n{\n    boolean match = false;\n\n    for (int j = 0; j &lt; contours2.size(); j++)\n    {\n        if (contours1.get(i) == contours2.get(j))\n        {\n            //never hits that place, despite passing through all contours\n            match = true;\n            break;\n        }\n    }\n\n    if (!match)\n    {\n        contours1.remove(i);\n        i--;\n    }\n}\n</code></pre>\n\n<p><strong>What am I doing wrong?</strong> Is this way of checking the similarity of the contours is incorrect? If so, how can I check if two contours are the same? How would You check the contour match if you would need to?</p>\n\n<p><strong>First image:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/4LkLK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4LkLK.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Second image:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/DLF1W.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DLF1W.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>The logic behind the second image is that it is the first image but with holes punched in it. I am checking if those holes cross the side of the white zone, if it does not, there should be two same contours in first and second image. <strong>I am only finding the outer contours</strong>, so the contour size is the same in both images.</p>\n\n<p><strong>...</strong></p>\n\n<p><strong>UPDATE!!!</strong>\nThis code gives me the desired result, but the problem is that it is really <strong>time consuming</strong>, and, obviously, there is a huge room for improvement in the algorythm itself (probably some approximation of contours could be done before the check) or the method I use. I really hope that there is an easy direct result to solve my issue. Code:</p>\n\n<pre><code>for(int i = 0; i &lt; contours1.size(); i++)\n{\n    boolean match = true;\n\n    for (int j = 0; j &lt; contours2.size(); j++)\n    {\n        if (contours1.get(i).toArray().length == contours2.get(j).toArray().length)\n        {\n            boolean match2 = true;\n            for (int k = 0; k &lt; contours1.get(i).toArray().length; k++)\n            {\n                if ((contours1.get(i).toArray()[k].x != contours2.get(j).toArray()[k].x) ||\n                    (contours1.get(i).toArray()[k].y != contours2.get(j).toArray()[k].y))\n                {\n                    match2 = false;\n                }\n            }\n            if (match2)\n            {\n                match = true;\n                break;\n            }\n        }\n        else\n            match = false;\n    }\n\n    if (!match)\n    {\n        contours1.remove(i);\n        i--;\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "android-intent", "android-activity", "android-library"], "comments": [{"owner": {"reputation": 14634, "user_id": 1460509, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/AFLuB.jpg?s=128&g=1", "display_name": "Devrim", "link": "https://stackoverflow.com/users/1460509/devrim"}, "edited": false, "score": 0, "creation_date": 1470252180, "post_id": 38751884, "comment_id": 64877887, "body": "try intent.setComponent(new ComponentName(&quot;com.package.activities&quot;, &quot;com.package.activities.MyActivity&quot;));"}, {"owner": {"reputation": 1067, "user_id": 2038286, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d1ee338a009b4549d1a29fb167d35d85?s=128&d=identicon&r=PG&f=1", "display_name": "Ninja Coding", "link": "https://stackoverflow.com/users/2038286/ninja-coding"}, "reply_to_user": {"reputation": 14634, "user_id": 1460509, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/AFLuB.jpg?s=128&g=1", "display_name": "Devrim", "link": "https://stackoverflow.com/users/1460509/devrim"}, "edited": false, "score": 0, "creation_date": 1470316919, "post_id": 38751884, "comment_id": 64908212, "body": "i gonna try and i comment"}, {"owner": {"reputation": 1067, "user_id": 2038286, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d1ee338a009b4549d1a29fb167d35d85?s=128&d=identicon&r=PG&f=1", "display_name": "Ninja Coding", "link": "https://stackoverflow.com/users/2038286/ninja-coding"}, "reply_to_user": {"reputation": 14634, "user_id": 1460509, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/AFLuB.jpg?s=128&g=1", "display_name": "Devrim", "link": "https://stackoverflow.com/users/1460509/devrim"}, "edited": false, "score": 0, "creation_date": 1470317396, "post_id": 38751884, "comment_id": 64908566, "body": "same result with this one"}, {"owner": {"reputation": 2065, "user_id": 1516596, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/2198cb0a7a329bcb211f0afcc72e6f0d?s=128&d=identicon&r=PG", "display_name": "harikrishnan", "link": "https://stackoverflow.com/users/1516596/harikrishnan"}, "edited": false, "score": 0, "creation_date": 1502349248, "post_id": 38751884, "comment_id": 78172438, "body": "HI Ninja, Did you solve this issue..am also facing this same situation.."}], "answers": [{"comments": [{"owner": {"reputation": 1067, "user_id": 2038286, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d1ee338a009b4549d1a29fb167d35d85?s=128&d=identicon&r=PG&f=1", "display_name": "Ninja Coding", "link": "https://stackoverflow.com/users/2038286/ninja-coding"}, "edited": false, "score": 0, "creation_date": 1470317141, "post_id": 38752302, "comment_id": 64908379, "body": "this is not allowed, when i use this code, the compilation fails &quot;Cannot resolve symbol MyActivity&quot; when i use quick fix from Android Studio (Alt+Enter) options are: &quot;Add dependency...&quot; (i clicked that option but nothing happens) and &quot;Move MyActivity from module (library) to (main)&quot; but this is not the wished one. We need to keep Activity in library."}, {"owner": {"reputation": 828, "user_id": 2833041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kUofb.jpg?s=128&g=1", "display_name": "dfinn", "link": "https://stackoverflow.com/users/2833041/dfinn"}, "reply_to_user": {"reputation": 1067, "user_id": 2038286, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d1ee338a009b4549d1a29fb167d35d85?s=128&d=identicon&r=PG&f=1", "display_name": "Ninja Coding", "link": "https://stackoverflow.com/users/2038286/ninja-coding"}, "edited": false, "score": 1, "creation_date": 1470330386, "post_id": 38752302, "comment_id": 64918372, "body": "It sounds like your library project isn&#39;t being included correctly into the main project then. Can you paste a copy of your app/build.gradle file?"}, {"owner": {"reputation": 1067, "user_id": 2038286, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d1ee338a009b4549d1a29fb167d35d85?s=128&d=identicon&r=PG&f=1", "display_name": "Ninja Coding", "link": "https://stackoverflow.com/users/2038286/ninja-coding"}, "edited": false, "score": 0, "creation_date": 1470330874, "post_id": 38752302, "comment_id": 64918630, "body": "You are right, the project isn&#39;t being included correctly, because it&#39;s trying to build with gradle-experimental in a main project with gradle-stable. It looks like both are not compatibles. and Gradle(stable) can&#39;t attach module with Gradle (experimental)."}, {"owner": {"reputation": 1067, "user_id": 2038286, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d1ee338a009b4549d1a29fb167d35d85?s=128&d=identicon&r=PG&f=1", "display_name": "Ninja Coding", "link": "https://stackoverflow.com/users/2038286/ninja-coding"}, "edited": false, "score": 0, "creation_date": 1470330910, "post_id": 38752302, "comment_id": 64918658, "body": "there is a fix for that case?"}, {"owner": {"reputation": 828, "user_id": 2833041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kUofb.jpg?s=128&g=1", "display_name": "dfinn", "link": "https://stackoverflow.com/users/2833041/dfinn"}, "reply_to_user": {"reputation": 1067, "user_id": 2038286, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d1ee338a009b4549d1a29fb167d35d85?s=128&d=identicon&r=PG&f=1", "display_name": "Ninja Coding", "link": "https://stackoverflow.com/users/2038286/ninja-coding"}, "edited": false, "score": 0, "creation_date": 1470331931, "post_id": 38752302, "comment_id": 64919246, "body": "Sorry, I don&#39;t know, I haven&#39;t ever tried doing that.  If you really need to mix them, you might want to post a new question specifically about that. Good luck!"}], "tags": [], "owner": {"reputation": 828, "user_id": 2833041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kUofb.jpg?s=128&g=1", "display_name": "dfinn", "link": "https://stackoverflow.com/users/2833041/dfinn"}, "is_accepted": false, "score": 0, "last_activity_date": 1470253237, "creation_date": 1470253237, "answer_id": 38752302, "question_id": 38751884, "link": "https://stackoverflow.com/questions/38751884/android-launching-library-activity-from-main-app/38752302#38752302", "title": "Android: Launching Library Activity from Main App", "body": "<p>Give this a try:</p>\n\n<pre><code>Intent intent = new Intent(context, MyActivity.class);\nintent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\ncontext.startActivity(intent);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1768, "user_id": 1631851, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/54596f01efbae3cbd14776c64691df78?s=128&d=identicon&r=PG", "display_name": "BajajG", "link": "https://stackoverflow.com/users/1631851/bajajg"}, "is_accepted": false, "score": 0, "last_activity_date": 1511421505, "creation_date": 1511421505, "answer_id": 47449652, "question_id": 38751884, "link": "https://stackoverflow.com/questions/38751884/android-launching-library-activity-from-main-app/47449652#47449652", "title": "Android: Launching Library Activity from Main App", "body": "<p>When you try to launch the activity as a separate component, Android starts looking for this library activity within your main project code. As the activity belongs to the library and not the main project, you get the <code>ActivityNotFoundException</code>.</p>\n\n<p>Given that you have added the library project as an AAR file to the main project, you can simply launch the library activity from the main project as follows:</p>\n\n<pre><code>Intent intent=new Intent(this, \"your.library.package.activityname.class\")\nstartActivity(intent)\n</code></pre>\n\n<p>You must declare the library activity in the manifest file of your main project. A single line should suffice</p>\n\n<pre><code>&lt;application ...&gt;\n    &lt;activity android:name=\"your.library.package.activityname\" /&gt;\n&lt;/application&gt;\n</code></pre>\n"}], "owner": {"reputation": 1067, "user_id": 2038286, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d1ee338a009b4549d1a29fb167d35d85?s=128&d=identicon&r=PG&f=1", "display_name": "Ninja Coding", "link": "https://stackoverflow.com/users/2038286/ninja-coding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1442, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1511421505, "creation_date": 1470251605, "question_id": 38751884, "link": "https://stackoverflow.com/questions/38751884/android-launching-library-activity-from-main-app", "title": "Android: Launching Library Activity from Main App", "body": "<p>i already readed the \"similar questions\" but i'm still not able to launch the Library Project Activity from the Main Project.</p>\n\n<p>I have project A (Main)\nand i have project B (library)</p>\n\n<p>Activity is declared in the library manifest (even in main manifest)</p>\n\n<p>but when i run the code the log throws the error that ask if activity is declared in manifest.xml file.</p>\n\n<p>Main Project is rightly including the library, everything compiles but the error is that, i put the intent i'm trying from main project:</p>\n\n<pre><code>Intent intent = new Intent();\nintent.setComponent(new ComponentName(\"com.package.activities\", \"MyActivity\"));\nintent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\nintent.setPackage(context.getPackageName()); // tried without this\ncontext.startActivity(intent);\n</code></pre>\n\n<p>this is my manifest (from library project):</p>\n\n<pre><code>&lt;activity\n        android:name=\"com.package.activities.MyActivity\"\n        android:exported=\"true\"\n        android:label=\"@string/title_activity\"\n        android:screenOrientation=\"landscape\"\n        android:configChanges=\"keyboardHidden|orientation\"/&gt;\n</code></pre>\n\n<p>Log: </p>\n\n<blockquote>\n  <p>android.content.ActivityNotFoundException: Unable to find explicit activity class {com.package.activities/MyActivity}; have you declared this activity in your AndroidManifest.xml?</p>\n</blockquote>\n"}, {"tags": ["java", "web-services", "soap"], "comments": [{"owner": {"reputation": 388, "user_id": 2219573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a247c144a2ad0188406a35e5dc625424?s=128&d=identicon&r=PG", "display_name": "Renatols", "link": "https://stackoverflow.com/users/2219573/renatols"}, "edited": false, "score": 0, "creation_date": 1470251906, "post_id": 38751666, "comment_id": 64877708, "body": "Hard to know without looking the specs... but isnt it a basic HTTP authentication? Like in Key = &quot;Authorization&quot; and value = &quot;Basic &quot; + Base64Encode(user + &quot;:&quot; + password). Dont think I have another sugestion though. Sorry :/."}, {"owner": {"reputation": 1129, "user_id": 1073351, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d1da17c32728856fd0a9aaeab3b48be?s=128&d=identicon&r=PG", "display_name": "Mark McWhirter", "link": "https://stackoverflow.com/users/1073351/mark-mcwhirter"}, "reply_to_user": {"reputation": 388, "user_id": 2219573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a247c144a2ad0188406a35e5dc625424?s=128&d=identicon&r=PG", "display_name": "Renatols", "link": "https://stackoverflow.com/users/2219573/renatols"}, "edited": false, "score": 0, "creation_date": 1470256460, "post_id": 38751666, "comment_id": 64880117, "body": "Yes, I have tried [code] headers.put(&quot;Authorization&quot;, Arrays.asList(&quot;Basic V2ViU2VydmljZTpmenU4dHckX1E4SDI=&quot;));  [/code] and have not gotten good results either."}, {"owner": {"reputation": 30237, "user_id": 6371459, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0DDLp.jpg?s=128&g=1", "display_name": "pedrofb", "link": "https://stackoverflow.com/users/6371459/pedrofb"}, "edited": false, "score": 0, "creation_date": 1470292276, "post_id": 38751666, "comment_id": 64892031, "body": "Usually SOAP authentication data is sent into SOAP headers. But if you try  to use Authorization header, remove <code>Arrays.asList(&quot;</code>. Just the value"}], "owner": {"reputation": 1129, "user_id": 1073351, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d1da17c32728856fd0a9aaeab3b48be?s=128&d=identicon&r=PG", "display_name": "Mark McWhirter", "link": "https://stackoverflow.com/users/1073351/mark-mcwhirter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 297, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1470250839, "creation_date": 1470250839, "question_id": 38751666, "link": "https://stackoverflow.com/questions/38751666/java-consume-soap-service-with-authorization-header", "title": "java consume SOAP service with authorization header", "body": "<p>I am trying to insert authentication information into a header request that is going to \nan older SOAP based .Net based service (.asmx).  I've used ws-input under NetBeans 8.1\nto import the wsdl and generate the calls to the client, but unable to see how to insert\nheader information.  I have tried the following approach to insert the header information,\nbut the web service is returning an error indicating it doesn't see the authentication.\nAny ideas?</p>\n\n<pre><code>try\n{\n    com.CompanyService.api.CompanyServiceApi service = new com.CompanyService.api.CompanyServiceApi();\n    com.CompanyService.api.CompanyServiceApiSoap port = service.getCompanyServiceApiSoap();\n\n    Map&lt;String, Object&gt; req_ctx = ((BindingProvider) port).getRequestContext();\n    req_ctx.put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, \"http://api.CompanyService.com/CompanyServiceApi.asmx\");\n\n    Map&lt;String, List&lt;String&gt;&gt; headers = new HashMap&lt;String, List&lt;String&gt;&gt;();\n    headers.put(\"LoginName\", Collections.singletonList(\"WebService\"));\n    headers.put(\"Username\", Collections.singletonList(\"xxxxxxx\"));\n    req_ctx.put(MessageContext.HTTP_REQUEST_HEADERS, headers);\n\n    res = port.getCustomers(getCustomersRequest);\n}\ncatch (Exception e) { \n    System.out.println(\"Error\");\n}\n</code></pre>\n"}, {"tags": ["java", "android", "geolocation", "location"], "comments": [{"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1470251340, "post_id": 38751564, "comment_id": 64877396, "body": "SIde note:  Location has the distanceTo function.  No need to do the math yourself, and probably less buggy."}, {"owner": {"reputation": 17, "user_id": 4618856, "user_type": "registered", "profile_image": "https://graph.facebook.com/793812207374767/picture?type=large", "display_name": "Yusuf &#39;Seed&#39; Seedat", "link": "https://stackoverflow.com/users/4618856/yusuf-seed-seedat"}, "reply_to_user": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1470251581, "post_id": 38751564, "comment_id": 64877525, "body": "thank you,will implement that into the function once solved"}], "owner": {"reputation": 17, "user_id": 4618856, "user_type": "registered", "profile_image": "https://graph.facebook.com/793812207374767/picture?type=large", "display_name": "Yusuf &#39;Seed&#39; Seedat", "link": "https://stackoverflow.com/users/4618856/yusuf-seed-seedat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1470250452, "creation_date": 1470250452, "question_id": 38751564, "link": "https://stackoverflow.com/questions/38751564/user-location-android", "title": "User location-Android", "body": "<p>I am trying to get a users current location and then calculate a distance from the users current location to the long and lat that is read from a database.</p>\n\n<p>After testing my app i have noticed that  the users  location is reading as 0.0 for both long and lat values and thus returning incorrect distance result</p>\n\n<p>I have added all required permissions in the manifest file</p>\n\n<pre><code>public class UserLocation extends AppCompatActivity {\n\nprivate Button b;\nprivate TextView t;\nprivate EditText lo;\nprivate EditText la;\nprivate LocationManager locationManager;\nprivate LocationListener listener;\ndouble userLat;\ndouble userLong;\n\n\nString value1  ;\nString value2  ;\nprivate String urlString;\n\n@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    setContentView(R.layout.main);\n\n\n    t = (TextView) findViewById(R.id.textView);\n    b = (Button) findViewById(R.id.button);\n    lo=(EditText)findViewById(R.id.txtLong);\n    la=(EditText)findViewById(R.id.txtLat);\n\n\n    String id = \"1\";\n    urlString = \"http://10.0.2.2:52387/easyQ.svc/rest/branch/\"+id;\n    new ProcessJSON().execute(urlString);\n\n    locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\n\n\n    listener = new LocationListener() {\n        @Override\n        public void onLocationChanged(android.location.Location location) {\n\n            // System.out.println(value1 + \" \" + value2);\n            userLat=location.getLatitude();\n            userLong=location.getLongitude();\n        }\n        @Override\n        public void onStatusChanged(String s, int i, Bundle bundle) {\n        }\n\n        @Override\n        public void onProviderEnabled(String s) {\n\n        }\n\n        @Override\n        public void onProviderDisabled(String s) {\n\n            Intent i = new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);\n            startActivity(i);\n        }\n    };\n    configure_button();\n}\n\nprivate class ProcessJSON extends AsyncTask&lt;String, Void, String&gt;{\n\n    protected String doInBackground(String... strings)\n    {\n        String stream;\n        String urlString = strings[0];\n\n        HTTPDataHandler httpDataHandler = new HTTPDataHandler();\n        stream = httpDataHandler.GetHTTPData(urlString);\n\n        return stream;\n    }\n\n    protected void onPostExecute(String stream){\n        if(stream != null)\n        {\n            try\n            {\n                JSONObject object = new JSONObject(stream);\n\n                  value1 = object.getString(\"branch_lat\");\n                  value2 = object.getString(\"branch_long\");\n                System.out.println(value1 + \" \" + value2);\n               // t.append(\"\\n \" +  distance(userLat,userLong,10,10));\n                t.append(\"\\n \" +  distance(userLat,userLong,Double.parseDouble(value1),Double.parseDouble(value2)));\n                System.out.println(\"user lat\" + userLat);\n                System.out.println(\"user long\" + userLong);\n                System.out.println(\"location lat\" + value1);\n                System.out.println(\"location long\" + value2);\n            }\n            catch(JSONException e)\n            {\n                e.printStackTrace();\n            }\n        }\n    }\n\n\n}\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    switch (requestCode) {\n        case 10:\n            configure_button();\n            break;\n        default:\n            break;\n    }\n}\n\nvoid configure_button() {\n    // first check for permissions\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            requestPermissions(new String[]{Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.INTERNET}\n                    , 10);\n        }\n        return;\n    }\n    // this code won't execute IF permissions are not allowed, because in the line above there is return statement.\n    b.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            //noinspection MissingPermission\n            locationManager.requestLocationUpdates(\"gps\", 5000, 0, listener);\n\n\n\n\n\n\n\n\n\n\n\n        }\n    });\n}\n\nprivate double distance(double lat1, double lon1, double lat2, double lon2) {\n    double theta = lon1 - lon2;\n    double dist = Math.sin(deg2rad(lat1)) * Math.sin(deg2rad(lat2)) + Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * Math.cos(deg2rad(theta));\n    dist = Math.acos(dist);\n    dist = rad2deg(dist);\n    dist = dist * 60 * 1.1515;\n    return (dist)* 1.609344;\n}\n\nprivate double deg2rad(double deg) {\n    return (deg * Math.PI / 180.0);\n}\n\nprivate double rad2deg(double rad) {\n    return (rad * 180.0 / Math.PI);\n}\n\n\n\n}\n</code></pre>\n"}, {"tags": ["java", "eclipse", "selenium", "firefox"], "answers": [{"comments": [{"owner": {"reputation": 331, "user_id": 6257039, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iNe3ZjdJ10M/AAAAAAAAAAI/AAAAAAAAAQM/D4QxwD_oXnY/photo.jpg?sz=128", "display_name": "caryarit ferrer", "link": "https://stackoverflow.com/users/6257039/caryarit-ferrer"}, "edited": false, "score": 0, "creation_date": 1503049315, "post_id": 38752127, "comment_id": 78463890, "body": "this worked for me"}], "tags": [], "owner": {"reputation": 9659, "user_id": 1630604, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/SME8W.jpg?s=128&g=1", "display_name": "Nicolas Henneaux", "link": "https://stackoverflow.com/users/1630604/nicolas-henneaux"}, "is_accepted": false, "score": 2, "last_activity_date": 1470252569, "creation_date": 1470252569, "answer_id": 38752127, "question_id": 38751525, "link": "https://stackoverflow.com/questions/38751525/firefox-browser-is-not-opening-with-selenium-webbrowser-code/38752127#38752127", "title": "Firefox browser is not opening with selenium webbrowser code", "body": "<p>Firefox driver is based on <a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/QA/Marionette\" rel=\"nofollow\">marionette</a> starting with Selenium 3.0. Unlike, 2.x versions, it requires an external executable file. You should add it to your path. For more information, you should have a look at <a href=\"https://github.com/mozilla/geckodriver\" rel=\"nofollow\">https://github.com/mozilla/geckodriver</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 6672619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f3c2083a3bddb698eace6698006328c?s=128&d=identicon&r=PG&f=1", "display_name": "BlackDeath", "link": "https://stackoverflow.com/users/6672619/blackdeath"}, "is_accepted": false, "score": 8, "last_activity_date": 1470252873, "creation_date": 1470252873, "answer_id": 38752211, "question_id": 38751525, "link": "https://stackoverflow.com/questions/38751525/firefox-browser-is-not-opening-with-selenium-webbrowser-code/38752211#38752211", "title": "Firefox browser is not opening with selenium webbrowser code", "body": "<p>Download the lastest version for geckoDriver <a href=\"https://github.com/mozilla/geckodriver/releases\">here</a> then set a System property called \"webdriver.gecko.driver\" and put on it the path to your geckoDriver executable path\n<code>System.setProperty(\"webdriver.gecko.driver\", \"&lt;path to your gecko driver executable&gt;\");</code></p>\n"}, {"comments": [{"owner": {"reputation": 1945, "user_id": 2148939, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/65a4495f8cf59bfe786fe5b75598ff13?s=128&d=identicon&r=PG", "display_name": "Selrac", "link": "https://stackoverflow.com/users/2148939/selrac"}, "edited": false, "score": 2, "creation_date": 1472481312, "post_id": 38752315, "comment_id": 65756537, "body": "I&#39;m using windows/Eclipse/Selenium --&gt; Adding: System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\GeckoDriver\\geckodriver.exe&quot;); --&gt; I get an error on this line saying: Invalid escape sequence (valid ones are \\b \\t \\n \\f \\r \\&quot; \\&#39; \\\\ )"}, {"owner": {"reputation": 1945, "user_id": 2148939, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/65a4495f8cf59bfe786fe5b75598ff13?s=128&d=identicon&r=PG", "display_name": "Selrac", "link": "https://stackoverflow.com/users/2148939/selrac"}, "edited": false, "score": 2, "creation_date": 1472481640, "post_id": 38752315, "comment_id": 65756755, "body": "Resolved the problem if it helps someone using double backward slash: &quot;C:\\\\GeckoDriver\\\\geckodriver.exe&quot;"}, {"owner": {"reputation": 835, "user_id": 1026901, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6d43afae270038a0a826f25f29183ce4?s=128&d=identicon&r=PG", "display_name": "Btuman", "link": "https://stackoverflow.com/users/1026901/btuman"}, "edited": false, "score": 0, "creation_date": 1482175364, "post_id": 38752315, "comment_id": 69658262, "body": "Any idea on how to solve this using the Seleniumhq jenkins plugin?"}, {"owner": {"reputation": 486, "user_id": 430017, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/1156b8c9ffd96b368c8165908cc17f37?s=128&d=identicon&r=PG", "display_name": "kulNinja", "link": "https://stackoverflow.com/users/430017/kulninja"}, "edited": false, "score": 0, "creation_date": 1485904255, "post_id": 38752315, "comment_id": 71116915, "body": "Finally it worked!!!     I was on version 51 for FF and selenium 3.0. I had to downgrade from 51 to 47 and added the &#39;client-combined-3.0.1-nodeps.jar&#39; and finally:    <code>WebDriver driver;</code> <code>System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;C:\\\\kul\\\\geckod&zwnj;&#8203;\u200c\u200b\u200c\u200briver.exe&quot;);</code>\t<code>dri&zwnj;&#8203;ve\u200c\u200br = new FirefoxDriver();</code> <code>driver.get(&quot;[google.com](http:&#47;&#47;google.com)&quot;);</code>"}], "tags": [], "owner": {"reputation": 2965, "user_id": 2058844, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/12ysy.jpg?s=128&g=1", "display_name": "Paras", "link": "https://stackoverflow.com/users/2058844/paras"}, "is_accepted": false, "score": 42, "last_activity_date": 1487164025, "last_edit_date": 1487164025, "creation_date": 1470253269, "answer_id": 38752315, "question_id": 38751525, "link": "https://stackoverflow.com/questions/38751525/firefox-browser-is-not-opening-with-selenium-webbrowser-code/38752315#38752315", "title": "Firefox browser is not opening with selenium webbrowser code", "body": "<p>You are using latest version of <code>Selenium WebDriver</code> i.e. <code>Selenium 3.x</code>, this version of webdriver doesn't support direct firefox launch. You have to set the <code>SystemProperty</code> for <code>webdriver.gecko.driver</code>.</p>\n\n<p>Replace the Code:-</p>\n\n<pre><code>WebDriver driver;\ndriver =new FirefoxDriver();\n</code></pre>\n\n<p>With This code:-</p>\n\n<pre><code>WebDriver driver;\nSystem.setProperty(\"webdriver.gecko.driver\", \"&lt;Path to your WebDriver&gt;\");\ndriver =new FirefoxDriver();\n</code></pre>\n\n<p>You can get the information about latest changes <a href=\"https://raw.githubusercontent.com/SeleniumHQ/selenium/master/java/CHANGELOG\" rel=\"noreferrer\">here</a></p>\n\n<p>You can download the latest <code>Gecko</code> driver from <a href=\"https://github.com/mozilla/geckodriver/releases\" rel=\"noreferrer\">here</a></p>\n"}], "owner": {"reputation": 199, "user_id": 6673781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e954029908fea3ba4cd33d461d09f53e?s=128&d=identicon&r=PG&f=1", "display_name": "SJR", "link": "https://stackoverflow.com/users/6673781/sjr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84585, "favorite_count": 3, "closed_date": 1470258809, "answer_count": 3, "score": 20, "last_activity_date": 1487164025, "creation_date": 1470250345, "last_edit_date": 1470252282, "question_id": 38751525, "link": "https://stackoverflow.com/questions/38751525/firefox-browser-is-not-opening-with-selenium-webbrowser-code", "closed_reason": "Duplicate", "title": "Firefox browser is not opening with selenium webbrowser code", "body": "<p>Need guidance and help in the below one.</p>\n\n<p>When the below code is executed, I am getting error. I am using the latest version of java, eclipse, firefox, and WebDrive jar file.</p>\n\n<pre><code>package firsttest1;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\npublic class helloselenium {\n    public static void main(String[] args) {\n        WebDriver driver;\n        driver =new FirefoxDriver();\n        String url =\"http://www.google.com\";\n        driver.get(url);\n    }\n}\n</code></pre>\n\n<p><strong>error....</strong></p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.IllegalStateException: The path to the driver executable must be set by the webdriver.gecko.driver system property; for more information, see <a href=\"https://github.com/mozilla/geckodriver\">https://github.com/mozilla/geckodriver</a>. The latest version can be downloaded from <a href=\"https://github.com/mozilla/geckodriver/releases\">https://github.com/mozilla/geckodriver/releases</a> \n      at com.google.common.base.Preconditions.checkState(Preconditions.java:199)\n      at     org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:109)\n      at org.openqa.selenium.firefox.GeckoDriverService.access$100(GeckoDriverService.java:38)\n      at org.openqa.selenium.firefox.GeckoDriverService$Builder.findDefaultExecutable(GeckoDriverService.java:91)\n      at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:296)\n      at org.openqa.selenium.firefox.FirefoxDriver.createCommandExecutor(FirefoxDriver.java:245)\n      at org.openqa.selenium.firefox.FirefoxDriver.(FirefoxDriver.java:220)\n      at org.openqa.selenium.firefox.FirefoxDriver.(FirefoxDriver.java:215)\n      at org.openqa.selenium.firefox.FirefoxDriver.(FirefoxDriver.java:211)\n      at org.openqa.selenium.firefox.FirefoxDriver.(FirefoxDriver.java:124)\n      at firsttest1.helloselenium.main(helloselenium.java:12)</p>\n</blockquote>\n\n<p>Version used:\neclipse : neon version\njava : jdk1.8 \nfire fox: v48\nWebDrive jar file : v 3.0.0 beta2 </p>\n\n<p>guide me in resolving this issue.</p>\n"}, {"tags": ["java", "json"], "comments": [{"owner": {"reputation": 762, "user_id": 3952494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d149d26d53be3f8a37fe23313470e4fb?s=128&d=identicon&r=PG", "display_name": "Klapsa2503", "link": "https://stackoverflow.com/users/3952494/klapsa2503"}, "edited": false, "score": 0, "creation_date": 1470250326, "post_id": 38751396, "comment_id": 64876838, "body": "Maybe this will help you: <a href=\"http://stackoverflow.com/questions/3763937/gson-and-deserializing-an-array-of-objects-with-arrays-in-it\" title=\"gson and deserializing an array of objects with arrays in it\">stackoverflow.com/questions/3763937/&hellip;</a>"}, {"owner": {"reputation": 1055, "user_id": 3326720, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/SeWCu.png?s=128&g=1", "display_name": "Orange Receptacle", "link": "https://stackoverflow.com/users/3326720/orange-receptacle"}, "edited": false, "score": 0, "creation_date": 1470251009, "post_id": 38751396, "comment_id": 64877225, "body": "I&#39;ve tried changing my code by removing the &quot;all&quot; and having the whole Json file be encapsulated with [ ]. However, my error is similar, <code>Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $</code>"}, {"owner": {"reputation": 112847, "user_id": 1393766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h0FSp.png?s=128&g=1", "display_name": "Pshemo", "link": "https://stackoverflow.com/users/1393766/pshemo"}, "edited": false, "score": 0, "creation_date": 1470251247, "post_id": 38751396, "comment_id": 64877344, "body": "I may be wrong but it seems that error states that parser found <code>&quot;</code> where it expected <code>[</code> and it was at start of your JSON file. But based on your code and example it doesn&#39;t look right. Could you post proper JSON structure and code which will let us reproduce your problem? You don&#39;t need to post all objects from array, even one or two should be enough."}, {"owner": {"reputation": 1055, "user_id": 3326720, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/SeWCu.png?s=128&g=1", "display_name": "Orange Receptacle", "link": "https://stackoverflow.com/users/3326720/orange-receptacle"}, "edited": false, "score": 0, "creation_date": 1470251587, "post_id": 38751396, "comment_id": 64877527, "body": "I&#39;ve updated the Json text to mirror my original"}, {"owner": {"reputation": 112847, "user_id": 1393766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h0FSp.png?s=128&g=1", "display_name": "Pshemo", "link": "https://stackoverflow.com/users/1393766/pshemo"}, "edited": false, "score": 0, "creation_date": 1470251811, "post_id": 38751396, "comment_id": 64877646, "body": "<code>Land[] landInfo = new Gson().fromJson(jsonStr, Land[].class);</code> works for me. (<code>jsonStr</code> is string holding JSON from your question)."}, {"owner": {"reputation": 1055, "user_id": 3326720, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/SeWCu.png?s=128&g=1", "display_name": "Orange Receptacle", "link": "https://stackoverflow.com/users/3326720/orange-receptacle"}, "edited": false, "score": 0, "creation_date": 1470256202, "post_id": 38751396, "comment_id": 64880001, "body": "I&#39;ve added my Land class since there might be some confliction? As what you have written is near identical to mine and doesn&#39;t work"}], "answers": [{"comments": [{"owner": {"reputation": 112847, "user_id": 1393766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h0FSp.png?s=128&g=1", "display_name": "Pshemo", "link": "https://stackoverflow.com/users/1393766/pshemo"}, "edited": false, "score": 0, "creation_date": 1470258509, "post_id": 38753612, "comment_id": 64881112, "body": "Also <code>..&#47;res&#47;LandInfo.json</code> doesn&#39;t look right. This path depends on location of class from which you are calling <code>getClass()</code> so if you will try to use this code in class like <code>com.your.package</code> you will need to add a lot of <code>..&#47;</code>. It is better to create separate package/folder, add it to your classpath (or depending on IDE buildpath) and place your <code>res</code> folder there. This way you should be able to access <code>res</code> folder via <code>&#47;res</code> and all its contend via <code>&#47;res&#47;content</code>."}], "tags": [], "owner": {"reputation": 112847, "user_id": 1393766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h0FSp.png?s=128&g=1", "display_name": "Pshemo", "link": "https://stackoverflow.com/users/1393766/pshemo"}, "is_accepted": true, "score": 0, "last_activity_date": 1470258281, "creation_date": 1470258281, "answer_id": 38753612, "question_id": 38751396, "link": "https://stackoverflow.com/questions/38751396/how-to-get-jsonarray-from-a-json-file/38753612#38753612", "title": "How to get JsonArray from a Json File?", "body": "<p>Problem is that </p>\n\n<pre><code>getClass().getResource(\"../res/LandInfo.json\").toExternalForm()\n</code></pre>\n\n<p>returns String representing <em>location</em> of resource, not <em>content</em> of resource. So you are trying to parse string like </p>\n\n<pre><code>file:/[your project location]/classes/res/LandInfo.json\n</code></pre>\n\n<p>which as you see is not valid JSON which is causing error.</p>\n\n<p>To solve this problem you can use <code>fromJson(Reader json, Class&lt;T&gt; classOfT)</code>. So create stream which will be responsible for reading data from your json file, wrap it with reader and pass it to <code>fromJson</code> method. </p>\n\n<p>Your code can look like</p>\n\n<pre><code>InputStream in = getClass().getResourceAsStream(\"../res/LandInfo.json\");\nLand[] landInfo = new Gson().fromJson(new InputStreamReader(in, \"UTF-8\"), Land[].class);\n</code></pre>\n"}], "owner": {"reputation": 1055, "user_id": 3326720, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/SeWCu.png?s=128&g=1", "display_name": "Orange Receptacle", "link": "https://stackoverflow.com/users/3326720/orange-receptacle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 329, "favorite_count": 0, "accepted_answer_id": 38753612, "answer_count": 1, "score": 0, "last_activity_date": 1470258281, "creation_date": 1470249891, "last_edit_date": 1470256157, "question_id": 38751396, "link": "https://stackoverflow.com/questions/38751396/how-to-get-jsonarray-from-a-json-file", "title": "How to get JsonArray from a Json File?", "body": "<p>I have a JSon File in the structure:</p>\n\n<pre><code>[\n    {\n      \"name\": \"north america\",\n      \"population\": 10,\n      \"wealth\": 0,\n      \"education\": 0,\n      \"corruption\": 0\n    },\n    {\n      \"name\": \"south america\",\n      \"population\": 10,\n      \"wealth\": 0,\n      \"education\": 0,\n      \"corruption\": 0\n    },\n    {\n      \"name\": \"north europe\",\n      \"population\": 10,\n      \"wealth\": 0,\n      \"education\": 0,\n      \"corruption\": 0\n    },\n    {\n      \"name\": \"west europe\",\n      \"population\": 10,\n      \"wealth\": 0,\n      \"education\": 0,\n      \"corruption\": 0\n    },\n    {\n      \"name\": \"east europe\",\n      \"population\": 10,\n      \"wealth\": 0,\n      \"education\": 0,\n      \"corruption\": 0\n    },\n    {\n      \"name\": \"south europe\",\n      \"population\": 10,\n      \"wealth\": 0,\n      \"education\": 0,\n      \"corruption\": 0\n    },\n    {\n      \"name\": \"north africa\",\n      \"population\": 10,\n      \"wealth\": 0,\n      \"education\": 0,\n      \"corruption\": 0\n    },\n    {\n      \"name\": \"south africa\",\n      \"population\": 10,\n      \"wealth\": 0,\n      \"education\": 0,\n      \"corruption\": 0\n    },\n    {\n      \"name\": \"north asia\",\n      \"population\": 10,\n      \"wealth\": 0,\n      \"education\": 0,\n      \"corruption\": 0\n    },\n    {\n      \"name\": \"west asia\",\n      \"population\": 10,\n      \"wealth\": 0,\n      \"education\": 0,\n      \"corruption\": 0\n    },\n    {\n      \"name\": \"east asia\",\n      \"population\": 10,\n      \"wealth\": 0,\n      \"education\": 0,\n      \"corruption\": 0\n    },\n    {\n      \"name\": \"southeast asia\",\n      \"population\": 10,\n      \"wealth\": 0,\n      \"education\": 0,\n      \"corruption\": 0\n    },\n    {\n      \"name\": \"south asia\",\n      \"population\": 10,\n      \"wealth\": 0,\n      \"education\": 0,\n      \"corruption\": 0\n    },\n    {\n      \"name\": \"oceania\",\n      \"population\": 10,\n      \"wealth\": 0,\n      \"education\": 0,\n      \"corruption\": 0\n    }   \n]\n</code></pre>\n\n<p>To preface, I'm using Gson to parse my Json file. What I want to be able to do is hold the data as a JsonArray</p>\n\n<p>What I've written to do so is:</p>\n\n<pre><code>final Land[] landInfo = new Gson().fromJson(getClass().getResource(\"../res/LandInfo.json\").toExternalForm(), Land[].class)\n</code></pre>\n\n<p>Which tells me <code>Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $</code></p>\n\n<p>My Land class:</p>\n\n<pre><code>public class Land {\n\n    private String name;\n\n    private int population;\n\n    private int wealth;\n\n    private double education;\n\n    private double corruption;\n\n\n\n    public String getName() {\n\n        return name;\n\n    }\n\n\n\n    public int getPopulation() {\n\n        return population;\n\n    }\n\n\n\n    public void setPopulation(int population) {\n\n        this.population = population;\n\n    }\n\n\n\n    public int getWealth() {\n\n        return wealth;\n\n    }\n\n\n\n    public void setWealth(int wealth) {\n\n        this.wealth = wealth;\n\n    }\n\n\n\n    public double getEducation() {\n\n        return education;\n\n    }\n\n\n\n    public void setEducation(double education) {\n\n        this.education = education;\n\n    }\n\n\n\n    public double getCorruption() {\n\n        return corruption;\n\n    }\n\n\n    public void setCorruption(double corruption) {\n\n        this.corruption = corruption;\n\n    }\n\n}\n</code></pre>\n\n<p>Why would I get this output from trying to get the array from a well-formatted Json file?</p>\n"}, {"tags": ["java", "angularjs", "spring", "model-view-controller"], "answers": [{"tags": [], "owner": {"reputation": 1239, "user_id": 4941860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71c9260582b15c5fea01710b424fda73?s=128&d=identicon&r=PG&f=1", "display_name": "matmo", "link": "https://stackoverflow.com/users/4941860/matmo"}, "is_accepted": false, "score": 0, "last_activity_date": 1470252457, "last_edit_date": 1470252457, "creation_date": 1470252039, "answer_id": 38752001, "question_id": 38751323, "link": "https://stackoverflow.com/questions/38751323/how-to-invoke-a-springs-controller-from-htmlangularjs-page/38752001#38752001", "title": "How to invoke a Spring&#39;s controller from html+angularjs page?", "body": "<p>Your angular app (front end) and your Spring app (back end) don't have any knowledge about each other. They can communicate, though, provided everything is setup correctly. The first argument to $http.post() is a URL. However, you provided 'springAngularJS', which is only the end of the url you are trying to hit. So this needs to be fixed.</p>\n\n<p>Your Spring app is likely being run on your localhost, on port 8000, for example. So your Spring app would be available at <a href=\"http://localhost:8000\" rel=\"nofollow\">http://localhost:8000</a>, in this example. Think of this as the base url for your Spring application. When you use the following annotation in Spring,  <code>@RequestMapping(value=\"/springAngularJS\",method=RequestMethod.POST)</code>,  you are saying that whenever a POST request is made to your server at <code>http://locahost:8000/springAngularJS</code> with the correct body/payload, that method will be run. It basically adds the 'value' argument onto the base url that I previously mentioned.</p>\n\n<p>So from your angular app, you need to be hitting <code>http://locahost:8000/springAngularJS</code>, not just <code>springAngularJS</code>. </p>\n\n<p>In summary, change <code>$http.post(\"springAngularJS\",$scope.user)</code> to <code>$http.post(\"http://locahost:8000/springAngularJS\",$scope.user)</code> (depending on your server's actual url/port).</p>\n\n<p>You can also use a relative url for $http.post, assuming your server and your ui are being served from the same url/port, in which case you could simply do <code>$http.post(\"/springAngularJS\",$scope.user)</code>. Note the slash at the beginning of the (relative) url.</p>\n"}], "owner": {"reputation": 23, "user_id": 6476196, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/804169729719096/picture?type=large", "display_name": "Ashish Agrawal", "link": "https://stackoverflow.com/users/6476196/ashish-agrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1040, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1470252457, "creation_date": 1470249623, "last_edit_date": 1470251365, "question_id": 38751323, "link": "https://stackoverflow.com/questions/38751323/how-to-invoke-a-springs-controller-from-htmlangularjs-page", "title": "How to invoke a Spring&#39;s controller from html+angularjs page?", "body": "<p>I have 2 page one is .jsp and another is .html. Both have two text boxes and a button. On a button click i am calling a post method using angularjs. But when am working with .jsp page it is working fine but the same thing is not working with .html.</p>\n\n<p>Here my Spring's controller -</p>\n\n<pre><code>@RequestMapping(value=\"/springAngularJS\",method=RequestMethod.POST)\n public String addUser(@RequestBody User user)\n   {\n   System.out.println(\"Adding user dtl....\");\n   }\n</code></pre>\n\n<p>Here is my jsp page-</p>\n\n<pre><code>$http.post(\"springAngularJS\",$scope.user).\n  success(function(data, status, headers, config) {\n      $scope.person = data;\n  }).\n  error(function(data, status, headers, config) {\n      alert( \"Exception details: \" + JSON.stringify({data: data}));\n  });\n</code></pre>\n\n<p>The code is same for my .html file as well. But the above is working but when I deal with .html it is not.\nI will add my XML file details also-</p>\n\n<pre><code>&lt;bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n      &lt;property name=\"prefix\" value=\"/WEB-INF/views/\" /&gt;\n      &lt;property name=\"suffix\" value=\".jsp\"/&gt;\n&lt;/bean&gt;\n&lt;mvc:resources mapping=\"/views/**\" location=\"/WEB-INF/views/\" /&gt;\n</code></pre>\n\n<p>Consider me as a beginner,learning by my self..facing challenges. Anyone has any solution please answer.</p>\n"}, {"tags": ["java", "android", "android-service", "android-broadcast"], "comments": [{"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1470249957, "post_id": 38751320, "comment_id": 64876649, "body": "Your intent shouldn&#39;t reference MainActivity.class.  That&#39;s for starting a service or activity, not a broadcast."}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1470250474, "post_id": 38751320, "comment_id": 64876923, "body": "<code>LocalBroadcastManager</code> does not work across processes. Your <code>Service</code> is running in a separate process."}, {"owner": {"reputation": 93, "user_id": 5153162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TqjfN.jpg?s=128&g=1", "display_name": "S&#233;bastien Lemieux", "link": "https://stackoverflow.com/users/5153162/s%c3%a9bastien-lemieux"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1470250926, "post_id": 38751320, "comment_id": 64877180, "body": "@MikeM. You can post your comment as an answer. I removed the process tag from my manifest and I received the broadcast thx !"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 5153162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TqjfN.jpg?s=128&g=1", "display_name": "S&#233;bastien Lemieux", "link": "https://stackoverflow.com/users/5153162/s%c3%a9bastien-lemieux"}, "edited": false, "score": 0, "creation_date": 1470250353, "post_id": 38751370, "comment_id": 64876856, "body": "Tried it, still doesn&#39;t work. Updated the code in the question."}, {"owner": {"reputation": 5072, "user_id": 3558145, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JvUM3.png?s=128&g=1", "display_name": "Shaishav", "link": "https://stackoverflow.com/users/3558145/shaishav"}, "reply_to_user": {"reputation": 93, "user_id": 5153162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TqjfN.jpg?s=128&g=1", "display_name": "S&#233;bastien Lemieux", "link": "https://stackoverflow.com/users/5153162/s%c3%a9bastien-lemieux"}, "edited": false, "score": 0, "creation_date": 1470250588, "post_id": 38751370, "comment_id": 64876994, "body": "@S&#233;bastienLemieux Don&#39;t check for ACTION in your <code>Receiver</code> since we aren&#39;t setting it in our intent."}], "tags": [], "owner": {"reputation": 5072, "user_id": 3558145, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JvUM3.png?s=128&g=1", "display_name": "Shaishav", "link": "https://stackoverflow.com/users/3558145/shaishav"}, "is_accepted": false, "score": 1, "last_activity_date": 1470250106, "last_edit_date": 1470250106, "creation_date": 1470249783, "answer_id": 38751370, "question_id": 38751320, "link": "https://stackoverflow.com/questions/38751320/android-unable-to-receive-local-broadcast-in-my-activity-from-service/38751370#38751370", "title": "Android - Unable to receive local broadcast in my activity from service", "body": "<p>In your <code>LocationService</code>, send local broadcast using:</p>\n\n<pre><code>Intent intent = new Intent(CMBroadcastReceiver.RECEIVE_LOCATION_UPDATE);\nLocalBroadcastManager.getInstance(this).sendBroadcast(intent);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": false, "score": 0, "last_activity_date": 1470251788, "creation_date": 1470251788, "answer_id": 38751933, "question_id": 38751320, "link": "https://stackoverflow.com/questions/38751320/android-unable-to-receive-local-broadcast-in-my-activity-from-service/38751933#38751933", "title": "Android - Unable to receive local broadcast in my activity from service", "body": "<pre><code>&lt;service android:name=\".LocationService\" android:process=\":location_service\" /&gt;\n</code></pre>\n\n<p>Your service is in a separate process from the activity. <code>LocalBroadcastManager</code> is only for use in one process. Either remove <code>android:process</code> from the <code>&lt;service&gt;</code>, or use some IPC mechanism (e.g., system broadcasts, properly secured).</p>\n"}, {"tags": [], "owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "is_accepted": true, "score": 4, "last_activity_date": 1470251865, "creation_date": 1470251865, "answer_id": 38751954, "question_id": 38751320, "link": "https://stackoverflow.com/questions/38751320/android-unable-to-receive-local-broadcast-in-my-activity-from-service/38751954#38751954", "title": "Android - Unable to receive local broadcast in my activity from service", "body": "<p><code>LocalBroadcastManager</code> does not work across processes. Your <code>Service</code> is running in a separate process.</p>\n\n<p>You can either run your <code>Service</code> in the same process as the <code>Activity</code> - by removing the <code>process</code> attribute from the <code>&lt;service&gt;</code> element - or use some sort of IPC instead - e.g., by sending and receiving the broadcasts on a <code>Context</code> instead of <code>LocalBroadcastManager</code>.</p>\n"}], "owner": {"reputation": 93, "user_id": 5153162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TqjfN.jpg?s=128&g=1", "display_name": "S&#233;bastien Lemieux", "link": "https://stackoverflow.com/users/5153162/s%c3%a9bastien-lemieux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1583, "favorite_count": 0, "accepted_answer_id": 38751954, "answer_count": 3, "score": 1, "last_activity_date": 1470251865, "creation_date": 1470249606, "last_edit_date": 1470250291, "question_id": 38751320, "link": "https://stackoverflow.com/questions/38751320/android-unable-to-receive-local-broadcast-in-my-activity-from-service", "title": "Android - Unable to receive local broadcast in my activity from service", "body": "<p>I have my main activity that start a service (Location service) and I want that service to broadcast the new location each time a new location is found.</p>\n\n<p>Thanks to the log I know the service is working and I have new locations every seconds or so, but I never get the broadcast.</p>\n\n<p>MainActivity.java</p>\n\n<pre><code>public class MainActivity extends Activity {\n\n\nprivate static final String TAG = \"mainActivity\";\n\nprivate CMBroadcastReceiver mMessageReceiver = new CMBroadcastReceiver();\n\n/** Called when the activity is first created. */\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n\n    // Start Service\n    startService(new Intent(this, LocationService.class));\n\n    super.onCreate(savedInstanceState);\n}\n\n@Override\npublic void onResume()\n{\n    LocalBroadcastManager.getInstance(this).registerReceiver(\n            mMessageReceiver, new IntentFilter(CMBroadcastReceiver.RECEIVE_LOCATION_UPDATE));\n    super.onResume();\n}\n\n@Override\npublic void onPause()\n{\n    LocalBroadcastManager.getInstance(this).unregisterReceiver(mMessageReceiver);\n    super.onPause();\n}\n}\n</code></pre>\n\n<p>CMBroadcastReceiver.java</p>\n\n<pre><code>public class CMBroadcastReceiver extends BroadcastReceiver {\n\nprivate static final String TAG = \"CMBroadcastReceiver\";\n\npublic static final String RECEIVE_LOCATION_UPDATE = \"LOCATION_UPDATES\";\n\n@Override\npublic void onReceive(Context context, Intent intent) {\n    Log.i(TAG, \"Received broadcast\");\n    String action = intent.getAction();\n    if (action.equals(RECEIVE_LOCATION_UPDATE))\n    {\n        Log.i(TAG, \"Received location update from service!\");\n    }\n}\n}\n</code></pre>\n\n<p>LocationService.java</p>\n\n<pre><code>/**\n * Callback that fires when the location changes.\n */\n@Override\npublic void onLocationChanged(Location location) {\n    mCurrentLocation = location;\n    mLastUpdateTime = DateFormat.getTimeInstance().format(new Date());\n    Log.i(TAG, \"onLocationChanged \" + location);\n\n    Intent intent = new Intent(CMBroadcastReceiver.RECEIVE_LOCATION_UPDATE);\n    LocalBroadcastManager.getInstance(this).sendBroadcast(intent);\n    Log.i(TAG, \"Broadcast sent\");\n}\n</code></pre>\n\n<p>AndroidManifest.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"com.cyclemapapp.gpstracker\"&gt;\n\n&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\"/&gt;\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity\n        android:name=\".MainActivity\"\n        android:label=\"@string/title_activity_main\"\n        android:theme=\"@style/AppTheme.NoActionBar\"&gt;\n        android:configChanges=\"orientation|screenSize\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;service android:name=\".LocationService\" android:process=\":location_service\" /&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n\n<p>I the log I can see that \"Broadcast Sent\" But I never get the \"Broadcast Received\"</p>\n\n<p>Any help will would be greatly appreciated.</p>\n\n<p><b>EDIT: </b></p>\n\n<p>Edited how the intent was created in the location service as Shaishav suggested.</p>\n\n<p>Still doesn't work.</p>\n"}, {"tags": ["java", "multithreading", "networking", "server", "client"], "comments": [{"owner": {"reputation": 67717, "user_id": 2541560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7H9TF.png?s=128&g=1", "display_name": "Kayaman", "link": "https://stackoverflow.com/users/2541560/kayaman"}, "edited": false, "score": 0, "creation_date": 1470249743, "post_id": 38751303, "comment_id": 64876516, "body": "But the code <i>does</i> seem to be creating and starting a new thread for each client that connects."}, {"owner": {"reputation": 37, "user_id": 6267393, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fcc1267b133644e7c2d17ffbdfbbece7?s=128&d=identicon&r=PG&f=1", "display_name": "alex", "link": "https://stackoverflow.com/users/6267393/alex"}, "reply_to_user": {"reputation": 67717, "user_id": 2541560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7H9TF.png?s=128&g=1", "display_name": "Kayaman", "link": "https://stackoverflow.com/users/2541560/kayaman"}, "edited": false, "score": 0, "creation_date": 1470249944, "post_id": 38751303, "comment_id": 64876636, "body": "ok but when i launch my code every client controls the same player instead of creating a new player , do you know where may i have made a mistake ?"}, {"owner": {"reputation": 67717, "user_id": 2541560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7H9TF.png?s=128&g=1", "display_name": "Kayaman", "link": "https://stackoverflow.com/users/2541560/kayaman"}, "edited": false, "score": 0, "creation_date": 1470250135, "post_id": 38751303, "comment_id": 64876749, "body": "I&#39;d observe the <code>ClientThread</code> class, since that should contain all the player specific information/functionality."}, {"owner": {"reputation": 1648, "user_id": 1337057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e7b1ca91af7a6c2b819160075c7f66?s=128&d=identicon&r=PG", "display_name": "btomw", "link": "https://stackoverflow.com/users/1337057/btomw"}, "edited": false, "score": 0, "creation_date": 1470250475, "post_id": 38751303, "comment_id": 64876924, "body": "I might be reading this wrong, but it looks like all inputs, regardless of which thread they come from, update the same &quot;playerPosition&quot; on the server object. You&#39;d need a separate playerPosition per thread - or at least per actual real world player/input device, but right now you&#39;ve got a single playerPosition per <i>server</i>. Again, that&#39;s just at a glance, so I could be wrong."}, {"owner": {"reputation": 37, "user_id": 6267393, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fcc1267b133644e7c2d17ffbdfbbece7?s=128&d=identicon&r=PG&f=1", "display_name": "alex", "link": "https://stackoverflow.com/users/6267393/alex"}, "reply_to_user": {"reputation": 1648, "user_id": 1337057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e7b1ca91af7a6c2b819160075c7f66?s=128&d=identicon&r=PG", "display_name": "btomw", "link": "https://stackoverflow.com/users/1337057/btomw"}, "edited": false, "score": 0, "creation_date": 1470315362, "post_id": 38751303, "comment_id": 64907013, "body": "Yes i believe you are right @btomw, i was trying to fix it but i am really struggling. Thanks anyways !"}, {"owner": {"reputation": 1648, "user_id": 1337057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e7b1ca91af7a6c2b819160075c7f66?s=128&d=identicon&r=PG", "display_name": "btomw", "link": "https://stackoverflow.com/users/1337057/btomw"}, "edited": false, "score": 0, "creation_date": 1470319317, "post_id": 38751303, "comment_id": 64910173, "body": "@alex It would take a lot of code to demonstrate how you could make this work currently. I&#39;d suggest leaving your network code the same and rethinking how your network code communicates with the game logic. You&#39;re not too far off, it&#39;s just going to take some work. Good luck!"}], "owner": {"reputation": 37, "user_id": 6267393, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fcc1267b133644e7c2d17ffbdfbbece7?s=128&d=identicon&r=PG&f=1", "display_name": "alex", "link": "https://stackoverflow.com/users/6267393/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 781, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1470249544, "creation_date": 1470249544, "question_id": 38751303, "link": "https://stackoverflow.com/questions/38751303/create-new-thread-for-every-client", "title": "create new thread for every client", "body": "<p>I have a piece of code that connects a client to my server. However, every time I connect a client to the server it controls the same player instead of creating a new player. I think it is because I am not creating a new thread for every new client. If someone could show me how to create a new thread for every client that joins using the code I have already written.  </p>\n\n<pre><code>import java.net.*;\nimport java.io.*;\n\npublic class Client extends PlayGame\n{\n   public static void main(String [] args)\n   {\n      //String serverName = args[0];\n      //int port = Integer.parseInt(args[1]);\n\n      String serverName = \"localhost\";\n      int port = 40004;\n\n      //while (true ) {\n          try\n          {\n             System.out.println(\"Connecting to \" + serverName + \" on port \" + port);\n             Socket client = new Socket(serverName, port);\n             System.out.println(\"Just connected to \" + client.getRemoteSocketAddress());\n\n             OutputStream outToServer = client.getOutputStream();\n             DataOutputStream out = new DataOutputStream(outToServer);\n             //out.writeUTF(\"Hello from \" + client.getLocalSocketAddress());\n\n\n             //DataInputStream in = new DataInputStream(inFromServer);\n             //System.out.println(\"Server says \" + in.readUTF());\n\n\n            PlayGame game = new PlayGame();\n            //System.out.println(\"Do you want to load a specitic map?\");\n            //System.out.println(\"Press enter for default map\");\n            //game.selectMap(game.readUserInput());\n            //System.out.println(\"You may now use MOVE, LOOK, QUIT and any other legal commands\");\n            String input = game.readUserInput();\n\n            while (input != \"quit\") {\n                out.writeUTF( input );\n\n                InputStream inFromServer = client.getInputStream();\n                DataInputStream in = new DataInputStream(inFromServer);\n\n                System.out.println(\"Server Response:\\n\" + in.readUTF());\n\n                input = game.readUserInput();\n            }\n            //game.update();\n\n\n             //client.close();\n\n          }catch(IOException e)\n          {\n             e.printStackTrace();\n          }\n      //}\n   }\n}      \n</code></pre>\n\n<hr>\n\n<h2> Server class and ClientThread subclass</h2>\n\n<pre><code>import java.net.*;\nimport java.util.Random;\nimport java.io.*;\n\npublic class Server implements IGameLogic\n{\n    private ServerSocket serverSocket;\n\n    private Map map = null;\n    private int[] playerPosition;\n    private int collectedGold;\n    private boolean active;\n\n    public Server(int port) throws IOException\n    {\n       serverSocket = new ServerSocket(port);\n       //serverSocket.setSoTimeout(10000);\n    }\n\n       public void startServer()\n       {\n          map = new Map();\n          setMap(new File(\"example_map.txt\"));\n          System.out.println(\"Game Started - Map Initialized\");\n\n          while(true)\n          {\n             try\n             {\n                System.out.println(\"Waiting for client on port \" + serverSocket.getLocalPort() + \"...\");\n\n                Socket server = serverSocket.accept();\n\n                ClientThread ct = new ClientThread(server, this );\n                ct.start();\n\n\n\n             }catch(SocketTimeoutException s)\n             {\n                System.out.println(\"Socket timed out!\");\n                break;\n             }catch(IOException e)\n             {\n                e.printStackTrace();\n                break;\n             }\n          }\n       }\n\n\n\n       public void setMap(File file) {\n            map.readMap(file);\n            playerPosition = initiatePlayer();\n            active = true;\n        }\n\n        /**\n         * Prints how much gold is still required to win!\n         */\n        public synchronized String hello() {\n            return \"GOLD: \" + (map.getWin() - collectedGold);\n        }\n\n        /**\n         * By proving a character direction from the set of {N,S,E,W} the gamelogic \n         * checks if this location can be visited by the player. \n         * If it is true, the player is moved to the new location.\n         * @return If the move was executed Success is returned. If the move could not execute Fail is returned.\n         */\n        public synchronized String move(char direction) {\n\n            int[] newPosition = playerPosition.clone();\n            switch (direction){\n            case 'N':\n                newPosition[0] -=1;\n                break;\n            case 'E':\n                newPosition[1] +=1;\n                break;\n            case 'S':\n                newPosition[0] +=1;\n                break;\n            case 'W':\n                newPosition[1] -=1;\n                break;\n            default:\n                break;\n            }\n\n            if(map.lookAtTile(newPosition[0], newPosition[1]) != '#'){\n                playerPosition = newPosition;\n\n                if (checkWin())\n                    quitGame();\n\n                return \"SUCCESS\";\n            } else {\n                return \"FAIL\";\n            }\n        }\n\n        public synchronized String pickup() {\n\n            if (map.lookAtTile(playerPosition[0], playerPosition[1]) == 'G') {\n                collectedGold++;\n                map.replaceTile(playerPosition[0], playerPosition[1], '.');\n                return \"SUCCESS, GOLD COINS: \" + collectedGold;\n            }\n\n            return \"FAIL\" + \"\\n\" + \"There is nothing to pick up...\";\n        }\n\n        /**\n         * The method shows the dungeon around the player location\n         */\n        public synchronized String look() {\n            String output = \"\";\n            char [][] lookReply = map.lookWindow(playerPosition[0], playerPosition[1], 5);\n            lookReply[2][2] = 'P';\n\n            for (int i=0;i&lt;lookReply.length;i++){\n                for (int j=0;j&lt;lookReply[0].length;j++){\n                    output += lookReply[j][i];\n                }\n                output += \"\\n\";\n            }\n            return output;\n        }\n\n        public boolean gameRunning(){\n            return active;\n        }   \n\n\n        /**\n         * Quits the game when called\n         */\n        public void quitGame() {\n            System.out.println(\"The game will now exit\");\n            active = false;\n        }\n\n        /**\n         * finds a random position for the player in the map.\n         * @return Return null; if no position is found or a position vector [y,x]\n         */\n        private int[] initiatePlayer() {\n            int[] pos = new int[2];\n            Random rand = new Random();\n\n            pos[0]=rand.nextInt(map.getMapHeight());\n            pos[1]=rand.nextInt(map.getMapWidth());\n            int counter = 1;\n            while (map.lookAtTile(pos[0], pos[1]) == '#' &amp;&amp; counter &lt; map.getMapHeight() * map.getMapWidth()) {\n                pos[1]= (int) ( counter * Math.cos(counter));\n                pos[0]=(int) ( counter * Math.sin(counter));\n                counter++;\n            }\n            return (map.lookAtTile(pos[0], pos[1]) == '#') ? null : pos;\n        }\n\n        /**\n         * checks if the player collected all GOLD and is on the exit tile\n         * @return True if all conditions are met, false otherwise\n         */\n        protected boolean checkWin() {\n            if (collectedGold &gt;= map.getWin() &amp;&amp; \n                    map.lookAtTile(playerPosition[0], playerPosition[1]) == 'E') {\n                System.out.println(\"Congratulations!!! \\n You have escaped the Dungeon of Dooom!!!!!! \\n\"\n                        + \"Thank you for playing!\");\n                return true;\n            }\n            return false;\n        }\n\n       public static void main(String [] args)\n       {\n          //int port = Integer.parseInt(args[0]);\n          int port = 40004;\n\n          try\n          {\n             //Thread t = new Server(port);\n             //t.start();\n\n             Server s = new Server(port);\n             s.startServer();\n\n          }catch(IOException e)\n          {\n             e.printStackTrace();\n          }\n       }\n}\n\nclass ClientThread extends Thread {\n\n    //private byte[] data = new byte[255];\n\n      //private Socket socket;\n      private Socket _socket;\n      private Server _server;\n\n      public ClientThread(Socket socket, Server s) {\n\n        // for (int i = 0; i &lt; data.length; i++)\n        // data[i] = (byte) i;\n        this._socket = socket;\n        this._server = s;\n      }\n\n      public void run() {\n         /* try {\n          OutputStream out = new BufferedOutputStream(socket.getOutputStream());\n          while (!socket.isClosed()) {\n            out.write(data);\n          }\n          socket.close();\n        } catch (Exception e) {\n        } */\n\n    try{\n          System.out.println(\"Just connected to \" + _socket.getRemoteSocketAddress());\n\n          while ( _server.gameRunning() ) {\n            DataInputStream in = new DataInputStream(_socket.getInputStream());\n            // System.out.println(in.readUTF());\n\n            String input = in.readUTF();\n            System.out.println(\"Received from client: \" + input );\n\n            DataOutputStream out = new DataOutputStream(_socket.getOutputStream());\n                //out.(\"Thank you for connecting to \" + server.getLocalSocketAddress() + \"\\nGoodbye!\");\n\n            if ( input.equals(\"LOOK\") ) {\n\n                //String output = look();\n                System.out.println(\"LOOK\" );\n                out.writeUTF( _server.look() );\n\n            } else if ( input.equals(\"HELLO\") ) {\n                System.out.println(\"HELLO\");\n                out.writeUTF( _server.hello() );\n\n            } else if ( input.equals(\"PICKUP\") ) {\n                System.out.println(\"PICKUP\");\n                out.writeUTF( _server.pickup() );\n\n            } else if ( input.equals(\"QUIT\") ) {\n                System.out.println(\"QUIT\");\n                _server.quitGame();\n                out.writeUTF( \"The game has completed\" );\n\n            } else if ( input.equals(\"MOVE N\") ) {\n                System.out.println(\"MOVE N\");\n                out.writeUTF( _server.move('N') );\n\n            } else if ( input.equals(\"MOVE E\") ) {\n                System.out.println(\"MOVE E\");\n                out.writeUTF( _server.move('E') );\n\n            } else if ( input.equals(\"MOVE S\") ) {\n                System.out.println(\"MOVE S\");\n                out.writeUTF( _server.move('S') );\n\n            } else if ( input.equals(\"MOVE W\") ) {\n                System.out.println(\"MOVE W\");\n                out.writeUTF( _server.move('W') );\n\n            } else {\n                out.writeUTF(\"Invalid Command\");\n            }\n\n          }\n    }catch(IOException e){\n\n        //ioex.printStackTrace();\n        e.printStackTrace();\n        //break;\n    }\n\n          //DataOutputStream out = new DataOutputStream(server.getOutputStream());\n          //out.writeUTF(\"Thank you for connecting to \" + server.getLocalSocketAddress() + \"\\nGoodbye!\");\n\n          //server.close();  \n      }\n\n\n}\n</code></pre>\n"}, {"tags": ["java", "csv", "apache-spark"], "comments": [{"owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "edited": false, "score": 0, "creation_date": 1470253844, "post_id": 38751298, "comment_id": 64878821, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/24299427/how-do-i-convert-csv-file-to-rdd\">How do I convert csv file to rdd</a>"}, {"owner": {"reputation": 2296, "user_id": 3818487, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/081427ab3a076411ca73248d3afbc286?s=128&d=identicon&r=PG&f=1", "display_name": "alexgbelov", "link": "https://stackoverflow.com/users/3818487/alexgbelov"}, "reply_to_user": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "edited": false, "score": 0, "creation_date": 1470258261, "post_id": 38751298, "comment_id": 64881004, "body": "Its not a duplicate, because I&#39;m looking for an answer in Java, not Scala."}], "answers": [{"tags": [], "owner": {"reputation": 5661, "user_id": 3924178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HEkLo.png?s=128&g=1", "display_name": "Jeronimo Backes", "link": "https://stackoverflow.com/users/3924178/jeronimo-backes"}, "is_accepted": false, "score": 0, "last_activity_date": 1470271909, "creation_date": 1470271909, "answer_id": 38755853, "question_id": 38751298, "link": "https://stackoverflow.com/questions/38751298/best-way-to-read-tsv-file-using-apache-spark-in-java/38755853#38755853", "title": "Best way to read TSV file using Apache Spark in java", "body": "<p>I'm the author of <a href=\"http://www.univocity.com/pages/parsers-tutorial\" rel=\"nofollow\">uniVocity-parsers</a> and can't help you much with spark, but I believe something like this can work for you:</p>\n\n<pre><code>parserSettings.setHeaderExtractionEnabled(true); //captures the header row\n\nparserSettings.setProcessor(new AbstractRowProcessor(){\n        @Override\n        public void rowProcessed(String[] row, ParsingContext context) {\n            String[] headers = context.headers() //not sure if you need them\n            JavaPairRDD&lt;String, MyObject&gt; myObjectRDD = javaSparkContext\n                    .mapToPair(row -&gt; new Tuple2&lt;&gt;(row[0], myObjectFromArray(row)));\n            //process your stuff.\n        }\n    });\n</code></pre>\n\n<p>If you want to paralellize the processing of each row, you can wrap a <code>ConcurrentRowProcessor</code>:</p>\n\n<pre><code>parserSettings.setProcessor(new ConcurrentRowProcessor(new AbstractRowProcessor(){\n        @Override\n        public void rowProcessed(String[] row, ParsingContext context) {\n            String[] headers = context.headers() //not sure if you need them\n            JavaPairRDD&lt;String, MyObject&gt; myObjectRDD = javaSparkContext\n                    .mapToPair(row -&gt; new Tuple2&lt;&gt;(row[0], myObjectFromArray(row)));\n            //process your stuff.\n        }\n    }, 1000)); //1000 rows loaded in memory.\n</code></pre>\n\n<p>Then just call to parse:</p>\n\n<pre><code>new TsvParser(parserSettings).parse(myFile);\n</code></pre>\n\n<p>Hope this helps!</p>\n"}, {"comments": [{"owner": {"reputation": 2296, "user_id": 3818487, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/081427ab3a076411ca73248d3afbc286?s=128&d=identicon&r=PG&f=1", "display_name": "alexgbelov", "link": "https://stackoverflow.com/users/3818487/alexgbelov"}, "edited": false, "score": 0, "creation_date": 1470698495, "post_id": 38770874, "comment_id": 65045422, "body": "Thank you. I looked into Databricks spark-csv, but I didn&#39;t like it since you&#39;d have to manually parse each row, which I&#39;m already doing anyway."}], "tags": [], "owner": {"reputation": 13236, "user_id": 4501804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6c07b0ce0c144d99ecc8424ef2ad0da?s=128&d=identicon&r=PG", "display_name": "abaghel", "link": "https://stackoverflow.com/users/4501804/abaghel"}, "is_accepted": false, "score": 1, "last_activity_date": 1470322723, "creation_date": 1470322723, "answer_id": 38770874, "question_id": 38751298, "link": "https://stackoverflow.com/questions/38751298/best-way-to-read-tsv-file-using-apache-spark-in-java/38770874#38770874", "title": "Best way to read TSV file using Apache Spark in java", "body": "<p>Try below code to read CSV file and create JavaPairRDD.</p>\n\n<pre><code>public class SparkCSVReader {\n\npublic static void main(String[] args) {\n\n    SparkConf conf = new SparkConf().setAppName(\"CSV Reader\");\n    JavaSparkContext sc = new JavaSparkContext(conf);\n    JavaRDD&lt;String&gt; allRows = sc.textFile(\"c:\\\\temp\\\\test.csv\");//read csv file\n    String header = allRows.first();//take out header\n    JavaRDD&lt;String&gt; filteredRows = allRows.filter(row -&gt; !row.equals(header));//filter header\n    JavaPairRDD&lt;String, MyCSVFile&gt; filteredRowsPairRDD = filteredRows.mapToPair(parseCSVFile);//create pair\n    filteredRowsPairRDD.foreach(data -&gt; {\n        System.out.println(data._1() + \" ### \" + data._2().toString());// print row and object\n    });\n    sc.stop();\n    sc.close();\n}\n\nprivate static PairFunction&lt;String, String, MyCSVFile&gt; parseCSVFile = (row) -&gt; {\n    String[] fields = row.split(\",\");\n    return new Tuple2&lt;String, MyCSVFile&gt;(row, new MyCSVFile(fields[0], fields[1], fields[2]));\n};\n\n}\n</code></pre>\n\n<p>You can also use Databricks spark-csv (<a href=\"https://github.com/databricks/spark-csv\" rel=\"nofollow\">https://github.com/databricks/spark-csv</a>). spark-csv is also included in Spark 2.0.0.</p>\n"}, {"comments": [{"owner": {"reputation": 2296, "user_id": 3818487, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/081427ab3a076411ca73248d3afbc286?s=128&d=identicon&r=PG&f=1", "display_name": "alexgbelov", "link": "https://stackoverflow.com/users/3818487/alexgbelov"}, "edited": false, "score": 0, "creation_date": 1470698324, "post_id": 38778255, "comment_id": 65045380, "body": "I looked into it, and I don&#39;t like that there&#39;s no simple way to convert a Dataframe to a JavaRDD of custom objects. You have to parse each row manually."}, {"owner": {"reputation": 134, "user_id": 2309066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c93fa442ff5a9f82b4d50c712a58e6c3?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/2309066/mark"}, "reply_to_user": {"reputation": 2296, "user_id": 3818487, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/081427ab3a076411ca73248d3afbc286?s=128&d=identicon&r=PG&f=1", "display_name": "alexgbelov", "link": "https://stackoverflow.com/users/3818487/alexgbelov"}, "edited": false, "score": 0, "creation_date": 1471272567, "post_id": 38778255, "comment_id": 65268910, "body": "I&#39;m curious why you would want an RDD over a dataframe in the instance of unique objects requirement. @alexgbelov"}, {"owner": {"reputation": 2296, "user_id": 3818487, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/081427ab3a076411ca73248d3afbc286?s=128&d=identicon&r=PG&f=1", "display_name": "alexgbelov", "link": "https://stackoverflow.com/users/3818487/alexgbelov"}, "edited": false, "score": 0, "creation_date": 1471281595, "post_id": 38778255, "comment_id": 65273915, "body": "The rest of my logic uses RDD&#39;s; I just needed a way to read in the data as cleanly as possible."}, {"owner": {"reputation": 3833, "user_id": 5250620, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/viaIW.jpg?s=128&g=1", "display_name": "Haha TTpro", "link": "https://stackoverflow.com/users/5250620/haha-ttpro"}, "edited": false, "score": 0, "creation_date": 1510024460, "post_id": 38778255, "comment_id": 81248637, "body": "spark 2x implement the function. You don&#39;t need spark-csv anymore"}], "tags": [], "owner": {"reputation": 134, "user_id": 2309066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c93fa442ff5a9f82b4d50c712a58e6c3?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/2309066/mark"}, "is_accepted": true, "score": 3, "last_activity_date": 1470348875, "creation_date": 1470348875, "answer_id": 38778255, "question_id": 38751298, "link": "https://stackoverflow.com/questions/38751298/best-way-to-read-tsv-file-using-apache-spark-in-java/38778255#38778255", "title": "Best way to read TSV file using Apache Spark in java", "body": "<p>use <a href=\"https://github.com/databricks/spark-csv\" rel=\"nofollow\">https://github.com/databricks/spark-csv</a></p>\n\n<pre><code>import org.apache.spark.sql.SQLContext\n\nSQLContext sqlContext = new SQLContext(sc);\nDataFrame df = sqlContext.read()\n    .format(\"com.databricks.spark.csv\")\n    .option(\"inferSchema\", \"true\")\n    .option(\"header\", \"true\")\n    .option(\"delimiter\",\"\\t\")\n    .load(\"cars.csv\");\n\ndf.select(\"year\", \"model\").write()\n    .format(\"com.databricks.spark.csv\")\n    .option(\"header\", \"true\")\n    .save(\"newcars.csv\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3833, "user_id": 5250620, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/viaIW.jpg?s=128&g=1", "display_name": "Haha TTpro", "link": "https://stackoverflow.com/users/5250620/haha-ttpro"}, "is_accepted": false, "score": 1, "last_activity_date": 1510030259, "creation_date": 1510030259, "answer_id": 47150207, "question_id": 38751298, "link": "https://stackoverflow.com/questions/38751298/best-way-to-read-tsv-file-using-apache-spark-in-java/47150207#47150207", "title": "Best way to read TSV file using Apache Spark in java", "body": "<p>Apache Spark 2.x have built-in csv reader so you don't have to use  <a href=\"https://github.com/databricks/spark-csv\" rel=\"nofollow noreferrer\">https://github.com/databricks/spark-csv</a></p>\n\n<pre><code>import org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.SparkSession;\n\n/**\n *\n * @author cpu11453local\n */\npublic class Main {\n    public static void main(String[] args) {\n\n\n        SparkSession spark = SparkSession.builder()\n                .master(\"local\")\n                .appName(\"meowingful\")\n                .getOrCreate();\n\n        Dataset&lt;Row&gt; df = spark.read()\n                    .option(\"header\", \"true\")\n                    .option(\"delimiter\",\"\\t\")\n                    .csv(\"hdfs://127.0.0.1:9000/data/meow_data.csv\");\n\n        df.show();\n    }\n}\n</code></pre>\n\n<p>And maven file <code>pom.xml</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.meow.meowingful&lt;/groupId&gt;\n    &lt;artifactId&gt;meowingful&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-core_2.11 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}], "owner": {"reputation": 2296, "user_id": 3818487, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/081427ab3a076411ca73248d3afbc286?s=128&d=identicon&r=PG&f=1", "display_name": "alexgbelov", "link": "https://stackoverflow.com/users/3818487/alexgbelov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6100, "favorite_count": 1, "accepted_answer_id": 38778255, "answer_count": 4, "score": 2, "last_activity_date": 1510030259, "creation_date": 1470249525, "last_edit_date": 1495535479, "question_id": 38751298, "link": "https://stackoverflow.com/questions/38751298/best-way-to-read-tsv-file-using-apache-spark-in-java", "title": "Best way to read TSV file using Apache Spark in java", "body": "<p>I have a TSV file, where the first line is the header. I want to create a JavaPairRDD from this file. Currently, I'm doing so with the following code:</p>\n\n<pre><code>TsvParser tsvParser = new TsvParser(new TsvParserSettings());\nList&lt;String[]&gt; allRows;\nList&lt;String&gt; headerRow;\ntry (BufferedReader reader = new BufferedReader(new FileReader(myFile))) {\n        allRows = tsvParser.parseAll((reader));\n        //Removes the header row\n        headerRow = Arrays.asList(allRows.remove(0));\n    }\nJavaPairRDD&lt;String, MyObject&gt; myObjectRDD = javaSparkContext\n            .parallelize(allRows)\n            .mapToPair(row -&gt; new Tuple2&lt;&gt;(row[0], myObjectFromArray(row)));\n</code></pre>\n\n<p>I was wondering if there was a way to have the javaSparkContext read and process the file directly instead of splitting the operation into two parts.</p>\n\n<p>EDIT: This is not a duplicate of <a href=\"https://stackoverflow.com/questions/24299427/how-do-i-convert-csv-file-to-rdd\">How do I convert csv file to rdd</a>, because I'm looking for an answer in Java, not Scala.</p>\n"}, {"tags": ["java", "sql-server", "eclipse", "maven", "jdbc"], "answers": [{"comments": [{"owner": {"reputation": 411, "user_id": 4691343, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/82436a10fd2462bbf8918b594c511a75?s=128&d=identicon&r=PG&f=1", "display_name": "arsarc", "link": "https://stackoverflow.com/users/4691343/arsarc"}, "edited": false, "score": 0, "creation_date": 1470251349, "post_id": 38751543, "comment_id": 64877400, "body": "I tried to do as you said, Right Click &gt; Maven &gt; Update project. Then when I run the project, I still get class not found error."}, {"owner": {"reputation": 15197, "user_id": 1475228, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TgQ5O.png?s=128&g=1", "display_name": "Pritam Banerjee", "link": "https://stackoverflow.com/users/1475228/pritam-banerjee"}, "reply_to_user": {"reputation": 411, "user_id": 4691343, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/82436a10fd2462bbf8918b594c511a75?s=128&d=identicon&r=PG&f=1", "display_name": "arsarc", "link": "https://stackoverflow.com/users/4691343/arsarc"}, "edited": false, "score": 0, "creation_date": 1470251391, "post_id": 38751543, "comment_id": 64877421, "body": "@arsarc Did you add the jar to your build path?"}, {"owner": {"reputation": 411, "user_id": 4691343, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/82436a10fd2462bbf8918b594c511a75?s=128&d=identicon&r=PG&f=1", "display_name": "arsarc", "link": "https://stackoverflow.com/users/4691343/arsarc"}, "edited": false, "score": 0, "creation_date": 1470251758, "post_id": 38751543, "comment_id": 64877620, "body": "Yes, Libraries &gt; Maven Dependencies &gt; Build Path &gt; Configure Build Path &gt; Add External Jars and added sqljdbc4.jar and sqljdbc.jar. There is an error though, I&#39;ll update the question with it."}, {"owner": {"reputation": 15197, "user_id": 1475228, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TgQ5O.png?s=128&g=1", "display_name": "Pritam Banerjee", "link": "https://stackoverflow.com/users/1475228/pritam-banerjee"}, "reply_to_user": {"reputation": 411, "user_id": 4691343, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/82436a10fd2462bbf8918b594c511a75?s=128&d=identicon&r=PG&f=1", "display_name": "arsarc", "link": "https://stackoverflow.com/users/4691343/arsarc"}, "edited": false, "score": 0, "creation_date": 1470251923, "post_id": 38751543, "comment_id": 64877720, "body": "@arsarc Check this: <a href=\"http://stackoverflow.com/questions/19537396/missing-artifact-com-microsoft-sqlserversqljdbc4jar4-0/30111956#30111956\" title=\"missing artifact com microsoft sqlserversqljdbc4jar4 0\">stackoverflow.com/questions/19537396/&hellip;</a>"}, {"owner": {"reputation": 15197, "user_id": 1475228, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TgQ5O.png?s=128&g=1", "display_name": "Pritam Banerjee", "link": "https://stackoverflow.com/users/1475228/pritam-banerjee"}, "reply_to_user": {"reputation": 411, "user_id": 4691343, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/82436a10fd2462bbf8918b594c511a75?s=128&d=identicon&r=PG&f=1", "display_name": "arsarc", "link": "https://stackoverflow.com/users/4691343/arsarc"}, "edited": false, "score": 0, "creation_date": 1470251936, "post_id": 38751543, "comment_id": 64877733, "body": "@arsarc worked for me"}, {"owner": {"reputation": 411, "user_id": 4691343, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/82436a10fd2462bbf8918b594c511a75?s=128&d=identicon&r=PG&f=1", "display_name": "arsarc", "link": "https://stackoverflow.com/users/4691343/arsarc"}, "edited": false, "score": 1, "creation_date": 1470254538, "post_id": 38751543, "comment_id": 64879170, "body": "I used the jtds that it recommended. Thank you."}], "tags": [], "owner": {"reputation": 15197, "user_id": 1475228, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TgQ5O.png?s=128&g=1", "display_name": "Pritam Banerjee", "link": "https://stackoverflow.com/users/1475228/pritam-banerjee"}, "is_accepted": true, "score": 1, "last_activity_date": 1470254656, "last_edit_date": 1495542787, "creation_date": 1470250402, "answer_id": 38751543, "question_id": 38751291, "link": "https://stackoverflow.com/questions/38751291/installing-ms-sql-driver-into-eclipse-maven/38751543#38751543", "title": "Installing MS SQL driver into Eclipse Maven", "body": "<p>You will need to download the source code and the java docs for all the maven dependencies. You can do that by right clicking the maven as discussed here:\n<a href=\"https://stackoverflow.com/a/22352526/1475228\">https://stackoverflow.com/a/22352526/1475228</a></p>\n\n<p>Then only you can run the code.</p>\n\n<p>Also look <a href=\"https://stackoverflow.com/a/30111956/1475228\">here</a>. This is the one that helped mine.</p>\n"}], "owner": {"reputation": 411, "user_id": 4691343, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/82436a10fd2462bbf8918b594c511a75?s=128&d=identicon&r=PG&f=1", "display_name": "arsarc", "link": "https://stackoverflow.com/users/4691343/arsarc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3429, "favorite_count": 0, "closed_date": 1470296758, "accepted_answer_id": 38751543, "answer_count": 1, "score": 2, "last_activity_date": 1470317346, "creation_date": 1470249498, "last_edit_date": 1495542787, "question_id": 38751291, "link": "https://stackoverflow.com/questions/38751291/installing-ms-sql-driver-into-eclipse-maven", "closed_reason": "Duplicate", "title": "Installing MS SQL driver into Eclipse Maven", "body": "<p>How do I install MSSQL driver in my project with Eclipse's maven? (m2e)? And also make it not conflict with Vaadin? When I install the MSSQL driver locally <a href=\"https://stackoverflow.com/a/32760177/4691343\">following these instructions</a>, during the compile and runtime, it says \"Could not find archetype from Vaadin-addons.\"</p>\n\n<p>I have the code:</p>\n\n<pre><code>                Connection con = null;\n                Statement stmt = null;\n                ResultSet rs = null;\n                try {\n                     Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");  \n                    con = DriverManager.getConnection(\"jdbc:sqlserver://server;databaseName=dbname;user=username;password=password\");\n                    String sql = \"Select * from Table1\";\n                    stmt = con.createStatement( );\n                    rs = stmt.executeQuery(sql);\n\n                    while (rs.next()){\n                        contractorsList.addBean(new Contractor(rs.getString(1), \n                                rs.getString(2), \n                                rs.getString(3), \n                                rs.getString(4), \n                                rs.getString(5), \n                                rs.getString(6))); \n                    }\n\n                } catch (SQLException | ClassNotFoundException e) {\n                    e.printStackTrace();\n                }finally{\n                    try { con.close();  } catch (SQLException e) {}\n                    try { rs.close();   } catch (SQLException e) {}\n                    try { stmt.close(); } catch (SQLException e) {}\n</code></pre>\n\n<p>I'm getting the following error:</p>\n\n<pre><code>java.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDriver\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\n    at org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:450)\n    at org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:403)\n    at java.lang.Class.forName0(Native Method)\n</code></pre>\n\n<p>Which means that it can't find my driver, I think. So I'm following <a href=\"http://techmajik.com/2014/04/24/how-to-setup-maven-dependency-for-microsoft-sql-server/\" rel=\"nofollow noreferrer\">this tutorial</a> on installing the MS SQL driver. <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=11774\" rel=\"nofollow noreferrer\">I download the driver from microsoft</a> and then I unzip it here:</p>\n\n<pre><code>C:\\SQLDriver\n</code></pre>\n\n<p>In Eclipse, on my project folder, I right click > Debug As > Debug Configurations > </p>\n\n<pre><code>mvn install:install-file -Dfile=C:\\SQLDriver\\sqljdbc_4.0\\enu\\sqljdbc4.jar -DgroupId=com.microsoft.sqlserver -DartifactId=sqljdbc4 -Dversion=4.0.2206.100 -Dpackaging=jar\n</code></pre>\n\n<p>Then I add in the following in my POM</p>\n\n<pre><code>&lt;properties&gt;\n&lt;!\u2013\u2026.other versions\u2013&gt;\n&lt;sqlserver.version&gt;4.0.2206.100&lt;/sqlserver.version&gt;\n&lt;/properties&gt;\n...\n&lt;dependency&gt;\n&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n&lt;artifactId&gt;sqljdbc4&lt;/artifactId&gt;\n&lt;version&gt;${sqlserver.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I get an error that it can't find my dependency, So I look up the question here, and I found out that I simply need to add sqljdbc4 to my classpath.</p>\n\n<p>I have no idea what that means but <a href=\"https://blogs.msdn.microsoft.com/brian_swan/2011/03/02/getting-started-with-the-sql-server-jdbc-driver/\" rel=\"nofollow noreferrer\">google took me here</a> So I attempt to follow the instructions.</p>\n\n<p>In System Properties > Advanced > Environment Variable under Variables, I add the following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/72hjN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/72hjN.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I searched here and it looks like someone else asked the <a href=\"https://stackoverflow.com/questions/18200823/installing-and-using-ms-sql-jdbc-driver\">same question</a></p>\n\n<p>I honestly don't know what people mean by add it to the classpath. Do they mean paste the jars in the same folder as the project? Either way, I just found a .classpath file in my project and added these:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mdhlo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mdhlo.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>How do I get maven to use this microsoft sql driver?</p>\n\n<p><strong>[Edit]</strong> When going to Libraries > Maven Dependencies, right click > build path > configure build path, I see this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wbV5T.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wbV5T.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Which, when I click, it doesn't let me edit the path of that file. I'm not sure where to edit it.</p>\n"}, {"tags": ["java", "collections", "nullpointerexception"], "comments": [{"owner": {"reputation": 3715, "user_id": 1241334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fCjAE.jpg?s=128&g=1", "display_name": "Jonny Henly", "link": "https://stackoverflow.com/users/1241334/jonny-henly"}, "edited": false, "score": 3, "creation_date": 1470249570, "post_id": 38751255, "comment_id": 64876405, "body": "The <code>Pangrams</code> constructor is never called, thus <code>letterCount</code> is never instantiated."}, {"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 1, "creation_date": 1470249603, "post_id": 38751255, "comment_id": 64876429, "body": "Side note: you only make your <b>core</b> methods public; those that you you want to be called from the outside. But well, now that most of your methods are public: consider writing tests for them, too. You see, if your &quot;whole&quot; logic is so complicated that even your tests don&#39;t help you figuring bugs ... then test smaller units (like your other methods) and see how well they work. The other thing: you are mixing static and non-static stuff. Avoid doing that. You rarely want a static field to be manipulated by non-static methods!"}, {"owner": {"reputation": 249, "user_id": 2535809, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/05a80745da057cd68cbaa7be493736aa?s=128&d=identicon&r=PG", "display_name": "Gowrav", "link": "https://stackoverflow.com/users/2535809/gowrav"}, "reply_to_user": {"reputation": 3715, "user_id": 1241334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fCjAE.jpg?s=128&g=1", "display_name": "Jonny Henly", "link": "https://stackoverflow.com/users/1241334/jonny-henly"}, "edited": false, "score": 1, "creation_date": 1470249620, "post_id": 38751255, "comment_id": 64876444, "body": "Pangrams.isPangram you are calling it as static , so @JonnyHenly said the TreeMap&lt;Character, Integer&gt; letterCount is not instantiated"}, {"owner": {"reputation": 275558, "user_id": 522444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16b6783e9b99b1199c75761eaf5c0685?s=128&d=identicon&r=PG", "display_name": "Hovercraft Full Of Eels", "link": "https://stackoverflow.com/users/522444/hovercraft-full-of-eels"}, "edited": false, "score": 2, "creation_date": 1470249772, "post_id": 38751255, "comment_id": 64876531, "body": "More importantly, you&#39;re ignoring all the previous similar NPE posts, the ones that show you how to debug this sort of thing yourself. The heuristic for NullPointerExceptions is almost always the same: You should critically read your exception&#39;s stacktrace to find the line of code at fault, the line that throws the exception, and then inspect that line carefully, find out which variable is null, and then trace back into your code to see why. You will run into these again and again, trust me."}, {"owner": {"reputation": 275558, "user_id": 522444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16b6783e9b99b1199c75761eaf5c0685?s=128&d=identicon&r=PG", "display_name": "Hovercraft Full Of Eels", "link": "https://stackoverflow.com/users/522444/hovercraft-full-of-eels"}, "edited": false, "score": 0, "creation_date": 1470249840, "post_id": 38751255, "comment_id": 64876572, "body": "You don&#39;t even indicate to us which line is the one that is failing. If you had read the previous canonical questions/answers you&#39;d have known to at least post this with your question."}, {"owner": {"reputation": 13, "user_id": 2789548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df9e4dbc99aa6ec1c92d52339d195d54?s=128&d=identicon&r=PG&f=1", "display_name": "Piara Sandhu", "link": "https://stackoverflow.com/users/2789548/piara-sandhu"}, "edited": false, "score": 0, "creation_date": 1470251417, "post_id": 38751255, "comment_id": 64877437, "body": "Right on, thanks for the help guys.  I was able to get the tests to pass."}], "answers": [{"comments": [{"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1470251511, "post_id": 38751387, "comment_id": 64877488, "body": "Superbad: just a truck load of code, and no explanations at all. Seriously: thats <b>bad</b>."}, {"owner": {"reputation": 249, "user_id": 2535809, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/05a80745da057cd68cbaa7be493736aa?s=128&d=identicon&r=PG", "display_name": "Gowrav", "link": "https://stackoverflow.com/users/2535809/gowrav"}, "reply_to_user": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1470251617, "post_id": 38751387, "comment_id": 64877546, "body": "@GhostCat i explained myself in the comments sections, I thought the user  understood by now. I explained what is wrong and the way of using static doesnt instantiate the constructor and I gave the fixed code here in the aswers section"}, {"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1470252049, "post_id": 38751387, "comment_id": 64877806, "body": "Answers always stand for themselves. You <b>never</b> expect people to first read all the comments to then figure how your answer relates to that. So: take the content of your comments; and put them into the answer; then delete the comments. It is as easy as that."}, {"owner": {"reputation": 249, "user_id": 2535809, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/05a80745da057cd68cbaa7be493736aa?s=128&d=identicon&r=PG", "display_name": "Gowrav", "link": "https://stackoverflow.com/users/2535809/gowrav"}, "reply_to_user": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1470252179, "post_id": 38751387, "comment_id": 64877886, "body": "@GhostCat : true, learnt my mistake. thanks for pointing it out"}], "tags": [], "owner": {"reputation": 249, "user_id": 2535809, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/05a80745da057cd68cbaa7be493736aa?s=128&d=identicon&r=PG", "display_name": "Gowrav", "link": "https://stackoverflow.com/users/2535809/gowrav"}, "is_accepted": false, "score": -1, "last_activity_date": 1470252131, "last_edit_date": 1470252131, "creation_date": 1470249837, "answer_id": 38751387, "question_id": 38751255, "link": "https://stackoverflow.com/questions/38751255/cant-figure-out-nullpointerexception-when-i-run-my-tests/38751387#38751387", "title": "Can&#39;t figure out NullPointerException when I run my tests", "body": "<p>Ok maybe I didnt explain myself clearly on this answer.\nThe thing you were doing wrong was calling a static method on your class.\nCalling static methods doesn't instantiate your constructor, thats where you were initializing your map.</p>\n\n<p>So the NULL pointer exception was throwing because you were accessing a map which had never been instantiated at all.</p>\n\n<p>Looking further I dont think you need your map to be static in this context, so my code below holds the map in the object's state and refactored your test case to use the object state to call you methods, since your methods are no longer static and they are tied to your object state.</p>\n\n<p>import java.util.Map;\n    import java.util.TreeMap;</p>\n\n<pre><code>public class Pangrams\n{\n    private final TreeMap&lt;Character, Integer&gt; letterCount;\n\n    public static void main(String[] args)\n    {\n        Pangrams pan = new Pangrams();\n        System.out.println(pan.isPangram(\"the quick brown fox jumps over the lazy dog\"));\n        pan.getLetterCount();\n    }\n\n    public Pangrams()\n    {\n        letterCount = new TreeMap&lt;Character, Integer&gt;();\n        populateMap();\n    }\n\n    public boolean isPangram(String text)\n    {\n\n        if(text.length() &lt; 26)\n        {\n            return false;\n        }\n\n        addToMap(text);\n\n        for(Map.Entry&lt;Character, Integer&gt; entry : letterCount.entrySet())\n        {\n            System.out.println(entry.getKey() + \": \" + entry.getValue());\n            if(!(entry.getValue() &gt;= 1))\n            {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    public void populateMap()\n    {\n        for(char x = 'a'; x &lt;= 'z'; x++)\n        {\n            letterCount.put(Character.valueOf(x), 0);\n        }\n    }\n\n    public void addToMap(String text)\n    {\n        char[] textArray = text.toLowerCase().replace(\" \", \"\").toCharArray();\n        // System.out.println(textArray.length);\n\n        for(char letter : textArray)\n        {\n            if(letterCount.containsKey(letter))\n            {\n                int count = letterCount.get(letter);\n\n                letterCount.put(letter, ++count);\n                System.out.println(letterCount.get(letter));\n            }\n            else if(!Character.isWhitespace(letter))\n            {\n                letterCount.put(letter, 1);\n            }\n        }\n    }\n\n    public void getLetterCount()\n    {\n        for(Map.Entry&lt;Character, Integer&gt; entry : letterCount.entrySet())\n        {\n            System.out.println(entry.getKey() + \": \" + entry.getValue());\n        }\n    }\n}\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>import static org.junit.Assert.assertFalse;\nimport static org.junit.Assert.assertTrue;\n\nimport org.junit.Test;\n\npublic class PangramTest\n{\n    Pangrams pan = new Pangrams();\n\n    @Test\n    public void emptySentence()\n    {\n        assertFalse(pan.isPangram(\"\"));\n    }\n\n    @Test\n    public void testLowercasePangram()\n    {\n        assertTrue(pan.isPangram(\"the quick brown fox jumps over the lazy dog\"));\n    }\n\n    @Test\n    public void missingCharacterX()\n    {\n        assertFalse(pan.isPangram(\"a quick movement of the enemy will jeopardize five gunboats\"));\n    }\n\n    @Test\n    public void mixedCaseAndPunctuation()\n    {\n        assertTrue(pan.isPangram(\"\\\"Five quacking Zephyrs jolt my wax bed.\\\"\"));\n    }\n\n    @Test\n    public void nonAsciiCharacters()\n    {\n        assertTrue(pan.isPangram(\"Victor jagt zw\u00f6lf Boxk\u00e4mpfer quer \u00fcber den gro\u00dfen Sylter Deich.\"));\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 2789548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df9e4dbc99aa6ec1c92d52339d195d54?s=128&d=identicon&r=PG&f=1", "display_name": "Piara Sandhu", "link": "https://stackoverflow.com/users/2789548/piara-sandhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1133, "favorite_count": 0, "closed_date": 1470249641, "answer_count": 1, "score": -2, "last_activity_date": 1470252131, "creation_date": 1470249365, "question_id": 38751255, "link": "https://stackoverflow.com/questions/38751255/cant-figure-out-nullpointerexception-when-i-run-my-tests", "closed_reason": "Duplicate", "title": "Can&#39;t figure out NullPointerException when I run my tests", "body": "<p>I keep getting a null pointer exception and I can't seem to figure out why.  I'm running some tests and that is when I get the null pointer exception, however, when I run it from Pangrams main(), I get no problems whatsoever.  I've included the code, tests and stack trace below.  Any help would be greatly appreciated and thanks in advance!</p>\n\n<pre><code>import java.util.Map;\nimport java.util.TreeMap;\n\npublic class Pangrams {\n    private static TreeMap&lt;Character, Integer&gt; letterCount;\n\n    public static void main(String[] args) {\n        Pangrams pan = new Pangrams();\n        System.out.println(pan.isPangram(\"the quick brown fox jumps over the lazy dog\"));\n        pan.getLetterCount();\n    }\n\n    public Pangrams() {\n        letterCount = new TreeMap&lt;&gt;();\n        populateMap();\n    }\n\n    public static boolean isPangram(String text) {\n\n        if(text.length() &lt; 26) return false;\n\n        addToMap(text);\n\n        for(Map.Entry&lt;Character, Integer&gt; entry : letterCount.entrySet()) {\n            System.out.println(entry.getKey() + \": \" + entry.getValue());\n            if(!(entry.getValue() &gt;= 1)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    public static void populateMap() {\n        for(char x = 'a'; x &lt;= 'z'; x++) {\n            letterCount.put(Character.valueOf(x), 0);\n        }\n    }\n\n    public static void addToMap(String text) {\n        char[] textArray = text.toLowerCase().replace(\" \", \"\").toCharArray();\n        // System.out.println(textArray.length);\n\n        for(char letter : textArray) {\n            if(letterCount.containsKey(letter)) {\n                int count = letterCount.get(letter);\n\n                letterCount.put(letter, ++count);\n                System.out.println(letterCount.get(letter));\n            }\n            else if(!Character.isWhitespace(letter)) {\n                letterCount.put(letter, 1);\n            }\n        }\n    }\n\n    public static void getLetterCount() {\n        for(Map.Entry&lt;Character, Integer&gt; entry : letterCount.entrySet()) {\n            System.out.println(entry.getKey() + \": \" + entry.getValue());\n        }\n    }\n}\n</code></pre>\n\n<p>Here are the tests:</p>\n\n<pre><code>import org.junit.Test;\n\nimport static org.junit.Assert.assertTrue;\nimport static org.junit.Assert.assertFalse;\n\npublic class PangramTest {\n\n    @Test\n    public void emptySentence() {\n        assertFalse(Pangrams.isPangram(\"\"));\n    }\n\n    @Test\n    public void testLowercasePangram() {\n        assertTrue(Pangrams.isPangram(\"the quick brown fox jumps over the lazy dog\"));\n    }\n\n    @Test\n    public void missingCharacterX() {\n        assertFalse(Pangrams.isPangram(\"a quick movement of the enemy will jeopardize five gunboats\"));\n    }\n\n    @Test\n    public void mixedCaseAndPunctuation() {\n        assertTrue(Pangrams.isPangram(\"\\\"Five quacking Zephyrs jolt my wax bed.\\\"\"));\n    }\n\n    @Test\n    public void nonAsciiCharacters() {\n        assertTrue(Pangrams.isPangram(\"Victor jagt zw\u00f6lf Boxk\u00e4mpfer quer \u00fcber den gro\u00dfen Sylter Deich.\"));\n    }\n\n}\n</code></pre>\n\n<p>Here is the full stack trace:</p>\n\n<pre><code>java.lang.NullPointerException\n    at Pangrams.addToMap(Pangrams.java:47)\n    at Pangrams.isPangram(Pangrams.java:24)\n    at PangramTest.testLowercasePangram(PangramTest.java:15)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:157)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:117)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:253)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:84)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\n</code></pre>\n"}, {"tags": ["java", "vaadin"], "answers": [{"tags": [], "owner": {"reputation": 14138, "user_id": 474287, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c573bb99af70871f3ce97507d564f49f?s=128&d=identicon&r=PG", "display_name": "Morfic", "link": "https://stackoverflow.com/users/474287/morfic"}, "is_accepted": true, "score": 3, "last_activity_date": 1470265662, "last_edit_date": 1470265662, "creation_date": 1470257051, "answer_id": 38753276, "question_id": 38751249, "link": "https://stackoverflow.com/questions/38751249/vaadin-grid-setcolumn-set-member-objects-field-as-a-column/38753276#38753276", "title": "Vaadin Grid setColumn() - set member object&#39;s field as a column", "body": "<p>You did not show the code related to the grid, however you can see below at least 2 ways of doing it (please note that for convenience I've created some constructors for your objects):</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>public class MyUi extends UI {\n    @Override\n    protected void init(VaadinRequest request) {\n        // basic stuff\n        Layout content = new VerticalLayout();\n        content.setSizeFull();\n        setContent(content);\n\n        // container &amp; grid\n        BeanItemContainer&lt;Address&gt; container = new BeanItemContainer&lt;&gt;(Address.class);\n        Grid grid = new Grid(container);\n\n        // 1) either manually add nested properties and hide the actual inner bean\n        container.addNestedContainerProperty(\"city.name\");\n        grid.getColumn(\"city.name\").setHeaderCaption(\"City\");\n        grid.setColumns(\"street\", \"city.name\"); // hide bean column\n\n        // 2) or make the container create nested properties for your inner beans\n        container.addNestedContainerBean(\"city\");\n        grid.getColumn(\"city.name\").setHeaderCaption(\"City\");\n\n        // create some dummy data to populate the grid\n        City city = new City(\"There\");\n        Address address = new Address(city, \"Here\");\n        container.addItem(address);\n        content.addComponent(grid);\n    }\n}\n</code></pre>\n\n<p><strong>Result:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/RByKT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RByKT.png\" alt=\"Sample\"></a></p>\n"}], "owner": {"reputation": 785, "user_id": 2486322, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/24b521994a65cd7a6b7c473b9d6a0c9d?s=128&d=identicon&r=PG", "display_name": "user2486322", "link": "https://stackoverflow.com/users/2486322/user2486322"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1263, "favorite_count": 1, "accepted_answer_id": 38753276, "answer_count": 1, "score": 2, "last_activity_date": 1509688007, "creation_date": 1470249343, "last_edit_date": 1509688007, "question_id": 38751249, "link": "https://stackoverflow.com/questions/38751249/vaadin-grid-setcolumn-set-member-objects-field-as-a-column", "title": "Vaadin Grid setColumn() - set member object&#39;s field as a column", "body": "<p>Assume I have the below scenario:</p>\n\n<p>There are two entities:</p>\n\n<pre><code>public class Address {\n\n  private City city;\n  private String street;\n\n  public String getStreet() {\n    return street;\n  }\n\n  public void setStreet(String street) {\n    this.street = street;\n  }\n\n  public City getCity() {\n    return city;\n  }\n\n  public void setCity(City city) {\n    this.city = city;\n  }\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>public class City {\n\n  private String name;\n\n  public String getName() {\n    return name;\n  }\n\n  public void setName(String name) {\n    this.name = name;\n  }\n}\n</code></pre>\n\n<p>I want to show street and city name on a grid component using BeanItemContainer, how should I specify the column names?</p>\n\n<p>P tried using \"street\" and \"city.name\", but it throws an exception.</p>\n\n<pre><code>java.lang.IllegalStateException: Found at least one column in Grid that does not exist in the given container: city.name with the header \"Name\". Call removeAllColumns() before setContainerDataSource() if you want to reconfigure the columns based on the new container.\n</code></pre>\n"}, {"tags": ["java", "arraylist", "hashmap", "word-count"], "comments": [{"owner": {"reputation": 67717, "user_id": 2541560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7H9TF.png?s=128&g=1", "display_name": "Kayaman", "link": "https://stackoverflow.com/users/2541560/kayaman"}, "edited": false, "score": 1, "creation_date": 1470249130, "post_id": 38751130, "comment_id": 64876126, "body": "We help those who help themselves. You haven&#39;t even tried."}, {"owner": {"reputation": 4154, "user_id": 4793951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c65ebead1a38a05c7e5ee6db03ba703?s=128&d=identicon&r=PG&f=1", "display_name": "Zircon", "link": "https://stackoverflow.com/users/4793951/zircon"}, "edited": false, "score": 0, "creation_date": 1470249139, "post_id": 38751130, "comment_id": 64876132, "body": "Have you tried anything yourself yet?"}, {"owner": {"reputation": 1922, "user_id": 4164025, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/RXAth.jpg?s=128&g=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/4164025/arun"}, "edited": false, "score": 0, "creation_date": 1470249153, "post_id": 38751130, "comment_id": 64876138, "body": "If you have any code you tried please post here."}, {"owner": {"reputation": 53, "user_id": 6161556, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5adad853a62a4d5980b9f145ac4d37c?s=128&d=identicon&r=PG&f=1", "display_name": "Newbie2015Giant", "link": "https://stackoverflow.com/users/6161556/newbie2015giant"}, "edited": false, "score": 0, "creation_date": 1470249608, "post_id": 38751130, "comment_id": 64876433, "body": "Sorry I added what I tried, hopefully it makes sense what i&#39;m looking to do. I&#39;m relatively new to programming."}, {"owner": {"reputation": 14204, "user_id": 4723795, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/980705688614873/picture?type=large", "display_name": "xenteros", "link": "https://stackoverflow.com/users/4723795/xenteros"}, "edited": false, "score": 0, "creation_date": 1470249613, "post_id": 38751130, "comment_id": 64876438, "body": "Please read an interesting article <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and try to provide <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in each question,"}, {"owner": {"reputation": 3311, "user_id": 3593084, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Uq59r.jpg?s=128&g=1", "display_name": "Mr.Q", "link": "https://stackoverflow.com/users/3593084/mr-q"}, "edited": false, "score": 0, "creation_date": 1470249792, "post_id": 38751130, "comment_id": 64876541, "body": "there are several solutions for your question, but since your question is a typical example for map-reduce programming paradigm, I suggest you take a look at it and then see its implementation  in java 8, as Mureinik provided in his answer."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 6161556, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5adad853a62a4d5980b9f145ac4d37c?s=128&d=identicon&r=PG&f=1", "display_name": "Newbie2015Giant", "link": "https://stackoverflow.com/users/6161556/newbie2015giant"}, "edited": false, "score": 0, "creation_date": 1470250411, "post_id": 38751244, "comment_id": 64876891, "body": "Thank you for this help! Seems to be spot on, only when it prints out the sentence is no longer in order but it gives me the results I needed!"}, {"owner": {"reputation": 14204, "user_id": 4723795, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/980705688614873/picture?type=large", "display_name": "xenteros", "link": "https://stackoverflow.com/users/4723795/xenteros"}, "reply_to_user": {"reputation": 53, "user_id": 6161556, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5adad853a62a4d5980b9f145ac4d37c?s=128&d=identicon&r=PG&f=1", "display_name": "Newbie2015Giant", "link": "https://stackoverflow.com/users/6161556/newbie2015giant"}, "edited": false, "score": 0, "creation_date": 1470250901, "post_id": 38751244, "comment_id": 64877165, "body": "Feel free to modify this code I gave you so it prints stuff in a way you&#39;d appreciate.  It&#39;s a good manner to upvote the answer you marked as a solution."}, {"owner": {"reputation": 5537, "user_id": 3059893, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/fUOFo.png?s=128&g=1", "display_name": "JavaHopper", "link": "https://stackoverflow.com/users/3059893/javahopper"}, "edited": false, "score": 1, "creation_date": 1470251230, "post_id": 38751244, "comment_id": 64877329, "body": "try replacing HashMap&lt;String, Integer&gt;(); with LinkedHashMap&lt;String, Integer&gt;(); to get them in order"}], "tags": [], "owner": {"reputation": 14204, "user_id": 4723795, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/980705688614873/picture?type=large", "display_name": "xenteros", "link": "https://stackoverflow.com/users/4723795/xenteros"}, "is_accepted": true, "score": 3, "last_activity_date": 1470249759, "last_edit_date": 1470249759, "creation_date": 1470249327, "answer_id": 38751244, "question_id": 38751130, "link": "https://stackoverflow.com/questions/38751130/how-do-i-count-the-occurrences-of-each-word-in-each-of-sentences-stored-in-array/38751244#38751244", "title": "How do I count the occurrences of each word in each of sentences stored in arraylists?", "body": "<ol>\n<li>Lets call your <code>ArrayList&lt;String&gt; list</code>.</li>\n<li>Let's make a list list2 of String[]\n3, Split Sentences to the array.</li>\n<li>Count occurrences </li>\n</ol>\n\n<p>The code:</p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\n//add sentences here\nlist.add(\"My first sentence sentence\");\nlist.add(\"My second sentence1 sentence1\");\n\nArrayList&lt;String[]&gt; list2 = new ArrayList&lt;&gt;();\nfor (String s : list) { list2.add(s.split(\" \"));};\nfor (String[] s : list2) {\n    Map&lt;String, Integer&gt; wordCounts = new HashMap&lt;String, Integer&gt;();\n\n    for (String word : s) {\n        Integer count = wordCounts.get(word);\n        if (count == null) {\n            count = 0;\n        }\n        wordCounts.put(word, count + 1);\n    }\n    for (String key : wordCounts.keySet()) {\n        System.out.println(key + \": \" + wordCounts.get(key).toString());\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 6161556, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5adad853a62a4d5980b9f145ac4d37c?s=128&d=identicon&r=PG&f=1", "display_name": "Newbie2015Giant", "link": "https://stackoverflow.com/users/6161556/newbie2015giant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 827, "favorite_count": 0, "accepted_answer_id": 38751244, "answer_count": 1, "score": 1, "last_activity_date": 1470255186, "creation_date": 1470248955, "last_edit_date": 1470255186, "question_id": 38751130, "link": "https://stackoverflow.com/questions/38751130/how-do-i-count-the-occurrences-of-each-word-in-each-of-sentences-stored-in-array", "title": "How do I count the occurrences of each word in each of sentences stored in arraylists?", "body": "<p>I have an <code>arraylist</code> that holds each line of a document for example-</p>\n\n<pre><code>list.add(\"I like to play pool\")\n\nlist.add(\"How far can you run\")\n\nlist.add(\"Do you like fanta because I like fanta\")\n</code></pre>\n\n<p>I want to be able to go through each sentence stored in the <code>arrayList</code> and count the occurrence of each word in each of the sentences, can anyone help me?</p>\n\n<p>EDIT\nThis is what I tried but it only tells me the occurrence of EACH sentence. I need it to be able to count the words for each sentence. </p>\n\n<pre><code>Set&lt;String&gt; unique = new HashSet&lt;String&gt;(list);\n        for (String key : unique) {\n            System.out.println(key + \": \" + Collections.frequency(list, key));\n</code></pre>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1470248335, "post_id": 38750939, "comment_id": 64875663, "body": "You need to learn about reflection."}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1470248338, "post_id": 38750939, "comment_id": 64875664, "body": "We need more context (i.e. more of your code) to understand what concept you are having trouble with.  Show us the definition of the function you want to call."}, {"owner": {"reputation": 15569, "user_id": 2302862, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e264db339bb96e343770fa38018e00f1?s=128&d=identicon&r=PG", "display_name": "Siguza", "link": "https://stackoverflow.com/users/2302862/siguza"}, "edited": false, "score": 1, "creation_date": 1470248471, "post_id": 38750939, "comment_id": 64875748, "body": "The former is an instance of <code>java.lang.Class</code>, the latter an instance of whatever class. You can append <code>.class</code> to a class name to get its class instance, e.g. <code>Class&lt;org.xbib.elasticsearch.action.termlist.TermlistRequest&zwnj;&#8203;&gt; clazz = org.xbib.elasticsearch.action.termlist.TermlistRequest.class&zwnj;&#8203;;</code>."}, {"owner": {"reputation": 15070, "user_id": 388427, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a43a07bc90818154ff9c8d4af7c23502?s=128&d=identicon&r=PG", "display_name": "Sergey", "link": "https://stackoverflow.com/users/388427/sergey"}, "reply_to_user": {"reputation": 15569, "user_id": 2302862, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e264db339bb96e343770fa38018e00f1?s=128&d=identicon&r=PG", "display_name": "Siguza", "link": "https://stackoverflow.com/users/2302862/siguza"}, "edited": false, "score": 0, "creation_date": 1470248610, "post_id": 38750939, "comment_id": 64875825, "body": "@Siguza looks like I needed your comment"}, {"owner": {"reputation": 15070, "user_id": 388427, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a43a07bc90818154ff9c8d4af7c23502?s=128&d=identicon&r=PG", "display_name": "Sergey", "link": "https://stackoverflow.com/users/388427/sergey"}, "edited": false, "score": 1, "creation_date": 1470248860, "post_id": 38750939, "comment_id": 64875957, "body": "To all &quot;-&quot;: do I need to learn a language before asking questions about it?"}, {"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 0, "creation_date": 1470251440, "post_id": 38750939, "comment_id": 64877449, "body": "Before you asked the question did you search for <code>java.lang.Class</code> to see what it was? What did you find? What didn&#39;t you understand?"}, {"owner": {"reputation": 251342, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 0, "creation_date": 1470254038, "post_id": 38750939, "comment_id": 64878908, "body": "Nobody said any of that. You seem to be curious about the downvotes. When you hover over that button, you&#39;ll see that one of the reasons is the lack of research shown in a question. The questions in my previous comment are rhetorical. They are meant to have you edit that information into your question in order to improve it."}], "answers": [{"tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": true, "score": 3, "last_activity_date": 1470248762, "last_edit_date": 1495540866, "creation_date": 1470248571, "answer_id": 38751026, "question_id": 38750939, "link": "https://stackoverflow.com/questions/38750939/what-is-the-difference-between-java-lang-classcls-and-just-cls/38751026#38751026", "title": "What is the difference between java.lang.class&lt;Cls&gt; and just Cls?", "body": "<p>The difference between <code>Class&lt;T&gt;</code> and <code>T</code> is that <code>Class&lt;T&gt;</code> represents metadata about <code>T</code>. You can look up <code>T</code>'s methods and fields, and also create new instances by calling <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#newInstance()\" rel=\"nofollow noreferrer\"><code>newInstance</code></a> method.</p>\n\n<p>As far as creating <code>Class&lt;T&gt;</code> objects goes, the simplest approach is to use <code>MyClass.class</code> syntax, e.g.</p>\n\n<pre><code>Class&lt;TermlistRequest&gt; tr = TermlistRequest.class;\n</code></pre>\n\n<p><code>Class</code> (but not <code>Class&lt;T&gt;</code>) objects can also be obtained by <a href=\"https://stackoverflow.com/q/8100376/335858\">resolving classes dynamically</a>.</p>\n"}], "owner": {"reputation": 15070, "user_id": 388427, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a43a07bc90818154ff9c8d4af7c23502?s=128&d=identicon&r=PG", "display_name": "Sergey", "link": "https://stackoverflow.com/users/388427/sergey"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 700, "favorite_count": 0, "closed_date": 1470271125, "accepted_answer_id": 38751026, "answer_count": 1, "score": -2, "last_activity_date": 1470254336, "creation_date": 1470248236, "last_edit_date": 1470254336, "question_id": 38750939, "link": "https://stackoverflow.com/questions/38750939/what-is-the-difference-between-java-lang-classcls-and-just-cls", "closed_reason": "Duplicate", "title": "What is the difference between java.lang.class&lt;Cls&gt; and just Cls?", "body": "<p>What is the difference between <code>java.lang.class&lt;Cls&gt;</code> and just <code>Cls</code>?</p>\n\n<p>I need to pass this to a function:</p>\n\n<pre><code>java.lang.Class&lt;org.xbib.elasticsearch.action.termlist.TermlistRequest&gt;\n</code></pre>\n\n<p>I tried <code>new TermlistRequest()</code> but it is this:</p>\n\n<pre><code>org.xbib.elasticsearch.action.termlist.TermlistRequest\n</code></pre>\n\n<p>Can you explain what is it in Java? And how to create an object of this type?</p>\n\n<hr>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html\" rel=\"nofollow\">java.lang.class</a> - what I missed was I needed to append <code>.class</code> to <code>Cls</code> to get the type <code>java.lang.class&lt;Cls&gt;</code></p>\n"}, {"tags": ["java", "ssl", "websocket", "handshake"], "owner": {"reputation": 11, "user_id": 3641684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ce8d60e7c7912a4e00b4cc08f7006cd?s=128&d=identicon&r=PG&f=1", "display_name": "user3641684", "link": "https://stackoverflow.com/users/3641684/user3641684"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1470248235, "creation_date": 1470248235, "question_id": 38750936, "link": "https://stackoverflow.com/questions/38750936/handshake-in-ssl-connect-from-javascript", "title": "handshake in ssl connect from javascript", "body": "<p>how i can to make handshake in ssl connect in java?</p>\n\n<p>when i connected without ssl i used this code</p>\n\n<pre><code>    InputStream in = client.getInputStream();\n\n    OutputStream out = client.getOutputStream();\n\n    //translate bytes of request to string\n     data = new Scanner(in,\"UTF-8\").useDelimiter(\"\\\\r\\\\n\\\\r\\\\n\").next();\n\n    System.out.println(\"data=\"+data);\n\n\n    Matcher get = Pattern.compile(\"^GET\").matcher(data);\n\n    if (get.find()) {\n        Matcher match = Pattern.compile(\"Sec-WebSocket-Key: (.*)\").matcher(data);\n        match.find();\n        try {\n        byte[] response = (\"HTTP/1.1 101 Switching Protocols\\r\\n\"\n                + \"Connection: Upgrade\\r\\n\"\n                + \"Upgrade: websocket\\r\\n\"\n                + \"Sec-WebSocket-Accept: \"\n                + DatatypeConverter\n                .printBase64Binary(\n                        MessageDigest\n                        .getInstance(\"SHA-1\")\n                        .digest((match.group(1) + \"258EAFA5-E914-47DA-95CA-C5AB0DC85B11\")\n                                .getBytes(\"UTF-8\")))\n                + \"\\r\\n\\r\\n\")\n                .getBytes(\"UTF-8\");\n\n        out.write(response, 0, response.length);\n\n        System.out.println(\"-----response1----- \"+\"HTTP/1.1 101 Switching Protocols\\r\\n\"+ \"Connection: Upgrade\\r\\n\"+ \"Upgrade: websocket\\r\\n\"\n                    + \"Sec-WebSocket-Accept: \"+ DatatypeConverter.printBase64Binary(MessageDigest.getInstance(\"SHA-1\").digest((match.group(1) + \"258EAFA5-E914-47DA-95CA-C5AB0DC85B11\").getBytes(\"UTF-8\")))+ \"\\r\\n\\r\\n\");\n\n\n        }\n\n    }\n</code></pre>\n\n<p>how i can make handshake in next code?</p>\n\n<pre><code>        SSLServerSocketFactory sslserversocketfactory =\n                (SSLServerSocketFactory) SSLServerSocketFactory.getDefault();\n        SSLServerSocket sslserversocket =\n                (SSLServerSocket) sslserversocketfactory.createServerSocket(9999);\n                System.out.println(\"Server has started on 127.0.0.1:80.\\r\\nWaiting for a connection...\");\n        SSLSocket sslsocket = (SSLSocket) sslserversocket.accept();\n        InputStream inputstream = sslsocket.getInputStream();\n        InputStreamReader inputstreamreader = new InputStreamReader(inputstream);\n         InputStream in = sslsocket.getInputStream();\nOutputStream out = sslsocket.getOutputStream();\n\n\n\n        BufferedReader bufferedreader = new BufferedReader(inputstreamreader);\n        System.out.println(\"5\");\n        String string = null;\n        while ((string = bufferedreader.readLine()) != null) {\n            System.out.println(\"6\");\n            System.out.println(string);\n            System.out.flush();\n        }\n</code></pre>\n\n<p>without handshake  i've got error</p>\n\n<p>index.js:1 WebSocket connection to 'wss://127.0.0.1:9999/' failed: WebSocket opening handshake was canceled</p>\n"}, {"tags": ["java", "class", "gradle", "jar"], "answers": [{"comments": [{"owner": {"reputation": 380, "user_id": 3280193, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3bd187c1981627bccdd08932f2333919?s=128&d=identicon&r=PG&f=1", "display_name": "user3280193", "link": "https://stackoverflow.com/users/3280193/user3280193"}, "edited": false, "score": 0, "creation_date": 1470251416, "post_id": 38751285, "comment_id": 64877436, "body": "Thanks for your comment. I&#39;m still having trouble though because what I&#39;m tasked with is something very specific -- I&#39;m not supposed to compile anything myself, but rather take a number of .class and / or .properties files and just build a .jar file from them. It looks like there is a jar task that I could use for this, but I&#39;m not sure how to specify the source directories (where the .class files reside) as well as the destination directory (where the .jar file should be created)."}], "tags": [], "owner": {"reputation": 319, "user_id": 6656818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e629ee2481c49d17f4c763c55ee34ae?s=128&d=identicon&r=PG&f=1", "display_name": "J.D.1731", "link": "https://stackoverflow.com/users/6656818/j-d-1731"}, "is_accepted": false, "score": 0, "last_activity_date": 1470252294, "last_edit_date": 1470252294, "creation_date": 1470249481, "answer_id": 38751285, "question_id": 38750916, "link": "https://stackoverflow.com/questions/38750916/java-gradle-building-a-jar-file-from-class-files/38751285#38751285", "title": "Java / Gradle - building a .jar file from .class files", "body": "<p>May be this one will be helpful.\nSave in <code>build.gradle</code> and run by <code>gradle zip</code></p>\n\n<pre><code>task zip(type: Zip) {\n    from 'app/classes'\n    include '**/*.class'\n    into('libdir/packed.zip') {\n    }\n}\n</code></pre>\n\n<p>Source <a href=\"https://docs.gradle.org/current/userguide/working_with_files.html\" rel=\"nofollow\">https://docs.gradle.org/current/userguide/working_with_files.html</a></p>\n"}], "owner": {"reputation": 380, "user_id": 3280193, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3bd187c1981627bccdd08932f2333919?s=128&d=identicon&r=PG&f=1", "display_name": "user3280193", "link": "https://stackoverflow.com/users/3280193/user3280193"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1933, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496253703, "creation_date": 1470248125, "question_id": 38750916, "link": "https://stackoverflow.com/questions/38750916/java-gradle-building-a-jar-file-from-class-files", "title": "Java / Gradle - building a .jar file from .class files", "body": "<p>I'm a newbie to Gradle. I'm tasked with writing a Gradle script / task that takes a bunch of precompiled .class and .properties files in a given directory (and all subdirectories thereof) and creating a single .jar file from them, manifest and all. </p>\n\n<p>For example, if I were using Ant .xml script, I might do something like the following:</p>\n\n<pre><code>&lt;target name=\"test\" description=\"Build test.jar\"&gt;\n    &lt;exec dir=\"${testdir}\" executable=\"cmd.exe \" os=\"Windows 10\"&gt;\n        &lt;arg line=\"/c mkdir lib\" /&gt;\n    &lt;/exec&gt;\n    &lt;jar destfile=\"${libdir}/test.jar\"&gt;\n        &lt;fileset dir=\"${testdir}/classes\"&gt;\n            &lt;include name=\"**/*.class\" /&gt;\n            &lt;include name=\"**/*.properties\" /&gt;\n        &lt;/fileset&gt;\n    &lt;/jar&gt;\n&lt;/target&gt;\n</code></pre>\n\n<p>But I have no idea how to do something similar in Gradle. Would appreciate any help.</p>\n\n<p>Edit: Running Gradle v.2.14.1, Groovy v.2.4.4</p>\n"}, {"tags": ["java", "scala"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 1, "creation_date": 1470248595, "post_id": 38750892, "comment_id": 64875815, "body": "How are you trying to run bash in Windows? Are you using Cygwin?  Do you have a different bash interpreter installed?"}], "answers": [{"tags": [], "owner": {"reputation": 935, "user_id": 129880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8dc9e24c06fac70919f8fb6f6068c37?s=128&d=identicon&r=PG", "display_name": "tryx", "link": "https://stackoverflow.com/users/129880/tryx"}, "is_accepted": false, "score": 0, "last_activity_date": 1470277283, "creation_date": 1470277283, "answer_id": 38757507, "question_id": 38750892, "link": "https://stackoverflow.com/questions/38750892/executing-shell-script-in-windows-from-scala/38757507#38757507", "title": "executing shell script in windows from scala", "body": "<p>When you use the ProcessBuilder API, it runs through the standard windows <code>CreateProcess</code> mechanism which has no idea how to parse your hash-bang. As far as it's concerned, you're trying to run a nonsense binary. It doesn't matter whether you are running it from GitBash because it isn't using the shell to run the process. What you want to do is change your Scala to run something like <code>&lt;path to your bash&gt; &lt;script name&gt;</code>. </p>\n"}], "owner": {"reputation": 722, "user_id": 388500, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/98d76722dd52f2e273e742fcc3618ec3?s=128&d=identicon&r=PG", "display_name": "chiru", "link": "https://stackoverflow.com/users/388500/chiru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1470277283, "creation_date": 1470248036, "question_id": 38750892, "link": "https://stackoverflow.com/questions/38750892/executing-shell-script-in-windows-from-scala", "title": "executing shell script in windows from scala", "body": "<p>The below line in my scala test is failing on windows 7 box</p>\n\n<pre><code>val worldId = s\"$pwd/src/test/resources/startWorld.sh $extraPath\".!!\n</code></pre>\n\n<p>My startWorld.sh looks something like this</p>\n\n<pre><code>#!/bin/bash\n\nextra=\"\"\nif [ ! -z \"$1\" ]; then\n  extra=\"-v $1:/extra\"\nfi\n\nACTIVE=`docker-machine active 2&gt;/dev/null`\nHOST_IP=`docker-machine ip $ACTIVE`\n\n# TODO: If HOST_IP not passed in, assume AWS and hit AWS's host-getter URL\n#\ndocker run -d -P -v ~/.docker/machine/certs:/mnt/certs -e \"DOCKER_TLS_VERIFY=true\" -e HOST_IP=$HOST_IP $extra test/world\n</code></pre>\n\n<p>I am getting below exception</p>\n\n<pre><code>Exception encountered when attempting to run a suite with class name: mc.test.ServiceTests *** ABORTED *** (61 milliseconds)\n[info]   java.io.IOException: Cannot run program \"C:\\git\\Conversation-Platform\\microcore\\microcore/src/test/resources/startWorld.sh\": CreateProcess error=193, %1 is not a valid Win32 application\n</code></pre>\n"}, {"tags": ["java"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user180100"}, "edited": false, "score": 1, "creation_date": 1470248093, "post_id": 38750871, "comment_id": 64875534, "body": "<code>Math.round</code> or <code>Math.ceil</code> and some computation most likely"}], "answers": [{"comments": [{"owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "edited": false, "score": 1, "creation_date": 1470250187, "post_id": 38751016, "comment_id": 64876775, "body": "I think you meant to use power in divisor (<code>int divisor = Math.pow(10, places);</code>), not multiplication,"}, {"owner": {"reputation": 1749, "user_id": 3557027, "user_type": "registered", "profile_image": "https://graph.facebook.com/602209829919627/picture?type=large", "display_name": "Rabbit Guy", "link": "https://stackoverflow.com/users/3557027/rabbit-guy"}, "reply_to_user": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "edited": false, "score": 0, "creation_date": 1470250263, "post_id": 38751016, "comment_id": 64876813, "body": "Thank you @Mureinik"}], "tags": [], "owner": {"reputation": 1749, "user_id": 3557027, "user_type": "registered", "profile_image": "https://graph.facebook.com/602209829919627/picture?type=large", "display_name": "Rabbit Guy", "link": "https://stackoverflow.com/users/3557027/rabbit-guy"}, "is_accepted": false, "score": 1, "last_activity_date": 1470250250, "last_edit_date": 1470250250, "creation_date": 1470248541, "answer_id": 38751016, "question_id": 38750871, "link": "https://stackoverflow.com/questions/38750871/java-equivalent-of-oracles-trunc-function/38751016#38751016", "title": "Java equivalent of Oracle&#39;s TRUNC function?", "body": "<p>You could take advantage of integer division here:</p>\n\n<pre><code>public int trunc(int value, int places) {\n    // places should be positive, not negative\n    int divisor = Math.pow(10, places);\n    int tempVal = value / divisor;\n    int finalVal = tempVal * divisor;\n    return finalVal;\n}\n</code></pre>\n\n<p>(somewhere in your code)</p>\n\n<pre><code>if (trunc(idValue,3)==254000)\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5521594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb5c50c269b73e4e8228ecad0b260202?s=128&d=identicon&r=PG&f=1", "display_name": "dingerjunkie", "link": "https://stackoverflow.com/users/5521594/dingerjunkie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 891, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1470250250, "creation_date": 1470247955, "last_edit_date": 1470248011, "question_id": 38750871, "link": "https://stackoverflow.com/questions/38750871/java-equivalent-of-oracles-trunc-function", "title": "Java equivalent of Oracle&#39;s TRUNC function?", "body": "<p>In my PL-SQL work, I've come to regularly use the TRUNC function to check higher-position values in numeric IDs.  for example:</p>\n\n<pre><code>if trunc(idValue,-3)=254000 then...\n</code></pre>\n\n<p>Is there a similar method available for int/Integer variables in Java?</p>\n"}, {"tags": ["java", "spring-boot", "activemq", "messagebroker"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 2, "creation_date": 1470248049, "post_id": 38750843, "comment_id": 64875515, "body": "Looks like the ActiveMQ broker is not running, or is listening on a different port from the one you have configured.  Please <a href=\"https://stackoverflow.com/posts/38750843/edit\">edit</a> your post and add the output of <code>netstat -nat|grep LISTEN</code> (on Windows <code>netstat -nat|findstr LISTEN</code>)"}, {"owner": {"reputation": 485, "user_id": 5805593, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ad2f94ea1cc1b21ab41265e2914f6bd2?s=128&d=identicon&r=PG&f=1", "display_name": "Aliyu Fonyuy", "link": "https://stackoverflow.com/users/5805593/aliyu-fonyuy"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1470254890, "post_id": 38750843, "comment_id": 64879360, "body": "Yes, I have checked and there is no such port (Had used resmon as well to monitor on the ports before). I guess my question is more like, how to I get Spring boot to configure the broker so that it listens to this port? I thought adding that information in application.properties tell&#39;s spring &quot;this is the url/port where I want to configure my broker&quot;, but instead seems like only tells it &quot;here&#39;s where to find the broker&quot;. I have edited the question to be a little more clear."}, {"owner": {"reputation": 3071, "user_id": 2979435, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c3fac4fcf2b4ae7f3f5a96164b34958e?s=128&d=identicon&r=PG", "display_name": "deFreitas", "link": "https://stackoverflow.com/users/2979435/defreitas"}, "edited": false, "score": 0, "creation_date": 1504718065, "post_id": 38750843, "comment_id": 79123435, "body": "<a href=\"https://stackoverflow.com/a/44600306/2979435\">here</a> a full sample"}], "answers": [{"comments": [{"owner": {"reputation": 962, "user_id": 5473669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/36798d3580a2113bd6babeeb2f0c666b?s=128&d=identicon&r=PG&f=1", "display_name": "MaxG", "link": "https://stackoverflow.com/users/5473669/maxg"}, "edited": false, "score": 0, "creation_date": 1484320227, "post_id": 38771750, "comment_id": 70474944, "body": "Can you please add the configuration that is needed for other spring boot applications to connect to the broker that you&#39;ve established? I&#39;m successfully creating It and getting messages that I send from the application that created It."}, {"owner": {"reputation": 2810, "user_id": 948774, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8a755d25e6e4fefd7b45a5edcd505f0?s=128&d=identicon&r=PG", "display_name": "kpentchev", "link": "https://stackoverflow.com/users/948774/kpentchev"}, "reply_to_user": {"reputation": 962, "user_id": 5473669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/36798d3580a2113bd6babeeb2f0c666b?s=128&d=identicon&r=PG&f=1", "display_name": "MaxG", "link": "https://stackoverflow.com/users/5473669/maxg"}, "edited": false, "score": 3, "creation_date": 1497361231, "post_id": 38771750, "comment_id": 76038392, "body": "@MaxG create a new <code>application-{profile}.yml</code> configuration file and put inside <code>spring.activemq.broker-url: vm:&#47;&#47;localhost?broker.persistent=false</code>"}, {"owner": {"reputation": 2263, "user_id": 863311, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3731c7120e30182ebf4f3fbb8609468a?s=128&d=identicon&r=PG", "display_name": "Simon", "link": "https://stackoverflow.com/users/863311/simon"}, "edited": false, "score": 1, "creation_date": 1554908458, "post_id": 38771750, "comment_id": 97924900, "body": "&quot;as long as no broker URL is specified through configuration&quot;, ie DO NOT provide any spring.activemq.broker-url in your configuration. Then Spring Boot will do its magic."}], "tags": [], "owner": {"reputation": 485, "user_id": 5805593, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ad2f94ea1cc1b21ab41265e2914f6bd2?s=128&d=identicon&r=PG&f=1", "display_name": "Aliyu Fonyuy", "link": "https://stackoverflow.com/users/5805593/aliyu-fonyuy"}, "is_accepted": true, "score": 15, "last_activity_date": 1571760595, "last_edit_date": 1571760595, "creation_date": 1470325018, "answer_id": 38771750, "question_id": 38750843, "link": "https://stackoverflow.com/questions/38750843/how-to-configure-embedded-activemq-broker-url-with-spring-boot/38771750#38771750", "title": "How to configure embedded ActiveMQ Broker URL with Spring Boot", "body": "<p>I believe I figured this out after playing around with this for sometime. I thought two instances were running because I was trying to create a connection to the DEFAULT embedded broker (in an attempt to figure out if it was created/existed) like below:</p>\n\n<pre><code>ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(\"vm://localhost?broker.persistent=false\");\n</code></pre>\n\n<p>But apparently Spring Boot figures one doesn't exist and creates it at that time. </p>\n\n<p>So in order to have only my created instance running, all I needed to do was provide a URL I added to the connector when I created the instance (in this case <code>tcp://localhost:61616</code>) in the <code>application.properties</code> file as below</p>\n\n<pre><code>spring.activemq.broker-url=tcp://localhost:61616\n</code></pre>\n\n<p>and Spring Boot will connect to this instance and not create another one. In the absence of the above entry in the properties file (or if you make an attempt to connect to an embedded instance using vm://localhost?... as I did above), Spring Boot will go ahead and instantiate one for you.</p>\n\n<p>I did also read this in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-activemq\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>Spring Boot can also configure a ConnectionFactory when it detects\n  that ActiveMQ is available on the classpath. If the broker is present,\n  an embedded broker is started and configured automatically (as long as\n  no broker URL is specified through configuration).</p>\n</blockquote>\n\n<p>But in my opinion, it is not well spelled out (but it did get me thinking in the right direction though).</p>\n\n<p>Please, do let know if you had different findings or if my conclusion isn't right. Thanks!!!</p>\n"}], "owner": {"reputation": 485, "user_id": 5805593, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ad2f94ea1cc1b21ab41265e2914f6bd2?s=128&d=identicon&r=PG&f=1", "display_name": "Aliyu Fonyuy", "link": "https://stackoverflow.com/users/5805593/aliyu-fonyuy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40526, "favorite_count": 2, "accepted_answer_id": 38771750, "answer_count": 1, "score": 8, "last_activity_date": 1571760595, "creation_date": 1470247894, "last_edit_date": 1470263505, "question_id": 38750843, "link": "https://stackoverflow.com/questions/38750843/how-to-configure-embedded-activemq-broker-url-with-spring-boot", "title": "How to configure embedded ActiveMQ Broker URL with Spring Boot", "body": "<p>I followed a simple example of setting up and running embedded ActiveMQ with Spring Boot (version 1.4.X). Here's link to the example <a href=\"https://spring.io/guides/gs/messaging-jms/\" rel=\"noreferrer\">https://spring.io/guides/gs/messaging-jms/</a> </p>\n\n<p>My class is structured as below:</p>\n\n<pre><code>@SpringBootApplication\n@EnableJms\npublic class Application {\n\n@Autowired\nConfigurableApplicationContext context;\n\n@Bean\nJmsListenerContainerFactory&lt;?&gt; myJmsContainerFactory(ConnectionFactory connectionFactory) {\n    SimpleJmsListenerContainerFactory factory = new SimpleJmsListenerContainerFactory();\n    factory.setConnectionFactory(connectionFactory);\n\n    return factory;\n}\n\n@JmsListener(destination = \"mailbox-destination\", containerFactory = \"myJmsContainerFactory\")\npublic void receiveMessage(String message) {\n    System.out.println(\"Message received: \" + message);\n    context.close();\n}\n\npublic static void main(String[] args) throws Exception {\n    FileSystemUtils.deleteRecursively(new File(\"active-data\"));\n    ConfigurableApplicationContext context = SpringApplication.run(Application.class, args);\n\n    JmsTemplate template = context.getBean(JmsTemplate.class);\n    MessageCreator messageCreator = new MessageCreator() {\n        public Message createMessage(Session session) throws JMSException {\n            return session.createTextMessage(\"Test\");\n        }\n    };\n    template.send(\"mailbox-destination\", messageCreator);\n}\n}\n</code></pre>\n\n<p>And build.gradle like below:</p>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'maven'\n\ngroup = 'jms.activemq'\nversion = '0.0.1-SNAPSHOT'\n\ndescription = \"\"\"jms.activemq\"\"\"\n\nsourceCompatibility = 1.5\ntargetCompatibility = 1.5\n\nrepositories {\n     maven { url \"http://repo.maven.apache.org/maven2\" }\n}\ndependencies {\n    compile group: 'org.springframework.boot', name: 'spring-boot-starter-activemq', version:'1.4.0.RELEASE'\n    testCompile(group: 'org.springframework.boot', name: 'spring-boot-starter-test', version:'1.4.0.RELEASE') {\nexclude(module: 'commons-logging')\n}\n}\n</code></pre>\n\n<p>Everything works well so far (as long as i leave the application.properties empty), but if i try to configure broker url (so remote clients can connect) by adding following to application.properties file:</p>\n\n<pre><code>spring.activemq.broker-url=tcp://localhost:61616\nspring.activemq.user=admin\nspring.activemq.password=admin\n</code></pre>\n\n<p>I get an exception:</p>\n\n<pre><code>2016-08-03 12:46:00.938  WARN 88180 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'org.springframework.jms.config.internalJmsListenerEndpointRegistry'; nested exception is org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is javax.jms.JMSException: Could not connect to broker URL: tcp://localhost:61616. Reason: java.net.ConnectException: Connection refused: connect\n2016-08-03 12:46:00.939  INFO 88180 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown\n2016-08-03 12:46:00.945  INFO 88180 --- [           main] utoConfigurationReportLoggingInitializer :\norg.springframework.context.ApplicationContextException: Failed to start bean 'org.springframework.jms.config.internalJmsListenerEndpointRegistry'; nested exception is org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is javax.jms.JMSException: Could not connect to broker URL: tcp://localhost:61616. Reason: java.net.ConnectException: Connection refused: connect\nat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:176) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\nat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:51) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\nat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:346) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\nat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:149) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\nat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:112) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:874) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:544) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:369) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:313) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1185) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1174) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\nat jms.activemq.Application.main(Application.java:37) [main/:na]\nCaused by: org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is javax.jms.JMSException: Could not connect to broker URL: tcp://localhost:61616. Reason: java.net.ConnectException: Connection refused: connect\nat org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:316) ~[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE]\nat org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:169) ~[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE]\nat org.springframework.jms.listener.AbstractJmsListeningContainer.start(AbstractJmsListeningContainer.java:273) ~[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE]\nat org.springframework.jms.config.JmsListenerEndpointRegistry.startIfNecessary(JmsListenerEndpointRegistry.java:243) ~[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE]\nat org.springframework.jms.config.JmsListenerEndpointRegistry.start(JmsListenerEndpointRegistry.java:206) ~[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE]\nat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:173) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n... 12 common frames omitted\nCaused by: javax.jms.JMSException: Could not connect to broker URL: tcp://localhost:61616. Reason: java.net.ConnectException: Connection refused: connect\nat org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:36) ~[activemq-client-5.13.4.jar:5.13.4]\nat org.apache.activemq.ActiveMQConnectionFactory.createActiveMQConnection(ActiveMQConnectionFactory.java:373) ~[activemq-client-5.13.4.jar:5.13.4]\nat org.apache.activemq.ActiveMQConnectionFactory.createActiveMQConnection(ActiveMQConnectionFactory.java:303) ~[activemq-client-5.13.4.jar:5.13.4]\nat org.apache.activemq.ActiveMQConnectionFactory.createConnection(ActiveMQConnectionFactory.java:243) ~[activemq-client-5.13.4.jar:5.13.4]\nat org.springframework.jms.support.JmsAccessor.createConnection(JmsAccessor.java:180) ~[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE]\nat org.springframework.jms.listener.AbstractJmsListeningContainer.createSharedConnection(AbstractJmsListeningContainer.java:413) ~[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE]\nat org.springframework.jms.listener.AbstractJmsListeningContainer.establishSharedConnection(AbstractJmsListeningContainer.java:381) ~[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE]\nat org.springframework.jms.listener.AbstractJmsListeningContainer.doStart(AbstractJmsListeningContainer.java:285) ~[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE]\nat org.springframework.jms.listener.SimpleMessageListenerContainer.doStart(SimpleMessageListenerContainer.java:210) ~[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE]\nat org.springframework.jms.listener.AbstractJmsListeningContainer.start(AbstractJmsListeningContainer.java:270) ~[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n... 15 common frames omitted\nCaused by: java.net.ConnectException: Connection refused: connect\nat java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_92]\nat java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_92]\nat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_92]\nat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_92]\nat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_92]\nat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_92]\nat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_92]\nat java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_92]\nat org.apache.activemq.transport.tcp.TcpTransport.connect(TcpTransport.java:525) ~[activemq-client-5.13.4.jar:5.13.4]\nat org.apache.activemq.transport.tcp.TcpTransport.doStart(TcpTransport.java:488) ~[activemq-client-5.13.4.jar:5.13.4]\nat org.apache.activemq.util.ServiceSupport.start(ServiceSupport.java:55) ~[activemq-client-5.13.4.jar:5.13.4]\nat org.apache.activemq.transport.AbstractInactivityMonitor.start(AbstractInactivityMonitor.java:168) ~[activemq-client-5.13.4.jar:5.13.4]\nat org.apache.activemq.transport.InactivityMonitor.start(InactivityMonitor.java:52) ~[activemq-client-5.13.4.jar:5.13.4]\nat org.apache.activemq.transport.TransportFilter.start(TransportFilter.java:58) ~[activemq-client-5.13.4.jar:5.13.4]\nat org.apache.activemq.transport.WireFormatNegotiator.start(WireFormatNegotiator.java:72) ~[activemq-client-5.13.4.jar:5.13.4]\nat org.apache.activemq.transport.TransportFilter.start(TransportFilter.java:58) ~[activemq-client-5.13.4.jar:5.13.4]\nat org.apache.activemq.transport.TransportFilter.start(TransportFilter.java:58) ~[activemq-client-5.13.4.jar:5.13.4]\nat org.apache.activemq.ActiveMQConnectionFactory.createActiveMQConnection(ActiveMQConnectionFactory.java:353) ~[activemq-client-5.13.4.jar:5.13.4]\n... 23 common frames omitted \n</code></pre>\n\n<p>I have looked at a few links and still not able to determine what is causing the issue. Would really appreciate some insight, or material that can help.</p>\n\n<p>My initial thought was that Spring Boot will read these values and use them to configure ActiveMQ broker, but instead looks like it uses these values to connect to the broker (the broker having already been configured with different settings). How can I change the broker configuration so external clients (not running from with same JVM as the broker), can access the broker using tcp://localhost:61616 </p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I have followed one of the ways to embed a broker listed <a href=\"http://activemq.apache.org/how-do-i-embed-a-broker-inside-a-connection.html\" rel=\"noreferrer\">here</a> and able to embed a broker with the required url and able to connect to it. However, it seems I end up having two brokers since it seems Spring Boot still goes ahead and create one as it did before.</p>\n\n<p>Basically, am just adding this piece of code and at beginning of main method before calling SpringApplication.run(Application.class, args);</p>\n\n<pre><code>BrokerService broker = new BrokerService();\nbroker.addConnector(\"tcp://localhost:61617\");\nbroker.setPersistent(false);\nbroker.start();\n</code></pre>\n\n<p>Doesn't feel right at all, having two broker instances(I believe) running. </p>\n\n<p>1) Is this the proper way to embed a broker</p>\n\n<p>2) If so, how can i stop Spring Boot from starting another one? (Without having to remove spring-boot-starter-activemq dependency).</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["java", "maven", "executable-jar", "launch4j"], "answers": [{"tags": [], "owner": {"reputation": 2128, "user_id": 1870913, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d799da86c370869fde728cf1b7fa779f?s=128&d=identicon&r=PG", "display_name": "Andrey Yaskulsky", "link": "https://stackoverflow.com/users/1870913/andrey-yaskulsky"}, "is_accepted": true, "score": 2, "last_activity_date": 1471338790, "creation_date": 1471338790, "answer_id": 38970895, "question_id": 38750826, "link": "https://stackoverflow.com/questions/38750826/launch4j-maven-plugin-configure-exe-to-require-administrator-role/38970895#38970895", "title": "launch4j maven plugin - configure .exe to require administrator role", "body": "<p>It appeared that one needs to use manifest file where it's specified that this .exe file built by maven4j plugin should require administrator role to open it. In terms of launch4j plugin it means adding special  tag where the path to manifest file should be specified</p>\n\n<p>So configuration looks like:</p>\n\n<pre><code>&lt;configuration&gt;\n                            &lt;headerType&gt;gui&lt;/headerType&gt;\n                            &lt;outfile&gt;target/${maser.app.jar.name}64.exe&lt;/outfile&gt;\n                            &lt;jar&gt;target/${maser.app.jar.name}.jar&lt;/jar&gt;    \n                           &lt;manifest&gt;src/main/resources/${maser.app.jar.name}64.exe.manifest&lt;/manifest&gt;\n                            &lt;jre&gt;\n                                &lt;path&gt;bin/${jre64.path}/&lt;/path&gt;\n                                &lt;opts&gt;\n                                    &lt;opt&gt;-Djava.library.path=\"dll\"&lt;/opt&gt;\n                                &lt;/opts&gt;\n                            &lt;/jre&gt;\n                            &lt;versionInfo&gt;\n                             ...\n                            &lt;/versionInfo&gt;\n                        &lt;/configuration&gt;\n</code></pre>\n\n<p>and the manifest file looked like:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;assembly xmlns=\"urn:schemas-microsoft-com:asm.v1\" manifestVersion=\"1.0\"&gt;\n    &lt;trustInfo xmlns=\"urn:schemas-microsoft-com:asm.v3\"&gt;\n        &lt;security&gt;\n            &lt;requestedPrivileges&gt;\n                &lt;requestedExecutionLevel level=\"requireAdministrator\" uiAccess=\"false\"/&gt;\n            &lt;/requestedPrivileges&gt;\n        &lt;/security&gt;\n    &lt;/trustInfo&gt;\n&lt;/assembly&gt;\n</code></pre>\n"}], "owner": {"reputation": 2128, "user_id": 1870913, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d799da86c370869fde728cf1b7fa779f?s=128&d=identicon&r=PG", "display_name": "Andrey Yaskulsky", "link": "https://stackoverflow.com/users/1870913/andrey-yaskulsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 705, "favorite_count": 1, "accepted_answer_id": 38970895, "answer_count": 1, "score": 1, "last_activity_date": 1471338790, "creation_date": 1470247812, "question_id": 38750826, "link": "https://stackoverflow.com/questions/38750826/launch4j-maven-plugin-configure-exe-to-require-administrator-role", "title": "launch4j maven plugin - configure .exe to require administrator role", "body": "<p>I'm using launch4j plugin for maven to build .exe file from existing jar.\nI want to create .exe file which would automatically require administrator role for running it. Is it possible to do it via the plugin? I was unable to find some information if it is actually possible via launch4j maven plugin.</p>\n\n<p>Thanks, \nAndrey</p>\n"}, {"tags": ["java", "windows", "batch-file"], "comments": [{"owner": {"reputation": 5726, "user_id": 5969411, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e12d84a1f74d9acd8afab1d679aca89?s=128&d=identicon&r=PG", "display_name": "ManoDestra", "link": "https://stackoverflow.com/users/5969411/manodestra"}, "edited": false, "score": 3, "creation_date": 1470247826, "post_id": 38750788, "comment_id": 64875407, "body": "You don&#39;t just start java.exe without parameters. java.exe is used to start an application via a class&#39; main method. If you call it without parameters, then it will simply advise you of the executable&#39;s usage and parameters. You will need to call java.exe again using the same parameters that it was called with previously. You can&#39;t cd to an exe file BTW."}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1470247832, "post_id": 38750788, "comment_id": 64875415, "body": "What do you mean by <code>cd\\Program Files\\Java\\jre1.8.0_91\\bin\\java.exe</code>? That does not look like a valid command unless you meant <code>c:\\Program...</code>"}, {"owner": {"reputation": 9, "user_id": 5442433, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152996056802030/picture?type=large", "display_name": "user5442433", "link": "https://stackoverflow.com/users/5442433/user5442433"}, "edited": false, "score": 0, "creation_date": 1470248364, "post_id": 38750788, "comment_id": 64875683, "body": "I meant cd\\Program Files\\Java\\jre1.8.0_91\\bin then java.exe on another line"}, {"owner": {"reputation": 5726, "user_id": 5969411, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e12d84a1f74d9acd8afab1d679aca89?s=128&d=identicon&r=PG", "display_name": "ManoDestra", "link": "https://stackoverflow.com/users/5969411/manodestra"}, "edited": false, "score": 0, "creation_date": 1470248412, "post_id": 38750788, "comment_id": 64875719, "body": "cd will only change to that directory. It won&#39;t start java.exe. You&#39;ll need a separate batch command for that, passing in the appropriate parameters that it was initially called with."}, {"owner": {"reputation": 9, "user_id": 5442433, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152996056802030/picture?type=large", "display_name": "user5442433", "link": "https://stackoverflow.com/users/5442433/user5442433"}, "edited": false, "score": 0, "creation_date": 1470248576, "post_id": 38750788, "comment_id": 64875803, "body": "Yes I am sorry it is what I meant, So I changed directory to c:\\Program Files\\Java\\jre1.8.0_91\\bin but when I type java.exe in that directory  I does not start java.exe, it shows me the list of triggers as if I typed java /?  So what are the switches I need to add to java.exe to start it just normally"}, {"owner": {"reputation": 21144, "user_id": 478656, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fd656a5e8d2a51290877d695649456ad?s=128&d=identicon&r=PG", "display_name": "TessellatingHeckler", "link": "https://stackoverflow.com/users/478656/tessellatingheckler"}, "edited": false, "score": 1, "creation_date": 1470248629, "post_id": 38750788, "comment_id": 64875836, "body": "&quot;<i>But if I do a search in Windows, I see java.exe as being the result, and I click it with my mouse, it starts correctly..</i>&quot; - that doesn&#39;t jive. Has someone edited the shortcut to change the parameters but still named it &quot;java.exe&quot;? Look at the shortcut properties and look at the full &#39;target&#39; string including parameters. You&#39;ll need to pass all those to Java."}, {"owner": {"reputation": 5726, "user_id": 5969411, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e12d84a1f74d9acd8afab1d679aca89?s=128&d=identicon&r=PG", "display_name": "ManoDestra", "link": "https://stackoverflow.com/users/5969411/manodestra"}, "edited": false, "score": 0, "creation_date": 1470248667, "post_id": 38750788, "comment_id": 64875857, "body": "If you did not initiate the call to java, and you don&#39;t know the parameters, then you won&#39;t be able to restart it correctly. If you have the shortcut there and it starts fine, then you can get the correct parameters from the shortcut."}, {"owner": {"reputation": 9, "user_id": 5442433, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152996056802030/picture?type=large", "display_name": "user5442433", "link": "https://stackoverflow.com/users/5442433/user5442433"}, "edited": false, "score": 0, "creation_date": 1470248911, "post_id": 38750788, "comment_id": 64875994, "body": "Made a little video to make it easier to understand <a href=\"http://screencast.com/t/duj0O1Aj4\" rel=\"nofollow noreferrer\">screencast.com/t/duj0O1Aj4</a>"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1470250364, "post_id": 38750788, "comment_id": 64876863, "body": "note that your task kill command does not guarantee it&#39;s targeting the right java.exe JVM process. If you&#39;re running multiple java applications, this command could in fact kill completely the wrong thing, and then start a second instance of the thing you were actually trying to kill. Read through <a href=\"https://technet.microsoft.com/en-ca/library/bb491009.aspx\" rel=\"nofollow noreferrer\">technet.microsoft.com/en-ca/library/bb491009.aspx</a> to come up with a better line."}, {"owner": {"reputation": 9, "user_id": 5442433, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152996056802030/picture?type=large", "display_name": "user5442433", "link": "https://stackoverflow.com/users/5442433/user5442433"}, "edited": false, "score": 0, "creation_date": 1470251304, "post_id": 38750788, "comment_id": 64877379, "body": "Thank you for the comment, but everytime I did kill it, there was only one process running. This server is dedicated to be a filemaker server and thats it.  So what I am really looking for basically, is how to start java.exe from the commandline, or what are the switches I need to add for it start from there"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1440897"}, "edited": false, "score": 0, "creation_date": 1470251904, "post_id": 38750788, "comment_id": 64877704, "body": "@user5442433 You need the path to the application you want to run (Filemaker Console?). The command would be something like <code>java.exe &lt;C:\\....\\filemaker.exe</code>."}, {"owner": {"reputation": 9, "user_id": 5442433, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152996056802030/picture?type=large", "display_name": "user5442433", "link": "https://stackoverflow.com/users/5442433/user5442433"}, "edited": false, "score": 0, "creation_date": 1470252028, "post_id": 38750788, "comment_id": 64877789, "body": "Actually when I do it manually. CTRL-ALT-DEL JAVA.exe Terminate process I search windows, java and click on java.exe Thats it  screencast.com/t/duj0O1Aj4"}, {"owner": {"reputation": 5726, "user_id": 5969411, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7e12d84a1f74d9acd8afab1d679aca89?s=128&d=identicon&r=PG", "display_name": "ManoDestra", "link": "https://stackoverflow.com/users/5969411/manodestra"}, "edited": false, "score": 0, "creation_date": 1470323212, "post_id": 38750788, "comment_id": 64913492, "body": "You should not be killing a java process that was not initiated by you. If you can find what starts the java process and check its parameters, then you could restart it using the same parameters, but you really need to figure out the key problem here: why is it hanging in the first place, rather than killing and recreating the process."}], "owner": {"reputation": 9, "user_id": 5442433, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152996056802030/picture?type=large", "display_name": "user5442433", "link": "https://stackoverflow.com/users/5442433/user5442433"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 982, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1470254035, "creation_date": 1470247665, "last_edit_date": 1470254035, "question_id": 38750788, "link": "https://stackoverflow.com/questions/38750788/batch-restart-java-exe", "title": "Batch Restart Java.exe", "body": "<p>Java.exe often crashes or is unresponsive when using the Filemaker Console.</p>\n\n<p>We need to kill the process and start it again manually in order to make it work properly again.</p>\n\n<p>I found that I can use the command <code>taskkill /im java.exe /F</code> to kill it, but I can't seem to start it again with the batch file.<br>\nI will change directory to <code>Program Files\\Java\\jre1.8.0_91\\bin\\</code>, then I will type <code>java.exe</code>, it shows me all the switches as if i type <code>java.exe /?</code></p>\n\n<p>But if I do a search in Windows, I see java.exe as being the result, and I click it with my mouse, it starts correctly..</p>\n\n<p>How can I start java.exe correctly with the command line please</p>\n\n<p>What are the correct switches to start java.exe from command line?</p>\n"}, {"tags": ["java", "json", "maven"], "answers": [{"comments": [{"owner": {"reputation": 590, "user_id": 2647496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8AksI.jpg?s=128&g=1", "display_name": "ErinsMatthew", "link": "https://stackoverflow.com/users/2647496/erinsmatthew"}, "edited": false, "score": 0, "creation_date": 1606783164, "post_id": 56368850, "comment_id": 115061491, "body": "Short of writing your own Maven plugin, yes, this is the correct solution.  Thanks for coming back to let us know your solution."}], "tags": [], "owner": {"reputation": 429, "user_id": 435944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/149e1a76eb1515bad1c3b3a12f47d55c?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Pennell", "link": "https://stackoverflow.com/users/435944/ben-pennell"}, "is_accepted": true, "score": 3, "last_activity_date": 1559165739, "creation_date": 1559165739, "answer_id": 56368850, "question_id": 38750784, "link": "https://stackoverflow.com/questions/38750784/maven-resource-filtering-of-json-file/56368850#56368850", "title": "Maven resource filtering of json file", "body": "<p>For what its worth, I did eventually get this to work. I found that I had to directly list the file for inclusion in order to get it to be processed (its been a long time so hopefully this is the correct solution):</p>\n\n<pre><code>&lt;build&gt;\n  &lt;finalName&gt;${artifactId}&lt;/finalName&gt;\n  &lt;testResources&gt;\n    &lt;testResource&gt;\n      &lt;filtering&gt;true&lt;/filtering&gt;\n      &lt;directory&gt;../etc&lt;/directory&gt;\n      &lt;includes&gt;\n        &lt;include&gt;config.json&lt;/include&gt;\n        &lt;include&gt;config.properties&lt;/include&gt;\n      &lt;/includes&gt;\n    &lt;/testResource&gt;\n  &lt;/testResources&gt;\n...\n</code></pre>\n"}], "owner": {"reputation": 429, "user_id": 435944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/149e1a76eb1515bad1c3b3a12f47d55c?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Pennell", "link": "https://stackoverflow.com/users/435944/ben-pennell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 936, "favorite_count": 0, "accepted_answer_id": 56368850, "answer_count": 1, "score": 5, "last_activity_date": 1559165739, "creation_date": 1470247645, "question_id": 38750784, "link": "https://stackoverflow.com/questions/38750784/maven-resource-filtering-of-json-file", "title": "Maven resource filtering of json file", "body": "<p>In my current project I have a submodule which is using the maven exec plugin to run a test service which pulls configuration files from a location outside of the resources/testResources folders.  </p>\n\n<p>I need to use filtering to inject an environment variable into a few of the configuration files.  This is working for one of the files, a .properties file, but not for another file which is a .json.  In the latter case it simply leaves the variable in the json file.  The two files are right next to each other in the filtered directory.</p>\n\n<p>Here is the filtering snippet from the submodule:</p>\n\n<pre><code>&lt;build&gt;\n  &lt;finalName&gt;${artifactId}&lt;/finalName&gt;\n  &lt;testResources&gt;\n    &lt;testResource&gt;\n      &lt;filtering&gt;true&lt;/filtering&gt;\n      &lt;directory&gt;../etc&lt;/directory&gt;\n    &lt;/testResource&gt;\n  &lt;/testResources&gt;\n</code></pre>\n\n<p>json file:</p>\n\n<pre><code>{ \"customMappings\" :\n    { \"tag:example.com:/vagrant/\" : \"file:${VAGRANT_CWD}\" }\n}\n</code></pre>\n\n<p>Abbreviated project structure:</p>\n\n<ul>\n<li>project\n\n<ul>\n<li>etc\n\n<ul>\n<li>config.properties</li>\n<li>config.json</li>\n</ul></li>\n<li>submodule\n\n<ul>\n<li>pom.xml</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>The submodule is definitely loading both files, but only filtering the .properties file.</p>\n\n<p>Is there something special about it being a json file that would prevent filtering from happening to it?  Anything that can be done about this?  </p>\n"}, {"tags": ["java", "apache-poi"], "comments": [{"owner": {"reputation": 1749, "user_id": 3557027, "user_type": "registered", "profile_image": "https://graph.facebook.com/602209829919627/picture?type=large", "display_name": "Rabbit Guy", "link": "https://stackoverflow.com/users/3557027/rabbit-guy"}, "edited": false, "score": 0, "creation_date": 1470247705, "post_id": 38750780, "comment_id": 64875338, "body": "what is <code>exceldoc</code>? That is not defined in the code..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user180100"}, "edited": false, "score": 0, "creation_date": 1470247770, "post_id": 38750780, "comment_id": 64875372, "body": "Define &quot;not working&quot; please, and note that the way to save a workbook (with POI) is something like <code>wb.write(OutputStream)</code>, see <a href=\"https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFWorkbook.html\" rel=\"nofollow noreferrer\">poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/&hellip;</a>"}, {"owner": {"reputation": 429, "user_id": 4386403, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/e6dd25e87415f1aa1b8bf960d061e02a?s=128&d=identicon&r=PG&f=1", "display_name": "Rajeev", "link": "https://stackoverflow.com/users/4386403/rajeev"}, "edited": false, "score": 0, "creation_date": 1470248278, "post_id": 38750780, "comment_id": 64875623, "body": "I have edited my question"}, {"owner": {"user_type": "does_not_exist", "display_name": "user180100"}, "edited": false, "score": 0, "creation_date": 1470253910, "post_id": 38750780, "comment_id": 64878849, "body": "Let&#39;s just get back to basic, just pretend you are asking your &quot;question&quot; to some busy colleague. Wild guess: Are you asking how to &quot;update/recompute&quot; the formula before saving with POI?"}, {"owner": {"reputation": 429, "user_id": 4386403, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/e6dd25e87415f1aa1b8bf960d061e02a?s=128&d=identicon&r=PG&f=1", "display_name": "Rajeev", "link": "https://stackoverflow.com/users/4386403/rajeev"}, "edited": false, "score": 0, "creation_date": 1470254141, "post_id": 38750780, "comment_id": 64878964, "body": "yes, same thing I want"}, {"owner": {"reputation": 429, "user_id": 4386403, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/e6dd25e87415f1aa1b8bf960d061e02a?s=128&d=identicon&r=PG&f=1", "display_name": "Rajeev", "link": "https://stackoverflow.com/users/4386403/rajeev"}, "edited": false, "score": 0, "creation_date": 1470256100, "post_id": 38750780, "comment_id": 64879945, "body": "thanks RC, with the help of your comment I have found the solution."}, {"owner": {"reputation": 43110, "user_id": 685641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/598aa6e391b96b1ec24f1c34b58edcd9?s=128&d=identicon&r=PG", "display_name": "Gagravarr", "link": "https://stackoverflow.com/users/685641/gagravarr"}, "edited": false, "score": 0, "creation_date": 1470312158, "post_id": 38750780, "comment_id": 64904749, "body": "As per <a href=\"http://poi.apache.org/faq.html#faq-N1023C\" rel=\"nofollow noreferrer\">the Apache POI FAQ</a>, you either need to write to a different file to the one you opened from, or do an in-place write. Overwriting the open file via a stream isn&#39;t suppored"}], "answers": [{"tags": [], "owner": {"reputation": 429, "user_id": 4386403, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/e6dd25e87415f1aa1b8bf960d061e02a?s=128&d=identicon&r=PG&f=1", "display_name": "Rajeev", "link": "https://stackoverflow.com/users/4386403/rajeev"}, "is_accepted": true, "score": 3, "last_activity_date": 1470256029, "creation_date": 1470256029, "answer_id": 38753020, "question_id": 38750780, "link": "https://stackoverflow.com/questions/38750780/how-to-open-and-save-excel-file-in-java/38753020#38753020", "title": "How to open and save excel file in java", "body": "<p>I have found the solution, in above code I have to add only one line, please check below</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>public static void main(String[] args) {\n\n        String str1 = \"c:/file/test.xlsx\";\n        try {\n\n\n            //open file\n            XSSFWorkbook wb = new XSSFWorkbook(new FileInputStream(new File(str1)));\n            System.out.println(wb.getSheetAt(0).getRow(1).getCell(0).getDateCellValue().toString());\n\n            //FormulaEvaluator evaluator = wb.getCreationHelper().createFormulaEvaluator();\n\n            XSSFFormulaEvaluator.evaluateAllFormulaCells(wb);\n\n            //save file\n            FileOutputStream out = new FileOutputStream(str1);\n            wb.write(out);\n            out.close();\n\n            wb = new XSSFWorkbook(new FileInputStream(new File(str1)));\n            System.out.println(wb.getSheetAt(0).getRow(1).getCell(0).getDateCellValue().toString());\n\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n\n    }\n</code></pre>\n\n\n"}], "owner": {"reputation": 429, "user_id": 4386403, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/e6dd25e87415f1aa1b8bf960d061e02a?s=128&d=identicon&r=PG&f=1", "display_name": "Rajeev", "link": "https://stackoverflow.com/users/4386403/rajeev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14247, "favorite_count": 1, "accepted_answer_id": 38753020, "answer_count": 1, "score": 1, "last_activity_date": 1470256029, "creation_date": 1470247635, "last_edit_date": 1470253583, "question_id": 38750780, "link": "https://stackoverflow.com/questions/38750780/how-to-open-and-save-excel-file-in-java", "title": "How to open and save excel file in java", "body": "<p>I have one excel file (test.xlsx) which contain a column, say id,  in which I have applied a formula and when I open it manually, value of all ids changes automatically, because of it when I close it, it ask for save the changes.</p>\n\n<p>same I have tried with java code as given below</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>public static void main(String[] args) {\n\n        String str1 = \"c:/file/test.xlsx\";\n        try {\n\n\n            //open file\n            XSSFWorkbook wb = new XSSFWorkbook(new FileInputStream(new File(str1)));\n            System.out.println(wb.getSheetAt(0).getRow(1).getCell(0).getDateCellValue().toString());\n\n            //save file\n            FileOutputStream out = new FileOutputStream(str1);\n            wb.write(out);\n            out.close();\n\n            wb = new XSSFWorkbook(new FileInputStream(new File(str1)));\n            System.out.println(wb.getSheetAt(0).getRow(1).getCell(0).getDateCellValue().toString());\n\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n\n    }\n\n\n\n\noutput:\nThu Aug 04 01:08:34 IST 2016\nThu Aug 04 01:08:34 IST 2016\n</code></pre>\n\n\n\n<p>after executing above code I am not getting any exception </p>\n\n<p>I have verified the result by reading file with help of apache POI.</p>\n\n<p>I want, after saving the file with code new ids should be in Id column as it happening in case of manually open and saving file.</p>\n\n<p>For me it is not working with code.</p>\n\n<p>please suggest  </p>\n\n<p>If you are not able to understand the problem then create file like below and open it and close it manually, after that try with code, you will understand the things</p>\n\n<p><a href=\"https://i.stack.imgur.com/r9fjx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r9fjx.png\" alt=\"enter image description here\"></a></p>\n"}]