[{"tags": ["java", "swing"], "comments": [{"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1546473325, "post_id": 54014672, "comment_id": 94866509, "body": "This is a somewhat complex problem.  Double clicking the desktop icon will create a new instance of the application, which is probably not what you really want. There are any number of ways you &quot;might&quot; work around this.  You might make the &quot;work&quot; it&#39;s own process, allowing to execute independently of the UI and then use sockets to facilitate communication between them, this means that the you could &quot;technically&quot; have any number instances of the UI running, but they&#39;d all be taking to  the same instance of the &quot;work&quot;."}, {"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1546473396, "post_id": 54014672, "comment_id": 94866523, "body": "Another mechanism is to setup a server socket when the app is first launched.  Any new instances of the App would connect to this socket, which would trigger original instance to launch the UI and the new instance to terminate"}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1546474006, "post_id": 54014672, "comment_id": 94866647, "body": "<i>&quot;Will this happen by default if I have hidden my JFrame?&quot;</i> You should <b>try it</b> and see for yourself what will happen."}, {"owner": {"reputation": 105, "user_id": 10834036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f1097bd90d054580f4c19ae687661c?s=128&d=identicon&r=PG&f=1", "display_name": "mawds", "link": "https://stackoverflow.com/users/10834036/mawds"}, "reply_to_user": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1546478062, "post_id": 54014672, "comment_id": 94867424, "body": "@Andreas Hey genius I am still developing my application I don&#39;t have an actual icon you can click on from the desktop"}], "owner": {"reputation": 105, "user_id": 10834036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f1097bd90d054580f4c19ae687661c?s=128&d=identicon&r=PG&f=1", "display_name": "mawds", "link": "https://stackoverflow.com/users/10834036/mawds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "closed_date": 1546473125, "answer_count": 0, "score": 0, "last_activity_date": 1546472993, "creation_date": 1546472993, "question_id": 54014672, "link": "https://stackoverflow.com/questions/54014672/what-happens-when-you-click-to-re-open-a-java-application-if-it-was-hidden-when", "closed_reason": "Duplicate", "title": "What happens when you click to re-open a Java application if it was hidden when closed?", "body": "<p>I have a GUI application that I made and I wanted it to run in the background if it was closed so I simply set it's default close operation to be HIDE_ON_CLOSE and it will add a tray icon which will re-open the window when clicked. However, I want to make sure the same thing happens if I click on the desktop icon of my java application (I want it to just set the frame to visible) instead of going through its normal start procedures. Will this happen by default if I have hidden my JFrame? Thanks</p>\n"}, {"tags": ["java", "jackson", "swagger"], "comments": [{"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1546472349, "post_id": 54014562, "comment_id": 94866312, "body": "Your syntax looks OK, your test is valid ... and Swagger should certain support &quot;required = true&quot; for the @ApiParam annotation: <a href=\"http://docs.swagger.io/swagger-core/v1.5.0/apidocs/io/swagger/annotations/ApiParam.html\" rel=\"nofollow noreferrer\">docs.swagger.io/swagger-core/v1.5.0/apidocs/io/swagger/&hellip;</a>.  Q: What version of Swagger are you using?  Also: Q: What kind of app are you running?  A Java servlet?  Spring Boot?  &quot;Something else&quot;?"}, {"owner": {"reputation": 21939, "user_id": 834045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vpxna.jpg?s=128&g=1", "display_name": "Kousha", "link": "https://stackoverflow.com/users/834045/kousha"}, "reply_to_user": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1546472475, "post_id": 54014562, "comment_id": 94866332, "body": "@paulsm4 1.5.12. Also running a Dropwizard app"}, {"owner": {"reputation": 21939, "user_id": 834045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vpxna.jpg?s=128&g=1", "display_name": "Kousha", "link": "https://stackoverflow.com/users/834045/kousha"}, "reply_to_user": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1546472667, "post_id": 54014562, "comment_id": 94866374, "body": "@paulsm4 if i add <code>@NotNull</code> (so have <code>@ApiParam(required = true) @NotNull @Valid final User user</code>) then it works. but that seems odd because as you said <code>required</code> on <code>@ApiParam</code> should be doing that"}, {"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1546473870, "post_id": 54014562, "comment_id": 94866621, "body": "I think Swagger is great.  And if you happened to be using Spring Boot, I might even try to reproduce the problem myself.  But it sounds like this might just be &quot;one of those things&quot; :( SUGGESTION: Check for &quot;null&quot; (and throw an exception) in your code.  I&#39;d recommend this regardless.  It&#39;s not &quot;redundant&quot; - it&#39;s just a &quot;smart thing to do:&quot; ;)  And of course, you can always ask about it here, too: <a href=\"https://swagger.io/community/\" rel=\"nofollow noreferrer\">swagger.io/community</a>"}], "answers": [{"comments": [{"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1546474887, "post_id": 54014796, "comment_id": 94866831, "body": "The last time I used Swagger (&quot;Swashbuckle&quot;, for .Net Core 2.x) the &quot;generated Swagger doc&quot; went hand-in-glove with the Swagger UI.  It handled C# Annotations (er... C# &quot;Attributes&quot; ;)) just fine."}, {"owner": {"reputation": 2185, "user_id": 3752185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa2b22315c99f1be035c3655a2c4aee1?s=128&d=identicon&r=PG&f=1", "display_name": "Janar", "link": "https://stackoverflow.com/users/3752185/janar"}, "reply_to_user": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1546474955, "post_id": 54014796, "comment_id": 94866843, "body": "yes it should, but it seems that the OP is not sending the requests through swagger UI and is using curl instead. Swagger annotations do not perform any server-side validation, they are only used for the generated swagger doc."}, {"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1546476475, "post_id": 54014796, "comment_id": 94867158, "body": "Yup - you&#39;re right.  I&#39;ve only ever used EITHER curl OR Swagger (with Swagger UI), so I didn&#39;t realize that&#39;s what was happening.  Thank you :)  ALSO: I guess this a good example of why the OP should check for &quot;user&quot; in his code (and not rely exclusively on the annotation) ;)"}], "tags": [], "owner": {"reputation": 2185, "user_id": 3752185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa2b22315c99f1be035c3655a2c4aee1?s=128&d=identicon&r=PG&f=1", "display_name": "Janar", "link": "https://stackoverflow.com/users/3752185/janar"}, "is_accepted": true, "score": 2, "last_activity_date": 1546474104, "creation_date": 1546474104, "answer_id": 54014796, "question_id": 54014562, "link": "https://stackoverflow.com/questions/54014562/swagger-apiparam-require-not-working-when-null-is-passed/54014796#54014796", "title": "Swagger @ApiParam require not working when null is passed", "body": "<p>Swagger annotations do not perform any server-side validation of the input - they are only used to generate the swagger doc. Then you have to somehow create an user interface from the generated Swagger doc (for example by using Springfox swagger-ui if using Spring Boot <a href=\"https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui</a>). And finally, if the UI is generated correctly, the UI would perform the validation.</p>\n\n<p>Since in the examples you were sending the requests using Curl, the swagger annotations do nothing (because you aren't sending the requests through Swagger UI) and thus you can send null value. In order to perform server-side validation you have to use other annotations.</p>\n"}], "owner": {"reputation": 21939, "user_id": 834045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vpxna.jpg?s=128&g=1", "display_name": "Kousha", "link": "https://stackoverflow.com/users/834045/kousha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1652, "favorite_count": 0, "accepted_answer_id": 54014796, "answer_count": 1, "score": 2, "last_activity_date": 1546474104, "creation_date": 1546472023, "question_id": 54014562, "link": "https://stackoverflow.com/questions/54014562/swagger-apiparam-require-not-working-when-null-is-passed", "title": "Swagger @ApiParam require not working when null is passed", "body": "<p>I have the following:</p>\n\n<pre><code>@POST\n@Consumes(MediaType.APPLICATION_JSON)\n@Path(\"/some/path\")\nvoid createSomething(@ApiParam(required = true) @Valid final User user);\n</code></pre>\n\n<p>And <code>User</code> is something like</p>\n\n<pre><code>class User {\n    @Valid\n    @NotNull\n    @NotBlank\n    final String name;\n\n    ...\n}\n</code></pre>\n\n<p>I do get back 400 if I do <code>curl -X POST -H \"Content-Type: application/json\" /some/path -d '{\"foo\":\"bar\"}'</code>. </p>\n\n<p>However, if I do not send any thing, then I do not get 400, i.e  <code>curl -X POST -H \"Content-Type: application/json\" /some/path</code> does not result in 400 (and later results in 500 cause the object <code>user</code> is now null. </p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["java", "android"], "comments": [{"owner": {"reputation": 4583, "user_id": 6668797, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/FgETn.jpg?s=128&g=1", "display_name": "TWL", "link": "https://stackoverflow.com/users/6668797/twl"}, "edited": false, "score": 0, "creation_date": 1546472002, "post_id": 54014478, "comment_id": 94866233, "body": "why don&#39;t you specifically add <code>com.android.support:support-media-compat:28.0.0</code>?  as well as any other non-28&#39;s"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1546477194, "post_id": 54014478, "comment_id": 94867283, "body": "down-voted because the dependencies were posted as a screenshot. see <a href=\"https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors\" title=\"discourage screenshots of code and or errors\">meta.stackoverflow.com/questions/303812/&hellip;</a> and <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 9, "user_id": 7126886, "user_type": "registered", "profile_image": "https://graph.facebook.com/2091622741063393/picture?type=large", "display_name": "Rashid Raoufi", "link": "https://stackoverflow.com/users/7126886/rashid-raoufi"}, "edited": false, "score": 0, "creation_date": 1547414262, "post_id": 54014478, "comment_id": 95175494, "body": "Tried specifically adding the &quot;com.android.support:support-media-compat:28.0.0&quot; it removed the red error but when I ran the app it didnt work."}], "answers": [{"tags": [], "owner": {"reputation": 251, "user_id": 9770698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71d3091f2ec823169968a2185ce3678f?s=128&d=identicon&r=PG&f=1", "display_name": "FluidCode", "link": "https://stackoverflow.com/users/9770698/fluidcode"}, "is_accepted": false, "score": 0, "last_activity_date": 1546473812, "creation_date": 1546473812, "answer_id": 54014763, "question_id": 54014478, "link": "https://stackoverflow.com/questions/54014478/how-do-i-change-my-android-studio-gradle-module-dependencies/54014763#54014763", "title": "How do I change my Android Studio Gradle Module dependencies?", "body": "<p>You have build.gradle at App level and build.gradle at module level. You have to change the second one.\nOtherwise you can use the GUI in <strong>Build --> Edit Build Types</strong> and in the wizard instead of changing the Build Types you switch to the <strong>Properties</strong> tab.</p>\n"}], "owner": {"reputation": 9, "user_id": 7126886, "user_type": "registered", "profile_image": "https://graph.facebook.com/2091622741063393/picture?type=large", "display_name": "Rashid Raoufi", "link": "https://stackoverflow.com/users/7126886/rashid-raoufi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1546479308, "creation_date": 1546471400, "last_edit_date": 1546479308, "question_id": 54014478, "link": "https://stackoverflow.com/questions/54014478/how-do-i-change-my-android-studio-gradle-module-dependencies", "title": "How do I change my Android Studio Gradle Module dependencies?", "body": "<p>I am trying to change my grade dependencies, from 26.1 to 28.00 my sdk version. I am doing this because in order to implement Google AdMob I have to have the same grade versions.</p>\n\n<p><a href=\"https://i.stack.imgur.com/eXgHz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eXgHz.png\" alt=\"A Picture of the dependencies I want to change\"></a></p>\n"}, {"tags": ["java", "return", "return-value", "factory"], "comments": [{"owner": {"reputation": 1174, "user_id": 4686871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/888524107876859/picture?type=large", "display_name": "Sergei Sirik", "link": "https://stackoverflow.com/users/4686871/sergei-sirik"}, "edited": false, "score": 2, "creation_date": 1546471944, "post_id": 54014437, "comment_id": 94866218, "body": "I don&#39;t think it means anything specific to java features, syntax, or data types. This is not exactly about java at all, it is about interfaces. The synonym is probably &quot;common&quot;, &quot;more intuitive&quot;..."}], "answers": [{"tags": [], "owner": {"reputation": 628808, "user_id": 139985, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=128&d=identicon&r=PG", "display_name": "Stephen C", "link": "https://stackoverflow.com/users/139985/stephen-c"}, "is_accepted": false, "score": 3, "last_activity_date": 1546472133, "creation_date": 1546472133, "answer_id": 54014579, "question_id": 54014437, "link": "https://stackoverflow.com/questions/54014437/what-is-a-natural-return-type-in-java/54014579#54014579", "title": "What is a natural return type in java?", "body": "<p>In this context, \"natural\" simply means natural for the context of the factory method; i.e. what is appropriate or what you would expect.  Intuitive would be another synonym.</p>\n\n<p>This is just normal English usage ... not IT or Java-specific terminology.</p>\n"}, {"comments": [{"owner": {"reputation": 628808, "user_id": 139985, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=128&d=identicon&r=PG", "display_name": "Stephen C", "link": "https://stackoverflow.com/users/139985/stephen-c"}, "edited": false, "score": 0, "creation_date": 1546477041, "post_id": 54014831, "comment_id": 94867263, "body": "<i>&quot;I don&#39;t think the term &quot;natural class&quot; is &quot;official&quot; though.&quot;</i> - precisely!  In my 20+ years of Java programming / spec reading, etc, I don&#39;t recall ever seeing the phrase &quot;natural class&quot; used as terminology.  Which is why I reckon that Bloch is just using &quot;natural&quot; as a normal English word.  As one would do ... naturally."}, {"owner": {"reputation": 632, "user_id": 3185992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wq2t1.jpg?s=128&g=1", "display_name": "tilois", "link": "https://stackoverflow.com/users/3185992/tilois"}, "reply_to_user": {"reputation": 628808, "user_id": 139985, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=128&d=identicon&r=PG", "display_name": "Stephen C", "link": "https://stackoverflow.com/users/139985/stephen-c"}, "edited": false, "score": 0, "creation_date": 1546479075, "post_id": 54014831, "comment_id": 94867612, "body": "The question about answering questions is: What do you read from the question and what do you answer. If you take the question literally: There is no &quot;natural class&quot; to the best of my / our knowledge. However there is meaning to the book chapter. I decided to answer that, instead of the literal question. Beeing able to phrase a question correctly is often already part of the answer :)"}, {"owner": {"reputation": 628808, "user_id": 139985, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=128&d=identicon&r=PG", "display_name": "Stephen C", "link": "https://stackoverflow.com/users/139985/stephen-c"}, "edited": false, "score": 0, "creation_date": 1546479703, "post_id": 54014831, "comment_id": 94867725, "body": "The first sentence says - <i>&quot;I disagree that it is &quot;just english language&quot;</i>.  I am rebutting that.  Since this is not recognized terminology (official or otherwise) it must be just English.  Obviously, the author has a meaning in mind when he uses those words ... but he is not trying to use or invent terminology here.   But your answer is <b>saying</b> that this <b>is</b> terminology ... without any supporting evidence.  (Your supposed evidence is actually argumentation, and 100% consistent with the normal English use / sense of the word &quot;natural&quot;.)"}, {"owner": {"reputation": 632, "user_id": 3185992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wq2t1.jpg?s=128&g=1", "display_name": "tilois", "link": "https://stackoverflow.com/users/3185992/tilois"}, "reply_to_user": {"reputation": 628808, "user_id": 139985, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=128&d=identicon&r=PG", "display_name": "Stephen C", "link": "https://stackoverflow.com/users/139985/stephen-c"}, "edited": false, "score": 0, "creation_date": 1546480713, "post_id": 54014831, "comment_id": 94867913, "body": "I rephrased that sentence. I still think he refers to the specific class of the static factory method. I do see your point though. I don&#39;t disagree on that whether the term is defined (I also don&#39;t think so). I interpreted &quot;just english&quot; in the sense that it doesn&#39;t refer to an programming term, which I think it does."}], "tags": [], "owner": {"reputation": 632, "user_id": 3185992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wq2t1.jpg?s=128&g=1", "display_name": "tilois", "link": "https://stackoverflow.com/users/3185992/tilois"}, "is_accepted": false, "score": 1, "last_activity_date": 1546480394, "last_edit_date": 1546480394, "creation_date": 1546474442, "answer_id": 54014831, "question_id": 54014437, "link": "https://stackoverflow.com/questions/54014437/what-is-a-natural-return-type-in-java/54014831#54014831", "title": "What is a natural return type in java?", "body": "<p>I think that it refers to the class of the factory (which is usually a static method in the class) which doesn't need to instantiate this specific class. However I don't think it is a defined or usually used term.</p>\n\n<h2>Example: Term</h2>\n\n<pre><code>public abstract class Term {\n\n    public abstract Integer evaluate();\n\n    static Term literal(Integer number) {\n        return new Literal(number);\n    }\n\n    static Term add(Term left, Term right) {\n        return new Addition(left, right);\n    }\n\n    private static class Addition extends Term {\n        private Term left;\n        private Term right;\n\n        public Addition(Term left, Term right) {\n            this.left = left;\n            this.right = right;\n        }\n\n        @java.lang.Override\n        public Integer evaluate() {\n            return left + right;\n        }\n    }\n\n    private static class Literal extends Term {\n        private Integer number;\n\n        public Literal(Integer number) {\n            this.number = number;\n        }\n\n        @java.lang.Override\n        public Integer evaluate() {\n            return number;\n        }\n    }\n}\n</code></pre>\n\n<p>This is a class called <code>Term</code> with 2 factory methods: <code>literal</code> and <code>add</code>, which both return a <code>Term</code> but a subclass of it. Term itself is not instantable, because it is abstract. To the outer world the inner classes are not visible (they are private). Accessible is just the interface / abstract class <code>Term</code>, which is what is referred to in</p>\n\n<blockquote>\n  <p>One application of this flexibility is that an API can return objects without making their classes public.</p>\n</blockquote>\n\n<p>I think the \"natural class\" to return here would be an <code>Term</code> and <code>new</code> is bound to return an instance of exactly the given type. A factory method can return subtypes.</p>\n\n<h2>Example: Guava</h2>\n\n<p>Guava is a library which provides additional collection classes for Java.\nOne of these is an immutable list. It contains multiple factory methods for specific cases, for example one <a href=\"https://github.com/google/guava/blob/0cd4e9faa1360da4a343f84cb275d6eda0c5e732/guava-gwt/src-super/com/google/common/collect/super/com/google/common/collect/ImmutableList.java#L55\" rel=\"nofollow noreferrer\">for an empty list</a> and an additional one for <a href=\"https://github.com/google/guava/blob/0cd4e9faa1360da4a343f84cb275d6eda0c5e732/guava-gwt/src-super/com/google/common/collect/super/com/google/common/collect/ImmutableList.java#L59\" rel=\"nofollow noreferrer\">lists which exactly one element</a>.</p>\n\n<p>I don't think the term \"natural class\" is \"official\" though. Without the context (and even with it, as we can see here) it is not sure that it is recognized. So I took your question on a more broader scale and explained what the chapter is about.</p>\n"}, {"tags": [], "owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "is_accepted": false, "score": 2, "last_activity_date": 1546474571, "creation_date": 1546474571, "answer_id": 54014841, "question_id": 54014437, "link": "https://stackoverflow.com/questions/54014437/what-is-a-natural-return-type-in-java/54014841#54014841", "title": "What is a natural return type in java?", "body": "<p>A concrete example of this would be something like Guava's <code>ImmutableList</code> factory methods.</p>\n\n<p>This has 13 overloads of the <code>of</code> method, with increasing numbers of parameters. If you look at <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/ImmutableList.java#L82\" rel=\"nofollow noreferrer\">the source of the first 3</a>:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\npublic static &lt;E&gt; ImmutableList&lt;E&gt; of() {\n  return (ImmutableList&lt;E&gt;) EMPTY;\n}\n\npublic static &lt;E&gt; ImmutableList&lt;E&gt; of(E element) {\n  return new SingletonImmutableList&lt;E&gt;(element);\n}\n\npublic static &lt;E&gt; ImmutableList&lt;E&gt; of(E e1, E e2) {\n  return construct(e1, e2);\n}\n</code></pre>\n\n<p>The zero-arg and two-arg methods actually return an instance of <code>RegularImmutableList</code>, which is a subclass of <code>ImmutableList</code>; the one-arg method returns an instance of <code>SingletonImmutableList</code>.</p>\n\n<p>But is this detail about the subclass relevant to you, the caller? No. It is \"natural\" that if you call a method that constructs an <code>ImmutableList</code>, you get back a reference to an <code>ImmutableList</code>.</p>\n\n<p>\"Natural\" in this sense perhaps means \"at an appropriate level of abstraction\".</p>\n"}], "owner": {"reputation": 143, "user_id": 10493796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfb052ca9615592ab7969cac18815981?s=128&d=identicon&r=PG&f=1", "display_name": "Zephers", "link": "https://stackoverflow.com/users/10493796/zephers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 1, "answer_count": 3, "score": 6, "last_activity_date": 1546480394, "creation_date": 1546471087, "question_id": 54014437, "link": "https://stackoverflow.com/questions/54014437/what-is-a-natural-return-type-in-java", "title": "What is a natural return type in java?", "body": "<p>I am reading Joshua Blochs \"Effective Java\", and it says</p>\n\n<blockquote>\n  <p>A third advantage of static factory methods is that, unlike constructors, they can return an object of any subtype of their return type. This gives you great flexibility in choosing the class of the returned object. One application of this flexibility is that an API can return objects without making their classes public. Hiding implementation classes in this fashion leads to a very compact API. This technique lends itself to interface-based frameworks, where interfaces provide natural return types for static factory methods.</p>\n</blockquote>\n\n<p>Can anyone explain what \"natural return types are\"? Thanks!</p>\n"}, {"tags": ["java", "image", "javafx", "java-8"], "comments": [{"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 2, "creation_date": 1546471631, "post_id": 54014424, "comment_id": 94866129, "body": "Can you create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing the two approaches?"}, {"owner": {"reputation": 85, "user_id": 6605832, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MaKkSlUkRzI/AAAAAAAAAAI/AAAAAAAAABk/G55QRKWNA1w/photo.jpg?sz=128", "display_name": "Xunkar", "link": "https://stackoverflow.com/users/6605832/xunkar"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1546515361, "post_id": 54014424, "comment_id": 94878990, "body": "Question edited with example code and comparison."}, {"owner": {"reputation": 11876, "user_id": 1803551, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/oYh4N.png?s=128&g=1", "display_name": "user1803551", "link": "https://stackoverflow.com/users/1803551/user1803551"}, "edited": false, "score": 0, "creation_date": 1546617522, "post_id": 54014424, "comment_id": 94919805, "body": "&quot;<i>some of the pictures are too big to be loaded fully in memory for JavaFX (even though it used to work in Swing)</i>&quot; Can you provide these pictures?"}, {"owner": {"reputation": 85, "user_id": 6605832, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MaKkSlUkRzI/AAAAAAAAAAI/AAAAAAAAABk/G55QRKWNA1w/photo.jpg?sz=128", "display_name": "Xunkar", "link": "https://stackoverflow.com/users/6605832/xunkar"}, "edited": false, "score": 0, "creation_date": 1546627489, "post_id": 54014424, "comment_id": 94924444, "body": "Unfortunately not (they are copyrighted) but the root of this memory issue is the inability to allocate enough heap space with JavaFX. Running a Swing application using -Xmx2g works correctly, but with JavaFX that much memory cannot be allocated by the JVM (x64 JVM using 16G RAM)."}, {"owner": {"reputation": 11876, "user_id": 1803551, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/oYh4N.png?s=128&g=1", "display_name": "user1803551", "link": "https://stackoverflow.com/users/1803551/user1803551"}, "edited": false, "score": 0, "creation_date": 1546754789, "post_id": 54014424, "comment_id": 94951774, "body": "I don&#39;t see why there would be a difference in the memory allocation of the JVM between Swing and JavaFX. Sounds like a bug, I would <a href=\"https://bugreport.java.com/bugreport/\" rel=\"nofollow noreferrer\">submit it</a>. If your image is 4000x3600 = 14.4Mil pixels and each pixel takes 4 bytes (rgba), then that&#39;s 57.6MB, which is really not a lot in any case. Are you getting an OOM exception?"}, {"owner": {"reputation": 11876, "user_id": 1803551, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/oYh4N.png?s=128&g=1", "display_name": "user1803551", "link": "https://stackoverflow.com/users/1803551/user1803551"}, "edited": false, "score": 0, "creation_date": 1546758608, "post_id": 54014424, "comment_id": 94952339, "body": "As for the scaling algorithm, look at graphic&#39;s <code>com.sun.javafx.iio.jpeg.JPEGImageLoader</code> and <code>com.sun.javafx.iio.common.SmoothMinifier</code>. You can try to <code>--patch-module</code> to replace these (whichever you need) with your own version and see if that works for you."}, {"owner": {"reputation": 85, "user_id": 6605832, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MaKkSlUkRzI/AAAAAAAAAAI/AAAAAAAAABk/G55QRKWNA1w/photo.jpg?sz=128", "display_name": "Xunkar", "link": "https://stackoverflow.com/users/6605832/xunkar"}, "edited": false, "score": 0, "creation_date": 1546806156, "post_id": 54014424, "comment_id": 94964301, "body": "I&#39;ve just noticed that the allocation error only happens when executing the project through NetBeans (Error occurred during initialization of VM. Could not reserve enough space for 2097152KB object heap) but works fine when running <code>java -jar</code> from the command line. So there&#39;s that. Also patching does seem to be the only way to go about it sadly, I suppose this answers the original question."}], "owner": {"reputation": 85, "user_id": 6605832, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MaKkSlUkRzI/AAAAAAAAAAI/AAAAAAAAABk/G55QRKWNA1w/photo.jpg?sz=128", "display_name": "Xunkar", "link": "https://stackoverflow.com/users/6605832/xunkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1546515336, "creation_date": 1546471013, "last_edit_date": 1546515336, "question_id": 54014424, "link": "https://stackoverflow.com/questions/54014424/control-over-image-scaling-algorithm", "title": "Control over Image scaling algorithm", "body": "<p>I am trying to rewrite a Swing image viewer in JavaFX, however the scaling algorithm used by the JavaFX Image constructor is of very low quality. Unfortunately I have to rely on resizing the image in the constructor, because some of the pictures are too big to be loaded fully in memory for JavaFX (even though it used to work in Swing).</p>\n\n<p>Here's a comparison. On the left, using <code>BufferedImage.drawImage</code> to downscale a picture and rendering it with <code>Graphics.drawImage</code> in <code>paintComponent</code> (using antialias rendering hint) and on the right the same picture loaded at the same downscaled resolution through the JavaFX Image constructor (smooth is set to true).</p>\n\n<p><a href=\"https://i.imgur.com/Awmx7d0.png\" rel=\"nofollow noreferrer\">Comparison</a></p>\n\n<p>As you can see the JavaFX downscaling algorithm introduces a form of sawtooth effect. How could I remedy this? I imagine the problem comes from the fact that the image is not fully loaded in memory but it seems I have no other choice.</p>\n\n<p>Here's a code that will generate the comparison. Using the following <a href=\"https://upload.wikimedia.org/wikipedia/commons/7/7b/Grace_match_junior_cricket_ball.jpg\" rel=\"nofollow noreferrer\">picture</a> as an example.</p>\n\n<pre><code>public static BufferedImage scale(BufferedImage img, int width, int height) {\n  int imageType = (img.getTransparency() == Transparency.OPAQUE)\n        ? BufferedImage.TYPE_INT_RGB : BufferedImage.TYPE_INT_ARGB;\n  BufferedImage scaled = new BufferedImage(width, height, imageType);\n  Graphics2D context = scaled.createGraphics();\n  context.setRenderingHint(\n        RenderingHints.KEY_INTERPOLATION, \n        RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n  context.drawImage(img, 0, 0, width, height, null);\n  context.dispose();\n  return scaled;\n}\n\n@Override\npublic void start(Stage stage) {\n  // Load full image in memory, downscale using BufferedImage\n  Image image1 = new Image(\"file:4000x3600.jpg\");\n  BufferedImage bimg = SwingFXUtils.fromFXImage(image1, null);\n  bimg = scale(bimg, 600, 600);\n  image1 = SwingFXUtils.toFXImage(bimg, null);\n\n  // Downscale in the Image constructor, saves memory\n  Image image2 = new Image(\"file:4000x3600.jpg\", 600, 600, false, true);\n\n  AnchorPane root = new AnchorPane();\n  ImageView view1 = new ImageView(image1);\n  view1.setLayoutX(0.0);\n  view1.setLayoutY(0.0);\n\n  ImageView view2 = new ImageView(image2);\n  view2.setLayoutX(600.0);\n  view2.setLayoutY(0.0);\n\n  root.getChildren().add(view1);\n  root.getChildren().add(view2);\n  Scene scene = new Scene(root, 1200, 600);\n  stage.setScene(scene);\n  stage.show();\n}\n</code></pre>\n"}, {"tags": ["java", "selenium-chromedriver", "appium"], "comments": [{"owner": {"reputation": 878, "user_id": 6333173, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/k2zu8.jpg?s=128&g=1", "display_name": "Al Imran", "link": "https://stackoverflow.com/users/6333173/al-imran"}, "edited": false, "score": 0, "creation_date": 1546487756, "post_id": 54014309, "comment_id": 94869049, "body": "Please try by adding <code>selenium-java</code> dependency in <code>pom.xml</code> file."}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 7692784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/738a9625764f8c0b94f3c395b204420b?s=128&d=identicon&r=PG&f=1", "display_name": "shd293", "link": "https://stackoverflow.com/users/7692784/shd293"}, "edited": false, "score": 0, "creation_date": 1546491445, "post_id": 54016245, "comment_id": 94869794, "body": "Thank you for the response. Resolved my error. It was a local address issue and not a Selenium issue per se."}], "tags": [], "owner": {"reputation": 168, "user_id": 10611898, "user_type": "registered", "profile_image": "https://graph.facebook.com/2304442336264754/picture?type=large", "display_name": "Nauman Malik", "link": "https://stackoverflow.com/users/10611898/nauman-malik"}, "is_accepted": false, "score": 2, "last_activity_date": 1546488626, "creation_date": 1546488626, "answer_id": 54016245, "question_id": 54014309, "link": "https://stackoverflow.com/questions/54014309/appium-error-exception-in-thread-main-org-openqa-selenium-sessionnotcreatedex/54016245#54016245", "title": "Appium Error :Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Unable to create a new remote session", "body": "<p>In your JAVA code did you add Selenium Jars? If not then add all selenium Jars and try again, it will work.</p>\n\n<p>Selenium Jars are commonly used for web automation but for Android automation and desired capabilities we require some aspects of web as well, hence selenium Jars must be used in Android Automation.</p>\n"}, {"comments": [{"owner": {"reputation": 97, "user_id": 7692784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/738a9625764f8c0b94f3c395b204420b?s=128&d=identicon&r=PG&f=1", "display_name": "shd293", "link": "https://stackoverflow.com/users/7692784/shd293"}, "edited": false, "score": 0, "creation_date": 1546491287, "post_id": 54016253, "comment_id": 94869747, "body": "hello, Thank u for the reply. No need to additional dependencies of selenium , Java-client has all the required appium , selenium and other mvn dependencies required to run the appium test. I figured out my error. I am using MAC-OS. The default local address is 0.0.0.0:4723 and not 127.x.x.x. Your statement in the end about the server made me realise my error. So, thank you :)"}], "tags": [], "owner": {"reputation": 1890, "user_id": 8918302, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FGW9oXTjKBE/AAAAAAAAAAI/AAAAAAAAAHM/u5ig741yBH8/photo.jpg?sz=128", "display_name": "Suban Dhyako", "link": "https://stackoverflow.com/users/8918302/suban-dhyako"}, "is_accepted": false, "score": 2, "last_activity_date": 1546488708, "creation_date": 1546488708, "answer_id": 54016253, "question_id": 54014309, "link": "https://stackoverflow.com/questions/54014309/appium-error-exception-in-thread-main-org-openqa-selenium-sessionnotcreatedex/54016253#54016253", "title": "Appium Error :Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Unable to create a new remote session", "body": "<p>Following dependencies are required for appium:</p>\n\n<ol>\n<li>java-client</li>\n<li>selenium-java</li>\n</ol>\n\n<p>Please add the following dependencies in your pom.xml file:</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;3.141.59&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/io.appium/java-client --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.appium&lt;/groupId&gt;\n    &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n    &lt;version&gt;7.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<blockquote>\n  <p>Also make sure your appium server is running in 127.0.0.1:4723</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 11061356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edb6b791eda290916ba51cd36f5cdd48?s=128&d=identicon&r=PG&f=1", "display_name": "Aman Khan", "link": "https://stackoverflow.com/users/11061356/aman-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1609149826, "last_edit_date": 1609149826, "creation_date": 1609145204, "answer_id": 65474985, "question_id": 54014309, "link": "https://stackoverflow.com/questions/54014309/appium-error-exception-in-thread-main-org-openqa-selenium-sessionnotcreatedex/65474985#65474985", "title": "Appium Error :Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Unable to create a new remote session", "body": "<p>Check your virtual device version if its Android-Version is 9.0+. Then create another device with a version equal to Android 9(Pie) or less than that and try it again. As the latest android version is causing some issues so I tried it with Android 9 which works for me. In the same way, don't go for the latest device as well.</p>\n"}], "owner": {"reputation": 97, "user_id": 7692784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/738a9625764f8c0b94f3c395b204420b?s=128&d=identicon&r=PG&f=1", "display_name": "shd293", "link": "https://stackoverflow.com/users/7692784/shd293"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1489, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1609149826, "creation_date": 1546470134, "last_edit_date": 1546501977, "question_id": 54014309, "link": "https://stackoverflow.com/questions/54014309/appium-error-exception-in-thread-main-org-openqa-selenium-sessionnotcreatedex", "title": "Appium Error :Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Unable to create a new remote session", "body": "<p>I am new to Appium. I am trying to run a test using Appium test case on my Android emulator to open Chrome browser and search for \"google.com\" </p>\n\n<p>I have tried many things to resolve my issue: </p>\n\n<p>1.update chrome on my Android emulator browser</p>\n\n<p>2.update the Maven dependencies and the java client</p>\n\n<p>3.restarting appium server. </p>\n\n<p>and many things more</p>\n\n<p>I am attaching both pics and posting the code for easier analyzing of the problem.</p>\n\n<p>TestWebBrowser.java Code:</p>\n\n<pre><code>public static AppiumDriver&lt;MobileElement&gt; driver; \npublic static void main(String[] args) throws MalformedURLException  {\n\nDesiredCapabilities capabilities = new DesiredCapabilities();   \ncapabilities.setCapability(CapabilityType.BROWSER_NAME, \"Chrome\");\ncapabilities.setCapability(MobileCapabilityType.DEVICE_NAME, \"Test_Demo\");\ncapabilities.setCapability(MobileCapabilityType.PLATFORM_NAME, \"Android\");\ncapabilities.setCapability(MobileCapabilityType.PLATFORM_VERSION, \"7.1.1\");\ndriver = new AndroidDriver&lt;MobileElement&gt; (new URL(\"https://127.0.0.1:4723/wd/hub\"), capabilities);\ndriver.get(\"http://google.com\");\ndriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\ndriver.quit();\n}\n</code></pre>\n\n<p>POM.xml Appium dependency used:</p>\n\n<pre><code>&lt;dependencies&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.appium&lt;/groupId&gt;\n  &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n  &lt;version&gt;7.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Error Description below (thought a pic would be better than copy-paste of the error):\n<a href=\"https://i.stack.imgur.com/w2RvP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w2RvP.png\" alt=\"error description in eclipse console\"></a></p>\n\n<p>Please let me know if I am doing anything fundamentally wrong. It might be a noob mistake. But couldn't find much help with the other stackoverflow questions.</p>\n"}, {"tags": ["java", "exception", "transactions", "try-catch"], "comments": [{"owner": {"reputation": 1893, "user_id": 7424948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd9bc160b58270a5be2e87da3767e12?s=128&d=identicon&r=PG&f=1", "display_name": "Ricola", "link": "https://stackoverflow.com/users/7424948/ricola"}, "edited": false, "score": 1, "creation_date": 1546470261, "post_id": 54014276, "comment_id": 94865758, "body": "<code>cleanup()</code> is already invoked whether the exceptions are thrown or not, that&#39;s the purpose of the <code>finally</code> keyword."}, {"owner": {"reputation": 1013, "user_id": 2565581, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/eb741e84594f4fd862f67796cb524a38?s=128&d=identicon&r=PG", "display_name": "petehallw", "link": "https://stackoverflow.com/users/2565581/petehallw"}, "reply_to_user": {"reputation": 1893, "user_id": 7424948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd9bc160b58270a5be2e87da3767e12?s=128&d=identicon&r=PG&f=1", "display_name": "Ricola", "link": "https://stackoverflow.com/users/7424948/ricola"}, "edited": false, "score": 0, "creation_date": 1546472105, "post_id": 54014276, "comment_id": 94866264, "body": "@Ricola Sorry yes I know that, but when the exceptions are thrown while <code>cleanup()</code> is being invoked, they interrupt that method so it doesn&#39;t finish executing properly."}, {"owner": {"reputation": 1893, "user_id": 7424948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd9bc160b58270a5be2e87da3767e12?s=128&d=identicon&r=PG&f=1", "display_name": "Ricola", "link": "https://stackoverflow.com/users/7424948/ricola"}, "edited": false, "score": 0, "creation_date": 1546472606, "post_id": 54014276, "comment_id": 94866362, "body": "You should give a more complete example, but maybe you could use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>"}], "owner": {"reputation": 1013, "user_id": 2565581, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/eb741e84594f4fd862f67796cb524a38?s=128&d=identicon&r=PG", "display_name": "petehallw", "link": "https://stackoverflow.com/users/2565581/petehallw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546469935, "creation_date": 1546469935, "question_id": 54014276, "link": "https://stackoverflow.com/questions/54014276/handle-exceptions-thrown-asynchronously-in-java", "title": "Handle exceptions thrown asynchronously in Java", "body": "<p>Below is an example of a <code>try/finally</code> block I'm having difficulty with. In the <code>try</code> block, I have two methods that may throw different exceptions. The code in these methods involves Hibernate-managed transactions.</p>\n\n<p>My issue is, it's not until <code>cleanup()</code> is invoked that both of the exceptions are thrown from the methods in the <code>try</code> block.</p>\n\n<p>I need to invoke <code>cleanup()</code> whether the exceptions are thrown or not. How can I get around this?</p>\n\n<pre><code>try\n{\n    mayThrowException1();\n    mayThrowException2();\n}\nfinally\n{\n    cleanup();\n}\n</code></pre>\n"}, {"tags": ["java", "android", "android-recyclerview"], "comments": [{"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1546469747, "post_id": 54014199, "comment_id": 94865597, "body": "What do you mean by <code>there&#39;s a trace of elements before being replaced</code> ? Do you mean that the items inside the range passed to <code>notifyItemRangeChanged()</code> flicker, or something else?"}, {"owner": {"reputation": 1029, "user_id": 2579739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AzEiB.jpg?s=128&g=1", "display_name": "Sethuraman Srinivasan", "link": "https://stackoverflow.com/users/2579739/sethuraman-srinivasan"}, "reply_to_user": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1546470279, "post_id": 54014199, "comment_id": 94865763, "body": "@BenP. Yeah. In both the cases, the toPosition item is flickering."}], "answers": [{"tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": true, "score": 1, "last_activity_date": 1546471768, "creation_date": 1546471768, "answer_id": 54014534, "question_id": 54014199, "link": "https://stackoverflow.com/questions/54014199/drag-and-drop-in-recyclerview-using-itemtouchviewer-without-affecting-the-animat/54014534#54014534", "title": "Drag and drop in Recyclerview using itemTouchViewer without affecting the animation", "body": "<p>Try adding a third argument to your <code>notifyItemRangeChanged()</code> calls. It can be literally any object, but I recommend <code>Boolean.FALSE</code> since it won't take up any extra memory and because \"false\" and \"don't run an animation I don't want\" are sort of related concepts.</p>\n\n<pre><code>if (fromPosition &lt; toPosition) {\n    notifyItemRangeChanged(fromPosition, list.size(), Boolean.FALSE);\n} else {\n    notifyItemRangeChanged(toPosition, list.size(), Boolean.FALSE);\n}\n</code></pre>\n\n<hr>\n\n<p>The reason this should work has to do with what the whole RecyclerView system does when you notify the adapter that items have changed. Part of that process involves the <code>DefaultItemAnimator</code>, which has to decide whether to re-use old ViewHolder instances or not. You <em>want</em> this re-using, but you're not getting it.</p>\n\n<p>When you pass a third argument to <code>notifyItemRangeChanged()</code>, that third argument is passed around the system as a \"payload\". <code>DefaultItemAnimator</code> is one piece of the system that receives this payload, and it decides whether or not to re-use ViewHolders based on whether or not this payload exists.</p>\n\n<blockquote>\n<pre><code>@Override\npublic boolean canReuseUpdatedViewHolder(@NonNull RecyclerView.ViewHolder viewHolder,\n        @NonNull List&lt;Object&gt; payloads) {\n    return !payloads.isEmpty() || super.canReuseUpdatedViewHolder(viewHolder, payloads);\n}\n</code></pre>\n</blockquote>\n\n<p>In your current code, there's no payload, so ViewHolders don't get re-used. This causes an animation of the \"old\" ViewHolder fading out and the \"new\" ViewHolder fading in, which looks an awful lot like a flicker.</p>\n\n<p>When you add the third argument, suddenly there's a payload. Again, it doesn't matter <em>what</em> the payload is, just that it exists at all. Now your ViewHolder can be re-used, so there's no fade in/out animation.</p>\n"}], "owner": {"reputation": 1029, "user_id": 2579739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AzEiB.jpg?s=128&g=1", "display_name": "Sethuraman Srinivasan", "link": "https://stackoverflow.com/users/2579739/sethuraman-srinivasan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 54014534, "answer_count": 1, "score": 1, "last_activity_date": 1546471768, "creation_date": 1546469420, "question_id": 54014199, "link": "https://stackoverflow.com/questions/54014199/drag-and-drop-in-recyclerview-using-itemtouchviewer-without-affecting-the-animat", "title": "Drag and drop in Recyclerview using itemTouchViewer without affecting the animation", "body": "<p>I am implementing onDragDrop method in the adapter class. </p>\n\n<pre><code> public boolean onDragDrop(int fromPosition, int toPosition) {\n    Collections.swap(list, fromPosition, toPosition);\n    notifyItemMoved(fromPosition, toPosition);\n    if (fromPosition &lt; toPosition) {\n        notifyItemRangeChanged(fromPosition, list.size());\n    } else {\n        notifyItemRangeChanged(toPosition, list.size());\n    }\n    return true;\n}\n</code></pre>\n\n<p>The problem I am facing is when onDragDrop method is implemented, the animation is not good; there's a trace of elements before being replaced. I understand that for drag and drop, just notifyItemMoved method is enough, and with that, the animation is perfect. The reason I am implementing notifyItemRangeChanged is that after drag and drop, I want the data to get refreshed.</p>\n\n<p>I went through a lot of StackOverflow posts and tried implementing the suggestions, but nothing worked. Thanks for your help.</p>\n"}, {"tags": ["java", "spring", "hibernate", "spring-data-jpa", "jpql"], "answers": [{"tags": [], "owner": {"reputation": 1330, "user_id": 6544942, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/1100455836666999/picture?type=large", "display_name": "Anton Hlinisty", "link": "https://stackoverflow.com/users/6544942/anton-hlinisty"}, "is_accepted": false, "score": 2, "last_activity_date": 1546470408, "creation_date": 1546470408, "answer_id": 54014344, "question_id": 54014183, "link": "https://stackoverflow.com/questions/54014183/spring-data-jpa-query-with-foreign-key-parameter-not-matched/54014344#54014344", "title": "Spring Data JPA @Query with foreign key: Parameter not matched", "body": "<p>I'd recommend you omit the query and let spring data generate one for you. So your case may be represented somehow like that (in case of proper relation mapping defined):</p>\n\n<pre><code>public interface SignalRepository extends JpaRepository&lt;Signal, Integer&gt; {\n    Optional&lt;Signal&gt; findByObject(YourObjectType object);\n}\n</code></pre>\n\n<p>If you provide more info e.g. your entities - you can get more help.</p>\n"}, {"tags": [], "owner": {"reputation": 163, "user_id": 2802192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8c3Qd.jpg?s=128&g=1", "display_name": "Gaurav Agarwal", "link": "https://stackoverflow.com/users/2802192/gaurav-agarwal"}, "is_accepted": true, "score": 1, "last_activity_date": 1546470778, "creation_date": 1546470778, "answer_id": 54014384, "question_id": 54014183, "link": "https://stackoverflow.com/questions/54014183/spring-data-jpa-query-with-foreign-key-parameter-not-matched/54014384#54014384", "title": "Spring Data JPA @Query with foreign key: Parameter not matched", "body": "<p>You can use Spring data to generate the underlying query like this :</p>\n\n<pre><code>public interface SignalRepository extends JpaRepository&lt;Signal, Integer&gt; {\n    List&lt;Signal&gt; findSignalByObjectId(Integer objectId);\n}\n</code></pre>\n\n<p>or you can write the query with this return type and parameter:</p>\n\n<pre><code>public interface SignalRepository extends JpaRepository&lt;Signal, Integer&gt; {\n    @Query(\"select s from Signal s where s.object = :id\")\n    List&lt;Signal&gt; findSignalByObjectId(@Param(\"id\") Integer objectId);\n}\n</code></pre>\n"}], "owner": {"reputation": 674, "user_id": 1872476, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc68c7db6d34031debde9bf2957b535b?s=128&d=identicon&r=PG", "display_name": "Thadeu Antonio Ferreira Melo", "link": "https://stackoverflow.com/users/1872476/thadeu-antonio-ferreira-melo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1043, "favorite_count": 0, "accepted_answer_id": 54014384, "answer_count": 2, "score": 3, "last_activity_date": 1546500340, "creation_date": 1546469358, "last_edit_date": 1546500340, "question_id": 54014183, "link": "https://stackoverflow.com/questions/54014183/spring-data-jpa-query-with-foreign-key-parameter-not-matched", "title": "Spring Data JPA @Query with foreign key: Parameter not matched", "body": "<p>I have a table \"Signal\" with id, volume and object_id columns.</p>\n\n<p>Object_id is a foreign key. I need to retrieve each signal that has a particular object_id.</p>\n\n<p>Im trying to use this Query  </p>\n\n<pre><code>public interface SignalRepository extends JpaRepository&lt;Signal, Integer&gt; {\n    @Query(\"select s from Signal s where s.object = ?1\")\n    Optional&lt;List&lt;Signal&gt;&gt; findSignalByObjectId(Integer objectId);\n\n}\n</code></pre>\n\n<p>It doens't work. If I change <code>\"?1\"</code> to <code>1</code> it gets the hardcoded value. If I try to query the \"volume\", it works fine.</p>\n\n<p>I get this error:</p>\n\n<blockquote>\n  <p>Blockquote\n  nested exception is java.lang.IllegalArgumentException: Parameter value [1] did not match expected type</p>\n</blockquote>\n"}, {"tags": ["java", "android"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10860024, "user_type": "registered", "profile_image": "https://graph.facebook.com/1978593532223272/picture?type=large", "display_name": "Titouan Floch", "link": "https://stackoverflow.com/users/10860024/titouan-floch"}, "edited": false, "score": 0, "creation_date": 1546526507, "post_id": 54015123, "comment_id": 94885193, "body": "thank you !!! it works, i will try to improve my code but some things arent clear for me, i already tried to .reset() after each sound but nothing changed so i dont know exactly how your solution works. thanks you again, i was stuck on this for 2 days :)"}], "tags": [], "owner": {"reputation": 306, "user_id": 9407524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYQZR.jpg?s=128&g=1", "display_name": "Tito Rezende", "link": "https://stackoverflow.com/users/9407524/tito-rezende"}, "is_accepted": true, "score": 0, "last_activity_date": 1546477563, "creation_date": 1546477563, "answer_id": 54015123, "question_id": 54014094, "link": "https://stackoverflow.com/questions/54014094/questions-about-my-memory-problem-for-my-soundboard-android-app-e-mediaplayerna/54015123#54015123", "title": "Questions about my memory problem for my soundboard android app (E/MediaPlayerNative: error (1, -19))", "body": "<p>The problem is that using MediaPlayer repeatedly in this way can be misleading:</p>\n\n<p>SonDeadliest = MediaPlayer.create(getApplicationContext(),R.raw.themostdeadliestganginuganda);\n                SonDeadliest.start();</p>\n\n<p>It will consume unnecessary resources.\nFor a better understanding I suggest that you read this <a href=\"https://medium.com/androiddevelopers/deep-dive-mediaplayer-best-practices-feb4d15a66f5\" rel=\"nofollow noreferrer\">post</a>. It is written using Kotlin but with a little of kotlin study you can understand.</p>\n\n<p>Here is a implementation in Java, trying to use your scenario:</p>\n\n<pre><code>MediaPlayer myMediaPlayer;\n    @Override\n    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        //Media Player setup\n        myMediaPlayer = new MediaPlayer();\n        myMediaPlayer.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\n            @Override\n            public void onPrepared(MediaPlayer mp) {\n                mp.start();\n            }\n        });\n        myMediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n            @Override\n            public void onCompletion(MediaPlayer mp) {\n                mp.reset();\n            }\n        });\n\n        //Buttons\n        Button button1 = view.findViewById(R.id.button_record1);\n        button1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                playSound(R.raw.record1);\n            }\n        });\n        Button button2 = view.findViewById(R.id.button_record2);\n        button2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                playSound(R.raw.record2);\n            }\n        });\n    }\n\n    void playSound(int rawResId) {\n        try {\n            AssetFileDescriptor afd = getContext().getResources().openRawResourceFd(rawResId);\n            if (afd != null) {\n                myMediaPlayer.reset();\n                myMediaPlayer.setDataSource(afd.getFileDescriptor(), afd.getStartOffset(), afd.getLength());\n                myMediaPlayer.prepareAsync();\n            }\n        } catch (Exception ex) {\n            Log.d(\"MediaPLayer\", \"playSound exception: \" + ex.getMessage());\n        }\n    }\n</code></pre>\n\n<p>The code can be improved, but my intention here was just to facilitate the comprehension. I'm using only 2 buttons for simplification. But I suggest you to consider using better solutions instead of creating a listener to each one of the 24 buttons. (Take a look on DataBinding, passing the resource as reference).  </p>\n"}], "owner": {"reputation": 3, "user_id": 10860024, "user_type": "registered", "profile_image": "https://graph.facebook.com/1978593532223272/picture?type=large", "display_name": "Titouan Floch", "link": "https://stackoverflow.com/users/10860024/titouan-floch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 54015123, "answer_count": 1, "score": 0, "last_activity_date": 1546477563, "creation_date": 1546468722, "question_id": 54014094, "link": "https://stackoverflow.com/questions/54014094/questions-about-my-memory-problem-for-my-soundboard-android-app-e-mediaplayerna", "title": "Questions about my memory problem for my soundboard android app (E/MediaPlayerNative: error (1, -19))", "body": "<p>i have buttons to play sounds, they all works individually, after 14+ uses they dont work anymore if i doesn't restart the app</p>\n\n<p>already tried to mediaplayer.realease after each use, doesnt work, think it is a memory problem dont know how do deal with it</p>\n\n<pre><code>MediaPlayer SonDeadliest\nprotected void onCreate(Bundle savedInstanceState)\n    {\n       boutonDeadliest.setOnClickListener(new View.OnClickListener()\n        {\n            @Override\n            public void onClick(View v)\n            {\n                SonDeadliest = MediaPlayer.create(getApplicationContext(),R.raw.themostdeadliestganginuganda);\n                SonDeadliest.start();\n                fin(SonDeadliest);\n            }\n        });\n public void fin(MediaPlayer m)\n {\n    if(m.isPlaying())\n    {\n\n    }\n    else \n    {\n        m.stop();\n        m.release();\n    }\n}\n</code></pre>\n\n<p>i have like 24 buttons, i'm trying to get an app with everything that works without having to restart the application thank you :)</p>\n"}, {"tags": ["java", "spring", "spring-boot"], "comments": [{"owner": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "edited": false, "score": 1, "creation_date": 1546468510, "post_id": 54014047, "comment_id": 94865262, "body": "Why would you want to autowire an entity? That&#39;s exactly the thing you <i>wouldn&#39;t</i> autowire."}], "answers": [{"tags": [], "owner": {"reputation": 4783, "user_id": 7561129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SeoPr.png?s=128&g=1", "display_name": "Zeusox", "link": "https://stackoverflow.com/users/7561129/zeusox"}, "is_accepted": false, "score": 1, "last_activity_date": 1546468979, "creation_date": 1546468979, "answer_id": 54014138, "question_id": 54014047, "link": "https://stackoverflow.com/questions/54014047/can-we-use-autowired-on-an-entity-object-in-spring/54014138#54014138", "title": "Can we use @autowired on an entity object in spring?", "body": "<p>In fact, Spring support <code>@Autowire</code> only for Spring Beans. A java class becomes Spring Bean only when it is created by Spring, otherwise it is not.</p>\n\n<p>A workaround might be to annotate your class with <code>@Configurable</code> but you would have to use AspectJ</p>\n\n<p>Please look in the Spring documentations on how to use <code>@Configurable</code></p>\n\n<p>Also, I wonder why you would autowire an entity class ?</p>\n"}, {"tags": [], "owner": {"reputation": 8516, "user_id": 71420, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/79ca235df0218cd2ebc86bdf631bf3a3?s=128&d=identicon&r=PG", "display_name": "Igor Konoplyanko", "link": "https://stackoverflow.com/users/71420/igor-konoplyanko"}, "is_accepted": false, "score": 1, "last_activity_date": 1546469584, "creation_date": 1546469584, "answer_id": 54014225, "question_id": 54014047, "link": "https://stackoverflow.com/questions/54014047/can-we-use-autowired-on-an-entity-object-in-spring/54014225#54014225", "title": "Can we use @autowired on an entity object in spring?", "body": "<p>I would warn you not to mix Spring Bean and JPA entities in one class/usecase because:</p>\n\n<ul>\n<li>Spring Beans are instantiated and managed by Spring</li>\n<li>Entities are managed by JPA provider </li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 309, "user_id": 6129410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb62b6ccf9f16e3bccc846d0e18f75f7?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Stendel", "link": "https://stackoverflow.com/users/6129410/florian-stendel"}, "is_accepted": false, "score": 0, "last_activity_date": 1546487010, "last_edit_date": 1546487010, "creation_date": 1546469721, "answer_id": 54014245, "question_id": 54014047, "link": "https://stackoverflow.com/questions/54014047/can-we-use-autowired-on-an-entity-object-in-spring/54014245#54014245", "title": "Can we use @autowired on an entity object in spring?", "body": "<p>If you mean JPAs @Entity-annotation, Spring is simply telling you, that there isn't a bean in its context.\nOn startup/runtime classes in the application will be scanned and each class annotated with spring annotations like @Component, @Service etc. will be instantiated as beans and put into a global context (Spring applicationcontext).\nThis context is then used to lookup and inject those beans into other beans when @Autowired is found during scanning.</p>\n\n<p>Opposed to this, @Entity is used during the creation of the Persistence-Context of JPA (as far as I remember) which isn't aware of Spring and it's context.</p>\n\n<p>Most of the solutions to make both contexts aware of each other a mostly a little bit hacky.</p>\n"}, {"comments": [{"owner": {"reputation": 488, "user_id": 4629427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/295f2a2f1e5200c30613a4feed89080e?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky4Ever", "link": "https://stackoverflow.com/users/4629427/rocky4ever"}, "edited": false, "score": 0, "creation_date": 1546545762, "post_id": 54014674, "comment_id": 94894355, "body": "so I have to go with using new keyword in order to create entity object??"}, {"owner": {"reputation": 2279, "user_id": 3510725, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CFjIU.jpg?s=128&g=1", "display_name": "Minar Mahmud", "link": "https://stackoverflow.com/users/3510725/minar-mahmud"}, "reply_to_user": {"reputation": 488, "user_id": 4629427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/295f2a2f1e5200c30613a4feed89080e?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky4Ever", "link": "https://stackoverflow.com/users/4629427/rocky4ever"}, "edited": false, "score": 0, "creation_date": 1546567808, "post_id": 54014674, "comment_id": 94900683, "body": "@Rocky4Ever Yes that is right. And for existing entities in DB, you can just fetch them using <code>JPA&#47;Hibernate</code>."}], "tags": [], "owner": {"reputation": 2279, "user_id": 3510725, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CFjIU.jpg?s=128&g=1", "display_name": "Minar Mahmud", "link": "https://stackoverflow.com/users/3510725/minar-mahmud"}, "is_accepted": true, "score": 3, "last_activity_date": 1546473031, "creation_date": 1546473031, "answer_id": 54014674, "question_id": 54014047, "link": "https://stackoverflow.com/questions/54014047/can-we-use-autowired-on-an-entity-object-in-spring/54014674#54014674", "title": "Can we use @autowired on an entity object in spring?", "body": "<p>You can only <em>autowire</em> only those beans whose life-cycle are managed by <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#beans\" rel=\"nofollow noreferrer\"><em>Spring IoC container</a></em>.</p>\n\n<p>These beans are defined in <code>xml</code> form with <code>&lt;/bean&gt;</code> tag, or with some special annotations like <code>@Bean</code>, <code>@Component</code>, <code>@Service</code>, <code>@Repository</code> etc.</p>\n\n<p><strong>On the other hand,</strong> </p>\n\n<p>in simple terms, entities are some java objects that you will need to create, update by yourself according to your business logic and save/update/remove them in/from DB. Their life-cycle cannot be managed by <em>Spring IoC container</em>.</p>\n\n<p>So, you should never feel like you need to <em>autowire</em> an <code>entity</code> if you are doing it right!</p>\n"}], "owner": {"reputation": 488, "user_id": 4629427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/295f2a2f1e5200c30613a4feed89080e?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky4Ever", "link": "https://stackoverflow.com/users/4629427/rocky4ever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4602, "favorite_count": 0, "accepted_answer_id": 54014674, "answer_count": 4, "score": 2, "last_activity_date": 1586612166, "creation_date": 1546468425, "last_edit_date": 1547156782, "question_id": 54014047, "link": "https://stackoverflow.com/questions/54014047/can-we-use-autowired-on-an-entity-object-in-spring", "title": "Can we use @autowired on an entity object in spring?", "body": "<p>I have a entity class called <code>Customer</code>, I am using this entity object in another class to set the data. When I use this object below like</p>\n\n<pre><code>@Autowired\nCustomer customer\n</code></pre>\n\n<p>Spring is complaining  that please configure the bean in your classes.</p>\n\n<p>Can we use auto wiring with entity objects?</p>\n"}, {"tags": ["java", "cassandra", "spring-data-cassandra"], "answers": [{"tags": [], "owner": {"reputation": 14696, "user_id": 2067527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f6e8dffbb19acf405198c8fb917337?s=128&d=identicon&r=PG", "display_name": "mp911de", "link": "https://stackoverflow.com/users/2067527/mp911de"}, "is_accepted": false, "score": 3, "last_activity_date": 1546510799, "creation_date": 1546510799, "answer_id": 54020312, "question_id": 54014035, "link": "https://stackoverflow.com/questions/54014035/spring-data-cassandra-create-a-table-with-options-values/54020312#54020312", "title": "Spring Data Cassandra - create a table with options values", "body": "<p>No, there is no option support derived from annotations. You can create tables by using <a href=\"https://docs.spring.io/spring-data/cassandra/docs/current/api/org/springframework/data/cassandra/core/cql/keyspace/CreateTableSpecification.html\" rel=\"nofollow noreferrer\"><code>CreateTableSpecification</code></a>.</p>\n\n<pre><code>CreateTableSpecification.createTable(\"mytable\").with(TableOption.COMMENT, \"my comment\");\n</code></pre>\n\n<p>Spring Data for Apache Cassandra isn't really a CQL object generation framework. The schema support is limited to basic usage to \"just spin up the objects\" without the need to always have a pre-provisioned keyspace.</p>\n"}], "owner": {"reputation": 45, "user_id": 7417233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/797bf7df8f29d665c07f3ac74d28d835?s=128&d=identicon&r=PG&f=1", "display_name": "lucius.pl", "link": "https://stackoverflow.com/users/7417233/lucius-pl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1546510799, "creation_date": 1546468359, "last_edit_date": 1546510548, "question_id": 54014035, "link": "https://stackoverflow.com/questions/54014035/spring-data-cassandra-create-a-table-with-options-values", "title": "Spring Data Cassandra - create a table with options values", "body": "<p>Is there any way to create a table with non-default options values? So far, the <code>@Table</code> annotation was enough for my needs, but I need to set up a TTL value different than default. I use version 1.5.15.\nThanks in advance for help.</p>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 13883, "user_id": 6815131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c38385f9eb57b70176498fa5c3b4c99?s=128&d=identicon&r=PG&f=1", "display_name": "Joe C", "link": "https://stackoverflow.com/users/6815131/joe-c"}, "edited": false, "score": 4, "creation_date": 1546468273, "post_id": 54013990, "comment_id": 94865160, "body": "Welcome to Stack Overflow!  It looks like you may need to learn to use a debugger.  Please help yourself to some <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">complementary debugging techniques</a>.  If you still have issues afterwards, please <a href=\"https://stackoverflow.com/posts/54013990/edit\">edit</a> your question to be more specific with what help you need."}, {"owner": {"reputation": 16720, "user_id": 209591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0ff9c3a23e73d87375f89ab6ccf62e31?s=128&d=identicon&r=PG", "display_name": "Geert-Jan", "link": "https://stackoverflow.com/users/209591/geert-jan"}, "edited": false, "score": 0, "creation_date": 1546468730, "post_id": 54013990, "comment_id": 94865324, "body": "You\u2019re returning true in the for loop, which only exits the for-loop not the method. Instead set a flag to true, return the for loop and if the flag is set to true return true on the method"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10859954, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qabt1mIC2sU/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbLVekwFtAbiWS-1xsEz2vpO9fHkw/mo/photo.jpg?sz=128", "display_name": "JokerTen", "link": "https://stackoverflow.com/users/10859954/jokerten"}, "edited": false, "score": 0, "creation_date": 1546548362, "post_id": 54014070, "comment_id": 94895400, "body": "Thank you Ricola, this helped me a lot, the method now works and discovers all the paths correctly!"}], "tags": [], "owner": {"reputation": 1893, "user_id": 7424948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd9bc160b58270a5be2e87da3767e12?s=128&d=identicon&r=PG&f=1", "display_name": "Ricola", "link": "https://stackoverflow.com/users/7424948/ricola"}, "is_accepted": true, "score": 0, "last_activity_date": 1546469872, "last_edit_date": 1546469872, "creation_date": 1546468589, "answer_id": 54014070, "question_id": 54013990, "link": "https://stackoverflow.com/questions/54013990/my-method-doesnt-reach-the-expected-return-statement/54014070#54014070", "title": "My method doesn&#39;t reach the expected return statement", "body": "<p>You have two main errors in your program.</p>\n\n<ol>\n<li><p>You indeed return <code>true</code> when you have found your vertex, but you don't use the return value. Since your method is recursive, the return value is lost.</p>\n\n<p>Instead of </p>\n\n<pre><code>pathExists(graph,v,v2);\n</code></pre>\n\n<p>You should write</p>\n\n<pre><code>if(pathExists(graph,v,v2)) return true;\n</code></pre></li>\n<li><p>You wrongly clear your visited map during the recursion.<br>\nFirst of all, it is not needed at all except if you need to reuse your visited map after. But even in that case, it's better to clear it outside of your method.<br>\nWhile the <code>visited.clear()</code> under <code>if (v.equals(v2))</code> is not really an issue (apart from the previous remarks), the second one after your for loop will create bugs.\nFor example, consider the following vertices with their adjacency lists:</p>\n\n<pre><code>1 -&gt; [2, 4]\n2 -&gt; [3]\n4 -&gt; [1, 5]\n5 -&gt; []\n</code></pre>\n\n<p>Let's say that you look for vertex <code>5</code> and start from vertex <code>1</code>. You will visit vertex <code>2</code> and vertex <code>3</code>. Your <code>visited</code> map contains <code>[1,2,3]</code>. A the end of <code>pathExists</code> for vertex <code>3</code>, since you haven't found <code>5</code> and <code>3</code> as no neighbor, you clear your <code>visited</code> map. Then you visit vertex <code>4</code>, and since you have cleared your map, it only contains <code>[4]</code>. So you visit <code>1</code> again, and so on.</p></li>\n<li><p>This is not really an error, but there is no need to create a <code>Map&lt;Integer, Boolean&gt;</code>. Just create a <code>Set</code> and check for the presence of the vertex.</p></li>\n</ol>\n"}], "owner": {"reputation": 3, "user_id": 10859954, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qabt1mIC2sU/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbLVekwFtAbiWS-1xsEz2vpO9fHkw/mo/photo.jpg?sz=128", "display_name": "JokerTen", "link": "https://stackoverflow.com/users/10859954/jokerten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 54014070, "answer_count": 1, "score": -1, "last_activity_date": 1546492912, "creation_date": 1546468058, "last_edit_date": 1546492912, "question_id": 54013990, "link": "https://stackoverflow.com/questions/54013990/my-method-doesnt-reach-the-expected-return-statement", "title": "My method doesn&#39;t reach the expected return statement", "body": "<p>I have been staring at this for hours now and can't figure out what is going wrong,</p>\n\n<p>I am trying to implement a method that determines whether or not a path exists between two vertices in a graph, using a depth-first search algorithm.</p>\n\n<p>However, while it seems to succesfully find the vertex it needs to find, it doen't reach the return statement.</p>\n\n<p>I've tried using different variables, printing stuff, changing orders, but can't get this to return true. Any help would be greatly appreciated!</p>\n\n<pre><code>public class Path&lt;V,E&gt; {\n\nprivate HashMap&lt;V,Boolean&gt; visited = new HashMap&lt;V,Boolean&gt;();\n\npublic boolean pathExists(Graph&lt;V,E&gt; graph, V v1, V v2) {\n\n    if (v1.equals(v2)) {\n        System.out.println(\"v1 = v2\");\n        return true;\n    }\n\n    if (!visited.containsKey(v1)) {\n        System.out.println(\"v1 discovered: \"+v1);\n        visited.put(v1, true);\n    }\n\n    for (V v : graph.getNeighbors(v1)) {\n\n        if (v.equals(v2)) {\n            visited.clear();\n            System.out.println(\"v discovered: \"+v);\n            return true;\n        }\n\n        if (!visited.containsKey(v)) {\n            visited.put(v,true);\n            System.out.println(\"visited doesn't contain v: \"+v);\n            System.out.println(\"starting new search with \"+v);\n            pathExists(graph,v,v2);\n        }\n\n    }\n    visited.clear();\n    return false;\n}\n\n\n\npublic static void main(String[] args) {\n\n    MyGraph&lt;String,String&gt; mg = new MyGraph&lt;String,String&gt;();\n    Path&lt;String,String&gt; path = new Path&lt;String,String&gt;();\n\n    mg.insertVertex(\"utrecht\");\n    mg.insertVertex(\"amsterdam\");\n    mg.insertVertex(\"maastricht\");\n\n    mg.insertEdge(\"utrecht\", \"amsterdam\", \"route1\", 2);\n    mg.insertEdge(\"amsterdam\", \"maastricht\", \"route2\", 1);\n\n    boolean c = path.pathExists(mg, \"utrecht\", \"maastricht\");\n\n    System.out.println(c);\n\n}\n}\n</code></pre>\n\n<p>This is the console output.</p>\n\n<pre><code>v1 discovered: utrecht&lt;br&gt;\nvisited doesn't contain v: amsterdam&lt;br&gt;\nstarting new search with amsterdam&lt;br&gt;\nv discovered: maastricht&lt;br&gt;\nfalse&lt;br&gt;\n</code></pre>\n\n<p>Since it is printing \"v discovered: maastricht\", I expect it to be returning true, but it returns false instead.</p>\n"}, {"tags": ["java", "java-8", "java-stream"], "comments": [{"owner": {"reputation": 30223, "user_id": 1876620, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/WyEns.jpg?s=128&g=1", "display_name": "fps", "link": "https://stackoverflow.com/users/1876620/fps"}, "edited": false, "score": 0, "creation_date": 1546528534, "post_id": 54013860, "comment_id": 94886384, "body": "Do you need the map further, i.e. later in the code, for something else? Or do you only need it within the <code>Stream.map</code> function, to use it as a cache?"}], "answers": [{"comments": [{"owner": {"reputation": 1037, "user_id": 884444, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/93aa253c847c4d26bec1bf237817a635?s=128&d=identicon&r=PG", "display_name": "ppb", "link": "https://stackoverflow.com/users/884444/ppb"}, "edited": false, "score": 0, "creation_date": 1546468805, "post_id": 54014016, "comment_id": 94865351, "body": "Thanks Minar. I forget to mention that if key is not present HashMap then fetch from service and put it into hashmap. How I can Put value into HashMap in this case. Here default value is always call to service but I need to put that value in HashMap also after service call."}, {"owner": {"reputation": 2279, "user_id": 3510725, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CFjIU.jpg?s=128&g=1", "display_name": "Minar Mahmud", "link": "https://stackoverflow.com/users/3510725/minar-mahmud"}, "reply_to_user": {"reputation": 1037, "user_id": 884444, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/93aa253c847c4d26bec1bf237817a635?s=128&d=identicon&r=PG", "display_name": "ppb", "link": "https://stackoverflow.com/users/884444/ppb"}, "edited": false, "score": 0, "creation_date": 1546470148, "post_id": 54014016, "comment_id": 94865731, "body": "@ppb I have updated the answer. Please see if it helps."}, {"owner": {"reputation": 1037, "user_id": 884444, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/93aa253c847c4d26bec1bf237817a635?s=128&d=identicon&r=PG", "display_name": "ppb", "link": "https://stackoverflow.com/users/884444/ppb"}, "edited": false, "score": 0, "creation_date": 1546470866, "post_id": 54014016, "comment_id": 94865909, "body": "So here computeIfAbsent() will put value in map if not present?"}, {"owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "edited": false, "score": 0, "creation_date": 1546477016, "post_id": 54014016, "comment_id": 94867260, "body": "According to the documentation, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\">mapper function</a> supplied to <code>map</code> should be non-interfering and stateless."}, {"owner": {"reputation": 1037, "user_id": 884444, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/93aa253c847c4d26bec1bf237817a635?s=128&d=identicon&r=PG", "display_name": "ppb", "link": "https://stackoverflow.com/users/884444/ppb"}, "edited": false, "score": 0, "creation_date": 1546555214, "post_id": 54014016, "comment_id": 94897928, "body": "Thanks Minar. I am trying to right Junit for this but not sure how I can mock employeeCache map and assertEqual or assertThat for the map."}, {"owner": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 0, "creation_date": 1546878698, "post_id": 54014016, "comment_id": 94989829, "body": "The function passed to <code>computeIfAbsent</code> receives the key as parameter, so you can use <code>k</code> instead of capturing <code>empId</code> here. The <code>Integer.valueOf</code> also seems redundant, so you could even use <code>empId -&gt; employeeCache .computeIfAbsent(empId, employeeService::employeeDetails) \u2026</code> here. Besides that, I recommend fixing the misleading indentation."}], "tags": [], "owner": {"reputation": 2279, "user_id": 3510725, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CFjIU.jpg?s=128&g=1", "display_name": "Minar Mahmud", "link": "https://stackoverflow.com/users/3510725/minar-mahmud"}, "is_accepted": false, "score": 3, "last_activity_date": 1546470086, "last_edit_date": 1546470086, "creation_date": 1546468210, "answer_id": 54014016, "question_id": 54013860, "link": "https://stackoverflow.com/questions/54013860/conditional-check-in-java-8-stream-apis/54014016#54014016", "title": "conditional check in java 8 stream apis", "body": "<p>You can use  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Map#computeIfAbsent</code></a> to achieve what you are trying to do:</p>\n\n<pre><code>Map&lt;String, CompletableFuture&lt;Employee&gt;[]&gt; employeeCache = new HashMap&lt;&gt;();\n\nCompletableFuture&lt;Employee&gt;[] employeeDetails = empIds.stream()\n                .map(empId -&gt; employeeCache\n                        .computeIfAbsent(empId, k -&gt; employeeService.employeeDetails(Integer.valueOf(empId))))\n                        .filter(Objects::nonNull)\n                        .toArray(CompletableFuture[]::new);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 34704, "user_id": 1746118, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/a4a3P.png?s=128&g=1", "display_name": "Naman", "link": "https://stackoverflow.com/users/1746118/naman"}, "reply_to_user": {"reputation": 1037, "user_id": 884444, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/93aa253c847c4d26bec1bf237817a635?s=128&d=identicon&r=PG", "display_name": "ppb", "link": "https://stackoverflow.com/users/884444/ppb"}, "edited": false, "score": 0, "creation_date": 1546476622, "post_id": 54014893, "comment_id": 94867189, "body": "@ppb do you want to add it to the map as well while fetching from the service?"}, {"owner": {"reputation": 1037, "user_id": 884444, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/93aa253c847c4d26bec1bf237817a635?s=128&d=identicon&r=PG", "display_name": "ppb", "link": "https://stackoverflow.com/users/884444/ppb"}, "edited": false, "score": 0, "creation_date": 1546476740, "post_id": 54014893, "comment_id": 94867205, "body": "yes. I want to add it to the map as well while fetching from the service so in future I don&#39;t need to call service again for that empId."}, {"owner": {"reputation": 34704, "user_id": 1746118, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/a4a3P.png?s=128&g=1", "display_name": "Naman", "link": "https://stackoverflow.com/users/1746118/naman"}, "reply_to_user": {"reputation": 1037, "user_id": 884444, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/93aa253c847c4d26bec1bf237817a635?s=128&d=identicon&r=PG", "display_name": "ppb", "link": "https://stackoverflow.com/users/884444/ppb"}, "edited": false, "score": 0, "creation_date": 1546476859, "post_id": 54014893, "comment_id": 94867233, "body": "@ppb updated. then use <code>putIfAbsent</code>, it would return the value if already present, or else put it in the map and then return it."}], "tags": [], "owner": {"reputation": 34704, "user_id": 1746118, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/a4a3P.png?s=128&g=1", "display_name": "Naman", "link": "https://stackoverflow.com/users/1746118/naman"}, "is_accepted": false, "score": 1, "last_activity_date": 1546478982, "last_edit_date": 1546478982, "creation_date": 1546475084, "answer_id": 54014893, "question_id": 54013860, "link": "https://stackoverflow.com/questions/54013860/conditional-check-in-java-8-stream-apis/54014893#54014893", "title": "conditional check in java 8 stream apis", "body": "<p>You could possibly use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#ofNullable(T)\" rel=\"nofollow noreferrer\"><code>Optional.ofNullable</code></a>(since lack of key in a <code>Map</code> would return <code>null</code>) along with <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#orElseGet(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>Optional.orElseGet</code></a> (to make the service call when the value isn't present in the <code>Map</code>) in your <code>Stream.map</code> operation as:</p>\n\n<pre><code>CompletableFuture&lt;Employee&gt;[] employeeDetails = empIds.stream()\n        .map(empId -&gt; Optional.ofNullable(employeeCache.get(empId))\n                .orElseGet(() -&gt; employeeService.employeeDetails(Integer.valueOf(empId))))\n        .filter(Objects::nonNull)\n        .toArray(CompletableFuture[]::new);\n</code></pre>\n\n<p>or as suggested by Aomine in comments, you could simply use <code>getOrDefault</code> as well:</p>\n\n<pre><code>CompletableFuture&lt;Employee&gt;[] employeeDetails = empIds.stream()\n        .map(empId -&gt; employeeCache.getOrDefault(empId, \n                employeeService.employeeDetails(Integer.valueOf(empId))))\n        .filter(Objects::nonNull)\n        .toArray(CompletableFuture[]::new);\n</code></pre>\n\n<p><strike> If you want to put in the cache as well, you could simply use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#putIfAbsent(K,V)\" rel=\"nofollow noreferrer\"><code>Map.putIfAbsent</code></a> to put if not present as:</p>\n\n<pre><code>CompletableFuture&lt;Employee&gt;[] employeeDetails = empIds.stream()\n        .map(empId -&gt; employeeCache.putIfAbsent(empiId, employeeService.employeeDetails(Integer.valueOf(empId))))\n        .filter(Objects::nonNull)\n        .toArray(CompletableFuture[]::new);\n</code></pre>\n\n<p></strike></p>\n\n<p>If you want to update the cache as well while fecthing from the service, you're probably better of without streams here:</p>\n\n<pre><code>List&lt;CompletableFuture&lt;Employee&gt;[]&gt; list = new ArrayList&lt;&gt;();\nfor (String empId : empIds) {\n    CompletableFuture&lt;Employee&gt;[] completableFutures = employeeCache.putIfAbsent(employeeService.employeeDetails(Integer.valueOf(empId)));\n    if (completableFutures != null) {\n        list.add(completableFutures);\n    }\n}\nCompletableFuture&lt;Employee&gt;[] employeeDetails = list.toArray(new CompletableFuture[0]);\n</code></pre>\n\n<hr>\n\n<p>Besides, all of that (if I were you) I would have used Guava's <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/cache/LoadingCache.html\" rel=\"nofollow noreferrer\"><code>LoadingCache</code></a> which provides similar benefits under the covers with even a custom <code>CacheLoader</code> implementation.</p>\n\n<p>For further details over it you can read their wiki - <a href=\"https://github.com/google/guava/wiki/CachesExplained\" rel=\"nofollow noreferrer\">CachesExplained</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 30223, "user_id": 1876620, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/WyEns.jpg?s=128&g=1", "display_name": "fps", "link": "https://stackoverflow.com/users/1876620/fps"}, "is_accepted": false, "score": 0, "last_activity_date": 1546529154, "creation_date": 1546529154, "answer_id": 54025215, "question_id": 54013860, "link": "https://stackoverflow.com/questions/54013860/conditional-check-in-java-8-stream-apis/54025215#54025215", "title": "conditional check in java 8 stream apis", "body": "<p>If you don't further need the <code>employeeCache</code> map, i.e. if you are only using it as a local cache within the <code>Stream.map</code> operation, you could abstract it away via a generic utility method:</p>\n\n<pre><code>public static &lt;T, U&gt; Function&lt;T, U&gt; memoize(Function&lt;T, U&gt; f) {\n    Map&lt;T, U&gt; m = new HashMap&lt;&gt;();\n    return t -&gt; m.computeIfAbsent(t, f);\n}\n</code></pre>\n\n<p>This is called <a href=\"https://en.wikipedia.org/wiki/Memoization\" rel=\"nofollow noreferrer\"><em>memoization</em></a> and is a well-known technique, especially in functional programming.</p>\n\n<p>Then, you'd use it in your example as follows:</p>\n\n<pre><code>CompletableFuture&lt;Employee&gt;[] employeeDetails = empIds\n    .stream()\n    .map(memoize(empId -&gt; employeeService.employeeDetails(Integer.valueOf(empId))))\n    .filter(Objects::nonNull)\n    .toArray(CompletableFuture[]::new);\n</code></pre>\n\n<p>As you see, this is totally transparent to the caller code and it will indeed use the map as a cache.</p>\n\n<p><strong>EDIT:</strong> Please note that I've used just a common <code>HashMap</code>, because I've noticed the stream was run sequentially. If you are to ever run the stream in parallel, you should change the cache to <code>ConcurrentHashMap</code>.</p>\n"}], "owner": {"reputation": 1037, "user_id": 884444, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/93aa253c847c4d26bec1bf237817a635?s=128&d=identicon&r=PG", "display_name": "ppb", "link": "https://stackoverflow.com/users/884444/ppb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 1, "answer_count": 3, "score": 4, "last_activity_date": 1546529154, "creation_date": 1546467181, "last_edit_date": 1546468864, "question_id": 54013860, "link": "https://stackoverflow.com/questions/54013860/conditional-check-in-java-8-stream-apis", "title": "conditional check in java 8 stream apis", "body": "<p>I have below existing implementation </p>\n\n<pre><code>CompletableFuture&lt;Employee&gt;[] employeeDetails =\n            empIds.stream().map(empId -&gt;\n                employeeService.employeeDetails(Integer.valueOf(empId)))\n            .filter(Objects::nonNull)\n            .toArray(CompletableFuture[]::new);\n</code></pre>\n\n<p>In this code I need to check in HashMap that empId is already present or not as below - if empId is not present in HashMap then call service and put it into HashMap for future purpose.</p>\n\n<pre><code>Map&lt;String, CompletableFuture&lt;Employee&gt;[]&gt; employeeCache = new HashMap&lt;&gt;();\n\n..........\n\nCompletableFuture&lt;Employee&gt;[] employeeDetails =\n            empIds.stream().map(empId -&gt;\n\n            //Here I need to check in HashMap that empId is present or not if present then fetch from Map instead of calling service.\n\n                employeeService.employeeDetails(Integer.valueOf(empId)))\n            .filter(Objects::nonNull)\n            .toArray(CompletableFuture[]::new);\n</code></pre>\n\n<p>How I can add <code>if</code> check in <code>stream()</code> api as shown in above and if present then get from Map.</p>\n"}, {"tags": ["java", "protocol-buffers"], "comments": [{"owner": {"reputation": 2448, "user_id": 384117, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/201dd82065037d9637b0217e26ded14b?s=128&d=identicon&r=PG", "display_name": "Hippocrates", "link": "https://stackoverflow.com/users/384117/hippocrates"}, "edited": false, "score": 0, "creation_date": 1546467483, "post_id": 54013836, "comment_id": 94864897, "body": "I also tried using <code>DynamicMessage</code> to parse the Any, but that also requires passing in a <code>Descriptors.Descriptor</code> which I can&#39;t seem to get from the <code>Descriptors.DescriptorProto</code>"}], "answers": [{"tags": [], "owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "is_accepted": false, "score": 0, "last_activity_date": 1606150996, "creation_date": 1606150996, "answer_id": 64972878, "question_id": 54013836, "link": "https://stackoverflow.com/questions/54013836/how-to-convert-protocol-buffers-binary-to-json-using-the-descriptor-in-java/64972878#64972878", "title": "How to convert protocol buffers binary to JSON using the descriptor in Java", "body": "<p>If you convert a <code>DescriptorProtos.FileDescriptorProto</code> to <code>Descriptors.FileDescriptor</code>, the latter has a <code>getMessageTypes()</code> method that returns <code>List&lt;Descriptor&gt;</code>.</p>\n<p>Following is a snippet of Kotlin code taken from an open-source library I'm developing called <a href=\"https://github.com/asarkar/okgrpc\" rel=\"nofollow noreferrer\">okgrpc</a>. It's the first of its kind attempt to create a dynamic gRPC client/CLI in Java.</p>\n<pre><code>private fun DescriptorProtos.FileDescriptorProto.resolve(\n        index: Map&lt;String, DescriptorProtos.FileDescriptorProto&gt;,\n        cache: MutableMap&lt;String, Descriptors.FileDescriptor&gt;\n): Descriptors.FileDescriptor {\n    if (cache.containsKey(this.name)) return cache[this.name]!!\n\n    return this.dependencyList\n        .map { (index[it] ?: error(&quot;Unknown dependency: $it&quot;)).resolve(index, cache) }\n        .let {\n            val fd = Descriptors.FileDescriptor.buildFrom(this, *it.toTypedArray())\n            cache[fd.name] = fd\n            fd\n        }\n}\n</code></pre>\n"}], "owner": {"reputation": 2448, "user_id": 384117, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/201dd82065037d9637b0217e26ded14b?s=128&d=identicon&r=PG", "display_name": "Hippocrates", "link": "https://stackoverflow.com/users/384117/hippocrates"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 445, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1606150996, "creation_date": 1546467002, "question_id": 54013836, "link": "https://stackoverflow.com/questions/54013836/how-to-convert-protocol-buffers-binary-to-json-using-the-descriptor-in-java", "title": "How to convert protocol buffers binary to JSON using the descriptor in Java", "body": "<p>I have a message with a field of the \"Any\" well known type which can hold a serialized protobuf message of any type. </p>\n\n<p>I want to convert this field to its json representation.</p>\n\n<p>I know the field names are required, and typically you would need the generated classes loaded in the app for this to work, but I am looking for a way to do it with the descriptors.</p>\n\n<p>First, I parse the descriptors:</p>\n\n<pre><code> FileInputStream descriptorFile = new FileInputStream(\"/descriptor\");\nDescriptorProtos.FileDescriptorSet fdp = DescriptorProtos.FileDescriptorSet.parseFrom(descriptorFile);\n</code></pre>\n\n<p>Then, loop through the contained messages and find the correct one (using the \"Any\" type's URL, which contains the package and message name. I add this to a TypeRegistry which is used to format the JSON.</p>\n\n<pre><code>JsonFormat.TypeRegistry.Builder typeRegistryBuilder = JsonFormat.TypeRegistry.newBuilder();\n\nString messageNameFromUrl = member.getAny().getTypeUrl().split(\"/\")[1];\n\nfor (DescriptorProtos.FileDescriptorProto file : fdp.getFileList()) {\n    for (DescriptorProtos.DescriptorProto dp : file.getMessageTypeList()) {\n        if (messageNameFromUrl.equals(String.format(\"%s.%s\", file.getPackage(), dp.getName()))) {\n\n            typeRegistryBuilder.add(dp.getDescriptorForType()); //Doesn't work.\n            typeRegistryBuilder.add(MyConcreteGeneratedClass.getDescriptor()); //Works\n\n            System.out.println(JsonFormat.printer().usingTypeRegistry(typeRegistryBuilder.build()).preservingProtoFieldNames().print(member.getAny()));\n            return;\n        }\n\n    }\n}\n</code></pre>\n\n<p>The problem seems to be that parsing the descriptor gives me access to <code>Descriptors.DescriptorProto</code> objects, but I see no way to get the <code>Descriptors.Descriptor</code> object needed for the type registry. I can access the concrete class's descriptor with getDescriptor() and that works, but I am trying to format the JSON at runtime by accessing a pre-generated descriptor file from outside the app, and so I do not have that concrete class available to call <code>getDescriptor()</code></p>\n\n<p>What would be even better is if I could use the \"Any\" field's type URL to resolve the <code>Type</code> object and use that to generate the JSON, since it also appears to have the field numbers and names as required for this process.</p>\n\n<p>Any help is appreciated, thanks!</p>\n"}, {"tags": ["java", "json", "postgresql", "blob"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 5721304, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qVI6o.jpg?s=128&g=1", "display_name": "Piter _OS", "link": "https://stackoverflow.com/users/5721304/piter-os"}, "edited": false, "score": 0, "creation_date": 1546473288, "post_id": 54014279, "comment_id": 94866501, "body": "So i did the third option, but first of all I added @JsonIgnore to images field. I write this: @Query(&quot;SELECT re, img.id, img.name FROM User re JOIN re.images img WHERE re.id = :id&quot;) Optional&lt;User&gt; getUserById(@Param(&quot;id&quot;) Long id); but i get this JSON { &quot;id&quot;:&quot;1&quot;, &quot;firstName&quot;; &quot;test&quot;, &quot;lastName&quot;: &quot;test_ln&quot; } 42, IMG12.jpg Any advice how to fix this to have JSON structure presented in main question? { &quot;id&quot;:&quot;1&quot;, &quot;firstName&quot;; &quot;test&quot;, &quot;lastName&quot;: &quot;test_ln&quot;, &quot;images&quot;:{&quot;id&quot;: 42, &quot;name&quot;:&quot;IMG12.jpg&quot;} } ??"}, {"owner": {"reputation": 97, "user_id": 5721304, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qVI6o.jpg?s=128&g=1", "display_name": "Piter _OS", "link": "https://stackoverflow.com/users/5721304/piter-os"}, "edited": false, "score": 0, "creation_date": 1546473687, "post_id": 54014279, "comment_id": 94866583, "body": "also this only works when i got one image. When i added 4 images then i got  NonUniqueResultException: query did not return a unique result: 4"}, {"owner": {"reputation": 2604, "user_id": 1474069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/80dd5f76d4f164348c5ec1f263a2da4b?s=128&d=identicon&r=PG", "display_name": "Carlitos Way", "link": "https://stackoverflow.com/users/1474069/carlitos-way"}, "reply_to_user": {"reputation": 97, "user_id": 5721304, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qVI6o.jpg?s=128&g=1", "display_name": "Piter _OS", "link": "https://stackoverflow.com/users/5721304/piter-os"}, "edited": false, "score": 0, "creation_date": 1546475026, "post_id": 54014279, "comment_id": 94866863, "body": "I modified the queries (and the transformation method) to manage the case when the user does no have any images!"}, {"owner": {"reputation": 97, "user_id": 5721304, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qVI6o.jpg?s=128&g=1", "display_name": "Piter _OS", "link": "https://stackoverflow.com/users/5721304/piter-os"}, "edited": false, "score": 1, "creation_date": 1546475735, "post_id": 54014279, "comment_id": 94867014, "body": "I guess that you forgot to write user.addImage(new ImageEntity()). I did that and it&#39;s not working. I get  <code>Caused by: org.hibernate.HibernateException: Unable to access lob stream org.postgresql.util.PSQLException: Large Objects may not be used in auto-commit mode.</code> during adding new ImageEntity to User"}, {"owner": {"reputation": 2604, "user_id": 1474069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/80dd5f76d4f164348c5ec1f263a2da4b?s=128&d=identicon&r=PG", "display_name": "Carlitos Way", "link": "https://stackoverflow.com/users/1474069/carlitos-way"}, "reply_to_user": {"reputation": 97, "user_id": 5721304, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qVI6o.jpg?s=128&g=1", "display_name": "Piter _OS", "link": "https://stackoverflow.com/users/5721304/piter-os"}, "edited": false, "score": 0, "creation_date": 1546475884, "post_id": 54014279, "comment_id": 94867046, "body": "Did you remove the Transactional annotation?"}, {"owner": {"reputation": 97, "user_id": 5721304, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qVI6o.jpg?s=128&g=1", "display_name": "Piter _OS", "link": "https://stackoverflow.com/users/5721304/piter-os"}, "edited": false, "score": 0, "creation_date": 1546475994, "post_id": 54014279, "comment_id": 94867064, "body": "yes i did. Also i tried with and without @JsonIgnore on images field in user class and it&#39;s not working :("}, {"owner": {"reputation": 2604, "user_id": 1474069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/80dd5f76d4f164348c5ec1f263a2da4b?s=128&d=identicon&r=PG", "display_name": "Carlitos Way", "link": "https://stackoverflow.com/users/1474069/carlitos-way"}, "reply_to_user": {"reputation": 97, "user_id": 5721304, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qVI6o.jpg?s=128&g=1", "display_name": "Piter _OS", "link": "https://stackoverflow.com/users/5721304/piter-os"}, "edited": false, "score": 0, "creation_date": 1546476031, "post_id": 54014279, "comment_id": 94867076, "body": "Sorry, according to this: <a href=\"https://stackoverflow.com/questions/3164072/large-objects-may-not-be-used-in-auto-commit-mode\" title=\"large objects may not be used in auto commit mode\">stackoverflow.com/questions/3164072/&hellip;</a>, you need add the <code>Transactional</code> annotation (in order to retrieve lobs)!!! But, change the cascade type to Persist Only! or detach the user entity before adding the images!!"}, {"owner": {"reputation": 97, "user_id": 5721304, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qVI6o.jpg?s=128&g=1", "display_name": "Piter _OS", "link": "https://stackoverflow.com/users/5721304/piter-os"}, "edited": false, "score": 0, "creation_date": 1546476412, "post_id": 54014279, "comment_id": 94867146, "body": "what do you mean by &quot;detaching the user entity before addding the images&quot; ? I add @Transactional and i change cascade and i get org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.app.model.image.ImageEntity;  org.hibernate.PersistentObjectException: detached entity passed to persist: com.app.model.image.ImageEntity"}, {"owner": {"reputation": 2604, "user_id": 1474069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/80dd5f76d4f164348c5ec1f263a2da4b?s=128&d=identicon&r=PG", "display_name": "Carlitos Way", "link": "https://stackoverflow.com/users/1474069/carlitos-way"}, "reply_to_user": {"reputation": 97, "user_id": 5721304, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qVI6o.jpg?s=128&g=1", "display_name": "Piter _OS", "link": "https://stackoverflow.com/users/5721304/piter-os"}, "edited": false, "score": 0, "creation_date": 1546476791, "post_id": 54014279, "comment_id": 94867218, "body": "Sorry, In Oracle this works like a charm, but I want to help you... I feel that we are getting close ... So, let&#39;s try this ... remove the <code>Transactional</code> annotation and update the code as I suggested (creating the additional image list and setting to the user later)"}, {"owner": {"reputation": 2604, "user_id": 1474069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/80dd5f76d4f164348c5ec1f263a2da4b?s=128&d=identicon&r=PG", "display_name": "Carlitos Way", "link": "https://stackoverflow.com/users/1474069/carlitos-way"}, "reply_to_user": {"reputation": 97, "user_id": 5721304, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qVI6o.jpg?s=128&g=1", "display_name": "Piter _OS", "link": "https://stackoverflow.com/users/5721304/piter-os"}, "edited": false, "score": 1, "creation_date": 1546477139, "post_id": 54014279, "comment_id": 94867274, "body": "BTW, when you use  <code>@Transactional</code> annotation, you have to be careful what you do with the objects that you retrieve from the database, specially, if those objects have permissive cascade types ... if you not are careful, in our example, you end with adding new images to the retrieve user ... that is why I told you to: either remove the <code>@Transactional</code> annotation or detach the User entity from the entittyManager (in order to not modify the entity per se)"}, {"owner": {"reputation": 97, "user_id": 5721304, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qVI6o.jpg?s=128&g=1", "display_name": "Piter _OS", "link": "https://stackoverflow.com/users/5721304/piter-os"}, "edited": false, "score": 0, "creation_date": 1546477347, "post_id": 54014279, "comment_id": 94867303, "body": "ok it works great :) thank you a lot. But i also would like to ask how to retrieve all users in that manner because now endpoint for all users fails :/ And also could you explain is couple words why you solve this that way?"}, {"owner": {"reputation": 2604, "user_id": 1474069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/80dd5f76d4f164348c5ec1f263a2da4b?s=128&d=identicon&r=PG", "display_name": "Carlitos Way", "link": "https://stackoverflow.com/users/1474069/carlitos-way"}, "reply_to_user": {"reputation": 97, "user_id": 5721304, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qVI6o.jpg?s=128&g=1", "display_name": "Piter _OS", "link": "https://stackoverflow.com/users/5721304/piter-os"}, "edited": false, "score": 1, "creation_date": 1546479210, "post_id": 54014279, "comment_id": 94867643, "body": "I added an example for how to do this for the /users endpoint"}, {"owner": {"reputation": 97, "user_id": 5721304, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qVI6o.jpg?s=128&g=1", "display_name": "Piter _OS", "link": "https://stackoverflow.com/users/5721304/piter-os"}, "edited": false, "score": 0, "creation_date": 1546480067, "post_id": 54014279, "comment_id": 94867793, "body": "It works also great. Thank you very much for all your help :)"}], "tags": [], "owner": {"reputation": 2604, "user_id": 1474069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/80dd5f76d4f164348c5ec1f263a2da4b?s=128&d=identicon&r=PG", "display_name": "Carlitos Way", "link": "https://stackoverflow.com/users/1474069/carlitos-way"}, "is_accepted": true, "score": 3, "last_activity_date": 1546481644, "last_edit_date": 1546481644, "creation_date": 1546469940, "answer_id": 54014279, "question_id": 54013834, "link": "https://stackoverflow.com/questions/54013834/could-not-write-json-unable-to-access-lob-stream/54014279#54014279", "title": "Could not write JSON: Unable to access lob stream", "body": "<p>The fastest solution (not the best one) is to add <code>fecth = EAGER</code> to the <code>OneToMany</code> images relationship... the problem with this solution is that always will load the images entity (including the byte[] image) when dealing with users entities (which could be a performance problem)...</p>\n\n<p>The next \"best\" solution is to omit the <code>EAGER</code> configuration described previously, and create a new method in your repository... such method should execute a JPA Query like this:</p>\n\n<pre><code>SELECT ua\nFROM\n    UserAccount ua\n    LEFT JOIN FECTH ua.images img\nWHERE\n    ua.id = :id\n</code></pre>\n\n<p>This will load the user and its related images... then in your service, you call such method (the problem with this solution is that loads the byte[] <code>image</code> even if you only want the other attributes of the <code>ImageEntity</code>)</p>\n\n<p>The best solution is to extend the solution #2 to retrieve only the attributes that you want of the <code>ImageEntity</code>, resulting in a query like this:</p>\n\n<pre><code>SELECT\n    ua,\n    img.id, img.name, img.type\nFROM\n    UserAccount ua\n    LEFT JOIN ua.images img\nWHERE\n    ua.id = :id\n</code></pre>\n\n<p>Then, your repository method should return a JPA <code>Tuple</code> and in your service method you transform that tuple into the User that you want return (including the associated images' metadata) ... <strong>(UPDATE)</strong> Example (using the method that you indicate in your comments):</p>\n\n<pre><code>// @Transactional  // Remove the transactional annotation to avoid cascade issues!\npublic User getUserById(Long id) {\n    List&lt;ImageEntity&gt; images;\n    List&lt;Tuple&gt; tuples;\n    User user;\n\n    tuples = repository.getUserById(id);\n    user   = null;\n\n    if (!tuples.isEmpty()) {\n        user   = tuples.get(0).get(0, User.class);\n        images = new ArrayList&lt;&gt;();\n\n        for (Tuple t : tuples) {\n            if (t.get(1) != null) {\n                images.add(new ImageEntity(\n                    t.get(1, Long.class),\n                    t.get(2, String.class)\n                ));\n            }\n        }\n        user.setImages(images);\n    }\n    return user;\n}\n</code></pre>\n\n<p>In order to this to work, you need:</p>\n\n<ol>\n<li>Modify the signature of the method <code>getUserById</code> (in your repository) to return a List of <a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/Tuple.html\" rel=\"nofollow noreferrer\">Tuple</a></li>\n<li>Create a constructor method in the ImageEntity class with this signature: <code>ImageEntity(long id, String name) { ... }</code></li>\n<li>The User Entity should have a method <code>setImages(List&lt;ImageEntity&gt; images) { ... }</code></li>\n</ol>\n\n<p><strong>UPDATE2:</strong> in order to do something like this, while retrieving all users, you will need:</p>\n\n<p>1) Create (or override) a method in the User repository whose query will be like (let's call it, findAll):</p>\n\n<pre><code>SELECT\n    ua,\n    img.id, img.name, img.type\nFROM\n    UserAccount ua\n    LEFT JOIN ua.images img\n</code></pre>\n\n<p>2) In your service, implement a method like this:</p>\n\n<pre><code>public List&lt;User&gt; findAll(Long id) {\n    List&lt;ImageEntity&gt; images;\n    List&lt;Tuple&gt; tuples;\n    Map&lt;Long, User&gt; index;\n\n    tuples = repository.findAll();\n    index  = new HashMap&lt;&gt;();\n\n    for (Tuple t : tuples) {\n        user = t.get(0, User.class);\n\n        if (!index.containsKey(user.getId()) {\n            images = new ArrayList&lt;&gt;();\n\n            user.setImages(images);\n            index.put(user.getId(), user)\n        } else {\n            user   = index.get(user.getId());\n            images = user.getImages():\n        } \n\n        if (t.get(1) != null) {\n            images.add(new ImageEntity(\n               t.get(1, Long.class),\n               t.get(2, String.class)\n            ));\n        }\n    }\n    return index.values();\n}\n</code></pre>\n\n<p><strong>EXPLANATION:</strong> The key point is we want to retrieve the user with the image metadata (only code, name and type) avoiding to load the lob attribute (because, the images can be MB and they won't be used/serialized) ... that is why we execute a query like this:</p>\n\n<pre><code>    SELECT\n    ua,\n    img.id, img.name, img.type\nFROM\n    UserAccount ua\n    LEFT JOIN ua.images img\n</code></pre>\n\n<ul>\n<li><p>The <code>LEFT JOIN</code> force to retrieve all user (including those without images)</p></li>\n<li><p>The ORM (i.e. JPA implementation, for example, hibernate) maps this kind of query to a Tuple Object (always)!</p></li>\n<li><p>The query produces N x M tuples ... where N are the total of Users and M are total of images... for example, if you have only 1 user with 2 images... the result will be 2 tuples, where first tuple's component is the always the same user, the other components will be the attributes of each images...</p></li>\n<li><p>Then, you need transform the tuple object to a User Object (this is what we do in the service methods) ... the key point here is the use of a new <code>ArrayList</code> for the images attribute, before adding a new ImageEntity to it ... we need to do this because the ORM injects a proxy list for each User loaded ... if we add something to this proxy, the ORM executes the lazy loading of such proxy, retrieving the associated images (which is something that we want to avoid)...</p></li>\n</ul>\n"}], "owner": {"reputation": 97, "user_id": 5721304, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qVI6o.jpg?s=128&g=1", "display_name": "Piter _OS", "link": "https://stackoverflow.com/users/5721304/piter-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2192, "favorite_count": 1, "accepted_answer_id": 54014279, "answer_count": 1, "score": 1, "last_activity_date": 1546481644, "creation_date": 1546466991, "last_edit_date": 1546467997, "question_id": 54013834, "link": "https://stackoverflow.com/questions/54013834/could-not-write-json-unable-to-access-lob-stream", "title": "Could not write JSON: Unable to access lob stream", "body": "<p>I'm writing a server with Spring-Boot using PostgreSQL\nI'm trying to get information about images that are linked to a specific entity.\nI'm trying to get User information from the server to my front-end Angular app.\nIn my system user have images linked to his account so i did class ImageEntity</p>\n\n<pre><code>@Entity @Table(name = \"image\") @Data\npublic class ImageEntity {\n   @Id @GeneratedValue(strategy = GenerationType.SEQUENCE)\n   private Long id;\n   private String name;\n   private String type;\n   @Lob\n   private byte[] image;\n\n   @JsonIgnore\n   public byte[] getImage() {\n       return image;\n   }\n}\n</code></pre>\n\n<p>Then i linked the list of images to user account class</p>\n\n<pre><code>@Entity @Data\npublic class UserAccount{\n@Id @GeneratedValue(strategy = GenerationType.SEQUENCE)\nprivate Long id;\nprivate String firstName;\nprivate String lastName\n\n@OneToMany(cascade = CascadeType.ALL)\n@JoinTable(\n        name = \"user_images\",\n        joinColumns = {@JoinColumn(name = \"user_id\", referencedColumnName = \"id\")},\n        inverseJoinColumns = {@JoinColumn(name = \"image_id\", referencedColumnName = \"id\")}\n)\nprivate List&lt;ImageEntity&gt; images;\n\npublic void addImage(ImageEntity image) {\n    images.add(image);\n}\n}\n</code></pre>\n\n<p>Then i create endpoint to get user by id</p>\n\n<pre><code>@GetMapping(\"users/{id}\")\npublic Optional&lt;User&gt; getUserById(@PathVariable Long id) {\n    return service.getUserById(id);\n}\n</code></pre>\n\n<p>service method is very simple</p>\n\n<pre><code>@Transactional\npublic Optional&lt;User&gt; getUserById(Long id) {\n    return repository.findById(id);\n}\n</code></pre>\n\n<p>I added some images through another endpoint works fine because i'm able to get image in my front-end.</p>\n\n<p>Problem is when i want to get User info as a JSON from server( and i write @JsonIgnore on @Lob field because i only want to have info of image not the actual image) i get this error</p>\n\n<pre><code>Resolved exception caused by handler execution: org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Unable to access lob stream; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Unable to access lob stream (through reference chain: com.app.model.user.User[\"images\"])\n</code></pre>\n\n<p>I read some similar articles and i try to give @JsonIgnore on getter of the Image @Lob image i added @Transactional to service method retrieving elements but it's not working.</p>\n\n<p>I simply want to achieve that kind of message from server:</p>\n\n<pre><code>{\n id: \"1\"\n firstName: \"test\",\n lstName: \"test_ln\",\n images: {\n    {\n        \"id\": 10,\n        \"name\": \"IMG12.jpg\",\n        \"type\": \"image/jpeg\"\n    },\n    {\n        \"id\": 20,\n        \"name\": \"IMG456.jpg\",\n        \"type\": \"image/jpeg\"\n    }\n }\n}\n</code></pre>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 61, "user_id": 10372269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bbf0522751c9619a65b92e7f6b0c7ac?s=128&d=identicon&r=PG&f=1", "display_name": "Sushila Jyothi L&#233;v&#234;que", "link": "https://stackoverflow.com/users/10372269/sushila-jyothi-l%c3%a9v%c3%aaque"}, "edited": false, "score": 0, "creation_date": 1546467148, "post_id": 54013813, "comment_id": 94864772, "body": "Does this make sense? I tried to explain it the best I could..."}, {"owner": {"reputation": 1445, "user_id": 7751982, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3JGnbpBmfKY/AAAAAAAAAAI/AAAAAAAAABY/hBzBVEwJTWk/photo.jpg?sz=128", "display_name": "Md Golam Rahman Tushar", "link": "https://stackoverflow.com/users/7751982/md-golam-rahman-tushar"}, "edited": false, "score": 0, "creation_date": 1546467527, "post_id": 54013813, "comment_id": 94864909, "body": "no it doesnt make sense. i think u should first go ahead and give u some knowledge on oop principles. and for this problem specialy u need to know about inheritence principle well. also what is class, object. so just go through oop paradigm. as if u dont have this knowledge it quite impossible to give u a solution in a single answer."}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1546467535, "post_id": 54013813, "comment_id": 94864913, "body": "No, it does not make sense.  Not to me, anyway.  I see no getter methods, but I don&#39;t understand why you&#39;re concerned that there might be an issue with invoking public methods on an object that that object&#39;s class in fact has."}, {"owner": {"reputation": 637, "user_id": 4692381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5987e748b7ea74525369ec51f4ea8848?s=128&d=identicon&r=PG&f=1", "display_name": "Stalemate Of Tuning", "link": "https://stackoverflow.com/users/4692381/stalemate-of-tuning"}, "edited": false, "score": 0, "creation_date": 1546467693, "post_id": 54013813, "comment_id": 94864968, "body": "Why do you need the getters? Are you trying to create an instance of the inherited object?"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1546467694, "post_id": 54013813, "comment_id": 94864969, "body": "Also, separately, <i>please</i> use consensus Java naming conventions.  In particular, method names should be in camelCase, with the initial letter lowercase.  Example: <code>setMaxSane()</code>.  That makes it much easier on everyone reading your code -- maybe even you."}, {"owner": {"reputation": 61, "user_id": 10372269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bbf0522751c9619a65b92e7f6b0c7ac?s=128&d=identicon&r=PG&f=1", "display_name": "Sushila Jyothi L&#233;v&#234;que", "link": "https://stackoverflow.com/users/10372269/sushila-jyothi-l%c3%a9v%c3%aaque"}, "edited": false, "score": 0, "creation_date": 1546468034, "post_id": 54013813, "comment_id": 94865080, "body": "Sorry, I was using the name convention for enums."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 10372269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bbf0522751c9619a65b92e7f6b0c7ac?s=128&d=identicon&r=PG&f=1", "display_name": "Sushila Jyothi L&#233;v&#234;que", "link": "https://stackoverflow.com/users/10372269/sushila-jyothi-l%c3%a9v%c3%aaque"}, "edited": false, "score": 0, "creation_date": 1546467794, "post_id": 54013896, "comment_id": 94865005, "body": "Thank you so much!"}], "tags": [], "owner": {"reputation": 494, "user_id": 8890655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cd5fbfc22a5a91aa05c82f024956835?s=128&d=identicon&r=PG&f=1", "display_name": "M.Dan", "link": "https://stackoverflow.com/users/8890655/m-dan"}, "is_accepted": true, "score": 1, "last_activity_date": 1546467447, "creation_date": 1546467447, "answer_id": 54013896, "question_id": 54013813, "link": "https://stackoverflow.com/questions/54013813/get-same-12-variables-from-8-classes-in-different-packages-java/54013896#54013896", "title": "get same 12 variables from 8 classes in different packages java", "body": "<p>One of the advantages of inheritance is, that you can call the methods of BaseHuman on every Class that is inheriting from it (e.g. Brother). So you can make a list of BaseHuman like this:</p>\n\n<pre><code>ArrayList&lt;BaseHuman&gt; bhList = new ArrayList&lt;BaseHuman&gt;();\n</code></pre>\n\n<p>and then add Brothers and every thing else to the list. </p>\n\n<pre><code>Brother broA = new Brother();\nSister sisA = new Sister();\nbhList.add(broA);\nbhList.add(sisA);\n</code></pre>\n\n<p>then you could call getters from every Object that is stored in the list like this:</p>\n\n<pre><code>for(BaseHuman bh : bhList){\n    System.out.println(bh.get());\n}\n</code></pre>\n\n<p>The requirement is, that you overwrite the getter Method from the Superclass BaseHuman.</p>\n\n<p>If you want to know more you can look into \"Polymorphism\".</p>\n"}, {"tags": [], "owner": {"reputation": 637, "user_id": 4692381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5987e748b7ea74525369ec51f4ea8848?s=128&d=identicon&r=PG&f=1", "display_name": "Stalemate Of Tuning", "link": "https://stackoverflow.com/users/4692381/stalemate-of-tuning"}, "is_accepted": false, "score": 0, "last_activity_date": 1546468447, "creation_date": 1546468447, "answer_id": 54014050, "question_id": 54013813, "link": "https://stackoverflow.com/questions/54013813/get-same-12-variables-from-8-classes-in-different-packages-java/54014050#54014050", "title": "get same 12 variables from 8 classes in different packages java", "body": "<p>I'm not entirely sure I understand the purpose behind the question, so if I misunderstood please let me know.</p>\n\n<p>If you <em>really</em> just want to call all of the getters in every class, you can use @M.Dan's solution as he provided. But, to me it sounds like you are trying to create an instance of a class that inherits from <code>BaseHuman</code>, so you can change its properties. For example, maybe <code>OldHuman</code> has a lower value for <code>HEALTH</code> but is otherwise the same.</p>\n\n<p>Instead of calling all the getters again to set the fields, you can simply use the <code>BaseHuman</code> class constructor by calling <code>super()</code>:</p>\n\n<pre><code>class OldHuman extends BaseHuman {\n\n    public OldHuman() {\n        super(); //invokes parent constructor which you supplied default values\n        this.HEALTH = 75; //change HEALTH to desired amount instead\n    }\n}\n</code></pre>\n\n<p>This way, you save yourself rewriting all the fields 96 times, and only change what you need. And, your <code>OldHuman</code> will otherwise behave exactly the same (getters, setters, etc.)</p>\n\n<p>If you still REALLY need to call all of the getters, you could at the very least write a method in <code>BaseHuman</code> that returns all fields in a Collection of some sort, and let your classes inherit that instead.</p>\n"}], "owner": {"reputation": 61, "user_id": 10372269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bbf0522751c9619a65b92e7f6b0c7ac?s=128&d=identicon&r=PG&f=1", "display_name": "Sushila Jyothi L&#233;v&#234;que", "link": "https://stackoverflow.com/users/10372269/sushila-jyothi-l%c3%a9v%c3%aaque"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 1, "accepted_answer_id": 54013896, "answer_count": 2, "score": 0, "last_activity_date": 1546468447, "creation_date": 1546466883, "question_id": 54013813, "link": "https://stackoverflow.com/questions/54013813/get-same-12-variables-from-8-classes-in-different-packages-java", "title": "get same 12 variables from 8 classes in different packages java", "body": "<p>I am wondering if there is a way to get multiple variables (12 of them) from 8 different classes in different packages:<br>\n(Humans.Old (3 of 8), Humans.Adult (2 of 8), and Humans.Child (3 of 8)).<br>\nHere is an example of one of the classes:</p>\n\n<pre><code>package Humans.Adult;\n\nimport Humans.BaseHuman;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Brother extends BaseHuman {\n    public void init() {\n        List&lt;Integer&gt; startingItemCodes = new ArrayList&lt;Integer&gt;();\n        startingItemCodes.add(0);\n\n        setMAX_SANE(110); // Part of getters and setters in BaseHuman.java\n        setMAX_WATER(110); // This also\n        setMAX_HUNGER(110); // This also\n        setHEALTH(100); // This also\n\n        setHUNGER_DEC(10); // This also\n        setSANE_DEC(10); // This also\n        setWATER_DEC(10); // This also\n\n        setHEALTH_DEC_HUNGER(10); // This also\n        setHEALTH_DEC_THIRST(10); // This also\n\n        setSICK_CHANCE(0.05f); // This also\n        setNAME(\"Brother\"); // This also\n        setSTARTING_ITEMS(startingItemCodes); // This also\n    }\n}\n</code></pre>\n\n<p>So, for each of the 8 classes like the top one, can I call all of the 12 getter methods extended by BaseHuman, so I would end up calling 96 getter methods. Sorry, I'm fairly new to Java.</p>\n\n<p>How would I do this?</p>\n\n<p>--Thanks!</p>\n"}, {"tags": ["java", "c#", ".net", "image-processing", "bufferedimage"], "comments": [{"owner": {"reputation": 13883, "user_id": 6815131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c38385f9eb57b70176498fa5c3b4c99?s=128&d=identicon&r=PG&f=1", "display_name": "Joe C", "link": "https://stackoverflow.com/users/6815131/joe-c"}, "edited": false, "score": 1, "creation_date": 1546467043, "post_id": 54013784, "comment_id": 94864741, "body": "Welcome to Stack Overflow!  It looks like you may need to learn to use a debugger.  Please help yourself to some <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">complementary debugging techniques</a>.  If you still have issues afterwards, please <a href=\"https://stackoverflow.com/posts/54013784/edit\">edit</a> your question to be more specific with what help you need."}], "answers": [{"tags": [], "owner": {"reputation": 8414, "user_id": 2249175, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XGc78.png?s=128&g=1", "display_name": "Paul Kertscher", "link": "https://stackoverflow.com/users/2249175/paul-kertscher"}, "is_accepted": true, "score": 1, "last_activity_date": 1546469514, "creation_date": 1546469514, "answer_id": 54014208, "question_id": 54013784, "link": "https://stackoverflow.com/questions/54013784/convert-raw-image-into-jpg-in-java/54014208#54014208", "title": "Convert RAW image into jpg in java", "body": "<p>The following part of your code seems not quite right to me </p>\n\n<pre><code>bankData[0][base] = (byte) 255;\nbankData[0][base + 1] = brgb[nindex + 1];\nbankData[0][base + 2] = brgb[nindex + 2];\nbankData[0][base + 3] = brgb[nindex];\n</code></pre>\n\n<p>You are defining your buffered image with <code>TYPE_4BYTE_ABGR</code>. The Java docs say</p>\n\n<blockquote>\n  <p>The byte data is interleaved in a single byte array in the order A, B, G, R from lower to higher byte addresses within each pixel.</p>\n</blockquote>\n\n<p>According to you, the format of the raw image should be BGR, too, hence the bytes in your raw image should have the order B, G, R from lowest, to highest byte, right? As far as I can tell from your snippet, you are copying Red channel value to Green channel, Blue channel value to Red channel and Green channel value to Blue channel. Copying the bytes shoud be rather</p>\n\n<pre><code>bankData[0][base] = (byte) 255;\nbankData[0][base + 1] = brgb[nindex]; // B\nbankData[0][base + 2] = brgb[nindex + 1]; // G\nbankData[0][base + 3] = brgb[nindex + 2]; // R\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10859884, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4onBhxyNybk/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaUP0v1VpL_SuhZNnZ9Mo-qKNO0LQ/mo/photo.jpg?sz=128", "display_name": "rustland", "link": "https://stackoverflow.com/users/10859884/rustland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 1, "accepted_answer_id": 54014208, "answer_count": 1, "score": 0, "last_activity_date": 1546469514, "creation_date": 1546466685, "question_id": 54013784, "link": "https://stackoverflow.com/questions/54013784/convert-raw-image-into-jpg-in-java", "title": "Convert RAW image into jpg in java", "body": "<p>I have capturing device which is returning RAW 640x480 BGR. The docs to support it have only .net/C# code samples. </p>\n\n<p>Here is a sample code they have in the .net SDK</p>\n\n<pre><code>Bitmap bmp = new Bitmap(width, height, PixelFormat.Format24bppRgb);\nBitmapData bmpData = bmp.LockBits(new Rectangle(0, 0,\n                                                            bmp.Width,\n                                                            bmp.Height),\n                                              ImageLockMode.WriteOnly,\n                                              bmp.PixelFormat);\n\nMarshal.Copy(faceImage, 0, bmpData.Scan0, faceImage.Length);\nbmp.UnlockBits(bmpData);\n</code></pre>\n\n<p>Here is the closest I got in Java but colors are still off</p>\n\n<pre><code>int nindex = 0;\nint npad = (raw.length / nHeight) - nWidth * 3;\n\nBufferedImage bufferedImage = new BufferedImage(nWidth, nHeight, BufferedImage.TYPE_4BYTE_ABGR);\nDataBufferByte dataBufferByte = ((DataBufferByte) bufferedImage.getRaster().getDataBuffer());\nbyte[][] bankData = dataBufferByte.getBankData();\nbyte brgb[] = new byte[(nWidth + npad) * 3 * nHeight];\n\nSystem.arraycopy(raw, 0, brgb, 0, raw.length);\n\nfor(int j = 0; j &lt; nHeight - 1; j++)\n{\n    for(int i = 0; i &lt; nWidth; i++)\n    {\n        int base = (j * nWidth + i) * 4;\n        bankData[0][base] = (byte) 255;\n        bankData[0][base + 1] = brgb[nindex + 1];\n        bankData[0][base + 2] = brgb[nindex + 2];\n        bankData[0][base + 3] = brgb[nindex];\n        nindex += 3;\n    }\n    nindex += npad;\n}\n\nImageIO.write(bufferedImage, \"png\", bs);\n</code></pre>\n\n<p>The red and green colors seems to be inverted. Appreciate your feedback to get this fixed. Thank you!</p>\n"}, {"tags": ["java", "spring-integration"], "answers": [{"comments": [{"owner": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "edited": false, "score": 0, "creation_date": 1546468784, "post_id": 54014087, "comment_id": 94865338, "body": "You can&#39;t use an expression there; that&#39;s why we added the <code>time-to-live-expression</code> in 5.1.  It needs a fair amount of support code e.g. updates to the <code>DynamicJmsTemplate</code>.  We have no plans to backport it to 4.x so you will need to implement something similar yourself. <a href=\"https://github.com/spring-projects/spring-integration/pull/2561\" rel=\"nofollow noreferrer\">This is the PR for the 5.1 implementation</a>."}, {"owner": {"reputation": 318, "user_id": 2915705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5110664a6e65d59cf4e5f8af860a5566?s=128&d=identicon&r=PG&f=1", "display_name": " Martin", "link": "https://stackoverflow.com/users/2915705/martin"}, "reply_to_user": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "edited": false, "score": 0, "creation_date": 1546632864, "post_id": 54014087, "comment_id": 94926446, "body": "@ArtemBilan and @GaryRussell Before the <code>&lt;int-jms:outbound-channel-adapter&gt;</code> while enriching the message can I set expiration through ? <code>MessageBuilder.fromMessage(message).setExpirationDate(Instan&zwnj;&#8203;t.now().toEpochMilli&zwnj;&#8203;() + 20000).build()</code> or any other custom header?"}, {"owner": {"reputation": 91346, "user_id": 2756547, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=128&d=identicon&r=PG", "display_name": "Artem Bilan", "link": "https://stackoverflow.com/users/2756547/artem-bilan"}, "edited": false, "score": 0, "creation_date": 1546633262, "post_id": 54014087, "comment_id": 94926562, "body": "No, see JMS spec. The <code>TTL</code> can be set only from the provider impl. And what you mention is fully not related to the JMS <code>TTL</code>. Please, follow our advises in the answer."}, {"owner": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "edited": false, "score": 0, "creation_date": 1546633343, "post_id": 54014087, "comment_id": 94926594, "body": "No; as Artem said, you need to create a customized <code>JmsTemplate</code> that gets the TTL from a <code>ThreadLocal</code>, and inject the template into the adapter. Some upstream component needs to set the <code>Threadlocal</code> and the custom template needs to clear it. Or, of course, upgrade to 5.1."}, {"owner": {"reputation": 318, "user_id": 2915705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5110664a6e65d59cf4e5f8af860a5566?s=128&d=identicon&r=PG&f=1", "display_name": " Martin", "link": "https://stackoverflow.com/users/2915705/martin"}, "edited": false, "score": 0, "creation_date": 1549397090, "post_id": 54014087, "comment_id": 95885554, "body": "You guys rock, this resolved my issue. Thanks for your help"}, {"owner": {"reputation": 91346, "user_id": 2756547, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=128&d=identicon&r=PG", "display_name": "Artem Bilan", "link": "https://stackoverflow.com/users/2756547/artem-bilan"}, "edited": false, "score": 0, "creation_date": 1549397144, "post_id": 54014087, "comment_id": 95885580, "body": "Great! Sounds like time for this: <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a> !"}], "tags": [], "owner": {"reputation": 91346, "user_id": 2756547, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=128&d=identicon&r=PG", "display_name": "Artem Bilan", "link": "https://stackoverflow.com/users/2756547/artem-bilan"}, "is_accepted": true, "score": 2, "last_activity_date": 1546468669, "creation_date": 1546468669, "answer_id": 54014087, "question_id": 54013782, "link": "https://stackoverflow.com/questions/54013782/setting-dynamic-value-to-time-to-live-in-spring-integration/54014087#54014087", "title": "Setting dynamic value to time-to-live in Spring integration", "body": "<p>Only the way to fix it for the mentioned version is something similar what we did in the <code>DynamicJmsTemplate</code> and <code>DynamicJmsTemplateProperties</code>.</p>\n\n<p>So, you need to store a dynamic value in the <code>ThreadLocal</code> before sending a message to the <code>&lt;int-jms:outbound-channel-adapter&gt;</code>. Extend that <code>DynamicJmsTemplate</code> to get access to the mentioned <code>ThreadLocal</code> variable in the overridden <code>getTimeToLive()</code> method. And clean that <code>ThreadLocal</code> value.</p>\n"}], "owner": {"reputation": 318, "user_id": 2915705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5110664a6e65d59cf4e5f8af860a5566?s=128&d=identicon&r=PG&f=1", "display_name": " Martin", "link": "https://stackoverflow.com/users/2915705/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "accepted_answer_id": 54014087, "answer_count": 1, "score": 1, "last_activity_date": 1546468669, "creation_date": 1546466676, "question_id": 54013782, "link": "https://stackoverflow.com/questions/54013782/setting-dynamic-value-to-time-to-live-in-spring-integration", "title": "Setting dynamic value to time-to-live in Spring integration", "body": "<p>We have messages coming from the upstream with an expiration timestamp. These messages are to be processed and sent to the downstream with a time-to-live </p>\n\n<p>For various types of messages we receive different expiration timestamp and thus the time-to-live is calculated separately for each message type in a service activator and set to the outbound message header payload as below:</p>\n\n<pre><code>MessageBuilder.fromMessage(requestMessage).\nsetHeader(\"header1\",header1).\nsetHeader(\"header2\",header2).\nsetHeader(\"timeToLive\",timeToLive).\nsetHeader(\"header3\",header3).build();\n</code></pre>\n\n<p>Now, we are using to publish this message as below:</p>\n\n<pre><code>&lt;int-jms:outbound-channel-adapter id=\"publishMessage\" channel=\"publishMessageChannel\" header-mapper=\"headerMapper\"\n                                     pub-sub-domain=\"${is.topic}\"\n                                     destination-name=\"${outbound.queue}\" connection-factory=\"outputConnectionFactory\" order=\"1\" explicit-qos-enabled=\"true\" time-to-live=\"headers['timeToLive']\"&gt;\n    &lt;int-jms:request-handler-advice-chain&gt;\n        &lt;ref bean=\"retryAdvice\" /&gt;\n    &lt;/int-jms:request-handler-advice-chain&gt;    \n</code></pre>\n\n<p></p>\n\n<p>Above is throwing the following exception as the time-to-live is set to accept only numbers</p>\n\n<blockquote>\n  <p>Caused by: org.springframework.beans.TypeMismatchException: Failed to\n  convert property value of type 'java.lang.String' to required type\n  'long' for property 'timeToLive'; nested exception is\n  java.lang.NumberFormatException: For input string:\n  \"'headers['timeToLive']'</p>\n</blockquote>\n\n<p><em>We are on SI version 4.3 so cannot use the time-to-live-expression available on later versions</em></p>\n\n<p>Need to find a way to get the value of <strong>timeToLive</strong> from enriched header set to <strong>time-to-live</strong> in <strong>int-jms:outbound-channel-adapter</strong></p>\n"}, {"tags": ["java", "file", "inheritance", "arraylist"], "comments": [{"owner": {"reputation": 1238, "user_id": 1379528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/903f1335825f18667a6b356f0f3a4900?s=128&d=identicon&r=PG", "display_name": "Norbert", "link": "https://stackoverflow.com/users/1379528/norbert"}, "edited": false, "score": 0, "creation_date": 1546471187, "post_id": 54013752, "comment_id": 94866008, "body": "please check this answer: <a href=\"https://stackoverflow.com/a/1568007/1379528\">stackoverflow.com/a/1568007/1379528</a>"}, {"owner": {"reputation": 3, "user_id": 10632359, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tex_Dex", "link": "https://stackoverflow.com/users/10632359/tex-dex"}, "reply_to_user": {"reputation": 1238, "user_id": 1379528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/903f1335825f18667a6b356f0f3a4900?s=128&d=identicon&r=PG", "display_name": "Norbert", "link": "https://stackoverflow.com/users/1379528/norbert"}, "edited": false, "score": 0, "creation_date": 1546503070, "post_id": 54013752, "comment_id": 94873174, "body": "Is there any way I can use abstract classes in this concept? @Norbert"}], "owner": {"reputation": 3, "user_id": 10632359, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tex_Dex", "link": "https://stackoverflow.com/users/10632359/tex-dex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "closed_date": 1546471883, "answer_count": 0, "score": 0, "last_activity_date": 1547029162, "creation_date": 1546466485, "last_edit_date": 1547029162, "question_id": 54013752, "link": "https://stackoverflow.com/questions/54013752/inheritance-sports-database-concept", "closed_reason": "Duplicate", "title": "Inheritance Sports Database Concept", "body": "<p>So I'm building a program that is actually a simple database which stores numerous information about a Sports club and I have these as classes; Athlete, Staff, Coach, Venue and Training Routine. Then I'll be merging some of this information into subcategories such as Competition, Injury and Training Schedule which will include information from the other classes.</p>\n\n<p>Is there any way where I can include Inheritance. I was thinking about something doing with the databases of the classes since these all do almost the same thing such as adding, deletion, modifying, searching etc... however different classes have different variables, whilst others are more similar such as (name, surname, sex etc.)</p>\n\n<p>In my project I need to implement the use of abstract classes. Is there any way to use abstract classes in this project?</p>\n"}, {"tags": ["java", "gwt"], "answers": [{"comments": [{"owner": {"reputation": 185, "user_id": 7367398, "user_type": "registered", "accept_rate": 46, "profile_image": "https://lh4.googleusercontent.com/-gqRfYYwBIYs/AAAAAAAAAAI/AAAAAAAAAKE/GW6JoEzycJg/photo.jpg?sz=128", "display_name": "piddler", "link": "https://stackoverflow.com/users/7367398/piddler"}, "edited": false, "score": 0, "creation_date": 1546467121, "post_id": 54013778, "comment_id": 94864764, "body": "it wont let me send the byte array only as a string"}, {"owner": {"reputation": 1978, "user_id": 10148053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KYirZ.png?s=128&g=1", "display_name": "Daniel B.", "link": "https://stackoverflow.com/users/10148053/daniel-b"}, "reply_to_user": {"reputation": 185, "user_id": 7367398, "user_type": "registered", "accept_rate": 46, "profile_image": "https://lh4.googleusercontent.com/-gqRfYYwBIYs/AAAAAAAAAAI/AAAAAAAAAKE/GW6JoEzycJg/photo.jpg?sz=128", "display_name": "piddler", "link": "https://stackoverflow.com/users/7367398/piddler"}, "edited": false, "score": 1, "creation_date": 1546467332, "post_id": 54013778, "comment_id": 94864839, "body": "@piddler you are correct, previous example was for a <code>String</code>, not <code>byte[]</code>, my bad. Edited the answer to use <code>getOutputStream()</code>, instead of <code>getWriter()</code>. Its write method accepts a <code>byte[]</code>."}, {"owner": {"reputation": 185, "user_id": 7367398, "user_type": "registered", "accept_rate": 46, "profile_image": "https://lh4.googleusercontent.com/-gqRfYYwBIYs/AAAAAAAAAAI/AAAAAAAAAKE/GW6JoEzycJg/photo.jpg?sz=128", "display_name": "piddler", "link": "https://stackoverflow.com/users/7367398/piddler"}, "edited": false, "score": 0, "creation_date": 1546470247, "post_id": 54013778, "comment_id": 94865753, "body": "i extracted the url from the string and i am seeing the image on the browser. Thanks"}], "tags": [], "owner": {"reputation": 1978, "user_id": 10148053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KYirZ.png?s=128&g=1", "display_name": "Daniel B.", "link": "https://stackoverflow.com/users/10148053/daniel-b"}, "is_accepted": true, "score": 1, "last_activity_date": 1546467249, "last_edit_date": 1546467249, "creation_date": 1546466658, "answer_id": 54013778, "question_id": 54013727, "link": "https://stackoverflow.com/questions/54013727/gwt-doget-servlet-return-image-byte-array-or-image-to-client/54013778#54013778", "title": "GWT doGet() servlet return image byte array or image to client", "body": "<p>Use the response <code>Writer</code> to write the response back to client, like this:</p>\n\n<pre><code>byte[] b =  API.GetAccountManager().getCompanyLogo(accountId);\nrespose.getOutputStream().write(b);\n</code></pre>\n\n<p>It will write the bytes back to the client, and on the client side, you will need parse the bytes most likely from an <code>InputStream</code>.</p>\n"}], "owner": {"reputation": 185, "user_id": 7367398, "user_type": "registered", "accept_rate": 46, "profile_image": "https://lh4.googleusercontent.com/-gqRfYYwBIYs/AAAAAAAAAAI/AAAAAAAAAKE/GW6JoEzycJg/photo.jpg?sz=128", "display_name": "piddler", "link": "https://stackoverflow.com/users/7367398/piddler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 54013778, "answer_count": 1, "score": 0, "last_activity_date": 1546467249, "creation_date": 1546466399, "question_id": 54013727, "link": "https://stackoverflow.com/questions/54013727/gwt-doget-servlet-return-image-byte-array-or-image-to-client", "title": "GWT doGet() servlet return image byte array or image to client", "body": "<p>I am using GWT file upload widget to upload the image and then http servlet to get the image into the database. </p>\n\n<p>I am using the formPanel FormPanel.METHOD_GET to call my servelet doGet() and i  am getting the image and storing it in to the byte array. I am unsure how to get that back to the client?</p>\n\n<p>client code</p>\n\n<pre><code>downloadPanel = new FormPanel();\ndownloadPanel.setEncoding(FormPanel.ENCODING_MULTIPART);\ndownloadPanel.setMethod(FormPanel.METHOD_GET);\ndownloadPanel.setAction(GWT.getModuleBaseURL()+\"downloadfile\" + \"?brandID=\"+ accountIdStr);\ndownloadPanel.submit();\n\ndownloadPanel.addSubmitCompleteHandler(new FormPanel.SubmitCompleteHandler() {\n            @Override\n            public void onSubmitComplete(FormPanel.SubmitCompleteEvent submitCompleteEvent) {\n\n                image.setUrl(\" http://www.tutorialspoint.com/images/gwt-mini.png\");\n\n               // image.setUrl(submitCompleteEvent.getResults());\n                Window.alert(submitCompleteEvent.getResults());\n\n            }\n        });\n</code></pre>\n\n<p>server code</p>\n\n<pre><code>public class FileDownload extends HttpServlet {\n\n\npublic void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n    request.setCharacterEncoding(\"UTF-8\");\n    UserAccount adminUserAccount = getAdminUserAccount(request);\n    int accountId = adminUserAccount.getAccountID();\n\n    byte[] b =  API.GetAccountManager().getCompanyLogo(accountId);\n</code></pre>\n\n<p>The byte array has the image in it. How can i get the byte array or image back to the client?</p>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 13883, "user_id": 6815131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c38385f9eb57b70176498fa5c3b4c99?s=128&d=identicon&r=PG&f=1", "display_name": "Joe C", "link": "https://stackoverflow.com/users/6815131/joe-c"}, "edited": false, "score": 1, "creation_date": 1546466233, "post_id": 54013676, "comment_id": 94864447, "body": "Welcome to Stack Overflow!  It looks like you may need to learn to use a debugger.  Please help yourself to some <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">complementary debugging techniques</a>.  If you still have issues afterwards, please <a href=\"https://stackoverflow.com/posts/54013676/edit\">edit</a> your question to be more specific with what help you need."}, {"owner": {"reputation": 38158, "user_id": 2707792, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hjDjB.png?s=128&g=1", "display_name": "Andrey Tyukin", "link": "https://stackoverflow.com/users/2707792/andrey-tyukin"}, "edited": false, "score": 1, "creation_date": 1546466462, "post_id": 54013676, "comment_id": 94864526, "body": "No <code>&quot;string&quot;</code> will ever be equal to a char. You should use <code>&#39;a&#39; == carray[i]</code> etc. Moreover, you should obviously refactor you code. It doesn&#39;t even look like code, but rather like a distorted JSON file. It&#39;s extremely redundant."}, {"owner": {"reputation": 878, "user_id": 1883236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52a25fd6dc5ff0036f931e0bb83cfd90?s=128&d=identicon&r=PG", "display_name": "elyor", "link": "https://stackoverflow.com/users/1883236/elyor"}, "edited": false, "score": 0, "creation_date": 1546466564, "post_id": 54013676, "comment_id": 94864565, "body": "So, what output are you getting currently when you enter &quot;hello&quot;?"}, {"owner": {"reputation": 637, "user_id": 4692381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5987e748b7ea74525369ec51f4ea8848?s=128&d=identicon&r=PG&f=1", "display_name": "Stalemate Of Tuning", "link": "https://stackoverflow.com/users/4692381/stalemate-of-tuning"}, "edited": false, "score": 1, "creation_date": 1546466566, "post_id": 54013676, "comment_id": 94864566, "body": "Unrelated to the error, but please use a map or something instead of this wall of if statements."}, {"owner": {"reputation": 38158, "user_id": 2707792, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hjDjB.png?s=128&g=1", "display_name": "Andrey Tyukin", "link": "https://stackoverflow.com/users/2707792/andrey-tyukin"}, "edited": false, "score": 0, "creation_date": 1546466822, "post_id": 54013676, "comment_id": 94864657, "body": "I don&#39;t understand the close vote. Code is there. Input is there. Expected output is there. The unexpected outcome is described clearly (&quot;won&#39;t output words&quot;). Don&#39;t see how that qualifies as no-mcve. Maybe as a trivial typo (repeated 26 times...)."}], "answers": [{"tags": [], "owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "is_accepted": true, "score": 2, "last_activity_date": 1546468059, "last_edit_date": 1546468059, "creation_date": 1546467642, "answer_id": 54013924, "question_id": 54013676, "link": "https://stackoverflow.com/questions/54013676/java-program-wont-output-words/54013924#54013924", "title": "java program won&#39;t output words", "body": "<p>Others have already pointed out in the comments that you're comparing a string to a char, which will never be equal. By way of illustration, try the following program:</p>\n\n<pre><code>public class Demo {\n  public static void main(String[] args) {\n    Boolean x = \"b\".equals('b');\n\n    System.out.println(x);\n  }\n}\n</code></pre>\n\n<p>The result will be <code>false</code>. You could argue that this is a bit of a \"gotcha\" in Java, but that's a matter of opinion.</p>\n\n<p>Also, if you have that many <code>if</code> statements in a row, it's a pretty good hint that something's probably gone wrong. At a minimum, a <code>switch</code> statement would be far easier to read:</p>\n\n<pre><code>package text2nato;\nimport java.util.Scanner;\n\npublic class Text2nato {\n  public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n\n    System.out.println(\"Enter the text to convert to nato: \");\n    String text = scan.nextLine();\n\n    // You might want to consider converting the whole string to lowercase to make this case-insensitive\n    char[] carray = text.toCharArray();\n\n    for(int i=0; i &lt; carray.length; i++){\n      if (i &gt; 0)\n      {\n         // We need to prepend a space here\n         System.out.print(\" \");\n      }\n      switch (carray[i])\n      {\n        case 'a': System.out.print(\"alpha\"); break;\n        case 'b': System.out.print(\"bravo\"); break;\n        // The rest of your cases go here\n        // Be sure to handle the case where the user enters something invalid\n        default: System.out.print(carray[i] + \" is not a valid lowercase letter\"); break;\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>As you can see, indenting the code properly, adding some extra whitespace, and using a <code>switch</code> statement makes this <em>much</em> easier to read.</p>\n"}], "owner": {"reputation": 23, "user_id": 10859907, "user_type": "registered", "profile_image": "https://graph.facebook.com/2033164143397359/picture?type=large", "display_name": "Nader Jabbour", "link": "https://stackoverflow.com/users/10859907/nader-jabbour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 54013924, "answer_count": 1, "score": -3, "last_activity_date": 1546468059, "creation_date": 1546466132, "last_edit_date": 1546467895, "question_id": 54013676, "link": "https://stackoverflow.com/questions/54013676/java-program-wont-output-words", "title": "java program won&#39;t output words", "body": "<p>I'm trying to convert a text to nato alphabet but I can't figure out what is the problem. I tried to split the text into characters and then put it in arrays then in a for loop to test if the character is equal and write the correct word </p>\n\n<p><strong>Sample Text :</strong> hello</p>\n\n<p><strong>Result:</strong> hotel echo lima lima oscar</p>\n\n<p><img src=\"https://i.stack.imgur.com/wrvzJ.png\" alt=\"\"></p>\n\n<pre><code>package text2nato;\nimport java.util.Scanner;\npublic class Text2nato {\npublic static void main(String[] args) {\nScanner scan = new Scanner(System.in);\n\nSystem.out.println(\"Enter the text to conver to nato :\");\nString text = scan.nextLine();\nchar[] carray = text.toCharArray();\n\nfor(int i=0;i&lt;carray.length;i++){\nif(\"a\".equals(carray[i])){\nSystem.out.print(\"alpha\");\n}if(\"b\".equals(carray[i])){\nSystem.out.print(\"brabo\");\n}if(\"c\".equals(carray[i])){\nSystem.out.print(\"charlie\");\n}\nif(\"d\".equals(carray[i])){\nSystem.out.print(\"delta\");\n}if(\"e\".equals(carray[i])){\nSystem.out.print(\"echo\");\n} if(\"f\".equals(carray[i])){\nSystem.out.print(\"foxtrot\");\n}if(\"g\".equals(carray[i])){\nSystem.out.print(\"golf\");\n} if(\"h\".equals(carray[i])){\nSystem.out.print(\"hotel\");\n} if(\"i\".equals(carray[i])){\nSystem.out.print(\"india\");\n} if(\"j\".equals(carray[i])){\nSystem.out.print(\"juliet\");\n} if(\"k\".equals(carray[i])){\nSystem.out.print(\"kilo\");\n} if(\"l\".equals(carray[i])){\nSystem.out.print(\"lima\");\n} if(\"m\".equals(carray[i])){\nSystem.out.print(\"mike\");\n} if(\"n\".equals(carray[i])){\nSystem.out.print(\"november\");\n} if(\"o\".equals(carray[i])){\nSystem.out.print(\"oscar\");\n} if(\"p\".equals(carray[i])){\nSystem.out.print(\"papa\");\n} if(\"q\".equals(carray[i])){\nSystem.out.print(\"quebec\");\n} if(\"r\".equals(carray[i])){\nSystem.out.print(\"romeo\");\n} if(\"s\".equals(carray[i])){\nSystem.out.print(\"sierra\");\n} if(\"t\".equals(carray[i])){\nSystem.out.print(\"tango\");\n} if(\"u\".equals(carray[i])){\nSystem.out.print(\"uniform\");\n} if(\"v\".equals(carray[i])){\nSystem.out.print(\"victor\");\n} if(\"w\".equals(carray[i])){\nSystem.out.print(\"whiskey\");\n} if(\"x\".equals(carray[i])){\nSystem.out.print(\"x-ray\");\n} if(\"y\".equals(carray[i])){\nSystem.out.print(\"yankee\");\n} if(\"z\".equals(carray[i])){\nSystem.out.print(\"zulu\");  \n}\n}\n}\n}\n</code></pre>\n"}, {"tags": ["java", "android", "base64", "out-of-memory"], "comments": [{"owner": {"reputation": 1211, "user_id": 10674888, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMeKW.jpg?s=128&g=1", "display_name": "MS90", "link": "https://stackoverflow.com/users/10674888/ms90"}, "edited": false, "score": 2, "creation_date": 1546466585, "post_id": 54013639, "comment_id": 94864568, "body": "How come you don&#39;t know what is required here? Exception says it all. :-/"}, {"owner": {"reputation": 628808, "user_id": 139985, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=128&d=identicon&r=PG", "display_name": "Stephen C", "link": "https://stackoverflow.com/users/139985/stephen-c"}, "edited": false, "score": 0, "creation_date": 1546479170, "post_id": 54013639, "comment_id": 94867637, "body": "The cause is self-evident from your code and the stacktrace.  You are attempting to create a string that is too big for memory.  The solutions:  1) don&#39;t allow big images, 2) increase the heap size, or 3) figure out a way to POST the request without converting the image to in-memory base64 string (e.g. stream it!)"}], "owner": {"reputation": 11, "user_id": 7987908, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209284249530691/picture?type=large", "display_name": "Karim Tebib", "link": "https://stackoverflow.com/users/7987908/karim-tebib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546466128, "creation_date": 1546465878, "last_edit_date": 1546466128, "question_id": 54013639, "link": "https://stackoverflow.com/questions/54013639/outofmemoryerror-bitmap-to-base64-string", "title": "OutOfMemoryError Bitmap to Base64 string", "body": "<p>I have an error in Android, can someone help me?</p>\n\n<p>my Activity code : </p>\n\n<pre><code>    profileImage.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            ActivityCompat.requestPermissions(\n                    Connect.this,new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},CODE_GALLERY_REQUEST\n            );\n        }\n\n    });\n\n\n\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n\n    if(requestCode==CODE_GALLERY_REQUEST){\n        if(grantResults.length&gt;0 &amp;&amp; grantResults[0]== PackageManager.PERMISSION_GRANTED){\n            Intent intent = new Intent(Intent.ACTION_PICK);\n            intent.setType(\"image/*\");\n            startActivityForResult(Intent.createChooser(intent,\"Select Image\"),CODE_GALLERY_REQUEST);\n        }else {\n            Toast.makeText(this,\" Pour cr\u00e9er une  photo de profil merci de nous donner la permission\",Toast.LENGTH_SHORT);\n        }\n        return;\n    }\n\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    if(requestCode==CODE_GALLERY_REQUEST&amp;&amp;resultCode==RESULT_OK&amp;&amp;data!=null){\n\n        Uri filePath=data.getData();\n        try {\n            InputStream inputStream = getContentResolver().openInputStream(filePath);\n            bitmap = BitmapFactory.decodeStream(inputStream);\n            imagedata = imageToString(bitmap);\n            profileImage.setImageBitmap(bitmap);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n    super.onActivityResult(requestCode, resultCode, data);\n}\n\nprivate void updateLabel() {\n    String myFormat = \"yyyy-MM-dd\"; //In which you need put here\n    SimpleDateFormat sdf = new SimpleDateFormat(myFormat, Locale.FRANCE);\n\n    naissance.setText(sdf.format(myCalendar.getTime()));\n}\n\n\n\npublic void inscription(View view){\n    final ProgressDialog progressDialog = new ProgressDialog(this);\n    progressDialog.setMessage(\"Chargement...\");\n    progressDialog.show();\n    StringRequest stringRequest = new StringRequest(Request.Method.POST, URL_inscription,\n            new Response.Listener&lt;String&gt;() {\n                @Override\n                public void onResponse(String response) {\n                    progressDialog.dismiss();\n                    if(response.equals(\"SUCCES\")){\n                       // Intent intent = new Intent(getApplicationContext(),Connexion.class);\n\n                      //  startActivity(intent);\n                    }else {\n                        Toast.makeText(Connect.this, response, Toast.LENGTH_LONG).show();\n                    }\n\n                }\n            },\n            new Response.ErrorListener() {\n                @Override\n                public void onErrorResponse(VolleyError error) {\n                    Toast.makeText(getApplicationContext(),\"verifier votre connexion internet et r\u00e9essayer\",Toast.LENGTH_LONG).show();\n                    progressDialog.dismiss();\n                }\n            }){\n        @Override\n        protected Map&lt;String, String&gt; getParams()  {\n            Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n\n            params.put(\"image\",imagedata);\n            params.put(\"pseudo\",pseudo.getText().toString());\n            params.put(\"nom\",nom.getText().toString());\n            params.put(\"prenom\",prenom.getText().toString());\n            params.put(\"password\",password.getText().toString());\n            params.put(\"email\",email.getText().toString());\n            params.put(\"naissance\",naissance.getText().toString());\n            return params;\n        }\n    };\n    RequestQueue requestQueue = Volley.newRequestQueue(this);\n    requestQueue.add(stringRequest);\n}\n\nprivate String imageToString(Bitmap bitmap){\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n    bitmap.compress(Bitmap.CompressFormat.PNG, 100, byteArrayOutputStream);\n    byte[] byteArray = byteArrayOutputStream .toByteArray();\n    String encoded = android.util.Base64.encodeToString(byteArray, android.util.Base64.DEFAULT);\nreturn encoded;\n}\n }\n</code></pre>\n\n<p>Error Stack:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n                  Process: tn.events.events, PID: 16587\n                  java.lang.OutOfMemoryError: Failed to allocate a 24551844 byte allocation with 8376560 free bytes and 14MB until OOM\n                      at java.lang.StringFactory.newStringFromBytes(StringFactory.java:88)\n                      at java.lang.StringFactory.newStringFromBytes(StringFactory.java:65)\n                      at android.util.Base64.encodeToString(Base64.java:456)\n                      at tn.events.events.Connect.imageToString(Connect.java:195)\n                      at tn.events.events.Connect.onActivityResult(Connect.java:129)\n                      at android.app.Activity.dispatchActivityResult(Activity.java:6674)\n                      at android.app.ActivityThread.deliverResults(ActivityThread.java:4009)\n                      at android.app.ActivityThread.handleSendResult(ActivityThread.java:4056)\n                      at android.app.ActivityThread.access$1400(ActivityThread.java:196)\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1588)\n                      at android.os.Handler.dispatchMessage(Handler.java:111)\n                      at android.os.Looper.loop(Looper.java:210)\n                      at android.app.ActivityThread.main(ActivityThread.java:5982)\n                      at java.lang.reflect.Method.invoke(Native Method)\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:852)\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:742)\n</code></pre>\n"}, {"tags": ["java", "if-statement"], "comments": [{"owner": {"reputation": 51, "user_id": 7801155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b50f01f1d9852dc4b9756479d1380a2a?s=128&d=identicon&r=PG&f=1", "display_name": "George Alyfantis", "link": "https://stackoverflow.com/users/7801155/george-alyfantis"}, "edited": false, "score": 0, "creation_date": 1546465995, "post_id": 54013628, "comment_id": 94864339, "body": "Just change if(input==&quot;Ja&quot; || input==&quot;ja&quot;) to if(input.equals(&quot;Ja&quot;) || input.equals(&quot;ja&quot;))"}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 0, "creation_date": 1546466184, "post_id": 54013628, "comment_id": 94864424, "body": "Or even better, <code>if (input.equalsIgnoreCase(&quot;ja&quot;))</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10859905"}, "edited": false, "score": 0, "creation_date": 1546467897, "post_id": 54013628, "comment_id": 94865032, "body": "Thanks, you all really helped me out!"}], "owner": {"user_type": "does_not_exist", "display_name": "user10859905"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "closed_date": 1546465881, "answer_count": 0, "score": 0, "last_activity_date": 1546465825, "creation_date": 1546465825, "question_id": 54013628, "link": "https://stackoverflow.com/questions/54013628/java-skips-if-clause", "closed_reason": "Duplicate", "title": "Java skips if-clause", "body": "<p>I'm sorry, but my code is in german! (I hope that's not a problem!)</p>\n\n<p>My problem is, that even if (at the bottom) the input is \"Ja\"(\"Yes\") or \"ja\"(\"yes\") Java just skips it and does the else-clause!</p>\n\n<p>Thanks to everyone in advance!</p>\n\n<pre><code>import java.util.Scanner;\npublic class Pizza {\n    private double preis;\n    private int anzahl;\n\n    public Pizza() {\n        preis = 5.50;\n        anzahl = 0;\n    }\n\n    public void hinzufuegen(int tmp) {\n        anzahl = anzahl + tmp;\n    }\n\n    public void entfernen(int tmp) {\n        anzahl = anzahl - tmp;\n    }\n\n    public void drucken() {\n        System.out.println(\"Pizzen: \" + anzahl + \" Preis: \" + preis * anzahl);\n    }\n\n    public static void main(String[] args) {\n        Pizza Margherita = new Pizza();\n        Scanner scan = new Scanner(System.in);\n\n        System.out.print(\"Wie viele Pizzen willst du? \");\n        Margherita.anzahl = scan.nextInt();\n\n        System.out.print(\"Bist du dir sicher, dass du \" + Margherita.anzahl + \" Pizzen willst? \");\n        String input = scan.next();\n\n        System.out.println(input);\n\n        if(input==\"Ja\" || input==\"ja\") {\n            Margherita.drucken();\n        }\n        else {\n            System.out.println(\"Schade!\");\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "json", "unit-testing", "post", "vert.x"], "comments": [{"owner": {"reputation": 13883, "user_id": 6815131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c38385f9eb57b70176498fa5c3b4c99?s=128&d=identicon&r=PG&f=1", "display_name": "Joe C", "link": "https://stackoverflow.com/users/6815131/joe-c"}, "edited": false, "score": 1, "creation_date": 1546465477, "post_id": 54013512, "comment_id": 94864126, "body": "<code>Json.encodePrettily</code> &lt;-- Surely you don&#39;t need that?"}, {"owner": {"reputation": 62, "user_id": 3363724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nAdY3.jpg?s=128&g=1", "display_name": "krankit", "link": "https://stackoverflow.com/users/3363724/krankit"}, "reply_to_user": {"reputation": 13883, "user_id": 6815131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c38385f9eb57b70176498fa5c3b4c99?s=128&d=identicon&r=PG&f=1", "display_name": "Joe C", "link": "https://stackoverflow.com/users/6815131/joe-c"}, "edited": false, "score": 0, "creation_date": 1546466253, "post_id": 54013512, "comment_id": 94864456, "body": "@JoeC oops! jip that&#39;s it. works after changing it to <code>final String json = &quot;{\\&quot;arr\\&quot;: [99, 2, 4, 1, 55, 0]}&quot;;</code>"}], "owner": {"reputation": 62, "user_id": 3363724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nAdY3.jpg?s=128&g=1", "display_name": "krankit", "link": "https://stackoverflow.com/users/3363724/krankit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 240, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1546465265, "creation_date": 1546465265, "question_id": 54013512, "link": "https://stackoverflow.com/questions/54013512/how-to-test-my-vert-x-java-api-with-a-json-post-method", "title": "How to test my Vert.x Java API with a JSON post method?", "body": "<p>I'm trying to create test cases/suite for an API method that is expecting a JSON Object that looks like this <code>{\"arr\": [5, 3, 1, 2]}</code></p>\n\n<p>But it seems that the way I'm doing it is causing the json to be formatted incorrectly.</p>\n\n<p>How can I create valid JSON to test my API with?</p>\n\n<p>I've tried a couple of things, but have been unsuccessful. My json is currently being formatted with extra <code>\"</code> like this <code>\"\"{'arr': [99, 2, 4, 1, 55, 0]}\"\"</code></p>\n\n<p>This is my code.</p>\n\n<pre><code>@Test\npublic void sortWithSimpleArray(TestContext context) {\n    Async async = context.async();\n\n    // This isn't working\n    final String json = Json.encodePrettily(\"{'arr': [99, 2, 4, 1, 55, 0]}\");\n\n\n    vertx.createHttpClient().post(port, \"localhost\", \"/api/sort/bubble\")\n            .putHeader(\"content-type\", \"application/json\")\n            .putHeader(\"content-length\", Integer.toString(json.length()))\n            .handler(response -&gt; {\n                context.assertEquals(response.statusCode(), 201);\n                context.assertTrue(response.headers().get(\"content-type\").contains(\"application/json\"));\n                response.bodyHandler(body -&gt; {\n                    JsonArray sortedArr = body.toJsonArray();\n                    context.assertEquals(sortedArr, \"[ 0, 1, 2, 4, 55, 99 ]\");\n                    async.complete();\n                });\n            })\n            .write(json)\n            .end();\n}\n</code></pre>\n\n<p>Getting this error:</p>\n\n<pre><code>SEVERE: Unexpected exception in route\nio.vertx.core.json.DecodeException: Failed to decode:Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('{'arr': [99, 2, 4, 1, 55, 0]')\n at [Source: (io.netty.buffer.ByteBufInputStream); line: 1, column: 1]\n    at io.vertx.core.json.Json.decodeValue(Json.java:172)\n    at io.vertx.core.json.JsonObject.fromBuffer(JsonObject.java:960)\n    at io.vertx.core.json.JsonObject.&lt;init&gt;(JsonObject.java:73)\n    at io.vertx.ext.web.impl.RoutingContextImpl.getBodyAsJson(RoutingContextImpl.java:263)\n    at io.vertx.ext.web.impl.RoutingContextDecorator.getBodyAsJson(RoutingContextDecorator.java:123)\n    at za.co.offerzen.SortVerticle.doBubbleSort(SortVerticle.java:80)\n    at io.vertx.ext.web.impl.BlockingHandlerDecorator.lambda$handle$0(BlockingHandlerDecorator.java:48)\n    at io.vertx.core.impl.ContextImpl.lambda$executeBlocking$2(ContextImpl.java:272)\n    at io.vertx.core.impl.TaskQueue.run(TaskQueue.java:76)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"}, {"tags": ["java", "junit", "mockito", "powermock"], "comments": [{"owner": {"reputation": 637, "user_id": 4692381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5987e748b7ea74525369ec51f4ea8848?s=128&d=identicon&r=PG&f=1", "display_name": "Stalemate Of Tuning", "link": "https://stackoverflow.com/users/4692381/stalemate-of-tuning"}, "edited": false, "score": 0, "creation_date": 1546464761, "post_id": 54013406, "comment_id": 94863864, "body": "Did you include the <code>@RunWith(runner-goes-here)</code> annotation in your test class?"}, {"owner": {"reputation": 5502, "user_id": 2958086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5iJz9.png?s=128&g=1", "display_name": "Compass", "link": "https://stackoverflow.com/users/2958086/compass"}, "edited": false, "score": 0, "creation_date": 1546464828, "post_id": 54013406, "comment_id": 94863896, "body": "Make sure a mocked studentService exists and is being properly injected."}, {"owner": {"reputation": 637, "user_id": 4692381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5987e748b7ea74525369ec51f4ea8848?s=128&d=identicon&r=PG&f=1", "display_name": "Stalemate Of Tuning", "link": "https://stackoverflow.com/users/4692381/stalemate-of-tuning"}, "edited": false, "score": 0, "creation_date": 1546464900, "post_id": 54013406, "comment_id": 94863927, "body": "Show us your entire <code>StudentControllerTest</code> class please"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1546465191, "post_id": 54013406, "comment_id": 94864020, "body": "Based on the method under test, the tight coupling to <code>new Student()</code> and the fact that the matcher setup in the test wont match the one created in the method under test, then <code>studentService.create</code> will return null."}, {"owner": {"reputation": 1082, "user_id": 1338585, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/sqfbx.gif?s=128&g=1", "display_name": "SK.", "link": "https://stackoverflow.com/users/1338585/sk"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1546465369, "post_id": 54013406, "comment_id": 94864085, "body": "@Nkosi - I was thinking so as well. any solution without changing the Controller, I mean only changing the test class ?"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1546465493, "post_id": 54013406, "comment_id": 94864134, "body": "No need for a Student mock. Use a more flexible matcher like <code>any(Student.class)</code>, capture the passed argument in the setup and set the desired id so the method under test can flow to completion."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1546465692, "post_id": 54013406, "comment_id": 94864202, "body": "Otherwise the use powermock to mock the creation of the student. In that case then most of what you already have for the test would remain the same. Not a big fan of that workaround though as it encourages bad design."}, {"owner": {"reputation": 1082, "user_id": 1338585, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/sqfbx.gif?s=128&g=1", "display_name": "SK.", "link": "https://stackoverflow.com/users/1338585/sk"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1546465855, "post_id": 54013406, "comment_id": 94864282, "body": "@Nkosi - I tried any(Student.class), but I was getting compile error. Let me try again and will keep you posted about the exact compile error."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1546466477, "post_id": 54013406, "comment_id": 94864533, "body": "Ok hold on let me see if I can draft up something here"}], "answers": [{"comments": [{"owner": {"reputation": 1082, "user_id": 1338585, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/sqfbx.gif?s=128&g=1", "display_name": "SK.", "link": "https://stackoverflow.com/users/1338585/sk"}, "edited": false, "score": 0, "creation_date": 1546523442, "post_id": 54013831, "comment_id": 94883359, "body": "I really appreciate your time to help me. I tried your solution, I am getting the same error (Typemissmatch) as I mentioned in the comment in my question code."}, {"owner": {"reputation": 1082, "user_id": 1338585, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/sqfbx.gif?s=128&g=1", "display_name": "SK.", "link": "https://stackoverflow.com/users/1338585/sk"}, "edited": false, "score": 0, "creation_date": 1546523504, "post_id": 54013831, "comment_id": 94883395, "body": "and I may get error in cobertura as it doesn&#39;t understand lambda"}, {"owner": {"reputation": 1082, "user_id": 1338585, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/sqfbx.gif?s=128&g=1", "display_name": "SK.", "link": "https://stackoverflow.com/users/1338585/sk"}, "edited": false, "score": 0, "creation_date": 1546524117, "post_id": 54013831, "comment_id": 94883740, "body": "I got it. I have been using org.hamcrest.CoreMatchers.any. Now I changed it to org.mockito.ArgumentMatcher.any. No other changes required in my code. I updated the solution in my question"}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 2, "last_activity_date": 1546466981, "creation_date": 1546466981, "answer_id": 54013831, "question_id": 54013406, "link": "https://stackoverflow.com/questions/54013406/powermockjunit-nullpointerexception-with-new-class/54013831#54013831", "title": "Powermock+JUnit - NullPointerException with new class", "body": "<p>Based on the method under test, the tight coupling to new Student() and the fact that the matcher setup in the test wont match the one created in the method under test, then <code>studentService.create</code> will return <em>null</em>.</p>\n\n<p>There really is no need for a <code>Student</code> mock since the method under test is already creating one. </p>\n\n<p>Use a more flexible argument matcher like <code>any(Student.class)</code>, capture the passed argument in the setup and set the desired id so the method under test can flow to completion.</p>\n\n<p>For example</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(StudentController.class)\npublic class StudentControllerTest {\n    @Mock\n    HttpServletRequest request;\n\n    @Mock\n    StudentService studentService;\n\n    @InjectMocks\n    StudentController studentController;\n\n    @Test\n    public void create() {\n        //Arrange\n        int expectedId = 1;\n        when(studentService.create(any(Student.class)))\n            .thenAnswer(i -&gt; {\n                Student student = (Student)i.getArguments()[0];\n                //manipulate the student as needed.\n                //Like setting an id\n\n                //...student.setId(expectedId)\n\n                return student;\n            });\n\n        //Act\n        Student createdStudent = studentController.create(request, \"Name\", \"New York\", 1);\n\n        //Assert\n        assertTrue(createdStudent != null);\n        assertTrue(expectedId == createdStudent.getStudentId());\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1082, "user_id": 1338585, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/sqfbx.gif?s=128&g=1", "display_name": "SK.", "link": "https://stackoverflow.com/users/1338585/sk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 352, "favorite_count": 0, "accepted_answer_id": 54013831, "answer_count": 1, "score": 0, "last_activity_date": 1546524375, "creation_date": 1546464526, "last_edit_date": 1546524375, "question_id": 54013406, "link": "https://stackoverflow.com/questions/54013406/powermockjunit-nullpointerexception-with-new-class", "title": "Powermock+JUnit - NullPointerException with new class", "body": "<p>Getting NullPointerException when I try to mock a method and that method has a local variable with new class. Tried different way, but no luck. Please see the comments, I have mentioned what I tried and where I am getting exception.</p>\n\n<p>Thanks in advance!</p>\n\n<pre><code>    @RunWith(PowerMockRunner.class)\n    @PrepareForTest(StudentController.class)\n    public class StudentControllerTest {\n        @Mock\n        HttpServletRequest request;\n\n        @Mock\n        StudentService studentService;\n\n        @InjectMocks\n        StudentController studentController;\n        @Test\n        public void create() {\n            Student student =mock(Student.class);\n            **// Also tried Student student = new Student();**\n            student.setName(\"Name\");\n            student.setAddress(\"New York\");\n\n            when(studentService.create(student)).thenReturn(student);\n            // if I try below code I am getting compile error - Type mismatch: cannot convert from Matcher&lt;Student&gt; to Student\n //when(studentService.create(any(Student.class))).thenReturn(student);\n            Student createdStudent= studentController(\"Name\", \"New York\", 1);\n            assertTrue(0 &lt; createdStudent.getStudentId())\n        }\n    }\n</code></pre>\n\n<p><strong>Studentcontroller.java</strong></p>\n\n<pre><code>@PostMapping(\"/api/student/create\")\npublic Student create(HttpServletRequest request, @RequestParam(\"name\") String name, @RequestParam(\"address\") String address, @RequestParam(\"grade\") String grade) {\n\n    Student student = new Student();\n    try {\n        student.setName(name);\n        student.setAddress(address);\n        student.setGrade(Integer.decode(grade));\n\n        student = studentService.create(student);\n        **// Throwing NullPointer in this line. I did dubug and can see student returned is null**\n        message = \"Successfully Created Student[\" + student.getId() + \"] \" + name;  \n\n    } catch (Exception e) {\n        message = \"Exception while create the student: \" + name;\n        log.error(message + \"\\n\" + StackTraceUtil.getStackTrace(e));\n        student.setErrorMessage(message);\n    }\n\n    return student;\n}\n</code></pre>\n\n<p><strong>SOLUTION:</strong></p>\n\n<p>I was using <code>org.hamcrest.CoreMatchers.any</code>  That gives compile error <code>Type mismatch: cannot convert from Matcher&lt;Student&gt; to Student</code></p>\n\n<p>Now I changed it to <code>org.mockito.ArgumentMatcher.any</code>\nYou can either one of below two. Both will work. </p>\n\n<p>The key was importing <code>org.mockito.ArgumentMatcher.any</code></p>\n\n<pre><code>Student student =mock(Student.class);\nstudent.setName(\"Name\");\nstudent.setAddress(\"New York\");\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>Student student = new Student();\nstudent.setName(\"Name\");\nstudent.setAddress(\"New York\");\n</code></pre>\n"}, {"tags": ["java", "c#", "asp.net"], "comments": [{"owner": {"reputation": 2811, "user_id": 8417363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/hO0vR.png?s=128&g=1", "display_name": "Jimenemex", "link": "https://stackoverflow.com/users/8417363/jimenemex"}, "edited": false, "score": 0, "creation_date": 1546466378, "post_id": 54013388, "comment_id": 94864500, "body": "<a href=\"https://stackoverflow.com/questions/19957176/asp-net-identity-password-hashing/21496255#21496255\">this</a> might help"}, {"owner": {"reputation": 236, "user_id": 10017823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd26c0f02e76cdbaa682f92527e86b16?s=128&d=identicon&r=PG&f=1", "display_name": "Heng Ye", "link": "https://stackoverflow.com/users/10017823/heng-ye"}, "reply_to_user": {"reputation": 2811, "user_id": 8417363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/hO0vR.png?s=128&g=1", "display_name": "Jimenemex", "link": "https://stackoverflow.com/users/8417363/jimenemex"}, "edited": false, "score": 0, "creation_date": 1546467140, "post_id": 54013388, "comment_id": 94864769, "body": "see my answer below"}], "answers": [{"comments": [{"owner": {"reputation": 838, "user_id": 3502024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLDW4.jpg?s=128&g=1", "display_name": "noman404", "link": "https://stackoverflow.com/users/3502024/noman404"}, "edited": false, "score": 0, "creation_date": 1574991829, "post_id": 54013855, "comment_id": 104428859, "body": "could you please share your implementation, i got stuck at same place."}], "tags": [], "owner": {"reputation": 236, "user_id": 10017823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd26c0f02e76cdbaa682f92527e86b16?s=128&d=identicon&r=PG&f=1", "display_name": "Heng Ye", "link": "https://stackoverflow.com/users/10017823/heng-ye"}, "is_accepted": true, "score": 1, "last_activity_date": 1576342518, "last_edit_date": 1576342518, "creation_date": 1546467128, "answer_id": 54013855, "question_id": 54013388, "link": "https://stackoverflow.com/questions/54013388/how-to-port-asp-net-identity-users-to-java-servlets/54013855#54013855", "title": "How to port ASP.NET Identity users to Java Servlets", "body": "<p>I viewed the page mentioned by <a href=\"https://stackoverflow.com/questions/54013388/how-to-port-asp-net-identity-users-to-java-servlets#comment94864500_54013388\">Jimenemex</a> above, I found that Identity uses the method Rfc2898DeriveBytes to generate the salt. I can now use <a href=\"https://raw.githubusercontent.com/claudius108/crypto-java-lib/master/src/main/java/ro/kuberam/libs/java/crypto/toDo/Rfc2898DeriveBytes.java\" rel=\"nofollow noreferrer\">this library for Java</a>\n to generate the hash.</p>\n\n<p>Ported code:</p>\n\n<pre><code>public static String hashPassword(String password) throws InvalidKeyException, NoSuchAlgorithmException, UnsupportedEncodingException {\n    byte[] salt;\n    byte[] buffer2;\n    if (password == null)\n        throw new IllegalArgumentException(\"password\");\n    Rfc2898DeriveBytes bytes = new Rfc2898DeriveBytes(password,new byte[0x10],0x3e8);\n    salt = bytes.getSalt();\n    buffer2 = bytes.getBytes(0x20);\n    byte[] dst = new byte[0x31];\n    System.arraycopy(salt, 0, dst, 1, 0x10);\n    System.arraycopy(buffer2, 0, dst, 0x11, 0x20);\n    return Base64.encodeBase64String(dst);\n\n}\npublic static boolean verifyHashedPassword(String hashedPassword, String password) throws InvalidKeyException, NoSuchAlgorithmException, UnsupportedEncodingException {\n    byte[] buffer4;\n    if (hashedPassword == null)\n        return false;\n    if (password == null)\n        throw new IllegalArgumentException(\"password\");\n    byte[] src = Base64.decodeBase64(hashedPassword);\n    if ((src.length != 0x31) || (src[0] != 0))\n       return false;\n    byte[] dst = new byte[0x10];\n    System.arraycopy(src, 1, dst, 0, 0x10);\n    byte[] buffer3 = new byte[0x20];\n    System.arraycopy(src, 0x11, buffer3, 0, 0x20);\n    Rfc2898DeriveBytes bytes = new Rfc2898DeriveBytes(password,dst,0x3e8);\n    buffer4 = bytes.getBytes(0x20);\n    return Arrays.equals(buffer3, buffer4);\n\n\n\n}\n</code></pre>\n\n<p>(RFC2898DeriveBytes class is from the above mentioned library)</p>\n"}], "owner": {"reputation": 236, "user_id": 10017823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd26c0f02e76cdbaa682f92527e86b16?s=128&d=identicon&r=PG&f=1", "display_name": "Heng Ye", "link": "https://stackoverflow.com/users/10017823/heng-ye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 54013855, "answer_count": 1, "score": 0, "last_activity_date": 1576342518, "creation_date": 1546464416, "question_id": 54013388, "link": "https://stackoverflow.com/questions/54013388/how-to-port-asp-net-identity-users-to-java-servlets", "title": "How to port ASP.NET Identity users to Java Servlets", "body": "<p>I have a website that I am trying to port from Asp.NET to Java Servlets and need to port the AspNetUsers table.</p>\n\n<p>I need to know the algorithm that Asp.NET identity uses to hash passwords so I can verify old users' passwords and create new hashes for new users in Java.</p>\n\n<p>I know that Asp.NET uses a SHA-1 algorithm that I can replicate with ApacheCommons DigestUtils class, but I do not know the salt that Asp.NET uses so I can't verify passwords.</p>\n\n<p>I can take an algorithm explanation but exact code would be better.</p>\n"}, {"tags": ["java", "mysql", "sql", "wildfly", "jpql"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1546464854, "post_id": 54013375, "comment_id": 94863907, "body": "Here&#39;s the documentation on HQL/JPQL. It has a section on joins. <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#hql\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/current/userguide/html_single/&hellip;</a>&zwnj;&#8203;. Don&#39;t try random things. Learn the language by reading the documentation. It&#39;s much more effective that way. BTW, Your OneToOne should be ManyToOne, since I guess that there are more than one user per group, and that a user can belong to several groups."}, {"owner": {"reputation": 9, "user_id": 6030953, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-FPTYJXrYtuc/AAAAAAAAAAI/AAAAAAAAAIk/jI8UAv2C-mQ/photo.jpg?sz=128", "display_name": "Christopher Gusenbauer", "link": "https://stackoverflow.com/users/6030953/christopher-gusenbauer"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1546466397, "post_id": 54013375, "comment_id": 94864510, "body": "should it really be a ManyToOne? Im using this help class to evade having to use FetchType.Eager or a huge join fetch statement as wildflys hibernate configuration seems really tricky there to me to not endlessly load new resources in a loop. i would just have a table with a list of objects with 1 user and 1 usergroup and out of this i could filter my result?"}, {"owner": {"reputation": 9, "user_id": 6030953, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-FPTYJXrYtuc/AAAAAAAAAAI/AAAAAAAAAIk/jI8UAv2C-mQ/photo.jpg?sz=128", "display_name": "Christopher Gusenbauer", "link": "https://stackoverflow.com/users/6030953/christopher-gusenbauer"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1546466928, "post_id": 54013375, "comment_id": 94864700, "body": "The Doku has a similar example that does it this way: return em.createQuery(&quot;SELECT g FROM UserGroup g JOIN UserGroupMembership ugm WHERE ugm.user = :id&quot;, UserGroup.class).setParameter(&quot;id&quot;, em.find(User.class, id)).getResultList();  returns the error  Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;where usergroupm1_.user_id=868&#39; at line 1"}], "owner": {"reputation": 9, "user_id": 6030953, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-FPTYJXrYtuc/AAAAAAAAAAI/AAAAAAAAAIk/jI8UAv2C-mQ/photo.jpg?sz=128", "display_name": "Christopher Gusenbauer", "link": "https://stackoverflow.com/users/6030953/christopher-gusenbauer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546465422, "creation_date": 1546464300, "last_edit_date": 1546465422, "question_id": 54013375, "link": "https://stackoverflow.com/questions/54013375/need-help-translating-a-mysql-db-sql-query-into-a-jpql-query", "title": "Need help translating a MYSQL DB Sql Query into a Jpql query", "body": "<p>I have 3 entities - usergroup, user, usergroupmemberships. usergroupmemberships has a 1 to 1 to both user and usergroup. im trying to get a users groups with his id</p>\n\n<p>The following Query works in my DB:</p>\n\n<pre><code>SELECT * \nFROM UserGroup g \nJOIN UserGroupMembership ON \nUserGroupMembership.usergroup_id = g.id \nWHERE UserGroupMembership.user_id = 868\n</code></pre>\n\n<p>Wildfly:</p>\n\n<p>the same as a Java REST POST that uses a query from my entitymanager doesnt with a nullpointerexception</p>\n\n<pre><code>SELECT g \nFROM UserGroup g \nJOIN UserGroupMembership \nON UserGroupMembership.usergroup = g.id \nWHERE UserGroupMembership.user = :id\n</code></pre>\n\n<p>How do i write this correctly?</p>\n\n<p>Tried different ways to write the query and tried writing user_id\nim on wildfly and java ee</p>\n\n<pre><code>public List&lt;UserGroup&gt; findUserGroupbyUser(long id) {\n    return em.createQuery(\"SELECT g FROM UserGroup g JOIN \n    UserGroupMembership ON UserGroupMembership.usergroup = g WHERE \n    UserGroupMembership.user.id = :id\", UserGroup.class).setParameter(\"id\", \nid).getResultList();\n}\n\n@Entity\npublic class UserGroupMembership {\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  private Long id;\n   @OneToOne(cascade = CascadeType.ALL)\n  private UserGroup usergroup;\n    @OneToOne(cascade = CascadeType.ALL)\n  private User user;\n</code></pre>\n\n<p>expected result is 1 entry</p>\n"}, {"tags": ["java", "android", "android-fragments", "android-transitions"], "comments": [{"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1546468742, "post_id": 54013283, "comment_id": 94865329, "body": "I&#39;m not clear on what your problem is. Is it the bad framerate when the second fragment transitions in? Is it the spinning loading indicator on the second fragment? Is it the fact that each item seems to appear one-by-one once the loading is complete? More detail on what exactly is going wrong (as well as what exactly you want instead) would definitely be appreciated."}, {"owner": {"reputation": 155, "user_id": 4590338, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/242d906032de5cbce786c2f5404a1ae7?s=128&d=identicon&r=PG&f=1", "display_name": "MLec", "link": "https://stackoverflow.com/users/4590338/mlec"}, "reply_to_user": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1546479498, "post_id": 54013283, "comment_id": 94867699, "body": "Ah, sorry I guess I thought I made it clear, the first link shows a choppy transition. The spinner is fine. All I really want is a smooth transition from fragment A to fragment B :)"}], "owner": {"reputation": 155, "user_id": 4590338, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/242d906032de5cbce786c2f5404a1ae7?s=128&d=identicon&r=PG&f=1", "display_name": "MLec", "link": "https://stackoverflow.com/users/4590338/mlec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 172, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546479661, "creation_date": 1546463671, "last_edit_date": 1546479661, "question_id": 54013283, "link": "https://stackoverflow.com/questions/54013283/transition-with-nested-fragment-creates-a-noticeable-lag-instead-of-smooth-trans", "title": "Transition with nested fragment creates a noticeable lag instead of smooth transition, how to smoothen this transition?", "body": "<p>I'm having an issue transitioning between fragment. There transition between fragment A to B is very choppy as seen in this GIF: <a href=\"https://imgur.com/a/PDogrxV\" rel=\"nofollow noreferrer\">https://imgur.com/a/PDogrxV</a>. If you notice, when I click the fab button, the transition stops in the middle of the screen. I tried to debug it slowing down the animation and this is the result ( with sideways transition): <a href=\"https://imgur.com/a/1ipQvfW\" rel=\"nofollow noreferrer\">https://imgur.com/a/1ipQvfW</a></p>\n\n<p>I have a NavigationBar fragment which has a FrameLayout, in which I add my recyclerViewFragment (which inherits from a BaseFragment).  My goal is really to smoothen the transition to have no \"choppiness\" between fragment A ( no paired device) to B which contains a recycler view as shown in the first  GIF link,</p>\n\n<p>For reference:</p>\n\n<p>An example NavigationController ( which inherits from my NavBar fragment):</p>\n\n<pre><code> public class ExampleController extends NavBarFragment {\n\n  public static ExampleController newInstance() {\n    ExampleController fragment = new ExampleController();\n    fragment.setArguments(fragment.createInitBundle());\n    return fragment;\n   }\n\n   @Override\n   protected BaseFragment rootFragment() {\n       return RecyclerViewFragment.newInstance();\n   }\n\n   @Override\n   public Bundle createInitBundle() {\n      return new Bundle();\n   }\n\n}\n</code></pre>\n\n<p>The rootFrament() method is called in the initializeLayout method found in the NavBarFragment(which is called in the OnCreateView() ) -- this is just to give some context:</p>\n\n<pre><code>     @Override\n     protected void initializeLayout(View view) {\n        super.initializeLayout(view);\n        this.toolbar.setNavigationOnClickListener(this::navigationButtonClick);\n               this.toolbar.setOnMenuItemClickListener(this::navigationMenuClick);\n\n        progressBar.getLayoutParams().height = 0;\n        progressBar.requestLayout();\n\n        this.setContentFragment(view, this.rootFragment());\n     }\n</code></pre>\n\n<p>and the setContentFragment calls the Transaction manager:</p>\n\n<pre><code>private void setContentFragment(View view, BaseFragment frag) {\n  Context context = getActivity() != null ?    getActivity().getApplicationContext() : null;\n  if (frag == null || view == null || context == null) {\n    return;\n  }\n\n  this.currentFragment = frag;\n\n   configureUIComponents(context, frag, 0);\n   getChildFragmentManager().beginTransaction()\n         .replace(view.findViewById(R.id.main_container).getId(),    frag, createFragmentTag(0))\n         .commit();\n }\n</code></pre>\n\n<p>An example of RecyclerViewFragment:</p>\n\n<pre><code>public class RecyclerViewFragment extends BaseRecyclerViewFragment {\n\n  public static RecyclerViewFragment newInstance(){\n\n       //navbar implement\n       Bundle args = new Bundle();\n       args.putString(NavigationBarConfig.KEY_NAV_BAR_TITLE, \"Paired Devices\");\n       args.putBoolean(NavigationBarConfig.KEY_SHOW_NAV_BAR, true);\n      args.putBoolean(FloatingActionButtonConfig.KEY_SHOW_FAB_BUTTON, true);\n       RecyclerViewFragment fragment = new RecyclerViewFragment();\n       fragment.setArguments(args);\n       return fragment;\n   }. \n</code></pre>\n\n<p>I have tried a few things: 1) I have tried using listeners for the \"end\" of the transition to wait to load the data. This was based on this stack overflow question: <a href=\"https://stackoverflow.com/questions/46859132/nested-fragments-transitioning-incorrectly\">Nested fragments transitioning incorrectly</a>. I implemented  as follows ( I won't share the whole code for, well ,reasons). The method didDisappear / didAppear() is then use when I load it my model:</p>\n\n<pre><code>@Override\npublic Animator onCreateAnimator(int transit, boolean enter, int nextAnim) {\nAnimator animator = null;\n\n// Check for \"Show\" Transition ids\nif (showTransitionAnimationIds.contains(nextAnim)) {\n  animator = AnimatorInflater.loadAnimator(getActivity(), nextAnim);\n  if (animator != null &amp;&amp; enter) {\n    animator.addListener(new TransitionAnimatorListener() {\n      @Override\n      public void onAnimationStart(Animator animation) {\n        if (previousFragment != null) {\n          previousFragment.willDisappear();\n        }\n        willAppear();\n      }\n\n      @Override\n      public void onAnimationEnd(Animator animation) {\n        transitionDone.set(true);\n        if (previousFragment != null) {\n          previousFragment.didDisappear();\n        }\n        didAppear();\n      }\n    });\n  }\n} else if (hideTransitionAnimationIds.contains(nextAnim)) {\n  animator = AnimatorInflater.loadAnimator(getActivity(), nextAnim);\n  if (animator != null &amp;&amp; !enter) {\n    animator.addListener(new TransitionAnimatorListener() {\n      @Override\n      public void onAnimationStart(Animator animation) {\n        if (previousFragment != null) {\n          previousFragment.willAppear();\n        }\n        willDisappear();\n      }\n\n      @Override\n      public void onAnimationEnd(Animator animation) {\n        if (previousFragment != null) {\n          previousFragment.didAppear();\n        }\n        didDisappear();\n      }\n    });\n  }\n}\n</code></pre>\n\n<p>I use this method for the model loading:</p>\n\n<pre><code>protected void waitForTransition() {\n  if (transitionDone != null) {\n    try {\n     transitionDone.get();\n    }  catch (Exception e) {\n     e.printStackTrace();\n   }\n  }\n }\n</code></pre>\n\n<p>Which usually helps me \"wait\" on the animation to end before I load my models. I thought this was the issue.</p>\n\n<p>My goal is really to smoothen out the animation. I'm aware of the trick to \"provide an image\" ( to paraphrase) shown in this question: <a href=\"https://stackoverflow.com/questions/14900738/nested-fragments-disappear-during-transition-animation\">Nested fragments disappear during transition animation</a> but I was looking for something a little bit cleaner. I was thinking a possibility could be to create two fragments on the fly? I.e: have an empty layout with 2 frameLayout in which I could just inject two fragments at run-time. Although I haven't tried that, it doesn't seem very modular.</p>\n"}, {"tags": ["java", "maven", "jacoco", "jacoco-maven-plugin", "maven-pdf-plugin"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10859789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b42591844af05be227c803b080ac0367?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy Lakshmanan", "link": "https://stackoverflow.com/users/10859789/maddy-lakshmanan"}, "edited": false, "score": 0, "creation_date": 1546526342, "post_id": 54016814, "comment_id": 94885080, "body": "Thanks. I&#39;m getting this in the console. <code>Skipped external &quot;JaCoCo&quot; report (not supported by pdf plugin)</code>"}, {"owner": {"reputation": 2421, "user_id": 3631743, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Y1ASY.jpg?s=128&g=1", "display_name": "BSeitkazin", "link": "https://stackoverflow.com/users/3631743/bseitkazin"}, "reply_to_user": {"reputation": 13, "user_id": 10859789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b42591844af05be227c803b080ac0367?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy Lakshmanan", "link": "https://stackoverflow.com/users/10859789/maddy-lakshmanan"}, "edited": false, "score": 0, "creation_date": 1546527461, "post_id": 54016814, "comment_id": 94885797, "body": "it seems right, because Jacoco supports xml, csv and html formats. if you want reports in pdf, try to use sonarqube. but it is another question. if it is answer your first question - mark it as the right answer please. \\"}, {"owner": {"reputation": 13, "user_id": 10859789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b42591844af05be227c803b080ac0367?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy Lakshmanan", "link": "https://stackoverflow.com/users/10859789/maddy-lakshmanan"}, "edited": false, "score": 0, "creation_date": 1546548665, "post_id": 54016814, "comment_id": 94895528, "body": "Sure. Thanks for your response."}], "tags": [], "owner": {"reputation": 2421, "user_id": 3631743, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Y1ASY.jpg?s=128&g=1", "display_name": "BSeitkazin", "link": "https://stackoverflow.com/users/3631743/bseitkazin"}, "is_accepted": true, "score": 0, "last_activity_date": 1546493505, "creation_date": 1546493505, "answer_id": 54016814, "question_id": 54013282, "link": "https://stackoverflow.com/questions/54013282/generate-pdf-file-from-jacoco-and-pit/54016814#54016814", "title": "Generate PDF file from jacoco and pit", "body": "<p>Default output folder value for Jacoco is <code>${project.reporting.outputDirectory}/jacoco</code>, default value for <code>site</code> folder in <code>maven-pdf-plugin</code> is <code>${basedir}/src/site</code>. </p>\n\n<p>So, you need to configure <code>maven-pdf-plugin</code>, to see, where Jacoco reports contain.</p>\n\n<pre><code>...\n&lt;configuration&gt;\n    &lt;outputDirectory&gt;${project.reporting.outputDirectory}&lt;/outputDirectory&gt;\n    &lt;includeReports&gt;true&lt;/includeReports&gt;\n    &lt;siteDirectory&gt;${project.reporting.outputDirectory}/jacoco&lt;/siteDirectory&gt; &lt;!-- specify your jacoco reports folder--&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>...</p>\n"}], "owner": {"reputation": 13, "user_id": 10859789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b42591844af05be227c803b080ac0367?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy Lakshmanan", "link": "https://stackoverflow.com/users/10859789/maddy-lakshmanan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 551, "favorite_count": 0, "accepted_answer_id": 54016814, "answer_count": 1, "score": 1, "last_activity_date": 1546493505, "creation_date": 1546463670, "last_edit_date": 1546492058, "question_id": 54013282, "link": "https://stackoverflow.com/questions/54013282/generate-pdf-file-from-jacoco-and-pit", "title": "Generate PDF file from jacoco and pit", "body": "<ul>\n<li>My jacoco and pit coverage are in target/site. </li>\n<li>I'm trying to convert them to pdf. I'm using maven-pdf plugin. </li>\n<li>The maven-pdf plugin converted checkstyle and surefire into pdf, but not jacoco and pit. </li>\n</ul>\n\n<p>Any suggestions?</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-pdf-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;pdf&lt;/id&gt;\n            &lt;phase&gt;site&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;pdf&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;${project.reporting.outputDirectory}&lt;/outputDirectory&gt;\n                &lt;includeReports&gt;true&lt;/includeReports&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/xalan/xalan --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;xalan&lt;/groupId&gt;\n            &lt;artifactId&gt;xalan&lt;/artifactId&gt;\n            &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}, {"tags": ["java", "multithreading"], "comments": [{"owner": {"reputation": 4925, "user_id": 5950751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NVQn2.jpg?s=128&g=1", "display_name": "Bartosz Wardzi\u0144ski", "link": "https://stackoverflow.com/users/5950751/bartosz-wardzi%c5%84ski"}, "edited": false, "score": 2, "creation_date": 1546463031, "post_id": 54013145, "comment_id": 94863177, "body": "pass reference to other thread :)"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 6, "creation_date": 1546463071, "post_id": 54013145, "comment_id": 94863194, "body": "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/concurrent/&hellip;</a>. Create an instance of this queue, and pass it as argument to the constructor of both runnables. And there you are: they share the queue. Note that multi-threadig is an advanced, very complex subject. If you have to ask this question, it&#39;s a sign that it&#39;s probably too early for you to start working on that subject."}, {"owner": {"reputation": 309, "user_id": 1122218, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/33478200c27c87c342c75693cc0bf0f4?s=128&d=identicon&r=PG", "display_name": "camel-man", "link": "https://stackoverflow.com/users/1122218/camel-man"}, "edited": false, "score": 2, "creation_date": 1546463079, "post_id": 54013145, "comment_id": 94863195, "body": "Look into using a lock/semaphore"}, {"owner": {"reputation": 7720, "user_id": 8921755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dec518adc2024784cc770596a0aa200?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/8921755/ivan"}, "edited": false, "score": 0, "creation_date": 1546463081, "post_id": 54013145, "comment_id": 94863196, "body": "Pass that list (thread-safe implementation) to both threads. For example as constructor arguments for your <code>Thread</code> or <code>Runnable</code> objects"}, {"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1546463235, "post_id": 54013145, "comment_id": 94863259, "body": "You may also want to do some research into the &quot;producer/consumer&quot; pattern"}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 1, "creation_date": 1546472315, "post_id": 54013145, "comment_id": 94866307, "body": "Tip: study the book <a href=\"https://www.goodreads.com/book/show/127932.Java_Concurrency_in_Practice\" rel=\"nofollow noreferrer\"><i>Java Concurrency In Practice</i></a> by Goetz."}], "answers": [{"tags": [], "owner": {"reputation": 341, "user_id": 4109972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSw6A.jpg?s=128&g=1", "display_name": "Rohit Shetty", "link": "https://stackoverflow.com/users/4109972/rohit-shetty"}, "is_accepted": false, "score": 1, "last_activity_date": 1546463682, "creation_date": 1546463682, "answer_id": 54013285, "question_id": 54013145, "link": "https://stackoverflow.com/questions/54013145/two-threads-sharing-same-array-java/54013285#54013285", "title": "two threads sharing same array java", "body": "<p>You should read this: <a href=\"https://www.geeksforgeeks.org/producer-consumer-solution-using-threads-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/producer-consumer-solution-using-threads-java/</a></p>\n\n<p>And the Java sample they have there should help with some modifications for your scenario.</p>\n\n<pre><code>// Java program to implement solution of producer \n// consumer problem. \nimport java.util.LinkedList; \n\npublic class Threadexample \n{ \n    public static void main(String[] args) \n                        throws InterruptedException \n    { \n        // Object of a class that has both produce() \n        // and consume() methods \n        final PC pc = new PC(); \n\n        // Create producer thread \n        Thread t1 = new Thread(new Runnable() \n        { \n            @Override\n            public void run() \n            { \n                try\n                { \n                    pc.produce(); \n                } \n                catch(InterruptedException e) \n                { \n                    e.printStackTrace(); \n                } \n            } \n        }); \n\n        // Create consumer thread \n        Thread t2 = new Thread(new Runnable() \n        { \n            @Override\n            public void run() \n            { \n                try\n                { \n                    pc.consume(); \n                } \n                catch(InterruptedException e) \n                { \n                    e.printStackTrace(); \n                } \n            } \n        }); \n\n        // Start both threads \n        t1.start(); \n        t2.start(); \n\n        // t1 finishes before t2 \n        t1.join(); \n        t2.join(); \n    } \n\n    // This class has a list, producer (adds items to list \n    // and consumber (removes items). \n    public static class PC \n    { \n        // Create a list shared by producer and consumer \n        // Size of list is 2. \n        LinkedList&lt;Integer&gt; list = new LinkedList&lt;&gt;(); \n        int capacity = 2; \n\n        // Function called by producer thread \n        public void produce() throws InterruptedException \n        { \n            int value = 0; \n            while (true) \n            { \n                synchronized (this) \n                { \n                    // producer thread waits while list \n                    // is full \n                    while (list.size()==capacity) \n                        wait(); \n\n                    System.out.println(\"Producer produced-\"\n                                                  + value); \n\n                    // to insert the jobs in the list \n                    list.add(value++); \n\n                    // notifies the consumer thread that \n                    // now it can start consuming \n                    notify(); \n\n                    // makes the working of program easier \n                    // to  understand \n                    Thread.sleep(1000); \n                } \n            } \n        } \n\n        // Function called by consumer thread \n        public void consume() throws InterruptedException \n        { \n            while (true) \n            { \n                synchronized (this) \n                { \n                    // consumer thread waits while list \n                    // is empty \n                    while (list.size()==0) \n                        wait(); \n\n                    //to retrive the ifrst job in the list \n                    int val = list.removeFirst(); \n\n                    System.out.println(\"Consumer consumed-\"\n                                                    + val); \n\n                    // Wake up producer thread \n                    notify(); \n\n                    // and sleep \n                    Thread.sleep(1000); \n                } \n            } \n        } \n    } \n} \n</code></pre>\n\n<p>As others have advised, I think you should spend some time understanding threading and producer consumer pattern.</p>\n"}, {"tags": [], "owner": {"reputation": 689, "user_id": 10451097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CNQd.png?s=128&g=1", "display_name": "Alon", "link": "https://stackoverflow.com/users/10451097/alon"}, "is_accepted": false, "score": 1, "last_activity_date": 1546472432, "creation_date": 1546472432, "answer_id": 54014613, "question_id": 54013145, "link": "https://stackoverflow.com/questions/54013145/two-threads-sharing-same-array-java/54014613#54014613", "title": "two threads sharing same array java", "body": "<p>First create an instance of the list.</p>\n\n<p>Second pass the list as argument to the constructor of both runnables.</p>\n\n<pre><code>public static void main(String args[]){\n    List&lt;MyType&gt; myList = new ArrayList&lt;&gt;();\n    Runnable r1 = new MyRunnable(myList);\n    Runnable r2 = new MyRunnable(myList);\n    new Thread(r1).start();\n    new Thread(r2).start();\n}\n\npublic class MyRunnable implements Runnable {\n    List list;\n\n    public MyRunnable(List list) {\n        this.list = list;\n    }\n\n    @Override\n    public void run() {}\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7736588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cd5dd6d1922653805531878560df740?s=128&d=identicon&r=PG&f=1", "display_name": "arkaes", "link": "https://stackoverflow.com/users/7736588/arkaes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 697, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1546472432, "creation_date": 1546462959, "last_edit_date": 1546465459, "question_id": 54013145, "link": "https://stackoverflow.com/questions/54013145/two-threads-sharing-same-array-java", "title": "two threads sharing same array java", "body": "<p>I have two threads, A and B. A has to create messages and store them in a list in memory and B has to read the first message from the same list in memory, remove it from the list and do something with it.</p>\n\n<p>A and B start with a main thread.</p>\n\n<p>My question is how can I make a list that is shared by two different threads? </p>\n"}, {"tags": ["java", "spring", "multithreading", "asynchronous"], "answers": [{"tags": [], "owner": {"reputation": 7720, "user_id": 8921755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dec518adc2024784cc770596a0aa200?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/8921755/ivan"}, "is_accepted": false, "score": 1, "last_activity_date": 1546463452, "creation_date": 1546463452, "answer_id": 54013239, "question_id": 54013131, "link": "https://stackoverflow.com/questions/54013131/how-to-call-multiple-methods-asynchrounosly-with-different-implementation/54013239#54013239", "title": "How to call multiple methods asynchrounosly with different implementation", "body": "<p>You can use something like the following method</p>\n\n<pre><code>public Callable&lt;Object&gt; getCallable(CallContext context, String userId) { //replace types fro parameters to appropriate\n    return () -&gt; {\n      CallContextHolder.setContext(callContext);\n      try {\n        Object m = dbQuery(userId);\n        if (m == null){\n            throw new RuntimeException();\n        }\n        return m;\n      }\n      catch (Exception e) {\n        throw new IllegalStateException(\"task interrupted\", e);\n      }\n   };\n}\n</code></pre>\n\n<p>And use it like this</p>\n\n<pre><code>Callable&lt;Object&gt; call1 = getCallable(callContext, userId);\nCallable&lt;Object&gt; call2 = getCallable(callContext, userId);\n</code></pre>\n\n<p>You can try to use some type of loop to generate those callables and store them in a list.</p>\n"}], "owner": {"reputation": 49, "user_id": 5528325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUCq9.jpg?s=128&g=1", "display_name": "user771", "link": "https://stackoverflow.com/users/5528325/user771"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546465547, "creation_date": 1546462894, "last_edit_date": 1546465547, "question_id": 54013131, "link": "https://stackoverflow.com/questions/54013131/how-to-call-multiple-methods-asynchrounosly-with-different-implementation", "title": "How to call multiple methods asynchrounosly with different implementation", "body": "<p>I am trying to call one method 12 times asynchronously. But before the call I am setting something different for each method call. How can I do this in a more elegant way.</p>\n\n<p>I am using spring as well.</p>\n\n<p>I am aware of @async but how can I change the body 12 times ?</p>\n\n<pre><code>Callable&lt;Object&gt; task4 = () -&gt; {\n\n        CallContextHolder.setContext(callContext);\n        try {\n\n            Object m = dbQuery(userId);\n            if (m == null){\n                throw new RuntimeException();\n            }\n            return m;\n        }\n        catch (Exception e) {\n            throw new IllegalStateException(\"task interrupted\", e);\n        }\n    };\n    Callable&lt;Object&gt; task5 = () -&gt; {\n\n        CallContextHolder.setContext(callContext); //here is the difference in every task\n        try {\n\n            Object m = dbQuery(userId);\n            if (m == null){\n                throw new RuntimeException();\n            }\n            return m;\n        }\n        catch (Exception e) {\n            throw new IllegalStateException(\"task interrupted\", e);\n        }\n</code></pre>\n"}, {"tags": ["java", "selenium"], "comments": [{"owner": {"reputation": 412, "user_id": 4484863, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-lVdfDOyO5cc/AAAAAAAAAAI/AAAAAAAAQeI/tKsGP-nj2tU/photo.jpg?sz=128", "display_name": "Doug Clark", "link": "https://stackoverflow.com/users/4484863/doug-clark"}, "edited": false, "score": 0, "creation_date": 1546463102, "post_id": 54013073, "comment_id": 94863206, "body": "please identify which line is 17"}, {"owner": {"reputation": 1, "user_id": 6203396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b890613dcde14aaf48e09d169900a169?s=128&d=identicon&r=PG&f=1", "display_name": "naveen", "link": "https://stackoverflow.com/users/6203396/naveen"}, "reply_to_user": {"reputation": 412, "user_id": 4484863, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-lVdfDOyO5cc/AAAAAAAAAAI/AAAAAAAAQeI/tKsGP-nj2tU/photo.jpg?sz=128", "display_name": "Doug Clark", "link": "https://stackoverflow.com/users/4484863/doug-clark"}, "edited": false, "score": 0, "creation_date": 1546464441, "post_id": 54013073, "comment_id": 94863741, "body": "XWPFDocument docx = new XWPFDocument();"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6203396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b890613dcde14aaf48e09d169900a169?s=128&d=identicon&r=PG&f=1", "display_name": "naveen", "link": "https://stackoverflow.com/users/6203396/naveen"}, "edited": false, "score": 0, "creation_date": 1546466692, "post_id": 54013509, "comment_id": 94864600, "body": "thanks, by adding this jar, error gone. but my code still not copying the pic in doc file."}], "tags": [], "owner": {"reputation": 16, "user_id": 9814394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c5ad79a71ae1a02778614b7b57fc11e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Malec", "link": "https://stackoverflow.com/users/9814394/matt-malec"}, "is_accepted": false, "score": 0, "last_activity_date": 1546465252, "creation_date": 1546465252, "answer_id": 54013509, "question_id": 54013073, "link": "https://stackoverflow.com/questions/54013073/getting-error-while-trying-to-copy-a-picture-in-doc-file/54013509#54013509", "title": "Getting error while trying to copy a picture in doc file", "body": "<p>You need to add the XML beans dependency to your classpath hense the </p>\n\n<pre><code>ClassNotFoundException: org.apache.xmlbeans.XmlException\n</code></pre>\n\n<p>The library is usually called xmlbeans-x.x.x.jar</p>\n\n<p>You can find it <a href=\"http://xmlbeans.apache.org/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 6203396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b890613dcde14aaf48e09d169900a169?s=128&d=identicon&r=PG&f=1", "display_name": "naveen", "link": "https://stackoverflow.com/users/6203396/naveen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546476730, "creation_date": 1546462573, "last_edit_date": 1546476730, "question_id": 54013073, "link": "https://stackoverflow.com/questions/54013073/getting-error-while-trying-to-copy-a-picture-in-doc-file", "title": "Getting error while trying to copy a picture in doc file", "body": "<p>I am getting below error while trying to copy a pic in a do file through selenium.</p>\n\n<p><strong>This is the error which I am getting -</strong> </p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache/xmlbeans/XmlException\n    at LeadFreeTest.docCapture.main(docCapture.java:17)\nCaused by: java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlException\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 1 more\n</code></pre>\n\n<p><strong>Below is code</strong></p>\n\n<pre><code>    package LeadFreeTest;\n    import java.io.*;\n    import org.apache.poi.openxml4j.exceptions.InvalidFormatException;\n    import org.apache.poi.xwpf.usermodel.*;\n    import org.apache.poi.xwpf.usermodel.XWPFDocument;\n    import org.apache.poi.xwpf.usermodel.XWPFParagraph;\n    import org.apache.poi.xwpf.usermodel.XWPFRun;\n\n    import java.io.FileInputStream;\n    import java.io.FileOutputStream;\n    public class docCapture {\n\n\n            @SuppressWarnings(\"resource\")\n            public static void main(String[] args) throws IOException, InvalidFormatException \n            {\n                XWPFDocument docx = new XWPFDocument();\n                XWPFParagraph par = docx.createParagraph();\n                XWPFRun run = par.createRun();\n                run.setText(\"Hello, World. This is my first java generated docx-file. Have fun.\");\n                run.setFontSize(13);\n                InputStream pic = new FileInputStream(\"C:\\\\Naveeen\\\\TestScreenShot\\\\LoginPage.png\");\n                //byte [] picbytes = IOUtils.toByteArray(pic);\n                //run.addPicture(picbytes, Document.PICTURE_TYPE_JPEG);\n                run.addPicture(pic, Document.PICTURE_TYPE_JPEG, \"3\", 0, 0);\n                FileOutputStream out = new FileOutputStream(\"C:\\\\Naveeen\\\\TestScreenShot\\\\LoginPage.doc\"); \n                docx.write(out); \n                out.close(); \n                pic.close();\n            }\n        }\n</code></pre>\n"}, {"tags": ["java", "junit", "mockito"], "comments": [{"owner": {"reputation": 2502, "user_id": 1054897, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/2J151.jpg?s=128&g=1", "display_name": "Pankaj Gadge", "link": "https://stackoverflow.com/users/1054897/pankaj-gadge"}, "edited": false, "score": 0, "creation_date": 1546462164, "post_id": 54012956, "comment_id": 94862829, "body": "In your example, you don&#39;t need to call <code>doReturn()</code> and should call <code>verify()</code> since you&#39;re dealing with primitives specifically."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 3, "creation_date": 1546462290, "post_id": 54012956, "comment_id": 94862875, "body": "Well, if you absolutely want to make sure that the call to timesThree has been made, then it&#39;s useful. Otherwise, it&#39;s not. Without the verify, the test would pass if the code was replaced by <code>return 21;</code>. This is a highly unlikely situation, so I wouldn&#39;t bother."}, {"owner": {"reputation": 670, "user_id": 2267316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14ed5b8bc5c879e2c3742bbdc495ba5?s=128&d=identicon&r=PG", "display_name": "Paul I", "link": "https://stackoverflow.com/users/2267316/paul-i"}, "reply_to_user": {"reputation": 2502, "user_id": 1054897, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/2J151.jpg?s=128&g=1", "display_name": "Pankaj Gadge", "link": "https://stackoverflow.com/users/1054897/pankaj-gadge"}, "edited": false, "score": 0, "creation_date": 1546462542, "post_id": 54012956, "comment_id": 94862971, "body": "@PankajGadge wouldn&#39;t that cause the B mock to return 0 when its <code>timesThree</code> method is called? In any event, the primitives were just to keep the question simple, but my main intent was to understand what the value of using <code>verify</code> is in these particular types of cases."}, {"owner": {"reputation": 637, "user_id": 4692381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5987e748b7ea74525369ec51f4ea8848?s=128&d=identicon&r=PG&f=1", "display_name": "Stalemate Of Tuning", "link": "https://stackoverflow.com/users/4692381/stalemate-of-tuning"}, "edited": false, "score": 1, "creation_date": 1546462679, "post_id": 54012956, "comment_id": 94863029, "body": "If you are also unit testing that <code>B.timesThree()</code> works as expected (which you should be) then I would think it&#39;s unneeded to verify it&#39;s being called in addition to the stub if it&#39;s working as expected. Seems overkill in this case."}], "answers": [{"tags": [], "owner": {"reputation": 89, "user_id": 1576261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a305d71643f1191e6022c6b7b4e3e811?s=128&d=identicon&r=PG", "display_name": "roshan092", "link": "https://stackoverflow.com/users/1576261/roshan092"}, "is_accepted": false, "score": 1, "last_activity_date": 1546474050, "last_edit_date": 1546474050, "creation_date": 1546472360, "answer_id": 54014603, "question_id": 54012956, "link": "https://stackoverflow.com/questions/54012956/mockito-repetition-in-stubbing-and-verification/54014603#54014603", "title": "Mockito Repetition in Stubbing and Verification", "body": "<p>In this case no. It comes down to what you are really trying to assert in the test. </p>\n\n<p>Here you are trying to test that when main method is called with a value 2 things should happen</p>\n\n<ol>\n<li><p>timesThree should be called with value+4</p></li>\n<li><p>value returned from timesThree should be returned by your main function</p></li>\n</ol>\n\n<p>Since in your test the below three lines is enough to assert both the above cases you don't need a verify here.</p>\n\n<pre><code>doReturn(21).when(b).timesThree(7);\nint result = a.main(3);\nassertEquals(21, result);\n</code></pre>\n\n<p>The easiest way to find out if your test is good enough is by commenting out parts of your implementation and making your test fail (TDD). As long as you get a failing test you are good.</p>\n\n<p>Ex: change 4 to 5 - test fails, remove input test fails</p>\n\n<p>Suppose your timesThree method did not return a value, but instead stored it somewhere </p>\n\n<pre><code>int main(int input) {\n//Stores value somwhere\n    b.timesThree(input + 4);\n}\n</code></pre>\n\n<p>Here you test has to assert that timesThree is called once with the value 7.\nIn this case you need a verify, since you will never be able to get a failing test without verify. </p>\n\n<p>Also on a side note one of the comments mentioned \"the test would pass if the code was replaced by return 21;\"</p>\n\n<p>To proof your test against this consider using a random integer instead of hardcoding values. This will make sure there is no accidental hard coding in your implementation. \nExample library for random intgers\n<a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/math/RandomUtils.html#nextInt()\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/math/RandomUtils.html#nextInt()</a></p>\n"}], "owner": {"reputation": 670, "user_id": 2267316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14ed5b8bc5c879e2c3742bbdc495ba5?s=128&d=identicon&r=PG", "display_name": "Paul I", "link": "https://stackoverflow.com/users/2267316/paul-i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1546474050, "creation_date": 1546461991, "question_id": 54012956, "link": "https://stackoverflow.com/questions/54012956/mockito-repetition-in-stubbing-and-verification", "title": "Mockito Repetition in Stubbing and Verification", "body": "<p>It seems that in certain cases, EasyMock stubbing can take the place of verification. Take the following trivial example:</p>\n\n<p>Class A:</p>\n\n<pre><code>public class A {\n    private B b;\n\n    public A(B b) {\n        this.b = b;\n    }\n\n    int main(int input) {\n        return b.timesThree(input + 4);\n    }\n}\n</code></pre>\n\n<p>Class B:</p>\n\n<pre><code>public class B {\n    int timesThree(int input) {\n        return input * 3;\n    }\n}\n</code></pre>\n\n<p>Class ATest:</p>\n\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class ATest {\n    @Mock\n    B b;\n\n    @InjectMocks\n    A a;\n\n    @Test\n    void testMain() {\n        doReturn(21).when(b).timesThree(7);\n\n        int result = a.main(3);\n        assertEquals(21, result);\n\n        verify(b).timesThree(7);\n    }\n\n}\n</code></pre>\n\n<p>Is there a point to the <code>verify</code> call? The <code>when</code> call already asserts the input parameter to <code>b.timesThree()</code> is 7.</p>\n"}, {"tags": ["java", "jsp", "servlets"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 3470766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2f0d0c1aaed2e031524f6d91529f87b?s=128&d=identicon&r=PG&f=1", "display_name": "user3470766", "link": "https://stackoverflow.com/users/3470766/user3470766"}, "edited": false, "score": 0, "creation_date": 1546464046, "post_id": 54013062, "comment_id": 94863586, "body": "I take it from this solution, every time the file on the back end is appended and the html document is reloaded, the new data from the file on the backend will become available to the html document, correct? Thank you for the solution but i was hopefully looking for one that was more intuitive with streaming."}], "tags": [], "owner": {"reputation": 318, "user_id": 357884, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c2d3651aa1cf028726643ff0cf0bac2f?s=128&d=identicon&r=PG", "display_name": "German", "link": "https://stackoverflow.com/users/357884/german"}, "is_accepted": false, "score": 0, "last_activity_date": 1546462527, "creation_date": 1546462527, "answer_id": 54013062, "question_id": 54012918, "link": "https://stackoverflow.com/questions/54012918/is-it-possible-to-stream-a-text-files-content-from-a-servlet-to-jsp/54013062#54013062", "title": "Is it possible to stream a text files content from a Servlet to JSP?", "body": "<p>I think that you should probably load the file:</p>\n\n<p>See an example: <a href=\"https://stackoverflow.com/questions/6639/how-should-i-load-files-into-my-java-application\">How should I load files into my Java application?</a></p>\n\n<p>and reload the page using javascript</p>\n\n<p>See: <a href=\"https://stackoverflow.com/questions/3715047/how-to-reload-a-page-using-javascript\">How to reload a page using JavaScript</a></p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 3470766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2f0d0c1aaed2e031524f6d91529f87b?s=128&d=identicon&r=PG&f=1", "display_name": "user3470766", "link": "https://stackoverflow.com/users/3470766/user3470766"}, "edited": false, "score": 0, "creation_date": 1546525597, "post_id": 54013838, "comment_id": 94884611, "body": "Hi, thanks for your answer, although i did find some parts of it rude. I understand how sockets work in Java but as of right now it would not be a viable option."}, {"owner": {"reputation": 199, "user_id": 5004157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0109565c8ca1781275a5013f68fd2854?s=128&d=identicon&r=PG&f=1", "display_name": "Alireza Akhoundi", "link": "https://stackoverflow.com/users/5004157/alireza-akhoundi"}, "reply_to_user": {"reputation": 11, "user_id": 3470766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2f0d0c1aaed2e031524f6d91529f87b?s=128&d=identicon&r=PG&f=1", "display_name": "user3470766", "link": "https://stackoverflow.com/users/3470766/user3470766"}, "edited": false, "score": 0, "creation_date": 1546529912, "post_id": 54013838, "comment_id": 94887101, "body": "@user3470766 sry if i tell something that u think is rude but i never want to do this . I never tell you to use socket directly for do it , I just tried to show you some point , and now if you know how its work , so you can make a servlet to produce some response to client for show file changes . sry but its your only way and it is so easy too. hope help you."}, {"owner": {"reputation": 11, "user_id": 3470766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2f0d0c1aaed2e031524f6d91529f87b?s=128&d=identicon&r=PG&f=1", "display_name": "user3470766", "link": "https://stackoverflow.com/users/3470766/user3470766"}, "edited": false, "score": 0, "creation_date": 1546530220, "post_id": 54013838, "comment_id": 94887254, "body": "Hi @Alireza thanks for your response. I do appreciate it and will try it. Have a good day."}], "tags": [], "owner": {"reputation": 199, "user_id": 5004157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0109565c8ca1781275a5013f68fd2854?s=128&d=identicon&r=PG&f=1", "display_name": "Alireza Akhoundi", "link": "https://stackoverflow.com/users/5004157/alireza-akhoundi"}, "is_accepted": false, "score": 0, "last_activity_date": 1546479104, "last_edit_date": 1546479104, "creation_date": 1546467003, "answer_id": 54013838, "question_id": 54012918, "link": "https://stackoverflow.com/questions/54012918/is-it-possible-to-stream-a-text-files-content-from-a-servlet-to-jsp/54013838#54013838", "title": "Is it possible to stream a text files content from a Servlet to JSP?", "body": "<p>I am sure you are not professional in web development , so lets fix it.\nWhen a client (Mobile App , Browser , ... ) wants to send a request to a server , it will create a <strong>TCP/IP</strong> (we have more protocols like UDP but web applications work on top of TCP/IP protocol) connection. All data between client and server will transfer by this connection. It's your only way to send and receive data from server or client.\nWhen you create a JSP file (and it will compile to Class file when deploy on server application [ for better understand search <strong>JASPER JSP ENGINE</strong> ] ) to response to requests i will produce a response like this for browser :</p>\n\n<pre><code>some Http-Headers\nContent-Type : text/html\nsome other Http-Headers\n\n{JSP as a html text}\n</code></pre>\n\n<p>so browser will parse the response , render it and show it to your client user.\nIt means this jsp page will sent as a static html page.\nFor update it you have 2 ways :</p>\n\n<p><strong>1- The wrong way :</strong> Keep-Alive connection between client and server and each time you want to update client , send whole response to it again ! So all data come and html will render again and ... . So its bad way and not safe and many things else.</p>\n\n<p><strong>2- The correct way :</strong> Create a new async connection between client and server using JavaScript and just request for watch data change in file and show it to user in real time , without render whole html page. If this connection use Http protocol (http protocol just is a text protocol not a network protocol like TCP/IP) add <code>Connection : Keep-Alive</code> in your request header to server keep it alive.</p>\n\n<p><strong>Note : if you want understand better , search for <code>socket</code> in java and learn how it works.</strong></p>\n"}], "owner": {"reputation": 11, "user_id": 3470766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2f0d0c1aaed2e031524f6d91529f87b?s=128&d=identicon&r=PG&f=1", "display_name": "user3470766", "link": "https://stackoverflow.com/users/3470766/user3470766"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 476, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1546479104, "creation_date": 1546461868, "question_id": 54012918, "link": "https://stackoverflow.com/questions/54012918/is-it-possible-to-stream-a-text-files-content-from-a-servlet-to-jsp", "title": "Is it possible to stream a text files content from a Servlet to JSP?", "body": "<p>I do not have much experience with JSP/Servlets and I have searched for an answer regarding my problem but have not found an answer to my question.</p>\n\n<p>Lets say I have a file on the back-end, called test.txt, and i want my servlet to stream the file contents to a jsp page dynamically. By dynamically i mean that if the file is being updated, text is being appended to the end of file, then i want the client looking at the resulting html/jsp file to see the changes live.</p>\n\n<p>For example, the client would be able to see the changes in a textbox element in the html document.</p>\n\n<p>Is this possible with JSP/Servlets or not? If so, how would i go about it?</p>\n\n<p>Thanks for your time.</p>\n\n<p>Already tried searching for related questions, searching for stream inquires \nand haven't found any answer that would answer my question.</p>\n"}, {"tags": ["java", "exception"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1546462758, "post_id": 54012903, "comment_id": 94863069, "body": "The error disappears because there are other errors that prevent the catch block error to be detected. You can&#39;t expect the compiler to show you each and every error there is in the code at once. What exactly is the question, BTW?"}, {"owner": {"reputation": 28506, "user_id": 9223839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dcd6d8b4c4a0720ee253013c91d3ab?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim Danielson", "link": "https://stackoverflow.com/users/9223839/joakim-danielson"}, "edited": false, "score": 0, "creation_date": 1546463286, "post_id": 54012903, "comment_id": 94863283, "body": "And when you have a correct syntax then there is nothing that would throw that exception in your code."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10859667, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TRvt_qhcZ-0/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZjE-KI_lLl-A8ayNSv34_dTgmm5g/mo/photo.jpg?sz=128", "display_name": "Zhuang Di", "link": "https://stackoverflow.com/users/10859667/zhuang-di"}, "edited": false, "score": 0, "creation_date": 1546462164, "post_id": 54012942, "comment_id": 94862828, "body": "Oh, sorry, that was a typo. I did use throw keyword."}], "tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": true, "score": 1, "last_activity_date": 1546462736, "last_edit_date": 1592644375, "creation_date": 1546461949, "answer_id": 54012942, "question_id": 54012903, "link": "https://stackoverflow.com/questions/54012903/why-is-eofexception-not-thrown-in-this-code-ide-eclipse/54012942#54012942", "title": "Why is EOFException not thrown in this code (IDE Eclipse)?", "body": "<p><strong>Firstly:</strong>\nThe error disappears, because you create code that does not compile, when you do the edits you suggested.</p>\n<p><strong>Secondly:</strong></p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#next()\" rel=\"nofollow noreferrer\"><code>Scanner.next()</code></a> does not throw an EOFexception. It throws</p>\n<pre><code>@throws NoSuchElementException if no more tokens are available\n@throws IllegalStateException if this scanner is closed\n</code></pre>\n<p>which are <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/RuntimeException.html\" rel=\"nofollow noreferrer\"><code>RuntimeException</code></a>s instead of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html\" rel=\"nofollow noreferrer\"><code>EOFException</code></a> which is a so called &quot;checked exception&quot;.</p>\n<p>The compiler handles them differently when complaining about errors.</p>\n<blockquote>\n<p><strong>Checked exceptions</strong> need to be declared in a method or constructor's throws clause if they can be thrown by the execution of the method or constructor and propagate outside the method or constructor boundary.</p>\n<p><strong>RuntimeException</strong> and its subclasses are unchecked exceptions. Unchecked exceptions do not need to be declared in a method or constructor's throws clause if they can be thrown by the execution of the method or constructor and propagate outside the method or constructor boundary.</p>\n</blockquote>\n"}], "owner": {"reputation": 13, "user_id": 10859667, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TRvt_qhcZ-0/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZjE-KI_lLl-A8ayNSv34_dTgmm5g/mo/photo.jpg?sz=128", "display_name": "Zhuang Di", "link": "https://stackoverflow.com/users/10859667/zhuang-di"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 54012942, "answer_count": 1, "score": 1, "last_activity_date": 1546462736, "creation_date": 1546461800, "last_edit_date": 1546462203, "question_id": 54012903, "link": "https://stackoverflow.com/questions/54012903/why-is-eofexception-not-thrown-in-this-code-ide-eclipse", "title": "Why is EOFException not thrown in this code (IDE Eclipse)?", "body": "<p>I have the following code, and Eclipse reported at the catch block that the EOFException is never thrown in the try block.</p>\n\n<p>I tried to put these two lines:</p>\n\n<pre><code>String suit = null;\nString rank = null;\n</code></pre>\n\n<p>in the try block, the error at the catch block disappeared.</p>\n\n<p>I also tried to put these two lines:</p>\n\n<pre><code>char s = suitString2Char(suit);\nchar r = rankString2Char(rank);\n</code></pre>\n\n<p>in the try block, the error at the catch block disappeared.</p>\n\n<p>But when I put entire code body in the try block, same error occurred again.</p>\n\n<pre><code>public static Card read2(BufferedReader in) throws EOFException {\n\n    Scanner input = new Scanner(in);\n    String suit = null;\n    String rank = null;\n\n    try {\n\n        int i = 0;\n        while (input.hasNext()) {\n\n            suit = i == 0 ? input.next() : suit;\n            rank = i == 1 ? input.next() : rank;\n            i++;\n        }\n        input.close();\n    } catch (EOFException e) {\n        throw new EOFException();\n    }   \n\n    char s = suitString2Char(suit);\n    char r = rankString2Char(rank);\n\n    if (isValidSuit(s)\n            &amp;&amp; isValidRank(r)) {\n\n        return new Card(s, r);\n    } else {\n\n        return null;\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "oracle", "xml-parsing", "weblogic11g", "osb"], "comments": [{"owner": {"reputation": 7720, "user_id": 8921755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dec518adc2024784cc770596a0aa200?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/8921755/ivan"}, "edited": false, "score": 0, "creation_date": 1546462125, "post_id": 54012792, "comment_id": 94862813, "body": "Please add code that transforms ResultSet into XML"}, {"owner": {"reputation": 39, "user_id": 9014316, "user_type": "registered", "profile_image": "https://graph.facebook.com/1448445221920445/picture?type=large", "display_name": "Pallab Mahata", "link": "https://stackoverflow.com/users/9014316/pallab-mahata"}, "reply_to_user": {"reputation": 7720, "user_id": 8921755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dec518adc2024784cc770596a0aa200?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/8921755/ivan"}, "edited": false, "score": 0, "creation_date": 1546462612, "post_id": 54012792, "comment_id": 94863003, "body": "edited the question and added the code."}], "answers": [{"tags": [], "owner": {"reputation": 974, "user_id": 1738332, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/sIg4n.jpg?s=128&g=1", "display_name": "Wesley De Keirsmaeker", "link": "https://stackoverflow.com/users/1738332/wesley-de-keirsmaeker"}, "is_accepted": false, "score": 0, "last_activity_date": 1546608908, "creation_date": 1546608908, "answer_id": 54039990, "question_id": 54012792, "link": "https://stackoverflow.com/questions/54012792/how-to-handle-java-call-out-result-set-data-in-oracle-service-bus-11g/54039990#54039990", "title": "How to handle java call out result set data in Oracle Service Bus 11g?", "body": "<p>See <a href=\"https://docs.oracle.com/cd/E13159_01/osb/docs10gr3/userguide/context.html#wp1106656\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E13159_01/osb/docs10gr3/userguide/context.html#wp1106656</a>.</p>\n\n<p>OSB sees the return value as a reference to a java object. It doesn't know what a java string is or how to handle it. You will have to convert it to an XmlObject or let the java callout return an XmlObject.</p>\n"}], "owner": {"reputation": 39, "user_id": 9014316, "user_type": "registered", "profile_image": "https://graph.facebook.com/1448445221920445/picture?type=large", "display_name": "Pallab Mahata", "link": "https://stackoverflow.com/users/9014316/pallab-mahata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546608908, "creation_date": 1546461185, "last_edit_date": 1546462577, "question_id": 54012792, "link": "https://stackoverflow.com/questions/54012792/how-to-handle-java-call-out-result-set-data-in-oracle-service-bus-11g", "title": "How to handle java call out result set data in Oracle Service Bus 11g?", "body": "<p>I have a java call out in a OSB service to run a simple select query from the database.the java code turns this result set into xml format and then returns this xml as string.but when ever i try to use this data in a transformation xquery it only shows the below in the response variable:</p>\n\n<pre><code>&lt;con:java-content ref=\"jcid:2120886c:168088e4a35:-524c\" xmlns:con=\"http://www.bea.com/wli/sb/context\"/&gt; .\n</code></pre>\n\n<p>what i suspect is that the OSB is unable to handle the xml string.</p>\n\n<p>code to convert result set into a xml string: </p>\n\n<pre><code>private static String toXML(ResultSet rs) throws SQLException {\n    ResultSetMetaData rsmd = rs.getMetaData();\n    int colCount = rsmd.getColumnCount();\n    StringBuffer xml = new StringBuffer();\n    xml.append(\"&lt;ns1:OutputCollection xmlns:ns1=\\\"http://xmlns.oracle.com/namespace\\\"&gt;\");\n\n    while (rs.next()) {\n        xml.append(\"&lt;ns1:Output&gt;\");\n\n        for (int i = 1; i &lt;= colCount; i++) {\n            String columnName = rsmd.getColumnName(i);\n            Object value = rs.getObject(i);\n            xml.append(\"&lt;ns1:\" + columnName + \"&gt;\");\n\n            if (value != null) {\n                xml.append(value.toString().trim());\n            }\n            xml.append(\"&lt;/ns1:\" + columnName + \"&gt;\");\n        }\n        xml.append(\"&lt;/ns1:Output&gt;\");\n    }\n\n    xml.append(\"&lt;/ns1:OutputCollection&gt;\");\n\n\n    return xml.toString();\n\n}\n</code></pre>\n"}, {"tags": ["java", "spring-batch"], "comments": [{"owner": {"reputation": 16703, "user_id": 5019386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b9001fd20c1e089d19f4a1e994bcdc?s=128&d=identicon&r=PG", "display_name": "Mahmoud Ben Hassine", "link": "https://stackoverflow.com/users/5019386/mahmoud-ben-hassine"}, "edited": false, "score": 0, "creation_date": 1546463775, "post_id": 54012777, "comment_id": 94863476, "body": "The master should be stopped automatically. There is something else preventing the application context from stopping (either a <code>ThreadPoolTaskExecutor</code> or some Spring Integration components that need to be explicitly stopped). Do you have one of those in your app? I know you said you didn&#39;t changed any configuration but since you are using Spring Boot, it might have added a couple of things implicitly. Can you share your repo?"}, {"owner": {"reputation": 51, "user_id": 10740650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d32976f0f3700ba517a35d12a1b1a9cd?s=128&d=identicon&r=PG&f=1", "display_name": "adrian", "link": "https://stackoverflow.com/users/10740650/adrian"}, "reply_to_user": {"reputation": 16703, "user_id": 5019386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b9001fd20c1e089d19f4a1e994bcdc?s=128&d=identicon&r=PG", "display_name": "Mahmoud Ben Hassine", "link": "https://stackoverflow.com/users/5019386/mahmoud-ben-hassine"}, "edited": false, "score": 0, "creation_date": 1546463943, "post_id": 54012777, "comment_id": 94863542, "body": "The code is local, on a VM, so I can not publish it on a public repo. In the master configuration class, I have:  ` @Configuration @EnableBatchProcessing @EnableIntegration @PropertySource(&quot;classpath:application.properties&quot;) `"}, {"owner": {"reputation": 51, "user_id": 10740650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d32976f0f3700ba517a35d12a1b1a9cd?s=128&d=identicon&r=PG&f=1", "display_name": "adrian", "link": "https://stackoverflow.com/users/10740650/adrian"}, "reply_to_user": {"reputation": 16703, "user_id": 5019386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b9001fd20c1e089d19f4a1e994bcdc?s=128&d=identicon&r=PG", "display_name": "Mahmoud Ben Hassine", "link": "https://stackoverflow.com/users/5019386/mahmoud-ben-hassine"}, "edited": false, "score": 0, "creation_date": 1546464363, "post_id": 54012777, "comment_id": 94863709, "body": "I am also using JMS to communicate between master and slaves:  <code>@Bean public IntegrationFlow outboundFlow(ActiveMQConnectionFactory jmsConnectionFactory) { \t\t \t\treturn IntegrationFlows.from(masterRequests()) \t\t\t\t.handle(Jms.outboundAdapter(jmsConnectionFactory).destin&zwnj;&#8203;ation(&quot;requests&quot;)) \t\t\t\t.get(); \t}  @Bean public IntegrationFlow masterInboundFlow(ActiveMQConnectionFactory jmsConnectionFactory) { \t\treturn IntegrationFlows.from(Jms.messageDrivenChannelAdapter(jmsCon&zwnj;&#8203;nectionFactory).dest&zwnj;&#8203;ination(&quot;replies&quot;)) \t\t\t\t.channel(masterReplies()) \t\t\t\t.get(); \t}</code>"}, {"owner": {"reputation": 51, "user_id": 10740650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d32976f0f3700ba517a35d12a1b1a9cd?s=128&d=identicon&r=PG&f=1", "display_name": "adrian", "link": "https://stackoverflow.com/users/10740650/adrian"}, "reply_to_user": {"reputation": 16703, "user_id": 5019386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b9001fd20c1e089d19f4a1e994bcdc?s=128&d=identicon&r=PG", "display_name": "Mahmoud Ben Hassine", "link": "https://stackoverflow.com/users/5019386/mahmoud-ben-hassine"}, "edited": false, "score": 0, "creation_date": 1546464412, "post_id": 54012777, "comment_id": 94863731, "body": "sorry for formatting, I&#39;m still getting used with it"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 10740650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d32976f0f3700ba517a35d12a1b1a9cd?s=128&d=identicon&r=PG&f=1", "display_name": "adrian", "link": "https://stackoverflow.com/users/10740650/adrian"}, "edited": false, "score": 0, "creation_date": 1546466762, "post_id": 54013613, "comment_id": 94864627, "body": "Also, I&#39;ve received some updates and I have to start the Job from a controller.   Better for me, since it can be started using something like  <code>jobLauncher.run(job, new JobParameters());</code>  So, I&#39;ll have access to the JobLauncher and have easier control (at least for me)."}, {"owner": {"reputation": 16703, "user_id": 5019386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b9001fd20c1e089d19f4a1e994bcdc?s=128&d=identicon&r=PG", "display_name": "Mahmoud Ben Hassine", "link": "https://stackoverflow.com/users/5019386/mahmoud-ben-hassine"}, "reply_to_user": {"reputation": 51, "user_id": 10740650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d32976f0f3700ba517a35d12a1b1a9cd?s=128&d=identicon&r=PG&f=1", "display_name": "adrian", "link": "https://stackoverflow.com/users/10740650/adrian"}, "edited": false, "score": 0, "creation_date": 1546468440, "post_id": 54013613, "comment_id": 94865231, "body": "Glad it helped!"}], "tags": [], "owner": {"reputation": 16703, "user_id": 5019386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b9001fd20c1e089d19f4a1e994bcdc?s=128&d=identicon&r=PG", "display_name": "Mahmoud Ben Hassine", "link": "https://stackoverflow.com/users/5019386/mahmoud-ben-hassine"}, "is_accepted": true, "score": 0, "last_activity_date": 1546465734, "creation_date": 1546465734, "answer_id": 54013613, "question_id": 54012777, "link": "https://stackoverflow.com/questions/54012777/how-to-stop-job-in-spring-batch-remote-chunking-when-slaves-are-completed/54013613#54013613", "title": "How to stop Job in Spring Batch remote chunking, when slaves are completed?", "body": "<p>You can stop the application context of the master explicitly with something like:</p>\n\n<pre><code>ConfigurableApplicationContext context = SpringApplication.run(YourMasterApp.class, args);\ncontext.close();\n</code></pre>\n\n<p>This will ensure the master side has finished running the job and then close the application context.</p>\n\n<p>A couple of notes though:</p>\n\n<ul>\n<li>You can find the same sample in the official samples repo here: <a href=\"https://github.com/spring-projects/spring-batch/tree/master/spring-batch-samples#remote-chunking-sample\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-batch/tree/master/spring-batch-samples#remote-chunking-sample</a>. The personal repo you used as a starting point may be deleted at any time</li>\n<li>Using <code>jobExecution.stop()</code> in the <code>afterJob</code> method of the listener make no sense because this <code>afterJob</code> method is almost the <a href=\"https://github.com/spring-projects/spring-batch/blob/master/spring-batch-core/src/main/java/org/springframework/batch/core/job/AbstractJob.java#L359\" rel=\"nofollow noreferrer\">last statement</a> before ending the job anyway. Moreover, this <code>jobExecution.stop()</code> will be removed in a future version (see <a href=\"https://jira.spring.io/browse/BATCH-1987\" rel=\"nofollow noreferrer\">https://jira.spring.io/browse/BATCH-1987</a>)</li>\n</ul>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 51, "user_id": 10740650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d32976f0f3700ba517a35d12a1b1a9cd?s=128&d=identicon&r=PG&f=1", "display_name": "adrian", "link": "https://stackoverflow.com/users/10740650/adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 0, "accepted_answer_id": 54013613, "answer_count": 1, "score": 0, "last_activity_date": 1546465734, "creation_date": 1546461096, "last_edit_date": 1546462582, "question_id": 54012777, "link": "https://stackoverflow.com/questions/54012777/how-to-stop-job-in-spring-batch-remote-chunking-when-slaves-are-completed", "title": "How to stop Job in Spring Batch remote chunking, when slaves are completed?", "body": "<p>I am using this example as a starting point for a spring batch app, using remote chunking: \n<a href=\"https://github.com/benas/spring-batch-remote-chunking-sample/blob/master/src/main/java/io/github/benas/MasterConfiguration.java\" rel=\"nofollow noreferrer\">https://github.com/benas/spring-batch-remote-chunking-sample/blob/master/src/main/java/io/github/benas/MasterConfiguration.java</a>\nOver this example, I've added my custom readers/writers, but I didn't changed any configuration. The example works fine, except that I can not stop the job after all slaves are completed.</p>\n\n<p>I've tried using a JobListner, to stop the job inside 'afterJob' method, but no results.</p>\n\n<pre><code>public class MyJobExecutionListener implements JobExecutionListener {\n\n@Override\npublic void beforeJob(JobExecution jobExecution) {\n    // TODO Auto-generated method stub\n\n}\n\n@Override\npublic void afterJob(JobExecution jobExecution) {\n\n    System.out.println(\"afterJob start~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\");\n    System.out.println(jobExecution.getExitStatus().getExitCode());\n    System.out.println(jobExecution.getExitStatus().getExitDescription());\n    System.out.println(jobExecution.getStartTime());\n    System.out.println(jobExecution.getEndTime());\n    System.out.println(jobExecution.isRunning());\n    System.out.println(jobExecution.isStopping());\n\n    jobExecution.stop();\n\n    System.out.println(\"!!!!!!!!!\");\n    System.out.println(jobExecution.isRunning());\n    System.out.println(jobExecution.isStopping());\n    System.out.println(jobExecution.getEndTime());\n\n\n    System.out.println(\"afterJob end~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\");\n}\n</code></pre>\n\n<p>}</p>\n\n<p>jobExecution.getExitStatus().getExitCode() is COMPLETED\njobExecution.isStopping() is true, but the app is still running.</p>\n\n<p>To run the app, I'm using SpringBoot (instead running it as unit test, as it is in the example)</p>\n\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})\npublic class AppStarter {\n\n   public static void main(String[] args) {\n\n      System.out.println(\"!!!!!!!!!!!!!!!!!!!!!!!!!!! start\");\n      SpringApplication.run(AppStarter.class, args);\n\n   }\n}\n</code></pre>\n\n<p>Is there a way to stop the app when completed ?</p>\n"}, {"tags": ["java", "android", "firebase", "firebase-realtime-database"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1546460204, "post_id": 54012546, "comment_id": 94862027, "body": "There is already an <a href=\"https://firebase.google.com/docs/database/web/offline-capabilities#section-connection-state\" rel=\"nofollow noreferrer\">indicator of whether or not you&#39;re connected to Realtime Database</a>.  What you&#39;re proposing doesn&#39;t measure connection speed, just how long it&#39;s been since you received a change."}, {"owner": {"reputation": 1, "user_id": 10859594, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YjuM6hA0RUM/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbxLmpbgNqH1bjMDBXIQRHqi71RbQ/mo/photo.jpg?sz=128", "display_name": "Trevor Pennypacker", "link": "https://stackoverflow.com/users/10859594/trevor-pennypacker"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1546549632, "post_id": 54012546, "comment_id": 94895930, "body": "Could I set a variable in the Android app to update to Firebase every X milliseconds, set up a Firebase function to change another variable every time that variable is changed, and then receive the changed variable back on the Android, and time that process?"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1546551036, "post_id": 54012546, "comment_id": 94896476, "body": "Sure, but you have to understand what that is measuring.  For small amounts of data, that measures momentary round trip latency, not throughput, and those two things are not necessarily related."}, {"owner": {"reputation": 1, "user_id": 10859594, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YjuM6hA0RUM/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbxLmpbgNqH1bjMDBXIQRHqi71RbQ/mo/photo.jpg?sz=128", "display_name": "Trevor Pennypacker", "link": "https://stackoverflow.com/users/10859594/trevor-pennypacker"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1546624889, "post_id": 54012546, "comment_id": 94923385, "body": "Do you have any better ideas on how I could go about checking for a slow connection?"}], "owner": {"reputation": 1, "user_id": 10859594, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YjuM6hA0RUM/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbxLmpbgNqH1bjMDBXIQRHqi71RbQ/mo/photo.jpg?sz=128", "display_name": "Trevor Pennypacker", "link": "https://stackoverflow.com/users/10859594/trevor-pennypacker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546459847, "creation_date": 1546459847, "question_id": 54012546, "link": "https://stackoverflow.com/questions/54012546/testing-firebase-connection-speed", "title": "Testing Firebase connection speed", "body": "<p>I'm looking to build in some added layers of safety to our Android app, including a failsafe if our connection to Firebase becomes slow or disconnected. The best solution I came up with was to set up a watchdog timer that gets reset every time we get a data update from Firebase (specifically, declare a variable, decrement it every X milliseconds in a separate thread, and trigger a failsafe if the timer ever reaches zero).</p>\n\n<p>Does this seem like a reasonable failsafe, or is there a better way to do it?</p>\n"}, {"tags": ["java", "json", "gson", "deserialization", "versioning"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6117852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XmzOP.png?s=128&g=1", "display_name": "L. Messing", "link": "https://stackoverflow.com/users/6117852/l-messing"}, "edited": false, "score": 0, "creation_date": 1546633248, "post_id": 54022855, "comment_id": 94926559, "body": "That is exactly what &#180;jsonObj.get(&quot;gender&quot;).has()&#180; does but it returns a boolean if &quot;gender&quot; exists."}], "tags": [], "owner": {"reputation": 1165, "user_id": 2194806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WjqQR.jpg?s=128&g=1", "display_name": "Srinivasu", "link": "https://stackoverflow.com/users/2194806/srinivasu"}, "is_accepted": false, "score": 0, "last_activity_date": 1546520566, "creation_date": 1546520566, "answer_id": 54022855, "question_id": 54012489, "link": "https://stackoverflow.com/questions/54012489/java-gson-custom-deserializer-versioning-support/54022855#54022855", "title": "Java GSON Custom Deserializer versioning support", "body": "<p>Put simple if condition to check the value is <code>null</code> or not </p>\n\n<pre><code>if (jsonObj.get(\"gender\") != null) {\n    person.setGender(jsonObj.get(\"gender\").getAsString());\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8717, "user_id": 6413377, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/J4tD1.png?s=128&g=1", "display_name": "pirho", "link": "https://stackoverflow.com/users/6413377/pirho"}, "is_accepted": true, "score": 1, "last_activity_date": 1546536286, "creation_date": 1546536286, "answer_id": 54026997, "question_id": 54012489, "link": "https://stackoverflow.com/questions/54012489/java-gson-custom-deserializer-versioning-support/54026997#54026997", "title": "Java GSON Custom Deserializer versioning support", "body": "<p>To have access to version field do not make JsonDeserializer for person but for the whole JSON you have. So let us assume your JSON is some kind of a response that could be presented with a Java class like:</p>\n\n<pre><code>@Getter @Setter\npublic class Response {\n    private Double version;\n    private Person[] persons; // versioned stuff\n}\n</code></pre>\n\n<p>Your class Person might be like:</p>\n\n<pre><code>@Getter @Setter\npublic class Person {\n    @Since(1.0) // these annotations are put just for demonstrative purpose but are \n                // actually also functional, see deserializer\n    private String name;\n    @Since(1.0)\n    private Integer age;\n    @Since(2.0)\n    private String gender;\n}\n</code></pre>\n\n<p><strong>Note</strong>: This Person is a bit bad example class since it could easily be deserialized without any custom deserializer from v1.0 or v2.0 JSON. Deserializng from v1.0 would just leave <code>gender</code> null. Anyway your custom deserializer - making use of JSON field version - might then look like:</p>\n\n<pre><code>public class ResponseDeserializer implements JsonDeserializer&lt;Response&gt; {\n    @Override\n    public Response deserialize(JsonElement json, Type typeOfT,\n                                    JsonDeserializationContext context)\n            throws JsonParseException {\n        // This is how to get the version\n        Double version = json.getAsJsonObject().get(\"version\").getAsDouble();\n        // and below is jsut an example what you could do with version\n        Gson gson = new GsonBuilder()\n                .setVersion(version) // this is where @Since might be handy\n                .setPrettyPrinting()\n                .create();\n        return gson.fromJson(json, Response.class);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6117852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XmzOP.png?s=128&g=1", "display_name": "L. Messing", "link": "https://stackoverflow.com/users/6117852/l-messing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 54026997, "answer_count": 2, "score": 1, "last_activity_date": 1559042978, "creation_date": 1546459513, "last_edit_date": 1559042978, "question_id": 54012489, "link": "https://stackoverflow.com/questions/54012489/java-gson-custom-deserializer-versioning-support", "title": "Java GSON Custom Deserializer versioning support", "body": "<p>I created a custom deserializer for my Person class. This is just for demonstration purpose. My actual class is more complicated.</p>\n\n<p>The json file contains the version of the format and after that an array of persons.</p>\n\n<p>On version 1.0 i have a <strong>name</strong> and <strong>age</strong> for every person.<br>\nOn version 2.0 i have a <strong>name</strong>, <strong>age</strong> and additionally the <strong>gender</strong>.</p>\n\n<p>My problem here is that i do not have access to the version in the custom deserializer, or at least didn't figure out how to get it yet.</p>\n\n<p>Is there any other way to do this without <code>jsonObj.get(\"gender\").has();</code><br>\nor <code>if (jsonObj.get(\"gender\") != null)</code>?</p>\n\n<p>GSON Version: 2.8.5</p>\n\n<p><strong>Deserializer:</strong></p>\n\n<pre><code>private class PersonDeserializer implements JsonDeserializer&lt;PersonDatapoint&gt;\n{\n    @Override\n    public PersonDatapoint deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException\n    {\n        JsonObject jsonObj = json.getAsJsonObject();\n\n        // version 1.0\n        Person person = new Person(jsonObj.get(\"name\").getAsString());\n        person.setAge(jsonObj.get(\"age\").getAsInt());\n\n        // version 2.0\n        // how to determine version field in json File?\n        // person.setGender(jsonObj.get(\"gender\").getAsString());\n\n        return person;\n    }\n}\n</code></pre>\n\n<p><strong>JSON File v1.0:</strong></p>\n\n<pre><code>{\n    \"version\": \"1.0\",\n\n    \"persons\": [\n    {\n      \"name\": \"Alex\",\n      \"age\": 30\n    },\n    {\n      \"name\": \"John\",\n      \"age\": 31\n    },\n    {\n      \"name\": \"Elise\",\n      \"age\": 32\n    }]  \n}\n</code></pre>\n\n<p><strong>JSON File v2.0:</strong></p>\n\n<pre><code>{\n  \"version\": \"2.0\",\n\n  \"persons\": [\n  {\n    \"name\": \"Alex\",\n    \"age\": 30,\n    \"gender\": \"male\"\n  },\n  {\n    \"name\": \"John\",\n    \"age\": 31,\n    \"gender\": \"male\" \n  },\n  {\n    \"name\": \"Elise\",\n    \"age\": 32,\n    \"gender\": \"female\"\n  }]   \n}\n</code></pre>\n"}, {"tags": ["java", "memory-leaks"], "comments": [{"owner": {"reputation": 17337, "user_id": 83605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a214bcecbc04c7c42696e55cbdea3e17?s=128&d=identicon&r=PG", "display_name": "Aziz", "link": "https://stackoverflow.com/users/83605/aziz"}, "edited": false, "score": 0, "creation_date": 1546459556, "post_id": 54012480, "comment_id": 94861797, "body": "No. The return value will not be stored in any variable. Hence, no memory is allocated for it."}, {"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 0, "creation_date": 1546459678, "post_id": 54012480, "comment_id": 94861851, "body": "You could clarify a bit, why are you asking this? Java has garbage collection, so only way to leak memory is to leave static (or otherwise long-lived) variables (often in containers) pointing to allocated objects, so they can&#39;t be freed even though they are not used ever again."}, {"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 0, "creation_date": 1546459709, "post_id": 54012480, "comment_id": 94861856, "body": "Further, this function returns primitive type, which won&#39;t have any allocation which needs to be freed. What kind of memory leak are you worried about?"}], "answers": [{"comments": [{"owner": {"reputation": 403, "user_id": 4713830, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10153263681646015/picture?type=large", "display_name": "Nelson Matias", "link": "https://stackoverflow.com/users/4713830/nelson-matias"}, "edited": false, "score": 0, "creation_date": 1546460897, "post_id": 54012540, "comment_id": 94862282, "body": "Thank you for the answer. Going by your second part, if I were to return an Int Object, as in &quot;return new Integer(a+b);&quot; and store the result as &quot;Integer res = sum(2,3);&quot; and never use &quot;res&quot;. Would this be subject to memory leaks?"}, {"owner": {"reputation": 13883, "user_id": 6815131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c38385f9eb57b70176498fa5c3b4c99?s=128&d=identicon&r=PG&f=1", "display_name": "Joe C", "link": "https://stackoverflow.com/users/6815131/joe-c"}, "reply_to_user": {"reputation": 403, "user_id": 4713830, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10153263681646015/picture?type=large", "display_name": "Nelson Matias", "link": "https://stackoverflow.com/users/4713830/nelson-matias"}, "edited": false, "score": 1, "creation_date": 1546461043, "post_id": 54012540, "comment_id": 94862357, "body": "If <code>res</code> is never used, then it will become subject to garbage collection when it goes out of scope."}, {"owner": {"reputation": 3641, "user_id": 505854, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/298cff1cbb1f1b7def214d1e81daa40d?s=128&d=identicon&r=PG", "display_name": "Udhaya", "link": "https://stackoverflow.com/users/505854/udhaya"}, "edited": false, "score": 0, "creation_date": 1566195675, "post_id": 54012540, "comment_id": 101565027, "body": "what will happen to the return  if i simply use  &quot;sum(2,4)&quot;  ?"}], "tags": [], "owner": {"reputation": 13883, "user_id": 6815131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c38385f9eb57b70176498fa5c3b4c99?s=128&d=identicon&r=PG&f=1", "display_name": "Joe C", "link": "https://stackoverflow.com/users/6815131/joe-c"}, "is_accepted": true, "score": 4, "last_activity_date": 1546460980, "last_edit_date": 1546460980, "creation_date": 1546459819, "answer_id": 54012540, "question_id": 54012480, "link": "https://stackoverflow.com/questions/54012480/does-not-using-a-return-variable-cause-memory-leak/54012540#54012540", "title": "Does not using a return variable cause memory leak", "body": "<p>No, it does not.  As it is a primitive value, it lives on the stack, and no heap memory is allocated for it.</p>\n\n<p>But let's suppose, for the sake of demonstration, you are returning an object and not a primitive value (ex. <code>return new Integer(a+b)</code>).  There would still be no memory leak, as the object being returned would have no references to it, and thus would be subject to garbage collection.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10354247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc857766383592ffc003c6f610aa0974?s=128&d=identicon&r=PG&f=1", "display_name": "Y. Archer", "link": "https://stackoverflow.com/users/10354247/y-archer"}, "is_accepted": false, "score": -1, "last_activity_date": 1546460705, "creation_date": 1546460705, "answer_id": 54012699, "question_id": 54012480, "link": "https://stackoverflow.com/questions/54012480/does-not-using-a-return-variable-cause-memory-leak/54012699#54012699", "title": "Does not using a return variable cause memory leak", "body": "<p>No, Java has the garbage collector to help manage the memory.\nHope this could help. <a href=\"https://stackoverflow.com/questions/3798424/what-is-the-garbage-collector-in-java\">What is the garbage collector in Java?</a></p>\n"}], "owner": {"reputation": 403, "user_id": 4713830, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10153263681646015/picture?type=large", "display_name": "Nelson Matias", "link": "https://stackoverflow.com/users/4713830/nelson-matias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 0, "closed_date": 1546610608, "accepted_answer_id": 54012540, "answer_count": 2, "score": -1, "last_activity_date": 1546460980, "creation_date": 1546459454, "question_id": 54012480, "link": "https://stackoverflow.com/questions/54012480/does-not-using-a-return-variable-cause-memory-leak", "closed_reason": "Needs details or clarity", "title": "Does not using a return variable cause memory leak", "body": "<p>Does not storing or using what \"sum\" returns potentially cause a memory leak?</p>\n\n<pre><code>public int sum(int a, int b){\n    System.out.println(\"total is: \"+(a+b));\n    return a+b;\n}\n\nsum(2,3);\n</code></pre>\n"}, {"tags": ["java", "netbeans", "jframe"], "answers": [{"tags": [], "owner": {"reputation": 1668, "user_id": 1704411, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/9zqQG.png?s=128&g=1", "display_name": "Alice Ryhl", "link": "https://stackoverflow.com/users/1704411/alice-ryhl"}, "is_accepted": true, "score": 3, "last_activity_date": 1546459447, "creation_date": 1546459447, "answer_id": 54012478, "question_id": 54012360, "link": "https://stackoverflow.com/questions/54012360/netbeans-perpetually-running-and-will-not-compile/54012478#54012478", "title": "NetBeans perpetually &quot;running...&quot; and will not compile", "body": "<p>It did in fact successfully compile. The reason it say \"running ...\" is because when you call <code>setVisible(true)</code> your window becomes visible, and the program keeps running until it's closed.</p>\n\n<p>It sounds like you couldn't see the window, even though the window you created became \"visible\".</p>\n\n<p>Try adding</p>\n\n<pre><code>// Set the size of the window.\nwindow.setSize(600, 400);\n\n// Position the window in the middle of the screen.\nwindow.setLocationRelativeTo(null);\n\n// End the application when X is pressed.\nwindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n</code></pre>\n\n<p>before calling <code>setVisible(true)</code>. This should ensure you can see the window you created.</p>\n"}], "owner": {"reputation": 89, "user_id": 10859529, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-W660hFnIf8M/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYilOnu56t8FizPs_wPjFlTzkDImg/mo/photo.jpg?sz=128", "display_name": "Bill", "link": "https://stackoverflow.com/users/10859529/bill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 54012478, "answer_count": 1, "score": 0, "last_activity_date": 1546459447, "creation_date": 1546458901, "question_id": 54012360, "link": "https://stackoverflow.com/questions/54012360/netbeans-perpetually-running-and-will-not-compile", "title": "NetBeans perpetually &quot;running...&quot; and will not compile", "body": "<p>This is my Java code:</p>\n\n<pre><code>import javax.swing.JFrame;\n\npublic class Objects {\n    public static void main(String[] args) {\n\n        JFrame window = new JFrame();\n\n        window.setVisible(true);\n    }\n}\n</code></pre>\n\n<p>It does not compile when I try to run the file (it simply sits there with \"running...\" forever). When I remove the final line, it does compile.</p>\n\n<p>Any thoughts?</p>\n\n<p>I am attempting to follow the lesson below:</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=rT-J-0nGyzU\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=rT-J-0nGyzU</a></p>\n"}, {"tags": ["java", "oauth-2.0", "azure-active-directory", "vert.x"], "comments": [{"owner": {"reputation": 5302, "user_id": 51560, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e948f0816514cc90a10bbe9ca1060d60?s=128&d=identicon&r=PG", "display_name": "Paulo Lopes", "link": "https://stackoverflow.com/users/51560/paulo-lopes"}, "edited": false, "score": 0, "creation_date": 1546600219, "post_id": 54012340, "comment_id": 94910727, "body": "The <code>JWT</code> flow is a Google extension. For Azure you should use the <code>AUTH CODE</code> flow. Using discovery depends on your tenant, and you need the right address: <a href=\"https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-protocols-oidc\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/azure/active-directory/develop/&hellip;</a>"}, {"owner": {"reputation": 147, "user_id": 877959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08076c8735bdb042d324aa04a1328cd5?s=128&d=identicon&r=PG", "display_name": "soulcinder", "link": "https://stackoverflow.com/users/877959/soulcinder"}, "reply_to_user": {"reputation": 5302, "user_id": 51560, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e948f0816514cc90a10bbe9ca1060d60?s=128&d=identicon&r=PG", "display_name": "Paulo Lopes", "link": "https://stackoverflow.com/users/51560/paulo-lopes"}, "edited": false, "score": 0, "creation_date": 1546777109, "post_id": 54012340, "comment_id": 94956137, "body": "Thanks. I switched to AUTH_CODE and debugged discovery a bit further. Turns out i get an &quot;Empty Input&quot; in X509Factory when trying to use discovery"}, {"owner": {"reputation": 5302, "user_id": 51560, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e948f0816514cc90a10bbe9ca1060d60?s=128&d=identicon&r=PG", "display_name": "Paulo Lopes", "link": "https://stackoverflow.com/users/51560/paulo-lopes"}, "edited": false, "score": 0, "creation_date": 1546778727, "post_id": 54012340, "comment_id": 94956560, "body": "Please fill an issue detailing how you setup your app and I&#39;ll look at it this week. I only have a free Azure account so I hope this isn&#39;t specific to non free accounts..."}, {"owner": {"reputation": 147, "user_id": 877959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08076c8735bdb042d324aa04a1328cd5?s=128&d=identicon&r=PG", "display_name": "soulcinder", "link": "https://stackoverflow.com/users/877959/soulcinder"}, "reply_to_user": {"reputation": 5302, "user_id": 51560, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e948f0816514cc90a10bbe9ca1060d60?s=128&d=identicon&r=PG", "display_name": "Paulo Lopes", "link": "https://stackoverflow.com/users/51560/paulo-lopes"}, "edited": false, "score": 0, "creation_date": 1546782631, "post_id": 54012340, "comment_id": 94957490, "body": "Thanks. Just tried it with the common tenant and the graph api client-id. Same issue. I created an issue: <a href=\"https://github.com/vert-x3/issues/issues/438\" rel=\"nofollow noreferrer\">github.com/vert-x3/issues/issues/438</a>"}], "answers": [{"tags": [], "owner": {"reputation": 147, "user_id": 877959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08076c8735bdb042d324aa04a1328cd5?s=128&d=identicon&r=PG", "display_name": "soulcinder", "link": "https://stackoverflow.com/users/877959/soulcinder"}, "is_accepted": true, "score": 0, "last_activity_date": 1546930802, "creation_date": 1546930802, "answer_id": 54086694, "question_id": 54012340, "link": "https://stackoverflow.com/questions/54012340/how-to-use-vert-x-azureadauth/54086694#54086694", "title": "How to use vert.x AzureADAuth?", "body": "<p>I obviously had a version conflict here.\nI set all my dependencies to 3.6.2 and now it works. Just took me a bit to figure out how to handle the discovery and that i don't need to create a new OAuth2Auth object with AzureAdAuth after the discovery.</p>\n\n<p>For future reference:</p>\n\n<pre><code>OAuth2ClientOptions optsDisc = new OAuth2ClientOptions();\nopts.setClientID(\"{client-id}\");\nAzureADAuth.discover(vertx, opts,res -&gt; {\nif (res.succeeded()) {\n//use res.result() to access the through discovery already created OAuth2Auth Object\nlog.debug(\"Discover succeeded.\");\n} else {\nlog.error(\"Discover failed.\");\n}\n})\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 877959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08076c8735bdb042d324aa04a1328cd5?s=128&d=identicon&r=PG", "display_name": "soulcinder", "link": "https://stackoverflow.com/users/877959/soulcinder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 54086694, "answer_count": 1, "score": 0, "last_activity_date": 1546930802, "creation_date": 1546458780, "question_id": 54012340, "link": "https://stackoverflow.com/questions/54012340/how-to-use-vert-x-azureadauth", "title": "How to use vert.x AzureADAuth?", "body": "<p>In our company we try to start using oauth2.0 with our Azure AD Tenant using vue.js as frontend and vert.x services on the backend. </p>\n\n<p>The idea would be that i want to </p>\n\n<p>If i call our vert.x service with the jwt which we got from Azure AD i got a runtime exception saying: <strong>\"Not enough or too many segments\"</strong>. The JWT has 3 segments like expected. This is how i create the AzureADAuth:</p>\n\n<pre><code>    OAuth2ClientOptions opts = new OAuth2ClientOptions();\n    opts.setFlow(OAuth2FlowType.AUTH_JWT);\n    OAuth2Auth auth = AzureADAuth.create(vertx,\"{{application-id}}\",\"{{secret}}\",\"{{tenant-id}}\", opts);\n</code></pre>\n\n<p>Inside my handler i try to authenticate:</p>\n\n<pre><code>    HttpServerRequest request = context.request();\n    String authorization = request.headers().get(HttpHeaders.AUTHORIZATION);\n\n    String[] parts = authorization.split(\" \");\n    scheme = parts[0];\n    token = parts[1];\n\n    JsonObject creds = new JsonObject();\n    creds.put(\"token_type\", scheme);\n    creds.put(\"access_token\", token);\n\n    authProvider.authenticate(creds,userAsyncResult -&gt; {\n      if(userAsyncResult.succeeded()){\n          context.next();\n      } else {\n          context.fail(401);\n      }\n    });\n</code></pre>\n\n<p>So after i figured out that i need to add a jwk i tried to use the <strong>AzureADAuth.discover</strong> method.</p>\n\n<p>My code looks like this:</p>\n\n<pre><code>    OAuth2ClientOptions optsDisc = new OAuth2ClientOptions();\n    optsDisc.setSite(\"https://login.windows.net/{tenant-id}\");\n    optsDisc.setClientID(\"{application-id}\");\n    AzureADAuth.discover(vertx, optsDisc,res -&gt; {\n        if (res.succeeded()) {\n            if(log.isDebugEnabled()) {\n                log.debug(\"Discover succeeded.\");\n            }\n        } else {\n            log.error(\"Discover failed.\");\n        }\n    });\n</code></pre>\n\n<p>Running this code causes a \"Discover failed\" with the following message:</p>\n\n<p>java.lang.RuntimeException: java.security.cert.CertificateException: Could not parse certificate: java.io.IOException: Empty input</p>\n\n<p>So my question is how do i authenticate my user with my given bearer token with vert.x? </p>\n"}, {"tags": ["java", "libgdx"], "comments": [{"owner": {"reputation": 7708, "user_id": 2512687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vl8dl.png?s=128&g=1", "display_name": "Xoppa", "link": "https://stackoverflow.com/users/2512687/xoppa"}, "edited": false, "score": 1, "creation_date": 1546470903, "post_id": 54012329, "comment_id": 94865921, "body": "Try &#39;g3db&#39; instead of &#39;g3dp&#39;."}, {"owner": {"reputation": 37871, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1546479259, "post_id": 54012329, "comment_id": 94867655, "body": "Looks like the error message is misleading."}], "owner": {"reputation": 7554, "user_id": 1322271, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a87d7d548a034485028d036e6844006f?s=128&d=identicon&r=PG", "display_name": "Madmenyo", "link": "https://stackoverflow.com/users/1322271/madmenyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1546458699, "creation_date": 1546458699, "question_id": 54012329, "link": "https://stackoverflow.com/questions/54012329/no-loader-for-type-model", "title": "No loader for type: Model?", "body": "<p>So I converted a model to <code>.g3db</code> and got it working fine. But after some very basic refactoring of the code <code>LibGDX</code> complains that there is <code>no loader for type: Model</code>.</p>\n\n<p>Working code:</p>\n\n<pre><code>public GameScene(AssetManager assetManager) {\n    this.assetManager = assetManager;\n    modelBatch = new ModelBatch();\n    initEnvironment();\n    initCamera();\n\n    // Here I load the image with the passed assetmanager\n    loadAssets();\n}\n\nprivate void loadAssets() {\n    // Following line works\n    assetManager.load(\"data/cube.g3db\", Model.class);\n    assetManager.finishLoading();\n\n    Model ship = assetManager.get(\"data/cube.g3db\");\n    ModelInstance shipInstance = new ModelInstance(ship);\n    instances.add(shipInstance);\n}\n</code></pre>\n\n<p>Afaik I'm doing exactly the same in the following code and I'm clueless why it fails.</p>\n\n<pre><code>public DynamicScene(AssetManager assetManager) {\n    this.assetManager = assetManager;\n\n    modelBatch = new ModelBatch();\n    initEnvironment();\n    initCamera();\n\n    ball = new Ball(assetManager);\n}\n\n// Ball constructor\npublic Ball(AssetManager assetManager) {\n    this.assetManager = assetManager;\n    loadModel();\n}\n\nprivate void loadModel() {\n    // Following line fails\n    assetManager.load(\"data/ball.g3dp\", Model.class);\n    // Also fails when loading the same model as working example:\n    assetManager.load(\"data/cube.g3dp\", Model.class);\n\n    assetManager.finishLoading();\n\n    Model ball = assetManager.get(\"data/ball.g3db\");\n    ballModel = new ModelInstance(ball);\n\n    ballModel.transform.setToTranslation(0, 10, 0);\n}\n</code></pre>\n\n<p>Both initial classes get passed a <code>new AssetManager()</code> to their constructor from the main class. </p>\n\n<pre><code>@Override\npublic void create () {\n    //gameScene = new GameScene(new AssetManager());\n    dynamicScene = new DynamicScene(new AssetManager());\n}\n</code></pre>\n\n<p>Switching back to the working version always runs successfully, running the bottom version always fails.</p>\n"}, {"tags": ["java", "android", "firebase", "firebase-realtime-database"], "owner": {"reputation": 317, "user_id": 9830958, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pFc5lH1n3tA/AAAAAAAAAAI/AAAAAAAAAEg/dsPtYKdH8qI/photo.jpg?sz=128", "display_name": "Bert Hanz", "link": "https://stackoverflow.com/users/9830958/bert-hanz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1546459015, "creation_date": 1546458687, "last_edit_date": 1546459015, "question_id": 54012325, "link": "https://stackoverflow.com/questions/54012325/why-am-i-receiving-empty-strings-after-receiving-valid-data-from-firebase", "title": "Why am I receiving empty strings after receiving valid data from Firebase?", "body": "<p>Using Firebase, I'm trying to display to the user people they have matched with. I already have valid data for testing this and I have already run tests with sample data to see if everything else works.</p>\n\n<p>Now, when I use real data from Firebase, problems occur. </p>\n\n<p>This is what I have for code:</p>\n\n<pre><code>public String username = \"\";\npublic String profileImage = \"\";\npublic String discussion = \"\";\nprivate void FetchMatchInformation(final String key, final String choice) {\n    DatabaseReference matchDb = FirebaseDatabase.getInstance().getReference().child(\"answers\").child(key);\n\n    matchDb.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            for (DataSnapshot postSnapshot: dataSnapshot.getChildren()) {\n                String opposite = postSnapshot.getValue(String.class);\n                if(opposite.equals(\"agree\") &amp;&amp; choice.equals(\"disagree\")) {\n                    DatabaseReference found = FirebaseDatabase.getInstance().getReference().child(\"users\").child(postSnapshot.getKey());\n                    found.addListenerForSingleValueEvent(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                            for (DataSnapshot postSnapshot: dataSnapshot.getChildren()) {\n                                if(postSnapshot.getKey().equals(\"username\")) {\n                                    username = postSnapshot.getValue(String.class);\n                                }\n                                if(postSnapshot.getKey().equals(\"providerId\")) {\n                                    String provider = postSnapshot.getValue(String.class);\n                                    if(provider.equals(\"google.com\")) {\n                                        Uri photoUrl = FirebaseAuth.getInstance().getCurrentUser().getPhotoUrl();\n                                        String originalPieceOfUrl = \"s96-c/photo.jpg\";\n                                        String newPieceOfUrlToAdd = \"s400-c/photo.jpg\";\n                                        String photoPath = photoUrl.toString();\n                                        String newString = photoPath.replace(originalPieceOfUrl, newPieceOfUrlToAdd);\n                                        profileImage = newString;\n                                    } else if(provider.equals(\"facebook.com\")) {\n                                        profileImage = FirebaseAuth.getInstance().getCurrentUser().getPhotoUrl().toString() + \"?type=large\";\n                                    }\n                                }\n                            }\n                        }\n\n                        @Override\n                        public void onCancelled(@NonNull DatabaseError databaseError) {\n\n                        }\n                    });\n                    FirebaseDatabase.getInstance().getReference().child(\"debates\").addListenerForSingleValueEvent(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                            for (DataSnapshot postSnapshot: dataSnapshot.getChildren()) {\n                                if(postSnapshot.getKey().equals(key)) {\n                                    discussion = postSnapshot.getValue(String.class);\n                                    break;\n                                }\n                                break;\n                            }\n                        }\n\n                        @Override\n                        public void onCancelled(@NonNull DatabaseError databaseError) {\n\n                        }\n                    });\n                    MessagesObject objDisc = new MessagesObject(username, discussion, profileImage);\n                    resultsMessages.add(objDisc);\n                    mMessagesAdapter.notifyDataSetChanged();\n                } else if(opposite.equals(\"disagree\") &amp;&amp; choice.equals(\"agree\")) {\n                    DatabaseReference found = FirebaseDatabase.getInstance().getReference().child(\"users\").child(postSnapshot.getKey());\n                    found.addListenerForSingleValueEvent(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                            for (DataSnapshot postSnapshot: dataSnapshot.getChildren()) {\n                                if(postSnapshot.getKey().equals(\"username\")) {\n                                    username = postSnapshot.getValue(String.class);\n                                }\n                                if(postSnapshot.getKey().equals(\"providerId\")) {\n                                    String provider = postSnapshot.getValue(String.class);\n                                    if(provider.equals(\"google.com\")) {\n                                        Uri photoUrl = FirebaseAuth.getInstance().getCurrentUser().getPhotoUrl();\n                                        String originalPieceOfUrl = \"s96-c/photo.jpg\";\n                                        String newPieceOfUrlToAdd = \"s400-c/photo.jpg\";\n                                        String photoPath = photoUrl.toString();\n                                        String newString = photoPath.replace(originalPieceOfUrl, newPieceOfUrlToAdd);\n                                        profileImage = newString;\n                                    } else if(provider.equals(\"facebook.com\")) {\n                                        profileImage = FirebaseAuth.getInstance().getCurrentUser().getPhotoUrl().toString() + \"?type=large\";\n                                    }\n                                }\n                            }\n                        }\n\n                        @Override\n                        public void onCancelled(@NonNull DatabaseError databaseError) {\n\n                        }\n                    });\n                    FirebaseDatabase.getInstance().getReference().child(\"debates\").addListenerForSingleValueEvent(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                            for (DataSnapshot postSnapshot: dataSnapshot.getChildren()) {\n                                if(postSnapshot.getKey().equals(key)) {\n                                    discussion = postSnapshot.getValue(String.class);\n                                    break;\n                                }\n                                break;\n                            }\n                        }\n\n                        @Override\n                        public void onCancelled(@NonNull DatabaseError databaseError) {\n\n                        }\n                    });\n                    MessagesObject objDisc = new MessagesObject(username, discussion, profileImage);\n                    resultsMessages.add(objDisc);\n                    mMessagesAdapter.notifyDataSetChanged();\n                }\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n\n        }\n    });\n\n}\n</code></pre>\n\n<p>So what's happening is I'm getting the user's username, their profile image, and figuring out the value, which I called <code>discussion</code> after determining the valid key. These values are all being accessed from different tree structures from the same real-time database.</p>\n\n<p>Now, at the end of the <code>if</code> or <code>else-if</code> statement, I create and instantiate the <code>MessagesObject</code> by passing in the username, profile image, and discussion variables. I then add this object to the <code>List&lt;MessagesObject&gt;</code> called <code>resultMessages</code>. I then notify my custom adapter <code>mMessagesAdapter</code> that the data has changed.</p>\n\n<p>Like I said, all the other pieces of code work perfectly fine. It's just when I pass <code>username</code>, <code>discussion</code>, and <code>profileImage</code> it always passes an empty string. I know this from using the debugger.</p>\n\n<p>Why is that? It should not be doing that.</p>\n"}, {"tags": ["java", "android", "button"], "comments": [{"owner": {"reputation": 179, "user_id": 7956997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c1f759d331028783aecb3758774cd76?s=128&d=identicon&r=PG&f=1", "display_name": "Amir", "link": "https://stackoverflow.com/users/7956997/amir"}, "edited": false, "score": 0, "creation_date": 1546460663, "post_id": 54012320, "comment_id": 94862191, "body": "Try to set background color of the button to 0"}], "answers": [{"tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": false, "score": 2, "last_activity_date": 1546464271, "last_edit_date": 1546464271, "creation_date": 1546463882, "answer_id": 54013315, "question_id": 54012320, "link": "https://stackoverflow.com/questions/54012320/how-to-set-backgroundtintlist-of-a-button-to-default/54013315#54013315", "title": "How to set BackgroundTintList of a button to default?", "body": "<p>I haven't found any way to do this easily. The only way I could accomplish your goal was to hold on to the original background <code>Drawable</code>, create a clone of it, manually tint the clone, and then swap back and forth between these new drawables.</p>\n\n<pre><code>private Drawable original;\nprivate Drawable tinted;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    ...\n\n    this.original = button.getBackground();\n    this.tinted = button.getBackground().getConstantState().newDrawable().mutate();\n\n    ColorStateList custom = getResources().getColorStateList(R.color.my_button, getTheme());\n    tinted.setTintList(custom);\n\n    ...\n}\n</code></pre>\n\n<p>Then later on I can either write <code>button.setBackground(original)</code> or <code>button.setBackground(tinted)</code> to swap between the two.</p>\n"}, {"comments": [{"owner": {"reputation": 322, "user_id": 3252747, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/11c5455e661db4595be42baeaece7fab?s=128&d=identicon&r=PG&f=1", "display_name": "Istvanb", "link": "https://stackoverflow.com/users/3252747/istvanb"}, "edited": false, "score": 0, "creation_date": 1546512347, "post_id": 54019063, "comment_id": 94877431, "body": "This techically answers my question, so thanks. I will keep looking for a generic solution though cause if the default tint is anything different than this then the color constant is different again."}], "tags": [], "owner": {"reputation": 591, "user_id": 5590249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AM8aD.jpg?s=128&g=1", "display_name": "Imtiaz Abir", "link": "https://stackoverflow.com/users/5590249/imtiaz-abir"}, "is_accepted": false, "score": 3, "last_activity_date": 1546505974, "creation_date": 1546505974, "answer_id": 54019063, "question_id": 54012320, "link": "https://stackoverflow.com/questions/54012320/how-to-set-backgroundtintlist-of-a-button-to-default/54019063#54019063", "title": "How to set BackgroundTintList of a button to default?", "body": "<p>You can try this line:</p>\n\n<pre><code>myButton.setBackgroundTintList(ColorStateList.valueOf(Color.parseColor(\"#d8d8d8\")));\n</code></pre>\n\n<p>if you want to change the button color back to its default/original color.</p>\n"}, {"tags": [], "owner": {"reputation": 379, "user_id": 6126110, "user_type": "registered", "profile_image": "https://graph.facebook.com/940141516098999/picture?type=large", "display_name": "Osvel Alvarez Jacomino", "link": "https://stackoverflow.com/users/6126110/osvel-alvarez-jacomino"}, "is_accepted": false, "score": 0, "last_activity_date": 1590095727, "creation_date": 1590095727, "answer_id": 61943967, "question_id": 54012320, "link": "https://stackoverflow.com/questions/54012320/how-to-set-backgroundtintlist-of-a-button-to-default/61943967#61943967", "title": "How to set BackgroundTintList of a button to default?", "body": "<p>I just created a new <code>Button</code> and get <code>backgroundTintList</code></p>\n\n<pre><code>actionSearch.backgroundTintList = MaterialButton(requireContext()).backgroundTintList\n</code></pre>\n"}], "owner": {"reputation": 322, "user_id": 3252747, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/11c5455e661db4595be42baeaece7fab?s=128&d=identicon&r=PG&f=1", "display_name": "Istvanb", "link": "https://stackoverflow.com/users/3252747/istvanb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2228, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1590095727, "creation_date": 1546458654, "last_edit_date": 1546460859, "question_id": 54012320, "link": "https://stackoverflow.com/questions/54012320/how-to-set-backgroundtintlist-of-a-button-to-default", "title": "How to set BackgroundTintList of a button to default?", "body": "<p>I'm changing the BackgroundTintList property of my button with the following line.</p>\n\n<pre><code>myButton.setBackgroundTintList(getColorStateList(R.color.green));\n</code></pre>\n\n<p>As a result my Button changes it's color from grey to green, and this is what I'd like to achieve.</p>\n\n<p>My problem is that later on I'd like to set back the original grey color of the button, but I have no idea how to do it. I have tried to get the BackgroundTintList property of the button at the very beginning of my code (before I change it) but the following line returns NULL</p>\n\n<pre><code>ColorStateList buttonBackgroundTint = myButton.getBackgroundTintList();\n</code></pre>\n\n<p>Once I have set the BackgroundTintList to green, setting it to NULL changes my button to white and not to its default grey.</p>\n\n<p>What would be the way to set my button to grey again?</p>\n"}, {"tags": ["java", "javax.imageio"], "answers": [{"tags": [], "owner": {"reputation": 122, "user_id": 5728516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9468569deef006e5423a42d4c31859?s=128&d=identicon&r=PG&f=1", "display_name": "Chandra Sekhar", "link": "https://stackoverflow.com/users/5728516/chandra-sekhar"}, "is_accepted": false, "score": 0, "last_activity_date": 1546459015, "creation_date": 1546459015, "answer_id": 54012384, "question_id": 54012318, "link": "https://stackoverflow.com/questions/54012318/how-to-fix-arrayindexoutofboundsexception-in-java/54012384#54012384", "title": "How to fix ArrayIndexOutOfBoundsException in Java?", "body": "<p>Your program is trying to retrieve an element with index not available from an array. Check the line 15 (is numFrames already created some where?). It possible that you are not using a right array or numFrames does not have an element with that specific index. Try running a debugger and see which array is out of index. </p>\n"}], "owner": {"reputation": 1, "user_id": 9587942, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Danny C", "link": "https://stackoverflow.com/users/9587942/danny-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 256, "favorite_count": 0, "closed_date": 1546459608, "answer_count": 1, "score": -2, "last_activity_date": 1546459379, "creation_date": 1546458626, "last_edit_date": 1546459379, "question_id": 54012318, "link": "https://stackoverflow.com/questions/54012318/how-to-fix-arrayindexoutofboundsexception-in-java", "closed_reason": "Duplicate", "title": "How to fix ArrayIndexOutOfBoundsException in Java?", "body": "<p>I get an ArrayIndexOutOfBoundsException, but only when the getSubImage() function is there.</p>\n\n<p>This is to loop through and get sprites.I've tried it without getsubimage and i've tried using different for loops though nothing has helped.</p>\n\n<p>This is not the same as the thread I am being compared to, as I am  using a for loop inside of another. The program works just fine without getSubimage, and the for loops work just fine. I do not know where the problem lies or what it is.</p>\n\n<pre><code>        try {\n\n        BufferedImage spritesheet = ImageIO.read(\n            getClass().getResourceAsStream(\n                \"/Sprites/SpriteSheet.gif\"          \n                    )\n        );\n\n        sprites = new ArrayList&lt;BufferedImage[]&gt;();\n        for(int i = 0; i &lt; 6; i++) {\n\n            BufferedImage[] bi =\n                new BufferedImage[i];\n\n            for(int j = 0; j &lt; numFrames[i]; j++) {\n\n                    bi[j] =    spritesheet.getSubimage(\n                            i * width,\n                            j* height,\n                            width,\n                            height\n                    );\n\n                }\n                sprites.add(bi);\n\n            }\n\n\n        }\n\n\n    catch(Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>I expect it to loop through this and get all the sprites. What actually happens is it doesnt get the subimage and it just throws an out of bounds exception.</p>\n"}, {"tags": ["java", "xml", "xslt", "classpath", "saxon"], "answers": [{"comments": [{"owner": {"reputation": 137436, "user_id": 415448, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/P2vVZ.png?s=128&g=1", "display_name": "Michael Kay", "link": "https://stackoverflow.com/users/415448/michael-kay"}, "edited": false, "score": 0, "creation_date": 1546466525, "post_id": 54012362, "comment_id": 94864547, "body": "More specifically (and this is imposed by Java, not by Saxon): if you use <code>-cp saxon9he.jar</code> then you must specify the entry point (<code>net.sf.saxon.Transform</code> or <code>net.sf.saxon.Query</code>) while if you use <code>-jar saxon9he.jar</code>, Java will use the default entry point <code>net.sf.saxon.Transform</code>."}, {"owner": {"reputation": 23944, "user_id": 1305969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wlo8z.png?s=128&g=1", "display_name": "zx485", "link": "https://stackoverflow.com/users/1305969/zx485"}, "reply_to_user": {"reputation": 137436, "user_id": 415448, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/P2vVZ.png?s=128&g=1", "display_name": "Michael Kay", "link": "https://stackoverflow.com/users/415448/michael-kay"}, "edited": false, "score": 0, "creation_date": 1546466796, "post_id": 54012362, "comment_id": 94864643, "body": "Thank you for your thorough explanation. It is probably better than both of the answers."}], "tags": [], "owner": {"reputation": 23944, "user_id": 1305969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wlo8z.png?s=128&g=1", "display_name": "zx485", "link": "https://stackoverflow.com/users/1305969/zx485"}, "is_accepted": false, "score": 1, "last_activity_date": 1546458909, "creation_date": 1546458909, "answer_id": 54012362, "question_id": 54012269, "link": "https://stackoverflow.com/questions/54012269/simple-xsl-saxon-transform/54012362#54012362", "title": "Simple XSL saxon transform", "body": "<p>For processing an XSLT file with Saxon, you do not need to specify a certain class. This is only necessary for XQuery requests. So use</p>\n\n<pre><code>java -jar saxon9he.jar -xsl:XSLTFILE.xslt XMLFILE.xml\n</code></pre>\n\n<p>to process an XSLT file with a current version of Saxon.</p>\n"}, {"comments": [{"owner": {"reputation": 137436, "user_id": 415448, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/P2vVZ.png?s=128&g=1", "display_name": "Michael Kay", "link": "https://stackoverflow.com/users/415448/michael-kay"}, "edited": false, "score": 0, "creation_date": 1546466793, "post_id": 54012410, "comment_id": 94864641, "body": "Note also that the Saxon documentation generally assumes you are familiar with how to run Java applications. If that&#39;s not the case, then you should also see, for example, <a href=\"https://stackoverflow.com/questions/16137713/how-do-i-run-a-java-program-from-the-command-line-on-windows\" title=\"how do i run a java program from the command line on windows\">stackoverflow.com/questions/16137713/&hellip;</a>"}], "tags": [], "owner": {"reputation": 9831, "user_id": 5646962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e957f1b006fd3acb3826e0055e8b5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Kl&#228;ger", "link": "https://stackoverflow.com/users/5646962/thomas-kl%c3%a4ger"}, "is_accepted": true, "score": 1, "last_activity_date": 1546459128, "creation_date": 1546459128, "answer_id": 54012410, "question_id": 54012269, "link": "https://stackoverflow.com/questions/54012269/simple-xsl-saxon-transform/54012410#54012410", "title": "Simple XSL saxon transform", "body": "<p>From the <a href=\"https://www.saxonica.com/documentation9.5/using-xsl/commandline.html\" rel=\"nofollow noreferrer\">Saxon Documentation</a>, the command line is:</p>\n\n<pre><code>java net.sf.saxon.Transform -s:source -xsl:stylesheet -o:output\n</code></pre>\n\n<p>Applied to your example:</p>\n\n<pre><code>java -cp /usr/share/java/Saxon-HE.jar net.sf.saxon.Transform -s:w3.data.xml -xsl:w3.transform.xslt -o:out.fo\n</code></pre>\n\n<p>Or, even simpler:</p>\n\n<pre><code>java -jar /usr/share/java/Saxon-HE.jar -s:w3.data.xml -xsl:w3.transform.xslt -o:out.fo\n</code></pre>\n"}], "owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 54012410, "answer_count": 2, "score": 0, "last_activity_date": 1546459771, "creation_date": 1546458313, "last_edit_date": 1546459771, "question_id": 54012269, "link": "https://stackoverflow.com/questions/54012269/simple-xsl-saxon-transform", "title": "Simple XSL saxon transform", "body": "<p>What's the <a href=\"https://stackoverflow.com/q/2526681/262852\">correct</a> syntax for the transform?</p>\n\n<pre><code>thufir@dur:~/saxon$ \nthufir@dur:~/saxon$ java -cp /usr/share/java/Saxon-HE.jar  -xsl:w3.transform.xslt w3.data.xml\nUnrecognized option: -xsl:w3.transform.xslt\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\nthufir@dur:~/saxon$ \nthufir@dur:~/saxon$ cat w3.data.xml \n\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;catalog&gt;\n  &lt;cd&gt;\n    &lt;title&gt;Empire Burlesque&lt;/title&gt;\n    &lt;artist&gt;Bob Dylan&lt;/artist&gt;\n    &lt;country&gt;USA&lt;/country&gt;\n    &lt;company&gt;Columbia&lt;/company&gt;\n    &lt;price&gt;10.90&lt;/price&gt;\n    &lt;year&gt;1985&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;Hide your heart&lt;/title&gt;\n    &lt;artist&gt;Bonnie Tyler&lt;/artist&gt;\n    &lt;country&gt;UK&lt;/country&gt;\n    &lt;company&gt;CBS Records&lt;/company&gt;\n    &lt;price&gt;9.90&lt;/price&gt;\n    &lt;year&gt;1988&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;Greatest Hits&lt;/title&gt;\n    &lt;artist&gt;Dolly Parton&lt;/artist&gt;\n    &lt;country&gt;USA&lt;/country&gt;\n    &lt;company&gt;RCA&lt;/company&gt;\n    &lt;price&gt;9.90&lt;/price&gt;\n    &lt;year&gt;1982&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;Still got the blues&lt;/title&gt;\n    &lt;artist&gt;Gary Moore&lt;/artist&gt;\n    &lt;country&gt;UK&lt;/country&gt;\n    &lt;company&gt;Virgin records&lt;/company&gt;\n    &lt;price&gt;10.20&lt;/price&gt;\n    &lt;year&gt;1990&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;Eros&lt;/title&gt;\n    &lt;artist&gt;Eros Ramazzotti&lt;/artist&gt;\n    &lt;country&gt;EU&lt;/country&gt;\n    &lt;company&gt;BMG&lt;/company&gt;\n    &lt;price&gt;9.90&lt;/price&gt;\n    &lt;year&gt;1997&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;One night only&lt;/title&gt;\n    &lt;artist&gt;Bee Gees&lt;/artist&gt;\n    &lt;country&gt;UK&lt;/country&gt;\n    &lt;company&gt;Polydor&lt;/company&gt;\n    &lt;price&gt;10.90&lt;/price&gt;\n    &lt;year&gt;1998&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;Sylvias Mother&lt;/title&gt;\n    &lt;artist&gt;Dr.Hook&lt;/artist&gt;\n    &lt;country&gt;UK&lt;/country&gt;\n    &lt;company&gt;CBS&lt;/company&gt;\n    &lt;price&gt;8.10&lt;/price&gt;\n    &lt;year&gt;1973&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;Maggie May&lt;/title&gt;\n    &lt;artist&gt;Rod Stewart&lt;/artist&gt;\n    &lt;country&gt;UK&lt;/country&gt;\n    &lt;company&gt;Pickwick&lt;/company&gt;\n    &lt;price&gt;8.50&lt;/price&gt;\n    &lt;year&gt;1990&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;Romanza&lt;/title&gt;\n    &lt;artist&gt;Andrea Bocelli&lt;/artist&gt;\n    &lt;country&gt;EU&lt;/country&gt;\n    &lt;company&gt;Polydor&lt;/company&gt;\n    &lt;price&gt;10.80&lt;/price&gt;\n    &lt;year&gt;1996&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;When a man loves a woman&lt;/title&gt;\n    &lt;artist&gt;Percy Sledge&lt;/artist&gt;\n    &lt;country&gt;USA&lt;/country&gt;\n    &lt;company&gt;Atlantic&lt;/company&gt;\n    &lt;price&gt;8.70&lt;/price&gt;\n    &lt;year&gt;1987&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;Black angel&lt;/title&gt;\n    &lt;artist&gt;Savage Rose&lt;/artist&gt;\n    &lt;country&gt;EU&lt;/country&gt;\n    &lt;company&gt;Mega&lt;/company&gt;\n    &lt;price&gt;10.90&lt;/price&gt;\n    &lt;year&gt;1995&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;1999 Grammy Nominees&lt;/title&gt;\n    &lt;artist&gt;Many&lt;/artist&gt;\n    &lt;country&gt;USA&lt;/country&gt;\n    &lt;company&gt;Grammy&lt;/company&gt;\n    &lt;price&gt;10.20&lt;/price&gt;\n    &lt;year&gt;1999&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;For the good times&lt;/title&gt;\n    &lt;artist&gt;Kenny Rogers&lt;/artist&gt;\n    &lt;country&gt;UK&lt;/country&gt;\n    &lt;company&gt;Mucik Master&lt;/company&gt;\n    &lt;price&gt;8.70&lt;/price&gt;\n    &lt;year&gt;1995&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;Big Willie style&lt;/title&gt;\n    &lt;artist&gt;Will Smith&lt;/artist&gt;\n    &lt;country&gt;USA&lt;/country&gt;\n    &lt;company&gt;Columbia&lt;/company&gt;\n    &lt;price&gt;9.90&lt;/price&gt;\n    &lt;year&gt;1997&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;Tupelo Honey&lt;/title&gt;\n    &lt;artist&gt;Van Morrison&lt;/artist&gt;\n    &lt;country&gt;UK&lt;/country&gt;\n    &lt;company&gt;Polydor&lt;/company&gt;\n    &lt;price&gt;8.20&lt;/price&gt;\n    &lt;year&gt;1971&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;Soulsville&lt;/title&gt;\n    &lt;artist&gt;Jorn Hoel&lt;/artist&gt;\n    &lt;country&gt;Norway&lt;/country&gt;\n    &lt;company&gt;WEA&lt;/company&gt;\n    &lt;price&gt;7.90&lt;/price&gt;\n    &lt;year&gt;1996&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;The very best of&lt;/title&gt;\n    &lt;artist&gt;Cat Stevens&lt;/artist&gt;\n    &lt;country&gt;UK&lt;/country&gt;\n    &lt;company&gt;Island&lt;/company&gt;\n    &lt;price&gt;8.90&lt;/price&gt;\n    &lt;year&gt;1990&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;Stop&lt;/title&gt;\n    &lt;artist&gt;Sam Brown&lt;/artist&gt;\n    &lt;country&gt;UK&lt;/country&gt;\n    &lt;company&gt;A and M&lt;/company&gt;\n    &lt;price&gt;8.90&lt;/price&gt;\n    &lt;year&gt;1988&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;Bridge of Spies&lt;/title&gt;\n    &lt;artist&gt;T`Pau&lt;/artist&gt;\n    &lt;country&gt;UK&lt;/country&gt;\n    &lt;company&gt;Siren&lt;/company&gt;\n    &lt;price&gt;7.90&lt;/price&gt;\n    &lt;year&gt;1987&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;Private Dancer&lt;/title&gt;\n    &lt;artist&gt;Tina Turner&lt;/artist&gt;\n    &lt;country&gt;UK&lt;/country&gt;\n    &lt;company&gt;Capitol&lt;/company&gt;\n    &lt;price&gt;8.90&lt;/price&gt;\n    &lt;year&gt;1983&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;Midt om natten&lt;/title&gt;\n    &lt;artist&gt;Kim Larsen&lt;/artist&gt;\n    &lt;country&gt;EU&lt;/country&gt;\n    &lt;company&gt;Medley&lt;/company&gt;\n    &lt;price&gt;7.80&lt;/price&gt;\n    &lt;year&gt;1983&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;Pavarotti Gala Concert&lt;/title&gt;\n    &lt;artist&gt;Luciano Pavarotti&lt;/artist&gt;\n    &lt;country&gt;UK&lt;/country&gt;\n    &lt;company&gt;DECCA&lt;/company&gt;\n    &lt;price&gt;9.90&lt;/price&gt;\n    &lt;year&gt;1991&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;The dock of the bay&lt;/title&gt;\n    &lt;artist&gt;Otis Redding&lt;/artist&gt;\n    &lt;country&gt;USA&lt;/country&gt;\n    &lt;company&gt;Stax Records&lt;/company&gt;\n    &lt;price&gt;7.90&lt;/price&gt;\n    &lt;year&gt;1968&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;Picture book&lt;/title&gt;\n    &lt;artist&gt;Simply Red&lt;/artist&gt;\n    &lt;country&gt;EU&lt;/country&gt;\n    &lt;company&gt;Elektra&lt;/company&gt;\n    &lt;price&gt;7.20&lt;/price&gt;\n    &lt;year&gt;1985&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;Red&lt;/title&gt;\n    &lt;artist&gt;The Communards&lt;/artist&gt;\n    &lt;country&gt;UK&lt;/country&gt;\n    &lt;company&gt;London&lt;/company&gt;\n    &lt;price&gt;7.80&lt;/price&gt;\n    &lt;year&gt;1987&lt;/year&gt;\n  &lt;/cd&gt;\n  &lt;cd&gt;\n    &lt;title&gt;Unchain my heart&lt;/title&gt;\n    &lt;artist&gt;Joe Cocker&lt;/artist&gt;\n    &lt;country&gt;USA&lt;/country&gt;\n    &lt;company&gt;EMI&lt;/company&gt;\n    &lt;price&gt;8.20&lt;/price&gt;\n    &lt;year&gt;1987&lt;/year&gt;\n  &lt;/cd&gt;\n&lt;/catalog&gt;\n\n\n\nthufir@dur:~/saxon$ \nthufir@dur:~/saxon$ cat w3.transform.xslt \n\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xsl:stylesheet version=\"1.0\"\nxmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"&gt;\n\n&lt;xsl:template match=\"/\"&gt;\n  &lt;html&gt;\n  &lt;body&gt;\n  &lt;h2&gt;My CD Collection&lt;/h2&gt;  \n  &lt;xsl:apply-templates/&gt;  \n  &lt;/body&gt;\n  &lt;/html&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template match=\"cd\"&gt;\n  &lt;p&gt;\n    &lt;xsl:apply-templates select=\"title\"/&gt;  \n    &lt;xsl:apply-templates select=\"artist\"/&gt;\n  &lt;/p&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template match=\"title\"&gt;\n  Title: &lt;span style=\"color:#ff0000\"&gt;\n  &lt;xsl:value-of select=\".\"/&gt;&lt;/span&gt;\n  &lt;br /&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template match=\"artist\"&gt;\n  Artist: &lt;span style=\"color:#00ff00\"&gt;\n  &lt;xsl:value-of select=\".\"/&gt;&lt;/span&gt;\n  &lt;br /&gt;\n&lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n\n\n\nthufir@dur:~/saxon$ \n</code></pre>\n\n<p>Which <code>Java</code> class is <a href=\"https://www.w3schools.com/xml/tryxslt.asp?xmlfile=cdcatalog&amp;xsltfile=cdcatalog_apply\" rel=\"nofollow noreferrer\">used</a> for the data and <code>XSLT</code>?</p>\n"}, {"tags": ["java", "database", "hibernate", "sql-update", "fetch"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 10859479, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GzDYMYFcmYU/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcb1iXiJVwfv8OF3RlRAGzi92AEdSA/mo/photo.jpg?sz=128", "display_name": "Sidi Mohamed MOULEY SLIMANE", "link": "https://stackoverflow.com/users/10859479/sidi-mohamed-mouley-slimane"}, "edited": false, "score": 0, "creation_date": 1547292389, "post_id": 54153023, "comment_id": 95148358, "body": "I ended up by executing native HQL queries without using update() function... and refreshing (fetching entities again) on update performed, what do you think about it ?"}], "tags": [], "owner": {"reputation": 12819, "user_id": 2387977, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b867b7871c56b1308ee19a2a08b45563?s=128&d=identicon&r=PG", "display_name": "Dherik", "link": "https://stackoverflow.com/users/2387977/dherik"}, "is_accepted": false, "score": 0, "last_activity_date": 1547235504, "creation_date": 1547235504, "answer_id": 54153023, "question_id": 54012235, "link": "https://stackoverflow.com/questions/54012235/hibernate-best-pratices-for-fetching-entities/54153023#54153023", "title": "Hibernate best pratices for fetching entities", "body": "<p>On 1), you shouldn't to that without expecting concurrency problems on updating the entity informations.</p>\n\n<p>On 2), you can use two strategies to deal with: <strong>Optimistic Lock</strong> or <strong>Pessimistic Lock</strong>. The Hibernate support <a href=\"https://stackoverflow.com/a/3618445/2387977\">both strategies</a>.</p>\n\n<p>There is no <a href=\"https://softwareengineering.stackexchange.com/a/133933/172464\">right answer</a> for your question. But if would like only to prevent the problem, the Optimistic Lock seems a good solution. When two computers try to update the field, the last to write the quantity on database will receive an error and the transaction will rollback.</p>\n"}, {"tags": [], "owner": {"reputation": 47, "user_id": 10859479, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GzDYMYFcmYU/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcb1iXiJVwfv8OF3RlRAGzi92AEdSA/mo/photo.jpg?sz=128", "display_name": "Sidi Mohamed MOULEY SLIMANE", "link": "https://stackoverflow.com/users/10859479/sidi-mohamed-mouley-slimane"}, "is_accepted": true, "score": 0, "last_activity_date": 1547292461, "creation_date": 1547292461, "answer_id": 54159136, "question_id": 54012235, "link": "https://stackoverflow.com/questions/54012235/hibernate-best-pratices-for-fetching-entities/54159136#54159136", "title": "Hibernate best pratices for fetching entities", "body": "<p>I ended up by updating entities using native HQL queries (for the ones who would face the same issue) then fetching again the entities (peforming a select query again) on update finished.</p>\n"}], "owner": {"reputation": 47, "user_id": 10859479, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GzDYMYFcmYU/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcb1iXiJVwfv8OF3RlRAGzi92AEdSA/mo/photo.jpg?sz=128", "display_name": "Sidi Mohamed MOULEY SLIMANE", "link": "https://stackoverflow.com/users/10859479/sidi-mohamed-mouley-slimane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 54159136, "answer_count": 2, "score": 0, "last_activity_date": 1547292461, "creation_date": 1546458129, "question_id": 54012235, "link": "https://stackoverflow.com/questions/54012235/hibernate-best-pratices-for-fetching-entities", "title": "Hibernate best pratices for fetching entities", "body": "<p>1) When fetching entities from hibernate i always close the session after fetching, and often i need to fetch same entities but at different times (different sessions)</p>\n\n<p>And then i need to perform some operations on the fetched entities, and there i get some problems when it comes to updating, since i perform different operations on different entities (which are exactly the same in the database)</p>\n\n<p>Is there any good pratices to avoid such problem ?</p>\n\n<p>2)- When updating entities from a software which is working in a network, often 2 different computers does some different operations on same entities (same in the database), but when updating, everything will be corrupted.</p>\n\n<p>For example, let consider the fact of updating the quantity of a product after a sale. After a sale the quantity of the product should be less than it was, but once 2 different computers does a sale on pre-fetched product, they will surely be a wrong value in the database as i'm updating the product using jpa update() function.</p>\n\n<p>Is there any good pratices also for such problems ?</p>\n\n<p>Thanks and sorry if it's too abstract and unclear.</p>\n"}, {"tags": ["java", "android", "androidx", "android-workmanager", "firebase-job-dispatcher"], "answers": [{"tags": [], "owner": {"reputation": 513, "user_id": 9842357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2bed5374cbbde59531d2bd8806f2a11?s=128&d=identicon&r=PG&f=1", "display_name": "SumirKodes", "link": "https://stackoverflow.com/users/9842357/sumirkodes"}, "is_accepted": true, "score": 2, "last_activity_date": 1546552609, "creation_date": 1546552609, "answer_id": 54030353, "question_id": 54012211, "link": "https://stackoverflow.com/questions/54012211/incompatibleclasschangeerror-with-androidx-work-logger/54030353#54030353", "title": "IncompatibleClassChangeError with androidx.work.logger", "body": "<p>You are mixing WorkManager (beta01) and the optional Firebase dependency (alpha11).  You can't mix versions (see <a href=\"https://issuetracker.google.com/issues/122028782\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/122028782</a>).  The Firebase dependency has been deprecated, so you should remove it entirely.</p>\n"}], "owner": {"reputation": 98, "user_id": 8336446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gzONO0JI2x0/AAAAAAAAAAI/AAAAAAAAAHc/Jqo7fX5cgcM/photo.jpg?sz=128", "display_name": "Snufkin", "link": "https://stackoverflow.com/users/8336446/snufkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 544, "favorite_count": 0, "accepted_answer_id": 54030353, "answer_count": 1, "score": 0, "last_activity_date": 1548427252, "creation_date": 1546457989, "last_edit_date": 1548427252, "question_id": 54012211, "link": "https://stackoverflow.com/questions/54012211/incompatibleclasschangeerror-with-androidx-work-logger", "title": "IncompatibleClassChangeError with androidx.work.logger", "body": "<p>We have updated <code>android.arch.work:work-runtime:1.0.0-beta01</code> and we are getting a lot of crashes on clients:</p>\n\n<pre><code>The method 'void androidx.work.Logger.debug was expected to be of type static but instead was found to be of type virtual at androidx.work.impl.background.firebase.FirebaseJobService.onStartJob(FirebaseJobService.java:65)\n</code></pre>\n\n<p>Seems to be an internal problem in AndroidX / FirebaseJobService.\nWe are getting reports from clients and Crashlytics (for now 100% on android 5.0)</p>\n\n<p><code>build.gradle</code>:</p>\n\n<pre><code>dependencies {\n implementation files('libs/gcm.jar')\n\n implementation 'org.apache.commons:commons-lang3:3.5'\n implementation 'com.squareup.okhttp3:okhttp:3.10.0'\n\n implementation 'androidx.multidex:multidex:2.0.1'\n implementation 'com.google.android.gms:play-services-gcm:16.0.0'\n implementation 'com.google.android.gms:play-services-location:16.0.0'\n implementation 'com.google.android.gms:play-services-maps:16.0.0'\n implementation 'com.google.android.gms:play-services-auth:16.0.1'\n implementation 'com.google.maps.android:android-maps-utils:0.5'\n\n implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n implementation 'androidx.appcompat:appcompat:1.0.2'\n implementation 'androidx.recyclerview:recyclerview:1.0.0'\n implementation 'android.arch.work:work-runtime:1.0.0-beta01'\n implementation 'android.arch.work:work-firebase:1.0.0-alpha11'\n implementation 'com.google.android.material:material:1.0.0'\n\n implementation 'com.google.code.gson:gson:2.8.2'\n implementation 'com.google.code.ksoap2-android:ksoap2-android:3.6.1'\n implementation 'com.google.firebase:firebase-core:16.0.6'\n implementation 'com.google.firebase:firebase-appindexing:17.1.0'\n implementation 'com.google.firebase:firebase-auth:16.1.0'\n implementation 'com.google.firebase:firebase-storage:16.0.5'\n implementation 'com.google.firebase:firebase-database:16.0.5'\n implementation 'com.google.firebase:firebase-messaging:17.3.4'\n implementation 'com.google.firebase:firebase-config:16.1.2'\n implementation 'com.crashlytics.sdk.android:crashlytics:2.9.8'\n implementation 'androidx.constraintlayout:constraintlayout:2.0.0-alpha3'\n\n implementation group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.9.3'\n}\n</code></pre>\n\n<p>We are getting the following stack trace: </p>\n\n<pre><code>Fatal Exception: java.lang.IncompatibleClassChangeError: The method 'void androidx.work.Logger.debug(java.lang.String, java.lang.String, java.lang.Throwable[])' was expected to be of type static but instead was found to be of type virtual (declaration of 'java.lang.reflect.ArtMethod' appears in /system/framework/core-libart.jar)\n       at androidx.work.impl.background.firebase.FirebaseJobService.onStartJob(FirebaseJobService.java:65)\n       at com.firebase.jobdispatcher.JobService$2.run(JobService.java:164)\n       at android.os.Handler.handleCallback(Handler.java:739)\n       at android.os.Handler.dispatchMessage(Handler.java:95)\n       at android.os.Looper.loop(Looper.java:135)\n       at android.app.ActivityThread.main(ActivityThread.java:5274)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at java.lang.reflect.Method.invoke(Method.java:372)\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:909)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:704)\n</code></pre>\n"}, {"tags": ["java", "swing", "event-dispatch-thread", "jprogressbar"], "comments": [{"owner": {"reputation": 2604, "user_id": 1474069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/80dd5f76d4f164348c5ec1f263a2da4b?s=128&d=identicon&r=PG", "display_name": "Carlitos Way", "link": "https://stackoverflow.com/users/1474069/carlitos-way"}, "edited": false, "score": 1, "creation_date": 1546459091, "post_id": 54012205, "comment_id": 94861625, "body": "Does your application expose an API ??? I explain myself, do you any class/method that triggers/start your batch processing ? Can you call such method from <code>doInBackground()</code> ?"}, {"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 1, "creation_date": 1546460520, "post_id": 54012205, "comment_id": 94862142, "body": "Also, you don\u2019t seem to understand how String comparison works in Java"}, {"owner": {"reputation": 51, "user_id": 10599942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb94aafce0768ebf5eb9b2ceba2fbf62?s=128&d=identicon&r=PG&f=1", "display_name": "JAVADEV", "link": "https://stackoverflow.com/users/10599942/javadev"}, "edited": false, "score": 0, "creation_date": 1546501323, "post_id": 54012205, "comment_id": 94872550, "body": "I don&#39;t have any class/method to trigger/start of my batch processing, its just a method which run for a while to automatically create so default tables and insert also some default values in those tables, moreover is that my question is really how to call my method from the doInBackground() ."}, {"owner": {"reputation": 51, "user_id": 10599942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb94aafce0768ebf5eb9b2ceba2fbf62?s=128&d=identicon&r=PG&f=1", "display_name": "JAVADEV", "link": "https://stackoverflow.com/users/10599942/javadev"}, "edited": false, "score": 0, "creation_date": 1546501483, "post_id": 54012205, "comment_id": 94872606, "body": "about the second comment, I&#39;m moving from Cobol (MainFrame) which is completely different world, reading, watching videos and getting some answers on my questions here I learn."}], "answers": [{"tags": [], "owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "is_accepted": false, "score": 0, "last_activity_date": 1546461336, "creation_date": 1546461336, "answer_id": 54012823, "question_id": 54012205, "link": "https://stackoverflow.com/questions/54012205/jprogressbar-from-oracle/54012823#54012823", "title": "JProgressBar from Oracle", "body": "<p>First, I'd recommend by defining a concept of a \"progressable\" state</p>\n\n<pre><code>public interface Progressable {\n    public void setProgress(int progress); // I prefer double, but we'll keep it inline with the rest of the API\n}\n</code></pre>\n\n<p>Then, the entry point for your tasks would take a reference to <code>Progressable</code></p>\n\n<pre><code>public class MySuperAwesomeLongRunningTask ... {\n    //...\n    private Progressable progressable;\n\n    public void performTask(Progressable progressable) {\n        this.prgressable = progressable\n    }\n\n    protected void methodThatDoesSomeWork() {\n        // Do some super duper work...\n        // calculate the progress of that work some how,\n        // based on your implementation...\n        int progress = ...;\n        progressable.setProgress(progress);\n    }\n}\n</code></pre>\n\n<p>Then, create a <code>SwingWorker</code> which implements <code>Progressable</code> and calls your work...</p>\n\n<pre><code>class Task extends SwingWorker&lt;Void, Void&gt; implements Progressable {\n    private MySuperAwesomeLongRunningTask taskToBeDone;\n\n    public Task(MySuperAwesomeLongRunningTask taskToBeDone) {\n        self.taskToBeDone = taskToBeDone;\n    }\n\n    /*\n     * Main task. Executed in background thread.\n     */\n    @Override\n    public Void doInBackground() {\n        taskToBeDone.performTask(this);\n        return null;\n    }\n\n    /*\n     * Executed in event dispatch thread\n     */\n    public void done() {\n        // What ever you need to do...\n    }\n}\n</code></pre>\n\n<p>Now, because <code>SwingWorker</code> already has a method called <code>setProgress(int)</code> it automatically conforms to <code>Progressable</code> (so long as you implement it), so when <code>MySuperAwesomeLongRunningTask</code> calls <code>setProgress</code>, it will actually be calling the <code>SwingWorker</code>s implementation.</p>\n\n<p>This means, that the rest of the code basically remains the same, expect, I'd change</p>\n\n<pre><code>if (\"progress\" == evt.getPropertyName()) {\n</code></pre>\n\n<p>to </p>\n\n<pre><code>if (\"progress\".equals(evt.getPropertyName())) {\n</code></pre>\n\n<p>because comparing <code>String</code>s with <code>==</code> is bad idea (and freaks me out :P)</p>\n"}], "owner": {"reputation": 51, "user_id": 10599942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb94aafce0768ebf5eb9b2ceba2fbf62?s=128&d=identicon&r=PG&f=1", "display_name": "JAVADEV", "link": "https://stackoverflow.com/users/10599942/javadev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1546475072, "creation_date": 1546457957, "last_edit_date": 1546475072, "question_id": 54012205, "link": "https://stackoverflow.com/questions/54012205/jprogressbar-from-oracle", "title": "JProgressBar from Oracle", "body": "<p>I've downloaded a small Java project from oracle website to create a progress bar.</p>\n\n<p>I understand it, but I need to apply it in a different way, the application is creating a thread in the background so the progress bar can be updated accordingly (<code>doInBackground()</code>).</p>\n\n<p>My question is, how can I replace this kind of process in the background in this application by a method from my application (method is just doing a kind of batch processing on a database), can someone help please?</p>\n\n<p>Here is code by Oracle:</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.beans.*; \nimport java.util.Random;\n\n\npublic class ProgressBarDemo2 extends JPanel\n       implements ActionListener, PropertyChangeListener {\n\nprivate JProgressBar progressBar;\nprivate JButton startButton;\nprivate JTextArea taskOutput;\nprivate Task task;\n\nclass Task extends SwingWorker&lt;Void, Void&gt; {\n    /*\n     * Main task. Executed in background thread.\n     */\n    @Override\n    public Void doInBackground() {\n        Random random = new Random();\n        int progress = 0;\n        //Initialize progress property.\n        setProgress(0);\n        //Sleep for at least one second to simulate \"startup\".\n        try {\n            Thread.sleep(1000 + random.nextInt(2000));\n        } catch (InterruptedException ignore) {}\n        while (progress &lt; 100) {\n            //Sleep for up to one second.\n            try {\n                Thread.sleep(random.nextInt(1000));\n            } catch (InterruptedException ignore) {}\n            //Make random progress.\n            progress += random.nextInt(10);\n            setProgress(Math.min(progress, 100));\n        }\n        return null;\n    }\n\n    /*\n     * Executed in event dispatch thread\n     */\n    public void done() {\n        Toolkit.getDefaultToolkit().beep();\n        startButton.setEnabled(true);\n        taskOutput.append(\"Done!\\n\");\n    }\n}\n\npublic ProgressBarDemo2() {\n    super(new BorderLayout());\n\n    //Create the demo's UI.\n    startButton = new JButton(\"Start\");\n    startButton.setActionCommand(\"start\");\n    startButton.addActionListener(this);\n\n    progressBar = new JProgressBar(0, 100);\n    progressBar.setValue(0);\n\n    //Call setStringPainted now so that the progress bar height\n    //stays the same whether or not the string is shown.\n    progressBar.setStringPainted(true); \n\n    taskOutput = new JTextArea(5, 20);\n    taskOutput.setMargin(new Insets(5,5,5,5));\n    taskOutput.setEditable(false);\n\n    JPanel panel = new JPanel();\n    panel.add(startButton);\n    panel.add(progressBar);\n\n    add(panel, BorderLayout.PAGE_START);\n    add(new JScrollPane(taskOutput), BorderLayout.CENTER);\n    setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\n}\n\n/**\n * Invoked when the user presses the start button.\n */\npublic void actionPerformed(ActionEvent evt) {\n    progressBar.setIndeterminate(true);\n    startButton.setEnabled(false);\n    //Instances of javax.swing.SwingWorker are not reusuable, so\n    //we create new instances as needed.\n    task = new Task();\n    task.addPropertyChangeListener(this);\n    task.execute();\n}\n\n/**\n * Invoked when task's progress property changes.\n */\npublic void propertyChange(PropertyChangeEvent evt) {\n    if (\"progress\" == evt.getPropertyName()) {\n        int progress = (Integer) evt.getNewValue();\n        progressBar.setIndeterminate(false);\n        progressBar.setValue(progress);\n        taskOutput.append(String.format(\n                    \"Completed %d%% of task.\\n\", progress));\n    }\n}\n\n/**\n * Create the GUI and show it. As with all GUI code, this must run\n * on the event-dispatching thread.\n */\nprivate static void createAndShowGUI() {\n    //Create and set up the window.\n    JFrame frame = new JFrame(\"ProgressBarDemo2\");\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    //Create and set up the content pane.\n    JComponent newContentPane = new ProgressBarDemo2();\n    newContentPane.setOpaque(true); //content panes must be opaque\n    frame.setContentPane(newContentPane);\n\n    //Display the window.\n    frame.pack();\n    frame.setVisible(true);\n}\n\npublic static void main(String[] args) {\n    //Schedule a job for the event-dispatching thread:\n    //creating and showing this application's GUI.\n    javax.swing.SwingUtilities.invokeLater(new Runnable() {\n        public void run() {\n            createAndShowGUI();\n        }\n    });\n}\n}\n</code></pre>\n"}, {"tags": ["java", "gradle", "intellij-idea", "javafx", "java-11"], "comments": [{"owner": {"reputation": 10389, "user_id": 4105457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9ef298504ee9556c9532d3c7f3a3263?s=128&d=identicon&r=PG&f=1", "display_name": "Flown", "link": "https://stackoverflow.com/users/4105457/flown"}, "edited": false, "score": 0, "creation_date": 1546458028, "post_id": 54012148, "comment_id": 94861174, "body": "Maybe: <code>App.class.getResource(&quot;..&#47;resources&#47;MainWindow.fxml&quot;);</code>?"}, {"owner": {"reputation": 2570, "user_id": 4685247, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/73c981959972f610c97df93e561ec907?s=128&d=identicon&r=PG", "display_name": "tofiffe", "link": "https://stackoverflow.com/users/4685247/tofiffe"}, "reply_to_user": {"reputation": 10389, "user_id": 4105457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9ef298504ee9556c9532d3c7f3a3263?s=128&d=identicon&r=PG&f=1", "display_name": "Flown", "link": "https://stackoverflow.com/users/4105457/flown"}, "edited": false, "score": 0, "creation_date": 1546458302, "post_id": 54012148, "comment_id": 94861299, "body": "I&#39;ve tried &quot;../resources/MainWindow.fxml&quot;, &quot;/resources/MainWindow.fxml&quot;, &quot;resources/MainWindow.fxml&quot;, neither of them return a resource."}, {"owner": {"reputation": 39338, "user_id": 3956070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qqUhH.png?s=128&g=1", "display_name": "Jos&#233; Pereda", "link": "https://stackoverflow.com/users/3956070/jos%c3%a9-pereda"}, "edited": false, "score": 0, "creation_date": 1546460364, "post_id": 54012148, "comment_id": 94862080, "body": "For starters, you should open your project to the fxml module, like <code>opens gui to javafx.fxml</code>, as in this <a href=\"https://github.com/openjfx/samples/blob/master/IDE/IntelliJ/Modular/Gradle/hellofx/src/main/java/module-info.java#L5\" rel=\"nofollow noreferrer\">sample</a>. Are you using the JavaFX <a href=\"https://github.com/openjfx/javafx-gradle-plugin\" rel=\"nofollow noreferrer\">gradle plugin</a>? Can you show your build.gradle file?"}, {"owner": {"reputation": 2570, "user_id": 4685247, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/73c981959972f610c97df93e561ec907?s=128&d=identicon&r=PG", "display_name": "tofiffe", "link": "https://stackoverflow.com/users/4685247/tofiffe"}, "reply_to_user": {"reputation": 39338, "user_id": 3956070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qqUhH.png?s=128&g=1", "display_name": "Jos&#233; Pereda", "link": "https://stackoverflow.com/users/3956070/jos%c3%a9-pereda"}, "edited": false, "score": 0, "creation_date": 1546460705, "post_id": 54012148, "comment_id": 94862202, "body": "@Jos&#233;Pereda I&#39;ve added the build.gradle file. I&#39;ve also added the opens statement, but I think this may be some other issue, since the file cannot be loaded before any related JavaFX is executed."}, {"owner": {"reputation": 39338, "user_id": 3956070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qqUhH.png?s=128&g=1", "display_name": "Jos&#233; Pereda", "link": "https://stackoverflow.com/users/3956070/jos%c3%a9-pereda"}, "edited": false, "score": 0, "creation_date": 1546460886, "post_id": 54012148, "comment_id": 94862276, "body": "You don&#39;t need the  <code>implementation</code> part, the plugin does that for you. Also you don&#39;t need to add <code>javafx.graphics</code>, it is added by controls. As for your issue, do you have an exception? Can you post the stacktrace? Have you tried to run the sample I linked before, does it work for you?"}, {"owner": {"reputation": 2570, "user_id": 4685247, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/73c981959972f610c97df93e561ec907?s=128&d=identicon&r=PG", "display_name": "tofiffe", "link": "https://stackoverflow.com/users/4685247/tofiffe"}, "edited": false, "score": 0, "creation_date": 1546461089, "post_id": 54012148, "comment_id": 94862391, "body": "Yes, the sample works (the one where the controls are added programatically). I get  the &quot;Location is not set.&quot; exception, but I&#39;ve pinpointed that to getResource() returning null"}, {"owner": {"reputation": 5265, "user_id": 6486622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b9237af0f1560b25956eab5056c2e3?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Zavedeev", "link": "https://stackoverflow.com/users/6486622/denis-zavedeev"}, "edited": false, "score": 0, "creation_date": 1546461864, "post_id": 54012148, "comment_id": 94862704, "body": "@tofiffe can you please try to build jar (<code>$ .&#47;gradlew jar</code> also it might be necessary to specify the main class: <code>jar {   manifest {     attributes &#39;Main-Class&#39;: &#39;gui.App&#39;   } }</code>) and access the resource using: <code>InputStream asStream = App.class.getModule().getResourceAsStream(&quot;MainWindow.fxml&quot;)&zwnj;&#8203;;</code>"}, {"owner": {"reputation": 39338, "user_id": 3956070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qqUhH.png?s=128&g=1", "display_name": "Jos&#233; Pereda", "link": "https://stackoverflow.com/users/3956070/jos%c3%a9-pereda"}, "edited": false, "score": 0, "creation_date": 1546462316, "post_id": 54012148, "comment_id": 94862889, "body": "If you have an stacktrace in your project(due to the location is not set), add it to the question. Do you say the linked samples with FXML don&#39;t work for you?"}, {"owner": {"reputation": 2570, "user_id": 4685247, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/73c981959972f610c97df93e561ec907?s=128&d=identicon&r=PG", "display_name": "tofiffe", "link": "https://stackoverflow.com/users/4685247/tofiffe"}, "reply_to_user": {"reputation": 5265, "user_id": 6486622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b9237af0f1560b25956eab5056c2e3?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Zavedeev", "link": "https://stackoverflow.com/users/6486622/denis-zavedeev"}, "edited": false, "score": 0, "creation_date": 1546462415, "post_id": 54012148, "comment_id": 94862925, "body": "@caco3 by building the jar I get <code>Error: Could not find or load main class gui.App Caused by: java.lang.NoClassDefFoundError: javafx&#47;application&#47;Application</code>"}, {"owner": {"reputation": 39338, "user_id": 3956070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qqUhH.png?s=128&g=1", "display_name": "Jos&#233; Pereda", "link": "https://stackoverflow.com/users/3956070/jos%c3%a9-pereda"}, "edited": false, "score": 0, "creation_date": 1546462504, "post_id": 54012148, "comment_id": 94862959, "body": "You shouldn&#39;t need to build the jar just to make this work... The jar won&#39;t have the JavaFX classes in the first place..."}, {"owner": {"reputation": 5265, "user_id": 6486622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b9237af0f1560b25956eab5056c2e3?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Zavedeev", "link": "https://stackoverflow.com/users/6486622/denis-zavedeev"}, "reply_to_user": {"reputation": 39338, "user_id": 3956070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qqUhH.png?s=128&g=1", "display_name": "Jos&#233; Pereda", "link": "https://stackoverflow.com/users/3956070/jos%c3%a9-pereda"}, "edited": false, "score": 0, "creation_date": 1546462920, "post_id": 54012148, "comment_id": 94863133, "body": "@Jos&#233;Pereda Oh, yes you&#39;re right. Running the main method which tries to access the resource from IntelliJ produces the <code>NullPointerException</code> but built jar does not"}, {"owner": {"reputation": 5265, "user_id": 6486622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b9237af0f1560b25956eab5056c2e3?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Zavedeev", "link": "https://stackoverflow.com/users/6486622/denis-zavedeev"}, "edited": false, "score": 0, "creation_date": 1546462986, "post_id": 54012148, "comment_id": 94863159, "body": "Oh... Seems I managed to run it in Idea: adding <code>apply plugin: &#39;idea&#39; idea {   module {     inheritOutputDirs = true   } }</code> to <code>build.gradle</code> worked for me... (See <a href=\"https://stackoverflow.com/questions/48673769/java-9-module-system-resources-files-location\">this</a> question)"}, {"owner": {"reputation": 2570, "user_id": 4685247, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/73c981959972f610c97df93e561ec907?s=128&d=identicon&r=PG", "display_name": "tofiffe", "link": "https://stackoverflow.com/users/4685247/tofiffe"}, "reply_to_user": {"reputation": 5265, "user_id": 6486622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b9237af0f1560b25956eab5056c2e3?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Zavedeev", "link": "https://stackoverflow.com/users/6486622/denis-zavedeev"}, "edited": false, "score": 0, "creation_date": 1546499240, "post_id": 54012148, "comment_id": 94871816, "body": "@caco3 adding the idea plugin and inheritOutputDirs worked! Can you post this as answer so I can accept it?"}, {"owner": {"reputation": 4654, "user_id": 7463126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/465f0f97c5d56f3a071ede93bad17a72?s=128&d=identicon&r=PG", "display_name": "Alan Bateman", "link": "https://stackoverflow.com/users/7463126/alan-bateman"}, "edited": false, "score": 0, "creation_date": 1546501529, "post_id": 54012148, "comment_id": 94872629, "body": "The issue here seems to be that the the resources aren&#39;t in out/production/classes, hence they are not in the module. If the classes and resources are packaged in a JAR file then App.class.getResource(&quot;/MainWindow.fxml&quot;) should work - the leading slash is to locate it via an absolute resource name. The only way to fix the exploded case is to patch the module to add the contents of out/production/resources to the module, i.e. <code>--patch-module MyApp=out&#47;production&#47;resources</code>."}, {"owner": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "reply_to_user": {"reputation": 4654, "user_id": 7463126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/465f0f97c5d56f3a071ede93bad17a72?s=128&d=identicon&r=PG", "display_name": "Alan Bateman", "link": "https://stackoverflow.com/users/7463126/alan-bateman"}, "edited": false, "score": 0, "creation_date": 1547134675, "post_id": 54012148, "comment_id": 95095439, "body": "@AlanBateman I\u2019d say, if the classes and resources are packaged in a jar file in this specific way, the application would not even start, as it is not possible to specify a sub-directory within a jar file as class path element."}], "owner": {"reputation": 2570, "user_id": 4685247, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/73c981959972f610c97df93e561ec907?s=128&d=identicon&r=PG", "display_name": "tofiffe", "link": "https://stackoverflow.com/users/4685247/tofiffe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 620, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1573742377, "creation_date": 1546457559, "last_edit_date": 1573742377, "question_id": 54012148, "link": "https://stackoverflow.com/questions/54012148/loading-file-from-resources-when-using-modules", "title": "Loading file from resources when using modules", "body": "<p>I am trying to load a FXML file from resources directory to show a JavaFX window, however whatever I do I am unable to find the correct way to reference the resource.</p>\n\n<p>My directory structure is as follows:</p>\n\n<pre><code>src\n    main\n        java\n            gui\n                App.java\n            module-info.java\n        resources\n            MainWindow.fxml\nout\n    production\n        classes\n            // All compiled classes\n        resources\n            MainWindow.fxml\n</code></pre>\n\n<p>The contents of <code>module-info.java</code> are following:</p>\n\n<pre><code>module MyApp {\n    requires javafx.controls;\n    requires javafx.graphics;\n    requires javafx.fxml;\n    exports gui;\n}\n</code></pre>\n\n<p>I'm trying to load the MainWindow.fxml file in App.java like this:\n<code>getClass().getResource(\"/MainWindow.fxml\");</code></p>\n\n<p>I've tried using <code>MainWindow.fxml</code> and <code>/MainWindow.fxml</code> names, however both return null. As can be seen from the directory structure, contents of resources are copied as well, so they should be available at runtime. Resources directory is marked as such in IntelliJ. I'm using Gradle for dependency management.</p>\n\n<p>How can I load files from the resources directory?</p>\n\n<p>Here's my <code>build.gradle</code> file:</p>\n\n<pre><code>plugins {\n    id 'application'\n    id 'java'\n    id 'org.openjfx.javafxplugin' version '0.0.5'\n}\n\ngroup 'MyApp'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 1.11\n\njavafx {\n    modules = [\n            'javafx.controls',\n            'javafx.graphics',\n            'javafx.fxml'\n    ]\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation group: 'junit', name: 'junit', version: '4.12'\n\n    implementation 'org.openjfx.javafx-controls:11.0.1'\n    implementation 'org.openjfx.javafx-fxml:11.0.1'\n    implementation 'org.openjfx.javafx-graphics:11.0.1'\n}\n</code></pre>\n"}, {"tags": ["java", "midi", "javasound"], "comments": [{"owner": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "edited": false, "score": 0, "creation_date": 1546499806, "post_id": 54012029, "comment_id": 94872018, "body": "This sounds like a bug in your particular Java implementation."}, {"owner": {"reputation": 554, "user_id": 6725459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osb1F.png?s=128&g=1", "display_name": "jjazzboss", "link": "https://stackoverflow.com/users/6725459/jjazzboss"}, "reply_to_user": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "edited": false, "score": 0, "creation_date": 1546630945, "post_id": 54012029, "comment_id": 94925807, "body": "I use Oracle JDK 8 for Win10 x64. Is there alternatives ?"}], "answers": [{"comments": [{"owner": {"reputation": 7903, "user_id": 4851565, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c6e6414810d11199754a0fb801dff7d7?s=128&d=identicon&r=PG&f=1", "display_name": "entpnerd", "link": "https://stackoverflow.com/users/4851565/entpnerd"}, "edited": false, "score": 1, "creation_date": 1570393733, "post_id": 58260845, "comment_id": 102890535, "body": "I think it would help if you added some code to help explain things. It&#39;s hard to understand what you&#39;re saying with the current form of the answer."}], "tags": [], "owner": {"reputation": 1, "user_id": 12173578, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/439189578c171ef5cbf1240a84dbe0e2?s=128&d=identicon&r=PG", "display_name": "Staale", "link": "https://stackoverflow.com/users/12173578/staale"}, "is_accepted": false, "score": 0, "last_activity_date": 1570392437, "creation_date": 1570392437, "answer_id": 58260845, "question_id": 54012029, "link": "https://stackoverflow.com/questions/54012029/java-sequencer-loops-with-a-delay-if-connected-to-external-midi-out-device/58260845#58260845", "title": "Java sequencer loops with a delay if connected to external Midi out device", "body": "<p>Sequencer automatic send controller msg after loop.\n(reset all controller etc. 121,123,64 on all channels)\nThat is why it sound's delayed.</p>\n"}], "owner": {"reputation": 554, "user_id": 6725459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osb1F.png?s=128&g=1", "display_name": "jjazzboss", "link": "https://stackoverflow.com/users/6725459/jjazzboss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570392437, "creation_date": 1546456909, "last_edit_date": 1546466697, "question_id": 54012029, "link": "https://stackoverflow.com/questions/54012029/java-sequencer-loops-with-a-delay-if-connected-to-external-midi-out-device", "title": "Java sequencer loops with a delay if connected to external Midi out device", "body": "<p>I want to loop a Midi sequence using the Java sequencer and its setLoopCount() method. </p>\n\n<p>If sequencer's output is connected to an external Midi out device, there is a noticeable lag introduced each time sequence loops over. </p>\n\n<p>If sequencer's is connected to the internal Java synth (Gervill) I don't notice any delay between loops. I tried with different loop points, it does not change the problem. I'm using Win10/Java 8.</p>\n\n<pre><code>  sequencer = MidiSystem.getSequencer(false);\n  sequencer.open();\n  Sequence sequence = MidiSystem.getSequence(midiFile);\n  sequencer.setSequence(sequence);\n\n  // outDevice=Java synth (Gervill)\n  // or\n  // outDevice=Edirol UA-25 (USB)\n  Receiver outDeviceReceiver = outDevice.getReceiver();\n  Transmitter seqTransmitter = sequencer.getTransmitter();\n  seqTransmitter.setReceiver(outDeviceReceiver);\n\n  int startLoopTick = 0;\n  int endLoopTick = -1;  // Loop at end of sequence\n  sequencer.setLoopStartPoint(startLoopTick);\n  sequencer.setLoopEndPoint(endLoopTick);\n  sequencer.setLoopCount(Sequencer.LOOP_CONTINUOUSLY);\n\n  // if outDevice==Edirol there is a slight delay between loops\n  sequencer.start();\n</code></pre>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1546460240, "post_id": 54011981, "comment_id": 94862039, "body": "Your question is very broad and it is unknown what system/framework you are using. Basically you are looking for java thread synchronization and there are several solutions and approaches for this. Please <a href=\"https://stackoverflow.com/posts/54011981/edit\">edit</a> your question to ask about a specific problem, see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}, {"owner": {"reputation": 2251, "user_id": 6650475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3543c7ccbd9324d2bc28abd8bd8d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew S", "link": "https://stackoverflow.com/users/6650475/andrew-s"}, "edited": false, "score": 1, "creation_date": 1546460337, "post_id": 54011981, "comment_id": 94862068, "body": "What do you mean by <i>lock the soap request</i>?  From the description, it sounds like a producer (soap) / consumer (rest) set up, with a queue in the middle to decouple the producer and consumer processes."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8093442"}, "edited": false, "score": 0, "creation_date": 1546504019, "post_id": 54011981, "comment_id": 94873514, "body": "By lock the soap request i mean not send the soap response until the response of the rest request."}], "owner": {"user_type": "does_not_exist", "display_name": "user8093442"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546456668, "creation_date": 1546456668, "question_id": 54011981, "link": "https://stackoverflow.com/questions/54011981/java-how-to-link-notification-and-polling", "title": "Java how to link notification and polling", "body": "<p>I'm looking the best solution to link a parameter which is shared by two interface: rest and soap.</p>\n\n<p>A function named \"isNotification()\" is polled by a web service and in parallel another web service notified the application through the soap interface by calling \"notified()\" function.</p>\n\n<p>I'm looking for the best way to implement this, and lock the soap request until the rest request has collected the notified information.</p>\n"}, {"tags": ["java", "math", "linked-list", "nodes", "adt"], "comments": [{"owner": {"reputation": 1246, "user_id": 4229454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jceqP.jpg?s=128&g=1", "display_name": "zlakad", "link": "https://stackoverflow.com/users/4229454/zlakad"}, "edited": false, "score": 3, "creation_date": 1546456903, "post_id": 54011958, "comment_id": 94860718, "body": "1 - declare <code>pazz</code> as int. 2 - Move <code>new Random</code> outside the loop"}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 1, "creation_date": 1546456930, "post_id": 54011958, "comment_id": 94860733, "body": "Why did you declare <code>pazz</code> as a <code>double</code>, when you assign it an <code>int</code> value, and want to pass it to a method expecting <code>int</code>? Change declaration to <code>int</code>."}], "answers": [{"tags": [], "owner": {"reputation": 637, "user_id": 4692381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5987e748b7ea74525369ec51f4ea8848?s=128&d=identicon&r=PG&f=1", "display_name": "Stalemate Of Tuning", "link": "https://stackoverflow.com/users/4692381/stalemate-of-tuning"}, "is_accepted": false, "score": 1, "last_activity_date": 1546456953, "creation_date": 1546456953, "answer_id": 54012040, "question_id": 54011958, "link": "https://stackoverflow.com/questions/54011958/possible-lossy-conversion-from-double-to-int-java-linked-list/54012040#54012040", "title": "Possible lossy conversion from double to int; Java; Linked List", "body": "<pre><code>double pazz = rand.nextInt(50) + 1;\n</code></pre>\n\n<p>Here you set <code>pazz</code> as double. You should set it to int instead.</p>\n"}], "owner": {"reputation": 379, "user_id": 5913092, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6klOhLOIlFQ/AAAAAAAAAAI/AAAAAAAAAa8/CfXSF-rtbDk/photo.jpg?sz=128", "display_name": "Giovanni Giampaolo", "link": "https://stackoverflow.com/users/5913092/giovanni-giampaolo"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "closed_date": 1546456896, "answer_count": 1, "score": -3, "last_activity_date": 1546461507, "creation_date": 1546456567, "last_edit_date": 1546461507, "question_id": 54011958, "link": "https://stackoverflow.com/questions/54011958/possible-lossy-conversion-from-double-to-int-java-linked-list", "closed_reason": "Duplicate", "title": "Possible lossy conversion from double to int; Java; Linked List", "body": "<p>at the moment, I'm exercising with linked list but I have a problem with a code. The code below runs and work, but when I'm trying to add some nodes using a for generating random numbers it gave me this error. Before adding the for the code works and run adding the now as you can see into main. Maybe I missed something. Can someone help me to understand? </p>\n\n<p>P.S. The commented part was the part of the main that I tryed to \"upgrade\".</p>\n\n<pre><code>import java.util.Random;\n\nclass Node {\n    private int value;\n    private Node next = null;\n\n    public Node(int value) {\n        this.value = value;\n    }\n\n    public int getValue() { return this.value; }\n\n    public Node getNext() { return this.next; }\n\n    public void setNext(Node pNext) { this.next = pNext; }\n\n}\n\npublic class linked {\n\n    private Node head;\n    private Node tail;\n    private int size;\n\n    public int getSize() { return this.size; }\n\n    public void insert (Node ele) {\n        if (this.head == null) {\n            this.tail = ele;\n            this.head = this.tail;\n        }\n        else {\n                this.tail.setNext(ele);\n                this.tail = ele;\n        }\n        this.size++;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder ret = null;\n        if ((this.head != null) &amp;&amp; (this.tail != null)) {\n\n            ret = new StringBuilder(\"[Dimensione: \" + this.size\n                                                  + \", Head: \"\n                                                  + this.head.getValue()\n                                                  + \", Tail: \"\n                                                  + this.tail.getValue()\n                                                  + \"] Elementi: \");\n            Node tmp = this.head;\n            while (tmp != null) {\n                ret.append(tmp.getValue() + \" -&gt; \");\n                tmp = tmp.getNext();\n            }\n            ret.append(\"/\");\n        }\n        return ret == null ? \"[null]\" : ret.toString();\n    }\n\n    public static void main (String args[])\n    {\n        linked ll = new linked();\n        System.out.println(ll);\n\n        for(int i=0; i&lt;15; i++) {\n            Random rand = new Random();\n            double pazz = rand.nextInt(50) + 1;\n            ll.insert(new Node(pazz));\n        }\n        /*\n        ll.insert(new Node(10));\n        System.out.println(ll);\n\n        ll.insert(new Node(25));\n        System.out.println(ll);\n\n        ll.insert(new Node(12));\n        System.out.println(ll);\n\n        ll.insert(new Node(20));\n        System.out.println(ll);\n        */\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "css", "javafx"], "comments": [{"owner": {"reputation": 32425, "user_id": 1054140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uKs9u.jpg?s=128&g=1", "display_name": "Sergey Grinev", "link": "https://stackoverflow.com/users/1054140/sergey-grinev"}, "edited": false, "score": 2, "creation_date": 1546460016, "post_id": 54011898, "comment_id": 94861954, "body": "please provide an excerpt of modena_dark.css to see if it&#39;s formatted correctly."}, {"owner": {"reputation": 71, "user_id": 1129146, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CzdhG.jpg?s=128&g=1", "display_name": "Manish Soni", "link": "https://stackoverflow.com/users/1129146/manish-soni"}, "edited": false, "score": 0, "creation_date": 1546512275, "post_id": 54011898, "comment_id": 94877377, "body": "css file should be present at the compiled class level."}, {"owner": {"reputation": 71, "user_id": 1129146, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CzdhG.jpg?s=128&g=1", "display_name": "Manish Soni", "link": "https://stackoverflow.com/users/1129146/manish-soni"}, "edited": false, "score": 0, "creation_date": 1546512779, "post_id": 54011898, "comment_id": 94877663, "body": "verify that the build includes the correct css file into output folder. you can use below code to see what its printing:-  System.out.println(getClass().getResource(&quot;style.css&quot;).toExt&zwnj;&#8203;ernalForm());"}], "answers": [{"comments": [{"owner": {"reputation": 5973, "user_id": 4185959, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7cfcf34fe9158b62d7980842ea72c512?s=128&d=identicon&r=PG&f=1", "display_name": "Itai", "link": "https://stackoverflow.com/users/4185959/itai"}, "edited": false, "score": 0, "creation_date": 1546531285, "post_id": 54020656, "comment_id": 94887845, "body": "This won&#39;t work if the CSS file is inside the .jar file."}, {"owner": {"reputation": 138, "user_id": 10854248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XNCwr.png?s=128&g=1", "display_name": "Jannik", "link": "https://stackoverflow.com/users/10854248/jannik"}, "reply_to_user": {"reputation": 5973, "user_id": 4185959, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7cfcf34fe9158b62d7980842ea72c512?s=128&d=identicon&r=PG&f=1", "display_name": "Itai", "link": "https://stackoverflow.com/users/4185959/itai"}, "edited": false, "score": 0, "creation_date": 1546642143, "post_id": 54020656, "comment_id": 94929811, "body": "@Itai Actually it works for me, even in an <code>.jar</code> file. I don&#39;t know why, but <code>getClass().getResource(&quot;style.css&quot;).toExternalForm()</code> isn&#39;t working for me."}], "tags": [], "owner": {"reputation": 138, "user_id": 10854248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XNCwr.png?s=128&g=1", "display_name": "Jannik", "link": "https://stackoverflow.com/users/10854248/jannik"}, "is_accepted": false, "score": 0, "last_activity_date": 1546512033, "creation_date": 1546512033, "answer_id": 54020656, "question_id": 54011898, "link": "https://stackoverflow.com/questions/54011898/how-to-set-css-file-to-whole-application-jafafx/54020656#54020656", "title": "How to set CSS file to whole application JafaFX", "body": "<p>If your .css file is in the same directory as your java class, try using:</p>\n\n<pre><code>scene.getStylesheets().add(\"/yourpackage/modena_dark.css\");\n</code></pre>\n\n<p>This works for me without any problems.</p>\n"}], "owner": {"reputation": 13, "user_id": 7417178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2024ae21330afc24c4bcddf9deb6262?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil9477", "link": "https://stackoverflow.com/users/7417178/kamil9477"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546512033, "creation_date": 1546456272, "question_id": 54011898, "link": "https://stackoverflow.com/questions/54011898/how-to-set-css-file-to-whole-application-jafafx", "title": "How to set CSS file to whole application JafaFX", "body": "<p>I want to set one css file to my whole application.\nI read several similar topic, but I didn't find solution.\nThis is my code:</p>\n\n<pre><code>@Override\npublic void start(Stage primaryStage) throws Exception{\n    Parent root = FXMLLoader.load(getClass().getResource(\"../view/MainView.fxml\"));\n    Scene scene = new Scene(root); \n    scene.getStylesheets().add(this.getClass().getResource(\"modena_dark.css\").toExternalForm());\n\n    primaryStage.setScene(scene);\n    primaryStage.show();\n}\n</code></pre>\n\n<p>There is no error, just stylesheet doesn't work and app window looks standard.\nFile \"modena_dark.css\" is in the same directory as file with this code.</p>\n\n<h2>Heading</h2>\n"}, {"tags": ["javascript", "java", "html"], "owner": {"reputation": 21, "user_id": 10838502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39bd60ffaa8e99a9a57b75e3b226bd53?s=128&d=identicon&r=PG&f=1", "display_name": "hvtmoshe", "link": "https://stackoverflow.com/users/10838502/hvtmoshe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1546455966, "creation_date": 1546455911, "last_edit_date": 1546455966, "question_id": 54011833, "link": "https://stackoverflow.com/questions/54011833/i-try-to-get-information-from-login-form-and-change-it-to-the-id", "title": "I try to get information from login form and change it to the id", "body": "<p>I have a login page in html that i get there username, password and type\nand when i log in to the account i need to find the account details from the id of the user get when he register, but every time i get this message that it cannot convert from: \"'java.lang.String' to required type 'long'\"; how can i fix this?\nmy login method return long which is the id type.</p>\n\n<p>this is the code:</p>\n\n<pre><code>public class LoginController {\n\n    @Autowired\n    LoginServiceImpl loginService;\n\n    @GetMapping(\"/login/{userName}/{password}/{clientType}\")\n    public long Login(@PathVariable(\"userName\") String userName,@PathVariable(\"password\") String password,\n            @PathVariable(\"clientType\") ClientType clientType)throws CustomException {\n        return loginService.login(userName, password, clientType);}\n</code></pre>\n\n<hr>\n\n<pre><code>public long login(String userName, String password, ClientType clientType) throws CustomException {\n    if(clientType.equals(ClientType.ADMIN)) {\n        adminService.login(userName, password, clientType);\n        System.out.println(\"admin loged in\");\n\n    }\n    else if(clientType.equals(ClientType.COMPANY)) {\n        Company companyLogin = companyRepository.findByCompName(userName);\n        companyService.login(userName, password, clientType);\n        System.out.println(\"company loged in\");\n        return companyLogin.getId();\n    }\n    else if(clientType.equals(ClientType.CUSTOMER)) {\n        customerService.login(userName, password, clientType);\n        System.out.println(\"customer loged in\");\n    }\n    else {\n        System.out.println(\"login didnt execute\");\n    }\n    return 0;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>    $scope.submit=function(){\n$http.get(\"http://localhost:8080/rest/api/login/\" +     $scope.username +\"/\" + $scope.password + \"/\" + $scope.cType).then(\n    function(response){\n        $scope.login = response.data;\n        switch ($scope.cType){\n\n\n            case \"COMPANY\":\n                window.location.assign(\"http://localhost:8080/rest/api/company.html\")\n                break;\n</code></pre>\n\n<hr>\n\n<pre><code>                $scope.hideAllTables();\n                $scope.welcomePage = true;\n                // $scope.MainMenu = true;\n                $http.get('http://localhost:8080/rest/api/company.html/comanyDetailes/' + compny).then(function(response) {\n                            $scope.company = response.data;\n                            $scope.welcomePage = true;\n                        }, function(error) {\n                            alert('operation failed ', error.data);\n                        });\n</code></pre>\n"}, {"tags": ["java", "selenium", "internet-explorer"], "comments": [{"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1546457316, "post_id": 54011774, "comment_id": 94860891, "body": "What is your <i>Manual Step</i> which you are trying to <i>Automate</i>? Where are you stuck exactly?"}, {"owner": {"reputation": 53, "user_id": 10224533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gmooZ.jpg?s=128&g=1", "display_name": "Konstanty Maciej Lachowicz", "link": "https://stackoverflow.com/users/10224533/konstanty-maciej-lachowicz"}, "reply_to_user": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1546457404, "post_id": 54011774, "comment_id": 94860921, "body": "Searching company by it&#39;s number then downloading proper document (and name it but it&#39;s secondary goal)"}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1546457475, "post_id": 54011774, "comment_id": 94860949, "body": "<i>IE</i> and <i>Firefox</i> failed ... how about <i>Chrome</i>?"}, {"owner": {"reputation": 53, "user_id": 10224533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gmooZ.jpg?s=128&g=1", "display_name": "Konstanty Maciej Lachowicz", "link": "https://stackoverflow.com/users/10224533/konstanty-maciej-lachowicz"}, "reply_to_user": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1546457976, "post_id": 54011774, "comment_id": 94861148, "body": "I cant make chrome work at all :/"}, {"owner": {"reputation": 307, "user_id": 9955108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc8d1a01f8794ad9aa4ecfb6f9b8330a?s=128&d=identicon&r=PG&f=1", "display_name": "Neha", "link": "https://stackoverflow.com/users/9955108/neha"}, "edited": false, "score": 0, "creation_date": 1546507846, "post_id": 54011774, "comment_id": 94875044, "body": "Can u try this in debug mode by keeping a debug point at:  szukajbutton.click(); Check whether the correct string is inputting in the text box. Also, try clicking the button on this screen to check if the issue is with the driver window."}], "answers": [{"tags": [], "owner": {"reputation": 38, "user_id": 5503201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f98hP.png?s=128&g=1", "display_name": "Xing-fu", "link": "https://stackoverflow.com/users/5503201/xing-fu"}, "is_accepted": false, "score": 0, "last_activity_date": 1546644759, "last_edit_date": 1546644759, "creation_date": 1546634855, "answer_id": 54045831, "question_id": 54011774, "link": "https://stackoverflow.com/questions/54011774/seleniums-ie-driver-doesnt-load-page/54045831#54045831", "title": "Selenium&#39;s IE driver doesn&#39;t load page?", "body": "<p>First, there is a tip on input field: <em>Pole KRS jest dziesi\u0119cioznakowe.</em>\nSo, your code should look like</p>\n\n<pre><code>String strMyNumber = \"0000331515\";\n\nWebDriver driver = new InternetExplorerDriver();\ndriver.get(\"https://ekrs.ms.gov.pl/rdf/pd/\");\n\nWebElement krsinput = driver.findElement(By.name(\"unloggedForm:krs2\"));\nkrsinput.sendKeys(strMyNumber);\n\nWebElement szukajbutton = driver.findElement(By.name(\"unloggedForm:submit\"));\nszukajbutton.click();\n</code></pre>\n\n<p>And your code is fully workable.\nBy my opinion, it's a website's issue. I have tried few correct format case numbers that I've found on some Polish websites, all of them gave no result to me.</p>\n"}], "owner": {"reputation": 53, "user_id": 10224533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gmooZ.jpg?s=128&g=1", "display_name": "Konstanty Maciej Lachowicz", "link": "https://stackoverflow.com/users/10224533/konstanty-maciej-lachowicz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546644759, "creation_date": 1546455677, "question_id": 54011774, "link": "https://stackoverflow.com/questions/54011774/seleniums-ie-driver-doesnt-load-page", "title": "Selenium&#39;s IE driver doesn&#39;t load page?", "body": "<p>I try to load webpage and extract some docs, but after typing in code and pressing \"search\" button, nothing shows up. When i do it on my regular website, it works fine. Should I somehow set my WebDriver differently?</p>\n\n<p>I tried with simple firefox driver but it also failed.</p>\n\n<pre><code>    WebDriver driver = new InternetExplorerDriver();\n\n\n    driver.get(\"https://ekrs.ms.gov.pl/rdf/pd/\");\n\n    WebElement krsinput = driver.findElement(By.name(\"unloggedForm:krs2\"));\n    krsinput.sendKeys(String.valueOf(myNumber);\n\n    WebElement szukajbutton = driver.findElement(By.name(\"unloggedForm:submit\"));\n    szukajbutton.click();\n</code></pre>\n\n<p>I typed in \"331515\" in the inputbox (there's only one) and after pressing \"szukaj\", there should be table showing below button.</p>\n"}, {"tags": ["java", "apache-kafka", "nio", "project-reactor", "reactive"], "comments": [{"owner": {"reputation": 65, "user_id": 10819668, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-N97i7oGnEnI/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYmCHFXoVCVAiOsIm606sqE806sEA/mo/photo.jpg?sz=128", "display_name": "ASHISH TEWARI", "link": "https://stackoverflow.com/users/10819668/ashish-tewari"}, "edited": false, "score": 0, "creation_date": 1546458761, "post_id": 54011760, "comment_id": 94861486, "body": "The same applies for the offset-commit for the input-topic, I have to make sure that the acknowledgement is done only after all the processed messages for a file has been pushed to the output topic."}], "answers": [{"tags": [], "owner": {"reputation": 20335, "user_id": 1113486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fda20bf9d9c85c4390ca7237beba45a2?s=128&d=identicon&r=PG", "display_name": "Simon Basl&#233;", "link": "https://stackoverflow.com/users/1113486/simon-basl%c3%a9"}, "is_accepted": true, "score": 1, "last_activity_date": 1546508451, "creation_date": 1546508451, "answer_id": 54019658, "question_id": 54011760, "link": "https://stackoverflow.com/questions/54011760/project-reactor-kafka-perform-action-at-the-end-of-flux-without-blocking/54019658#54019658", "title": "Project Reactor Kafka: Perform action at the end of Flux without blocking", "body": "<p>Since it seems the <code>path</code> variable is accessible in the whole pipeline (method input parameter?), you could delete the file within a separate <code>doFinally</code>. You would need to filter for <code>onComplete</code> or <code>cancel</code> <code>SignalType</code>, because you don't want to delete the file in case of a failure.</p>\n\n<p>Another option would be <code>doOnComplete</code> if you're not interested in deleting the file upon cancellation.</p>\n"}], "owner": {"reputation": 65, "user_id": 10819668, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-N97i7oGnEnI/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYmCHFXoVCVAiOsIm606sqE806sEA/mo/photo.jpg?sz=128", "display_name": "ASHISH TEWARI", "link": "https://stackoverflow.com/users/10819668/ashish-tewari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 2, "accepted_answer_id": 54019658, "answer_count": 1, "score": -2, "last_activity_date": 1546508451, "creation_date": 1546455629, "last_edit_date": 1546461068, "question_id": 54011760, "link": "https://stackoverflow.com/questions/54011760/project-reactor-kafka-perform-action-at-the-end-of-flux-without-blocking", "title": "Project Reactor Kafka: Perform action at the end of Flux without blocking", "body": "<p>I am working on an application that is using <code>project-reactor</code> Kafka APIs to connect reactively to <code>Kafka-brokers</code>. The use-case is that there is an input topic which contains file-paths to the files for processing. The application reads each file, processes it, creates a flux of the processed messages and pushes it to the output topic. The requirement is that the file must be deleted once it has been processed and processed messages should be pushed to the output topic. So, the delete action must be performed after each file has been processed and the flux of the message pushed to the output topic.</p>\n\n<pre><code>public Flux&lt;?&gt; flux() {\n   return KafkaReceiver\n   .create(receiverOptions(Collections.singleton(sourceTopic)))\n   .receive()\n   .flatMap(m -&gt; transform(m.value()).map(x -&gt; SenderRecord.create(x, \n   m.receiverOffset())))\n   .as(sender::send)\n   .doOnNext(m -&gt; {\n   m.correlationMetadata().acknowledge();\n   deleteFile(path);\n}).doOnCancel(() -&gt; close());\n</code></pre>\n\n<p>}</p>\n\n<p>*The transform() method initiates the file processing in the file path(m.value()) and returns a flux of messages.</p>\n\n<p>The problem is that the file is deleted even before all the messages is pushed to output topic. Therefore, in case of a failure, on re-try the original file is not available.</p>\n"}, {"tags": ["java", "compression", "gzip"], "comments": [{"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1546456297, "post_id": 54011719, "comment_id": 94860462, "body": "If gzip compression is useful for your particular workload (e.g., text instead of images), then doing it client-side is almost certainly a better option. gzip is insanely cheap, and bandwidth savings on client uploads are always helpful."}, {"owner": {"reputation": 1470, "user_id": 5738211, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8836106db10f4ea90378bc4acc21108a?s=128&d=identicon&r=PG", "display_name": "Leo", "link": "https://stackoverflow.com/users/5738211/leo"}, "reply_to_user": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1546457900, "post_id": 54011719, "comment_id": 94861119, "body": "workload is arbitrary, text, images, backups, total size is from couple megabytes to many gigabytes. I had a little experience with client side compression, however not sure if compressing a chunk, uploading and then disposing from the memory is supported by any js library (at least quick look at JSZip api didn&#39;t clarify that), that actually seems to be the same problem."}, {"owner": {"reputation": 572, "user_id": 6365858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsWsF.jpg?s=128&g=1", "display_name": "Soufiane Sakhi", "link": "https://stackoverflow.com/users/6365858/soufiane-sakhi"}, "edited": false, "score": 0, "creation_date": 1546461097, "post_id": 54011719, "comment_id": 94862395, "body": "Gzip is normally used to compress just single files, but I think it should be possible to compress a file structure into a single tar archive, and then compressing that archive with gzip. Another alternative would be to use the Zip format."}], "answers": [{"tags": [], "owner": {"reputation": 572, "user_id": 6365858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsWsF.jpg?s=128&g=1", "display_name": "Soufiane Sakhi", "link": "https://stackoverflow.com/users/6365858/soufiane-sakhi"}, "is_accepted": false, "score": 0, "last_activity_date": 1546471127, "last_edit_date": 1546471127, "creation_date": 1546468454, "answer_id": 54014052, "question_id": 54011719, "link": "https://stackoverflow.com/questions/54011719/compressing-file-by-independent-chunks-and-then-concat-them-into-one-valid-archi/54014052#54014052", "title": "compressing file by independent chunks and then concat them into one valid archive", "body": "<p>You can try something like this for tar + gzip:</p>\n\n<p>Maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\n    &lt;version&gt;1.18&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Java code to compress into chunks:</p>\n\n<pre><code>import org.apache.commons.compress.archivers.tar.TarArchiveEntry;\nimport org.apache.commons.compress.archivers.tar.TarArchiveOutputStream;\nimport org.apache.commons.compress.compressors.gzip.GzipCompressorOutputStream;\nimport org.apache.commons.compress.utils.IOUtils;\n\nimport java.io.*;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\n[..]\n\nprivate static final int MAX_CHUNK_SIZE = 16000000;\n\npublic void compressTarGzChunks(String inputDirPath, String outputDirPath) throws Exception {\n    PipedInputStream in = new PipedInputStream();\n    final PipedOutputStream out = new PipedOutputStream(in);\n    new Thread(() -&gt; {\n        try {\n            int chunkIndex = 0;\n            int n = 0;\n            byte[] buffer = new byte[8192];\n            do {\n                String chunkFileName = String.format(\"archive-part%d.tar.gz\", chunkIndex);\n                try (OutputStream fOut = Files.newOutputStream(Paths.get(outputDirPath, chunkFileName));\n                     BufferedOutputStream bOut = new BufferedOutputStream(fOut);\n                     GzipCompressorOutputStream gzOut = new GzipCompressorOutputStream(bOut)) {\n\n                    int currentChunkSize = 0;\n                    if (chunkIndex &gt; 0) {\n                        gzOut.write(buffer, 0, n);\n                        currentChunkSize += n;\n                    }\n                    while ((n = in.read(buffer)) != -1 &amp;&amp; currentChunkSize + n &lt; MAX_CHUNK_SIZE) {\n                        gzOut.write(buffer, 0, n);\n                        currentChunkSize += n;\n                    }\n                    chunkIndex++;\n                }\n            } while (n != -1);\n            in.close();\n        } catch (IOException e) {\n            // logging and exception handling should go here\n        }\n    }).start();\n\n    try (TarArchiveOutputStream tOut = new TarArchiveOutputStream(out)) {\n        compressTar(tOut, inputDirPath, \"\");\n    }\n}\n\nprivate static void compressTar(TarArchiveOutputStream tOut, String path, String base)\n        throws IOException {\n    File file = new File(path);\n    String entryName = base + file.getName();\n    TarArchiveEntry tarEntry = new TarArchiveEntry(file, entryName);\n    tarEntry.setSize(file.length());\n    tOut.putArchiveEntry(tarEntry);\n\n    if (file.isFile()) {\n        try (FileInputStream in = new FileInputStream(file)) {\n            IOUtils.copy(in, tOut);\n            tOut.closeArchiveEntry();\n        }\n    } else {\n        tOut.closeArchiveEntry();\n        File[] children = file.listFiles();\n        if (children != null) {\n            for (File child : children) {\n                compressTar(tOut, child.getAbsolutePath(), entryName + \"/\");\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Java code to concatenate the chunks into a single archive:</p>\n\n<pre><code>public void concatTarGzChunks(List&lt;InputStream&gt; sortedTarGzChunks, String outputFile) throws IOException {\n    try {\n        try (FileOutputStream fos = new FileOutputStream(outputFile)) {\n            for (InputStream in : sortedTarGzChunks) {\n                int len;\n                byte[] buf = new byte[1024 * 1024];\n                while ((len = in.read(buf)) != -1) {\n                    fos.write(buf, 0, len);\n                }\n            }\n        }\n    } finally {\n        sortedTarGzChunks.forEach(is -&gt; {\n            try {\n                is.close();\n            } catch (IOException e) {\n                // logging and exception handling should go here\n            }\n        });\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 78348, "user_id": 1180620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/FXaAg.jpg?s=128&g=1", "display_name": "Mark Adler", "link": "https://stackoverflow.com/users/1180620/mark-adler"}, "is_accepted": true, "score": 0, "last_activity_date": 1546631034, "creation_date": 1546631034, "answer_id": 54045099, "question_id": 54011719, "link": "https://stackoverflow.com/questions/54011719/compressing-file-by-independent-chunks-and-then-concat-them-into-one-valid-archi/54045099#54045099", "title": "compressing file by independent chunks and then concat them into one valid archive", "body": "<p>Yes. A concatenation of gzip files is a valid gzip file, per the standard (RFC 1952). gzip certainly handles this.</p>\n\n<p>You are correct to be concerned that some code out there might not support it, since it is not very common to have concatenated gzip members. If you want to be super-safe, you can combine the gzip files into a single gzip member, without having to recompress. You do however need to read through all of the compressed data, effectively decompressing it in memory (which is still much faster than compressing). You can find an example of that in <a href=\"https://github.com/madler/zlib/blob/master/examples/gzjoin.c\" rel=\"nofollow noreferrer\">gzjoin.c</a>.</p>\n"}], "owner": {"reputation": 1470, "user_id": 5738211, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8836106db10f4ea90378bc4acc21108a?s=128&d=identicon&r=PG", "display_name": "Leo", "link": "https://stackoverflow.com/users/5738211/leo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 54045099, "answer_count": 2, "score": 1, "last_activity_date": 1546631034, "creation_date": 1546455439, "question_id": 54011719, "link": "https://stackoverflow.com/questions/54011719/compressing-file-by-independent-chunks-and-then-concat-them-into-one-valid-archi", "title": "compressing file by independent chunks and then concat them into one valid archive", "body": "<p>I wonder if it is possible to compress an arbitrary file (or folder, or any other file structure) by independent chunks and then get a valid archive (e.g. gzip) by concatenating them together. Some requirements:</p>\n\n<ul>\n<li>java 8</li>\n<li>chunks &lt;= 16MB</li>\n<li>folder structure does not change during the process</li>\n<li>chunks are compressed independently, but order is preserved</li>\n<li>each compressed chunk is appended to the end of the resulting archive</li>\n<li>resulting archive should be valid and decompressable by any standard tool</li>\n</ul>\n\n<p>It looks like to achieve that I would need to create an archive header first and then just append compressed blocks to it <a href=\"https://tools.ietf.org/html/rfc1952\" rel=\"nofollow noreferrer\">https://tools.ietf.org/html/rfc1952</a>, however I'm not sure if it is supported by any of standard java utils or 3rd party libraries. Does anybody have any ideas on where to start from?</p>\n\n<p>Some background:\nI have a client-server app, which allows user to upload files to a cloud storage. Communication via REST api, client side is going to be responsible for dividing files into chunks and upload them one by one. It is possible to do compression in browser, however I wonder if we can move that load to the backend.</p>\n"}, {"tags": ["java", "xml", "spring", "postgresql", "hibernate"], "owner": {"reputation": 11, "user_id": 10850414, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-y4dKe4fYtWc/AAAAAAAAAAI/AAAAAAAABSc/78aTIdgTVQg/photo.jpg?sz=128", "display_name": "Fun Code", "link": "https://stackoverflow.com/users/10850414/fun-code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1546454776, "creation_date": 1546454776, "question_id": 54011593, "link": "https://stackoverflow.com/questions/54011593/how-to-fix-the-save-xml-with-hibernate-and-spring", "title": "\u201cHow to fix \u2018&#39; the Save XML with hibernate and spring", "body": "<p>There is a class of Hibernate XML Type and I need to save in postgresql with the help of hibernate @type custom. The class is <a href=\"https://wiki.postgresql.org/wiki/Hibernate_XML_Type\" rel=\"nofollow noreferrer\">https://wiki.postgresql.org/wiki/Hibernate_XML_Type</a>\nbut at the time of saving, it appears that I have not assigned the value.</p>\n\n<p>I think it's because my configuration class, I have not added that property of @type in my configuration, Any Idea\n    @Getter\n    @Setter\n    @Entity\n    @Table(name = \"doc_sri\")\n    public class Bill {</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = \"cod_doc\")\nprivate int idBill;\n\n@Column(name = \"key_doc\")\nprivate String keyBill;\n\n@Column(name = \"date_doc\")\nprivate String dateIssueBill;\n\n@Type(type = \"com.rolandopalermo.facturacion.ec.entity.SQLXMLType\")\n@Column(name = \"xml_doc\" )\nprivate String xmlBill;\n\n@Column(name = \"status_doc\")\nprivate int statusBill;\n\n@Column(name = \"type_doc\")\nprivate String typeBill;\n\npublic Bill( String keyBill, String dateIssueBill, String xmlBill, int statusBill, String typeBill) {\n    super();\n\n    this.keyBill = keyBill;\n    this.dateIssueBill = dateIssueBill;\n    this.xmlBill = xmlBill;\n    this.statusBill = statusBill;\n    this.typeBill = typeBill;\n}\n\n}\n</code></pre>\n\n<p>Next class is </p>\n\n<pre><code>@Configuration\n@ComponentScan({ \"com.rolandopalermo.facturacion.ec\" })\n@PropertySource(\"classpath:application.properties\")\npublic class WebAppConfig {\n\nprivate static final String PROPERTY_NAME_DATABASE_DRIVER = \"org.postgresql.Driver\";\nprivate static final String PROPERTY_NAME_DATABASE_PASSWORD = \"admin\";\nprivate static final String PROPERTY_NAME_DATABASE_URL = \"jdbc:postgresql://localhost:5433/sri_data_base\";\nprivate static final String PROPERTY_NAME_DATABASE_USERNAME = \"postgres\";\n\nprivate static final String PROPERTY_NAME_HIBERNATE_DIALECT = \"org.hibernate.dialect.PostgreSQLDialect\";\nprivate static final String PROPERTY_NAME_HIBERNATE_SHOW_SQL = \"true\";\nprivate static final String PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN = \"com.rolandopalermo.facturacion.ec.entity\";\nprivate static final String PROPERTY_NAME_ENTITYMANAGER_PACKAGES_MAPPING = \"com.rolandopalermo.facturacion.ec.entity.SQLXMLType\";\n\n@Bean\npublic DataSource dataSource() {\n    DriverManagerDataSource dataSource = null;\n    try {\n        dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(PROPERTY_NAME_DATABASE_DRIVER);\n        dataSource.setUrl(PROPERTY_NAME_DATABASE_URL);\n        dataSource.setUsername(PROPERTY_NAME_DATABASE_USERNAME);\n        dataSource.setPassword(PROPERTY_NAME_DATABASE_PASSWORD);\n\n    } catch (Exception e) {\n        // TODO: handle exception\n    }\n    return dataSource;\n\n}\n\n@Bean\npublic LocalSessionFactoryBean sessionFactory() {\n    LocalSessionFactoryBean sessionFactoryBean = null;\n    try {\n        sessionFactoryBean = new LocalSessionFactoryBean();\n        sessionFactoryBean.setDataSource(dataSource());\n        sessionFactoryBean.setPackagesToScan(PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN);\n\n        sessionFactoryBean.setHibernateProperties(hibProperties());\n    } catch (Exception e) {\n        // TODO: handle exception\n    }\n\n    return sessionFactoryBean;\n}\n\nprivate Properties hibProperties() {\n    Properties properties = null;\n    try {\n        properties = new Properties();\n        properties.put(PROPERTY_NAME_HIBERNATE_DIALECT, PROPERTY_NAME_HIBERNATE_DIALECT);\n        properties.put(PROPERTY_NAME_HIBERNATE_SHOW_SQL, PROPERTY_NAME_HIBERNATE_SHOW_SQL);\n        properties.put(\"xml\", PROPERTY_NAME_ENTITYMANAGER_PACKAGES_MAPPING);\n    } catch (Exception e) {\n        // TODO: handle exception\n    }\n\n    return properties;\n}\n\n@Bean\npublic HibernateTransactionManager transactionManager() {\n    HibernateTransactionManager transactionManager = new HibernateTransactionManager();\n    transactionManager.setSessionFactory(sessionFactory().getObject());\n    return transactionManager;\n}\n\n@Bean\npublic UrlBasedViewResolver setupViewResolver() {\n    UrlBasedViewResolver resolver = new UrlBasedViewResolver();\n    resolver.setPrefix(\"/WEB-INF/pages/\");\n    resolver.setSuffix(\".jsp\");\n    resolver.setViewClass(JstlView.class);\n    return resolver;\n}\n\n}\n</code></pre>\n\n<p>But when I try to save, it executes the following error</p>\n\n<pre><code> org.postgresql.util.PSQLException: No se ha especificado un valor para el par\u251c\u00edmetro 5.\n</code></pre>\n"}, {"tags": ["java", "selenium", "selenium-webdriver", "css-selectors", "webdriverwait"], "comments": [{"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 1, "creation_date": 1546455475, "post_id": 54011582, "comment_id": 94860116, "body": "Where are you exactly stuck? What is your usecase?"}, {"owner": {"reputation": 1170, "user_id": 8111997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9g7aA.jpg?s=128&g=1", "display_name": "Poorna Senani Gamage", "link": "https://stackoverflow.com/users/8111997/poorna-senani-gamage"}, "reply_to_user": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1546455558, "post_id": 54011582, "comment_id": 94860144, "body": "driver.findElement(By.cssSelector(&quot;a[href=&#39;www.ebay.com&#39;]&quot;))&zwnj;&#8203;.click(); is not working. error occur there."}, {"owner": {"reputation": 1170, "user_id": 8111997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9g7aA.jpg?s=128&g=1", "display_name": "Poorna Senani Gamage", "link": "https://stackoverflow.com/users/8111997/poorna-senani-gamage"}, "reply_to_user": {"reputation": 4066, "user_id": 2442526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c673a5b98a6b201606a39c644c467b13?s=128&d=identicon&r=PG&f=1", "display_name": "xtratic", "link": "https://stackoverflow.com/users/2442526/xtratic"}, "edited": false, "score": 0, "creation_date": 1546456370, "post_id": 54011582, "comment_id": 94860494, "body": "@xtratic thanx. but i cannot understand the error. it works with xpath. then i tried  without xpath. my testing fail"}], "answers": [{"comments": [{"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1546456372, "post_id": 54011770, "comment_id": 94860497, "body": "And why the Google search instead of just going to <code>ebay.com</code> in the first place?"}], "tags": [], "owner": {"reputation": 1762, "user_id": 1417451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82853d54858f517eb31723db2ca4704?s=128&d=identicon&r=PG", "display_name": "s3cur3", "link": "https://stackoverflow.com/users/1417451/s3cur3"}, "is_accepted": false, "score": 0, "last_activity_date": 1546455663, "creation_date": 1546455663, "answer_id": 54011770, "question_id": 54011582, "link": "https://stackoverflow.com/questions/54011582/how-to-use-cssselectors/54011770#54011770", "title": "How to use CssSelectors", "body": "<p>There are two problems you're going to run into here:</p>\n\n<p>First, while the <em>text</em> Google displays in the search results says the URL is <code>https://www.ebay.com</code>, the <em>actual</em> <code>href</code> of the <code>&lt;a&gt;</code> tag is an internal (gibberish) link used for tracking purposes. So, in my browser, the eBay result's <code>href</code> actually points to:</p>\n\n<p><code>/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwjItIGq48_fAhWiSt8KHVHWCMUQFjAAegQIARAC&amp;url=https%3A%2F%2Fwww.ebay.com%2F&amp;usg=AOvVaw2IUWs7JZelxpS-zydrZoSX</code></p>\n\n<p>...which of course then <em>redirects</em> to eBay's site.</p>\n\n<p>The second problem you're going to have is that the CSS selector <code>a[href='www.ebay.com']</code> requires an <em>exact</em> match\u2014that selector would <em>not</em> match a link that points to <code>https://www.ebay.com</code>.</p>\n\n<p>EDIT: Digging into the HTML on the Google results page, it looks like the link in the <em>sidebar</em> actually does go straight to eBay.com. So, you could edit your CSS selector to be: <code>a[href='http://www.ebay.com']</code></p>\n\n<p>(Note that for reasons I'm not clear on, that sidebar link goes to the non-secure version of the eBay home page.)</p>\n"}, {"tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": true, "score": 3, "last_activity_date": 1546478115, "last_edit_date": 1546478115, "creation_date": 1546456121, "answer_id": 54011875, "question_id": 54011582, "link": "https://stackoverflow.com/questions/54011582/how-to-use-cssselectors/54011875#54011875", "title": "How to use CssSelectors", "body": "<p>Once you initiate the search you need to induce <code>WebDriverWait</code> for the desired <em>element to be clickable</em> and you can use the following solution:</p>\n\n<pre><code>new WebDriverWait(driver, 20).until(\n   ExpectedConditions.elementToBeClickable(By.cssSelector(\"a[href='https://www.ebay.com/']\"))\n).click();\n</code></pre>\n"}], "owner": {"reputation": 1170, "user_id": 8111997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9g7aA.jpg?s=128&g=1", "display_name": "Poorna Senani Gamage", "link": "https://stackoverflow.com/users/8111997/poorna-senani-gamage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 54011875, "answer_count": 2, "score": 0, "last_activity_date": 1548177658, "creation_date": 1546454719, "last_edit_date": 1548177658, "question_id": 54011582, "link": "https://stackoverflow.com/questions/54011582/how-to-use-cssselectors", "title": "How to use CssSelectors", "body": "<p>I want to test the ebay site login with out Xpath. but it is not working I tried so many hours . please explain me the error.<br>\n1.  Open Google website<br>\n2.  Search for \u201cebay\u201d website<br>\n3.  Click on the appropriate result<br>\n4.  Go to <a href=\"http://www.ebay.com\" rel=\"nofollow noreferrer\">http://www.ebay.com</a> website<br>\n5.  Click on the \u201cSign in\u201d link to navigate to the ebay login page<br>\n6.  Enter email address/password <br>\n7.  Click on Sign In button<br>\n8.  Verify your user name.<br>\n     package Script;</p>\n\n<pre><code>    import org.openqa.selenium.By;\n    import org.openqa.selenium.WebDriver;\n    import org.openqa.selenium.firefox.FirefoxDriver;\n    import org.testng.annotations.Test;\n\n    public class TestEbay_login {\n        @Test\n        public void ebay_login() throws InterruptedException {\n\n                System.setProperty(\"webdriver.gecko.driver\", \"C:\\\\Users\\\\Senani\\\\Downloads\\\\Programs\\\\geckodriver-v0.23.0-win64\\\\geckodriver.exe\");\n                WebDriver driver = new  FirefoxDriver();\n                //driver.get(\"https://www.google.com\");\n                driver.navigate().to(\"https://www.google.com\");\n                driver.manage().window().maximize();\n                driver.findElement(By.name(\"q\")).sendKeys(\"ebay\");\n                driver.findElement(By.name(\"btnK\")).submit();\n                driver.findElement(By.cssSelector(\"a[href='www.ebay.com']\")).click();\n                driver.findElement(By.linkText(\"Sign in\")).click();\n                driver.findElement(By.id(\"userid\")).sendKeys(\"#########\");\n                driver.findElement(By.id(\"pass\")).sendKeys(\"###########\");\n\n                driver.findElement(By.id(\"sgnBt\")).click();\n\n\n        }\n\n    }\n</code></pre>\n\n<blockquote>\n  <p>FAILED: ebay_login org.openqa.selenium.NoSuchElementException: Unable to locate element: a[href='www.ebay.com'] For documentation on\n  this error, please visit:\n  <a href=\"https://www.seleniumhq.org/exceptions/no_such_element.html\" rel=\"nofollow noreferrer\">https://www.seleniumhq.org/exceptions/no_such_element.html</a> Build info:\n  version: '3.141.59', revision: 'e82be7d358', time:\n  '2018-11-14T08:25:48'</p>\n</blockquote>\n"}, {"tags": ["java", "arrays"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 1, "creation_date": 1546454661, "post_id": 54011557, "comment_id": 94859791, "body": "The most likely cause is that <code>flag</code> is never false.  It only takes one match for that to be the case."}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 2, "creation_date": 1546454759, "post_id": 54011557, "comment_id": 94859829, "body": "<code>flag</code> will always end up being true, because <code>a[i] == a[j]</code> when <code>i == j</code>."}, {"owner": {"reputation": 37, "user_id": 10633634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541469729e90be525aac18815dfa6edb?s=128&d=identicon&r=PG&f=1", "display_name": "Mezja", "link": "https://stackoverflow.com/users/10633634/mezja"}, "reply_to_user": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1546455588, "post_id": 54011557, "comment_id": 94860155, "body": "@AndyTurner I added i==j, the code seems to work, but there is a problem, that the first element gets excluded even being the only number in the array, how can I fix it, that even the equal elements get to be checked?"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 10633634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541469729e90be525aac18815dfa6edb?s=128&d=identicon&r=PG&f=1", "display_name": "Mezja", "link": "https://stackoverflow.com/users/10633634/mezja"}, "edited": false, "score": 0, "creation_date": 1546455669, "post_id": 54011612, "comment_id": 94860190, "body": "I get results, but now it shows me the elements which repeat."}, {"owner": {"reputation": 34704, "user_id": 1746118, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/a4a3P.png?s=128&g=1", "display_name": "Naman", "link": "https://stackoverflow.com/users/1746118/naman"}, "reply_to_user": {"reputation": 37, "user_id": 10633634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541469729e90be525aac18815dfa6edb?s=128&d=identicon&r=PG&f=1", "display_name": "Mezja", "link": "https://stackoverflow.com/users/10633634/mezja"}, "edited": false, "score": 0, "creation_date": 1546475450, "post_id": 54011612, "comment_id": 94866956, "body": "oh, okay. for that, you could just invert the condition of your <code>if</code> after the inner <code>for</code>  loop."}], "tags": [], "owner": {"reputation": 34704, "user_id": 1746118, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/a4a3P.png?s=128&g=1", "display_name": "Naman", "link": "https://stackoverflow.com/users/1746118/naman"}, "is_accepted": false, "score": 1, "last_activity_date": 1546454888, "creation_date": 1546454888, "answer_id": 54011612, "question_id": 54011557, "link": "https://stackoverflow.com/questions/54011557/finding-if-array-of-100-random-elements-contain-number-which-doesnt-repeat/54011612#54011612", "title": "Finding if array of 100 random elements contain number, which doesn&#39;t repeat?", "body": "<p>Change </p>\n\n<pre><code>for (int j = 0; j &lt; 100; j++) // ends up comparing a number with itself as well\n</code></pre>\n\n<p>to </p>\n\n<pre><code> for (int j = i+1; j &lt; 100; j++) // compares with the rest of the elements ahead of it\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 10633634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541469729e90be525aac18815dfa6edb?s=128&d=identicon&r=PG&f=1", "display_name": "Mezja", "link": "https://stackoverflow.com/users/10633634/mezja"}, "edited": false, "score": 0, "creation_date": 1546459311, "post_id": 54011878, "comment_id": 94861712, "body": "Thank you for your advice ! :)"}], "tags": [], "owner": {"reputation": 166951, "user_id": 1707091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dJrV3.jpg?s=128&g=1", "display_name": "rgettman", "link": "https://stackoverflow.com/users/1707091/rgettman"}, "is_accepted": false, "score": 2, "last_activity_date": 1546456154, "creation_date": 1546456154, "answer_id": 54011878, "question_id": 54011557, "link": "https://stackoverflow.com/questions/54011557/finding-if-array-of-100-random-elements-contain-number-which-doesnt-repeat/54011878#54011878", "title": "Finding if array of 100 random elements contain number, which doesn&#39;t repeat?", "body": "<p>You always check for a duplicate against its own position.  Each nested loop iteration, <code>i</code> will equal <code>j</code> and you will find a \"duplicate\".  The simplest fix to your current code is to test if <code>i</code> is not equal to <code>j</code>.</p>\n\n<p>Additionally, because you've sorted the array, any duplicates will be found in consecutive positions.  You only need to scan the array once, instead of 100 times, to find duplicates.  Just store what the previous value was so you can see if the current element is a duplicate.</p>\n\n<p>You should be getting many elements that are not duplicates, but not all of them.  On populating the last (100th) random element, even if all 99 integers chosen previously were unique, there is only a 1 in 100 chance of picking the only unchosen integer to prevent a duplicate.  Before that, on the 99th random element, there would be only a 2 in 100 chance of picking one of the 2 unchosen integers to prevent a duplicate, and so on for each chosen integer.  If you do get a line printed for all elements, then you should have played the lottery instead.</p>\n\n<p>In case you wanted all unique elements, then <a href=\"https://stackoverflow.com/questions/8115722/generating-unique-random-numbers-in-java\">initialize the values sequentially, then shuffle them</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 2690, "user_id": 3177669, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c73c81b6a90c6965cb1636f1152d27b2?s=128&d=identicon&r=PG&f=1", "display_name": "NVG", "link": "https://stackoverflow.com/users/3177669/nvg"}, "reply_to_user": {"reputation": 37, "user_id": 10633634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541469729e90be525aac18815dfa6edb?s=128&d=identicon&r=PG&f=1", "display_name": "Mezja", "link": "https://stackoverflow.com/users/10633634/mezja"}, "edited": false, "score": 0, "creation_date": 1546458174, "post_id": 54012014, "comment_id": 94861237, "body": "@Mezja Edited. Added this i=j-1;//Because for loop is incrementing by again"}, {"owner": {"reputation": 2690, "user_id": 3177669, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c73c81b6a90c6965cb1636f1152d27b2?s=128&d=identicon&r=PG&f=1", "display_name": "NVG", "link": "https://stackoverflow.com/users/3177669/nvg"}, "reply_to_user": {"reputation": 37, "user_id": 10633634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541469729e90be525aac18815dfa6edb?s=128&d=identicon&r=PG&f=1", "display_name": "Mezja", "link": "https://stackoverflow.com/users/10633634/mezja"}, "edited": false, "score": 0, "creation_date": 1546458663, "post_id": 54012014, "comment_id": 94861450, "body": "@Mezja Even you don&#39;t need 2 for-loops here. You can do it single for-loop"}, {"owner": {"reputation": 37, "user_id": 10633634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541469729e90be525aac18815dfa6edb?s=128&d=identicon&r=PG&f=1", "display_name": "Mezja", "link": "https://stackoverflow.com/users/10633634/mezja"}, "edited": false, "score": 0, "creation_date": 1546459455, "post_id": 54012014, "comment_id": 94861761, "body": "For now it is not so important to optimize this code, but later I will come back to it and I will try to optimize it the best way I can, for now, I just need a solution which I can use in exam."}], "tags": [], "owner": {"reputation": 2690, "user_id": 3177669, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c73c81b6a90c6965cb1636f1152d27b2?s=128&d=identicon&r=PG&f=1", "display_name": "NVG", "link": "https://stackoverflow.com/users/3177669/nvg"}, "is_accepted": false, "score": 1, "last_activity_date": 1546458588, "last_edit_date": 1546458588, "creation_date": 1546456823, "answer_id": 54012014, "question_id": 54011557, "link": "https://stackoverflow.com/questions/54011557/finding-if-array-of-100-random-elements-contain-number-which-doesnt-repeat/54012014#54012014", "title": "Finding if array of 100 random elements contain number, which doesn&#39;t repeat?", "body": "<p>Since you are sorting an array already, you need to check the repeating element from <code>i+1(i.e, j)</code>\nAnd Also Of you are having more than 1 repeating element you need to skip those elements using while loop as</p>\n\n<pre><code>                    while(j&lt;100 &amp;&amp; a[i] == a[j]) { // skip all repeating items\n                        j++;\n                    }\n                    i=j-1;\n</code></pre>\n\n<p>The code is as below</p>\n\n<pre><code>    for (int i = 0; i &lt; 100; i++) {\n        flag = false;\n        int j = i + 1;\n        if (j&lt;100 &amp;&amp; a[i] == a[j]) {\n            flag = true;\n            while (j &lt; 100 &amp;&amp; a[i] == a[j]) { // skip all repeating items\n                j++;\n            }\n            i = j - 1;// Because for loop is incrementing by again\n        }\n        if (flag == false) {\n            System.out.println(\"Doesn't repeat: \" + a[i]);\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 1, "last_activity_date": 1546458530, "creation_date": 1546458530, "answer_id": 54012296, "question_id": 54011557, "link": "https://stackoverflow.com/questions/54011557/finding-if-array-of-100-random-elements-contain-number-which-doesnt-repeat/54012296#54012296", "title": "Finding if array of 100 random elements contain number, which doesn&#39;t repeat?", "body": "<p>I made some changes to your code (removed <code>flag</code> and use <code>unique</code> as it is more readable).\n<br/> Also I added an inner loop that modifies <code>i</code>, to the last index that contains a non unique item:</p>\n\n<pre><code>boolean unique;\nSystem.out.println();\nfor (int i = 0; i &lt; 100; i++) {\n    unique = true;\n    for (int j = i + 1; j &lt; 100; j++) {\n        if (a[i] == a[j]) {\n            unique = false;\n            break;\n        }\n    }\n    if (unique) {\n        System.out.println(\"Doesn't repeat: \" + a[i]);\n    } else {\n        for (int k = i + 1; k &lt; 100; k++) {\n            if (a[k] != a[i]) {\n                i = k - 1;\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 10633634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541469729e90be525aac18815dfa6edb?s=128&d=identicon&r=PG&f=1", "display_name": "Mezja", "link": "https://stackoverflow.com/users/10633634/mezja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 54012296, "answer_count": 4, "score": 2, "last_activity_date": 1546458588, "creation_date": 1546454602, "last_edit_date": 1546457442, "question_id": 54011557, "link": "https://stackoverflow.com/questions/54011557/finding-if-array-of-100-random-elements-contain-number-which-doesnt-repeat", "title": "Finding if array of 100 random elements contain number, which doesn&#39;t repeat?", "body": "<p>Can someone please explain why <code>System.out.println(\"Doesn't repeat: \"+a[i]);</code> does not print anything?</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.Random;\n\n\n\n\npublic class Practice {\n\n\npublic static void main(String[] args) {\n    int []a=new int[100];\n\n    Random rand =new Random();\n        for(int i=0;i&lt;100;i++)\n           {\n        a[i]=rand.nextInt((100-1)+1)+1;\n\n           }\n    Arrays.sort(a);\n        for(int i=0;i&lt;100;i++)\n           {\n        System.out.print(a[i]+ \" \");\n\n           }\nboolean flag;\n    System.out.print(\" \");\n    System.out.print(\" \");\n    for(int i=0;i&lt;100;i++)\n    {\n        flag=false;\n        for(int j=0;j&lt;100;j++) \n        {\n            if(a[i]==a[j])\n            {\n            flag=true;\n            break;\n            }\n        }\n        if(flag==false)\n        {\n            System.out.println(\"Doesn't repeat: \"+a[i]);\n        }\n    }       \n}\n}\n</code></pre>\n\n<p>I am getting only the current array of 100 elements and the lines with elements which doesn't appear twice or more don't show up.</p>\n\n<p>Edit: </p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.Random;\n\n\n\n\npublic class Practice {\n\n\n    public static void main(String[] args) {\n        int []a=new int[100];\n\n        Random rand =new Random();\n        for(int i=0;i&lt;100;i++)\n        {\n            a[i]=rand.nextInt((100-1)+1)+1;\n\n        }\n        Arrays.sort(a);\n        for(int i=0;i&lt;100;i++)\n        {\n            System.out.print(a[i]+ \" \");\n\n        }\n    boolean flag;\n        System.out.print(\" \");\n        System.out.print(\" \");\n        for(int i=0;i&lt;100;i++)\n        {\n            flag=false;\n            for(int j=0;j&lt;100;j++) \n            {\n\n             if (i==j) {\n                    continue;\n                }\n             else if(a[i]==a[j])\n                {\n                flag=true;\n                break;\n                }\n\n            }\n            if(flag==false)\n            {\n                System.out.println(\"Doesn't repeat: \"+a[i]);\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<p>For now this is the best I can get, but the code excludes equal elements even if they are the unique ones.</p>\n"}, {"tags": ["java", "android", "android-permissions"], "comments": [{"owner": {"reputation": 1074, "user_id": 8065149, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4df1fa1ac3db8323a92a114f88955c8?s=128&d=identicon&r=PG&f=1", "display_name": "cjnash", "link": "https://stackoverflow.com/users/8065149/cjnash"}, "edited": false, "score": 0, "creation_date": 1546454591, "post_id": 54011400, "comment_id": 94859766, "body": "Have you added run-time permissions to this application?"}, {"owner": {"reputation": 91, "user_id": 10859210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59cbd948a9853d4e394f6fdc0f2e8ab8?s=128&d=identicon&r=PG&f=1", "display_name": "Destiny Faith", "link": "https://stackoverflow.com/users/10859210/destiny-faith"}, "reply_to_user": {"reputation": 1074, "user_id": 8065149, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4df1fa1ac3db8323a92a114f88955c8?s=128&d=identicon&r=PG&f=1", "display_name": "cjnash", "link": "https://stackoverflow.com/users/8065149/cjnash"}, "edited": false, "score": 0, "creation_date": 1546454876, "post_id": 54011400, "comment_id": 94859874, "body": "I did. I&#39;m even checking that I have permission to that directory and it claims I do. See troubleshooting #2."}, {"owner": {"reputation": 1074, "user_id": 8065149, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4df1fa1ac3db8323a92a114f88955c8?s=128&d=identicon&r=PG&f=1", "display_name": "cjnash", "link": "https://stackoverflow.com/users/8065149/cjnash"}, "edited": false, "score": 0, "creation_date": 1546455012, "post_id": 54011400, "comment_id": 94859937, "body": "Try to use this permission checker to check for run-time permissions: <a href=\"https://stackoverflow.com/a/34084609/8065149\">stackoverflow.com/a/34084609/8065149</a>"}, {"owner": {"reputation": 91, "user_id": 10859210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59cbd948a9853d4e394f6fdc0f2e8ab8?s=128&d=identicon&r=PG&f=1", "display_name": "Destiny Faith", "link": "https://stackoverflow.com/users/10859210/destiny-faith"}, "reply_to_user": {"reputation": 1074, "user_id": 8065149, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4df1fa1ac3db8323a92a114f88955c8?s=128&d=identicon&r=PG&f=1", "display_name": "cjnash", "link": "https://stackoverflow.com/users/8065149/cjnash"}, "edited": false, "score": 1, "creation_date": 1546455383, "post_id": 54011400, "comment_id": 94860081, "body": "<code>this.checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_&zwnj;&#8203;STORAGE) == PackageManager.PERMISSION_GRANTED</code> = true"}, {"owner": {"reputation": 1074, "user_id": 8065149, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4df1fa1ac3db8323a92a114f88955c8?s=128&d=identicon&r=PG&f=1", "display_name": "cjnash", "link": "https://stackoverflow.com/users/8065149/cjnash"}, "edited": false, "score": 0, "creation_date": 1546455481, "post_id": 54011400, "comment_id": 94860117, "body": "Hmm. I would do a little more digging to make sure that what you are trying to do is possible. Reading this answer makes it seem like what you are tying to accomplish is infeasible: <a href=\"https://stackoverflow.com/a/51385515/8065149\">stackoverflow.com/a/51385515/8065149</a>. However, i have only been looking around for a couple minutes and might be wrong."}, {"owner": {"reputation": 91, "user_id": 10859210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59cbd948a9853d4e394f6fdc0f2e8ab8?s=128&d=identicon&r=PG&f=1", "display_name": "Destiny Faith", "link": "https://stackoverflow.com/users/10859210/destiny-faith"}, "reply_to_user": {"reputation": 1074, "user_id": 8065149, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4df1fa1ac3db8323a92a114f88955c8?s=128&d=identicon&r=PG&f=1", "display_name": "cjnash", "link": "https://stackoverflow.com/users/8065149/cjnash"}, "edited": false, "score": 0, "creation_date": 1546455560, "post_id": 54011400, "comment_id": 94860145, "body": "I do have root, so I can try to use <code>WRITE_MEDIA_STORAGE</code>"}, {"owner": {"reputation": 91, "user_id": 10859210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59cbd948a9853d4e394f6fdc0f2e8ab8?s=128&d=identicon&r=PG&f=1", "display_name": "Destiny Faith", "link": "https://stackoverflow.com/users/10859210/destiny-faith"}, "reply_to_user": {"reputation": 1074, "user_id": 8065149, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4df1fa1ac3db8323a92a114f88955c8?s=128&d=identicon&r=PG&f=1", "display_name": "cjnash", "link": "https://stackoverflow.com/users/8065149/cjnash"}, "edited": false, "score": 0, "creation_date": 1546455819, "post_id": 54011400, "comment_id": 94860242, "body": "I tried running <code>pm grant package &quot;android.permission.WRITE_MEDIA_STORAGE&quot;</code> in shell but that didn&#39;t seem to fix it."}, {"owner": {"reputation": 91, "user_id": 10859210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59cbd948a9853d4e394f6fdc0f2e8ab8?s=128&d=identicon&r=PG&f=1", "display_name": "Destiny Faith", "link": "https://stackoverflow.com/users/10859210/destiny-faith"}, "reply_to_user": {"reputation": 1074, "user_id": 8065149, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4df1fa1ac3db8323a92a114f88955c8?s=128&d=identicon&r=PG&f=1", "display_name": "cjnash", "link": "https://stackoverflow.com/users/8065149/cjnash"}, "edited": false, "score": 0, "creation_date": 1546455946, "post_id": 54011400, "comment_id": 94860303, "body": "Update: It&#39;s throwing an exception <code>Operation not allowed: java.lang.SecurityException: Permission android.permission.WRITE_MEDIA_STORAGE is not a changeable permission type</code>"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1546467175, "post_id": 54011400, "comment_id": 94864782, "body": "&quot;I am requesting permissions, granted them, and I&#39;m even getting a response in troubleshooting #2 that I do have permission&quot; -- all of that is for <a href=\"https://commonsware.com/blog/2017/11/14/storage-situation-external-storage.html\" rel=\"nofollow noreferrer\">external storage</a>. Your USB stick is <a href=\"https://commonsware.com/blog/2017/11/15/storage-situation-removable-storage.html\" rel=\"nofollow noreferrer\">removable storage</a>. You do not have access to arbitrary locations on removable storage."}, {"owner": {"reputation": 91, "user_id": 10859210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59cbd948a9853d4e394f6fdc0f2e8ab8?s=128&d=identicon&r=PG&f=1", "display_name": "Destiny Faith", "link": "https://stackoverflow.com/users/10859210/destiny-faith"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1546523211, "post_id": 54011400, "comment_id": 94883222, "body": "How do I not have access to <i>arbitary locations on removable storage</i> if it works perfectly fine in kitkat and the SDK 25 device is on kitkat? @CommonsWare"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1546523331, "post_id": 54011400, "comment_id": 94883287, "body": "Your KitKat device perhaps was upgraded from some earlier version of Android. KitKat is API Level 19, not 25."}, {"owner": {"reputation": 91, "user_id": 10859210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59cbd948a9853d4e394f6fdc0f2e8ab8?s=128&d=identicon&r=PG&f=1", "display_name": "Destiny Faith", "link": "https://stackoverflow.com/users/10859210/destiny-faith"}, "edited": false, "score": 0, "creation_date": 1546523494, "post_id": 54011400, "comment_id": 94883389, "body": "I&#39;m talking about two different devices. One device is kitkat and it works perfectly fine, one is rooted 25 and it gives me a permissions error."}], "owner": {"reputation": 91, "user_id": 10859210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59cbd948a9853d4e394f6fdc0f2e8ab8?s=128&d=identicon&r=PG&f=1", "display_name": "Destiny Faith", "link": "https://stackoverflow.com/users/10859210/destiny-faith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "closed_date": 1546467153, "answer_count": 0, "score": 2, "last_activity_date": 1546528308, "creation_date": 1546453871, "last_edit_date": 1546528308, "question_id": 54011400, "link": "https://stackoverflow.com/questions/54011400/ioexception-permission-denied-but-i-have-permission", "closed_reason": "Duplicate", "title": "IOException: Permission Denied (But I have permission)", "body": "<p>I have an android device running SDK 25 (rooted). I'm inserting a USB stick into it and trying to create a file on that USB stick <code>/storage/2EC8CD9EC8CD64A5/test.txt</code> but it keeps throwing an IOException saying I don't have permission.</p>\n\n<p>I <strong>am</strong> requesting permissions, granted them, and I'm even getting a response in troubleshooting #2 that I do have permission.</p>\n\n<p>I've done the following troubleshooting: </p>\n\n<ol>\n<li><code>Environment.getExternalStorageState(directory)</code> = <code>mounted</code></li>\n<li><code>ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE)</code> = <code>0</code> </li>\n<li>My manifest has <code>&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;</code> and in the above I do have permission for it. </li>\n</ol>\n\n<p>EDIT: I have attempted to use <code>ContextCompat.getExternalFilesDirs(context, null)[1]</code>, however, those files do get remove from the removable device when the application is installed when these files need to stay on the device. </p>\n\n<p>This app isn't for consumers or normal phones, only devices my company manages.</p>\n\n<p>I've tried looking into <code>android.permission.WRITE_MEDIA_STORAGE</code> but can't find a way to grant that permission via shell. </p>\n"}, {"tags": ["java", "spring-boot", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 789, "user_id": 4684896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c52i1.jpg?s=128&g=1", "display_name": "hamid ghasemi", "link": "https://stackoverflow.com/users/4684896/hamid-ghasemi"}, "edited": false, "score": 0, "creation_date": 1546458015, "post_id": 54011619, "comment_id": 94861165, "body": "Thanks for response, but there are 2 problems with this solution. First of all, long running tasks will not terminate and they can allocate Ram and processor. Secondly, the long running tasks may manipulate data during the execution and therefore it changes the result of other tasks. Ao it is important to terminate other running tasks."}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 0, "creation_date": 1546458169, "post_id": 54011619, "comment_id": 94861235, "body": "I suggest testing as that article is incorrect if this Spring feature is actually wrapping <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">ScheduledExecutorService</a>. That doc says a late running task causes subsequent runs to wait, not allowing concurrent runs."}, {"owner": {"reputation": 789, "user_id": 4684896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c52i1.jpg?s=128&g=1", "display_name": "hamid ghasemi", "link": "https://stackoverflow.com/users/4684896/hamid-ghasemi"}, "reply_to_user": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 0, "creation_date": 1546498451, "post_id": 54011619, "comment_id": 94871574, "body": "@BasilBourque you&#39;re right and in this situation again I can not get the next run&#39;s results on time."}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "reply_to_user": {"reputation": 789, "user_id": 4684896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c52i1.jpg?s=128&g=1", "display_name": "hamid ghasemi", "link": "https://stackoverflow.com/users/4684896/hamid-ghasemi"}, "edited": false, "score": 1, "creation_date": 1546499968, "post_id": 54011619, "comment_id": 94872076, "body": "@hamidghasemi As I understand <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\"><code>ScheduledExecutorService</code></a> neither <code>scheduleAtFixedRate\u200b</code> nor <code>scheduleWithFixedDelay\u200b</code> supports runs of the task being concurrent. Both are designed to execute runs of the task only in succession, the next one starting only <i>after</i> the previous one completes. The only difference is in how long to wait after completion. I avoid Spring, so I am merely guessing/assuming that this Spring feature wraps a <code>ScheduledExecutorService</code>, but I do not know."}], "tags": [], "owner": {"reputation": 11, "user_id": 9071159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa5rF.jpg?s=128&g=1", "display_name": "bachkilan", "link": "https://stackoverflow.com/users/9071159/bachkilan"}, "is_accepted": false, "score": 1, "last_activity_date": 1546454906, "creation_date": 1546454906, "answer_id": 54011619, "question_id": 54011385, "link": "https://stackoverflow.com/questions/54011385/java-stop-scheduled-task-if-it-takes-more-than-a-specific-time/54011619#54011619", "title": "Java stop scheduled task if it takes more than a specific time", "body": "<p><strong>Try using Fixed Rate instead of Fixed Delay</strong></p>\n\n<p>Here is the article from \nParaschiv.E. The @Scheduled Annotation in Spring. Referred from <a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-scheduled-tasks</a></p>\n\n<hr>\n\n<ol start=\"4\">\n<li><p>Schedule a Task at a Fixed Rate</p>\n\n<p>@Scheduled(fixedRate = 1000)\npublic void scheduleFixedRateTask() {\n    System.out.println(\n      \"Fixed rate task - \" + System.currentTimeMillis() / 1000);\n}</p></li>\n</ol>\n\n<p>Note that the beginning of the <strong>task execution doesn\u2019t wait for the completion of the previous execution</strong>.</p>\n\n<p>This option should be used when each execution of the task is independent.</p>\n"}, {"tags": [], "owner": {"reputation": 858, "user_id": 1096193, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9ba1c3a75692db66c6b97667a53571a5?s=128&d=identicon&r=PG", "display_name": "aravindaM", "link": "https://stackoverflow.com/users/1096193/aravindam"}, "is_accepted": false, "score": 0, "last_activity_date": 1546497155, "creation_date": 1546497155, "answer_id": 54017372, "question_id": 54011385, "link": "https://stackoverflow.com/questions/54011385/java-stop-scheduled-task-if-it-takes-more-than-a-specific-time/54017372#54017372", "title": "Java stop scheduled task if it takes more than a specific time", "body": "<p>You can implement a custom Task scheduler using, <code>org.springframework.scheduling.TaskScheduler</code>  instead of Annotation based method. </p>\n\n<pre><code>private final TaskScheduler scheduler;\n\n@Autowired\npublic SchedulingManager(TaskScheduler scheduler) {\n    this.scheduler = scheduler;\n}\n</code></pre>\n\n<p>In this case,</p>\n\n<pre><code>ScheduledFuture scheduledeFuture =  scheduler.schedule(()-&gt;{\n  ....You job goes here..\n\n}, new CronTrigger(\"*/100 * * * * *\"));\n</code></pre>\n\n<p>You can keep track of the scheduled future to make sure it runs max time intended. </p>\n\n<pre><code>scheduledeFuture.get(100,TimeUnit.SECONDS)\n</code></pre>\n"}], "owner": {"reputation": 789, "user_id": 4684896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c52i1.jpg?s=128&g=1", "display_name": "hamid ghasemi", "link": "https://stackoverflow.com/users/4684896/hamid-ghasemi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1546497155, "creation_date": 1546453797, "question_id": 54011385, "link": "https://stackoverflow.com/questions/54011385/java-stop-scheduled-task-if-it-takes-more-than-a-specific-time", "title": "Java stop scheduled task if it takes more than a specific time", "body": "<p>I have a scheduled job which runs every 100 seconds. Sometimes the execution of this method takes a lot of time (which is ok and there is no problem with that). In this situation, the result of the running method is not important to me and I want to re-schedule the job for next 100 second.</p>\n\n<p>What is the best way to force the running job to terminate (<code>return</code>) after a specific time?</p>\n\n<p>My scheduled code is like below:</p>\n\n<pre><code>@Scheduled(fixedDelay = 100*1000)\nfun calculateLastDaysStatistics() {\n    logger.info(\"affiliate statistics thread Started Successfully\")\n    val processStartDate = Date()\n\n    for (i in 1..prevDaysToConsider) {\n        logger.info(\"AdZone-Stats prev days $i\")\n\n        val yesterday = DateUtility.addDay(Date(), -i)\n\n        val startDate = DateUtility.getZeroDayTime(yesterday.time)\n        val endDate = DateUtility.addDay(startDate, 1)\n\n        /* This method is probable to take a lot of time */\n        calculateStatistics(startDate, endDate)\n    }\n\n    val processLength = (Date().time - processStartDate.time) / 1000\n    logger.info(\"affiliate statistics thread finished in \" + processLength + \"s\")\n}\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["java", "pdfbox"], "comments": [{"owner": {"reputation": 1253, "user_id": 8700934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9pBl6.jpg?s=128&g=1", "display_name": "Lakshan", "link": "https://stackoverflow.com/users/8700934/lakshan"}, "edited": false, "score": 0, "creation_date": 1546455467, "post_id": 54011355, "comment_id": 94860112, "body": "Declares the ArrayList for My Skills"}, {"owner": {"reputation": 14825, "user_id": 535646, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/yGyps.jpg?s=128&g=1", "display_name": "Tilman Hausherr", "link": "https://stackoverflow.com/users/535646/tilman-hausherr"}, "edited": false, "score": 0, "creation_date": 1546497540, "post_id": 54011355, "comment_id": 94871316, "body": "Is your question about displaying or about data structures?"}], "owner": {"reputation": 29, "user_id": 10833810, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IFXfhVgJlbs/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbvOWBrphGYFGeWea-4K--ZnA2IOg/mo/photo.jpg?sz=128", "display_name": "Hardik Saraf", "link": "https://stackoverflow.com/users/10833810/hardik-saraf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546453667, "creation_date": 1546453667, "question_id": 54011355, "link": "https://stackoverflow.com/questions/54011355/creating-nested-list-using-pdfbox-in-java", "title": "Creating Nested List using PDFBox in Java", "body": "<p>I am working on PDFBox API. I am creating a PDF which contains many things like Graph, Table, Header, Footer, Text in form of List. There may be any 4 graphs one table, orientation can be any. All are specified in an imaginary rectangle so that all this fits on PDF page perfectly.</p>\n\n<p>So as mentioned Now I have a problem how to create List of Text (which is in Form of List). This</p>\n\n<ol>\n<li>I am a good Web Developer.</li>\n<li>I am doing B.Tech. from private college and\ncurrently doing an internship.</li>\n<li><p>My skills</p>\n\n<p>a. Java </p>\n\n<p>b. Python </p></li>\n</ol>\n\n<p>It should be displayed in this form only.</p>\n\n<p>I think all data should be stored in ArrayList it's simple but as we see point 3 it is nested list. How to store this kind of data.</p>\n\n<p>Guide Me</p>\n"}, {"tags": ["java", "grafana", "metrics", "prometheus", "micrometer"], "answers": [{"comments": [{"owner": {"reputation": 1558, "user_id": 2346131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/igvgA.jpg?s=128&g=1", "display_name": "Lavish Kothari", "link": "https://stackoverflow.com/users/2346131/lavish-kothari"}, "edited": false, "score": 0, "creation_date": 1546501915, "post_id": 54013151, "comment_id": 94872773, "body": "This works perfectly, thanks. Can you please also tell me where, in prometheus, we can configure this <code>localhost:9090</code> so that if I want to give a different <code>host:port</code> as data-source to grafana I can do that. I&#39;m following <a href=\"https://prometheus.io/docs/introduction/first_steps/\" rel=\"nofollow noreferrer\">this</a> tutorial and starting my prometheus server using <code>.&#47;prometheus --config.file=prometheus.yml</code>. It will be great if you can point me to the list of all the standard options. Thanks!"}], "tags": [], "owner": {"reputation": 24634, "user_id": 83591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuiTl.jpg?s=128&g=1", "display_name": "brian-brazil", "link": "https://stackoverflow.com/users/83591/brian-brazil"}, "is_accepted": true, "score": 2, "last_activity_date": 1546463016, "creation_date": 1546463016, "answer_id": 54013151, "question_id": 54011331, "link": "https://stackoverflow.com/questions/54011331/t-data-data-is-undefined-in-grafana/54013151#54013151", "title": "&quot;t.data.data is undefined&quot; in grafana", "body": "<p>8080 is your application server. You need to run a Prometheus server that scrapes this application, then you can use localhost:9090 as a datasource.</p>\n"}], "owner": {"reputation": 1558, "user_id": 2346131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/igvgA.jpg?s=128&g=1", "display_name": "Lavish Kothari", "link": "https://stackoverflow.com/users/2346131/lavish-kothari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2090, "favorite_count": 0, "accepted_answer_id": 54013151, "answer_count": 1, "score": 0, "last_activity_date": 1584960041, "creation_date": 1546453582, "question_id": 54011331, "link": "https://stackoverflow.com/questions/54011331/t-data-data-is-undefined-in-grafana", "title": "&quot;t.data.data is undefined&quot; in grafana", "body": "<p>I'm new to micrometer, prometheus and grafana. I'm trying to run my first example with these three things working together. But I'm having a hard time figuring out what I'm doing wrong.</p>\n\n<p>I'm using micrometer's API to create a <code>PrometheusMeterRegistry</code> like this:</p>\n\n<pre><code>new PrometheusMeterRegistry(new PrometheusConfig() {\n        @Override\n        public Duration step() {\n            return Duration.ofSeconds(10);\n        }\n\n        @Override\n        @Nullable\n        public String get(String k) {\n            return null;\n        }\n    });\n</code></pre>\n\n<p>And I'm creating a <code>HttpServer</code> as described here using the following code:</p>\n\n<pre><code>try {\n            HttpServer server = HttpServer.create(new InetSocketAddress(8080), 0);\n            server.createContext(\"/prometheus\", httpExchange -&gt; {\n                String response = prometheusMeterRegistry.scrape();\n                httpExchange.sendResponseHeaders(200, response.getBytes().length);\n                try (OutputStream os = httpExchange.getResponseBody()) {\n                    os.write(response.getBytes());\n                }\n            });\n\n            new Thread(server::start).start();\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n\n<p>I configured Prometheus as my data-source in grafana and set the URL to <code>http://localhost:8080/prometheus</code>. But when I try creating a new dashboard and add a graph to it, I get a red exclamation mark saying <code>t.data.data is undefined</code>. And because of this I'm not able to view the graphs. The complete stack-trace is as follows:</p>\n\n<pre><code>kr&lt;/t.prototype.transform@http://localhost:3000/public/build/app.dfabdd44b3be44288eac.js:22:723420\njr&lt;/t.prototype.query/&lt;/&lt;@http://localhost:3000/public/build/app.dfabdd44b3be44288eac.js:22:736135\nqt@http://localhost:3000/public/build/vendor.dfabdd44b3be44288eac.js:9:5239\nWa@http://localhost:3000/public/build/vendor.dfabdd44b3be44288eac.js:9:40274\njr&lt;/t.prototype.query/&lt;@http://localhost:3000/public/build/app.dfabdd44b3be44288eac.js:22:735858\nc/&lt;/&lt;@http://localhost:3000/public/build/vendor.dfabdd44b3be44288eac.js:130:92198\nc/&lt;@http://localhost:3000/public/build/vendor.dfabdd44b3be44288eac.js:130:92043\n$digest@http://localhost:3000/public/build/vendor.dfabdd44b3be44288eac.js:130:97575\n$apply@http://localhost:3000/public/build/vendor.dfabdd44b3be44288eac.js:130:99590\n$applyAsync/r&lt;@http://localhost:3000/public/build/vendor.dfabdd44b3be44288eac.js:130:99735\nh@http://localhost:3000/public/build/vendor.dfabdd44b3be44288eac.js:130:33036\nln/this.$get&lt;/&lt;/i.defer/n&lt;@http://localhost:3000/public/build/vendor.dfabdd44b3be44288eac.js:130:34396\n</code></pre>\n\n<p>The following is the screenshot of the error in grafana that I'm gettng:\n<a href=\"https://i.stack.imgur.com/ZL5jl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZL5jl.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any suggestions what I might be missing?</p>\n\n<p>Note: I can see timer getting published on native prometheus using URL <code>localhost:8080/prometheus</code>.</p>\n"}, {"tags": ["java", "oauth-2.0", "jersey", "basic-authentication", "resty-gwt"], "comments": [{"owner": {"reputation": 1918, "user_id": 500312, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d5001dcbd6c54595ade7860bd2d55750?s=128&d=identicon&r=PG", "display_name": "HairOfTheDog", "link": "https://stackoverflow.com/users/500312/hairofthedog"}, "edited": false, "score": 2, "creation_date": 1546459087, "post_id": 54011296, "comment_id": 94861620, "body": "You haven&#39;t actually asked a question. Please update your post with a clear question, state exactly what issue you are facing and what you have already tried to resolve the issue."}, {"owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "edited": false, "score": 0, "creation_date": 1546583078, "post_id": 54011296, "comment_id": 94903749, "body": "<i>&quot;I want to send this url&quot;</i> - No you don&#39;t. You do not want passwords or any other confidential information in the URL. You should post that information in the request body."}], "owner": {"reputation": 1, "user_id": 8814108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27d4368e51bf25d211f507f6e4bc0730?s=128&d=identicon&r=PG&f=1", "display_name": "Salma Soliman", "link": "https://stackoverflow.com/users/8814108/salma-soliman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546480447, "creation_date": 1546453365, "last_edit_date": 1546480447, "question_id": 54011296, "link": "https://stackoverflow.com/questions/54011296/posting-users-credentials-in-jersey-restygwt", "title": "Posting users credentials in jersey &amp; restygwt", "body": "<p>I want to make a post request with user credentials.</p>\n\n<p>My server side is ready and I have tested it using postman. Something just like this: <strong><em>http:/localhost/8080/appname/oauth/token/grant_type=password&amp;username=bill&amp;password=secret.</em></strong></p>\n\n<p>I want to send this url by clicking on a certain button in my restygwt client, how to send this request to my server side from my restygwt client's button?</p>\n"}, {"tags": ["java", "android", "android-studio"], "comments": [{"owner": {"reputation": 1073, "user_id": 7029593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f3BES.jpg?s=128&g=1", "display_name": "Joey Dalu", "link": "https://stackoverflow.com/users/7029593/joey-dalu"}, "edited": false, "score": 0, "creation_date": 1546453763, "post_id": 54011289, "comment_id": 94859461, "body": "Your linear layout should have an <code>addView(...)</code> method so you can instantiate a few textviews and add them to it from <code>onPostExecute()</code>. This however seems like something you should be using a <a href=\"https://developer.android.com/guide/topics/ui/layout/recyclerview\" rel=\"nofollow noreferrer\">RecyclerView</a> for."}], "answers": [{"tags": [], "owner": {"reputation": 669, "user_id": 10388146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LvmNO.jpg?s=128&g=1", "display_name": "kamyar haqqani", "link": "https://stackoverflow.com/users/10388146/kamyar-haqqani"}, "is_accepted": false, "score": 0, "last_activity_date": 1546513533, "last_edit_date": 1546513533, "creation_date": 1546513044, "answer_id": 54020959, "question_id": 54011289, "link": "https://stackoverflow.com/questions/54011289/how-to-use-mylayout-addviewview-v-inside-onpostexecute-method-in-asynctask/54020959#54020959", "title": "How to use &#39;myLayout.addView(View v)&#39; inside onPostExecute method in AsyncTask", "body": "<p>Find the view then add your child views to it:</p>\n\n<pre><code>    LinearLayout layout_named_feedFetch=(LinearLayout)findViewById(R.id.feedFetch);\n    //or call the_parent_view_of_feedFetch.findViewById() if it's the child another view; \n    for(int x=0; x &lt; result.length(); x++) {\n        JSONObject collegeData = result.getJSONObject(x);\n        inf1 = collegeData.getString(\"title\");\n        inf2 = collegeData.getString(\"text\");\n        //create the new views\n        TextView tv=new TextView(getApplicationContext());\n        //add them to where you want\n        layout_named_feedFetch.addView(tv);\n        //assign values to them\n        tv.setText(inf1+\" \"+inf2);\n    }\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 10859140, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_G0nLz2opiQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gW77WOWjIVQKWmPIcNsOjQ3Yll2w/mo/photo.jpg?sz=128", "display_name": "Wolf M.", "link": "https://stackoverflow.com/users/10859140/wolf-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546513533, "creation_date": 1546453335, "question_id": 54011289, "link": "https://stackoverflow.com/questions/54011289/how-to-use-mylayout-addviewview-v-inside-onpostexecute-method-in-asynctask", "title": "How to use &#39;myLayout.addView(View v)&#39; inside onPostExecute method in AsyncTask", "body": "<p>What should I do to add new TextViews (with text \"inf1\" and \"inf2\" from the code) into an existing linear layout from onPostExecute method in AsyncTask? </p>\n\n<pre><code>    protected void onPostExecute(String response) {\n        String inf1=\"\";\n        String inf2=\"\";\n    try {\n\n        JSONObject jsonObject =new JSONObject(response);\n        JSONArray result = jsonObject.getJSONArray(\"result\");\n\n\n        for(int x=0; x &lt; result.length(); x++) {\n            JSONObject collegeData = result.getJSONObject(x);\n            inf1 = collegeData.getString(\"title\");\n            inf2 = collegeData.getString(\"text\");\n\n            // Here I want to put these \"inf1\" and \"inf2 strings into\n            // textviews and add these textviews into an existing linear layout\n            // with id: feedFetch\"               \n\n        }\n\n\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n\n\n}\n</code></pre>\n"}, {"tags": ["java", "keystore", "jarsigner", "jar-signing"], "answers": [{"tags": [], "owner": {"reputation": 227, "user_id": 11470229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9992e4f18b254fbd70ea2277398e1fce?s=128&d=identicon&r=PG&f=1", "display_name": "D.O.", "link": "https://stackoverflow.com/users/11470229/d-o"}, "is_accepted": false, "score": 0, "last_activity_date": 1568714198, "creation_date": 1568714198, "answer_id": 57971791, "question_id": 54011270, "link": "https://stackoverflow.com/questions/54011270/allow-a-jar-to-run-only-if-it-is-signed/57971791#57971791", "title": "Allow a jar to run only if it is signed", "body": "<p>To the best of my knowledge this is not possible using the security policy. Prohibiting the execution of JARs doesn't make sense in the current security concept of Java. </p>\n\n<p>You may however extend the security manager class of Java to achieve your desired functionality. Note though, that this is probably not a simple task.</p>\n"}], "owner": {"reputation": 33, "user_id": 10859113, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Gse6LUT87hg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYqOowVhD3-_jPrtTejdrVSSPXpmA/mo/photo.jpg?sz=128", "display_name": "jvs", "link": "https://stackoverflow.com/users/10859113/jvs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1568714198, "creation_date": 1546453238, "question_id": 54011270, "link": "https://stackoverflow.com/questions/54011270/allow-a-jar-to-run-only-if-it-is-signed", "title": "Allow a jar to run only if it is signed", "body": "<p>I want to configure the jdk so that if I were to do <code>java -jar myjar.jar</code> then <code>myjar</code> would only execute if it has been signed (by a particular signer). I found <a href=\"https://stackoverflow.com/questions/14304771/restrict-java-to-only-execute-signed-jars\">this</a> answer but I'm not sure editing policy files is the solution. From my understanding by reading <a href=\"https://docs.oracle.com/javase/6/docs/technotes/guides/security/PolicyFiles.html#FileSyntax\" rel=\"nofollow noreferrer\">here</a>, it seems that you can only grant/restrict permissions for apps to read/write certain targets, not grant/restrict permission for the app itself to run. For example,  using an example from the policy files docs, I can add</p>\n\n<pre><code>  grant signedBy \"Duke\" {\n      permission java.io.FilePermission \"/tmp/*\", \"read,write\";\n  };\n</code></pre>\n\n<p>to allow jars signed by \"Duke\" to read/write files in <code>/tmp/</code> but I can't add a restriction so that <em>only</em> jars signed by \"Duke\" may run in the first place.</p>\n\n<p>I'm aware of the ability to use <code>jarsigner -verify</code> to verify the jars but I'm hoping for a solution that configures the Java runtime itself. Is there a way to achieve this using policy files or some other way?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["java", "bytecode"], "answers": [{"comments": [{"owner": {"reputation": 23625, "user_id": 2868801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec5567811049b7ce8192be0bc0246d1?s=128&d=identicon&r=PG&f=1", "display_name": "dave_thompson_085", "link": "https://stackoverflow.com/users/2868801/dave-thompson-085"}, "edited": false, "score": 0, "creation_date": 1562099904, "post_id": 54012170, "comment_id": 100269446, "body": "Or run <code>javap -p -c</code> (optionally add <code>-l -v</code> to taste) on the compiled class (either in a file or in a jar) for a convenient decode. But you&#39;ll still need to <i>understand</i> the JVM spec, which BTW has been updated, see <a href=\"https://docs.oracle.com/javase/specs/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/index.html</a> ."}], "tags": [], "owner": {"reputation": 5636, "user_id": 8207228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bea1f01a8f41b0714de4eddc3c93ce8?s=128&d=identicon&r=PG", "display_name": "Ralf Kleberhoff", "link": "https://stackoverflow.com/users/8207228/ralf-kleberhoff"}, "is_accepted": true, "score": 2, "last_activity_date": 1546457698, "creation_date": 1546457698, "answer_id": 54012170, "question_id": 54011253, "link": "https://stackoverflow.com/questions/54011253/how-can-i-view-how-my-java-code-once-converted-into-binary/54012170#54012170", "title": "How can I view how my Java code once converted into binary?", "body": "<p>When you compile your HelloWorld.java, you'll get a HelloWorld.class file, and that's the binary. If you use e.g. the Eclipse IDE, you'll typically find these files in a \"bin\" folder.</p>\n\n<p>Take the hex/binary viewer of your choice, and look into that file. You'll probably find <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/index.html\" rel=\"nofollow noreferrer\">The Java Virtual Machine Specification</a> useful when analysing the file contents.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9792383"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 54012170, "answer_count": 1, "score": 1, "last_activity_date": 1562090494, "creation_date": 1546453161, "last_edit_date": 1562090494, "question_id": 54011253, "link": "https://stackoverflow.com/questions/54011253/how-can-i-view-how-my-java-code-once-converted-into-binary", "title": "How can I view how my Java code once converted into binary?", "body": "<p>I want to get a view of my code once it is converted into binary after I hit Run</p>\n\n<pre><code>public class HelloWorld {\n\n public static void main(String []args){\n    System.out.println(\"Hello World\");\n }\n}\n</code></pre>\n\n<p>Is there any IDE Available?</p>\n"}, {"tags": ["java", "web-crawler", "stormcrawler"], "comments": [{"owner": {"reputation": 4789, "user_id": 432844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C1wxe.jpg?s=128&g=1", "display_name": "Julien Nioche", "link": "https://stackoverflow.com/users/432844/julien-nioche"}, "edited": false, "score": 1, "creation_date": 1546502784, "post_id": 54011186, "comment_id": 94873070, "body": "There is no fetching during the injection so switching to OKHttp is not going to have any effect.  This is more likely to be an issue with the connection to Elasticsearch."}], "answers": [{"tags": [], "owner": {"reputation": 4744, "user_id": 4506678, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/l8cPI.jpg?s=128&g=1", "display_name": "rzo1", "link": "https://stackoverflow.com/users/4506678/rzo1"}, "is_accepted": true, "score": 1, "last_activity_date": 1547659474, "last_edit_date": 1547659474, "creation_date": 1547645898, "answer_id": 54218298, "question_id": 54011186, "link": "https://stackoverflow.com/questions/54011186/turn-off-ssl-certificate-verification/54218298#54218298", "title": "Turn off SSL Certificate verification", "body": "<p>As @julien-nioche indicated in his comment: StormCrawler does <em>not</em> fetch in the process of URL injection.</p>\n\n<p>The <code>SSLHandshakeException</code> most likely originates from your ElasticSearch instance. Is your ElasticSearch really running on <code>HTTPS</code> as indicated by <code>https://localhost:9200</code>? </p>\n\n<p>The stacktrace indicates that the certificate path could not be validated.</p>\n\n<pre><code>Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n\n<p>To resolve this issue, you could add the certificate to your local key-store. For details on this subject, you can take a look at this <a href=\"https://stackoverflow.com/questions/11617210/how-to-properly-import-a-selfsigned-certificate-into-java-keystore-that-is-avail\">answer</a>. Another possibility would be to disable <code>HTTPS</code> on the ElasticSearch instance for your local development setup.</p>\n"}], "owner": {"reputation": 101, "user_id": 10235061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PFu10.png?s=128&g=1", "display_name": "an__snatcher", "link": "https://stackoverflow.com/users/10235061/an-snatcher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 620, "favorite_count": 0, "accepted_answer_id": 54218298, "answer_count": 1, "score": 0, "last_activity_date": 1547659474, "creation_date": 1546452739, "last_edit_date": 1547646086, "question_id": 54011186, "link": "https://stackoverflow.com/questions/54011186/turn-off-ssl-certificate-verification", "title": "Turn off SSL Certificate verification", "body": "<p>Working on Storm Crawler 1.12.1 and Elastic search 6.5.x. My Crawler is running on <code>http://localhost:8080</code> and  Elastic search running on <code>https://localhost:9200</code>.I am trying to crawl a website.During URL injection process  I am facing <code>javax.net.ssl.SSLHandshakeException: General SSLEngine problem</code> error and check <a href=\"https://github.com/an-snatcher/SSLError_StormCrawler\" rel=\"nofollow noreferrer\">the detailed error here</a>. </p>\n\n<p>I tried for OKHttp and added <code>https.protocol.implementation: \"com.digitalpebble.stormcrawler.protocol.okhttp.HttpProtocol\"</code> in crawler-conf.yaml.</p>\n\n<p>How can I turn off the certificate verification temporarily.</p>\n"}, {"tags": ["java", "double", "precision", "bigdecimal"], "comments": [{"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 2, "creation_date": 1546452867, "post_id": 54011168, "comment_id": 94859102, "body": "&quot;2. Parse into a java primitive double&quot; By the time you&#39;ve done this, you&#39;ve lost the precision. Parse it straight away to a <code>BigDecimal</code>."}, {"owner": {"reputation": 5502, "user_id": 2958086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5iJz9.png?s=128&g=1", "display_name": "Compass", "link": "https://stackoverflow.com/users/2958086/compass"}, "edited": false, "score": 1, "creation_date": 1546453077, "post_id": 54011168, "comment_id": 94859186, "body": "If you need guaranteed precision, <code>double</code> should not be used in any part of your processing."}, {"owner": {"reputation": 31984, "user_id": 4125191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAHVV.jpg?s=128&g=1", "display_name": "RealSkeptic", "link": "https://stackoverflow.com/users/4125191/realskeptic"}, "edited": false, "score": 2, "creation_date": 1546453311, "post_id": 54011168, "comment_id": 94859291, "body": "You lose precision the moment you parse your data into a <code>double</code>. There is no way for a <code>double</code> to contain the value <code>0.2</code> precisely. It&#39;s simply not representable in binary format. But it is printed &quot;correctly&quot; because string conversion takes this into account and rounds it. This is why direct conversion of the <code>double</code> is unpredictable."}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1546463682, "post_id": 54011168, "comment_id": 94863438, "body": "What they said: the moment you touch <code>double</code>, it&#39;s broken.  BigDecimals only, and really only then if you convert directly from Strings: <code>BigDecimal.valueOf(&quot;0.3&quot;)</code>, not <code>BigDecimal.valueOf(0.3)</code>."}, {"owner": {"reputation": 51, "user_id": 2471106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/835a6854d17891d051242e87e3e34a04?s=128&d=identicon&r=PG", "display_name": "bubblefoil", "link": "https://stackoverflow.com/users/2471106/bubblefoil"}, "edited": false, "score": 0, "creation_date": 1546472257, "post_id": 54011168, "comment_id": 94866294, "body": "Yes, a floating point format does not internally represent a decimal value precisely. Anyway double is precise enough to hold a 15digit number so that when e.g. 10-digit value, parsed from a String to double, is printed to String again with the special rounding algorithm in Double.toString, I should yield the same value from which I parsed the double in the first place, right? Then this String is used to construct the BigDecimal which in turn is used for the math. I am missing some other pitfall?"}], "answers": [{"comments": [{"owner": {"reputation": 31984, "user_id": 4125191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAHVV.jpg?s=128&g=1", "display_name": "RealSkeptic", "link": "https://stackoverflow.com/users/4125191/realskeptic"}, "edited": false, "score": 0, "creation_date": 1546453728, "post_id": 54011308, "comment_id": 94859448, "body": "You are ignoring the fact that the number was parsed into <code>double</code> in the first place, thus lost precision already. The type to use in the database is less important - all databases have a way of representing exact decimal numbers."}, {"owner": {"reputation": 496316, "user_id": 57695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/53ee9941b3fefef67175daf212e62d41?s=128&d=identicon&r=PG", "display_name": "Peter Lawrey", "link": "https://stackoverflow.com/users/57695/peter-lawrey"}, "reply_to_user": {"reputation": 31984, "user_id": 4125191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAHVV.jpg?s=128&g=1", "display_name": "RealSkeptic", "link": "https://stackoverflow.com/users/4125191/realskeptic"}, "edited": false, "score": 0, "creation_date": 1546464251, "post_id": 54011308, "comment_id": 94863675, "body": "@RealSkeptic when converted to a String you can reliably get the decimal you started with depending on how many digits you need."}], "tags": [], "owner": {"reputation": 17, "user_id": 5770452, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/44943426735b10342cd812a817bce9b5?s=128&d=identicon&r=PG&f=1", "display_name": "Ashok", "link": "https://stackoverflow.com/users/5770452/ashok"}, "is_accepted": false, "score": 0, "last_activity_date": 1546453453, "creation_date": 1546453453, "answer_id": 54011308, "question_id": 54011168, "link": "https://stackoverflow.com/questions/54011168/is-it-sufficient-to-convert-a-double-to-a-bigdecimal-just-before-addition-to-ret/54011308#54011308", "title": "Is it sufficient to convert a double to a BigDecimal just before addition to retain original precision?", "body": "<p>It depends on the Database you are using. If you are using SQL Server you can use data type as numeric(12, 8) where 12 represent numeric value and 8 represents precision. similarly, for my SQL DECIMAL(5,2) you can use. </p>\n\n<p>You won't lose any precision value if you use the above-mentioned datatype. </p>\n\n<p>Java Hibernate Class : </p>\n\n<p>You can define \nprivate double latitude;  </p>\n\n<p>Database: </p>\n\n<p><a href=\"https://i.stack.imgur.com/UnUbm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UnUbm.png\" alt=\"Database Design \"></a></p>\n"}, {"comments": [{"owner": {"reputation": 27437, "user_id": 95954, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/iD0qO.png?s=128&g=1", "display_name": "Rudy Velthuis", "link": "https://stackoverflow.com/users/95954/rudy-velthuis"}, "edited": false, "score": 0, "creation_date": 1546467873, "post_id": 54013022, "comment_id": 94865025, "body": "Very well explained. I&#39;d +2 if I could. &lt;g&gt;"}, {"owner": {"reputation": 5636, "user_id": 8207228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bea1f01a8f41b0714de4eddc3c93ce8?s=128&d=identicon&r=PG", "display_name": "Ralf Kleberhoff", "link": "https://stackoverflow.com/users/8207228/ralf-kleberhoff"}, "reply_to_user": {"reputation": 27437, "user_id": 95954, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/iD0qO.png?s=128&g=1", "display_name": "Rudy Velthuis", "link": "https://stackoverflow.com/users/95954/rudy-velthuis"}, "edited": false, "score": 0, "creation_date": 1546467942, "post_id": 54013022, "comment_id": 94865048, "body": "Thanks, very kind of you :-)"}, {"owner": {"reputation": 51, "user_id": 2471106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/835a6854d17891d051242e87e3e34a04?s=128&d=identicon&r=PG", "display_name": "bubblefoil", "link": "https://stackoverflow.com/users/2471106/bubblefoil"}, "edited": false, "score": 0, "creation_date": 1546473840, "post_id": 54013022, "comment_id": 94866612, "body": "Thanks for your elaboration! Why is it necessary to shift the decimal point before the conversion? According to javadoc and a test with a couple of arbitrary numbers, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#valueOf(double)\" rel=\"nofollow noreferrer\">BigDecimal.valueOf</a>, should provide the correct value, though I cannot really test all the numbers :-) BTW I assume you suggest using the factory method and the <code>new</code> keyword is there by a mistake."}], "tags": [], "owner": {"reputation": 5636, "user_id": 8207228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bea1f01a8f41b0714de4eddc3c93ce8?s=128&d=identicon&r=PG", "display_name": "Ralf Kleberhoff", "link": "https://stackoverflow.com/users/8207228/ralf-kleberhoff"}, "is_accepted": true, "score": 2, "last_activity_date": 1546519091, "last_edit_date": 1546519091, "creation_date": 1546462305, "answer_id": 54013022, "question_id": 54011168, "link": "https://stackoverflow.com/questions/54011168/is-it-sufficient-to-convert-a-double-to-a-bigdecimal-just-before-addition-to-ret/54013022#54013022", "title": "Is it sufficient to convert a double to a BigDecimal just before addition to retain original precision?", "body": "<p>If you can't avoid parsing into primitive <code>double</code> or store as double, you should convert to <code>BigDecimal</code> as early as possible.</p>\n\n<p><code>double</code> can't exactly represent decimal fractions. The value in <code>double x = 7.3;</code> will never be exactly 7.3, but something very very close to it, with a difference visible from the 16th digit or so on to the right (giving 50 decimal places or so). Don't be mislead by the fact that printing might give exactly \"7.3\", as printing already does some kind of rounding and doesn't show the number exactly.</p>\n\n<p>If you do lots of computations with <code>double</code> numbers, the tiny differences will eventually sum up until they exceed your tolerance. So using doubles in computations where decimal fractions are needed, is indeed a ticking bomb.</p>\n\n<blockquote>\n  <p>[...] we expect values no longer than 10 digits total, 5 fraction digits.</p>\n</blockquote>\n\n<p>I read that assertion to mean that all numbers you deal with, are to be exact multiples of <code>0.00001</code>, without any further digits. You can convert doubles to such BigDecimals with </p>\n\n<pre><code>new BigDecimal.valueOf(Math.round(doubleVal * 100000), 5)\n</code></pre>\n\n<p>This will give you an exact representation of a number with 5 decimal fraction digits, the 5-fraction-digits one that's closest to the input <code>doubleVal</code>. This way you correct for the tiny differences between the <code>doubleVal</code> and the decimal number that you originally meant.</p>\n\n<p>If you'd simply use <code>BigDecimal.valueOf(double val)</code>, you'd go through the string representation of the double you're using, which can't guarantee that it's what you want. It depends on a rounding process inside the Double class which tries to represent the double-approximation of 7.3 (being maybe 7.30000000000000123456789123456789125) with the most plausible number of decimal digits. It happens to result in \"7.3\" (and, kudos to the developers, quite often matches the \"expected\" string) and not \"7.300000000000001\" or \"7.3000000000000012\" which both seem equally plausible to me.</p>\n\n<p>That's why I recommend not to rely on that rounding, but to do the rounding yourself by decimal shifting 5 places, then rounding to the nearest long, and constructing a BigDecimal scaled back by 5 decimal places. This guarantees that you get an exact value with (at most) 5 fractional decimal places.</p>\n\n<p>Then do your computations with the BigDecimals (using the appropriate MathContext for rounding, if necessary).</p>\n\n<p>When you finally have to store the number as a double, use <code>BigDecimal.doubleValue()</code>. The resulting double will be close enough to the decimal that the above-mentioned conversion will surely give you the same BigDecimal that you had before (unless you have really huge numbers like 10 digits before the decimal point - the you're lost with <code>double</code> anyway).</p>\n\n<p>P.S. Be sure to use <code>BigDecimal</code> only if <strong>decimal</strong> fractions are relevant to you - there were times when the British Shilling currency consisted of twelve Pence. Representing fractional Pounds as <code>BigDecimal</code> would give a disaster much worse than using doubles.</p>\n"}], "owner": {"reputation": 51, "user_id": 2471106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/835a6854d17891d051242e87e3e34a04?s=128&d=identicon&r=PG", "display_name": "bubblefoil", "link": "https://stackoverflow.com/users/2471106/bubblefoil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 0, "accepted_answer_id": 54013022, "answer_count": 2, "score": 0, "last_activity_date": 1546519091, "creation_date": 1546452673, "last_edit_date": 1546471236, "question_id": 54011168, "link": "https://stackoverflow.com/questions/54011168/is-it-sufficient-to-convert-a-double-to-a-bigdecimal-just-before-addition-to-ret", "title": "Is it sufficient to convert a double to a BigDecimal just before addition to retain original precision?", "body": "<p>We are solving a numeric precision related bug. Our system collects some numbers and spits their sum.\nThe issue is that the <strong>system does not retain the numeric precision,</strong> e.g. 300.7 + 400.9 = 701.599..., while expected result would be 701.6. The precision is supposed to adapt to the input values so <strong>we cannot just round results to fixed precision.</strong></p>\n\n<p>The problem is obvious, we use double for the values and addition accumulates the error from the binary representation of the decimal value.</p>\n\n<p>The path of the data is following:</p>\n\n<ol>\n<li>XML file, type xsd:decimal</li>\n<li>Parse into a java primitive double. Its 15 decimal places should be enough, we expect values no longer than 10 digits total, 5 fraction digits.</li>\n<li>Store into <a href=\"https://dev.mysql.com/doc/refman/5.5/en/floating-point-types.html\" rel=\"nofollow noreferrer\">DB MySql 5.5, type double</a></li>\n<li>Load via Hibernate into a JPA entity, i.e. still primitive double</li>\n<li>Sum bunch of these values</li>\n<li>Print the sum into another XML file</li>\n</ol>\n\n<p>Now, I assume the optimal solution would be converting everything to a decimal format. Unsurprisingly, there is a pressure to go with the cheapest solution. It turns out that converting doubles to <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a> just before adding a couple of numbers works in case B in following example:</p>\n\n<pre><code>import java.math.BigDecimal;\n\npublic class Arithmetic {\n    public static void main(String[] args) {\n        double a = 0.3;\n        double b = -0.2;\n        // A\n        System.out.println(a + b);//0.09999999999999998\n        // B\n        System.out.println(BigDecimal.valueOf(a).add(BigDecimal.valueOf(b)));//0.1\n        // C\n        System.out.println(new BigDecimal(a).add(new BigDecimal(b)));//0.099999999999999977795539507496869191527366638183593750\n    }\n}\n</code></pre>\n\n<p>More about this:\n<a href=\"https://stackoverflow.com/questions/8073912/why-do-we-need-to-convert-the-double-into-a-string-before-we-can-convert-it-int\">Why do we need to convert the double into a string, before we can convert it into a BigDecimal?</a>\n<a href=\"https://stackoverflow.com/questions/12218515/unpredictability-of-the-bigdecimaldouble-constructor\">Unpredictability of the BigDecimal(double) constructor</a></p>\n\n<p>I am worried that such a workaround would be a ticking bomb.\nFirst, I am not so sure that this arithmetic is bullet proof for all cases.\nSecond, there is still some risk that someone in the future might implement some changes and change B to C, because this pitfall is far from obvious and even a unit test may fail to reveal the bug.</p>\n\n<p>I would be willing to live with the second point but the question is: Would this workaround provide correct results? Could there be a case where somehow</p>\n\n<pre><code>Double.valueOf(\"12345.12345\").toString().equals(\"12345.12345\")\n</code></pre>\n\n<p>is false? Given that Double.toString, according to javadoc, prints just the digits needed to uniquely represent underlying double value, so when parsed again, it gives the same double value? Isn't that sufficient for this use case where I only need to add the numbers and print the sum with this magical <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#toString(double)\" rel=\"nofollow noreferrer\">Double.toString(Double d)</a> method? To be clear, I do prefer what I consider the <em>clean solution</em>, using BigDecimal everywhere, but I am kind of short of arguments to sell it, by which I mean ideally an example where conversion to BigDecimal before addition fails to do the job described above.</p>\n"}, {"tags": ["java", "xml", "command-line-interface", "sax", "saxon"], "answers": [{"comments": [{"owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "edited": false, "score": 0, "creation_date": 1546458578, "post_id": 54012260, "comment_id": 94861416, "body": "Exactly:  standard XPath.  Thanks."}, {"owner": {"reputation": 137664, "user_id": 252228, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ea75023c3c487f36257090d420b7c50?s=128&d=identicon&r=PG", "display_name": "Martin Honnen", "link": "https://stackoverflow.com/users/252228/martin-honnen"}, "reply_to_user": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "edited": false, "score": 0, "creation_date": 1546462263, "post_id": 54012260, "comment_id": 94862866, "body": "I am not sure why you have edited your question to now ask about the <code>doc</code> function I suggested, the XQuery code I suggested is as shown in my answer: <code>doc(&#39;https:&#47;&#47;www.w3schools.com&#47;xml&#47;note.xml&#39;)</code>. So your XQuery file (e.g. <code>foo.xq</code>) would contain that code and you would then call Saxon as you already do. e.g. <code>java -cp &#47;usr&#47;share&#47;java&#47;Saxon-HE.jar net.sf.saxon.Query foo.xq</code>."}, {"owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "edited": false, "score": 0, "creation_date": 1546462936, "post_id": 54012260, "comment_id": 94863139, "body": "I was running it with <code>java -jar ..</code> which barfed.  Thought I had the query wrong, but it was the way I was invoking <code>Saxon</code>.  Usage problem.  I was trying to narrow the question by editing it.  I&#39;ll change it back for reference -- maybe it will help someone else :)"}], "tags": [], "owner": {"reputation": 137664, "user_id": 252228, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ea75023c3c487f36257090d420b7c50?s=128&d=identicon&r=PG", "display_name": "Martin Honnen", "link": "https://stackoverflow.com/users/252228/martin-honnen"}, "is_accepted": true, "score": 1, "last_activity_date": 1546458282, "creation_date": 1546458282, "answer_id": 54012260, "question_id": 54011147, "link": "https://stackoverflow.com/questions/54011147/fetch-remote-xml-with-saxon/54012260#54012260", "title": "Fetch remote XML with saxon", "body": "<p>Use standard XPath functions like <code>doc('https://www.w3schools.com/xml/note.xml')</code>. Processor specific modules like BaseX's <code>fetch</code> are usually not portable.</p>\n"}], "owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 54012260, "answer_count": 1, "score": 0, "last_activity_date": 1546477611, "creation_date": 1546452559, "last_edit_date": 1546477611, "question_id": 54011147, "link": "https://stackoverflow.com/questions/54011147/fetch-remote-xml-with-saxon", "title": "Fetch remote XML with saxon", "body": "<p>How can I <a href=\"https://www.w3schools.com/xml/note.xml\" rel=\"nofollow noreferrer\">fetch</a> remote <code>XML</code> from saxon?</p>\n\n<pre><code>thufir@dur:~/saxon$ \nthufir@dur:~/saxon$ java -cp /usr/share/java/Saxon-HE.jar net.sf.saxon.Query fetch.note.text.xq \nStatic error on line 2 at column 2 of file:/home/thufir/saxon/fetch.note.text.xq near {...ww.w3schools.com/xml/note.x...} \n  XPST0081: Namespace prefix 'fetch' has not been declared\nStatic error(s) in query\nthufir@dur:~/saxon$ \nthufir@dur:~/saxon$ cat fetch.note.text.xq \n\nfetch:xml(\"https://www.w3schools.com/xml/note.xml\", map { 'chop': true() })\n\n\nthufir@dur:~/saxon$ \n</code></pre>\n\n<p>which works from <code>BaseX</code>.</p>\n\n<p>Simple hello world <a href=\"https://stackoverflow.com/a/53991245/262852\">runs</a> okay:</p>\n\n<pre><code>thufir@dur:~/saxon$ \nthufir@dur:~/saxon$ java -cp /usr/share/java/Saxon-HE.jar net.sf.saxon.Query test.xq \n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;results&gt;&lt;message&gt;Hello World!&lt;/message&gt;&lt;/results&gt;thufir@dur:~/saxon$ \nthufir@dur:~/saxon$ \n</code></pre>\n\n<p>Might <code>expath</code> provide this <a href=\"https://stackoverflow.com/q/3012932/262852\">functionality</a>, perhaps?  Or I should be using <code>xslt</code> for <a href=\"https://stackoverflow.com/q/11633134/262852\">fetching</a>.</p>\n"}, {"tags": ["java", "amazon-cloudfront", "aws-java-sdk"], "answers": [{"comments": [{"owner": {"reputation": 2104, "user_id": 3942569, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Brx0o.jpg?s=128&g=1", "display_name": "mmuzahid", "link": "https://stackoverflow.com/users/3942569/mmuzahid"}, "edited": false, "score": 0, "creation_date": 1546480699, "post_id": 54012088, "comment_id": 94867908, "body": "Interesting explanation from you. Using <code>enum</code> for utility this way I never thought earlier. Upvoted for explanation."}], "tags": [], "owner": {"reputation": 3185, "user_id": 2925962, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/hbVRq.jpg?s=128&g=1", "display_name": "akortex91", "link": "https://stackoverflow.com/users/2925962/akortex91"}, "is_accepted": false, "score": 2, "last_activity_date": 1546457233, "creation_date": 1546457233, "answer_id": 54012088, "question_id": 54011134, "link": "https://stackoverflow.com/questions/54011134/why-cloudfronturlsigner-is-an-enum-in-aws-java-sdk/54012088#54012088", "title": "Why CloudFrontUrlSigner is an enum in aws-java-sdk", "body": "<p>Checking on the source of class you're mentioning seems to indicate that <code>CloudFrontUrlSigner</code> is merely a utlity class, exposing a few public static methods. Said methods are public and static, essentially working as utility methods, which accept a few arguments, do some post processing on them and then return something (in this case a <code>String</code>).</p>\n\n<p>Thus, as mentioned above the core functionality on this class is essentially a utility helper class. With that in mind, one has to take into account the best practices when creating any utility class. The main revolves around the notion of avoiding inadvertent instantiation of the class in question.</p>\n\n<p>With this in mind assume what actions the developer would need to have taken to ensure this had they had chosen to implement this with a normal class. They would have had to declare the class as <code>final</code> (to avoid inheriting), they would have put in place a private constructor and then create all the public methods.</p>\n\n<p>Choosing though to use an <code>enum</code> pretty much offers all the above out of the box. You can't inherit from an <code>enum</code> nor can you instantiate with <code>new</code>.</p>\n\n<p>To sum up, they have chosen this in order to seemingly abide with the best practises of creating a utlity class. Ideally, for me I would go with the same <code>enum</code> concept but would rather have a singleton service with the said methods.</p>\n"}], "owner": {"reputation": 2104, "user_id": 3942569, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Brx0o.jpg?s=128&g=1", "display_name": "mmuzahid", "link": "https://stackoverflow.com/users/3942569/mmuzahid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1547754418, "creation_date": 1546452515, "last_edit_date": 1547754418, "question_id": 54011134, "link": "https://stackoverflow.com/questions/54011134/why-cloudfronturlsigner-is-an-enum-in-aws-java-sdk", "title": "Why CloudFrontUrlSigner is an enum in aws-java-sdk", "body": "<p>Source code of sdk saying that <code>com.amazonaws.services.cloudfront.CloudFrontUrlSigner</code> is an <code>enum</code> type.</p>\n\n<p>Why they did not implement this as a normal java utility class; e.g. <code>class CloudFrontUrlSigner</code> with <code>public static</code> methods? </p>\n\n<p>is there any major reason for using <code>enum</code> or just they designed it like that.</p>\n"}, {"tags": ["java", "rest", "tomcat", "jersey-2.0", "angular7"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10755308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12c851633256390e86da0e09723b152?s=128&d=identicon&r=PG&f=1", "display_name": "Niran", "link": "https://stackoverflow.com/users/10755308/niran"}, "is_accepted": false, "score": 0, "last_activity_date": 1546453524, "creation_date": 1546453524, "answer_id": 54011322, "question_id": 54011133, "link": "https://stackoverflow.com/questions/54011133/problem-with-access-control-allow-origin-while-developing-angular7-rest-web-ap/54011322#54011322", "title": "Problem with &#39;Access-Control-Allow-Origin&#39; while developing Angular7 REST web app", "body": "<p>In C# we do the following. Please check the java equivalent and write in your server side API code.\nIn WebAPIConfig file add the namespace \nusing System.Web.Http.Cors;</p>\n\n<p>Then add the following line of code in Register method:\nconfig.EnableCors(new EnableCorsAttribute(\"<a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">http://localhost:8080</a>\", headers: \"<em>\", methods: \"</em>\"));</p>\n\n<p>This will make the rest API to accept CORS calls.</p>\n"}, {"comments": [{"owner": {"reputation": 55, "user_id": 9158306, "user_type": "registered", "profile_image": "https://graph.facebook.com/1756686927683286/picture?type=large", "display_name": "Luk&#225;\u0161 Slaninka", "link": "https://stackoverflow.com/users/9158306/luk%c3%a1%c5%a1-slaninka"}, "edited": false, "score": 0, "creation_date": 1546512276, "post_id": 54011423, "comment_id": 94877379, "body": "Thanks for helping me. I tried to add it to response header but unfortunately still the same error."}], "tags": [], "owner": {"reputation": 548, "user_id": 1641334, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/XVB63.jpg?s=128&g=1", "display_name": "Adam Genshaft", "link": "https://stackoverflow.com/users/1641334/adam-genshaft"}, "is_accepted": false, "score": 0, "last_activity_date": 1546453945, "creation_date": 1546453945, "answer_id": 54011423, "question_id": 54011133, "link": "https://stackoverflow.com/questions/54011133/problem-with-access-control-allow-origin-while-developing-angular7-rest-web-ap/54011423#54011423", "title": "Problem with &#39;Access-Control-Allow-Origin&#39; while developing Angular7 REST web app", "body": "<p>Your server should have something like <code>Access-Control-Allow-Origin: *</code> header in the response.</p>\n"}, {"comments": [{"owner": {"reputation": 55, "user_id": 9158306, "user_type": "registered", "profile_image": "https://graph.facebook.com/1756686927683286/picture?type=large", "display_name": "Luk&#225;\u0161 Slaninka", "link": "https://stackoverflow.com/users/9158306/luk%c3%a1%c5%a1-slaninka"}, "edited": false, "score": 0, "creation_date": 1546458727, "post_id": 54011845, "comment_id": 94861471, "body": "I would like to try your second suggestion. Can you give me any tips how to proceed ?"}, {"owner": {"reputation": 55, "user_id": 9158306, "user_type": "registered", "profile_image": "https://graph.facebook.com/1756686927683286/picture?type=large", "display_name": "Luk&#225;\u0161 Slaninka", "link": "https://stackoverflow.com/users/9158306/luk%c3%a1%c5%a1-slaninka"}, "edited": false, "score": 0, "creation_date": 1546515604, "post_id": 54011845, "comment_id": 94879113, "body": "I finally got it out using a proxy. Thanks for your help."}], "tags": [], "owner": {"reputation": 811, "user_id": 3126207, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100000574810448/picture?type=large", "display_name": "pedrohreis", "link": "https://stackoverflow.com/users/3126207/pedrohreis"}, "is_accepted": true, "score": 0, "last_activity_date": 1546535927, "last_edit_date": 1546535927, "creation_date": 1546455986, "answer_id": 54011845, "question_id": 54011133, "link": "https://stackoverflow.com/questions/54011133/problem-with-access-control-allow-origin-while-developing-angular7-rest-web-ap/54011845#54011845", "title": "Problem with &#39;Access-Control-Allow-Origin&#39; while developing Angular7 REST web app", "body": "<p>You can workaround it always sending the <code>Access-Control-Allow-Origin</code> header (<a href=\"https://stackoverflow.com/questions/28065963/how-to-handle-cors-using-jax-rs-with-jersey\">How to handle CORS using JAX-RS with Jersey</a>) or you can include a server like nginx to perform a reverse proxy for you eliminating the needs for the header</p>\n\n<p>Update:</p>\n\n<p>Sorry for late response, but here you find the nginx documentation: <a href=\"https://docs.nginx.com/?_ga=2.134190344.721047093.1546535765-158692192.1546535765\" rel=\"nofollow noreferrer\">https://docs.nginx.com/?_ga=2.134190344.721047093.1546535765-158692192.1546535765</a></p>\n\n<p>Also, you need to change the <code>nginx.conf</code> to include something like this:</p>\n\n<pre><code>location /&lt;location_you_wish_for_your_proxy&gt; {\n        proxy_pass &lt;your_back_endend_server_location_including_port_and_path&gt;;\n        proxy_http_version 1.1;\n        proxy_set_header Host $host;\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 9158306, "user_type": "registered", "profile_image": "https://graph.facebook.com/1756686927683286/picture?type=large", "display_name": "Luk&#225;\u0161 Slaninka", "link": "https://stackoverflow.com/users/9158306/luk%c3%a1%c5%a1-slaninka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 775, "favorite_count": 0, "accepted_answer_id": 54011845, "answer_count": 3, "score": 0, "last_activity_date": 1546535927, "creation_date": 1546452512, "last_edit_date": 1546516027, "question_id": 54011133, "link": "https://stackoverflow.com/questions/54011133/problem-with-access-control-allow-origin-while-developing-angular7-rest-web-ap", "title": "Problem with &#39;Access-Control-Allow-Origin&#39; while developing Angular7 REST web app", "body": "<p>i am developing webapp using angular7 and jersey2 frameworks.\nJava backend runs on tomcat9 and angular on node.js.</p>\n\n<p>I need to call http post method to send nickname and password to backend and get user as response.</p>\n\n<p>angular code:</p>\n\n<pre><code>constructor( private http: HttpClient ) { }\n\nprivate user : User = null;\n\nprivate httpOptions = {\n  headers: new HttpHeaders({\n    'Content-Type': 'application/json'\n  })\n}\n\nlogin( nickname : String, password : String ) {\nlet data = {\n     \"nickname\": nickname,\n     \"password\": password\n}\nthis.http.post&lt;User&gt;(\n     \"localhost:8080/SRK/rest/users/auth\",\n     JSON.stringify(data),\n     this.httpOptions\n).subscribe((user : User) =&gt; { console.log(user); this.user = user; });\n</code></pre>\n\n<p>java rest code:</p>\n\n<pre><code>@Path(value = \"users\")\npublic class UserService {\n\n   @POST\n   @Path(value = \"auth\")\n   @Consumes(MediaType.APPLICATION_JSON + \";charset=utf-8\")\n   @Produces(MediaType.APPLICATION_JSON + \";charset=utf-8\")\n   public User auth(Map&lt;String, String&gt; nicknameAndPassword) {\n       String nickname = nicknameAndPassword.get(\"nickname\");\n       String password = nicknameAndPassword.get(\"password\");\n       return new UserController.getUserWithNicknameAndPassword(nickname, password);\n   }\n}\n</code></pre>\n\n<p>I also tried to add \"Access-Control-Allow-Origin\": \"*\" to response header:</p>\n\n<pre><code>@POST\n@Path(value = \"auth\")\n@Consumes(MediaType.APPLICATION_JSON + \";charset=utf-8\")\n@Produces(MediaType.APPLICATION_JSON + \";charset=utf-8\")\npublic Response getUserWithNicknameAndPassword(Map&lt;String, String&gt; nicknameAndPassword) {\n    String nickname = nicknameAndPassword.get(\"nickname\");\n    String password = nicknameAndPassword.get(\"password\");\n    return Response.ok()\n                .entity(new UserController.getUserWithNicknameAndPassword(nickname, password))\n                .header(\"Access-Control-Allow-Origin\", \"*\")\n                .header(\"Access-Control-Allow-Methods\", \"POST, GET, PUT, UPDATE, OPTIONS\")\n                .header(\"Access-Control-Allow-Headers\", \"Content-Type, Accept, X-Requested-With\")\n                .build();   \n}\n</code></pre>\n\n<p>but i get this error in browser console when angular login method is called:</p>\n\n<pre><code> OPTIONS http://localhost:8080/SRK/rest/users/auth 403\n\n Access to XMLHttpRequest at 'http://localhost:8080/SRK/rest/users/auth' \n from origin 'http://localhost:4200' has been blocked by CORS policy: \n Response to preflight request doesn't pass access control check: No \n 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n\n<p>My WEB-INF/web.xml contains this:</p>\n\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;cors.allowed.origins&lt;/param-name&gt;\n        &lt;param-value&gt;*&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;cors.allowed.methods&lt;/param-name&gt;\n        &lt;param-value&gt;GET,POST,HEAD,OPTIONS,PUT&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>I tried to install \"access-control-allow-origin\" chrome plugin and run angular app in chrome but the same error.</p>\n\n<p>When i builded angular app to production and added to WebApp folder everything worked fine.\nI really dont know where is the problem.\nI appreciate every help.</p>\n\n<p><strong>SOLVED</strong></p>\n\n<p>I created proxy.config.json including this:</p>\n\n<pre><code>{\n  \"/rest/*\":{\n    \"target\": \"http://localhost:8080/SRK\",\n    \"secure\": false,\n    \"changeOrigin\": true\n  }\n}\n</code></pre>\n\n<p>URI in anglar post method is now shorter:</p>\n\n<pre><code>this.http.post&lt;User&gt;(\n /rest/users/auth\",\n JSON.stringify(data),\n this.httpOptions\n).subscribe((user : User) =&gt; { console.log(user); this.user = user; });\n</code></pre>\n\n<p>And I edited package.json:</p>\n\n<pre><code>\"scripts\": {\n  ...\n  \"start\": \"ng serve --proxy-config proxy.config.json\",\n  ...\n},\n</code></pre>\n\n<p>Now i run angular app by command <strong>npm start</strong> instead of <strong>ng serve</strong>.</p>\n\n<p>Thanks for your help.</p>\n"}, {"tags": ["java", "android", "android-recyclerview"], "comments": [{"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 2, "creation_date": 1546452190, "post_id": 54011042, "comment_id": 94858831, "body": "Remove <code>notifyItemRangeChanged(position, getItemCount());</code>. It&#39;s enough to call <code>notifyItemRemoved(position);</code> since you&#39;re deleting a single item."}, {"owner": {"reputation": 127, "user_id": 10033229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de45261ea123484b5be61dca6734efc5?s=128&d=identicon&r=PG&f=1", "display_name": "new learner", "link": "https://stackoverflow.com/users/10033229/new-learner"}, "reply_to_user": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1546452232, "post_id": 54011042, "comment_id": 94858850, "body": "ok..please stick with me"}, {"owner": {"reputation": 127, "user_id": 10033229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de45261ea123484b5be61dca6734efc5?s=128&d=identicon&r=PG&f=1", "display_name": "new learner", "link": "https://stackoverflow.com/users/10033229/new-learner"}, "reply_to_user": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 1, "creation_date": 1546452392, "post_id": 54011042, "comment_id": 94858903, "body": "thanks a lot man it worked .."}, {"owner": {"reputation": 2550, "user_id": 8200290, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/we0BN.png?s=128&g=1", "display_name": "letsCode", "link": "https://stackoverflow.com/users/8200290/letscode"}, "edited": false, "score": 0, "creation_date": 1546452962, "post_id": 54011042, "comment_id": 94859146, "body": "you should remove it from your list before you update the notifyItemRemoved. list.remove(position); then notifyItemRemoved(position); thats how i handled it."}, {"owner": {"reputation": 127, "user_id": 10033229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de45261ea123484b5be61dca6734efc5?s=128&d=identicon&r=PG&f=1", "display_name": "new learner", "link": "https://stackoverflow.com/users/10033229/new-learner"}, "edited": false, "score": 0, "creation_date": 1546453005, "post_id": 54011042, "comment_id": 94859159, "body": "when I delete the last item I am getting  <code>java.lang.IndexOutOfBoundsException: Index: 7, Size: 6</code> its showing the on the check(position)"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1546453128, "post_id": 54011042, "comment_id": 94859205, "body": "You have multiple <code>dbhelper</code> calls inside <code>removeAt()</code>. Put a breakpoint there and check which line produces the error."}, {"owner": {"reputation": 127, "user_id": 10033229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de45261ea123484b5be61dca6734efc5?s=128&d=identicon&r=PG&f=1", "display_name": "new learner", "link": "https://stackoverflow.com/users/10033229/new-learner"}, "edited": false, "score": 0, "creation_date": 1546453160, "post_id": 54011042, "comment_id": 94859215, "body": "the error points me on the check() am I doing anything wrong in passing position to fuc  <code>Check(holder,holder.getAdapterPosition());</code> this is how I pass the position"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 1, "creation_date": 1546453404, "post_id": 54011042, "comment_id": 94859327, "body": "Do you call check() from removeAt()?"}, {"owner": {"reputation": 127, "user_id": 10033229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de45261ea123484b5be61dca6734efc5?s=128&d=identicon&r=PG&f=1", "display_name": "new learner", "link": "https://stackoverflow.com/users/10033229/new-learner"}, "edited": false, "score": 0, "creation_date": 1546453434, "post_id": 54011042, "comment_id": 94859339, "body": "yes  I solved it thanks brother once again  while checking the bug I forgot to remove check()"}], "owner": {"reputation": 127, "user_id": 10033229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de45261ea123484b5be61dca6734efc5?s=128&d=identicon&r=PG&f=1", "display_name": "new learner", "link": "https://stackoverflow.com/users/10033229/new-learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546452587, "creation_date": 1546452051, "last_edit_date": 1546452587, "question_id": 54011042, "link": "https://stackoverflow.com/questions/54011042/i-have-a-bug-in-the-recycler-view-while-deleting-items", "title": "i have a bug in the recycler view while deleting item&#39;s", "body": "<p>items are getting deleted\"i have no problem with that\"</p>\n\n<p>but the problem is check animation\nwhen item get's deleted the check animation of items below the deleted item is getting unchecked (if its checked)\nis this because of the position of item getting miss organized \n<a href=\"https://i.stack.imgur.com/ZO1b7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZO1b7.png\" alt=\"enter image description here\"></a>\nidk what happening</p>\n\n<p>I am new to java\n<strong>this is my removeitem func</strong></p>\n\n<pre><code> public void removeAt(int position) {\n    dbhelper.deletecoloumn(listTask.get(position).getID());\n    dbhelper.deleteallitem(listTask.get(position).getID());\n    listTask.remove(position);\n    notifyItemRangeChanged(position, getItemCount());\n    notifyItemRemoved(position);\n}\n</code></pre>\n\n<p><strong>checkanim func</strong></p>\n\n<pre><code>  private void Check(TaskHolder holder,int position){\n    if (listTask.get(position).getComplete().equals(\"0\")){\n        Log.d(TAG, \"Check: equals 0\");\n        holder.uncheckeditem.setVisibility(View.VISIBLE);\n        holder.checked.setVisibility(View.GONE);\n        holder.textViewName.setTextColor(mContext.getResources().getColor(R.color.black));\n        holder.textViewName.setPaintFlags(holder. textViewName.getPaintFlags() &amp; (~ Paint.STRIKE_THRU_TEXT_FLAG));\n    }else if (listTask.get(position).getComplete().equals(\"1\")){\n        holder.uncheckeditem.setVisibility(View.GONE);\n        Log.d(TAG, \"Check: equals 1\");\n        holder.checked.setVisibility(View.VISIBLE);\n        holder.textViewName.setPaintFlags( holder.textViewName.getPaintFlags() | Paint.STRIKE_THRU_TEXT_FLAG);\n        holder.textViewName.setTextColor(mContext.getResources().getColor(R.color.text_grey));\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "jakarta-ee", "primefaces", "glassfish-4.1"], "comments": [{"owner": {"reputation": 11893, "user_id": 4478047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OrZkC.jpg?s=128&g=1", "display_name": "Kukeltje", "link": "https://stackoverflow.com/users/4478047/kukeltje"}, "edited": false, "score": 1, "creation_date": 1546453071, "post_id": 54011013, "comment_id": 94859184, "body": "What is the relation to PrimeFaces (other than you using it in your project)? Does it deploy when you don&#39;t include PF?"}], "answers": [{"tags": [], "owner": {"reputation": 322, "user_id": 5461785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Poh4Z.jpg?s=128&g=1", "display_name": "Dilanka M", "link": "https://stackoverflow.com/users/5461785/dilanka-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1546495984, "last_edit_date": 1546495984, "creation_date": 1546495615, "answer_id": 54017112, "question_id": 54011013, "link": "https://stackoverflow.com/questions/54011013/glassfish-4-1-org-apache-catalina-lifecycleexception-java-lang-nosuchfielderror/54017112#54017112", "title": "Glassfish 4.1 org.apache.catalina.LifecycleException: java.lang.NoSuchFieldError: framework", "body": "<p>I think you should use an Atmosphere version that is compatible with PrimeFaces version that you use. Please see the docs and release notes.</p>\n\n<p><a href=\"https://github.com/primefaces/primefaces\" rel=\"nofollow noreferrer\">https://github.com/primefaces/primefaces</a></p>\n\n<p>I think this post also will help</p>\n\n<p><a href=\"https://stackoverflow.com/questions/35676892/primefaces-5-3-push-fails-on-glassfish-4-1\">Primefaces 5.3 push fails on GlassFish 4.1</a></p>\n"}], "owner": {"reputation": 123, "user_id": 1375490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d085f4f593f8e61486c32d95e5758ba2?s=128&d=identicon&r=PG", "display_name": "Amr Nassar", "link": "https://stackoverflow.com/users/1375490/amr-nassar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546495984, "creation_date": 1546451939, "question_id": 54011013, "link": "https://stackoverflow.com/questions/54011013/glassfish-4-1-org-apache-catalina-lifecycleexception-java-lang-nosuchfielderror", "title": "Glassfish 4.1 org.apache.catalina.LifecycleException: java.lang.NoSuchFieldError: framework", "body": "<p>I'm trying to deploy a web application WAR file to GlassFish 4.1 but it keeps showing the following Error</p>\n\n<p>happening during both in-place deployment and when I use the the admin-console.</p>\n\n<pre><code>Severe:   Exception during lifecycle processing java.lang.Exception: java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: org.apache.catalina.LifecycleException: java.lang.NoSuchFieldError: framework\nat com.sun.enterprise.web.WebApplication.start(WebApplication.java:168)\nat org.glassfish.internal.data.EngineRef.start(EngineRef.java:122)\nat org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:291)\nat org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:352)\nat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:500)\nat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:219)\nat org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:491)\nat com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:539)\nat com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:535)\nat java.security.AccessController.doPrivileged(Native Method)\nat javax.security.auth.Subject.doAs(Subject.java:360)\nat com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:534)\nat com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:565)\nat com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:557)\nat java.security.AccessController.doPrivileged(Native Method)\nat javax.security.auth.Subject.doAs(Subject.java:360)\nat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:556)\nat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1464)\nat com.sun.enterprise.v3.admin.CommandRunnerImpl.access$1300(CommandRunnerImpl.java:109)\nat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1846)\nat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1722)\nat com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:534)\nat com.sun.enterprise.v3.admin.AdminAdapter.onMissingResource(AdminAdapter.java:224)\nat org.glassfish.grizzly.http.server.StaticHttpHandlerBase.service(StaticHttpHandlerBase.java:189)\nat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:459)\nat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:167)\nat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:206)\nat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:180)\nat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)\nat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:283)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:200)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:132)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:111)\nat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\nat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:536)\nat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\nat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:591)\nat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:571)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>any idea why is that happening ?</p>\n"}, {"tags": ["java", "lambda", "java-8", "java-stream"], "comments": [{"owner": {"reputation": 39204, "user_id": 5761558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3cf04bfac11ef3ee693852eccde3b3c?s=128&d=identicon&r=PG&f=1", "display_name": "ernest_k", "link": "https://stackoverflow.com/users/5761558/ernest-k"}, "edited": false, "score": 4, "creation_date": 1546451861, "post_id": 54010975, "comment_id": 94858698, "body": "Either <code>.forEach(fox -&gt; System.out.println (fox.getName()));</code> or <code>.map(Fox::getname).forEach(System.out::println);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 103507, "user_id": 270371, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LSTUa.png?s=128&g=1", "display_name": "davidxxx", "link": "https://stackoverflow.com/users/270371/davidxxx"}, "edited": false, "score": 2, "creation_date": 1546452679, "post_id": 54011003, "comment_id": 94859028, "body": "@Csongi Nagy What is a method reference ?   A way to replace/shortcut the lambda writing.  So you may use it instead of a lambda, never with a lambda.    Note also that not every lambdas can be replaced by a method reference. The Aomine example shows how you could make it possible for your requirement."}], "tags": [], "owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "is_accepted": true, "score": 9, "last_activity_date": 1546451929, "last_edit_date": 1546451929, "creation_date": 1546451882, "answer_id": 54011003, "question_id": 54010975, "link": "https://stackoverflow.com/questions/54010975/printing-out-some-fields-of-the-objects-of-a-filtered-stream/54011003#54011003", "title": "Printing out some fields of the objects of a filtered stream", "body": "<p>You cannot combine method references with lambdas, just use one:</p>\n\n<pre><code>foxes.stream()\n     .filter(fox -&gt; fox.getColor().equals(\"green\"))\n     .forEach(fox -&gt; System.out.println(fox.getName()));\n</code></pre>\n\n<p>or the other:</p>\n\n<pre><code>foxes.stream()\n     .filter(fox -&gt; fox.getColor().equals(\"green\"))\n     .map(Fox::getName) // required in order to use method reference in the following terminal operation\n     .forEach(System.out::println);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "is_accepted": false, "score": 8, "last_activity_date": 1546451944, "creation_date": 1546451944, "answer_id": 54011016, "question_id": 54010975, "link": "https://stackoverflow.com/questions/54010975/printing-out-some-fields-of-the-objects-of-a-filtered-stream/54011016#54011016", "title": "Printing out some fields of the objects of a filtered stream", "body": "<p>Simply use :</p>\n\n<pre><code>foxes.stream().filter(fox -&gt; fox.getColor().equals(\"green\"))\n              .forEach(fox -&gt; System.out.println(fox.getName()));\n</code></pre>\n\n<p>The reason is because you cannot use method references and lambda expressions together.</p>\n"}, {"tags": [], "owner": {"reputation": 34959, "user_id": 184730, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8ec7cdaaf6fd5ee313cb6228f08cd67c?s=128&d=identicon&r=PG", "display_name": "fastcodejava", "link": "https://stackoverflow.com/users/184730/fastcodejava"}, "is_accepted": false, "score": 1, "last_activity_date": 1546453683, "creation_date": 1546453683, "answer_id": 54011358, "question_id": 54010975, "link": "https://stackoverflow.com/questions/54010975/printing-out-some-fields-of-the-objects-of-a-filtered-stream/54011358#54011358", "title": "Printing out some fields of the objects of a filtered stream", "body": "<p>You can try :</p>\n\n<pre><code>foxes.stream().filter(this::isColorGreen).map(Fox::getName).forEach(System.out::println);\n\n\npublic boolean isColorGreen(Fox fox) {\n    return fox.getColor().equals(\"green\");\n}\n</code></pre>\n"}], "owner": {"reputation": 590, "user_id": 4500880, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f0519faec6a6486cc8a7b70d5b0d9dee?s=128&d=identicon&r=PG&f=1", "display_name": "lyancsie", "link": "https://stackoverflow.com/users/4500880/lyancsie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 507, "favorite_count": 1, "accepted_answer_id": 54011003, "answer_count": 3, "score": 4, "last_activity_date": 1546453683, "creation_date": 1546451754, "last_edit_date": 1546452137, "question_id": 54010975, "link": "https://stackoverflow.com/questions/54010975/printing-out-some-fields-of-the-objects-of-a-filtered-stream", "title": "Printing out some fields of the objects of a filtered stream", "body": "<p>Let's suppose there is a Fox class, which has got name, color and age. Let's assume that I have a list of foxes, and I want to print out those foxes' names, whose colours are green. I want to use streams to do so.</p>\n\n<p>Fields: </p>\n\n<ul>\n<li>name: private String</li>\n<li>color: private String</li>\n<li>age: private Integer</li>\n</ul>\n\n<p>I have written the following code to do the filtering and Sysout:</p>\n\n<pre><code>foxes.stream().filter(fox -&gt; fox.getColor().equals(\"green\"))\n     .forEach(fox -&gt; System.out::println (fox.getName()));\n</code></pre>\n\n<p>However, there are some syntax issues in my code.</p>\n\n<p>What is the problem? How should I sort it out?</p>\n"}, {"tags": ["java", "android", "google-play-games"], "comments": [{"owner": {"reputation": 1416, "user_id": 2756125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R56s2.jpg?s=128&g=1", "display_name": "Shriram Panchal", "link": "https://stackoverflow.com/users/2756125/shriram-panchal"}, "edited": false, "score": 0, "creation_date": 1598952069, "post_id": 54010800, "comment_id": 112615784, "body": "I got the same error I checked for my google playconsole gameservices project was using same SHA1 or not and there was the culprit. Make sure your apps SHA1 and playconsole gameservices project has same SHA1"}], "answers": [{"tags": [], "owner": {"reputation": 492, "user_id": 663966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7c64f56fd5b5cc8c0ed61d816227218?s=128&d=identicon&r=PG", "display_name": "Android4Fun", "link": "https://stackoverflow.com/users/663966/android4fun"}, "is_accepted": false, "score": 0, "last_activity_date": 1546465994, "creation_date": 1546465994, "answer_id": 54013659, "question_id": 54010800, "link": "https://stackoverflow.com/questions/54010800/google-play-games-android-sign-in-getting-error-code-4/54013659#54013659", "title": "Google Play Games Android Sign In Getting Error Code 4", "body": "<p>Please check the following details for GPG Sign in issues:</p>\n\n<p>Make sure that you have followed the <a href=\"https://developers.google.com/games/services/console/enabling\" rel=\"nofollow noreferrer\">instructions</a> to create your client IDs and <a href=\"https://developers.google.com/games/services/console/configuring\" rel=\"nofollow noreferrer\">configure the games services.</a> </p>\n\n<p>Your meta data Tag in manifest should match with your application's numeric ID, and it should only contain the numbers. Also double check your package name. Do not use the sample app package name. Use your own. </p>\n\n<p>The certificate with which you are signing your game should match the certificate fingerprint associated to your client ID. </p>\n\n<p>The last important thing, Check that test accounts are enabled. I keep forgetting this step. </p>\n\n<p>Make sure that the fingerprint from App signing certificate matches with the linked apps from Game services. You can also verify these details by navigating to your Google API console -> Select your app -> Credentials -> OAuth 2.0 client IDs. </p>\n\n<p>The other thing I noticed that, if the app is released, then you need to install the app from the Play Store for these credentials to work. If the app is not yet released, then make sure you are using the debug fingerprint and that matches in your Games services (Debug fingerprint). </p>\n\n<p>As far as you have these fingerprints in place, you should be fine. If you are still having issues, I would recommend to go through the code lab to get step by step help on how to to extend an existing Unity game to run on an Android device and integrate <a href=\"https://developers.google.com/games/services/\" rel=\"nofollow noreferrer\">Play Game Services</a>.\n<a href=\"https://codelabs.developers.google.com/codelabs/playservices_unity/index.html?index=..%2F..%2Findex#0\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/playservices_unity/index.html?index=..%2F..%2Findex#0</a></p>\n\n<p>Or here are the sample apps to help with quick test - \n<a href=\"https://github.com/playgameservices/android-basic-samples\" rel=\"nofollow noreferrer\">https://github.com/playgameservices/android-basic-samples</a>. </p>\n\n<p>You can also help us with the logcat to better understand the issue. </p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 11600543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d3e9dc5e372c6baab635eb26a1f109?s=128&d=identicon&r=PG&f=1", "display_name": "1337element", "link": "https://stackoverflow.com/users/11600543/1337element"}, "is_accepted": false, "score": 3, "last_activity_date": 1559686155, "creation_date": 1559686155, "answer_id": 56451959, "question_id": 54010800, "link": "https://stackoverflow.com/questions/54010800/google-play-games-android-sign-in-getting-error-code-4/56451959#56451959", "title": "Google Play Games Android Sign In Getting Error Code 4", "body": "<p>Make sure that you use the <strong>SHA1</strong> key.</p>\n\n<p>The command \"keytool -list -keystore <em>[path to debug keystore]</em>\" may display a <strong>SHA-256</strong> key.</p>\n\n<p>To get your <strong>SHA1</strong> key you can follow these steps:</p>\n\n<ol>\n<li>Open your project</li>\n<li>Click on \"<strong>Gradle</strong>\" (on the right side)</li>\n<li>Choose your module</li>\n<li>Tasks -> android -> (double click) <strong>signingReport</strong></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/IYNIX.png\" rel=\"nofollow noreferrer\">image: get your SHA1 key</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8460286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/850c704cae8f5e9eeed1fb3e1eb8e03f?s=128&d=identicon&r=PG&f=1", "display_name": "Anil ", "link": "https://stackoverflow.com/users/8460286/anil"}, "is_accepted": false, "score": 0, "last_activity_date": 1560317151, "creation_date": 1560317151, "answer_id": 56555172, "question_id": 54010800, "link": "https://stackoverflow.com/questions/54010800/google-play-games-android-sign-in-getting-error-code-4/56555172#56555172", "title": "Google Play Games Android Sign In Getting Error Code 4", "body": "<p>Recently, I faced the problem when i was trying to write the user data on his drive using the saved game api. And i figured out the problem. Below are my observation hope it will help in general scenario:</p>\n\n<ol>\n<li>You can test the play games api in debug build by adding testers in your play console.</li>\n<li>If you want to test on signed apk, then you need to generate the SHA1 key by using your \"app.keystore\" keystore file and add the android app with this SHA1 key in play game services particular for that app. Now you would be able to get the expected result.(It was the problem in my case)</li>\n<li>If you want to store the data on user drive, then you need to enable \"saved games\" api in play game services.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1575, "user_id": 389007, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2805d5c06cee6a6a4931f6f70ad067b?s=128&d=identicon&r=PG", "display_name": "Kie", "link": "https://stackoverflow.com/users/389007/kie"}, "is_accepted": false, "score": 0, "last_activity_date": 1585064126, "creation_date": 1585064126, "answer_id": 60834269, "question_id": 54010800, "link": "https://stackoverflow.com/questions/54010800/google-play-games-android-sign-in-getting-error-code-4/60834269#60834269", "title": "Google Play Games Android Sign In Getting Error Code 4", "body": "<p>After searching on the internet for hours and checking every step from the troubleshooting section in the google play game services documentation (<a href=\"https://developers.google.com/games/services/android/troubleshooting\" rel=\"nofollow noreferrer\">https://developers.google.com/games/services/android/troubleshooting</a>), <strong>I filled out the \"OAuth Consent Screen\" form and it finally worked.</strong></p>\n\n<ol>\n<li>Log in to the Google Play Console</li>\n<li>Go to Game Services </li>\n<li>Go to your game</li>\n<li>On the Game Details page scroll all the way down to the linked API console project </li>\n<li>Click the link to the linked API console project</li>\n<li>Click \"OAuth Conset Screen\" in the left side bar</li>\n<li>Choose external</li>\n<li>Fill out the form and upload an icon</li>\n<li>Send for verification</li>\n</ol>\n\n<p>After that my Google Play Game Services Sign In worked instantly.</p>\n"}], "owner": {"reputation": 43, "user_id": 6570462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2be028a345a25ede5f509c6ccfa2038?s=128&d=identicon&r=PG", "display_name": "Maanex", "link": "https://stackoverflow.com/users/6570462/maanex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2544, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1585064126, "creation_date": 1546450897, "last_edit_date": 1546460030, "question_id": 54010800, "link": "https://stackoverflow.com/questions/54010800/google-play-games-android-sign-in-getting-error-code-4", "title": "Google Play Games Android Sign In Getting Error Code 4", "body": "<p>I am currently working on an Android app in which I want to use Google Play Games services (Achievements, Leaderboards, ...). After many iterations I finally got the code working to show the <strong>Google Play Games Login promt</strong>. The problem is now that <strong>after the user signs in</strong> it takes a while and then <strong>throws error code 4</strong> with error message being empty. After doing a lot of research nothing really helped me solving this problem.</p>\n\n<p>I have tried starting it directly out of Android Studio, installing the app manually or over Google Play, all on multiple devices, nothing worked.</p>\n\n<p>Here's some code if required:\n</p>\n\n<pre><code>private static GoogleSignInClient mGoogleSignInClient;\n\n...\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    ...\n\n    mGoogleSignInClient = GoogleSignIn.getClient(this, new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_GAMES_SIGN_IN).requestIdToken(getResources().getString(R.string.app_id)).build());\n\n    signInSilently(); // Can't be tested yet.\n    // isSignedIn() and loginDeclined are both false\n    if(!isSignedIn() &amp;&amp; !loginDeclined) startSignInIntent();\n}\n\n...\n\nprivate void startSignInIntent() {\n    startActivityForResult(mGoogleSignInClient.getSignInIntent(), RC_SIGN_IN);\n    loginDeclined = true;\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent intent) {\n    super.onActivityResult(requestCode, resultCode, intent);\n    // resultCode = 0\n\n    if (requestCode == RC_SIGN_IN) {\n        Task&lt;GoogleSignInAccount&gt; task =\n                GoogleSignIn.getSignedInAccountFromIntent(intent);\n\n        try {\n            GoogleSignInAccount account = task.getResult(ApiException.class);\n            // Now this never happens :(\n            System.out.println(\"SUCCESS!\");\n        } catch (ApiException apiException) {\n            System.out.println(apiException.getStatusCode() + \" + \" + apiException.getMessage());\n            // statusCode is 4, message is \"4: \"\n\n            String message = apiException.getMessage();\n            if (message == null || message.isEmpty()) {\n                message = \"Error signing in to Google Play Games\";\n            }\n\n            new android.app.AlertDialog.Builder(this)\n                    .setMessage(message)\n                    .setNeutralButton(android.R.string.ok, null)\n                    .show();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "intellij-idea", "junit5"], "answers": [{"tags": [], "owner": {"reputation": 34704, "user_id": 1746118, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/a4a3P.png?s=128&g=1", "display_name": "Naman", "link": "https://stackoverflow.com/users/1746118/naman"}, "is_accepted": false, "score": 1, "last_activity_date": 1546451874, "last_edit_date": 1546451874, "creation_date": 1546450964, "answer_id": 54010820, "question_id": 54010778, "link": "https://stackoverflow.com/questions/54010778/the-option-tag-junit-5-does-not-show-up-in-intellij-2018-3/54010820#54010820", "title": "The option &quot;Tag (JUnit 5)&quot; does not show up in IntelliJ 2018.3", "body": "<p>You can execute tagged tests using the following Test Configuration:</p>\n\n<p><a href=\"https://i.stack.imgur.com/POTpX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/POTpX.png\" alt=\"enter image description here\"></a></p>\n\n<p>This can be created using the following steps:</p>\n\n<ol>\n<li>Run/Debug configurations > Add new configuration > Junit</li>\n<li>Select test kind <code>Tags</code> and varied configurations as to how you want to execute. e.g. I am executing the test tagged with \"fast\" N times.</li>\n</ol>\n\n<hr>\n\n<p>Where the test class includes:</p>\n\n<pre><code>public class TaggedTests {\n\n    @Test\n    @Tag(value = \"slow\")\n    public void sample() {\n        System.out.println(\"slow-test\");\n    }\n\n\n    @Test\n    @Tag(value = \"fast\")\n    public void fastSample() {\n        System.out.println(\"fast-test\");\n    }\n}\n</code></pre>\n\n<p>and execution outputs: </p>\n\n<pre><code>fast-test \nfast-test... 10 times\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 9442489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2oYP8.jpg?s=128&g=1", "display_name": "Javier", "link": "https://stackoverflow.com/users/9442489/javier"}, "is_accepted": false, "score": 0, "last_activity_date": 1546502634, "creation_date": 1546502634, "answer_id": 54018418, "question_id": 54010778, "link": "https://stackoverflow.com/questions/54010778/the-option-tag-junit-5-does-not-show-up-in-intellij-2018-3/54018418#54018418", "title": "The option &quot;Tag (JUnit 5)&quot; does not show up in IntelliJ 2018.3", "body": "<p>The reason why it is not working is because I was using the @Test annotation from JUnit 4 instead of using the one from JUnit 5. Because of that, filtering wasn't working even if JUnit Vintage was imported in the pom.</p>\n"}], "owner": {"reputation": 59, "user_id": 9442489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2oYP8.jpg?s=128&g=1", "display_name": "Javier", "link": "https://stackoverflow.com/users/9442489/javier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1546502634, "creation_date": 1546450783, "question_id": 54010778, "link": "https://stackoverflow.com/questions/54010778/the-option-tag-junit-5-does-not-show-up-in-intellij-2018-3", "title": "The option &quot;Tag (JUnit 5)&quot; does not show up in IntelliJ 2018.3", "body": "<p>I am working with JUnit 5.1.0 in a Maven project. I have IntelliJ IDEA 2018.3.2 (Community Edition). I would like to use the @Tag annotation to describe my tests and be able to filter by those.</p>\n\n<p>The point is that in edit configurations | Configuration | Test Kind there is no \"Tag (JUnit 5)\" option like I have seen in many examples. Only the option \"Tags\" is provided. </p>\n\n<p>When I use the option mentioned, I set the field Tag expression to \"slow\" (without the quotes) (I have one test already tagged like @Tag(\"slow\")).</p>\n\n<p>The point is that no test is found (the test is marked with @Test). </p>\n\n<pre><code>@Test\n@Tag(\"slow\")\npublic void testNotBlank() {\n  // Given\n  String excectedText = \"\";\n  // When\n  String text = Checks.notBlank(excectedText, \"error\");\n  // Then\n  assertEquals(\"\", Checks.notBlank(text, \"error\"));\n}\n</code></pre>\n\n<p>The pom dependency</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n  &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n  &lt;version&gt;5.1.0&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>First of all, I expected to have the option \"Tags (JUnit 5)\" and I don't. Then, I expected that selecting \"Tags\" and giving the expression \"slow\", the test testNotBlank would be executed.</p>\n"}, {"tags": ["java", "spring", "spring-boot"], "comments": [{"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1546454362, "post_id": 54010753, "comment_id": 94859686, "body": "What&#39;s your reason for not using an enum (potentially with property accessors on your entity class that do some sort of mapping or conversion to a canonical enum column)?"}, {"owner": {"reputation": 41, "user_id": 1820231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3be87188d4e90ec60e6f26efce485b18?s=128&d=identicon&r=PG", "display_name": "kurt-hectic", "link": "https://stackoverflow.com/users/1820231/kurt-hectic"}, "reply_to_user": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1546523463, "post_id": 54010753, "comment_id": 94883373, "body": "@chrylis . I work with a legacy database that models the codelists as separate database tables. I&#39;ve been thinking of a third approach which would be to include JPA \\@OneToMany relationships to the codelists in my entities and to expose the code-list value in a custom getter. Deserialization would require inefficient entity lookups in the getter, though."}], "owner": {"reputation": 41, "user_id": 1820231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3be87188d4e90ec60e6f26efce485b18?s=128&d=identicon&r=PG", "display_name": "kurt-hectic", "link": "https://stackoverflow.com/users/1820231/kurt-hectic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1546523701, "creation_date": 1546450658, "last_edit_date": 1546523701, "question_id": 54010753, "link": "https://stackoverflow.com/questions/54010753/how-to-lookup-entity-properties-in-a-static-codelist-for-serialization", "title": "How to lookup entity properties in a static codelist for serialization?", "body": "<p>I have a spring JPA entity with numeric properties which should be serialized as string values that are the result of a lookup in a code-list. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\nclass Test {\n    String name ;\n    int status ;   \n}\n</code></pre>\n\n<p>Should be serialized by looking up the numeric value in a code-list like so:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{ \"name\" : \"mytest\" , \"status\" : \"APPROVED\" }\n</code></pre>\n\n<p>The code-list is implemented as another entity and can be accessed using a spring-boot JPA repository. </p>\n\n<p>The solution I am looking for must be scalable in that </p>\n\n<ul>\n<li>the code-list cannot be loaded from the database again for each serialization or new object </li>\n<li>the serialization code must be generic so that it can be re-used in other entities. </li>\n</ul>\n\n<p>This is, other entities also have numeric properties and their <em>own</em> corresponding code-list and repository.</p>\n\n<p>I understand one could either use a custom Jackson serializer, or implement the lookup as part of the entity. However, neither seems to satisfy the conditions above. A <a href=\"https://stackoverflow.com/questions/17576098/how-to-autowire-some-bean-into-jsonserializer\">custom jackson serializer</a> can only have the repository autowired if I share it or the map using a static field. The static field makes it hard to re-use the serializer implementation for other entities.\nImplementing the lookup as part of the entity, say as custom getter, would make the code hard to re-use, especially since the map for the code-list lookup must be shared across instances.</p>\n\n<p><strong>Update:</strong> A third strategy would be to add JPA relationships to the code-list in my entities and to expose the value in a custom getter. For the deserialization rather inefficient lookups would be required, though.</p>\n\n<p>This works, but the static map prevents re-using the code.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class NewApprovalSerializer extends JsonSerializer&lt;Integer&gt;\n{\n    @Autowired\n    ApprovalStatusRefRepository repo;\n\n    static Map&lt;Integer, String&gt; map  = new HashMap&lt;Integer,String&gt;() ;\n\n    @PostConstruct\n    public void init() {\n        for ( TGoApprovalStatusRef as : repo.findAll() ) {\n            Integer key = new Integer( as.getApprovalStatusId() );\n            String val = as.getNameTx();\n            map.put( key   ,  val );\n        }               \n    }\n\n    public NewApprovalSerializer() { \n        SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this); \n    }\n\n    public void serialize(Integer value, JsonGenerator gen, SerializerProvider serializers) throws IOException {        \n        gen.writeObject( map.get( value  )  );      \n    }\n}\n</code></pre>\n\n<p>I could change the entity like such, but I again have a static map and the code is even harder to re-use in another entity.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\nclass Test {\n    String name ;\n    @JsonIgnore\n    int status ;\n\n    static Map&lt;Integer, String&gt; map  = new HashMap&lt;Integer,String&gt;() ;\n\n\n    public Test() {  \n       ... init static map\n    }\n\n    public String getStatus() {\n         return map.get(this.status);\n    }\n}\n</code></pre>\n\n<p>What is the standard way to implement a lookup of values uppon serialization (and vice versa in deserialization)?</p>\n"}, {"tags": ["java", "list", "for-loop", "arraylist", "collections"], "answers": [{"comments": [{"owner": {"reputation": 103507, "user_id": 270371, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LSTUa.png?s=128&g=1", "display_name": "davidxxx", "link": "https://stackoverflow.com/users/270371/davidxxx"}, "edited": false, "score": 1, "creation_date": 1546451742, "post_id": 54010847, "comment_id": 94858637, "body": "Or why not  <code>.values().stream().collect(toList())</code> to avoid defining an additional variable."}, {"owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "reply_to_user": {"reputation": 103507, "user_id": 270371, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LSTUa.png?s=128&g=1", "display_name": "davidxxx", "link": "https://stackoverflow.com/users/270371/davidxxx"}, "edited": false, "score": 1, "creation_date": 1546452199, "post_id": 54010847, "comment_id": 94858834, "body": "@davidxxx if one doesn&#39;t want the creation of a variable then I&#39;d suggest passing the bulk of the pipeline directly to the constructor which leads to less readability to come extent so yes your suggestion is a good point indeed. I&#39;ll edit to accommodate."}, {"owner": {"reputation": 103507, "user_id": 270371, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LSTUa.png?s=128&g=1", "display_name": "davidxxx", "link": "https://stackoverflow.com/users/270371/davidxxx"}, "edited": false, "score": 0, "creation_date": 1546454881, "post_id": 54010847, "comment_id": 94859879, "body": "Indeed, IntelliJ proposes it. It is crazy :) Your way to collect is straight but the idiom to return the merged object is ugly (not your fault of course) as Java doesn&#39;t rely on implicit very much . An immutable approach could make things more readable while may have some consequences on the execution time  : <code>toMap(User::getName, u -&gt; new User(u.getName(), u.getComments()),(l, r) -&gt; new User(l.getName(), l.getComments() + r.getComments()))</code>"}, {"owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "reply_to_user": {"reputation": 103507, "user_id": 270371, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LSTUa.png?s=128&g=1", "display_name": "davidxxx", "link": "https://stackoverflow.com/users/270371/davidxxx"}, "edited": false, "score": 1, "creation_date": 1546455286, "post_id": 54010847, "comment_id": 94860028, "body": "@davidxxx Indeed, that&#39;s another option but I&#39;d stay away from it as you&#39;ve already hinted it&#39;s not memory friendly. a better option would be to extract the merge function to a method inside <code>User</code> and then call it with a method reference from the pipeline, that would lead to better readability and avoid the overhead. example the method would look like <code>public User merge(User other) {         setComments(getComments() + other.getComments());         return this;     }</code> then use <code>User::merge</code> in place of the merge function above."}, {"owner": {"reputation": 28591, "user_id": 3764965, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5aIx2.jpg?s=128&g=1", "display_name": "Nikolas Charalambidis", "link": "https://stackoverflow.com/users/3764965/nikolas-charalambidis"}, "edited": false, "score": 1, "creation_date": 1546459368, "post_id": 54010847, "comment_id": 94861736, "body": "@Aomine: Thanks and you are welcome. The biggest issue with <a href=\"https://stackoverflow.com/questions/tagged/java-stream\">java-stream</a> is readibility and ability to figure out what a collector exactly needs."}, {"owner": {"reputation": 103507, "user_id": 270371, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LSTUa.png?s=128&g=1", "display_name": "davidxxx", "link": "https://stackoverflow.com/users/270371/davidxxx"}, "edited": false, "score": 0, "creation_date": 1546512179, "post_id": 54010847, "comment_id": 94877304, "body": "@Aomnine I understand your POV but note that  the idiom you use to create a new object for each stream element is also not memory/cpu friendly : <code>-&gt; new User(u.getName(), u.getComments())</code> Suppose you have 10 elements with the same key on average, it means you create 9 times more objects that necessary."}, {"owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "reply_to_user": {"reputation": 103507, "user_id": 270371, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LSTUa.png?s=128&g=1", "display_name": "davidxxx", "link": "https://stackoverflow.com/users/270371/davidxxx"}, "edited": false, "score": 1, "creation_date": 1546512499, "post_id": 54010847, "comment_id": 94877514, "body": "@davidxxx in which case, if memory usage is really of concern then I&#39;d consider using <code>.collect(groupingBy(User::getName, summingInt(User::getComments)))</code> and then map each entry to a <code>User</code> object. ;-)"}, {"owner": {"reputation": 103507, "user_id": 270371, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LSTUa.png?s=128&g=1", "display_name": "davidxxx", "link": "https://stackoverflow.com/users/270371/davidxxx"}, "edited": false, "score": 0, "creation_date": 1546518674, "post_id": 54010847, "comment_id": 94880643, "body": "It sounds good. And the <code>groupingBy()</code> is in this way much more explicit.  I would post something very close yesterday but didn&#39;t have the time for."}, {"owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "reply_to_user": {"reputation": 103507, "user_id": 270371, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LSTUa.png?s=128&g=1", "display_name": "davidxxx", "link": "https://stackoverflow.com/users/270371/davidxxx"}, "edited": false, "score": 0, "creation_date": 1546519325, "post_id": 54010847, "comment_id": 94881002, "body": "@davidxxx yeah, it would be nice if you posted it. @ me when you do so."}, {"owner": {"reputation": 103507, "user_id": 270371, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LSTUa.png?s=128&g=1", "display_name": "davidxxx", "link": "https://stackoverflow.com/users/270371/davidxxx"}, "edited": false, "score": 1, "creation_date": 1546528039, "post_id": 54010847, "comment_id": 94886132, "body": "Beyond the memory or cpu usage I find it really neater. The merge function of <code>toMap()</code> decreases the readability Similarly to <code>collectingThen()</code>. Personally I try to avoid them as much as possible. I posted the answer while you had already given the essential in your comment :)"}], "tags": [], "owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "is_accepted": true, "score": 5, "last_activity_date": 1546459138, "last_edit_date": 1546459138, "creation_date": 1546451091, "answer_id": 54010847, "question_id": 54010738, "link": "https://stackoverflow.com/questions/54010738/adding-two-lists-of-own-type/54010847#54010847", "title": "Adding two lists of own type", "body": "<p>This is better done via the <code>toMap</code> collector:</p>\n\n<pre><code> Collection&lt;User&gt; result = Stream\n    .concat(first.stream(), second.stream())\n    .collect(Collectors.toMap(\n        User::getName,\n        u -&gt; new User(u.getName(), u.getComments()),\n        (l, r) -&gt; {\n            l.setComments(l.getComments() + r.getComments());\n            return l;\n        }))\n    .values();\n</code></pre>\n\n<ul>\n<li>First, concatenate both the lists into a single <code>Stream&lt;User&gt;</code> via <code>Stream.concat</code>.</li>\n<li>Second, we use the <code>toMap</code> collector to merge users that happen to have the same <code>Name</code> and get back a result of <code>Collection&lt;User&gt;</code>.</li>\n</ul>\n\n<p>if you <em>strictly</em> want a <code>List&lt;User&gt;</code> then pass the result into the <code>ArrayList</code> constructor i.e. <code>List&lt;User&gt; resultSet = new ArrayList&lt;&gt;(result);</code> </p>\n\n<hr>\n\n<p>Kudos to @davidxxx, you could collect to a list directly from the pipeline and avoid an intermediate variable creation with:</p>\n\n<pre><code>List&lt;User&gt; result = Stream\n    .concat(first.stream(), second.stream())\n    .collect(Collectors.toMap(\n         User::getName,\n         u -&gt; new User(u.getName(), u.getComments()),\n         (l, r) -&gt; {\n              l.setComments(l.getComments() + r.getComments());\n              return l;\n         }))\n    .values()\n    .stream()\n    .collect(Collectors.toList());\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 103507, "user_id": 270371, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LSTUa.png?s=128&g=1", "display_name": "davidxxx", "link": "https://stackoverflow.com/users/270371/davidxxx"}, "edited": false, "score": 0, "creation_date": 1546459338, "post_id": 54012365, "comment_id": 94861724, "body": "Nice :) You could factor out the first part : <code>Stream.concat(list1.stream(), list2.stream()).forEach(u-&gt;...)</code>"}, {"owner": {"reputation": 30223, "user_id": 1876620, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/WyEns.jpg?s=128&g=1", "display_name": "fps", "link": "https://stackoverflow.com/users/1876620/fps"}, "reply_to_user": {"reputation": 103507, "user_id": 270371, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LSTUa.png?s=128&g=1", "display_name": "davidxxx", "link": "https://stackoverflow.com/users/270371/davidxxx"}, "edited": false, "score": 0, "creation_date": 1546459353, "post_id": 54012365, "comment_id": 94861729, "body": "@davidxxx I was thinking exactly the same ;) But touching a map from withing <code>Stream.forEach</code> is not stream-friendly (it&#39;s discouraged in the docs)..."}, {"owner": {"reputation": 28591, "user_id": 3764965, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5aIx2.jpg?s=128&g=1", "display_name": "Nikolas Charalambidis", "link": "https://stackoverflow.com/users/3764965/nikolas-charalambidis"}, "edited": false, "score": 0, "creation_date": 1546461640, "post_id": 54012365, "comment_id": 94862597, "body": "@FedericoPeraltaSchaffner: The docs discourage from <code>Stream::forEach</code> which is far different from <code>List::forEach</code> (or <code>Iterable::forEach</code> to be exact) which behaves exactly like the traditional <code>for-loop</code>. What do you think? I am not sure."}, {"owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "reply_to_user": {"reputation": 28591, "user_id": 3764965, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5aIx2.jpg?s=128&g=1", "display_name": "Nikolas Charalambidis", "link": "https://stackoverflow.com/users/3764965/nikolas-charalambidis"}, "edited": false, "score": 1, "creation_date": 1546462036, "post_id": 54012365, "comment_id": 94862768, "body": "@Nikolas what Federico meant was that using <code>Stream.concat(list1.stream(), list2.stream()).forEach(u-&gt;...)</code>  as suggested by david would involve unnecessary side effects as you&#39;re then accumulating to a map externally. streams and side effects should not go together. this is even truer when running in parallel. Federico correct me if I am wrong ;-)  but I think that&#39;s what you meant."}, {"owner": {"reputation": 28591, "user_id": 3764965, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5aIx2.jpg?s=128&g=1", "display_name": "Nikolas Charalambidis", "link": "https://stackoverflow.com/users/3764965/nikolas-charalambidis"}, "reply_to_user": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "edited": false, "score": 1, "creation_date": 1546462559, "post_id": 54012365, "comment_id": 94862978, "body": "@Aomine: I speak about <code>(list, map) -&gt; list.forEach</code>. The <code>stream</code> is not constructed at all and the <code>forEach</code> method causes side-effects - which is fine. Why the <code>Stream::forEach</code> is discouraged since it&#39;s the same as <code>Iterable::forEach</code>? I fully inderstand the side-effect issue with the parallel streams, I don&#39;t recommend to use ex. <code>stream-map-filter-forEach</code>, however <code>Stream::forEach</code> might be fine?."}, {"owner": {"reputation": 30223, "user_id": 1876620, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/WyEns.jpg?s=128&g=1", "display_name": "fps", "link": "https://stackoverflow.com/users/1876620/fps"}, "reply_to_user": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "edited": false, "score": 0, "creation_date": 1546462561, "post_id": 54012365, "comment_id": 94862979, "body": "@Aomine I meant exactly that :)"}, {"owner": {"reputation": 30223, "user_id": 1876620, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/WyEns.jpg?s=128&g=1", "display_name": "fps", "link": "https://stackoverflow.com/users/1876620/fps"}, "reply_to_user": {"reputation": 28591, "user_id": 3764965, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5aIx2.jpg?s=128&g=1", "display_name": "Nikolas Charalambidis", "link": "https://stackoverflow.com/users/3764965/nikolas-charalambidis"}, "edited": false, "score": 1, "creation_date": 1546462702, "post_id": 54012365, "comment_id": 94863042, "body": "@Nikolas Yes, I think you are correct. There wouldn&#39;t be any problem in this specific case. However, I&#39;d rather take this strictly and never use that pattern. It would be just for <i>stylistic</i> reasons, if you prefer... Besides, even though it will never happen, you don&#39;t know if <code>Stream.concat</code> makes the stream parallel or not (it shouldn&#39;t, but)..."}, {"owner": {"reputation": 28591, "user_id": 3764965, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5aIx2.jpg?s=128&g=1", "display_name": "Nikolas Charalambidis", "link": "https://stackoverflow.com/users/3764965/nikolas-charalambidis"}, "edited": false, "score": 0, "creation_date": 1546463208, "post_id": 54012365, "comment_id": 94863245, "body": "That is what I meant, thanks. The <code>Stream.concat</code> behavior is new for me, it becomes parallel if one of the inputs is parallel (from the docs). Does it imply that the usage of <code>Stream.of(...).flatMap(List::stream)...</code> is safer in this case?"}, {"owner": {"reputation": 30223, "user_id": 1876620, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/WyEns.jpg?s=128&g=1", "display_name": "fps", "link": "https://stackoverflow.com/users/1876620/fps"}, "reply_to_user": {"reputation": 28591, "user_id": 3764965, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5aIx2.jpg?s=128&g=1", "display_name": "Nikolas Charalambidis", "link": "https://stackoverflow.com/users/3764965/nikolas-charalambidis"}, "edited": false, "score": 0, "creation_date": 1546463391, "post_id": 54012365, "comment_id": 94863322, "body": "@Nikolas I don&#39;t think so... It&#39;s as safe as using <code>Stream.concat</code> (which receives 2 streams, and you can control whether both of them are parallel or not), though it has the advantage of letting you <i>concat</i> more than 2 collections."}, {"owner": {"reputation": 103507, "user_id": 270371, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LSTUa.png?s=128&g=1", "display_name": "davidxxx", "link": "https://stackoverflow.com/users/270371/davidxxx"}, "edited": false, "score": 0, "creation_date": 1546512294, "post_id": 54012365, "comment_id": 94877391, "body": "I like very much the update. Very neat while a little verbose."}], "tags": [], "owner": {"reputation": 30223, "user_id": 1876620, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/WyEns.jpg?s=128&g=1", "display_name": "fps", "link": "https://stackoverflow.com/users/1876620/fps"}, "is_accepted": false, "score": 3, "last_activity_date": 1546459820, "last_edit_date": 1546459820, "creation_date": 1546458918, "answer_id": 54012365, "question_id": 54010738, "link": "https://stackoverflow.com/questions/54010738/adding-two-lists-of-own-type/54012365#54012365", "title": "Adding two lists of own type", "body": "<p>You have to use an intermediate map to <em>merge</em> users from both lists by summing their ages.</p>\n\n<p>One way is with streams, as shown in <a href=\"https://stackoverflow.com/a/54010847/1876620\">Aomine's answer</a>. Here's another way, without streams:</p>\n\n<pre><code>Map&lt;String, Integer&gt; map = new LinkedHashMap&lt;&gt;();\nlist1.forEach(u -&gt; map.merge(u.getName(), u.getComments(), Integer::sum));\nlist2.forEach(u -&gt; map.merge(u.getName(), u.getComments(), Integer::sum));\n</code></pre>\n\n<p>Now, you can create a list of users, as follows:</p>\n\n<pre><code>List&lt;User&gt; result = new ArrayList&lt;&gt;();\nmap.forEach((name, comments) -&gt; result.add(new User(name, comments)));\n</code></pre>\n\n<p>This assumes <code>User</code> has a constructor that accepts <code>name</code> and <code>comments</code>.</p>\n\n<hr>\n\n<p><strong>EDIT:</strong> As suggested by @davidxxx, we could improve the code by factoring out the first part:</p>\n\n<pre><code>BiConsumer&lt;List&lt;User&gt;, Map&lt;String, Integer&gt;&gt; action = (list, map) -&gt; \n        list.forEach(u -&gt; map.merge(u.getName(), u.getComments(), Integer::sum));\n\nMap&lt;String, Integer&gt; map = new LinkedHashMap&lt;&gt;();\naction.accept(list1, map);\naction.accept(list2, map);\n</code></pre>\n\n<p>This refactor would avoid DRY.</p>\n"}, {"comments": [{"owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "edited": false, "score": 1, "creation_date": 1546460508, "post_id": 54012370, "comment_id": 94862137, "body": "you can pass the <code>reducing</code> collector to the <code>collectingAndThen</code> collector with <code>Optional::get</code> as the finishing function to make things shorter and easier e.g. <code>.collect(Collectors.groupingBy(                          User::getName,                                             collectingAndThen(                                 Collectors.reducing((l, r) -&gt; new User(l.getName(), l.getComments() + r.getComments())), Optional::get)))</code>. this means you don&#39;t need the subsequent <code>.values().stream().....</code>"}, {"owner": {"reputation": 28591, "user_id": 3764965, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5aIx2.jpg?s=128&g=1", "display_name": "Nikolas Charalambidis", "link": "https://stackoverflow.com/users/3764965/nikolas-charalambidis"}, "reply_to_user": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "edited": false, "score": 1, "creation_date": 1546461462, "post_id": 54012370, "comment_id": 94862536, "body": "Great! The best on answering questions is the fact I learn more. Thank you :)"}], "tags": [], "owner": {"reputation": 28591, "user_id": 3764965, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5aIx2.jpg?s=128&g=1", "display_name": "Nikolas Charalambidis", "link": "https://stackoverflow.com/users/3764965/nikolas-charalambidis"}, "is_accepted": false, "score": 2, "last_activity_date": 1546461423, "last_edit_date": 1546461423, "creation_date": 1546458945, "answer_id": 54012370, "question_id": 54010738, "link": "https://stackoverflow.com/questions/54010738/adding-two-lists-of-own-type/54012370#54012370", "title": "Adding two lists of own type", "body": "<p>There is a pretty direct way using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-\" rel=\"nofollow noreferrer\"><code>Collectors.groupingBy</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#reducing-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\"><code>Collectors.reducing</code></a> which <strong>doesnt</strong> require setters, which is the biggest advantage since you can keep the <code>User</code> <strong>immutable</strong>:</p>\n\n<pre><code>Collection&lt;Optional&lt;User&gt;&gt; d = Stream\n    .of(first, second)                    // start with Stream&lt;List&lt;User&gt;&gt; \n    .flatMap(List::stream)                // flatting to the Stream&lt;User&gt;\n    .collect(Collectors.groupingBy(       // Collecting to Map&lt;String, List&lt;User&gt;&gt;\n        User::getName,                    // by name (the key)\n                                          // and reducing the list into a single User\n\n        Collectors.reducing((l, r) -&gt; new User(l.getName(), l.getComments() + r.getComments()))))\n    .values();                            // return values from Map&lt;String, List&lt;User&gt;&gt;\n</code></pre>\n\n<p>Unfortunately, the result is <code>Collection&lt;Optional&lt;User&gt;&gt;</code> since the reducing pipeline returns <code>Optional</code> since the result might not be present after all. You can stream the values and use the <code>map()</code> to get rid of the <code>Optional</code> or use <code>Collectors.collectAndThen</code>*:</p>\n\n<pre><code>Collection&lt;User&gt; d = Stream\n    .of(first, second)                    // start with Stream&lt;List&lt;User&gt;&gt; \n    .flatMap(List::stream)                // flatting to the Stream&lt;User&gt;\n    .collect(Collectors.groupingBy(       // Collecting to Map&lt;String, List&lt;User&gt;&gt;       \n        User::getName,                    // by name (the key)\n        Collectors.collectingAndThen(     // reduce the list into a single User\n\n            Collectors.reducing((l, r) -&gt; new User(l.getName(), l.getComments() + r.getComments())), \n            Optional::get)))              // and extract from the Optional\n    .values();  \n</code></pre>\n\n<p><sup>* Thanks to @<a href=\"https://stackoverflow.com/users/5862071/aomine\">Aomine</a></sup></p>\n"}, {"tags": [], "owner": {"reputation": 103507, "user_id": 270371, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LSTUa.png?s=128&g=1", "display_name": "davidxxx", "link": "https://stackoverflow.com/users/270371/davidxxx"}, "is_accepted": false, "score": 2, "last_activity_date": 1546528885, "last_edit_date": 1546528885, "creation_date": 1546527770, "answer_id": 54024844, "question_id": 54010738, "link": "https://stackoverflow.com/questions/54010738/adding-two-lists-of-own-type/54024844#54024844", "title": "Adding two lists of own type", "body": "<p>As alternative fairly straight and efficient : </p>\n\n<ul>\n<li>stream the elements </li>\n<li>collect them into a <code>Map&lt;String, Integer&gt;</code> to associate each name to the sum of comments (<code>int</code>)</li>\n<li>stream the entries of the collected map to create the List of User.   </li>\n</ul>\n\n<p>Alternatively for the third step you could apply a finishing transformation to the <code>Map</code> collector with <code>collectingAndThen(groupingBy()..., m -&gt; ...</code> \nbut I don't find it always very readable and here we could do without.  </p>\n\n<p>It would give :</p>\n\n<pre><code>List&lt;User&gt; users =\n        Stream.concat(first.stream(), second.stream())\n              .collect(groupingBy(User::getName, summingInt(User::getComments)))\n              .entrySet()\n              .stream()\n              .map(e -&gt; new User(e.getKey(), e.getValue()))\n              .collect(toList());\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 10434349, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UPy4zl3nWwo/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUatHojUuwU2GoNohNjOnOSfQ2XoQ/mo/photo.jpg?sz=128", "display_name": "dingoKid", "link": "https://stackoverflow.com/users/10434349/dingokid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 1, "accepted_answer_id": 54010847, "answer_count": 4, "score": 5, "last_activity_date": 1587590588, "creation_date": 1546450570, "last_edit_date": 1587590588, "question_id": 54010738, "link": "https://stackoverflow.com/questions/54010738/adding-two-lists-of-own-type", "title": "Adding two lists of own type", "body": "<p>I have a simple <code>User</code> class with a <code>String</code> and an <code>int</code> property. </p>\n\n<p>I would like to add two Lists of users this way: </p>\n\n<ul>\n<li>if the String equals then the numbers should be added and that would be its new value.</li>\n<li>The new list should include all users with proper values.</li>\n</ul>\n\n<p>Like this:</p>\n\n<pre><code>List1: { [a:2], [b:3] }\nList2: { [b:4], [c:5] }\nResultList: {[a:2], [b:7], [c:5]}\n</code></pre>\n\n<p><code>User</code> definition:</p>\n\n<pre><code>public class User { \n    private String name;\n    private int comments;\n}\n</code></pre>\n\n<p>My method:</p>\n\n<pre><code>public List&lt;User&gt; addTwoList(List&lt;User&gt; first, List&lt;User&gt; sec) {\n    List&lt;User&gt; result = new ArrayList&lt;&gt;();\n    for (int i=0; i&lt;first.size(); i++) {\n        Boolean bsin = false;\n        Boolean isin = false;\n        for (int j=0; j&lt;sec.size(); j++) {\n            isin = false; \n            if (first.get(i).getName().equals(sec.get(j).getName())) {\n                int value= first.get(i).getComments() + sec.get(j).getComments();\n                result.add(new User(first.get(i).getName(), value));\n                isin = true;\n                bsin = true;\n            }\n            if (!isin) {result.add(sec.get(j));}\n        }\n        if (!bsin) {result.add(first.get(i));}\n    }\n    return result;      \n}\n</code></pre>\n\n<p>But it adds a whole lot of things to the list.</p>\n"}, {"tags": ["java", "arrays", "arraylist"], "comments": [{"owner": {"reputation": 107, "user_id": 10856104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da38f4f3bd291ef762607f3b22caaf5e?s=128&d=identicon&r=PG", "display_name": "Mathy Person", "link": "https://stackoverflow.com/users/10856104/mathy-person"}, "reply_to_user": {"reputation": 27610, "user_id": 85421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKvXH.gif?s=128&g=1", "display_name": "user85421", "link": "https://stackoverflow.com/users/85421/user85421"}, "edited": false, "score": 0, "creation_date": 1546452099, "post_id": 54010729, "comment_id": 94858797, "body": "@CarlosHeuberger Hello! I&#39;m able to keep the arrays at the same size by simply moving up each song to replace the one that was taken out. The one that was taken out will now be represented for by a &quot;null&quot; slot in the final spot of the array."}], "answers": [{"tags": [], "owner": {"reputation": 637, "user_id": 4692381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5987e748b7ea74525369ec51f4ea8848?s=128&d=identicon&r=PG&f=1", "display_name": "Stalemate Of Tuning", "link": "https://stackoverflow.com/users/4692381/stalemate-of-tuning"}, "is_accepted": true, "score": 2, "last_activity_date": 1546455749, "creation_date": 1546455749, "answer_id": 54011793, "question_id": 54010729, "link": "https://stackoverflow.com/questions/54010729/deleting-and-inserting-elements-into-an-array-of-song-titles/54011793#54011793", "title": "Deleting and inserting elements into an array of song titles", "body": "<p>I'm assuming you want to specifically use arrays so that you can get practice with for loops and what not. Otherwise, as @CarlosHeuberger pointed out using an <code>ArrayList</code> will be much easier.</p>\n\n<p>Let's go through what you have at the moment.</p>\n\n<pre><code>int chosenIndex = 0;\nfor (int i = 0; i &lt;topTenSongs.length; i ++) {\nif (topTenSongs[i].getTitle().equals(\"I Gotta Feeling\")==true){\nchosenIndex = i;}} \n</code></pre>\n\n<p>First of all, please try to use conventional java code styling so that your code is as easy as possible to follow. Indentation and bracket placement goes a long way toward readability, like this: </p>\n\n<pre><code>int chosenIndex = 0;\nfor (int i = 0; i &lt;topTenSongs.length; i ++) {\n    log.debug(topTenSongs[i].getTitle());\n    if (topTenSongs[i].getTitle().equals(\"I Gotta Feeling\")) {\n        chosenIndex = i;\n    }\n} \n</code></pre>\n\n<p>Note that I removed the <code>==true</code> portion of your if-statement since that is redundant. Otherwise, this correctly finds the index you wish to remove so nice job there.</p>\n\n<p>Let's look at the next part (again with corrected formatting):</p>\n\n<pre><code>for (int i = chosenIndex; i &lt; topTenSongs.length -1; i++) {\n    topTenSongs[i] = topTenSongs[i+1];\n    if(topTenSongs[i+1].getTitle().equals(\"Macarena (Bayside Boys Remix\")){\n        chosenIndex = i+1;\n        String iteration = topTenSongs[i+1].getTitle();\n    }\n}\n</code></pre>\n\n<p>To be honest I am not sure what you are trying to accomplish here. It <em>looks</em> like you want to shift all remaining songs to the left to fill in the gap, which is what you do at the beginning, but I have no idea what purpose the second part of the loop is. You are skipping the index if it matches a particular song, but what if you use a different array, where there is no song that matches \"Macarena\"? Try to avoid brittle coding like this, and make a solution that works with any data.</p>\n\n<p>You had the right idea, but you need to think it through a bit more. Let's think through how to do this. When we have chosen an index to remove, we want to then:</p>\n\n<ol>\n<li>Iterate over the list, starting with the <code>chosenIndex</code>,</li>\n<li>Replace the element at each index with the index of the next song...</li>\n<li>EXCEPT when we reach the end of the list, in which case we need to set that element to null</li>\n</ol>\n\n<p>Now, let's put it all together:</p>\n\n<pre><code>for (int i = chosenIndex; i &lt; topTenSongs.length; i++) {\n    if(i == topTenSongs.length-1) {\n        topTenSongs[i] = null; //set last element to null\n    } else {\n        topTenSongs[i] = topTenSongs[i+1];\n    }\n}\n</code></pre>\n\n<p>Now we have an array with your desired song removed, and the last element as a <code>null</code> to represent the empty slot. Do note that you will now need to check that each element is not <code>null</code> before calling <code>getTitle()</code> on them, or java will throw a <code>NullPointerException</code>. So, your print loop will have to look something like this: </p>\n\n<pre><code>for (int i = 0; i &lt; topTenSongs.length; i++) {\n    if(topTenSongs[i] != null) {\n        System.out.println(topTenSongs[i].getTitle());\n    } else {\n        System.out.println(\"null\");\n    }\n}\n</code></pre>\n\n<p>As an additional task to you, try to take this code and create a method you can call on any array of songs to remove a song with a specific title from it.</p>\n"}], "owner": {"reputation": 107, "user_id": 10856104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da38f4f3bd291ef762607f3b22caaf5e?s=128&d=identicon&r=PG", "display_name": "Mathy Person", "link": "https://stackoverflow.com/users/10856104/mathy-person"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 54011793, "answer_count": 1, "score": -2, "last_activity_date": 1546519412, "creation_date": 1546450550, "last_edit_date": 1546519412, "question_id": 54010729, "link": "https://stackoverflow.com/questions/54010729/deleting-and-inserting-elements-into-an-array-of-song-titles", "title": "Deleting and inserting elements into an array of song titles", "body": "<p>I'm learning how to teach myself to delete and insert elements in an array. Here is the array I'm working with, which is just a bunch of song titles: </p>\n\n<pre><code>public class Algorithms\n{\n\npublic static void main ()\n{Song[] topTenSongs = {new Song(\"The Twist\"), \n        new Song (\"Smooth\"),\n        new Song (\"Mack the Knife\"),\n        new Song (\"How Do I Live\"),\n        new Song (\"Party Rock Anthem\"),\n        new Song (\"I Gotta Feeling\"),\n        new Song (\"Macarena (Bayside Boys Mix)\"),\n        new Song (\"Physical\"),\n        new Song (\"You Light Up My Life\"),\n        new Song (\"Hey Jude\")\n    };\n\n    String[] tenSongNames = {\"The Twist\",\n        \"Smooth\",\n        \"Mack the Knife\",\n        \"How Do I Live\",\n        \"Party Rock Anthem\",\n        \"I Gotta Feeling\",\n        \"Macarena (Bayside Boys Mix)\",\n        \"Physical\",\n        \"You Light Up My Life\",\n        \"Hey Jude\"};\n\n\n    for (int i = 0; i &lt; topTenSongs.length; i++)\n    {topTenSongs [i].setTitle(tenSongNames[i]);\n        System.out.println(topTenSongs [i].getTitle());\n\n\n}\n</code></pre>\n\n<p>My goal is to create a for loop to iterate over the length of the songs array. I'm deleting the song title \"I Gotta Feeling\" from the middle of the array. I want to copy the next song in the array to the current location, and continue iterating, replacing the next song into the current location until I've reached the end of the array. Then, I want to write a new for loop to display the contents of my new, shorter song list (the last spot in the last index, 9, for the array should now say \"null\"). </p>\n\n<p>This is what I have so far. I'm confused with the whole iteration process where I can move the songs list up to an earlier index. </p>\n\n<pre><code>int chosenIndex = 0;\nfor (int i = 0; i &lt;topTenSongs.length; i ++) {\nif (topTenSongs[i].getTitle().equals(\"I Gotta Feeling\")==true){\nchosenIndex = i;}} \n\nfor (int i = chosenIndex; i &lt; topTenSongs.length -1; i++) {\ntopTenSongs[i] = topTenSongs[i+1];\nif(topTenSongs[i+1].getTitle().equals(\"Macarena (Bayside Boys Remix\")==true){\n    chosenIndex = i+1;\n    String iteration = topTenSongs[i+1].getTitle();}\n}\n\nfor (int i = 0; i&lt; topTenSongs.length; i++) {\nSystem.out.println(topTenSongs);\n}\n</code></pre>\n"}, {"tags": ["java", "apache-kafka", "confluent-schema-registry"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1546535453, "post_id": 54010711, "comment_id": 94889938, "body": "Creating a consumer will not get you all the schemas, it&#39;ll only be possible to get the schemas for the topic you&#39;ve assigned to the consumer"}, {"owner": {"reputation": 108, "user_id": 2626278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061da4c84ae44f522eae41115893e1e7?s=128&d=identicon&r=PG", "display_name": "belo", "link": "https://stackoverflow.com/users/2626278/belo"}, "edited": false, "score": 0, "creation_date": 1546550603, "post_id": 54010711, "comment_id": 94896326, "body": "Are there any errors in schema registry log? Do you get correct response when calling schema registry using curl - <code>curl http:&#47;&#47;localhost:8081&#47;subjects</code>?"}, {"owner": {"reputation": 778, "user_id": 9210263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2I8LA.jpg?s=128&g=1", "display_name": "LeYAUable", "link": "https://stackoverflow.com/users/9210263/leyauable"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1546787427, "post_id": 54010711, "comment_id": 94958760, "body": "@cricket_007 I am able to get every schema information without any further coding regarding consumer instantiation."}, {"owner": {"reputation": 778, "user_id": 9210263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2I8LA.jpg?s=128&g=1", "display_name": "LeYAUable", "link": "https://stackoverflow.com/users/9210263/leyauable"}, "reply_to_user": {"reputation": 108, "user_id": 2626278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061da4c84ae44f522eae41115893e1e7?s=128&d=identicon&r=PG", "display_name": "belo", "link": "https://stackoverflow.com/users/2626278/belo"}, "edited": false, "score": 0, "creation_date": 1546787456, "post_id": 54010711, "comment_id": 94958767, "body": "@belo Yes, I tested it on postman and it works just fine"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1546830035, "post_id": 54010711, "comment_id": 94969164, "body": "Sorry, I don&#39;t understand. Consumer doesn&#39;t communicate with the registry. The deserializer does. Again, the Consumer isn&#39;t needed to get the subjects or schemas (as shown below). Besides, you have not mentioned what version of the Clients or Kafka you are using. If you think this is really an error, feel free to post the issue on Schema Registry Github."}, {"owner": {"reputation": 778, "user_id": 9210263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2I8LA.jpg?s=128&g=1", "display_name": "LeYAUable", "link": "https://stackoverflow.com/users/9210263/leyauable"}, "edited": false, "score": 0, "creation_date": 1546859268, "post_id": 54010711, "comment_id": 94979203, "body": "Yes, I also find it weird precisely for the same reasons you just stated...it shouldn&#39;t be necessary but weirdly it is not working without it.  I&#39;ll further investigate."}], "answers": [{"comments": [{"owner": {"reputation": 778, "user_id": 9210263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2I8LA.jpg?s=128&g=1", "display_name": "LeYAUable", "link": "https://stackoverflow.com/users/9210263/leyauable"}, "edited": false, "score": 0, "creation_date": 1546511130, "post_id": 54013229, "comment_id": 94876742, "body": "Well, that was also my understanding, and was what I was doing in the code I posted (if you remove the instantiation and closing of the KafkaConsumer). But I get the error I referred."}], "tags": [], "owner": {"reputation": 17939, "user_id": 870483, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4c0cf09ba2aac169509746cf29a251a2?s=128&d=identicon&r=PG", "display_name": "Nishu Tayal", "link": "https://stackoverflow.com/users/870483/nishu-tayal"}, "is_accepted": false, "score": 2, "last_activity_date": 1546535496, "last_edit_date": 1546535496, "creation_date": 1546463401, "answer_id": 54013229, "question_id": 54010711, "link": "https://stackoverflow.com/questions/54010711/why-do-i-need-to-create-a-kafka-consumer-to-connect-to-schema-registry/54013229#54013229", "title": "Why do I need to create a Kafka Consumer to connect to Schema Registry?", "body": "<p>You don't have to create KafkaConsumer instance at all. Both are totally independent. </p>\n\n<p>If you just want to get all the subjects and schema from SchemaRegistry, just create an instance of CachedSchemaRegistryClient and call the related operation.</p>\n\n<p>Here is a working example : </p>\n\n<pre><code> private final static Map&lt;String, Schema&gt; schemas = new ConcurrentHashMap&lt;&gt;();\n protected static SchemaRegistryClient schemaRegistryClient;\n\n public static void main(String[] args) {\n       String registryUrl = \"http://localhost:8081\";\n        try {\n            schemaRegistryClient = new CachedSchemaRegistryClient(registryUrl, 30);\n            System.out.println(schemaRegistryClient);\n            Collection&lt;String&gt; subjects = schemaRegistryClient.getAllSubjects();\n            System.out.println(subjects);\n        } catch (Exception e){\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 778, "user_id": 9210263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2I8LA.jpg?s=128&g=1", "display_name": "LeYAUable", "link": "https://stackoverflow.com/users/9210263/leyauable"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546535496, "creation_date": 1546450402, "last_edit_date": 1546535404, "question_id": 54010711, "link": "https://stackoverflow.com/questions/54010711/why-do-i-need-to-create-a-kafka-consumer-to-connect-to-schema-registry", "title": "Why do I need to create a Kafka Consumer to connect to Schema Registry?", "body": "<p>Previous note: I am fairly new to Kafka.</p>\n\n<p>I am trying to get all schemas from the Schema Registry, but I am not being able to do so only with a schema registry client. \nIt only works if, prior to that, I instantiate a KafkaConsumer.</p>\n\n<p>Can't understand why.\nHere's the code (with the consumer in place).</p>\n\n<p>ConsumerConfig is just a class with all configurations needed. Including the Schema Registry URL.</p>\n\n<pre><code>Consumer&lt;String, String&gt;  consumer = new KafkaConsumer&lt;String, String&gt;(ConsumerConfig.get());\nCachedSchemaRegistryClient client = new CachedSchemaRegistryClient(ConsumerConfig.getSchemaRegistryURL(), 30);\nCollection&lt;String&gt; listOfSubjects = client.getAllSubjects();\nconsumer.close();\n</code></pre>\n\n<p>Without the consumer, i get: </p>\n\n<blockquote>\n  <p>io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException:\n  No content to map due to end-of-input</p>\n</blockquote>\n\n<p>With the consumer, everything works fine. \nI would like if someone could shine some light on why this happens, has I see no reason for me to need to connect to the actual Kafka Cluster via a consumer in order to access the Schema Registry that is on another endpoint.</p>\n"}, {"tags": ["java", "android", "xml"], "answers": [{"tags": [], "owner": {"reputation": 96, "user_id": 6472393, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-m1L-DkD6OzA/AAAAAAAAAAI/AAAAAAAAABA/glSbXG_ylZo/photo.jpg?sz=128", "display_name": "Aaron Dishman", "link": "https://stackoverflow.com/users/6472393/aaron-dishman"}, "is_accepted": false, "score": 0, "last_activity_date": 1546450503, "creation_date": 1546450503, "answer_id": 54010724, "question_id": 54010681, "link": "https://stackoverflow.com/questions/54010681/add-new-xml-element-to-existing-elements/54010724#54010724", "title": "add new xml element to existing elements", "body": "<p>If you want to add anything programmatically, you'd want to add widgets like an <code>EditText</code> by using a <code>LayoutInflator</code></p>\n\n<p>If you know what widgets you are going to have before hand, you want to define those in your XML before run time.</p>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 2890704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/622d1cc77cb4676bceb0c930e24b9f7d?s=128&d=identicon&r=PG&f=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/2890704/noah"}, "is_accepted": false, "score": 0, "last_activity_date": 1546451842, "creation_date": 1546451842, "answer_id": 54010994, "question_id": 54010681, "link": "https://stackoverflow.com/questions/54010681/add-new-xml-element-to-existing-elements/54010994#54010994", "title": "add new xml element to existing elements", "body": "<p>Unless these fields are going to be determined at runtime, it will likely be easiest to define them in XML, and set their visibility to GONE. You can also do this with a whole ViewGroup like LinearLayout, but here's what a single edit text will look like:</p>\n\n<pre><code>&lt;EditText\n    android:id=\"@+id/edittext\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:visibility=\"gone\" /&gt;\n</code></pre>\n\n<p>When the button click happens, set the visibility to VISIBLE.</p>\n\n<p>After the need is gone, you can change the visibility back to GONE, but the reference to it will still contain any text the user put in.</p>\n"}], "owner": {"reputation": 1, "user_id": 10858956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ef441a0b4919b285fb5b052a34d4468?s=128&d=identicon&r=PG&f=1", "display_name": "Akinon93", "link": "https://stackoverflow.com/users/10858956/akinon93"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1546452909, "creation_date": 1546450255, "last_edit_date": 1546452909, "question_id": 54010681, "link": "https://stackoverflow.com/questions/54010681/add-new-xml-element-to-existing-elements", "title": "add new xml element to existing elements", "body": "<p>so I'm trying to make my first android app.  First time programming in java, though I am used to C# which is similar.  Basically, in the app, there's a button, and when you click it it adds a few text fields for the person to fill out, which then once done will collapse to save space.</p>\n\n<p>What I'm struggling with is inserting new xml structures.  Everything I've found online seems either overly complicated, or permanently saves the xml file of the app, which I'm not looking to do.</p>\n\n<pre><code>var a = document.getElementById(\"id\");\na.innerHTML = \"&lt;objects&gt;&lt;/objects&gt;\";\n</code></pre>\n\n<p>that's what it would be, more or less, in javascript.  I'm just unsure where to start in java.  I saw about using the document/transformer objects but only saw ways to permanently save the xml file using them.</p>\n"}, {"tags": ["java", "aws-lambda"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 3654762, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7d306b70f217d8103a412897a5959523?s=128&d=identicon&r=PG&f=1", "display_name": "user3654762", "link": "https://stackoverflow.com/users/3654762/user3654762"}, "is_accepted": false, "score": 0, "last_activity_date": 1546451375, "creation_date": 1546451375, "answer_id": 54010904, "question_id": 54010574, "link": "https://stackoverflow.com/questions/54010574/static-constructor-java-aws-lambda-function-initialization-with-context-informat/54010904#54010904", "title": "Static/Constructor Java AWS Lambda function initialization with context information", "body": "<p>Truly, I am not bright today...</p>\n\n<p>Lambda environment variables are accessed just like any other variable...</p>\n\n<p>System.getenv(\"DAVETEST\")</p>\n"}], "owner": {"reputation": 31, "user_id": 3654762, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7d306b70f217d8103a412897a5959523?s=128&d=identicon&r=PG&f=1", "display_name": "user3654762", "link": "https://stackoverflow.com/users/3654762/user3654762"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 293, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546451375, "creation_date": 1546449665, "question_id": 54010574, "link": "https://stackoverflow.com/questions/54010574/static-constructor-java-aws-lambda-function-initialization-with-context-informat", "title": "Static/Constructor Java AWS Lambda function initialization with context information", "body": "<p>I have a lambda, written in Java that accesses a Neo4J instance (could be literally almost any external resource though).  I can make this work in a rough fashion readily enough, but I would ideally like to:</p>\n\n<p>a) Create a singleton driver instance either statically or via the constructor\nAND\nb) Use environment variables to inject credentials/endpoints etc</p>\n\n<p>Is there any static way of accessing environment variables during class construction?</p>\n\n<p>Am I stuck with an \"if driver == null\" initialization at the start of every request, or am I missing something important?</p>\n\n<p>Dave</p>\n"}, {"tags": ["java", "unicode", "character-encoding", "aix"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 10858863, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hn4TVRh3hXI/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaZ44f8iJ4Bpfwi5Rf2miH0LLGRkg/mo/photo.jpg?sz=128", "display_name": "Hugo Santillan", "link": "https://stackoverflow.com/users/10858863/hugo-santillan"}, "edited": false, "score": 0, "creation_date": 1546458555, "post_id": 54011074, "comment_id": 94861405, "body": "Great. It works!  I just compiled using the encoding parameter. Thanks a lot Lorinczy."}], "tags": [], "owner": {"reputation": 1339, "user_id": 2141064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c56d69ec8f5e469a8c6ca22d60271e9b?s=128&d=identicon&r=PG", "display_name": "Lorinczy Zsigmond", "link": "https://stackoverflow.com/users/2141064/lorinczy-zsigmond"}, "is_accepted": true, "score": 0, "last_activity_date": 1546452229, "creation_date": 1546452229, "answer_id": 54011074, "question_id": 54010447, "link": "https://stackoverflow.com/questions/54010447/getting-different-result-from-aix-java-code-reading-special-chars/54011074#54011074", "title": "Getting different result from AIX java code reading special chars", "body": "<p>It's not AIX-specific: the compiler assumes that the input is in ISO-8859-x, but it is actually in UTF-8</p>\n\n<p>Possible solutions:</p>\n\n<pre><code>#1: LC_CTYPE=en_US.UTF-8 javac TestChars.java\n#2: javac -encoding UTF-8 TestChars.java\n</code></pre>\n\n<p>Also you can use \\u sequences in the source:</p>\n\n<pre><code>String s = \"\\u2026\";\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 10858863, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hn4TVRh3hXI/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaZ44f8iJ4Bpfwi5Rf2miH0LLGRkg/mo/photo.jpg?sz=128", "display_name": "Hugo Santillan", "link": "https://stackoverflow.com/users/10858863/hugo-santillan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 54011074, "answer_count": 1, "score": 0, "last_activity_date": 1546452229, "creation_date": 1546449085, "last_edit_date": 1546451092, "question_id": 54010447, "link": "https://stackoverflow.com/questions/54010447/getting-different-result-from-aix-java-code-reading-special-chars", "title": "Getting different result from AIX java code reading special chars", "body": "<p>I am getting different result running my java code from AIX.</p>\n\n<pre><code>public class TestChars {\n\n    public static void main(String[] args) {\n        String s = \"\u2026\";\n        for(char c: s.toCharArray())\n            System.out.println(\" Character Name : \" + Character.getName(c) + \" Simbol : '\"+c+\"' Code : \" + Integer.toHexString((int)c));\n    }\n}\n</code></pre>\n\n<p><strong>AIX:</strong></p>\n\n<pre><code>Character Name : LATIN SMALL LETTER A WITH CIRCUMFLEX Simbol : '?' Code : e2\nCharacter Name : LATIN 1 SUPPLEMENT 80 Simbol : '?' Code : 80\nCharacter Name : BROKEN BAR Simbol : '?' Code : a6\n</code></pre>\n\n<p><strong>But here is the expected result:</strong></p>\n\n<pre><code>Character Name : HORIZONTAL ELLIPSIS Simbol : '\u2026' Code : 2026\n</code></pre>\n\n<p>I'm still unclear where the problem is or what is needed to make ibm java version from aix give the expected result.</p>\n"}, {"tags": ["java", "arrays", "dictionary"], "comments": [{"owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 1, "creation_date": 1546448840, "post_id": 54010351, "comment_id": 94857466, "body": "You loop around all the entries (1 -&gt; AB and 2 -&gt; BBA), print the key (1 and 2) and then write that key to every index of an array that is never read. What&#39;s confusing you about it?"}, {"owner": {"reputation": 5397, "user_id": 2193020, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/aa10d01a3d48851073bd61877a56b5a7?s=128&d=identicon&r=PG", "display_name": "hnefatl", "link": "https://stackoverflow.com/users/2193020/hnefatl"}, "edited": false, "score": 1, "creation_date": 1546448849, "post_id": 54010351, "comment_id": 94857471, "body": "For each element in the map, you&#39;re iterating over the entire array and setting each index in it to the value."}], "answers": [{"comments": [{"owner": {"reputation": 356, "user_id": 10728774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5139c40913dee3407ac6186e7371169c?s=128&d=identicon&r=PG&f=1", "display_name": "Reddi", "link": "https://stackoverflow.com/users/10728774/reddi"}, "edited": false, "score": 0, "creation_date": 1546449218, "post_id": 54010413, "comment_id": 94857626, "body": "Thank you for explaining this to me."}], "tags": [], "owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "is_accepted": true, "score": 1, "last_activity_date": 1546448940, "creation_date": 1546448940, "answer_id": 54010413, "question_id": 54010351, "link": "https://stackoverflow.com/questions/54010351/how-to-save-integers-from-map-to-using-the-for-loop/54010413#54010413", "title": "How to save integers from map to using the for loop", "body": "<p>In each iteration of the loop you overwrite the entire array. You could instead save the array's index outside the loop and use it to update the array:</p>\n\n<pre><code>int index = 0;\nfor (Integer val: fooMap.keySet()) {\n    arrayOfIntegers[index] = val;\n    ++index;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 182, "user_id": 10567513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MEsXf.jpg?s=128&g=1", "display_name": "Morpheus", "link": "https://stackoverflow.com/users/10567513/morpheus"}, "is_accepted": false, "score": 0, "last_activity_date": 1546449925, "creation_date": 1546449925, "answer_id": 54010618, "question_id": 54010351, "link": "https://stackoverflow.com/questions/54010351/how-to-save-integers-from-map-to-using-the-for-loop/54010618#54010618", "title": "How to save integers from map to using the for loop", "body": "<p>You can use streams:</p>\n\n<pre><code>int[] arrayOfIntegers = fooMap.keySet().stream()\n                              .mapToInt(k-&gt;k).toArray();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17, "user_id": 5770452, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/44943426735b10342cd812a817bce9b5?s=128&d=identicon&r=PG&f=1", "display_name": "Ashok", "link": "https://stackoverflow.com/users/5770452/ashok"}, "is_accepted": false, "score": 0, "last_activity_date": 1546452610, "creation_date": 1546452610, "answer_id": 54011159, "question_id": 54010351, "link": "https://stackoverflow.com/questions/54010351/how-to-save-integers-from-map-to-using-the-for-loop/54011159#54011159", "title": "How to save integers from map to using the for loop", "body": "<pre><code>import java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class stack1 {\n public static void main(String[] args) {\n     Map&lt;Integer, String&gt; fooMap = new HashMap&lt;&gt;();\n     fooMap.put(1, \"AB\");\n     fooMap.put(2, \"BBA\");\n\n     int memoryAllocated = 10;\n     int[] arrayOfIntegers = new int[memoryAllocated];\n     int pos =0;\n\n     for (Map.Entry&lt;Integer, String&gt; values : fooMap.entrySet()) {\n         int val = values.getKey();\n         arrayOfIntegers[pos]=val;\n         pos =pos+1;\n     }\n\n     while(pos &lt; memoryAllocated){\n         arrayOfIntegers[pos]=0;\n         pos = pos+1;\n     }\n\n     System.out.println(\"Arrays : \"+Arrays.toString(arrayOfIntegers));\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 356, "user_id": 10728774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5139c40913dee3407ac6186e7371169c?s=128&d=identicon&r=PG&f=1", "display_name": "Reddi", "link": "https://stackoverflow.com/users/10728774/reddi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 54010413, "answer_count": 3, "score": 0, "last_activity_date": 1546452610, "creation_date": 1546448691, "last_edit_date": 1546449341, "question_id": 54010351, "link": "https://stackoverflow.com/questions/54010351/how-to-save-integers-from-map-to-using-the-for-loop", "title": "How to save integers from map to using the for loop", "body": "<p>I have a question to you, I am trying to save integers from map to an array using for loop. This example below is not working as I wanted, because when I display that array of ints it only have '2' for 10 elements, but I wanted to get [1,2,0,0,0,0...], what should be changed in that code?</p>\n\n<pre><code>Map&lt;Integer, String&gt; fooMap = new HashMap&lt;&gt;();\nfooMap.put(1, \"AB\");\nfooMap.put(2, \"BBA\");\n\nint[] arrayOfIntegers = new int[10];\n\nfor (Map.Entry&lt;Integer, String&gt; values : fooMap.entrySet()) {\n    int val = values.getKey();\n    System.out.println(val);\n    for (int index = 0; index &lt; arrayOfIntegers.length; index++) {\n        arrayOfIntegers[index] = val;\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "selenium"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10858820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4942c6fd693ffe5185a66839b52fde29?s=128&d=identicon&r=PG&f=1", "display_name": "VanNess", "link": "https://stackoverflow.com/users/10858820/vanness"}, "edited": false, "score": 0, "creation_date": 1546503886, "post_id": 54010578, "comment_id": 94873467, "body": "Hi, thank you for your answer! I tried all of them but I still get NoSuchElementException. I also tried before to switch frames as this was earlier a reason for not location an element. But this also does not make any diffenrence. Is there maybe another way to read the text on the page? I am quite new to selenium."}, {"owner": {"reputation": 11, "user_id": 10858820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4942c6fd693ffe5185a66839b52fde29?s=128&d=identicon&r=PG&f=1", "display_name": "VanNess", "link": "https://stackoverflow.com/users/10858820/vanness"}, "edited": false, "score": 0, "creation_date": 1546504838, "post_id": 54010578, "comment_id": 94873816, "body": "Btw when I use the class name to locate the element I get a WebDriverException: TypeError: can&#39;t access dead object."}, {"owner": {"reputation": 11, "user_id": 10858820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4942c6fd693ffe5185a66839b52fde29?s=128&d=identicon&r=PG&f=1", "display_name": "VanNess", "link": "https://stackoverflow.com/users/10858820/vanness"}, "edited": false, "score": 0, "creation_date": 1546511700, "post_id": 54010578, "comment_id": 94877063, "body": "This seems to be a specific problem in firefox. with chrome it works with the css-selector (.alert.alert-danger.fade.in). But as I need to run all my tests also in firefox I am still interessted in a solution. Thanks everyone whos helping!"}, {"owner": {"reputation": 71, "user_id": 10707581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba100629482f46710e1783d0a653ba48?s=128&d=identicon&r=PG&f=1", "display_name": "Dexterous Sikh", "link": "https://stackoverflow.com/users/10707581/dexterous-sikh"}, "reply_to_user": {"reputation": 11, "user_id": 10858820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4942c6fd693ffe5185a66839b52fde29?s=128&d=identicon&r=PG&f=1", "display_name": "VanNess", "link": "https://stackoverflow.com/users/10858820/vanness"}, "edited": false, "score": 0, "creation_date": 1546535202, "post_id": 54010578, "comment_id": 94889823, "body": "We can look into this issue on a call. Can you please share your Skype Id"}, {"owner": {"reputation": 11, "user_id": 10858820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4942c6fd693ffe5185a66839b52fde29?s=128&d=identicon&r=PG&f=1", "display_name": "VanNess", "link": "https://stackoverflow.com/users/10858820/vanness"}, "edited": false, "score": 0, "creation_date": 1546599353, "post_id": 54010578, "comment_id": 94910306, "body": "Thank you for your help. I just solved the problem by switching frame to defaultContent and back."}], "tags": [], "owner": {"reputation": 71, "user_id": 10707581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba100629482f46710e1783d0a653ba48?s=128&d=identicon&r=PG&f=1", "display_name": "Dexterous Sikh", "link": "https://stackoverflow.com/users/10707581/dexterous-sikh"}, "is_accepted": false, "score": 0, "last_activity_date": 1546449690, "creation_date": 1546449690, "answer_id": 54010578, "question_id": 54010327, "link": "https://stackoverflow.com/questions/54010327/unable-to-locate-element-with-class-name-xpath-or-css-selector/54010578#54010578", "title": "Unable to locate element with class name, xpath or CSS selector", "body": "<p>Can you please try following locators:</p>\n\n<pre><code>CSS Selector: div[class='alert alert-danger fade in']\nCSS Selector: .alert.alert-danger.fade.in\nXPATH: //button[@class='close']/parent::div\nXPATH: //button[@class='close']/../div[@class='alert alert-danger fade in']\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10858820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4942c6fd693ffe5185a66839b52fde29?s=128&d=identicon&r=PG&f=1", "display_name": "VanNess", "link": "https://stackoverflow.com/users/10858820/vanness"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546449690, "creation_date": 1546448626, "last_edit_date": 1546448968, "question_id": 54010327, "link": "https://stackoverflow.com/questions/54010327/unable-to-locate-element-with-class-name-xpath-or-css-selector", "title": "Unable to locate element with class name, xpath or CSS selector", "body": "<p>I do have a quite simple testcase by now and I am trying to test failture notices. But I am unable to find the element to check for the text. Tried with xpath, class name and css selector with no success. \nHere is part of the HTML:</p>\n\n<pre><code>&lt;div class=\"alert alert-danger fade in\"&gt;\n  &lt;button data-dismiss=\"alert\" class=\"close\"&gt;\u00d7&lt;/button&gt;\n  &lt;i class=\"fa-fw fa fa-times\"&gt;&lt;/i&gt;\n  Bitte f\u00fcllen Sie das Pflichtfeld &lt;b&gt;Name der Veranstaltung&lt;/b&gt; korrekt aus.\n  &lt;br&gt;Bitte f\u00fcllen Sie das Pflichtfeld &lt;b&gt;Veranstaltungsdatum / -beginn&lt;/b&gt; korrekt aus.\n  &lt;br&gt;Bitte f\u00fcllen Sie das Pflichtfeld &lt;b&gt;Veranstaltungsende&lt;/b&gt; korrekt aus.\n  &lt;br&gt;Bitte f\u00fcllen Sie das Pflichtfeld &lt;b&gt;Projektstatus&lt;/b&gt; korrekt aus.\n  &lt;br&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is how my attributes look:</p>\n\n<pre><code>alert.klasse = \"alert alert-danger fade in\";\nalert.xpath = \"/html/body/div[2]/div/div[2]/form/div/div[4]\";\nalert.cssSelector = \".alert\";\n</code></pre>\n\n<p>None of them work and the element does not have an ID to search for.</p>\n\n<p>Stack trace:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread \"main\" org.openqa.selenium.NoSuchElementException: Unable to locate element: /html/body/div[2]/div/div[2]/form/div/div[4]\n\nBuild info: version: '3.141.5', revision: 'd54ebd709a', time: '2018-11-06T11:58:41'\nSystem info: host: 'PC2139', ip: '192.168.125.76', os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1', java.version: '1.8.0_191'\nDriver info: org.openqa.selenium.firefox.FirefoxDriver\nCapabilities {acceptInsecureCerts: true, browserName: firefox, browserVersion: 62.0.3, javascriptEnabled: true, moz:accessibilityChecks: false, moz:geckodriverVersion: 0.23.0, moz:headless: false, moz:processID: 7664, moz:profile: C:\\Users\\Sanchez\\AppData\\Lo..., moz:useNonSpecCompliantPointerOrigin: false, moz:webdriverClick: true, pageLoadStrategy: normal, platform: XP, platformName: XP, platformVersion: 6.1, rotatable: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}}\nSession ID: 1601fc80-f5fa-4c87-8eec-0b2d5a87ddf5\n*** Element info: {Using=xpath, value=/html/body/div[2]/div/div[2]/form/div/div[4]/i}\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:323)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElementByXPath(RemoteWebDriver.java:428)\n    at org.openqa.selenium.By$ByXPath.findElement(By.java:353)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:315)\n    at Elements.vfCP_element_alert.findElement(vfCP_element_alert.java:14)\n    at test.veranstaltung.vfCP_VAanlegenBundle.VA_anlegen(vfCP_VAanlegenBundle.java:65)\n    at Testcase_VAPflichtfelder.main(Testcase_VAPflichtfelder.java:35)\n</code></pre>\n"}, {"tags": ["javascript", "java", "html", "jsp"], "comments": [{"owner": {"reputation": 182833, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 1, "creation_date": 1546448529, "post_id": 54010295, "comment_id": 94857326, "body": "<i>can i use js variables to call java methods in jsp?</i> No."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1546448534, "post_id": 54010295, "comment_id": 94857329, "body": "JSP runs on your server system. JavaScript runs on the client browser."}, {"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 1, "creation_date": 1546448983, "post_id": 54010295, "comment_id": 94857525, "body": "And embedded Java code like this, called <i>scriptlets</i>, has been discouraged for 15+ years."}, {"owner": {"reputation": 21, "user_id": 7691431, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YDgiwwbfbEE/AAAAAAAAAAI/AAAAAAAAAQI/tZhuNZx--m8/photo.jpg?sz=128", "display_name": "Gaurav Goswami", "link": "https://stackoverflow.com/users/7691431/gaurav-goswami"}, "edited": false, "score": 0, "creation_date": 1546449880, "post_id": 54010295, "comment_id": 94857886, "body": "any other idea about how to do this, like I want to use the input data from the same page to call a Java method"}, {"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 1, "creation_date": 1546452097, "post_id": 54010295, "comment_id": 94858794, "body": "You make an AJAX call."}, {"owner": {"reputation": 21, "user_id": 7691431, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YDgiwwbfbEE/AAAAAAAAAAI/AAAAAAAAAQI/tZhuNZx--m8/photo.jpg?sz=128", "display_name": "Gaurav Goswami", "link": "https://stackoverflow.com/users/7691431/gaurav-goswami"}, "edited": false, "score": 0, "creation_date": 1546454713, "post_id": 54010295, "comment_id": 94859811, "body": "I&#39;ve used this AJAX call, but it shows some parentheses missing after arguments list, I just can&#39;t find the culprit:   var port = $(&quot;#portNumber&quot;).val();                     $.get(&quot;serverServlet&quot;,{portNum:port},function(response){                         $(&quot;#logs&quot;).append(response);                     });"}], "owner": {"reputation": 21, "user_id": 7691431, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YDgiwwbfbEE/AAAAAAAAAAI/AAAAAAAAAQI/tZhuNZx--m8/photo.jpg?sz=128", "display_name": "Gaurav Goswami", "link": "https://stackoverflow.com/users/7691431/gaurav-goswami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546448466, "creation_date": 1546448466, "question_id": 54010295, "link": "https://stackoverflow.com/questions/54010295/can-i-use-js-variables-to-call-java-methods-in-jsp", "title": "can i use js variables to call java methods in jsp?", "body": "<p>I want to use the user input to call some java methods in JSP page, I've done it like this, but got HTTP Status 500 Error on Apache Tomcat Server. Can anyone please explain this:</p>\n\n<pre><code>            if($('#portNumber').val().length&lt;4)\n            {\n                $('#error').text(\"Invalid port number.\");\n                $('#errorMsg').css(\"display\",\"block\");\n                $('#errorMsg').show().fadeOut(1800);\n            }\n            else\n            {\n                &lt;%\n                    try\n                    {\n                        ServerSocket serv = new ServerSocket(%&gt;$('#portNumber').val()&lt;%);\n                    }\n                    catch(IOException e)\n                    {\n                        out.append(\"$('error').text('Exception: ');\");\n                    }\n                %&gt;\n            }\n</code></pre>\n"}, {"tags": ["java", "rest", "ejb-3.0", "ejb-3.1", "websphere-8"], "comments": [{"owner": {"reputation": 944, "user_id": 3058832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3y3CE.jpg?s=128&g=1", "display_name": "dgebert", "link": "https://stackoverflow.com/users/3058832/dgebert"}, "edited": false, "score": 0, "creation_date": 1546448631, "post_id": 54010277, "comment_id": 94857369, "body": "Do you have a <code>@Path</code> annotation on your class which extends Application?"}, {"owner": {"reputation": 15, "user_id": 1312336, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6a222c23ca08b0dff767cb26207a7f9d?s=128&d=identicon&r=PG", "display_name": "Vikram", "link": "https://stackoverflow.com/users/1312336/vikram"}, "reply_to_user": {"reputation": 944, "user_id": 3058832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3y3CE.jpg?s=128&g=1", "display_name": "dgebert", "link": "https://stackoverflow.com/users/3058832/dgebert"}, "edited": false, "score": 0, "creation_date": 1546449702, "post_id": 54010277, "comment_id": 94857811, "body": "Since I am providing the Application related mapping in web.xml, I am not sure if we need the ApplicationPath annotation on the class which is extending again. The Restful Service is getting called fine, except throws a NullPointer while initiating the class under @EJB annotation."}, {"owner": {"reputation": 2390, "user_id": 1425331, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/39337688305c56384b8c66bf92a45df0?s=128&d=identicon&r=PG", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/1425331/jimmy"}, "edited": false, "score": 0, "creation_date": 1546450497, "post_id": 54010277, "comment_id": 94858143, "body": "what is the value of version in web.xml root ?"}, {"owner": {"reputation": 15, "user_id": 1312336, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6a222c23ca08b0dff767cb26207a7f9d?s=128&d=identicon&r=PG", "display_name": "Vikram", "link": "https://stackoverflow.com/users/1312336/vikram"}, "reply_to_user": {"reputation": 2390, "user_id": 1425331, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/39337688305c56384b8c66bf92a45df0?s=128&d=identicon&r=PG", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/1425331/jimmy"}, "edited": false, "score": 0, "creation_date": 1546452921, "post_id": 54010277, "comment_id": 94859122, "body": "@Jimmy : &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;web-app version=&quot;2.5&quot; xmlns=&quot;<a href=\"http://java.sun.com/xml/ns/javaee\" rel=\"nofollow noreferrer\">java.sun.com/xml/ns/javaee</a>&quot; \txmlns:xsi=&quot;<a href=\"http://www.w3.org/2001/XMLSchema-instance\" rel=\"nofollow noreferrer\">w3.org/2001/XMLSchema-instance</a>&quot; \txsi:schemaLocation=&quot;<a href=\"http://java.sun.com/xml/ns/javaee\" rel=\"nofollow noreferrer\">java.sun.com/xml/ns/javaee</a> <a href=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" rel=\"nofollow noreferrer\">java.sun.com/xml/ns/javaee/web-app_2_5.xsd</a>&quot; \tid=&quot;WebApp_ID&quot;&gt;"}, {"owner": {"reputation": 1083, "user_id": 6575578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XqdwZ.jpg?s=128&g=1", "display_name": "Andy McCright", "link": "https://stackoverflow.com/users/6575578/andy-mccright"}, "edited": false, "score": 0, "creation_date": 1546484247, "post_id": 54010277, "comment_id": 94868452, "body": "I think the version in use is an issue.  The web app version should probably be 3.0 or 3.1 in order to use the appropriate level of JAX-RS support.  What WAS version are you using?  The tag says WAS 8 - if that is the case, there is no support of JAX-RS resources as EJBs (and it is out of support).  If you are using WAS 8.5.5 or 9, it would be worth updating the web-app version."}, {"owner": {"reputation": 15, "user_id": 1312336, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6a222c23ca08b0dff767cb26207a7f9d?s=128&d=identicon&r=PG", "display_name": "Vikram", "link": "https://stackoverflow.com/users/1312336/vikram"}, "edited": false, "score": 0, "creation_date": 1546546584, "post_id": 54010277, "comment_id": 94894698, "body": "I am using WAS 8.5.5 and had tried with version 3.0 but no success."}, {"owner": {"reputation": 1083, "user_id": 6575578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XqdwZ.jpg?s=128&g=1", "display_name": "Andy McCright", "link": "https://stackoverflow.com/users/6575578/andy-mccright"}, "edited": false, "score": 0, "creation_date": 1546558193, "post_id": 54010277, "comment_id": 94898751, "body": "You might be using the JAX-RS 2.0 approach to JAX-RS/EJB integration.  From this page ( <a href=\"https://www.ibm.com/support/knowledgecenter/en/SSAW57_8.5.5/com.ibm.websphere.nd.multiplatform.doc/ae/twbs_jaxrs_ejb_localinterface.html\" rel=\"nofollow noreferrer\">ibm.com/support/knowledgecenter/en/SSAW57_8.5.5/&hellip;</a> ), it looks like you should put your JAX-RS annotations on the EJB local interface rather than the bean class directly.  IIRC, in WAS v9 and Liberty, your approach of putting the JAX-RS annotations on the bean class should work.  Can you try putting the <code>@Path</code>, <code>@POST</code>, <code>@Consumes</code>, etc annotations on the local interface? HTH"}, {"owner": {"reputation": 15, "user_id": 1312336, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6a222c23ca08b0dff767cb26207a7f9d?s=128&d=identicon&r=PG", "display_name": "Vikram", "link": "https://stackoverflow.com/users/1312336/vikram"}, "edited": false, "score": 0, "creation_date": 1546635455, "post_id": 54010277, "comment_id": 94927394, "body": "I was referring to <a href=\"https://www.ibm.com/support/knowledgecenter/en/SSAW57_8.5.5/com.ibm.websphere.nd.multiplatform.doc/ae/twbs_jaxrs_ejb_nointerface.html\" rel=\"nofollow noreferrer\">this</a> article which targets the no-interface implementation. Make me wonder which one I should be using."}, {"owner": {"reputation": 15, "user_id": 1312336, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6a222c23ca08b0dff767cb26207a7f9d?s=128&d=identicon&r=PG", "display_name": "Vikram", "link": "https://stackoverflow.com/users/1312336/vikram"}, "edited": false, "score": 0, "creation_date": 1546635834, "post_id": 54010277, "comment_id": 94927555, "body": "Are you saying WAS 8.5.5 does not support the JAX-RS annotations on bean class and that&#39;s the reason @EJB will not work and I would get null reference to my object? Thanks!"}, {"owner": {"reputation": 1083, "user_id": 6575578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XqdwZ.jpg?s=128&g=1", "display_name": "Andy McCright", "link": "https://stackoverflow.com/users/6575578/andy-mccright"}, "edited": false, "score": 0, "creation_date": 1546880057, "post_id": 54010277, "comment_id": 94990519, "body": "@Vikram, yes, that&#39;s my guess. The article you listed shows a no-interface view of the EJB - so in essence, the annotations on the bean class are on the EJB interface. But in your code, you are using a separate Local interface for the EJB.  And IIUC, WAS 8.5.5 is expecting the annotations to be on the interface.  Can you try moving the <code>@Path</code>, <code>@POST</code>, and <code>@Consumes</code> annotations from the bean class to the <code>IMyFacade</code> interface and see if that works?  Alternatively, you could try removing the <code>IMyFacade</code> interface entirely and adding the <code>@LocalBean</code> annotation to the <code>MyFacade</code> bean class."}], "owner": {"reputation": 15, "user_id": 1312336, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6a222c23ca08b0dff767cb26207a7f9d?s=128&d=identicon&r=PG", "display_name": "Vikram", "link": "https://stackoverflow.com/users/1312336/vikram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1546450927, "creation_date": 1546448387, "last_edit_date": 1546450927, "question_id": 54010277, "link": "https://stackoverflow.com/questions/54010277/ejb-annotation-is-not-working-with-restful-services", "title": "EJB annotation is not working with Restful Services", "body": "<p>I went though a few question related to this on Stackoverflow and implemented my code the same way but still the @EJB annotation is not working for me when I use it from Restful Services.\n1. <a href=\"https://stackoverflow.com/questions/22022019/ejb-injection-into-restful-service-nullpointerexception?noredirect=1&amp;lq=1\">EJB injection into Restful service (NullPointerException)</a>\n2. <a href=\"https://stackoverflow.com/questions/16914671/cant-inject-bean-class-into-restfull-webservice-jax-rs?noredirect=1&amp;lq=1\">Cant inject Bean class into Restfull WebService (JAX-RS)</a></p>\n\n<p>I am using websphere application server to deploy the EAR and calling the rest service from a simple main class.\nIn below code, I am expecting the myService to initialize but instead it throws a NullPointerException.</p>\n\n<p><strong>Below is my sample Resource class:</strong></p>\n\n<pre><code> @Path(value = \"/addresses\")\n @Stateless(name = \"MyFacade\")\n public class MyFacade implements IMyFacade {\n\n    @EJB\n    private IMyService myService;\n\n    @Override\n    @POST\n    @Path(\"/postReq\")\n    @Consumes(\"application/json\")\n    public Response myMethod(RequestDTO  requestDTO) {\n        Long docId = myService.generate(requestDTO);\n        return Response.status(201).entity(docId).build();\n    }\n }\n</code></pre>\n\n<p><strong>Interface:</strong></p>\n\n<pre><code>@Local\npublic interface IMyFacade {\n\n    public Response myMethod(RequestDTO requestDTO);\n\n}\n</code></pre>\n\n<p><strong>Application extension:</strong></p>\n\n<pre><code>public class UtilitiesApplication extends Application {\n\n    @Override\n    public Set&lt;Class&lt; ? &gt;&gt; getClasses() {\n        Set&lt;Class&lt; ? &gt;&gt; classes = new HashSet&lt;Class&lt; ? &gt;&gt;();\n        classes.add(MyFacade.class);\n        return classes;\n    }\n\n}\n</code></pre>\n\n<p><strong>Service class:</strong></p>\n\n<pre><code>@Stateless\npublic class MyService implements IMyService {\n\n    //Implementation of generate() method.\n}\n</code></pre>\n\n<p><strong>Web.xml Entry</strong></p>\n\n<pre><code>&lt;servlet&gt;\n        &lt;description&gt;\n        JAX-RS Tools Generated - Do not modify&lt;/description&gt;\n        &lt;servlet-name&gt;my.facades.MyFacade&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.ibm.websphere.jaxrs.server.IBMRestServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n            &lt;param-value&gt;my.facades.UtilitiesApplication&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;        \n    &lt;/servlet&gt;  \n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;my.facades.MyFacade&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/MyWS/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>Please help me understand what I may be doing wrong. Let me know if any other information is needed.\nThanks!</p>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 4505, "user_id": 4417306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc90fc44a31eb2bdc442686e75a1a4dd?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4417306/mark"}, "edited": false, "score": 0, "creation_date": 1546448528, "post_id": 54010275, "comment_id": 94857325, "body": "Since <code>personneImpl</code> already implements <code>personne</code> you do not have to add that again to <code>adminImpl</code> if it extends <code>personneImpl</code>"}, {"owner": {"reputation": 10618, "user_id": 2018133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e3fd4734236360fc59fa597dc8f9ffa7?s=128&d=identicon&r=PG", "display_name": "Geert Bellekens", "link": "https://stackoverflow.com/users/2018133/geert-bellekens"}, "edited": false, "score": 0, "creation_date": 1546500000, "post_id": 54010275, "comment_id": 94872089, "body": "Really? A picture of a hand-draw diagram on a napkin?"}], "answers": [{"tags": [], "owner": {"reputation": 30989, "user_id": 3379653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f97JZ.png?s=128&g=1", "display_name": "qwerty_so", "link": "https://stackoverflow.com/users/3379653/qwerty-so"}, "is_accepted": false, "score": 1, "last_activity_date": 1546448875, "creation_date": 1546448875, "answer_id": 54010395, "question_id": 54010275, "link": "https://stackoverflow.com/questions/54010275/java-extend-and-implements/54010395#54010395", "title": "java extend and implements", "body": "<p>No, that's not correct. An <code>extends</code> relation is used between <code>stereotype</code> and <code>metatype</code> in a profile definition. See p. 262 of the UML 2.5 specs. This connector shall have a solid triangle at the end. What can be seen from your drawing it is an association with a name <code>Extends</code>. That would result in an attribute within <code>PersonneImp</code>. An <code>&lt;&lt;extends&gt;&gt;</code> stereotyped connector is used only between <code>UseCases</code>.</p>\n\n<p>What you probably intend to show (with respect to the 2nd code example) is a <code>Generalization</code> which is the equivalent to a Java <code>extend</code> keyword. That would have a hollow triangle where the arrow is now and have no label.</p>\n"}, {"tags": [], "owner": {"reputation": 31685, "user_id": 2458991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WWDzI.jpg?s=128&g=1", "display_name": "bruno", "link": "https://stackoverflow.com/users/2458991/bruno"}, "is_accepted": false, "score": 1, "last_activity_date": 1546461726, "last_edit_date": 1546461726, "creation_date": 1546455786, "answer_id": 54011803, "question_id": 54010275, "link": "https://stackoverflow.com/questions/54010275/java-extend-and-implements/54011803#54011803", "title": "java extend and implements", "body": "<p>To complete the previous answer if we have \"class A extend B implement I {...}\" in Java, in the diagram we have </p>\n\n<p><a href=\"https://i.stack.imgur.com/sc1KR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sc1KR.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 79, "user_id": 8629344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ho6P9.png?s=128&g=1", "display_name": "Jahir Nabil", "link": "https://stackoverflow.com/users/8629344/jahir-nabil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1546624090, "creation_date": 1546448384, "last_edit_date": 1546624090, "question_id": 54010275, "link": "https://stackoverflow.com/questions/54010275/java-extend-and-implements", "title": "java extend and implements", "body": "<p>I'm confused about the following structure, is it correct ?</p>\n\n<pre><code>public interface personne {} personne{}\npublic abstract class personneImpl implements\n\npublic interface admin {};\npublic class adminImpl extend personneImpl implements admin {} \n</code></pre>\n\n<p>or should it be :</p>\n\n<pre><code>public class adminImpl extend personneImpl implements admin, personne {} \n</code></pre>\n\n<p>Edit : the picture was just for simplification it's not a uml digram.</p>\n"}, {"tags": ["java", "testing", "spring-data-jpa"], "answers": [{"tags": [], "owner": {"reputation": 18859, "user_id": 40064, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6f118f710d3077f91c0c0d722f7be0a3?s=128&d=identicon&r=PG", "display_name": "Wim Deblauwe", "link": "https://stackoverflow.com/users/40064/wim-deblauwe"}, "is_accepted": true, "score": 2, "last_activity_date": 1546448760, "creation_date": 1546448760, "answer_id": 54010372, "question_id": 54010233, "link": "https://stackoverflow.com/questions/54010233/spring-datajpatest-throws-exception-with-unknown-entity/54010372#54010372", "title": "Spring @DataJpaTest throws exception with Unknown entity", "body": "<p>The problem is due to the way you are creating the instance of <code>DemoEntity</code>:</p>\n\n<pre><code>DemoEntity demo = new DemoEntity() {{\n        setName(\"Tim\");\n    }};\n</code></pre>\n\n<p>Don't use the double-brace initialization syntax and it should work fine. </p>\n\n<p>You are creating a subclass of <code>DemoEntity</code> this way. This is what the error message also indicates with the <code>$1</code> at the end</p>\n\n<p>See <a href=\"https://stackoverflow.com/a/27521360/40064\">https://stackoverflow.com/a/27521360/40064</a> for more info on why this is a bad idea anyway.</p>\n"}], "owner": {"reputation": 23, "user_id": 1639930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/165923a534b94f4712ae81404bc1276d?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/1639930/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 534, "favorite_count": 0, "accepted_answer_id": 54010372, "answer_count": 1, "score": 1, "last_activity_date": 1546448760, "creation_date": 1546448176, "question_id": 54010233, "link": "https://stackoverflow.com/questions/54010233/spring-datajpatest-throws-exception-with-unknown-entity", "title": "Spring @DataJpaTest throws exception with Unknown entity", "body": "<p>I'm trying to create a repository test with the Spring <code>@DataJpaTest</code> annotation. Even with the simple demo project I receive a <code>IllegalArgumentException: Unknown entity</code>. Do I miss something?</p>\n\n<p>I'm using the Baeldung example for testing with Spring. There is a simple <code>@DataJpaTest</code> and I applied it to my code. When running the test I received a <code>IllegalArgumentException: Unknown entity</code> exception, that repository itself can not be found. So I created a demo project with minimal required classes and still got this error.</p>\n\n<p>the entity class:</p>\n\n<pre><code>import javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class DemoEntity {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  private Long id;\n\n  private String name;\n\n  // getter and setter\n}\n</code></pre>\n\n<p>the repositiory class:</p>\n\n<pre><code>@Repository\npublic interface DemoRepository extends JpaRepository&lt;DemoEntity, Long&gt; {\n\n    Optional&lt;DemoEntity&gt; findByName(String name);\n}\n</code></pre>\n\n<p>and the test class:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@DataJpaTest\npublic class DemoRepositoryTest {\n\n    @Autowired\n    private TestEntityManager entityManager;\n\n    @Autowired\n    private DemoRepository repository;\n\n    @Test\n    public void test() {\n        DemoEntity demo = new DemoEntity() {{\n            setName(\"Tim\");\n        }};\n\n        entityManager.persistAndFlush(demo);\n\n        Optional&lt;DemoEntity&gt; result = repository.findByName(\"Tim\");\n\n        assertThat(result.isPresent()).isTrue();\n    }\n}\n</code></pre>\n\n<p>This test results in the exception:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Unknown entity: com.example.demo.repositories.DemoRepositoryTest$1\n\nat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:804)\nat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:785)\nat org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManager.persist(TestEntityManager.java:93)\nat org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManager.persistAndFlush(TestEntityManager.java:131)\nat com.example.demo.repositories.DemoRepositoryTest.test(DemoRepositoryTest.java:31)\n</code></pre>\n\n<p>I'm using Spring Boot Starter 2.1.1 and Java 10.</p>\n"}, {"tags": ["java", "date"], "comments": [{"owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1546448260, "post_id": 54010217, "comment_id": 94857211, "body": "Why don&#39;t you use LocalDateTime?"}, {"owner": {"reputation": 28727, "user_id": 9959152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSjIJ.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/9959152/deadpool"}, "reply_to_user": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1546448335, "post_id": 54010217, "comment_id": 94857244, "body": "honestly i&#39;m not good at java date time, but i have an offset in String right <code>Z</code>?"}, {"owner": {"reputation": 39204, "user_id": 5761558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3cf04bfac11ef3ee693852eccde3b3c?s=128&d=identicon&r=PG&f=1", "display_name": "ernest_k", "link": "https://stackoverflow.com/users/5761558/ernest-k"}, "edited": false, "score": 1, "creation_date": 1546448570, "post_id": 54010217, "comment_id": 94857346, "body": "Don&#39;t use <code>toString()</code>, use <code>DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;).form&zwnj;&#8203;at(dateTime.with(Tem&zwnj;&#8203;poralAdjusters.next(&zwnj;&#8203;DayOfWeek.MONDAY)))</code>"}, {"owner": {"reputation": 28727, "user_id": 9959152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSjIJ.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/9959152/deadpool"}, "reply_to_user": {"reputation": 39204, "user_id": 5761558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3cf04bfac11ef3ee693852eccde3b3c?s=128&d=identicon&r=PG&f=1", "display_name": "ernest_k", "link": "https://stackoverflow.com/users/5761558/ernest-k"}, "edited": false, "score": 0, "creation_date": 1546448744, "post_id": 54010217, "comment_id": 94857425, "body": "That works thank you @ernest_k"}], "answers": [{"tags": [], "owner": {"reputation": 38504, "user_id": 1602555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1sjqZ.jpg?s=128&g=1", "display_name": "Karol Dowbecki", "link": "https://stackoverflow.com/users/1602555/karol-dowbecki"}, "is_accepted": true, "score": 9, "last_activity_date": 1546448891, "last_edit_date": 1546448891, "creation_date": 1546448563, "answer_id": 54010315, "question_id": 54010217, "link": "https://stackoverflow.com/questions/54010217/offsetdatetime-tostring-return-different-format-date-string/54010315#54010315", "title": "OffsetDateTime toString() return different format date string", "body": "<p>As per <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#toString--\" rel=\"noreferrer\"><code>OffsetDateTime.toString()</code></a> method javadoc the shortest possible format for the value is used while omitted parts are implied to be zero. The shortest possible format for <code>2018-12-30T06:00:00Z</code> is <code>uuuu-MM-dd'T'HH:mmXXXXX</code> so the seconds and nanos are skipped:</p>\n\n<blockquote>\n  <p>The output will be one of the following ISO-8601 formats:</p>\n  \n  <ul>\n  <li>uuuu-MM-dd'T'HH:mmXXXXX</li>\n  <li>uuuu-MM-dd'T'HH:mm:ssXXXXX</li>\n  <li>uuuu-MM-dd'T'HH:mm:ss.SSSXXXXX</li>\n  <li>uuuu-MM-dd'T'HH:mm:ss.SSSSSSXXXXX</li>\n  <li>uuuu-MM-dd'T'HH:mm:ss.SSSSSSSSSXXXXX</li>\n  </ul>\n  \n  <p>The format used will be the shortest that outputs the full value of the time where the omitted parts are implied to be zero.</p>\n</blockquote>\n\n<p>If you need a precise format use a <code>DateTimeFormatter</code> instance with specific pattern to output the date:</p>\n\n<pre><code>String date = \"2018-12-30T06:00:00Z\";\nOffsetDateTime dt = OffsetDateTime.parse(date);\nDateTimeFormatter fmt = DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mm:ss'Z'\");\nSystem.out.println(fmt.format(dt));\n</code></pre>\n"}], "owner": {"reputation": 28727, "user_id": 9959152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSjIJ.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/9959152/deadpool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9611, "favorite_count": 0, "accepted_answer_id": 54010315, "answer_count": 1, "score": 3, "last_activity_date": 1546450139, "creation_date": 1546448116, "last_edit_date": 1546450139, "question_id": 54010217, "link": "https://stackoverflow.com/questions/54010217/offsetdatetime-tostring-return-different-format-date-string", "title": "OffsetDateTime toString() return different format date string", "body": "<p>I have date in this format <code>yyyy-MM-dd'T'HH:mm:ss'Z'</code>, but while i'm parsing this using <code>OffsetDateTime.parse(date);</code> it returns the string by elimination <code>seconds</code></p>\n\n<p><strong>Logic :</strong> Get the day from date, if it is <code>Saturday</code> or <code>Sunday</code> change day to monday and return the date String</p>\n\n<pre><code>String date = \"2018-12-30T06:00:00Z\";\n\nSystem.out.println(date);\n\ntry {\n    OffsetDateTime dateTime = OffsetDateTime.parse(date);\n\n    System.out.println(dateTime);           //2018-12-30T06:00Z\n\n    DayOfWeek day = dateTime.getDayOfWeek();\n    // check if price change  date is Sunday or Saturday and change it to Monday\n    if (day.equals(DayOfWeek.SATURDAY) || day.equals(DayOfWeek.SUNDAY)) {\n\n        String finalDateTime = dateTime.with(TemporalAdjusters.next(DayOfWeek.MONDAY)).toString();\n         System.out.println(finalDateTime);      //2018-12-31T06:00Z\n    }else {\n        System.out.println(date);\n    }\n    }catch(Exception ex) {\n        System.out.println(ex);\n        System.out.println(date);\n    }   \n</code></pre>\n\n<p>I need to return string as same input format <code>yyyy-MM-dd'T'HH:mm:ss'Z'</code></p>\n"}, {"tags": ["java", "android", "encoding"], "comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1546448212, "post_id": 54010172, "comment_id": 94857190, "body": "<code>?</code> usually means that either the program you are writing with does not know how to convert a certain character or the program you use to display does not know what to print. Probably you have to do some special case handling or try an other converter. <code>iconv</code> probably has a better mapping table between the two encodings."}, {"owner": {"reputation": 1339, "user_id": 1483390, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6717d6e2652c55c45bac3b7cfba74dff?s=128&d=identicon&r=PG", "display_name": "Luis A. Florit", "link": "https://stackoverflow.com/users/1483390/luis-a-florit"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1546448413, "post_id": 54010172, "comment_id": 94857282, "body": "The <code>?</code> appears in the (correctly written Latin1) downloaded file."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 1, "creation_date": 1546448664, "post_id": 54010172, "comment_id": 94857386, "body": "Then the first part of my comment is the answer. <code>OutputStreamWriter</code> has no mapping for the specific character from <code>UTF-8</code> to <code>Latin1</code>. see <a href=\"https://stackoverflow.com/questions/652161/how-do-i-convert-between-iso-8859-1-and-utf-8-in-java\" title=\"how do i convert between iso 8859 1 and utf 8 in java\">stackoverflow.com/questions/652161/&hellip;</a>"}, {"owner": {"reputation": 1339, "user_id": 1483390, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6717d6e2652c55c45bac3b7cfba74dff?s=128&d=identicon&r=PG", "display_name": "Luis A. Florit", "link": "https://stackoverflow.com/users/1483390/luis-a-florit"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1546449408, "post_id": 54010172, "comment_id": 94857703, "body": "Exactly. But then why the <code>TRANSLIT</code> in <code>iconv</code> did a perfect job, and how can I simulate that in Java? Maybe something like this: <a href=\"https://stackoverflow.com/a/5807419/1483390\">stackoverflow.com/a/5807419/1483390</a>"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1546449821, "post_id": 54010172, "comment_id": 94857870, "body": "I guess you will have to fumble with <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/charset/CharsetEncoder.html\" rel=\"nofollow noreferrer\">CharsetEncoder</a> or any other solution. You could run <a href=\"https://stackoverflow.com/questions/10004077/how-to-install-libiconv-for-android-ndk\">iconv to android with ndk</a>, but that will give you even more problems."}], "answers": [{"comments": [{"owner": {"reputation": 1339, "user_id": 1483390, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6717d6e2652c55c45bac3b7cfba74dff?s=128&d=identicon&r=PG", "display_name": "Luis A. Florit", "link": "https://stackoverflow.com/users/1483390/luis-a-florit"}, "edited": false, "score": 0, "creation_date": 1546454211, "post_id": 54011040, "comment_id": 94859623, "body": "Do you know how to make a &quot;reasonably&quot; safe replacement, like the iconv TRANSLIT does, at the <code>line</code> variable in my code?"}, {"owner": {"reputation": 1339, "user_id": 1483390, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6717d6e2652c55c45bac3b7cfba74dff?s=128&d=identicon&r=PG", "display_name": "Luis A. Florit", "link": "https://stackoverflow.com/users/1483390/luis-a-florit"}, "edited": false, "score": 0, "creation_date": 1546456408, "post_id": 54011040, "comment_id": 94860512, "body": "I meant, <code>line.replaceAll(&quot;[\\\\u2018\\\\u2019]&quot;, &quot;&#39;&quot;))</code> is works for the quotation mark. Maybe there is some &#39;safe&#39; relatively small list like this? I don&#39;t need to implement all here: <a href=\"http://git.savannah.gnu.org/cgit/libiconv.git/tree/lib/translit.def\" rel=\"nofollow noreferrer\">git.savannah.gnu.org/cgit/libiconv.git/tree/lib/translit.def</a>"}, {"owner": {"reputation": 5636, "user_id": 8207228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bea1f01a8f41b0714de4eddc3c93ce8?s=128&d=identicon&r=PG", "display_name": "Ralf Kleberhoff", "link": "https://stackoverflow.com/users/8207228/ralf-kleberhoff"}, "reply_to_user": {"reputation": 1339, "user_id": 1483390, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6717d6e2652c55c45bac3b7cfba74dff?s=128&d=identicon&r=PG", "display_name": "Luis A. Florit", "link": "https://stackoverflow.com/users/1483390/luis-a-florit"}, "edited": false, "score": 1, "creation_date": 1546457275, "post_id": 54011040, "comment_id": 94860876, "body": "Only you can decide which replacements you need (which special Unicode characters you expect in the input). You have a good (?) reference source of replacements. If you need just a handful, go for multiple <code>line.replaceAll()</code>. If you need more, I&#39;d build a replacement array indexed by the character code, containing the replacement string, maybe initialized from translit.def or similar."}, {"owner": {"reputation": 1339, "user_id": 1483390, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6717d6e2652c55c45bac3b7cfba74dff?s=128&d=identicon&r=PG", "display_name": "Luis A. Florit", "link": "https://stackoverflow.com/users/1483390/luis-a-florit"}, "edited": false, "score": 0, "creation_date": 1546457402, "post_id": 54011040, "comment_id": 94860919, "body": "Yes, that is what I did, multiple <code>line.replaceAll()</code> after looking at the <code>translit.def</code>. I guess only a handful may appear. Thanks!!"}], "tags": [], "owner": {"reputation": 5636, "user_id": 8207228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bea1f01a8f41b0714de4eddc3c93ce8?s=128&d=identicon&r=PG", "display_name": "Ralf Kleberhoff", "link": "https://stackoverflow.com/users/8207228/ralf-kleberhoff"}, "is_accepted": false, "score": 3, "last_activity_date": 1546452037, "creation_date": 1546452037, "answer_id": 54011040, "question_id": 54010172, "link": "https://stackoverflow.com/questions/54010172/why-is-this-java-encoding-utf-8-latin1-wrong/54011040#54011040", "title": "Why is this Java encoding UTF-8 --&gt; Latin1 wrong?", "body": "<p>The file you linked is a UTF-8 encoded HTML file, and it uses characters outside of the Latin-1 character set. E.g. instead of the Latin-1 quotation mark that you expect (<code>Frango-d'\u00e1gua-menor</code>, using code U+0027) it uses the similar-looking Right Single Quotation Mark U+2019 (<code>Frango-d\u2019\u00e1gua-menor</code>). This isn't part of the Latin-1 set, so you get a replacement question mark.</p>\n\n<p>As Latin-1 can't encode the whole Unicode character set, you have to accept things like that.</p>\n\n<p>Your best chance is to identify the problem characters and do a string replacement before writing to the limited Latin-1 set.</p>\n"}], "owner": {"reputation": 1339, "user_id": 1483390, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6717d6e2652c55c45bac3b7cfba74dff?s=128&d=identicon&r=PG", "display_name": "Luis A. Florit", "link": "https://stackoverflow.com/users/1483390/luis-a-florit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1546452037, "creation_date": 1546447898, "question_id": 54010172, "link": "https://stackoverflow.com/questions/54010172/why-is-this-java-encoding-utf-8-latin1-wrong", "title": "Why is this Java encoding UTF-8 --&gt; Latin1 wrong?", "body": "<p>I want to download <a href=\"https://www.wikiaves.com.br/wiki/frango-d_agua-menor\" rel=\"nofollow noreferrer\">this</a> UTF-8 file and convert it to Latin1 in Java (Android). At line 443, <code>Frango-d\u00e2~@~Y\u00c3\u00a1gua-menor</code> is translated to <code>Frango-d?\u00e1gua-menor</code> instead of <code>Frango-d'\u00e1gua-menor</code>. Same in line 465, where <code>Descri\u00c3\u00a7\u00c3\u00a3o f\u00c3\u00adsica\u00e2~@\u00a6</code> is translated to <code>Descri\u00e7\u00e3o f\u00edsica?</code>, with that pesky <code>?</code> at the end.</p>\n\n<p>It seems this file is not a valid <code>UTF-8</code>? But <code>iconv -f utf-8 -t iso-8859-1//TRANSLIT</code> on this file works just fine.</p>\n\n<p>This is the code I use to download (downloaded file is in <code>infofile</code>):</p>\n\n<pre><code>                fos = new FileOutputStream(infotxt);\n                out = new OutputStreamWriter(fos, 'Latin1');\n                fis = new FileInputStream(infofile);\n                br = new BufferedReader(new InputStreamReader(fis));\n                while ((line = br.readLine()) != null) {\n                    out.write(\"\\n\"+line.trim());\n                }\n                br.close();\n                out.close();\n                fis.close();\n                fos.close();\n</code></pre>\n"}, {"tags": ["java", "android", "android-recyclerview", "adapter"], "comments": [{"owner": {"reputation": 262, "user_id": 9332016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xHkZa.jpg?s=128&g=1", "display_name": "teh_raab", "link": "https://stackoverflow.com/users/9332016/teh-raab"}, "edited": false, "score": 0, "creation_date": 1546447985, "post_id": 54010153, "comment_id": 94857073, "body": "Use an interface to pass the id back to the activity."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 8317838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0521d32ab3f2da98b051b38609769e92?s=128&d=identicon&r=PG&f=1", "display_name": "Usama Hassan", "link": "https://stackoverflow.com/users/8317838/usama-hassan"}, "edited": false, "score": 0, "creation_date": 1546507342, "post_id": 54010301, "comment_id": 94874836, "body": "how can i get id in Activity"}], "tags": [], "owner": {"reputation": 1179, "user_id": 4570081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G286h.png?s=128&g=1", "display_name": "Dmytro Ivanov", "link": "https://stackoverflow.com/users/4570081/dmytro-ivanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1546448512, "creation_date": 1546448512, "answer_id": 54010301, "question_id": 54010153, "link": "https://stackoverflow.com/questions/54010153/i-want-to-get-the-id-when-i-click-a-recyclerview-item/54010301#54010301", "title": "I want to get the id when I click a RecyclerView item", "body": "<p><strong>First:</strong> You could create a interface for providing callback listener:</p>\n\n<pre><code>interface UpdateActivityListener {\n    void itemClicked(int id);\n}\n</code></pre>\n\n<p><strong>Second:</strong> Your adapter should keep listener, but activity should implements:</p>\n\n<pre><code>public rentgestAdapter(Context mCtx, List&lt;Rent&gt; productList, UpdateActivityListener listener) {\n    this.mCtx = mCtx;\n    this.productList = productList;\n    this.listener = listener;\n}\n</code></pre>\n\n<p><strong>Third:</strong>  Set to your view default <code>setOnClickListener</code> and call your listener with pass id.</p>\n\n<pre><code>view.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        // holder.getAdapterPosition() returns click item position\n        listener.itemClicked(holder.getAdapterPosition());\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 8317838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0521d32ab3f2da98b051b38609769e92?s=128&d=identicon&r=PG&f=1", "display_name": "Usama Hassan", "link": "https://stackoverflow.com/users/8317838/usama-hassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546453013, "creation_date": 1546447813, "last_edit_date": 1546453013, "question_id": 54010153, "link": "https://stackoverflow.com/questions/54010153/i-want-to-get-the-id-when-i-click-a-recyclerview-item", "title": "I want to get the id when I click a RecyclerView item", "body": "<p>when clicked the item of recycleview.i want to get the ID of the item of  and use them in another Service in Main activity recycleview is working fine just want get id from adapter and use it to main activity  here is my code  of adapter and main Activity class in which show the</p>\n\n<pre><code>    private void loadrent() {\n    l.setVisibility(View.GONE);\n\n    shimmerLayout.setVisibility(View.VISIBLE);\n    shimmerLayout.startShimmerAnimation();\n    StringRequest stringRequest = new StringRequest(Request.Method.GET, \n                                         URLs.user_rent_data_guest,\n            new Response.Listener&lt;String&gt;() {\n                @Override\n                public void onResponse(String response) {\n                    try {\n                        Integer a;\n                        shimmerLayout.stopShimmerAnimation();\n                        shimmerLayout.setVisibility(View.GONE);\n                        //converting the string to json array object\n                        JSONObject jsonResponse = new JSONObject(response);\n                        JSONArray array =jsonResponse.getJSONArray(\"data\");\n                       // JSONArray arrays =jsonResponse.getJSONArray(\"0\");\n                        //traversing through all the object\n                        if(array != null &amp;&amp; array.length() &gt; 0 ) {\n                            l.setVisibility(View.INVISIBLE);\n                            for (int i = 0; i &lt; array.length(); i++) {\n                                //getting product object from json array\n                                JSONObject product =array.getJSONObject(i);\n                      //JSONObject products =arrays.getJSONObject(i);\n                                //adding the product to product lists\n                                productList.add(new Rent(\n                                        product.getInt(\"id\"),\n                                        product.getString(\"tags\"),\n                                        product.getString(\"address\"),\n                                        product.getString(\"details\"),\n                                        product.getString(\"amount\"),\n                                        product.getString(\"cover_image\"),\n                                        product.getString(\"location\"),\n                                        product.getString(\"contact\"),\n                                        product.getString(\"status\"),\n                                        product.getString(\"no_of_bedrooms\"),\n                                        product.getString(\"no_of_bathrooms\"),\n                                        product.getString(\"property_floor\"),\n                                        product.getString(\"created_at\"),\n                                        product.getString(\"property_name\")\n                                ));\n                            }\n                        }\n                        else {\n                            l.setVisibility(View.VISIBLE);\n                            shimmerLayout.stopShimmerAnimation();\n                            shimmerLayout.setVisibility(View.GONE);\n                        }\n                        //creating adapter object and setting it to recyclerview\n                        adapter = new rentgestAdapter(SubmitPost.this,productList);\n                        recyclerView.setAdapter(adapter);\n\n                    } catch (JSONException e) {\n                        e.printStackTrace();\n                    }\n                }\n            },\n            new Response.ErrorListener() {\n                @Override\n                public void onErrorResponse(VolleyError error) {\n                    shimmerLayout.stopShimmerAnimation();\n                    shimmerLayout.setVisibility(View.GONE);\n                }\n            });\n\n    //adding our stringrequest to queue\n    Volley.newRequestQueue(this).add(stringRequest);\n}\n\n\n\npublic class rentgestAdapter extends \nRecyclerView.Adapter&lt;rentgestAdapter.rentgestAdapterholder&gt; {\n\n\nprivate Context mCtx;\nprivate List&lt;Rent&gt; productList;\nprivate String time,s;\nDate currentTimes;\nInteger soft;\nDate date1,date2;\nDate today;\n\npublic rentgestAdapter(Context mCtx, List&lt;Rent&gt; productList) {\n    this.mCtx = mCtx;\n    this.productList = productList;\n}\n\n@Override\npublic rentgestAdapterholder onCreateViewHolder(ViewGroup parent, int viewType) {\n    LayoutInflater inflater = LayoutInflater.from(mCtx);\n    View view = inflater.inflate(R.layout.list_layout, null);\n    return new rentgestAdapterholder(view);\n}\n\n\n@Override\npublic void onBindViewHolder(rentgestAdapterholder holder, int position) {\n    final Rent product = productList.get(position);\n\n\n    //loading the image\n    //loading the image\n\n    holder.lsItem.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n     Integer s=product.getId();\n\n\n        }\n    });\n    AssetManager am = mCtx.getApplicationContext().getAssets();\n    Typeface face= Typeface.createFromAsset(am,\"fonts/nobellights.ttf\");\n    Typeface face1= Typeface.createFromAsset(am,\"fonts/NobelBold.ttf\");\n    holder.textViewamunt.setTypeface(face1);\n    holder.name.setTypeface(face);\n    holder.textViewtag.setTypeface(face);\n    holder.bed.setTypeface(face);\n    holder.bath.setTypeface(face);\n    holder.floor.setTypeface(face);\n    holder.textViewaddress.setTypeface(face);\n    holder.textViewdetail.setTypeface(face);\n\n\n    holder.textViewamunt.setText(String.valueOf(product.getPrice())+\" PKR\");\n    holder.name.setText(product.getname());\n    holder.textViewaddress.setText(String.valueOf(product.get_address()));\n   // holder.textViewtag.setText(String.valueOf(product.get_sale_tag()));\n    if(product.get_sale_tag().equals(\"\"))\n    {\n        holder.textViewtag.setVisibility(View.INVISIBLE);\n    }\n    else{\n        holder.textViewtag.setVisibility(View.VISIBLE);\n        holder.textViewtag.setText(String.valueOf(product.get_sale_tag()));\n    }\n    holder.textViewdetail.setText(String.valueOf(product.getdetails()));\n    if(product.getbed().equals(\"\"))\n    {\n        holder.bed.setVisibility(View.INVISIBLE);\n\n    }\n    else{\n        holder.bed.setVisibility(View.VISIBLE);\n        holder.bed.setText(String.valueOf(product.getbed())+\" Bed\");\n\n    }\n    if(product.getBath().equals(\"\"))\n    {\n        holder.bath.setVisibility(View.INVISIBLE);\n\n    }\n    else{\n        holder.bath.setVisibility(View.VISIBLE);\n        holder.bath.setText(String.valueOf(product.getBath())+\" Bath\");\n\n    }\n    if(product.getFloor().equals(\"\"))\n    {\n        holder.floor.setVisibility(View.INVISIBLE);\n\n    }\n    else{\n        holder.floor.setVisibility(View.VISIBLE);\n        holder.floor.setText(String.valueOf(product.getFloor())+\" Floor\");\n\n    }\n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"yyyy-M-dd hh:mm:ss\");\n    try {\n        DateFormat dateFormatter = new SimpleDateFormat(\"yyyy-M-dd hh:mm:ss\");\n        dateFormatter.setLenient(false);\n        today = new Date();\n        s = dateFormatter.format(today);\n        date1 = simpleDateFormat.parse(product.getcreated_at());\n        date2 = simpleDateFormat.parse(s);\n        printDifference(date1, date2);\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n    holder.t.setText(String.valueOf(time));\n    holder.shineButton.setOnCheckStateChangeListener(new ShineButton.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(View view, boolean checked) {\n            Log.e(\"ssssss\", \"click \" + checked);\n        }\n    });\n}\n\n@Override\npublic int getItemCount() {\n    return productList.size();\n}\npublic String printDifference(Date startDate, Date endDate) {\n    //milliseconds\n    long different = endDate.getTime() - startDate.getTime();\n\n    System.out.println(\"startDate : \" + startDate);\n    System.out.println(\"endDate : \"+ endDate);\n\n\n    long secondsInMilli = 1000;\n    long minutesInMilli = secondsInMilli * 60;\n    long hoursInMilli = minutesInMilli * 60;\n    long daysInMilli = hoursInMilli * 24;\n\n    long elapsedDays = different / daysInMilli;\n    different = different % daysInMilli;\n\n    long elapsedHours = different / hoursInMilli;\n    different = different % hoursInMilli;\n\n    long elapsedMinutes = different / minutesInMilli;\n    different = different % minutesInMilli;\n\n    long elapsedSeconds = different / secondsInMilli;\n\n    System.out.printf(\n            \"%d days, %d hours, %d minutes, %d seconds%n\",\n            elapsedDays, elapsedHours, elapsedMinutes, elapsedSeconds);\n    time= elapsedDays+\" Days \"+\" \"+elapsedHours+\" Hours  \"+\" \"+elapsedMinutes+\" Minutes\";\n    return time;\n}\n\nclass rentgestAdapterholder extends RecyclerView.ViewHolder {\n   ShineButton shineButton ;\n\n    TextView textViewamunt, textViewdetail, textViewaddress, textViewtag,bed,bath,floor,t,name;\n    ImageView imageView;\n    public android.support.v7.widget.CardView lsItem;\n\n\n\n    public rentgestAdapterholder(View itemView) {\n        super(itemView);\n        shineButton= (ShineButton) itemView.findViewById(R.id.po_image2);\n        textViewamunt = (TextView) itemView.findViewById(R.id.pkramount);\n        name = (TextView) itemView.findViewById(R.id.name);\n        textViewdetail =  (TextView)itemView.findViewById(R.id.detail);\n        t =  (TextView)itemView.findViewById(R.id.t);\n        bed = (TextView) itemView.findViewById(R.id.bed);\n        bath = (TextView) itemView.findViewById(R.id.bath);\n        floor = (TextView) itemView.findViewById(R.id.floor);\n        textViewtag = (TextView) itemView.findViewById(R.id.tag);\n        textViewaddress = (TextView) itemView.findViewById(R.id.address);\n        imageView = (ImageView) itemView.findViewById(R.id.simage);\n        lsItem = (android.support.v7.widget.CardView) itemView.findViewById(R.id.lsItem);\n\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["java", "animation"], "answers": [{"comments": [{"owner": {"reputation": 743, "user_id": 10067555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23629f32bc51e9dff04aec6b8eb51123?s=128&d=identicon&r=PG&f=1", "display_name": "karamazovbros", "link": "https://stackoverflow.com/users/10067555/karamazovbros"}, "edited": false, "score": 0, "creation_date": 1546544804, "post_id": 54011677, "comment_id": 94893997, "body": "Good answer, I converted what I needed to run it in Processing and looks great."}, {"owner": {"reputation": 1555, "user_id": 6500085, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/8psiU.png?s=128&g=1", "display_name": "JarsOfJam-Scheduler", "link": "https://stackoverflow.com/users/6500085/jarsofjam-scheduler"}, "edited": false, "score": 0, "creation_date": 1546636199, "post_id": 54011677, "comment_id": 94927719, "body": "Your variable <code>new_index</code> contains the index of the color of the pixel you are iterating on. However, the author of the curse says that you should take the index of the color of the pixel located just below the pixel you are iterating on. That&#39;s what I did with <code>index_of_color_to_apply</code> in my own code. Btw, what happens if <code>new_x</code> is out of the bounds of your canvas? Globally you did the same as I did. What great modifications did you do please?"}, {"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "reply_to_user": {"reputation": 1555, "user_id": 6500085, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/8psiU.png?s=128&g=1", "display_name": "JarsOfJam-Scheduler", "link": "https://stackoverflow.com/users/6500085/jarsofjam-scheduler"}, "edited": false, "score": 0, "creation_date": 1546636289, "post_id": 54011677, "comment_id": 94927754, "body": "@JarsOfJam-Scheduler I&#39;m getting index of pixel at <code>y</code>, but setting <code>y-1</code>, thus I&#39;m using pixel below to set pixel above it"}, {"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "reply_to_user": {"reputation": 1555, "user_id": 6500085, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/8psiU.png?s=128&g=1", "display_name": "JarsOfJam-Scheduler", "link": "https://stackoverflow.com/users/6500085/jarsofjam-scheduler"}, "edited": false, "score": 0, "creation_date": 1546636313, "post_id": 54011677, "comment_id": 94927767, "body": "@JarsOfJam-Scheduler <code>if ((x &lt; 0) || (x &gt;= this.width) || (y &lt; 0) || (y &gt;= this.height))</code> is the anwser to pixel out of bounds"}, {"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "reply_to_user": {"reputation": 1555, "user_id": 6500085, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/8psiU.png?s=128&g=1", "display_name": "JarsOfJam-Scheduler", "link": "https://stackoverflow.com/users/6500085/jarsofjam-scheduler"}, "edited": false, "score": 0, "creation_date": 1546636330, "post_id": 54011677, "comment_id": 94927775, "body": "@JarsOfJam-Scheduler check the comments - they are main differences"}, {"owner": {"reputation": 1555, "user_id": 6500085, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/8psiU.png?s=128&g=1", "display_name": "JarsOfJam-Scheduler", "link": "https://stackoverflow.com/users/6500085/jarsofjam-scheduler"}, "edited": false, "score": 0, "creation_date": 1546701314, "post_id": 54011677, "comment_id": 94940881, "body": "Indeed, in fact the pb was due to 1) my modulo 2) the lack of period set for the thread 3) the wrong width/height that must be retrieved from the canvas."}], "tags": [], "owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "is_accepted": true, "score": 3, "last_activity_date": 1546455220, "creation_date": 1546455220, "answer_id": 54011677, "question_id": 54010139, "link": "https://stackoverflow.com/questions/54010139/how-doom-fire-was-done-re-implementation-of-a-fire-animation-that-results-in/54011677#54011677", "title": "&quot;HOW DOOM FIRE WAS DONE&quot; - Re-implementation of a fire animation that results in a noise animation", "body": "<p>There are many small problems, so here is fixed version with comments for you to understand (I've combined classes into one file to simplify):</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.image.BufferedImage;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.Timer;\nimport java.util.TimerTask;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.WindowConstants;\n\npublic class Launcher {\n    private static class Gui extends JFrame {\n        final int width;\n        final int height;\n        final JPanel panel;\n        final BufferedImage buffered_image;\n\n        Gui(final String title, final int width, final int height) {\n            this.width = width;\n            this.height = height;\n            this.buffered_image = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n            this.panel = new JPanel() {\n                @Override\n                public void paintComponent(final Graphics graphics) {\n                    super.paintComponent(graphics);\n                    graphics.drawImage(Gui.this.buffered_image, 0, 0, null);\n                }\n            };\n            this.setTitle(title);\n            this.setContentPane(this.panel);\n            this.setSize(width, height);\n            this.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n            this.setVisible(true);\n        }\n\n        void colorize(final Color color, final int x, final int y) {\n            if ((x &lt; 0) || (x &gt;= this.width) || (y &lt; 0) || (y &gt;= this.height))\n                return;\n            this.buffered_image.setRGB(x, y, color.getRGB());\n        }\n\n        int getRGBAtCoordinates(final int x, final int y) {\n            return this.buffered_image.getRGB(x, y);\n        }\n    }\n\n    public static void main(final String args[]) {\n        final List&lt;Color&gt; colors = new ArrayList&lt;&gt;();\n        colors.add(new Color(0, 0, 0)); // black\n        colors.add(new Color(7, 7, 7));\n        colors.add(new Color(47, 15, 7));\n        colors.add(new Color(71, 15, 7));\n        colors.add(new Color(87, 23, 7));\n        colors.add(new Color(103, 31, 7));\n        colors.add(new Color(119, 31, 7));\n        colors.add(new Color(143, 39, 7));\n        colors.add(new Color(159, 47, 7));\n        colors.add(new Color(175, 63, 7));\n        colors.add(new Color(191, 71, 7));\n        colors.add(new Color(199, 71, 7));\n        colors.add(new Color(223, 79, 7));\n        colors.add(new Color(223, 87, 7));\n        colors.add(new Color(223, 87, 7));\n        colors.add(new Color(215, 95, 7));\n        colors.add(new Color(215, 103, 15));\n        colors.add(new Color(207, 111, 15));\n        colors.add(new Color(207, 119, 15));\n        colors.add(new Color(207, 127, 15));\n        colors.add(new Color(207, 135, 23));\n        colors.add(new Color(199, 135, 23));\n        colors.add(new Color(199, 143, 23));\n        colors.add(new Color(199, 151, 31));\n        colors.add(new Color(191, 159, 31));\n        colors.add(new Color(191, 159, 31));\n        colors.add(new Color(191, 167, 39));\n        colors.add(new Color(191, 167, 39));\n        colors.add(new Color(191, 175, 47));\n        colors.add(new Color(183, 175, 47));\n        colors.add(new Color(183, 183, 47));\n        colors.add(new Color(183, 183, 55));\n        colors.add(new Color(207, 207, 111));\n        colors.add(new Color(223, 223, 159));\n        colors.add(new Color(239, 239, 199));\n        colors.add(new Color(255, 255, 255)); // white\n\n        final Gui gui = new Gui(\"DOOM-like fire\", 800, 800);\n\n        final Color black = colors.get(0);\n        final Color white = colors.get(colors.size() - 1);\n        final Dimension dim = gui.getContentPane().getSize(); // get actual size, without title/borders\n        for (int y = 0; y &lt; dim.height; y++) {\n            final Color clr = y &lt; (dim.height - 1) ? black : white;\n            for (int x = 0; x &lt; dim.width; x++)\n                gui.colorize(clr, x, y);\n        }\n\n        new Timer().schedule(new TimerTask() {\n            final Random rnd = new Random();\n\n            Color getColorAtIndex(final int index) {\n                if (index &lt; 0)\n                    return colors.get(0); // minimal color is black\n                return colors.get(index);\n            }\n\n            int getIndexOfColor(final int rgb) {\n                for (int x = 0; x &lt; colors.size(); x++)\n                    if (colors.get(x).getRGB() == rgb)\n                        return x;\n                throw new RuntimeException(\"Color not found in the list!\");\n            }\n\n            @Override\n            public void run() {\n                for (int x = 0; x &lt; dim.width; x++) {\n                    for (int y = 1; y &lt; dim.height; y++) {\n                        final int new_index = this.getIndexOfColor(gui.getRGBAtCoordinates(x, y)) - this.rnd.nextInt(2);\n                        final int new_x = (x - this.rnd.nextInt(3)) + 1;\n                        gui.colorize(this.getColorAtIndex(new_index), new_x, y - 1);\n                    }\n                }\n                gui.repaint();\n            }\n        }, 0, 40); // start immediately and repeat every 40ms\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1555, "user_id": 6500085, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/8psiU.png?s=128&g=1", "display_name": "JarsOfJam-Scheduler", "link": "https://stackoverflow.com/users/6500085/jarsofjam-scheduler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 1, "accepted_answer_id": 54011677, "answer_count": 1, "score": 0, "last_activity_date": 1546455220, "creation_date": 1546447766, "question_id": 54010139, "link": "https://stackoverflow.com/questions/54010139/how-doom-fire-was-done-re-implementation-of-a-fire-animation-that-results-in", "title": "&quot;HOW DOOM FIRE WAS DONE&quot; - Re-implementation of a fire animation that results in a noise animation", "body": "<p>(nota: a Minimal, Complete, and Verifiable example is provided at the end of this question)</p>\n\n<h1>Summary</h1>\n\n<ol>\n<li><p>Context, Aim &amp; Problem</p></li>\n<li><p>My (possibly wrong?) understanding of the author's explanations and sources <em>- note: I have to explain it to you, since my errors can come from a bad understanding of what to do or a bad implementation of my behalf...</em> </p></li>\n<li><p>What I have done</p></li>\n<li><p>Expected results, Actual results &amp; Question</p></li>\n<li><p>Minimal, Complete, and Verifiable example</p></li>\n</ol>\n\n<h1>Context, Aim &amp; Problem</h1>\n\n<p>I study the animation of the famous DOOM game according to <a href=\"http://fabiensanglard.net/doom_fire_psx/\" rel=\"nofollow noreferrer\">http://fabiensanglard.net/doom_fire_psx/</a>, which consists in generating fire.</p>\n\n<p>A full version of the author's code is: <a href=\"https://github.com/fabiensanglard/DoomFirePSX/blob/master/flames.html\" rel=\"nofollow noreferrer\">https://github.com/fabiensanglard/DoomFirePSX/blob/master/flames.html</a></p>\n\n<p>I ended with this implementation but the result I have is an animation of noise (that's the problem). Indeed, at the end of this animation, I get this result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/U57Fq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U57Fq.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<h1>My (possibly wrong?) understanding of the author's explanations and sources</h1>\n\n<h2>First approach: implementation of the main principles, and simplification of the fire (because replaced by a simple gradient of colors)</h2>\n\n<ol>\n<li><p>Set up a precisely filled color set: this set defines a gradient that looks like fire. There are 36 colours from white to black, and among them there are yellow, orange and red. This set does not contain any duplicates.</p></li>\n<li><p>Iterate a first time on the canvas pixels. Here the goal is to color all pixels black (i.e.: the last color of the set).</p></li>\n<li><p>Iterate a second time on the canvas. This time, we must color in white the pixels of the first line at the bottom (i.e.: the first color of the set).</p></li>\n<li><p>Iterate again on the canvas, but only from the second bottom line (included), not from the first bottom line (which is thus excluded). For each iterated pixel, we modify its color in this way: we take the color of its direct lower pixel, we find the index of this color in all the colors, we add 1 to this index: we obtain another index called i2, we find the color whose index is i2, then we apply this color to this iterated pixel.</p></li>\n</ol>\n\n<p>Once the execution is finished, there will be several gradients, each containing 36 lines (36 colors).</p>\n\n<h2>To make it really look like fire.</h2>\n\n<p>The program explained by <a href=\"http://fabiensanglard.net/doom_fire_psx/\" rel=\"nofollow noreferrer\">http://fabiensanglard.net/doom_fire_psx/</a> goes further than that, of course: it uses the pseudo-random twice, to get something that doesn't look like a simple gradient but does look like fire.</p>\n\n<p>The idea is as follows. For the pixel being iterated:</p>\n\n<p>We get the color index of the pixel located just below. Then, we get the color, in the color set, whose index is this index + a random number involving a slight shift (by a maximum of 2 squares if I remember correctly). Thus, we can model the acceleration of the variation in the temperature of the particles.</p>\n\n<p>And, in addition, we consider the pixel located a little to the left of the pixel being iterated. \"A little bit\" = according to the same random number of chip number 1. It is this pixel located a little to the left that will be assigned the color recovered in chip N\u00b01. Thus, we can model the horizontal displacement to the left of the flames.</p>\n\n<p>So we see that it is a triangle work (because we take the pixel being iterated, the one just below and the one a little to the left).</p>\n\n<h3>Pseudo-random used to model the acceleration of particle temperature variation acceleration</h3>\n\n<p>A random number is generated, between 0 and 3 both included and is used here:</p>\n\n<p><code>firePixels[src - FIRE_WIDTH ] = pixel - (rand &amp; 1);</code></p>\n\n<p>A slight variation in the colour to be applied is therefore introduced.</p>\n\n<h3>Pseudo-random used to model the horizontal displacement to the left of the flames.</h3>\n\n<p>In addition to what we have just seen, pseudo-random used on the pixels, per line is also used.</p>\n\n<p>This same random number is re-used here:</p>\n\n<p><code>var dst = src - rand + 1;\nfirePixels[dst - FIRE_WIDTH ] = pixel - (rand &amp; 1);</code></p>\n\n<p>Here, a slight shift is made horizontally.</p>\n\n<hr>\n\n<h1>What I have done</h1>\n\n<p>All the explanations above have been implemented, but my program outputs bad results. So:</p>\n\n<ol>\n<li><p>Either I didn't understand well the thinking,</p></li>\n<li><p>Or I badly implemented it.</p></li>\n</ol>\n\n<p>You will find the implementation's sources below.</p>\n\n<h1>Expected results, Actual results &amp; Question</h1>\n\n<p>I expect to have several vertical gradients (each from bottom to top). \"Several\" because my canvas' height is greater than the number of the colors of my gradients and because I use a modulo to choose the color to apply. These gradients must be like those of the curse (<a href=\"http://fabiensanglard.net/doom_fire_psx/\" rel=\"nofollow noreferrer\">http://fabiensanglard.net/doom_fire_psx/</a>).</p>\n\n<p>The actual results are: I get several noises instead.</p>\n\n<p>My question is: why doesn't it work? I think I well understood what to do. Perhaps I forgot ssomething in the implementation, but what?</p>\n\n<p>My question is: why doesn't it work? I think I well understood what to do. Perhaps I forgot ssomething in the implementation, but what?</p>\n\n<h1>Minimal, Complete, and Verifiable example</h1>\n\n<h2>Launcher.java</h2>\n\n<pre><code>import java.util.ArrayList;\n\npublic class Launcher {\n\n    public static void main(String args[]) {\n        int width = 800, height = 800;\n        Gui gui = new Gui(width, height);\n        gui.setUp(\"DOOM-like fire\");\n        gui.setVisible(true);\n\n        Colors colors = new FireColors(new ArrayList&lt;&gt;());\n        gui.colorize(colors.getLastColor(), -1, -1);  // Setting black anywhere\n        gui.colorize(colors.getColorAtIndex(0), -1, height - 1);  // Setting white, in a lower line\n\n        new ThreadPainter(0, colors, gui, width, height).schedulePainting();\n    }\n\n}\n</code></pre>\n\n<h2>Gui.java</h2>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport java.awt.image.BufferedImage;\n\nclass Gui extends JFrame {\n\n    private JPanel panel;\n    private BufferedImage buffered_image;\n\n    Gui(int width, int height) {\n        buffered_image = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n        panel = new JPanel() {\n            public void paintComponent(Graphics graphics) {\n                super.paintComponent(graphics);\n                graphics.drawImage(buffered_image, 0, 0, null);\n            }\n        };\n    }\n\n    void setUp(String title) {\n        setTitle(title);\n        setLayout(null);\n        setSize(buffered_image.getWidth(), buffered_image.getHeight());\n        setContentPane(panel);\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n    }\n\n    void colorize(Color color, int x_parameter, int y_parameter) {\n        for(int y = (y_parameter == -1 ? 0 : y_parameter); y &lt;= (y_parameter == -1 ? this.getHeight() - 1 : y_parameter); y++) {\n            for(int x = (x_parameter == -1 ? 0 : x_parameter); x &lt;= (x_parameter== -1 ? this.getWidth() - 1 : x_parameter); x++) {\n                buffered_image.setRGB(x, y, color.getRGB());\n            }\n        }\n        panel.repaint();\n    }\n\n    int getRGBAtCoordinates(int x, int y) {\n        return buffered_image.getRGB(x, y);\n    }\n\n}\n</code></pre>\n\n<h2>ThreadPainter.java</h2>\n\n<pre><code>import java.util.Timer;\nimport java.util.TimerTask;\n\nclass ThreadPainter extends Timer {\n    private Gui gui;\n    private Colors colors;\n    private int delay;\n    private int height;\n    private int width;\n\n    ThreadPainter(int delay, Colors colors, Gui gui, int width, int height) {\n        this.colors = colors;\n        this.gui = gui;\n        this.delay = delay;\n        this.width = width;\n        this.height = height;\n    }\n\n    void schedulePainting() {\n        this.schedule(new TimerTask() {\n            @Override\n            public void run() {\n                try {\n                    int number_of_colored_portions = height / colors.getSize();\n                    // int locking_changement_of_color = 0;\n                    for(int y = height - 2; y &gt;= 0; y--) {\n\n                        //if(locking_changement_of_color == number_of_colored_portions) {\n                            //locking_changement_of_color = 0;\n                        /*} else {\n                            index_of_color_to_apply = index_of_found_color;\n                        }*/\n\n                        for(int x = 0; x &lt; width; x++) {\n                            int rand = (int) Math.round(Math.random() * 3.0) &amp; 3;\n                            int below_pixel_rgb = gui.getRGBAtCoordinates(x, y + 1);\n                            int index_of_found_color = colors.getIndexOfColor(below_pixel_rgb);\n                            int index_of_color_to_apply = (index_of_found_color + (rand &amp; 1)) % colors.getSize();\n\n                            int x_copy = x - rand + 1;\n                            if(x_copy &lt;= 0) {\n                                x_copy = 0;\n                            } else if(x_copy &gt;= width) {\n                                x_copy = width - 1;\n                            }\n                            gui.colorize(colors.getColorAtIndex(index_of_color_to_apply), x_copy, y);\n                        }\n\n                        //locking_changement_of_color++;\n                        //Thread.sleep(10);\n                    }\n                } catch(Exception e) {\n                    System.err.println(\"Exception: \" + e.getMessage());\n                }\n            }\n        }, this.delay);\n    }\n\n}\n</code></pre>\n\n<h2>Colors.java</h2>\n\n<pre><code>import java.awt.Color;\nimport java.util.List;\n\nabstract class Colors {\n    List&lt;Color&gt; colors;\n\n    Color getColorAtIndex(int index) {\n        return colors.get(index);\n    }\n\n    int getIndexOfColor(int rgb) throws Exception {\n        for (int x = 0; x &lt; colors.size(); x++) {\n            if(colors.get(x).getRGB() == rgb) {\n                return x;\n            }\n        }\n        throw new Exception(\"Color not found in the list!\");\n    }\n\n    int getSize() {\n        return colors.size();\n    }\n\n    Color getLastColor() {\n        return colors.get(colors.size() - 1);\n    }\n}\n</code></pre>\n\n<h2>FireColors.java</h2>\n\n<pre><code>import java.awt.Color;\nimport java.util.List;\n\nclass FireColors extends Colors {\n\n    FireColors(List&lt;Color&gt; colors) {\n\n        this.colors = colors;\n\n        this.colors.add(new Color(255, 255, 255));\n        this.colors.add(new Color(239, 239, 199));\n        this.colors.add(new Color(223, 223, 159));\n        this.colors.add(new Color(207, 207, 111));\n        this.colors.add(new Color(183, 183, 55));\n        this.colors.add(new Color(183, 183, 47));\n        this.colors.add(new Color(183, 175, 47));\n        this.colors.add(new Color(191, 175, 47));\n        this.colors.add(new Color(191, 167, 39));\n        this.colors.add(new Color(191, 167, 39));\n        this.colors.add(new Color(191, 159, 31));\n        this.colors.add(new Color(191, 159, 31));\n        this.colors.add(new Color(199, 151, 31));\n        this.colors.add(new Color(199, 143, 23));\n        this.colors.add(new Color(199, 135, 23));\n        this.colors.add(new Color(207, 135, 23));\n        this.colors.add(new Color(207, 127, 15));\n        this.colors.add(new Color(207, 119, 15));\n        this.colors.add(new Color(207, 111, 15));\n        this.colors.add(new Color(215, 103, 15));\n        this.colors.add(new Color(215, 95, 7));\n        this.colors.add(new Color(223, 87, 7));\n        this.colors.add(new Color(223, 87, 7));\n        this.colors.add(new Color(223, 79, 7));\n        this.colors.add(new Color(199, 71, 7));\n        this.colors.add(new Color(191, 71, 7));\n        this.colors.add(new Color(175, 63, 7));\n        this.colors.add(new Color(159, 47, 7));\n        this.colors.add(new Color(143, 39, 7));\n        this.colors.add(new Color(119, 31, 7));\n        this.colors.add(new Color(103, 31, 7));\n        this.colors.add(new Color(87, 23, 7));\n        this.colors.add(new Color(71, 15, 7));\n        this.colors.add(new Color(47, 15, 7));\n        this.colors.add(new Color(7, 7, 7));\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["java", "random"], "comments": [{"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1546447761, "post_id": 54010111, "comment_id": 94856951, "body": "&quot;<code>random.nextInt(max + 1 - min) + min</code>&quot; Note that isn&#39;t what you&#39;ve got in the code. (Perhaps it would be clearer if you created variables <code>min</code> and <code>max</code>)"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1546447768, "post_id": 54010111, "comment_id": 94856954, "body": "Your formula is correct, but you&#39;re not applying it at all. max is 1, min is -1, so it should be <code>random.nextInt(1 + 1 - (-1)) + (-1)</code>, or <code>random.nextInt(3) - 1</code>. You&#39;re using <code>random.nextInt(2)</code>"}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 1, "creation_date": 1546451752, "post_id": 54010111, "comment_id": 94858640, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/q/363681/608639\">How to generate random integers within a specific range in Java?</a>, <a href=\"https://stackoverflow.com/q/363681/608639\">How to generate random positive and negative numbers in Java</a>, etc. More generally, <a href=\"https://www.google.com/search?q=java+generate+random+number+in+range+site%3Astackoverflow.com\" rel=\"nofollow noreferrer\">java generate random number in range site:stackoverflow.com</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 10134961, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yC1pbdwNkCY/AAAAAAAAAAI/AAAAAAAAAFA/bR3HTEWU-XY/photo.jpg?sz=128", "display_name": "Nick Green", "link": "https://stackoverflow.com/users/10134961/nick-green"}, "edited": false, "score": 0, "creation_date": 1546448091, "post_id": 54010179, "comment_id": 94857123, "body": "ahh of course! the brackets fooled me bad. thank you much!"}], "tags": [], "owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "is_accepted": false, "score": 2, "last_activity_date": 1546449241, "last_edit_date": 1546449241, "creation_date": 1546447937, "answer_id": 54010179, "question_id": 54010111, "link": "https://stackoverflow.com/questions/54010111/trouble-generating-random-1-through-1-in-java/54010179#54010179", "title": "Trouble generating random -1 through +1 in Java", "body": "<p>You state in the question</p>\n\n<pre><code>random.nextInt(max + 1 - min) + min\n</code></pre>\n\n<p>But, using <code>max == 1</code> and <code>min == -1</code>, you have written</p>\n\n<pre><code>random.nextInt((max + 1 - min) + min)\n</code></pre>\n\n<p>Move the final <code>-1</code> out of the brackets.</p>\n\n<pre><code>int xRand = random.nextInt(1 + 1 + 1) - 1;\n</code></pre>\n\n<p>(And consider using variables named <code>min</code> and <code>max</code> instead of magic numbers that you won't know the meaning of when you come back to this code later).</p>\n"}, {"tags": [], "owner": {"reputation": 1273, "user_id": 10858827, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JND1FX_yEQ0/AAAAAAAAAAI/AAAAAAAAA9Y/hiaSV-XqePo/photo.jpg?sz=128", "display_name": "Arne", "link": "https://stackoverflow.com/users/10858827/arne"}, "is_accepted": true, "score": -1, "last_activity_date": 1546448126, "creation_date": 1546448126, "answer_id": 54010220, "question_id": 54010111, "link": "https://stackoverflow.com/questions/54010111/trouble-generating-random-1-through-1-in-java/54010220#54010220", "title": "Trouble generating random -1 through +1 in Java", "body": "<p><code>random.nextInt(1 + 1 + 1) - 1</code></p>\n\n<p><code>random.nextInt(1 + 1 + 1)</code> will generate a random integer from 0 to 2 (think of mod 3)</p>\n\n<p>Adding <code>-1</code> will then result in it generating from -1 to 1</p>\n"}], "owner": {"reputation": 15, "user_id": 10134961, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yC1pbdwNkCY/AAAAAAAAAAI/AAAAAAAAAFA/bR3HTEWU-XY/photo.jpg?sz=128", "display_name": "Nick Green", "link": "https://stackoverflow.com/users/10134961/nick-green"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "closed_date": 1546452813, "accepted_answer_id": 54010220, "answer_count": 2, "score": -1, "last_activity_date": 1546451710, "creation_date": 1546447639, "last_edit_date": 1546451710, "question_id": 54010111, "link": "https://stackoverflow.com/questions/54010111/trouble-generating-random-1-through-1-in-java", "closed_reason": "Not suitable for this site", "title": "Trouble generating random -1 through +1 in Java", "body": "<p>I'm trying to figure out how to best generate a random number between -1 and 1. I thought this was the formula below but my output is always 0s and 1s, no negatives.</p>\n\n<pre><code>random.nextInt(max + 1 - min) + min\n</code></pre>\n\n<p>Here's the actual code:</p>\n\n<pre><code>int xRand = random.nextInt((1 + 1 + 1) - 1);\nint yRand = random.nextInt((1 + 1 + 1) - 1);\n\nSystem.out.println(\"x: \" + xRand);\nSystem.out.println(\"y: \" + yRand);\n</code></pre>\n"}, {"tags": ["java", "swing", "jcombobox", "itemlistener"], "comments": [{"owner": {"reputation": 3393, "user_id": 214143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61025b3df4700620a5d9099293f23a5d?s=128&d=identicon&r=PG", "display_name": "Jason Aller", "link": "https://stackoverflow.com/users/214143/jason-aller"}, "edited": false, "score": 1, "creation_date": 1546455363, "post_id": 54010049, "comment_id": 94860071, "body": "Welcome to Stack Overflow. Please read about <a href=\"https://stackoverflow.com/help/asking\">asking questions</a>. Please provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10809411, "user_type": "registered", "profile_image": "https://graph.facebook.com/2199857833392725/picture?type=large", "display_name": "Joe Estephan", "link": "https://stackoverflow.com/users/10809411/joe-estephan"}, "edited": false, "score": 0, "creation_date": 1546455556, "post_id": 54010411, "comment_id": 94860143, "body": "I thaught that i need item listener to check what item is selected"}], "tags": [], "owner": {"reputation": 719, "user_id": 2267554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10cfce442a9bd102017c83f29020cbf4?s=128&d=identicon&r=PG", "display_name": "Udaya Shankara Gandhi Thalabat", "link": "https://stackoverflow.com/users/2267554/udaya-shankara-gandhi-thalabat"}, "is_accepted": false, "score": 0, "last_activity_date": 1546448934, "creation_date": 1546448934, "answer_id": 54010411, "question_id": 54010049, "link": "https://stackoverflow.com/questions/54010049/multiple-jcombobox-listeners/54010411#54010411", "title": "multiple JComboBox listeners", "body": "<p>Please look into the below JComboBox basic example given by Java. Use getSelectedItem() of JComboBox in actionPerformed() method of each combo box whenever an item got selected in it.</p>\n\n<pre><code>public void actionPerformed(ActionEvent e) {\n        JComboBox cb = (JComboBox)e.getSource();\n        String petName = (String)cb.getSelectedItem();\n        updateScrollpane(petName); // Update your scrollpane\n}\n</code></pre>\n\n<p>Do the same thing for all of your 4 dropdowns and update the scrollpane</p>\n"}], "owner": {"reputation": 11, "user_id": 10809411, "user_type": "registered", "profile_image": "https://graph.facebook.com/2199857833392725/picture?type=large", "display_name": "Joe Estephan", "link": "https://stackoverflow.com/users/10809411/joe-estephan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546476784, "creation_date": 1546447438, "last_edit_date": 1546476784, "question_id": 54010049, "link": "https://stackoverflow.com/questions/54010049/multiple-jcombobox-listeners", "title": "multiple JComboBox listeners", "body": "<p>I am new to JComboBox</p>\n\n<p>I have 4 JComboBoxes: specialite, etudiant, annee, and semestre.</p>\n\n<p>I need to get the selected item from the 4 of them each time I change the selected item and add the result to the ScrollPane (groupe des matieres ouvertes)</p>\n\n<p><a href=\"https://i.stack.imgur.com/FAMAf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FAMAf.png\" alt=\"Project Screenshot\"></a></p>\n"}]