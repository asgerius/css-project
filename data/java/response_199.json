[{"tags": ["java", "if-statement"], "comments": [{"owner": {"reputation": 20514, "user_id": 2411243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jC999.png?s=128&g=1", "display_name": "Zabuzard", "link": "https://stackoverflow.com/users/2411243/zabuzard"}, "edited": false, "score": 0, "creation_date": 1541034042, "post_id": 53093439, "comment_id": 93084449, "body": "As a future note: If you get an error (the code does not compile), please provide the <b>full error message</b> in your question. Then it is <b>way</b> easier for us to help."}], "answers": [{"tags": [], "owner": {"reputation": 182833, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "is_accepted": false, "score": 6, "last_activity_date": 1541030113, "creation_date": 1541030113, "answer_id": 53093450, "question_id": 53093439, "link": "https://stackoverflow.com/questions/53093439/or-combinator-not-working-in-java-if-statement/53093450#53093450", "title": "OR combinator not working in Java IF statement", "body": "<p>Because there is no short-cut syntax like that. And you want <code>&amp;&amp;</code> (not <code>||</code>).</p>\n\n<pre><code>if (key != VK_RIGHT &amp;&amp; key != VK_DOWN)\n</code></pre>\n\n<p>The reason you don't want <code>or</code> is because those conditions will always be true (there is no key that is not RIGHT or not DOWN - that's all keys).</p>\n"}, {"tags": [], "owner": {"reputation": 398, "user_id": 9612076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kVh77.jpg?s=128&g=1", "display_name": "TNTFreaks", "link": "https://stackoverflow.com/users/9612076/tntfreaks"}, "is_accepted": false, "score": 0, "last_activity_date": 1541075139, "last_edit_date": 1541075139, "creation_date": 1541030307, "answer_id": 53093483, "question_id": 53093439, "link": "https://stackoverflow.com/questions/53093439/or-combinator-not-working-in-java-if-statement/53093483#53093483", "title": "OR combinator not working in Java IF statement", "body": "<p>\"if key does not equal right or down\" translates to: <code>key != VK_RIGHT &amp;&amp; key != VK_DOWN</code> </p>\n\n<p>\"if key is not right or key is not down\" translates to: <code>key != VK_RIGHT || key != VK_DOWN</code></p>\n"}], "owner": {"reputation": 25, "user_id": 10588539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10b18a59a9810ad28485f14c6eea53ee?s=128&d=identicon&r=PG&f=1", "display_name": "servaner", "link": "https://stackoverflow.com/users/10588539/servaner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "closed_date": 1541039347, "answer_count": 2, "score": 0, "last_activity_date": 1541075139, "creation_date": 1541029958, "last_edit_date": 1541041399, "question_id": 53093439, "link": "https://stackoverflow.com/questions/53093439/or-combinator-not-working-in-java-if-statement", "closed_reason": "Needs details or clarity", "title": "OR combinator not working in Java IF statement", "body": "<pre><code>if (key != (VK_RIGHT || VK_DOWN)) //in this line bluej saying that's not correctly written. i want when the user is not pressing the down or up arrow it makes the error sound.\n{\nplaySound(\"error\");\n}\n</code></pre>\n\n<p>i want when the user is not pressing the down or up arrow it makes the error sound. but in bluej it shows me that the || is not working.</p>\n"}, {"tags": ["java", "binary-search-tree", "remove-method"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1541029876, "post_id": 53093367, "comment_id": 93083618, "body": "The code for <code>BinaryNode.getParent()</code> would be of interest, too."}, {"owner": {"reputation": 353, "user_id": 8705952, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d3655760f5ef9fe92833603259b7a7c8?s=128&d=identicon&r=PG&f=1", "display_name": "Pengibaby", "link": "https://stackoverflow.com/users/8705952/pengibaby"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1541030215, "post_id": 53093367, "comment_id": 93083689, "body": "Thank you for the reply! I have added the code for <code>getParent</code> and the constructors for the <code>BinaryNode</code> class at the end of the original post, hope it helps answering my question!"}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 1, "creation_date": 1541030440, "post_id": 53093367, "comment_id": 93083734, "body": "Do <code>BinaryNode.setLeft(node)</code> and <code>setRight(node)</code> correctly set the <code>node.parentNode</code>?"}, {"owner": {"reputation": 353, "user_id": 8705952, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d3655760f5ef9fe92833603259b7a7c8?s=128&d=identicon&r=PG&f=1", "display_name": "Pengibaby", "link": "https://stackoverflow.com/users/8705952/pengibaby"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1541030740, "post_id": 53093367, "comment_id": 93083807, "body": "Those only set the left and right child. Is that the problem? So I should put the <code>setParent</code> method with in <code>BinaryNode.setLeft</code> and <code>BinaryNode.setRight</code> method?"}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 1, "creation_date": 1541030878, "post_id": 53093367, "comment_id": 93083833, "body": "Probably. If you look at <code>put()</code> there is <code>newNode.setLeft(new BinaryNode());</code> where you create a new leaf node whose parent isn&#39;t set (same for <code>setRight</code>)."}, {"owner": {"reputation": 353, "user_id": 8705952, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d3655760f5ef9fe92833603259b7a7c8?s=128&d=identicon&r=PG&f=1", "display_name": "Pengibaby", "link": "https://stackoverflow.com/users/8705952/pengibaby"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1541031020, "post_id": 53093367, "comment_id": 93083858, "body": "Okay, thank you! I will try adding the <code>setParent</code> method right now :)"}, {"owner": {"reputation": 353, "user_id": 8705952, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d3655760f5ef9fe92833603259b7a7c8?s=128&d=identicon&r=PG&f=1", "display_name": "Pengibaby", "link": "https://stackoverflow.com/users/8705952/pengibaby"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1541031275, "post_id": 53093367, "comment_id": 93083917, "body": "@MichaelButscher Oh my god, I added the <code>setParent</code> method to the code and everything works instantly! Thank you so much for your answer, I feel dumb not adding that in to be honest, it should have been obvious that after setting the child, the parent of the child has to be set too. Gonna keep that in my notes  xD Thank you again!  :)"}], "owner": {"reputation": 353, "user_id": 8705952, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d3655760f5ef9fe92833603259b7a7c8?s=128&d=identicon&r=PG&f=1", "display_name": "Pengibaby", "link": "https://stackoverflow.com/users/8705952/pengibaby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 297, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543484861, "creation_date": 1541029254, "last_edit_date": 1543484861, "question_id": 53093367, "link": "https://stackoverflow.com/questions/53093367/removing-a-node-from-binary-search-tree-bts-and-successor-method", "title": "Removing a node from Binary Search Tree (BTS), and successor method", "body": "<p>In my new class assignment, one of the classes in my program I have to write is a BinarySearchTree class. There are 2 methods on which I am struggling a bit, and that's the <code>remove</code> method and <code>successor</code> method.</p>\n\n<p>The binary search tree only stores data in the internal nodes, so the leaf nodes are empty, but not null. however in my <code>remove</code> method I always get an <code>nullPointerException</code> at <code>if(parent.getLeft() == nodeToBeRemoved)</code> and I am not sure why.</p>\n\n<p>Here is my code for <code>remove</code> method:</p>\n\n<pre><code>public void remove(Pair k) throws DictionaryException {\n    BinaryNode nodeToBeRemoved = searchTreeNode(root, k); //Searches the tree for the node to be removed.\n    if(nodeToBeRemoved.isLeaf()) { //If the search returns a leaf node, the node to be removed is not in the tree.\n        throw new DictionaryException(\"key\");\n    } else {\n        //If the node to be removed has one child (plus one leaf child) or both children are leaf nodes.\n        if(nodeToBeRemoved.getLeft().isLeaf() || nodeToBeRemoved.getRight().isLeaf()) {\n            BinaryNode childNode;\n            if(nodeToBeRemoved.getLeft().isLeaf()) {\n                childNode = nodeToBeRemoved.getRight();\n            } else {\n                childNode = nodeToBeRemoved.getLeft();\n            }\n            BinaryNode parent = nodeToBeRemoved.getParent(); //Parent of the node to be removed.\n            if(nodeToBeRemoved == root) { //If the node to be removed is the root, the child is set to be the new root.\n                root = childNode;\n            } else {\n                if(parent.getLeft() == nodeToBeRemoved) {\n                    parent.setLeft(childNode);\n                } else {\n                    parent.setRight(childNode);\n                }\n            }\n        } else { //If the node to be removed has two children (non leaf children).\n            BinaryNode successorNode = smallestNode(nodeToBeRemoved.getRight()); //Finds the successor node of the node to be removed.\n            nodeToBeRemoved.setData(successorNode.getData()); //Sets the node to be removed data to be the successor node's data.\n            remove(successorNode.getData().getKey()); //The successor is then removed.\n        }\n    }\n}\n</code></pre>\n\n<p>and my <code>put</code> method, in case it's actually something wrong with that:</p>\n\n<pre><code>public void put(Record r) throws DictionaryException {\n    BinaryNode newNode = searchTreeNode(root, r.getKey()); //Searches the tree for the node.\n    if(!newNode.isLeaf()) { //If the node is not a leaf, then the data is already in the tree, so exception is thrown.\n        throw new DictionaryException(\"key\");\n    } else { //Otherwise, the data item is not in the tree, and will be added.\n        newNode.setData(r);\n        newNode.setLeft(new BinaryNode()); //Sets the left child to be a leaf node.\n        newNode.setRight(new BinaryNode()); //Sets the right child to be a leaf node.\n    }\n}\n</code></pre>\n\n<p>The successor method takes in key \"k\" and returns the data stored in the successor node, however the key \"k\" does not have to be stored in any of the node in the tree already, so what I did was temporarily added it to the tree, found the successor node and then removed it using the <code>remove</code> method. However, using the test.java file I received from the prof, this method fails the test. Here is my successor code:</p>\n\n<pre><code>public Record successor(Pair k) {\n    boolean added = false; //A boolean variable to determine if the key is added to the tree.\n    BinaryNode tempNode = root;\n    //If the key is not in any of the nodes in the tree, then add this node to the tree.\n    if(searchTreeNode(tempNode, k).isLeaf()) {\n        put(new Record(k, null));\n        added = true; //sets added to true, showing that the node with \"key\" was added.\n    }\n    BinaryNode inputNode = searchTreeNode(tempNode, k);\n    //If the right child of the node is not null, then the successor is the smallest node in the right subtree.\n    if(!inputNode.getRight().isLeaf()) {\n        return smallestNode(inputNode.getRight()).getData();\n    }\n    //Otherwise, we have to search up the tree until the parent of the node is the left child of another node. then\n    //That \"another node\" will be the first right ancestor, which is the successor node.\n    BinaryNode inputNodeParent = inputNode.getParent();\n    while(inputNodeParent != null &amp;&amp; inputNode == inputNodeParent.getRight()) {\n        inputNode = inputNodeParent;\n        inputNodeParent = inputNodeParent.getParent();\n    }\n\n    Record dataValue = inputNodeParent.getData();\n\n    //If the key is added to the tree, we need to remove it now, since it was not originally in the tree.\n    if(added == true) {\n        remove(k);\n        added = false;\n    }\n\n    return dataValue;\n}\n</code></pre>\n\n<p>And the <code>searchTreeNode</code> method used in <code>put</code> and <code>remove</code>:</p>\n\n<pre><code>private BinaryNode searchTreeNode(BinaryNode r, Pair k) {\n    BinaryNode tempNode = r; //duplicates the root node.\n    BinaryNode prev = r.getParent();\n    if(tempNode.isLeaf()) {\n        return tempNode;\n    } else {\n        if(tempNode.getData().getKey().compareTo(k) == 0) {\n            return tempNode;\n        } else if(tempNode.getData().getKey().compareTo(k) == 1) {\n            return searchTreeNode(tempNode.getLeft(), k);\n        } else {\n            return searchTreeNode(tempNode.getRight(), k);\n        }\n    }\n}\n</code></pre>\n\n<p>I don't really know why I get the <code>nullPointerException</code> error in the <code>remove</code> method and not really sure why <code>successor</code> method fails either.</p>\n\n<h2>Edit</h2>\n\n<p>Code for <code>BinaryNode</code> <code>getParent</code> method along with the constructor:</p>\n\n<pre><code>public BinaryNode(Record value, BinaryNode left, BinaryNode right, BinaryNode parent) {\n    recordValue = value; //Initializes the Record object.\n    leftNode = left; //Initializes the left child of this node.\n    rightNode = right; //Initializes the right child of this node.\n    parentNode = parent; //Initializes the parent of this node.\n}\npublic BinaryNode() {\n    //Initializes all the variable to null.\n    recordValue = null;\n    leftNode = null;\n    rightNode = null;\n    parentNode = null;\n}\npublic BinaryNode getParent() {\n    return parentNode;\n}\n</code></pre>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 2, "creation_date": 1541028917, "post_id": 53093319, "comment_id": 93083417, "body": "It&#39;s up to you. There no right answer."}, {"owner": {"reputation": 31, "user_id": 6174741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f727dbeb416deb4b3dd6d11a646c25?s=128&d=identicon&r=PG&f=1", "display_name": "V&#237;ctor", "link": "https://stackoverflow.com/users/6174741/v%c3%adctor"}, "reply_to_user": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1541029124, "post_id": 53093319, "comment_id": 93083466, "body": "Or if there is a convention, which one is mostly used"}, {"owner": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 1, "creation_date": 1541029612, "post_id": 53093319, "comment_id": 93083577, "body": "I have to disagree with shmosel. If the requirement is to prevent students with names longer than 20 chars, then example one is the <i>wrong</i> answer. It only prevents creating such students in the given example, but not altogether."}, {"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "reply_to_user": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 0, "creation_date": 1541029768, "post_id": 53093319, "comment_id": 93083601, "body": "@Tom Example 2 doesn&#39;t either, because there might be another constructor without the check. And <code>name</code> can be modified after construction. We can only answer in the context of the provided code."}, {"owner": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "reply_to_user": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1541030586, "post_id": 53093319, "comment_id": 93083772, "body": "@shmosel You argue with code style issues of OPs example 2 to defend the conceptual issue of example 1 when it comes to constraint validations?"}, {"owner": {"reputation": 861, "user_id": 2594494, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/7U1RR.png?s=128&g=1", "display_name": "Calicoder", "link": "https://stackoverflow.com/users/2594494/calicoder"}, "edited": false, "score": 0, "creation_date": 1541031186, "post_id": 53093319, "comment_id": 93083892, "body": "@Viktor &quot;comprobations&quot; isn&#39;t a word in english but I think you mean &quot;validations.&quot;"}, {"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "reply_to_user": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 0, "creation_date": 1541031466, "post_id": 53093319, "comment_id": 93083963, "body": "@Tom My point is they&#39;re both correctly enforcing the constraint <i>within the provided code</i>, so it&#39;s not accurate to say one of them is wrong. I do understand the point you&#39;re making, but it relies on anticipating or inferring additional code, which is ultimately a judgement call."}, {"owner": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "reply_to_user": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1541031865, "post_id": 53093319, "comment_id": 93084046, "body": "@shmosel I wouldn&#39;t focus that much about the code OP has posted, but rather the context of each example that OP tried to represent. Thus example one is &quot;outside of the model class; prior creating the object&quot; and example two is &quot;inside the model constructor&quot;. A third example could be a factory, but that isn&#39;t shown here. Example one relies on the &quot;caller&quot; to check the constraints, but we don&#39;t necessarily have control over them, thus we can&#39;t enforce such validations or prevent someone else creating a student with a 100 char long name."}, {"owner": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 0, "creation_date": 1541031868, "post_id": 53093319, "comment_id": 93084047, "body": "OPs examples may don&#39;t show that, but that&#39;s what (s)he is asking here about."}, {"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "reply_to_user": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 0, "creation_date": 1541032148, "post_id": 53093319, "comment_id": 93084098, "body": "@Tom You seem to be assuming the constraint is on the model rather than the program, but that&#39;s not obvious to me from the question. Even if it is, it may be useful to separate the object definition from its validation, as miroxlav discusses."}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "reply_to_user": {"reputation": 861, "user_id": 2594494, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/7U1RR.png?s=128&g=1", "display_name": "Calicoder", "link": "https://stackoverflow.com/users/2594494/calicoder"}, "edited": false, "score": 0, "creation_date": 1541035755, "post_id": 53093319, "comment_id": 93084796, "body": "@Calicoder Actually, <a href=\"https://en.wiktionary.org/wiki/comprobation\" rel=\"nofollow noreferrer\"><code>comprobations</code></a> is indeed a word in English, but is obsolete. Meaning: <code>(obsolete) joint attestation; proof</code>, or <code>(obsolete) approbation</code> according to Wiktionary.com. Kind of interesting, almost feels like we should resurrect this word for use in a computer science context."}, {"owner": {"reputation": 861, "user_id": 2594494, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/7U1RR.png?s=128&g=1", "display_name": "Calicoder", "link": "https://stackoverflow.com/users/2594494/calicoder"}, "reply_to_user": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 0, "creation_date": 1541047358, "post_id": 53093319, "comment_id": 93086933, "body": "@BasilBourque I comprobate with you that we should resurrect comprobation!"}], "answers": [{"tags": [], "owner": {"reputation": 10875, "user_id": 2392157, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/QEWAU.png?s=128&g=1", "display_name": "miroxlav", "link": "https://stackoverflow.com/users/2392157/miroxlav"}, "is_accepted": false, "score": 3, "last_activity_date": 1541030666, "last_edit_date": 1541030666, "creation_date": 1541029553, "answer_id": 53093396, "question_id": 53093319, "link": "https://stackoverflow.com/questions/53093319/where-to-place-comprobations-in-java/53093396#53093396", "title": "Where to place comprobations in Java?", "body": "<p>In simple programs, it does not matter too much. In complex applications there is number of factors which determines this:</p>\n\n<ul>\n<li>Can objects with invalid values still exist under some conditions? (Do they have their significance even if they contain invalid values?)</li>\n<li>Is validation expensive? (Does it require computing, network connection or database operations?)</li>\n<li>Is validation possible? (Do we already have all the information required for validation?)</li>\n<li>Does the validation have its own phase where this object is validated together with or against others?</li>\n<li>Is there existing convention or requirement?</li>\n</ul>\n\n<p>etc...</p>\n\n<p>So most times, this will become given by architecture or constraints of design or other factors related to larger application. In very small program, you might not find any of those factors determining optimal placement of validations.</p>\n\n<p>In the sample object creation code you show above, you normally won't silently skip values longer than 20 characters but you will typically throw an exception in such a case. If this is data processing and not deliberate <em>filtering</em> of records shorter than 20 characters, you don't want to silently omit unsuitable records. (Imagine who will manually check why in set of 1000 records, some 5 records is missing and there was no error message to indicate what has gone wrong. So as maybe you can see, the above approach is not for practical use anyway.)</p>\n"}, {"comments": [{"owner": {"reputation": 81986, "user_id": 15880, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7618ff7a4952a494b8f41bd0df646790?s=128&d=identicon&r=PG", "display_name": "Powerlord", "link": "https://stackoverflow.com/users/15880/powerlord"}, "edited": false, "score": 0, "creation_date": 1541204978, "post_id": 53094004, "comment_id": 93149212, "body": "I&#39;m not sure how I&#39;d never heard of the <code>java.util.Objects</code> class until now.  Then again, the last major Java project I worked on was only Java 6..."}], "tags": [], "owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "is_accepted": true, "score": 3, "last_activity_date": 1541200685, "last_edit_date": 1541200685, "creation_date": 1541035255, "answer_id": 53094004, "question_id": 53093319, "link": "https://stackoverflow.com/questions/53093319/where-to-place-comprobations-in-java/53094004#53094004", "title": "Where to place comprobations in Java?", "body": "<h1>Objects take responsibility for themselves</h1>\n\n<p>Generally in <a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">object-oriented programming (OOP)</a>, we want objects to be responsible for themselves. Business rules regarding the integrity of their internal state should be handled, well, internally (or delegated to a builder -- see below). This idea is part of what is known formally in OOP as <a href=\"https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)\" rel=\"nofollow noreferrer\"><em>encapsulation</em></a>.</p>\n\n<p>So in your example, the <code>Professor</code> class should not worrying about the <code>Student</code> class\u2019 rules such as length of the student\u2019s name. The <code>Student</code> class should be enforcing its own integrity. We want the logic for these integrity rules to be located in one single place, not spread out over your entire app. </p>\n\n<p>Indeed, the <strong><code>Professor</code> class should <em>not</em> be instantiating the <code>Student</code></strong> object. Implied in your example is that there must be some other party that is assigning students to a professor. Perhaps a <a href=\"https://en.wikipedia.org/wiki/Tutorial_system\" rel=\"nofollow noreferrer\"><code>Tutorial</code></a> object that is responsible for tracking the assignment and progress of a few students being supervised by a professor. This <code>Tutorial</code> should be instantiating the <code>Student</code> objects, or passing on the <code>Student</code> objects received from some other source such as a database-service object. </p>\n\n<p>By the time the <code>Student</code> objects reach the <code>Professor</code>, they should be valid. The <code>Professor</code> class should not be concerned with what makes a <code>Student</code> valid or not. The <code>Professor</code> should only be concerned with what makes a <code>Professor</code> valid or not.</p>\n\n<pre><code>class Professor{\n    List&lt; Student &gt; students;\n    \u2026\n    public void addStudent( Student student ){\n        Objects.requireNonNull\u200b( student , \"Received NULL rather than a Student object. Message # 68a0ff63-8379-4e4c-850f-e4e06bd8378a.\" ) ;  // Throw an exception if passed a null object.\n        Objects.requireNonNull\u200b( this.students , \"Collection of Student objects is NULL. Message # c22d7b22-b450-4122-a4d6-61f92129569a.\" ) ;  // Throw an exception if the `students` list is not established.\n        this.students.add( student ) ;\n    }\n}\n</code></pre>\n\n<p>Besides the idea of objects being responsible for themselves, another reason for <code>Professor</code> to not be instantiating <code>Student</code> objects is to facilitate <a href=\"https://en.wikipedia.org/wiki/Software_testing\" rel=\"nofollow noreferrer\">testing</a>. If the <code>Student</code> objects come from some other source, that source can provide <em>faux</em> objects using a <code>Student</code> class or interface that is not yet finished, has certain functionality disabled (such as database access), or is substituted with bogus data designed for testing a scenario.</p>\n\n<h1>Builder pattern</h1>\n\n<p>If you have multiple properties that need verifying in order to instantiate a new object, you may want to use the <a href=\"https://en.wikipedia.org/wiki/Builder_pattern\" rel=\"nofollow noreferrer\">Builder pattern</a>. You define an additional class, such as <code>StudentBuilder</code> that has methods for each of the parts needed to make a student. </p>\n\n<p>Often, these methods all return the same <code>StudentBuilder</code> object to facilitate <a href=\"https://en.wikipedia.org/wiki/Method_chaining\" rel=\"nofollow noreferrer\">call-chaining</a>.</p>\n\n<p>Different folks have different styles for a builder. One way is to provide a validity-checking method, and perhaps a method that provides a list of problems that prevent building the desired object. </p>\n\n<p>Some people use a word like <code>with</code> rather than the accessor method <code>set</code> to make clear that while we are temporarily setting a property on the builder, the real intention is to be setting a property on an object of another class.</p>\n\n<pre><code>StudentBuilder sb = new StudentBuilder().withFirstName( \"Alice\" ).withLastName( \"Coleman\" ).withEmail( \"x@y.com\" );\nif( sb.isValid() ) {\n    Student s = sb.build() ;\n    \u2026\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6174741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f727dbeb416deb4b3dd6d11a646c25?s=128&d=identicon&r=PG&f=1", "display_name": "V&#237;ctor", "link": "https://stackoverflow.com/users/6174741/v%c3%adctor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 1, "accepted_answer_id": 53094004, "answer_count": 2, "score": 3, "last_activity_date": 1541200685, "creation_date": 1541028844, "last_edit_date": 1541033276, "question_id": 53093319, "link": "https://stackoverflow.com/questions/53093319/where-to-place-comprobations-in-java", "title": "Where to place comprobations in Java?", "body": "<p>I've come up with this problem over and over again when creating objects that must verify conditions. Should the checks be placed before trying to create the object or in the constructor of the object itself?</p>\n\n<p>To illustrate it better, here's an example: let's say that we have a student manager, a professor, who adds students objects to a list of them. When creating a new student object, we must check that his name is maximum 20 characters long. </p>\n\n<pre><code>class Professor{\n    LinkedList&lt;Student&gt; studentsList;\n\n    Professor(){\n        studentsList = new LinkedList&lt;Student&gt;();\n    }\n\n    public Student addStudent(String studentName){\n        // Place 1\n        if (studentName.length &lt;= 20)\n            studentList.add(new Student(studentName));\n        else\n             // Do another thing\n    }\n}\n\nclass Student {\n    String name;\n\n    Student(String studentName){\n        // Place 2\n        if (studentName.length &lt;= 20)\n            name = studentName);\n        else\n            // Don't create the object and throw exception \n    }\n}\n</code></pre>\n\n<p>So basically my question would be, should the checks be done in \"Place 1\", before trying to create the student, or in \"Place 2\", in the constructor of students.</p>\n"}, {"tags": ["java", "android", "kotlin", "android-storage"], "comments": [{"owner": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "edited": false, "score": 0, "creation_date": 1541028843, "post_id": 53093301, "comment_id": 93083392, "body": "I have searched on google and stack overflow but didn&#39;t find answer."}], "answers": [{"comments": [{"owner": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "edited": false, "score": 1, "creation_date": 1541030717, "post_id": 53093346, "comment_id": 93083799, "body": "I have tried this code but it gets &quot;mounted&quot; even I have removed SdCard."}], "tags": [], "owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "is_accepted": false, "score": 0, "last_activity_date": 1541029050, "creation_date": 1541029050, "answer_id": 53093346, "question_id": 53093301, "link": "https://stackoverflow.com/questions/53093301/how-to-get-sdcard-path-in-android/53093346#53093346", "title": "How to get SdCard path in android?", "body": "<p>For getting path you need to call <code>Environment.getExternalStorageState()</code></p>\n"}, {"comments": [{"owner": {"reputation": 901, "user_id": 2474581, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4jZ67.jpg?s=128&g=1", "display_name": "Jomme", "link": "https://stackoverflow.com/users/2474581/jomme"}, "edited": false, "score": 0, "creation_date": 1583245365, "post_id": 53094028, "comment_id": 107045769, "body": "All above &#39;//return result;&#39; won&#39;t do much.;) You can make it simple by just using return paths.get(0)"}], "tags": [], "owner": {"reputation": 2426, "user_id": 6003394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Nm6mq.png?s=128&g=1", "display_name": "aolphn", "link": "https://stackoverflow.com/users/6003394/aolphn"}, "is_accepted": false, "score": 1, "last_activity_date": 1541035433, "creation_date": 1541035433, "answer_id": 53094028, "question_id": 53093301, "link": "https://stackoverflow.com/questions/53093301/how-to-get-sdcard-path-in-android/53094028#53094028", "title": "How to get SdCard path in android?", "body": "<p>For getting sdcard path,try following code:</p>\n\n<pre><code>public static String getExternalSDCardRootDirectory() {\n\n\n    String cmdMOUNT = \"cat /proc/mounts\";\n    Runtime run = Runtime.getRuntime();\n    List&lt;String&gt; paths = new ArrayList&lt;&gt;();\n    try {\n        Process p = run.exec(cmdMOUNT);\n        BufferedInputStream in = new BufferedInputStream(p.getInputStream());\n        BufferedReader inBr = new BufferedReader(new InputStreamReader(in));\n\n        String lineStr;\n        while ((lineStr = inBr.readLine()) != null) {\n            Log.d(TAG, lineStr);\n            if (lineStr.toLowerCase().contains(\"sdcard\") || lineStr.toLowerCase().contains(\"ext\") ) {\n                String[] strArray = lineStr.split(\" \");\n                if (strArray.length &gt;= 3 &amp;&amp;\n                        (!strArray[1].contains(\"/system\") &amp;&amp; \n                        !strArray[1].contains(\"/data\") &amp;&amp;\n                        !strArray[1].contains(\"/cache\") &amp;&amp;\n                        !strArray[1].contains(\"/persist\") \n                        )) {\n\n                    String result = strArray[1].trim();\n\n                    if((result.contains(\"ext\") || result.contains(\"1\")) &amp;&amp; result.contains(\"storage\")) {\n                        paths.add(result);\n                    }\n                    //return result;\n                }\n            }\n            if (p.waitFor() != 0 &amp;&amp; p.exitValue() == 1) {\n                Log.e(TAG, \"check mount info failed\");\n                return null;\n            }\n        }\n        inBr.close();\n        in.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n        return null;\n    }\n\n    if (paths.size() &gt; 0) {\n        return paths.get(0);\n    }\n    else {\n        return null;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 275, "user_id": 8073426, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/viInL.jpg?s=128&g=1", "display_name": "PartTimeNerd", "link": "https://stackoverflow.com/users/8073426/parttimenerd"}, "is_accepted": false, "score": 0, "last_activity_date": 1541036824, "creation_date": 1541036824, "answer_id": 53094164, "question_id": 53093301, "link": "https://stackoverflow.com/questions/53093301/how-to-get-sdcard-path-in-android/53094164#53094164", "title": "How to get SdCard path in android?", "body": "<p>I've found an <a href=\"https://stackoverflow.com/questions/11281010/how-can-i-get-external-sd-card-path-for-android-4-0]\">existing post</a>.</p>\n\n<p>Simply change it to...</p>\n\n<pre><code>public static HashSet&lt;String&gt; getExternalMounts() {\nfinal HashSet&lt;String&gt; out = new HashSet&lt;String&gt;();\nString reg = \"(?i).*vold.*(vfat|ntfs|exfat|fat32|ext3|ext4).*rw.*\";\nString s = \"\";\ntry {\n    final Process process = new ProcessBuilder().command(\"mount\")\n            .redirectErrorStream(true).start();\n    process.waitFor();\n    final InputStream is = process.getInputStream();\n    final byte[] buffer = new byte[1024];\n    while (is.read(buffer) != -1) {\n        s = s + new String(buffer);\n    }\n    is.close();\n} catch (final Exception e) {\n    e.printStackTrace();\n}\n\n// parse output\nfinal String[] lines = s.split(\"\\n\");\nfor (String line : lines) {\n    if (!line.toLowerCase(Locale.US).contains(\"asec\")) {\n        if (line.matches(reg)) {\n            String[] parts = line.split(\" \");\n            for (String part : parts) {\n                if (part.startsWith(\"/\"))\n                    if (!part.toLowerCase(Locale.US).contains(\"vold\"))\n                        out.add(part);\n            }\n        }\n    }\n}\nreturn out;\n}\n</code></pre>\n\n<p>The tested solution on different platforms can be found <a href=\"https://stackoverflow.com/questions/5694933/find-an-external-sd-card-location\">here</a>.</p>\n"}], "owner": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2516, "favorite_count": 2, "closed_date": 1541096507, "answer_count": 3, "score": 2, "last_activity_date": 1541061775, "creation_date": 1541028726, "last_edit_date": 1541061775, "question_id": 53093301, "link": "https://stackoverflow.com/questions/53093301/how-to-get-sdcard-path-in-android", "closed_reason": "Duplicate", "title": "How to get SdCard path in android?", "body": "<p>I need SdCard path to save files in it. I have tried some codes but these code didn't work on some devices or Android versions. Now I need a code/path that get SdCard path for all device and all Android versions.</p>\n"}, {"tags": ["java", "arraylist"], "comments": [{"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1541028407, "post_id": 53093245, "comment_id": 93083275, "body": "&quot;Optimised&quot; in what way? Performance? Amount of code? Code complexity? Storage used? Something else?"}, {"owner": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 2, "creation_date": 1541028559, "post_id": 53093245, "comment_id": 93083318, "body": "A naive way to do that would be a <code>List&lt;List&lt;String&gt;&gt;</code> which you sort by using a <code>Comparator&lt;List&lt;String&gt;&gt;</code> to compare list sizes."}, {"owner": {"reputation": 78, "user_id": 7608265, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1d3898e099c8fdb28acd92630adae568?s=128&d=identicon&r=PG&f=1", "display_name": "OlatunjiYSO", "link": "https://stackoverflow.com/users/7608265/olatunjiyso"}, "reply_to_user": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1541028588, "post_id": 53093245, "comment_id": 93083332, "body": "@Andreas , Amount of code. The If(s) seems too much."}, {"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1541029581, "post_id": 53093245, "comment_id": 93083571, "body": "Define &quot;long&quot; and &quot;longer&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "is_accepted": false, "score": 2, "last_activity_date": 1541028995, "creation_date": 1541028995, "answer_id": 53093337, "question_id": 53093245, "link": "https://stackoverflow.com/questions/53093245/determine-the-long-longer-and-longest-arraylist-of-strings/53093337#53093337", "title": "Determine the long, longer and longest ArrayList of Strings", "body": "<p>Here is a Stream API approach to reducing the amount of code:</p>\n\n<pre><code>static String sortLists(List&lt;String&gt; firstList, List&lt;String&gt; secondList, List&lt;String&gt; thirdList) {\n     return Stream.of(firstList, secondList, thirdList)\n                  .sorted(Comparator.comparingInt(List::size))\n                  .collect(collectingAndThen(toList(), f -&gt; \"long: \" + f.get(0) + \", longer: \" +\n                         f.get(1) + \", longest: \" + f.get(2)));\n}\n</code></pre>\n\n<p>create a stream from the three lists, then sort by their sizes and then finally apply a finishing function to get the expected format.</p>\n\n<p>imports required:</p>\n\n<pre><code>import static java.util.stream.Collectors.*;\nimport java.util.stream.*;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 0, "creation_date": 1541029396, "post_id": 53093352, "comment_id": 93083542, "body": "Is there a point in using wildcards in your second example when you still use the specific generic types the parameters? I would either define every generic as String or only use wildcard (when you can also remove the SuppressWarnings annotation), but not mix that."}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "reply_to_user": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 0, "creation_date": 1541029522, "post_id": 53093352, "comment_id": 93083562, "body": "@Tom I used wildcards in <code>Comparator</code> to type less code and make it more generic. I didn&#39;t use wildcards in <code>sortLists</code> method, to retain the method signature given in the question."}], "tags": [], "owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "is_accepted": true, "score": 1, "last_activity_date": 1541029540, "last_edit_date": 1541029540, "creation_date": 1541029119, "answer_id": 53093352, "question_id": 53093245, "link": "https://stackoverflow.com/questions/53093245/determine-the-long-longer-and-longest-arraylist-of-strings/53093352#53093352", "title": "Determine the long, longer and longest ArrayList of Strings", "body": "<p>To optimized for minimum amount of code, use streams:</p>\n\n<pre><code>public static String sortLists(List&lt;String&gt; firstList, List&lt;String&gt; secondList, List&lt;String&gt; thirdList) {\n    List&lt;List&lt;String&gt;&gt; sorted = Stream.of(firstList, secondList, thirdList)\n            .sorted(Comparator.comparingInt(List::size))\n            .collect(Collectors.toList());\n    return \"long: \" + sorted.get(0) + \", longer: \" + sorted.get(1) + \", longest: \" + sorted.get(2);\n}\n</code></pre>\n\n<p>For a pre-Java 8 solution, you can do it like this:</p>\n\n<pre><code>public static String sortLists(List&lt;String&gt; firstList, List&lt;String&gt; secondList, List&lt;String&gt; thirdList) {\n    @SuppressWarnings(\"unchecked\")\n    List&lt;String&gt;[] lists = new List[] { firstList, secondList, thirdList };\n    Arrays.sort(lists, new Comparator&lt;List&lt;?&gt;&gt;() {\n        @Override\n        public int compare(List&lt;?&gt; list1, List&lt;?&gt; list2) {\n            return list1.size() - list2.size();\n        }\n    });\n    return \"long: \" + lists[0] + \", longer: \" + lists[1] + \", longest: \" + lists[2];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2448, "user_id": 6015339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd2e20a818433354017cd7bd6353a5de?s=128&d=identicon&r=PG&f=1", "display_name": "Glains", "link": "https://stackoverflow.com/users/6015339/glains"}, "is_accepted": false, "score": 0, "last_activity_date": 1541029547, "creation_date": 1541029547, "answer_id": 53093394, "question_id": 53093245, "link": "https://stackoverflow.com/questions/53093245/determine-the-long-longer-and-longest-arraylist-of-strings/53093394#53093394", "title": "Determine the long, longer and longest ArrayList of Strings", "body": "<p>If you can use Java 8, i would recommend an approach using the Stream API.</p>\n\n<p>If you want an approach with arbitary types:</p>\n\n<pre><code>public static List&lt;List&lt;?&gt;&gt; sortBySize(List&lt;?&gt;... lists) {\n    return Arrays.stream(lists).sorted(Comparator.comparing(List::size))\n            .collect(Collectors.toList());\n}\n</code></pre>\n\n<p>Using a generic type parameter if the lists are of the same type:</p>\n\n<pre><code>@SafeVarargs\npublic static &lt;T&gt; List&lt;List&lt;T&gt;&gt; sortBySize(List&lt;T&gt;... lists) {\n    return Arrays.stream(lists).sorted(Comparator.comparing(List::size))\n            .collect(Collectors.toList());\n}\n</code></pre>\n"}], "owner": {"reputation": 78, "user_id": 7608265, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1d3898e099c8fdb28acd92630adae568?s=128&d=identicon&r=PG&f=1", "display_name": "OlatunjiYSO", "link": "https://stackoverflow.com/users/7608265/olatunjiyso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 463, "favorite_count": 0, "accepted_answer_id": 53093352, "answer_count": 3, "score": 0, "last_activity_date": 1541029547, "creation_date": 1541028279, "question_id": 53093245, "link": "https://stackoverflow.com/questions/53093245/determine-the-long-longer-and-longest-arraylist-of-strings", "title": "Determine the long, longer and longest ArrayList of Strings", "body": "<p>I have three (3) ArrayLists of different sizes and I want to know which is the long, longer and longest.\nI came up with this solution which works fine, but it doesn't look optimised enough. I will like someone to optimise it for me.\nThanks in advance.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class LongLongerLongest {\n\n\n    public static void main(String[] args){\n\n        /**\n         * Generated ArrayLists for testing\n         */\n        List&lt;String&gt; first = Arrays.asList(\"qw\", \"sd\", \"asw\");\n        List&lt;String&gt; second = Arrays.asList(\"qw\", \"sd\", \"r4\", \"asw\", \n\"qw\", \"sd\", \"r4\", \"asw\", \"r4\", \"asw\");\n        List&lt;String&gt; third = Arrays.asList(\"qw\", \"sd\", \"r4\", \"asw\", \n\"r4\", \"asw\", \"oiu\");\n\n\n        String result = sortLists(first,second, third);\n        System.out.println(result);\n    }\n\n\n\n    static String sortLists(List&lt;String&gt; firstList, List&lt;String&gt; \nsecondList, List&lt;String&gt; thirdList) {\n\n        /**\n         * declare a list to hold all sizes\n         */\n        List&lt;Integer&gt; listOfSizes = new ArrayList&lt;&gt;();\n\n        List&lt;String&gt; longList;\n        List&lt;String&gt; longerList;\n        List&lt;String&gt; longestList;\n\n        /**\n         * Add the size of all array to the listOfSizes list and sort\n         */\n        listOfSizes.add(firstList.size());\n        listOfSizes.add(secondList.size());\n        listOfSizes.add(thirdList.size());\n        Collections.sort(listOfSizes);\n\n        /**\n         * Searching for the longest\n         */\n        if (firstList.size() == listOfSizes.get(2)) {\n            longestList = firstList;\n        }\n        else if (secondList.size() == listOfSizes.get(2)) {\n            longestList = secondList;\n        } else {\n            longestList = thirdList;\n        }\n\n        /**\n         * Searching for the longer\n         */\n        if (firstList.size() == listOfSizes.get(1)) {\n            longerList = firstList;\n        }\n        else if (secondList.size() == listOfSizes.get(1)) {\n            longerList = secondList;\n        } else {\n            longerList = thirdList;\n        }\n\n        /**\n         * Searching for the long\n         */\n        if (firstList.size() == listOfSizes.get(0)) {\n            longList = firstList;\n        }\n        else if (secondList.size() == listOfSizes.get(0)) {\n            longList = secondList;\n        } else {\n            longList = thirdList;\n        }\n\n        String result = \"long: \" + longList.toString() + \", longer: \" + \nlongerList.toString() + \", longest: \" + longestList.toString();\n        return result;\n    }\n\n}\n</code></pre>\n\n<p>What I have above is in a bid to find the intersection of the three. But for error handling I have decided to sort from the largest down to avoid empty lists.</p>\n"}, {"tags": ["java", "file", "version-control", "repository"], "comments": [{"owner": {"reputation": 525, "user_id": 2042546, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gLrXB.jpg?s=128&g=1", "display_name": "CorellianAle", "link": "https://stackoverflow.com/users/2042546/corellianale"}, "reply_to_user": {"reputation": 13883, "user_id": 6815131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c38385f9eb57b70176498fa5c3b4c99?s=128&d=identicon&r=PG&f=1", "display_name": "Joe C", "link": "https://stackoverflow.com/users/6815131/joe-c"}, "edited": false, "score": 0, "creation_date": 1541027811, "post_id": 53093136, "comment_id": 93083129, "body": "It looks like what I need."}, {"owner": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 0, "creation_date": 1541027876, "post_id": 53093136, "comment_id": 93083145, "body": "&quot;To restrict a user from messing with the files inside the repository&quot; ... how is your app able to do that? Does it validate the changes a user made? I also wonder why your app tries to re-invent the wheel. Wouldn&#39;t it be enough to let users use that Git repo directly, but prohibit history changes? When someone messed with a file, then someone is still able to fix that. I don&#39;t see how your app adds a valuable layer here."}, {"owner": {"reputation": 525, "user_id": 2042546, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gLrXB.jpg?s=128&g=1", "display_name": "CorellianAle", "link": "https://stackoverflow.com/users/2042546/corellianale"}, "reply_to_user": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 0, "creation_date": 1541029017, "post_id": 53093136, "comment_id": 93083436, "body": "@Tom Git does not work here with it&#39;s commits because, while all the files are indeed pulled from the central repository, they would be pushed to a different one. Each file is an electronic form (pdf-form, report) that periodically need to be filled and then pushed back to the office. It means that if there is a report that need to be filled each day, there would be 365 copies of the original report (template), each filled with different data. Size of each report is higher that several MBs, so I don&#39;t send 365 copies, but create 365 binary DIFFs between original and modified and send them."}, {"owner": {"reputation": 525, "user_id": 2042546, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gLrXB.jpg?s=128&g=1", "display_name": "CorellianAle", "link": "https://stackoverflow.com/users/2042546/corellianale"}, "reply_to_user": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 0, "creation_date": 1541029447, "post_id": 53093136, "comment_id": 93083550, "body": "@Tom A typical user is a marine officer with low computer skills and too much free time to explore his laptop (laptop is not his property, but is owned by a company). A typical problem is that a user simply saves (copies) original reports to the desktop and keeps filling them instead of using updated ones in the corresponding folder. Time has proven that it is pointless to try to reason them. Sometimes they just delete this files altogether cause of an error. Because satellite internet is very expansive, you can&#39;t organize a quick repair so the the system has be as automatic as possible."}], "owner": {"reputation": 525, "user_id": 2042546, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gLrXB.jpg?s=128&g=1", "display_name": "CorellianAle", "link": "https://stackoverflow.com/users/2042546/corellianale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 16, "favorite_count": 0, "closed_date": 1541027828, "answer_count": 0, "score": 1, "last_activity_date": 1541027257, "creation_date": 1541027257, "question_id": 53093136, "link": "https://stackoverflow.com/questions/53093136/any-standard-technique-to-handle-file-modification-using-separate-application", "closed_reason": "Duplicate", "title": "Any standard technique to handle file modification using separate application?", "body": "<p>I have a Java application that manages different files a updates them when necessary. It uses Git under the hood to pull updates from the main server.\nTo restrict a user from messing with the files inside the repository, I plan to hide repository in some system folder with restricted access rights or maybe even proprietary archive.</p>\n\n<p>Sometimes a user needs to pull a file from the repository, modify it and push it back. To archive this, I want to copy a file to a temporary location, open this copy with the corresponding application and then save it back when the user had finished it's modification. </p>\n\n<p>The algorithm would look like this:</p>\n\n<ul>\n<li>select a file</li>\n<li>copy to a temporary folder</li>\n<li>open with an assigned application</li>\n<li>??? - wait for the file change / notify main application on \"Save\"/\"Save As ..\".</li>\n<li>push modified version back into repository/archive</li>\n<li>delete temporary copy</li>\n</ul>\n\n<p>I am looking for a \"wait for a change -> notify main app\" mechanism. I suppose some kind of hook already exists.</p>\n\n<p>At this point, nothing better than \"Let's integrate Word and Acrobat into our app\" or \"Let's write some low-level file system driver\" comes to mind. Both would be hard to support and maintain.</p>\n"}, {"tags": ["java", "multithreading", "wait", "notify"], "comments": [{"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1541027194, "post_id": 53093101, "comment_id": 93082956, "body": "What exactly are you trying to wait for? Where&#39;s the code that checks if the thing you are waiting for has happened?"}, {"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 1, "creation_date": 1541027222, "post_id": 53093101, "comment_id": 93082966, "body": "When you call <code>wait()</code>, it suspends the current thread."}, {"owner": {"reputation": 322, "user_id": 2520170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GxwfW.jpg?s=128&g=1", "display_name": "nikhil kekan", "link": "https://stackoverflow.com/users/2520170/nikhil-kekan"}, "edited": false, "score": 0, "creation_date": 1541027354, "post_id": 53093101, "comment_id": 93083003, "body": "enqueue method is member of a class that spawns threads, i am trying to make such spawn thread wait."}, {"owner": {"reputation": 373, "user_id": 5579840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55c3ea32a6e9606728457334a4d80002?s=128&d=identicon&r=PG&f=1", "display_name": "Sahil Dhoked", "link": "https://stackoverflow.com/users/5579840/sahil-dhoked"}, "edited": false, "score": 0, "creation_date": 1541027806, "post_id": 53093101, "comment_id": 93083124, "body": "Why not write wait() in child thread and notify() from enqueue thread?"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1541028354, "post_id": 53093101, "comment_id": 93083256, "body": "@nikhilkekan Wait for wait?"}, {"owner": {"reputation": 322, "user_id": 2520170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GxwfW.jpg?s=128&g=1", "display_name": "nikhil kekan", "link": "https://stackoverflow.com/users/2520170/nikhil-kekan"}, "reply_to_user": {"reputation": 373, "user_id": 5579840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55c3ea32a6e9606728457334a4d80002?s=128&d=identicon&r=PG&f=1", "display_name": "Sahil Dhoked", "link": "https://stackoverflow.com/users/5579840/sahil-dhoked"}, "edited": false, "score": 0, "creation_date": 1541028518, "post_id": 53093101, "comment_id": 93083304, "body": "@sahilDhoked : wait() method will make the thread wait and notify() will wake it up, as per documentation."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1541028875, "post_id": 53093101, "comment_id": 93083402, "body": "@nikhilkekan You call the <code>wait</code> method without doing any checks whether it makes sense to wait for something. What are you waiting for? Where&#39;s the code to ensure that it hasn&#39;t already happened? Where&#39;s the code to wake any waiting threads when the thing they are waiting for happens?"}, {"owner": {"reputation": 322, "user_id": 2520170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GxwfW.jpg?s=128&g=1", "display_name": "nikhil kekan", "link": "https://stackoverflow.com/users/2520170/nikhil-kekan"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1541029169, "post_id": 53093101, "comment_id": 93083479, "body": "@davidSchwartz : I havent written it yet, because i see it stuck. I could see in debug that the thread is alive, i can even see that it control is coming to enqueue method its just that instead of making the callee thread wait, the Server.java thread is waiting until i terminate it"}, {"owner": {"reputation": 322, "user_id": 2520170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GxwfW.jpg?s=128&g=1", "display_name": "nikhil kekan", "link": "https://stackoverflow.com/users/2520170/nikhil-kekan"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1541030972, "post_id": 53093101, "comment_id": 93083850, "body": "@davidschwartz :  I am trying to go step by step ahead, Please kindly suggest best way to control spawned runnable instances"}, {"owner": {"reputation": 373, "user_id": 5579840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55c3ea32a6e9606728457334a4d80002?s=128&d=identicon&r=PG&f=1", "display_name": "Sahil Dhoked", "link": "https://stackoverflow.com/users/5579840/sahil-dhoked"}, "edited": false, "score": 0, "creation_date": 1541037254, "post_id": 53093101, "comment_id": 93085091, "body": "What you want is more like an interrupt. You cannot stop and start a thread mid execution."}, {"owner": {"reputation": 19267, "user_id": 801894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f2ccd17aa6fd622152ad88fc2ae784?s=128&d=identicon&r=PG", "display_name": "Solomon Slow", "link": "https://stackoverflow.com/users/801894/solomon-slow"}, "edited": false, "score": 0, "creation_date": 1541088026, "post_id": 53093101, "comment_id": 93105112, "body": "Read the <i><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html\" rel=\"nofollow noreferrer\">Guarded Blocks Tutorial</a></i> if you want to understand how <code>wait()</code> and <code>notify()&#47;notifyAll()</code> are supposed to be used."}, {"owner": {"reputation": 19267, "user_id": 801894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f2ccd17aa6fd622152ad88fc2ae784?s=128&d=identicon&r=PG", "display_name": "Solomon Slow", "link": "https://stackoverflow.com/users/801894/solomon-slow"}, "edited": false, "score": 0, "creation_date": 1541088146, "post_id": 53093101, "comment_id": 93105187, "body": "I&#39;m voting to close this question as off-topic because it&#39;s a low-level question, based on a higher-level misunderstanding of how threads should interact with one another."}], "answers": [{"tags": [], "owner": {"reputation": 322, "user_id": 2520170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GxwfW.jpg?s=128&g=1", "display_name": "nikhil kekan", "link": "https://stackoverflow.com/users/2520170/nikhil-kekan"}, "is_accepted": true, "score": 0, "last_activity_date": 1541108026, "creation_date": 1541108026, "answer_id": 53109673, "question_id": 53093101, "link": "https://stackoverflow.com/questions/53093101/current-thread-itself-waiting-infinitely-while-trying-to-call-wait-on-another/53109673#53109673", "title": "Current thread itself waiting infinitely while trying to call wait() on another thread", "body": "<p>Instead of calling wait on spawned thread, My ServerService thread instance waits itself after calling enqueue method of Server.java.\nThen later Server.java calls notify to resume ServerService thread.</p>\n\n<h1>Server.java</h1>\n\n<pre><code>import java.io.DataInputStream;\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Queue;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.SynchronousQueue;\n\npublic class Server{\n    private ServerSocket server=null;\n    public static Map&lt;Socket,String&gt; clientsConnected=null;\n    public static Map&lt;Socket,Runnable&gt; clientsAndThreads=null;\n    public static ExecutorService executor=null;\n    public static Queue&lt;Thread&gt; requestQueue=null;\n    public static Map&lt;Thread,Integer&gt; threadAndRespectiveTime=null;\n    /*\n     * Contructor\n     */\n    Server(){\n        clientsConnected=new HashMap&lt;Socket,String&gt;();\n        clientsAndThreads=new HashMap&lt;Socket,Runnable&gt;();\n        threadAndRespectiveTime=new HashMap&lt;&gt;();\n        requestQueue=new LinkedList&lt;&gt;();\n    }\n    /*\n     * Accepts connections from clients continually till the server is UP(max 10 clients)\n     */\n    public void acceptConnection(){\n        try{\n            executor=Executors.newFixedThreadPool(10);\n            new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    Socket client=null;\n                    while(server.isBound()){\n                        try{\n                            client=server.accept();\n                            DataInputStream di= new DataInputStream(client.getInputStream());\n                            String msg=di.readUTF();\n                            clientsConnected.put(client, getMessage(msg));\n                            ServerWindow.write(msg);\n                            Runnable service= new ServerService(client,getMessage(msg));\n                            executor.execute(service);\n                        }catch(Exception e){\n                            System.err.println(\"error occurred while accepting connections\");\n                        }\n                    }\n                }\n            }).start();\n            new Thread(new Runnable() {\n\n                @Override\n                public void run() {\n                    try {\n                        while(true){\n                            Server.dequeue();\n                        }\n                    } catch (InterruptedException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                }\n            }).start();\n        }catch(Exception e){\n            System.err.println(\"Server:error while accepting connections\"+e.getMessage());\n        }\n    }\n    public static synchronized void enqueue(Thread t,Integer secondsToWait){\n        try{\n            System.out.println(requestQueue );\n            threadAndRespectiveTime.put(t, secondsToWait);\n            requestQueue.add(t);\n        }catch(Exception e){\n            e.printStackTrace();\n        }\n    }\n    public static synchronized void dequeue() throws InterruptedException{\n        while(!requestQueue.isEmpty()){\n            Thread currentThread=requestQueue.remove();\n            Integer timeToWait=threadAndRespectiveTime.get(currentThread);\n            System.out.println(\"time to wait is:\"+timeToWait);\n            Thread.currentThread().sleep(timeToWait * 1000);\n            synchronized (currentThread) {\n                currentThread.notify();\n            }\n        }\n    }\n    /*\n     * This method takes out actual message from http format\n     */\n    public String getMessage(String str){\n        return str.substring(str.indexOf(\"message:\")+8, str.length());\n    }\n    /*\n     * Starts the server listening to port 4000\n     */\n    public void start_server(){\n        try{\n            if(server==null || !server.isBound()){\n                server = new ServerSocket(4000);\n            }\n            acceptConnection();\n        }catch(Exception e){\n            System.err.println(\"Server:error occurred while server start\"+e.getMessage());\n        }\n    }\n    /*\n     * Closes client sockets of every connected client, shuts down the thread executor that serves clients\n     */\n    public void stop_server() throws IOException{\n        Iterator it=clientsConnected.entrySet().iterator();\n        while(it.hasNext()){\n            Map.Entry e= (Map.Entry)it.next();\n            Socket toBeClosed=(Socket)e.getKey();\n            toBeClosed.close();\n        }\n        executor.shutdownNow();\n        server.close();\n    }\n}\n</code></pre>\n\n<p>ServerService.java</p>\n\n<p>==================</p>\n\n<pre><code>    import java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.net.Socket;\nimport java.util.Date;\n/*\n * This class serves the client\n */\npublic class ServerService extends Server implements Runnable{\n    private Socket client=null;\n    private String clientBeingServed=null;\n    private DataOutputStream dout=null;\n    private DataInputStream din=null;\n    /*\n     * This is construcor that takes client sockte that already has been connected to server and client name.\n     * It initializes and input and output streams for serving the respective client\n     */\n    public ServerService(Socket client,String name) throws IOException {\n        this.client=client;\n        this.clientBeingServed=name;\n        dout=new DataOutputStream(client.getOutputStream());\n        din=new DataInputStream(client.getInputStream());\n    }\n    /*\n     * takes out actual message sent by client from its http format\n     */\n    public String getMessage(String str){\n        //System.out.println(\"returning\\n\"+str.substring(str.indexOf(\"message:\")+8, str.length()));\n        return str.substring(str.indexOf(\"message:\")+8, str.length());\n    }\n    /*\n     * This method converts a message string into HTTP formatted string\n     */\n    public String getHttpMessage(String msg){\n        String str=\"POST Http/1.1 \\n\" + \"Host: www.uta.com \\n\" + \"User-Agent: Mozilla/5.0 \\n\"\n                + \"Content=type: application/x-www-form-urlencoded \\n\" + \"Content-Length: \" + msg.length() + \" \\n\"\n                + \"Date:\" + new Date() + \" \\n\" + \"message:\" + msg;\n        return str;\n    }\n    /*\n     * This method execute when thread for this class is executed from Server.java file after connection is accepted\n     */\n    @Override\n    public void run() {\n        int waitTime=0;\n        try{\n            while(client.isConnected()){\n                    String msg=din.readUTF();\n                    ServerWindow.write(msg);\n                    waitTime=Integer.parseInt(getMessage(msg));\n                    System.out.println(\"Equeing:\"+clientBeingServed);\n                    Server.enqueue(Thread.currentThread(), waitTime);\n                    System.out.println(\"before going to sleep\");\n                    synchronized (Thread.currentThread()) {\n                        Thread.currentThread().wait();\n                    }\n                    System.out.println(\"after sleeping\");\n                    ServerWindow.write(\"Served client:\"+clientBeingServed);\n                    dout.writeUTF(getHttpMessage(\"Server waited \"+waitTime+\" seconds for \"+clientBeingServed));\n                    dout.flush();\n            }\n            client.close();\n        }catch(Exception e){\n            System.err.println(\"ServerService:error serving client\"+clientBeingServed+e.getMessage());\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 322, "user_id": 2520170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GxwfW.jpg?s=128&g=1", "display_name": "nikhil kekan", "link": "https://stackoverflow.com/users/2520170/nikhil-kekan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 53109673, "answer_count": 1, "score": -1, "last_activity_date": 1541108026, "creation_date": 1541026984, "last_edit_date": 1541028413, "question_id": 53093101, "link": "https://stackoverflow.com/questions/53093101/current-thread-itself-waiting-infinitely-while-trying-to-call-wait-on-another", "title": "Current thread itself waiting infinitely while trying to call wait() on another thread", "body": "<p>I am trying to make another thread wait in below code but my current thread itself is waiting infinitely.\nBelow are two java classes Server.java that spawns runnable instances of ServerService.java.\nWhen such running instance of \"ServerService.java\" call enqueue method of Server.java.Server.java should make such callee thread wait. But seems my Server.java  Thread itself waits infinitely</p>\n\n<h1>Server.java</h1>\n\n<pre><code>import java.io.DataInputStream;\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Queue;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class Server{\n    private ServerSocket server=null;\n    public static Map&lt;Socket,String&gt; clientsConnected=null;\n    public static Map&lt;Socket,Runnable&gt; clientsAndThreads=null;\n    public static ExecutorService executor=null;\n    public static List&lt;Runnable&gt; requestQueue=null;\n    public static Map&lt;Runnable,Integer&gt; threadAndRespectiveTime=null;\n    /*\n     * Contructor\n     */\n    Server(){\n        clientsConnected=new HashMap&lt;Socket,String&gt;();\n        clientsAndThreads=new HashMap&lt;Socket,Runnable&gt;();\n        threadAndRespectiveTime=new HashMap&lt;&gt;();\n        requestQueue=new ArrayList&lt;&gt;();\n    }\n    /*\n     * Accepts connections from clients continually till the server is UP(max 10 clients)\n     */\n    public void acceptConnection(){\n        try{\n            executor=Executors.newFixedThreadPool(10);\n            new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    Socket client=null;\n                    while(server.isBound()){\n                        try{\n                            client=server.accept();\n                            DataInputStream di= new DataInputStream(client.getInputStream());\n                            String msg=di.readUTF();\n                            clientsConnected.put(client, getMessage(msg));\n                            ServerWindow.write(msg);\n                            Runnable service= new ServerService(client,getMessage(msg));\n                            executor.execute(service);\n                            clientsAndThreads.put(client, service);\n                        }catch(Exception e){\n                            System.err.println(\"error occurred while accepting connections\");\n                        }\n                    }\n                }\n            }).start();\n            System.out.println(\"now dequeuing\");\n            while(true){\n                dequeue();\n            }\n        }catch(Exception e){\n            System.err.println(\"Server:error while accepting connections\"+e.getMessage());\n        }\n    }\n    public static void enqueue(Socket clientSocket,Integer secondsToWait){\n        try{\n            Runnable respectiveThread = clientsAndThreads.get(clientSocket);\n            threadAndRespectiveTime.put(respectiveThread, secondsToWait);\n            System.out.println(\"making thread wait\");\n            synchronized (respectiveThread) {\n                respectiveThread.wait();\n            }\n            requestQueue.add(respectiveThread);\n            System.out.println(\"done enqueuing\");\n        }catch(Exception e){\n            e.printStackTrace();\n        }\n    }\n    public static void dequeue() throws InterruptedException{\n        while(!requestQueue.isEmpty()){\n            Runnable currentThread=requestQueue.get(0);\n            Integer timeToWait=threadAndRespectiveTime.get(currentThread);\n            Thread.sleep(timeToWait * 1000);\n            requestQueue.remove(0);\n            System.out.println(\"wait is complete now notifying thread\");\n            synchronized (currentThread) {\n                currentThread.notify();\n            }\n        }\n    }\n    /*\n     * This method takes out actual message from http format\n     */\n    public String getMessage(String str){\n        return str.substring(str.indexOf(\"message:\")+8, str.length());\n    }\n    /*\n     * Starts the server listening to port 4000\n     */\n    public void start_server(){\n        try{\n            if(server==null || !server.isBound()){\n                server = new ServerSocket(4000);\n            }\n            acceptConnection();\n        }catch(Exception e){\n            System.err.println(\"Server:error occurred while server start\"+e.getMessage());\n        }\n    }\n    /*\n     * Closes client sockets of every connected client, shuts down the thread executor that serves clients\n     */\n    public void stop_server() throws IOException{\n        Iterator it=clientsConnected.entrySet().iterator();\n        while(it.hasNext()){\n            Map.Entry e= (Map.Entry)it.next();\n            Socket toBeClosed=(Socket)e.getKey();\n            toBeClosed.close();\n        }\n        executor.shutdownNow();\n        server.close();\n    }\n}\n</code></pre>\n\n<p>Below is the class which is spawn as thread by Server.java</p>\n\n<h1>ServerService.java</h1>\n\n<pre><code>`import java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.net.Socket;\nimport java.util.Date;\n/*\n * This class serves the client\n */\npublic class ServerService extends Server implements Runnable{\n    private Socket client=null;\n    private String clientBeingServed=null;\n    private DataOutputStream dout=null;\n    private DataInputStream din=null;\n    /*\n     * This is construcor that takes client sockte that already has been connected to server and client name.\n     * It initializes and input and output streams for serving the respective client\n     */\n    public ServerService(Socket client,String name) throws IOException {\n        this.client=client;\n        this.clientBeingServed=name;\n        dout=new DataOutputStream(client.getOutputStream());\n        din=new DataInputStream(client.getInputStream());\n    }\n    /*\n     * takes out actual message sent by client from its http format\n     */\n    public String getMessage(String str){\n        //System.out.println(\"returning\\n\"+str.substring(str.indexOf(\"message:\")+8, str.length()));\n        return str.substring(str.indexOf(\"message:\")+8, str.length());\n    }\n    /*\n     * This method converts a message string into HTTP formatted string\n     */\n    public String getHttpMessage(String msg){\n        String str=\"POST Http/1.1 \\n\" + \"Host: www.uta.com \\n\" + \"User-Agent: Mozilla/5.0 \\n\"\n                + \"Content=type: application/x-www-form-urlencoded \\n\" + \"Content-Length: \" + msg.length() + \" \\n\"\n                + \"Date:\" + new Date() + \" \\n\" + \"message:\" + msg;\n        return str;\n    }\n    /*\n     * This method execute when thread for this class is executed from Server.java file after connection is accepted\n     */\n    @Override\n    public void run() {\n        int waitTime=0;\n        try{\n            while(client.isConnected()){\n                    String msg=din.readUTF();\n                    ServerWindow.write(msg);\n                    waitTime=Integer.parseInt(getMessage(msg));\n                    System.out.println(\"Equeing:\"+clientBeingServed);\n                    Server.enqueue(client, waitTime);\n                    ServerWindow.write(\"Served client:\"+clientBeingServed);\n                    dout.writeUTF(getHttpMessage(\"Server waited \"+waitTime+\" seconds for \"+clientBeingServed));\n                    dout.flush();\n            }\n            client.close();\n        }catch(Exception e){\n            System.err.println(\"ServerService:error serving client\"+clientBeingServed+e.getMessage());\n        }\n    }\n}`\n</code></pre>\n"}, {"tags": ["java"], "answers": [{"comments": [{"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1541028448, "post_id": 53093124, "comment_id": 93083283, "body": "As I think that what you have in mind, I disagree with stance to not to use RunitimeExceptions. To me it is a common practice to eg. wrap ungandled exceptions into RuntimeExceptions and rethrow."}], "tags": [], "owner": {"reputation": 13883, "user_id": 6815131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c38385f9eb57b70176498fa5c3b4c99?s=128&d=identicon&r=PG&f=1", "display_name": "Joe C", "link": "https://stackoverflow.com/users/6815131/joe-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1541027145, "creation_date": 1541027145, "answer_id": 53093124, "question_id": 53093066, "link": "https://stackoverflow.com/questions/53093066/why-is-it-necessary-to-create-a-lot-of-different-exception-types/53093124#53093124", "title": "Why is it necessary to create a lot of different exception types?", "body": "<p>I strongly discourage the use of generic <code>RuntimeException</code> and <code>Exception</code>.  This is to allow us to be able to handle different exceptions in different ways.</p>\n\n<p>For example, if I catch a <code>RuntimeException</code>, I would want to do a different action if it's due to bad input (so we can tell the user to fix their input), a disk error (so we can alert the operations team so they can replace), or a null pointer (which is clearly a bug).  Throwing and catching generic <code>RuntimeException</code>s make this more difficult than is really necessary.</p>\n"}, {"tags": [], "owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "is_accepted": false, "score": 2, "last_activity_date": 1541029898, "last_edit_date": 1541029898, "creation_date": 1541027262, "answer_id": 53093137, "question_id": 53093066, "link": "https://stackoverflow.com/questions/53093066/why-is-it-necessary-to-create-a-lot-of-different-exception-types/53093137#53093137", "title": "Why is it necessary to create a lot of different exception types?", "body": "<p><em>Most of the time, if I want to terminate the execution of the program at a certain critical point</em> </p>\n\n<p>Most of the time I don't want to terminate my application but I want to recover from exception to continue execution.</p>\n\n<p>In general, you dont have to define your own exceptions as you could (technically) use only eg. <code>Exception</code> and <code>RuntimeException</code> but creating your own exception classes allowes you to fine graing catching of such exceptions. For example</p>\n\n<pre><code>try{\n   myService.doSomething();\n}catch(MyCustomException){\n //handle custom exception here- eg.\n  retunr Constants.DEFAULT_RESPONSE;\n}catch(RuntimeException e){\n  log.error(\"Unknown Error\",e);\n  return null;\n}\n</code></pre>\n\n<p>So in this scenario I allow myself to recover from exception thrown by my service method but in the same time I am loggin all others exceptions (returning <code>null</code> is not hte best practice what so ever)</p>\n"}, {"comments": [{"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1541028497, "post_id": 53093177, "comment_id": 93083295, "body": "How this differs from mine or Joe C&#39;s answer?"}], "tags": [], "owner": {"reputation": 1, "user_id": 9944311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a28d0a0c7eef1986889043ed7b56bff?s=128&d=identicon&r=PG&f=1", "display_name": "Leon Mlodzian", "link": "https://stackoverflow.com/users/9944311/leon-mlodzian"}, "is_accepted": false, "score": 0, "last_activity_date": 1541027645, "creation_date": 1541027645, "answer_id": 53093177, "question_id": 53093066, "link": "https://stackoverflow.com/questions/53093066/why-is-it-necessary-to-create-a-lot-of-different-exception-types/53093177#53093177", "title": "Why is it necessary to create a lot of different exception types?", "body": "<p>One way having different types of exceptions is useful is that you can define how your program should behave in response to a particular exception being thrown.</p>\n\n<pre><code>try {\n    // code that may throw several types of exceptions\n} catch (Exception1 e) {\n    // handle Exception1\n} catch (Exception2 e) {\n    // handle Exception2\n} catch ...\n</code></pre>\n\n<p>In this way a running program may recover from an exception and may continue running.</p>\n"}], "owner": {"reputation": 8385, "user_id": 697911, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/bbc3caf3ef84b005f839e2392cb4eafd?s=128&d=identicon&r=PG&f=1", "display_name": "user697911", "link": "https://stackoverflow.com/users/697911/user697911"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "closed_date": 1541027804, "answer_count": 3, "score": -2, "last_activity_date": 1541029898, "creation_date": 1541026684, "question_id": 53093066, "link": "https://stackoverflow.com/questions/53093066/why-is-it-necessary-to-create-a-lot-of-different-exception-types", "closed_reason": "Duplicate", "title": "Why is it necessary to create a lot of different exception types?", "body": "<p>Most of the time, if I want to terminate the execution of the program at a certain critical point, I just create a RuntimeException with some informational messages:</p>\n\n<pre><code>throw new RuntimeException(\"ERROR: this is wrong! Fix it first!\")\n</code></pre>\n\n<p>In Java there are lots of different built-in exception types, and books also teach how to create your own custom exception types. Is that really necessary? Isn't a RuntimeException sufficient for most purposes from a practical point point of view?  </p>\n"}, {"tags": ["java", "maven", "pom.xml"], "comments": [{"owner": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "edited": false, "score": 2, "creation_date": 1541026913, "post_id": 53093058, "comment_id": 93082891, "body": "If you are <b>not</b> using Maven then what is your <code>pom.xml</code> for?"}, {"owner": {"reputation": 11, "user_id": 10582606, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5uamSzz-MEc/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCXeFv46MIx6n55GHvCjqFGXq70pQ/mo/photo.jpg?sz=128", "display_name": "Daniel Penna", "link": "https://stackoverflow.com/users/10582606/daniel-penna"}, "reply_to_user": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "edited": false, "score": 0, "creation_date": 1541077678, "post_id": 53093058, "comment_id": 93099300, "body": "I got a project that was made using Maven, Spring etc... I&#180;m using only netbeans for maintaince. But I can&#180;t even run it because this error"}, {"owner": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "edited": false, "score": 0, "creation_date": 1541090173, "post_id": 53093058, "comment_id": 93106306, "body": "You may want to try <a href=\"https://www.packtpub.com/mapt/book/application_development/9781785286124/4/ch04lvl1sec46/using-netbeans-to-run-maven-goals\" rel=\"nofollow noreferrer\">Clean + Build</a>"}, {"owner": {"reputation": 11, "user_id": 10582606, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5uamSzz-MEc/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCXeFv46MIx6n55GHvCjqFGXq70pQ/mo/photo.jpg?sz=128", "display_name": "Daniel Penna", "link": "https://stackoverflow.com/users/10582606/daniel-penna"}, "reply_to_user": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "edited": false, "score": 0, "creation_date": 1541413509, "post_id": 53093058, "comment_id": 93195248, "body": "Did the clean + build and also deleted files at local and roaming folder, same error"}, {"owner": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "edited": false, "score": 0, "creation_date": 1541428226, "post_id": 53093058, "comment_id": 93203079, "body": "I do not have any first-hand knowledge (sorry) but I saw suggestions to upgrade the plug-in."}], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 9552283, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "EvgenJin", "link": "https://stackoverflow.com/users/9552283/evgenjin"}, "is_accepted": false, "score": -1, "last_activity_date": 1548835187, "creation_date": 1548835187, "answer_id": 54435748, "question_id": 53093058, "link": "https://stackoverflow.com/questions/53093058/java-how-to-fix-error-failed-to-execute-goal-org-codehaus-mojoexec-maven-plugi/54435748#54435748", "title": "JAVA how to fix error&gt; Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec (default-cli) on project sic-desktop:", "body": "<p>If you are using netbeans, then stop the current run process and start it again this error raised becouse u have a running process</p>\n"}], "owner": {"reputation": 11, "user_id": 10582606, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5uamSzz-MEc/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCXeFv46MIx6n55GHvCjqFGXq70pQ/mo/photo.jpg?sz=128", "display_name": "Daniel Penna", "link": "https://stackoverflow.com/users/10582606/daniel-penna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 607, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1548835187, "creation_date": 1541026607, "question_id": 53093058, "link": "https://stackoverflow.com/questions/53093058/java-how-to-fix-error-failed-to-execute-goal-org-codehaus-mojoexec-maven-plugi", "title": "JAVA how to fix error&gt; Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec (default-cli) on project sic-desktop:", "body": "<p>I\u00b4m using netbeans and not using maven. Compile is ok but when trying to run it I get this error:\nFailed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec (default-cli) on project sic-desktop: Command execution failed. Process exited with an error: -1 (Exit value: -1) -> [Help 1]</p>\n\n<p>Below is the pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;com.techint&lt;/groupId&gt;\n    &lt;artifactId&gt;sic-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/parent&gt;\n&lt;artifactId&gt;sic-desktop&lt;/artifactId&gt;\n\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.techint&lt;/groupId&gt;\n        &lt;artifactId&gt;sic-core&lt;/artifactId&gt;\n        &lt;version&gt;${project.parent.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.techint&lt;/groupId&gt;\n        &lt;artifactId&gt;sic-ca&lt;/artifactId&gt;\n        &lt;version&gt;${project.parent.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.netbeans.external&lt;/groupId&gt;\n        &lt;artifactId&gt;AbsoluteLayout&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jdesktop&lt;/groupId&gt;\n        &lt;artifactId&gt;beansbinding&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;org.springframework.instrument&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!--  Spring Security  --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n        &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n        &lt;artifactId&gt;jasperreports-fonts&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;cglib&lt;/groupId&gt;\n        &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\n        &lt;artifactId&gt;jtds&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n&lt;/dependencies&gt;\n\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                        &lt;mainClass&gt;com.techint.comissionamento.ComissionamentoMain&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;install&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;prepare-package&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;tasks&gt;\n                            &lt;replace token=\"@buildnumber@\" value=\"${project.version}.${buildNumber}\"\n                                     dir=\"target/classes\"&gt;\n                                &lt;include name=\"app.properties\"/&gt;\n                            &lt;/replace&gt;\n                        &lt;/tasks&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;run&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n\n    &lt;/plugins&gt;\n\n    &lt;!--&lt;finalName&gt;${project.name}-${project.version}.${buildNumber}&lt;/finalName&gt;--&gt;\n    &lt;finalName&gt;Comissionamento&lt;/finalName&gt;\n&lt;/build&gt;\n\n\n&lt;profiles&gt;\n\n    &lt;profile&gt;\n        &lt;id&gt;dev&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\n        &lt;/properties&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;phase&gt;prepare-package&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;run&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;tasks&gt;\n                                    &lt;copy file=\"${project.parent.basedir}/config/epccom/app.dev.properties\"\n                                          tofile=\"${project.build.outputDirectory}/app.properties\"/&gt;\n                                &lt;/tasks&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;buildnumber-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.1&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;phase&gt;validate&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;create&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                    &lt;configuration&gt;\n                        &lt;doCheck&gt;false&lt;/doCheck&gt;\n                        &lt;doUpdate&gt;false&lt;/doUpdate&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n\n\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;id&gt;prod&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\n        &lt;/properties&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;phase&gt;prepare-package&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;run&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;tasks&gt;\n                                    &lt;copy file=\"${project.parent.basedir}/config/epccom/app.prod.properties\"\n                                          tofile=\"${project.build.outputDirectory}/app.properties\"/&gt;\n                                &lt;/tasks&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;buildnumber-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.1&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;phase&gt;validate&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;create&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                    &lt;configuration&gt;\n                        &lt;doCheck&gt;false&lt;/doCheck&gt;\n                        &lt;doUpdate&gt;false&lt;/doUpdate&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;jasperreports-maven-plugin&lt;/artifactId&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;phase&gt;compile&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;compile-reports&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirectory&gt;src/main/jaspertreports&lt;/sourceDirectory&gt;\n                        &lt;outputDirectory&gt;${project.build.outputDirectory}/reports&lt;/outputDirectory&gt;\n                    &lt;/configuration&gt;\n\n                    &lt;dependencies&gt;\n                        &lt;!--note this must be repeated here to pick up correct xml validation --&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n                            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n                            &lt;version&gt;${jasperreports.version}&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/dependencies&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["java", "gradle", "jackson", "dependencies", "shadowjar"], "comments": [{"owner": {"reputation": 1761, "user_id": 1303158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc7eb6c9daf0c8b62d509d60d9b6dba?s=128&d=identicon&r=PG", "display_name": "Bernie", "link": "https://stackoverflow.com/users/1303158/bernie"}, "edited": false, "score": 0, "creation_date": 1541032936, "post_id": 53093015, "comment_id": 93084234, "body": "Do you mean that you want the third party dependency to use a different version of Jackson, or that you want to use a different version of Jackson for the code that you write?"}, {"owner": {"reputation": 49, "user_id": 2843283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0f96338445ea2462f82248854e8ae15?s=128&d=identicon&r=PG&f=1", "display_name": "user2843283", "link": "https://stackoverflow.com/users/2843283/user2843283"}, "reply_to_user": {"reputation": 1761, "user_id": 1303158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc7eb6c9daf0c8b62d509d60d9b6dba?s=128&d=identicon&r=PG", "display_name": "Bernie", "link": "https://stackoverflow.com/users/1303158/bernie"}, "edited": false, "score": 0, "creation_date": 1541054527, "post_id": 53093015, "comment_id": 93088758, "body": "the third party to use a different version of jackson"}, {"owner": {"reputation": 1761, "user_id": 1303158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc7eb6c9daf0c8b62d509d60d9b6dba?s=128&d=identicon&r=PG", "display_name": "Bernie", "link": "https://stackoverflow.com/users/1303158/bernie"}, "edited": false, "score": 0, "creation_date": 1541114436, "post_id": 53093015, "comment_id": 93116529, "body": "Why do you want to do that?"}], "answers": [{"tags": [], "owner": {"reputation": 1761, "user_id": 1303158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc7eb6c9daf0c8b62d509d60d9b6dba?s=128&d=identicon&r=PG", "display_name": "Bernie", "link": "https://stackoverflow.com/users/1303158/bernie"}, "is_accepted": false, "score": 0, "last_activity_date": 1541033327, "creation_date": 1541033327, "answer_id": 53093814, "question_id": 53093015, "link": "https://stackoverflow.com/questions/53093015/dependency-shading-in-gradle/53093814#53093814", "title": "Dependency shading in gradle", "body": "<p>The purpose of shading is so that library developers can include particular versions of their dependencies without affecting the ability of users of their library to use different versions of such dependencies. So I don't know why you're trying to overwrite the shaded Jackson classes with a different version. You're bound to have problems, as the third party library that you're using hasn't been written to use Jackson version 2.9.6.</p>\n\n<p>If you want to use Jackson 2.9.6 in the code that you write, then don't <code>relocate</code> the classes, and import <code>com.fasterxml.jackson.core...</code> into the classes that you write.</p>\n"}], "owner": {"reputation": 49, "user_id": 2843283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0f96338445ea2462f82248854e8ae15?s=128&d=identicon&r=PG&f=1", "display_name": "user2843283", "link": "https://stackoverflow.com/users/2843283/user2843283"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1184, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541033327, "creation_date": 1541026326, "question_id": 53093015, "link": "https://stackoverflow.com/questions/53093015/dependency-shading-in-gradle", "title": "Dependency shading in gradle", "body": "<p>I am using a third party dependency which shades some jackson files as shaded.jackson.core.* or shaded.jackson.databind.* and uses it (as imports) in its application. However, I want to use a different version of jackson than the one shaded in this dependency. So, I was trying to use the relocate functionality in gradle to also shade the jackson dependencies similarly (with latest version) to the shaded.jackson and then use it.</p>\n\n<pre><code>  shadowJar {\n      mergeServiceFiles()\n      classifier = ''\n      dependencies {\n        include(dependency('com.fasterxml.jackson.core:jackson-annotations:2.9.6'))\n        include(dependency('com.fasterxml.jackson.core:jackson-core:2.9.6'))\n        include(dependency('com.fasterxml.jackson.core:jackson-databind:2.9.6'))\n      }\n      relocate 'com.fasterxml.jackson.core', 'shaded.jackson.core'\n  }\n</code></pre>\n\n<p>But when I build the project with gradle then i get \"Caused by: java.lang.ClassNotFoundException:shaded.jackson.core.JsonProcessingException\". Here, the \"shaded.jackson.core.JsonProcessingException\" is called from some java class in the third-party dependency. Any suggestions or corrections are welcome!</p>\n"}, {"tags": ["java", "datetime", "timestamp", "timestamp-with-timezone", "localdate"], "comments": [{"owner": {"reputation": 13883, "user_id": 6815131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c38385f9eb57b70176498fa5c3b4c99?s=128&d=identicon&r=PG&f=1", "display_name": "Joe C", "link": "https://stackoverflow.com/users/6815131/joe-c"}, "edited": false, "score": 1, "creation_date": 1541025857, "post_id": 53092946, "comment_id": 93082586, "body": "I wish you luck with all of that.  Did you happen to have a question for us, by chance?"}, {"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1541025939, "post_id": 53092946, "comment_id": 93082609, "body": "<code>d &gt;= &#39;2018-01-01&#39; and d &lt;= &#39;2018-01-10</code> is the string you want to return?"}, {"owner": {"reputation": 613, "user_id": 3737163, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1474804059/picture?type=large", "display_name": "alexlipa", "link": "https://stackoverflow.com/users/3737163/alexlipa"}, "edited": false, "score": 0, "creation_date": 1541026432, "post_id": 53092946, "comment_id": 93082764, "body": "I modified the question, hopefully it is clearer now"}], "answers": [{"comments": [{"owner": {"reputation": 613, "user_id": 3737163, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1474804059/picture?type=large", "display_name": "alexlipa", "link": "https://stackoverflow.com/users/3737163/alexlipa"}, "edited": false, "score": 0, "creation_date": 1541028673, "post_id": 53093250, "comment_id": 93083347, "body": "right! And what if we have same day or same day and same hour? We will have redundant filters. Also, if I want to plug in minutes, I have to hardcode that again, right?"}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "reply_to_user": {"reputation": 613, "user_id": 3737163, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1474804059/picture?type=large", "display_name": "alexlipa", "link": "https://stackoverflow.com/users/3737163/alexlipa"}, "edited": false, "score": 0, "creation_date": 1541029388, "post_id": 53093250, "comment_id": 93083541, "body": "@alexlipa If you want to optimize the result if inputs have same day, you&#39;d have to code for that anyway, since the result will be different. And if you want a granularity of <code>MINUTE</code>, the resulting conditions will be different, so also have to code all that. You won&#39;t get any of it for free."}], "tags": [], "owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "is_accepted": false, "score": 1, "last_activity_date": 1541028309, "creation_date": 1541028309, "answer_id": 53093250, "question_id": 53092946, "link": "https://stackoverflow.com/questions/53092946/given-2-localdatetime-generate-filters-based-on-days-or-days-hours/53093250#53093250", "title": "Given 2 LocalDateTime generate filters based on days or days/hours", "body": "<p>Why do you believe that using <code>Duration</code> for this would be a \"smart way\"? It's not. Your two <code>LocalDateTime</code> objects have all the values to need to build the text result.</p>\n\n<p>Example:</p>\n\n<pre><code>public enum Granularity { DAY, HOUR }\npublic static String toSqlCondition(LocalDateTime min, LocalDateTime max, Granularity granularity) {\n    switch (granularity) {\n        case DAY:\n            return \"d &gt;= '\" + min.toLocalDate() + \"' and d &lt;= '\" + max.toLocalDate() + \"'\";\n        case HOUR:\n            return \"(d == '\" + min.toLocalDate() + \"' and h &gt;= \" + min.getHour() + \") or \" +\n                   \"(d &gt;= '\" + min.toLocalDate().plusDays(1) + \"' and d &lt;= '\" + max.toLocalDate().minusDays(1) + \"') or \" +\n                   \"(d == '\" + max.toLocalDate() + \"' and h &lt;= \" + max.getHour() + \")\";\n        default:\n            throw new UnsupportedOperationException(\"Cannot build SQL condition with granularity \" + granularity);\n    }\n}\n</code></pre>\n\n<p><em>Test</em></p>\n\n<pre><code>LocalDateTime a = LocalDateTime.parse(\"2018-01-01T12:23:23\");\nLocalDateTime b = LocalDateTime.parse(\"2018-01-10T15:18:13\");\nSystem.out.println(toSqlCondition(a, b, Granularity.DAY));\nSystem.out.println(toSqlCondition(a, b, Granularity.HOUR));\n</code></pre>\n\n<p><em>Output</em></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>d &gt;= '2018-01-01' and d &lt;= '2018-01-10'\n(d == '2018-01-01' and h &gt;= 12) or (d &gt;= '2018-01-02' and d &lt;= '2018-01-09') or (d == '2018-01-10' and h &lt;= 15)\n</code></pre>\n"}], "owner": {"reputation": 613, "user_id": 3737163, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1474804059/picture?type=large", "display_name": "alexlipa", "link": "https://stackoverflow.com/users/3737163/alexlipa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1541028309, "creation_date": 1541025751, "last_edit_date": 1541026413, "question_id": 53092946, "link": "https://stackoverflow.com/questions/53092946/given-2-localdatetime-generate-filters-based-on-days-or-days-hours", "title": "Given 2 LocalDateTime generate filters based on days or days/hours", "body": "<p>I would like to have a method that given a time interval granularity (e.g. DAY, HOUR, etc.) and 2 LocalDateTime <em>a</em> and <em>b</em> generates a string of the following type: </p>\n\n<p>let's assume <code>a = '2018-01-01 12:23:23'</code> and <code>b = '2018-01-10 15:18:13'</code> if the time interval given is</p>\n\n<ul>\n<li>DAY: a and b are rounded to days and the output will be a string <code>\"d &gt;= '2018-01-01' and d &lt;= '2018-01-10\"</code></li>\n<li>HOUR => the granularity here is hour, so a and b are rounded to hours and the string will be <code>\"(d == '2018-01-01' and h &gt;= 12) or (d &gt;= '2018-01-02' and d &lt;= '2018-01-09') or (d == '2018-01-10 and h &lt;= 15)\"</code></li>\n</ul>\n\n<p>Right now, I need only these two cases, but I would like to be flexible (let's say I would like to do the same things with minutes in the future)</p>\n\n<p>I couldn't find a smart way to do so, for example using Duration class in Java, but I was just able to hard code the result for the two granularities above </p>\n"}, {"tags": ["java", "generics", "orm"], "comments": [{"owner": {"reputation": 13883, "user_id": 6815131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c38385f9eb57b70176498fa5c3b4c99?s=128&d=identicon&r=PG&f=1", "display_name": "Joe C", "link": "https://stackoverflow.com/users/6815131/joe-c"}, "edited": false, "score": 0, "creation_date": 1541025609, "post_id": 53092903, "comment_id": 93082526, "body": "Type erasure itself is a large fundamental issue, but that&#39;s a separate discussion entirely.  I&#39;d just add a <code>@SuppressWarnings</code> to it because there is a sensible explanation for it."}, {"owner": {"reputation": 333, "user_id": 6883735, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/653be59056c9284703a10d4d31aa76dd?s=128&d=identicon&r=PG&f=1", "display_name": "efxgamer", "link": "https://stackoverflow.com/users/6883735/efxgamer"}, "reply_to_user": {"reputation": 13883, "user_id": 6815131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c38385f9eb57b70176498fa5c3b4c99?s=128&d=identicon&r=PG&f=1", "display_name": "Joe C", "link": "https://stackoverflow.com/users/6815131/joe-c"}, "edited": false, "score": 0, "creation_date": 1541025942, "post_id": 53092903, "comment_id": 93082611, "body": "Since the warning is really on the <code>List&lt;BaseballStatistic&gt; q = BaseballStatistic.FIND.where().eq(&quot;teamID&quot;,  &quot;CHN&quot;).query();</code> I&#39;m against putting <code>@SuppressWarnings</code> on it because this code is supposed to belong to a library eventually"}, {"owner": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 0, "creation_date": 1541026023, "post_id": 53092903, "comment_id": 93082636, "body": "You showed us the implementation and definition of <code>execute</code>, but shouldn&#39;t you show us <code>query()</code> instead?"}, {"owner": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 0, "creation_date": 1541026184, "post_id": 53092903, "comment_id": 93082696, "body": "Also, where do you instantiate <code>SimpleQuery</code>, or what is the relation between <code>SimpleQuery</code> and <code>BaseballStatistic.FIND</code>? And do methods like <code>where()</code> and <code>eq()</code> keep the regular type?"}, {"owner": {"reputation": 333, "user_id": 6883735, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/653be59056c9284703a10d4d31aa76dd?s=128&d=identicon&r=PG&f=1", "display_name": "efxgamer", "link": "https://stackoverflow.com/users/6883735/efxgamer"}, "edited": false, "score": 0, "creation_date": 1541026600, "post_id": 53092903, "comment_id": 93082804, "body": "I edited it to add more information, but it&#39;s quite large so it&#39;s hard to include all the class informations"}, {"owner": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 1, "creation_date": 1541026767, "post_id": 53092903, "comment_id": 93082850, "body": "You don&#39;t need add that much information. For example the implementation of <code>execute</code> isn&#39;t important right now. What we need are method signature, return types and variable type. For example: <code>public static final Find FIND</code> why are you using a raw type of <code>Find</code> here? Here is another raw type <code>public Query select(...)</code> .. shouldn&#39;t your IDE warn you about this?"}, {"owner": {"reputation": 333, "user_id": 6883735, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/653be59056c9284703a10d4d31aa76dd?s=128&d=identicon&r=PG&f=1", "display_name": "efxgamer", "link": "https://stackoverflow.com/users/6883735/efxgamer"}, "edited": false, "score": 0, "creation_date": 1541026883, "post_id": 53092903, "comment_id": 93082884, "body": "I wanted to use Find here so that I could pass in type information and so that when I write queries, I could do so without instantiating a  new &quot;BaseballStatistic&quot;, i&#39;m using IntelliJ and it hasn&#39;t warned me about it :/"}, {"owner": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 1, "creation_date": 1541027467, "post_id": 53092903, "comment_id": 93083035, "body": "That wasn&#39;t the question, the question was &quot;why is it a raw type&quot;? I.e why are you using <code>Find</code> there instead of <code>Find&lt;BaseballStatistic&gt;</code>. The same for <code>Query</code> as the return type of <code>select</code>. It is understandable that Intellij warns you about different types for <code>List&lt;BaseballStatistic&gt; q = BaseballStatistic.FIND.where().eq(&quot;teamID&quot;,  &quot;CHN&quot;).query();</code>, because you&#39;ve stopped carrying over the generic type while chaining the method calls. Thus Intellij doesn&#39;t know anymore what <code>query()</code> <i>really</i> return at that point."}, {"owner": {"reputation": 333, "user_id": 6883735, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/653be59056c9284703a10d4d31aa76dd?s=128&d=identicon&r=PG&f=1", "display_name": "efxgamer", "link": "https://stackoverflow.com/users/6883735/efxgamer"}, "edited": false, "score": 0, "creation_date": 1541027606, "post_id": 53092903, "comment_id": 93083074, "body": "Sorry I was about to update my answer actually for that. I added those into my code just now but it still has the same. I&#39;m assuming the reasoning this is occurring though is that I haven&#39;t passed down the type information somewhere down the chain of code?"}, {"owner": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 2, "creation_date": 1541028132, "post_id": 53092903, "comment_id": 93083207, "body": "&quot;I&#39;m assuming the reasoning this is occurring though is that I haven&#39;t passed down the type information somewhere down the chain of code?&quot; That is correct. When your IntelliJ doesn&#39;t correctly warn you about such code, then go to Settings -&gt; Editor -&gt; Inspections and then Java- &gt; Code style issues -&gt; Raw type can be generic. Activate that inspection. Then recheck your code for raw types/missing type information."}], "answers": [{"tags": [], "owner": {"reputation": 1761, "user_id": 1303158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc7eb6c9daf0c8b62d509d60d9b6dba?s=128&d=identicon&r=PG", "display_name": "Bernie", "link": "https://stackoverflow.com/users/1303158/bernie"}, "is_accepted": false, "score": 0, "last_activity_date": 1541038053, "last_edit_date": 1541038053, "creation_date": 1541037730, "answer_id": 53094280, "question_id": 53092903, "link": "https://stackoverflow.com/questions/53092903/java-type-erasure-generic-lists-with-unchecked-assignment/53094280#53094280", "title": "Java Type Erasure, Generic Lists with Unchecked Assignment", "body": "<p>There are 2 places that you're missing generic type parameters.</p>\n\n<ol>\n<li><p><code>BaseballStatistic.FIND</code>:</p>\n\n<p><code>public static final Find&lt;BaseballStatistic&gt; FIND = new Find&lt;BaseballStatistic&gt; (BaseballStatistic.class) { };</code></p></li>\n<li><p><code>PinotModel.select</code>:</p>\n\n<p><code>public Query&lt;T&gt; select(String... s) {\n  return new SimpleQuery&lt;T&gt;(type).select(s);\n}</code></p></li>\n</ol>\n\n<p>You're also missing type parameters on <code>PinotModel.where()</code>. <code>Clause</code> would also need a type parameter, including on the <code>AbstractQuery._clauses</code> field.</p>\n"}], "owner": {"reputation": 333, "user_id": 6883735, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/653be59056c9284703a10d4d31aa76dd?s=128&d=identicon&r=PG&f=1", "display_name": "efxgamer", "link": "https://stackoverflow.com/users/6883735/efxgamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 485, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541038053, "creation_date": 1541025470, "last_edit_date": 1541026579, "question_id": 53092903, "link": "https://stackoverflow.com/questions/53092903/java-type-erasure-generic-lists-with-unchecked-assignment", "title": "Java Type Erasure, Generic Lists with Unchecked Assignment", "body": "<p>Currently I'm writing a program where I have the following statement.</p>\n\n<p><code>List&lt;BaseballStatistic&gt; q = BaseballStatistic.FIND.where().eq(\"teamID\",  \"CHN\").query();</code></p>\n\n<p>Here, it complains</p>\n\n<p>Unchecked assignment: 'java.util.List' to 'java.util.List'. Reason: 'BaseballStatistic.FIND.where().eq(\"teamID\", \"CHN\")' has raw type, so result of query is erased more... </p>\n\n<p>I have an interface which looks like this</p>\n\n<pre><code>public interface Query&lt;T&gt; {\n  ...\n  List&lt;T&gt; execute();\n}\n</code></pre>\n\n<p>then an abstract class that implements this interface</p>\n\n<pre><code>public abstract class AbstractQuery&lt;T&gt; implements Query&lt;T&gt; {\n  Statement _statement = null;\n  String _tableName;\n  List&lt;Clause&gt; _clauses;\n  Class&lt;T&gt; _type;\n\nAbstractQuery(Class&lt;T&gt; type) {\n  _type = type;\n  _clauses = new ArrayList&lt;&gt;();\n  _tableName = type.getAnnotation(Table.class).name();\n}\n\n...\npublic abstract List&lt;T&gt; execute();\n}\n</code></pre>\n\n<p>and finally a concrete implementation:</p>\n\n<pre><code>public class SimpleQuery&lt;T&gt; extends AbstractQuery&lt;T&gt; {\n\npublic SimpleQuery(Class&lt;T&gt; type) {\n  super(type);\n}\n</code></pre>\n\n<p>which houses the following .query function which looks like:</p>\n\n<pre><code>@Override\npublic List&lt;T&gt; execute() {\ntry {\n  JSONObject jsonObject = Peanut.getClient().listStatistics(buildQuery());\n\n  if (jsonObject == null || !jsonObject.has(\"results\")) {\n    return Collections.emptyList();\n  }\n\n  JSONArray columnNames = jsonObject.getJSONArray(\"columns\");\n\n  Map&lt;String, Integer&gt; columnNameMap = new HashMap&lt;&gt;();\n  for (int i = 0; i &lt; columnNames.length(); i++) {\n    columnNameMap.put((String) columnNames.get(i), i);\n  }\n\n  JSONArray results = jsonObject.getJSONArray(\"results\");\n\n  List&lt;T&gt; ts = new ArrayList&lt;&gt;();\n  for (int i = 0; i &lt; results.length(); i++) {\n    JSONArray result = results.getJSONArray(i);\n    T t = _type.newInstance();\n    for (Field field : ObjectUtils.getFieldsUpTo(t.getClass(), PinotModel.class)) {\n      if (field.getAnnotation(Column.class) == null) {\n        continue;\n      }\n\n      Object obj = ObjectUtils.getDefaultValue(field.getType());\n      String columnName = field.getAnnotation(Column.class).name();\n\n      if (columnNameMap.containsKey(columnName)) {\n        int idx = columnNameMap.get(columnName);\n        field.setAccessible(true);\n        field.set(t, ObjectUtils.convertObject(obj, result.get(idx)));\n      }\n    }\n    ts.add(t);\n  }\n  return ts;\n} catch (Exception e) {\n  // TODO: Throw Peanut specific error.\n  Peanut.LOG.error(e);\n  return Collections.emptyList();\n}\n}\n</code></pre>\n\n<p>It seems like here, at compilation, the returned list has lost it's type leading to the warning. If I change the original variable declaration to List the warning will leave, which makes sense.</p>\n\n<p>Is there anyway around this or is there a larger fundamental issue at play?</p>\n\n<p>EDIT: </p>\n\n<p>Query Function that calls execute is here</p>\n\n<pre><code> public List&lt;T&gt; query() {\n   return _query.execute();\n }\n</code></pre>\n\n<p>And the relationship between SimpleQuery and BaseballStatistic.Find is as follows.</p>\n\n<pre><code>@Table(name = \"baseballStats\")\npublic class BaseballStatistic extends PinotModel {\n\n  public static final Find FIND = new Find&lt;BaseballStatistic (BaseballStatistic.class) { };\n...\n</code></pre>\n\n<p>and PinotModel looks like</p>\n\n<pre><code>public class PinotModel {\n  public static class Find&lt;T&gt; {\n    private final Class&lt;T&gt; type;\n\n  protected Find(Class&lt;T&gt; type) {\n    this.type = type;\n  }\n\n  public Query select(String... s) {\n    return new SimpleQuery&lt;T&gt;(type).select(s);\n  }\n\n  public Clause where() {\n    return new SimpleQuery&lt;T&gt;(type).where();\n  }\n\n  public Clause limit(Integer n) {\n    return new SimpleQuery&lt;T&gt;(type).limit(n);\n  }\n\n  public Clause top(Integer n) {\n    return new SimpleQuery&lt;T&gt;(type).top(n);\n  }\n\n  public Clause orderBy(String columnName, Order o) {\n    return new SimpleQuery&lt;T&gt;(type).orderBy(columnName, o);\n  }\n\n  public String tableName() {\n    return new SimpleQuery&lt;T&gt;(type).getTableName();\n  }\n }\n}\n</code></pre>\n"}, {"tags": ["java", "jsp", "properties"], "comments": [{"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1541025727, "post_id": 53092877, "comment_id": 93082552, "body": "I&#39;m sure it is."}, {"owner": {"reputation": 551, "user_id": 8271518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IF6OF.png?s=128&g=1", "display_name": "Mad Scientist", "link": "https://stackoverflow.com/users/8271518/mad-scientist"}, "reply_to_user": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1541026989, "post_id": 53092877, "comment_id": 93082913, "body": "@shmosel I guess that it is too but I wonder how"}, {"owner": {"reputation": 15197, "user_id": 1475228, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TgQ5O.png?s=128&g=1", "display_name": "Pritam Banerjee", "link": "https://stackoverflow.com/users/1475228/pritam-banerjee"}, "edited": false, "score": 0, "creation_date": 1541027936, "post_id": 53092877, "comment_id": 93083165, "body": "You can use the session variables to store a list in the jsp/ java, wherever you like."}], "owner": {"reputation": 551, "user_id": 8271518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IF6OF.png?s=128&g=1", "display_name": "Mad Scientist", "link": "https://stackoverflow.com/users/8271518/mad-scientist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541025295, "creation_date": 1541025295, "question_id": 53092877, "link": "https://stackoverflow.com/questions/53092877/store-jsp-properties-in-java", "title": "Store jsp properties in java", "body": "<p>I have a website with question and answer fields. If you click on a button then some questions will be answered automatically and these answers get loaded from the database via java. Every question field has a property in the .jsp.</p>\n\n<p>I would like to know if it is possible to store these properties in java (in a list for example) and save it in the Form class and then mark the stored properties of the automatically answered fields in .jsp with a colour?</p>\n"}, {"tags": ["java", "audio", "libgdx"], "comments": [{"owner": {"reputation": 6543, "user_id": 2899889, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2ecac34e17d0ccc05b75ed5e7df3f101?s=128&d=identicon&r=PG", "display_name": "MilanG", "link": "https://stackoverflow.com/users/2899889/milang"}, "edited": false, "score": 1, "creation_date": 1541061262, "post_id": 53092756, "comment_id": 93091248, "body": "Where is this happening? In desktop app, when started on real device or in emulator maybe? I&#39;ve developed few LibGDX apps, but this never happen to me. I has sound issues at app start or when my frame drawing takes too long, but never beside that."}, {"owner": {"reputation": 79, "user_id": 10588302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EbSWb.jpg?s=128&g=1", "display_name": "David Cohn", "link": "https://stackoverflow.com/users/10588302/david-cohn"}, "reply_to_user": {"reputation": 6543, "user_id": 2899889, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2ecac34e17d0ccc05b75ed5e7df3f101?s=128&d=identicon&r=PG", "display_name": "MilanG", "link": "https://stackoverflow.com/users/2899889/milang"}, "edited": false, "score": 0, "creation_date": 1541166284, "post_id": 53092756, "comment_id": 93133835, "body": "Environment:  Desktop via NetBeans.  No Gradle.  The lags occur well after the app starts.  The only image drawing occurring would be in the update event, which is minimal.  The images that exist are quite large, though.  A region is cut out of a texture that is originally 3840 x 1440 when the application originally starts.  The region is 960 x 720.  Up to eight of these regions are displayed.  The future plan is to reduce the region to the minimum necessary size. All cropping occurs when the app starts, though (asset manager)."}, {"owner": {"reputation": 6543, "user_id": 2899889, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2ecac34e17d0ccc05b75ed5e7df3f101?s=128&d=identicon&r=PG", "display_name": "MilanG", "link": "https://stackoverflow.com/users/2899889/milang"}, "edited": false, "score": 0, "creation_date": 1541412199, "post_id": 53092756, "comment_id": 93194528, "body": "Can you comment out temporary those drawing calls and check will lag still appear?"}], "owner": {"reputation": 79, "user_id": 10588302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EbSWb.jpg?s=128&g=1", "display_name": "David Cohn", "link": "https://stackoverflow.com/users/10588302/david-cohn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541024470, "creation_date": 1541024470, "question_id": 53092756, "link": "https://stackoverflow.com/questions/53092756/libgdx-audio-lag-less-than-one-second-but-noticeable-java-libgdx", "title": "libgdx audio lag (less than one second, but noticeable) ... Java / LibGDX", "body": "<p>I have a medium-sized Java / Libgdx application where all of the Sound clips are slightly delayed when played.  Each of these is loaded with the asset manager in the beginning of the application.  They range in size from 7 to 220 kb.  I tried both decreasing and increasing the size of the files.  I tried both wav and ogg.  Two classes handle the operations related to sounds, AssetMgr and Sounds.  After loading the sounds via the asset manager, the Sounds class activities occur.  If necessary, I can post links to the classes in GitHub.  As far as memory consumption, while otherwise a fairly small game, some pretty large graphics exist, but they total well under 1 mb.  I am loading pixel maps for a couple of the smaller ones.</p>\n\n<blockquote>\n  <p>Queueing sounds for loading with asset manager...\n  // elements = List of sounds to load.  Must include full path and extension.  Example:  \"assets\\beep.wav\", \"assets\\click.wav\".\n      public void queueSounds(String ... elements)\n      {</p>\n</blockquote>\n\n<pre><code>    // The function adds the passed sounds to the asset manager for future loading.\n\n    // Loop through each element passed to function.\n    for (String element : elements)\n    {\n        // Add current element in loop to queue.\n        manager.load(element, Sound.class);\n    }\n\n}\n</code></pre>\n\n<blockquote>\n  <p>Copying references to hash maps in the Sounds class (please ignore the music piece)...</p>\n</blockquote>\n\n<pre><code>    String filePath; // (Relative) path to sound or music -- used as key in asset manager.\n    String musicKey; // Key to use with hash map -- one of the MusicEnum values, as a String.\n    String soundKey; // Key to use with hash map -- one of the SoundEnum values, as a String.\n\n    // Initialize the hash maps.\n    soundMap = new HashMap&lt;&gt;();\n    musicMap = new HashMap&lt;&gt;();\n\n    // Populate hash map for sounds.\n\n    // Loop through sound enumerations.\n    for (HeroineEnum.SoundEnum soundEnum : HeroineEnum.SoundEnum.values())\n\n    {\n\n        // Get key / file path for sound.\n        filePath = soundEnum.getValue_FilePath();\n\n        // Get enumerated value for the sound, as a String.\n        soundKey = soundEnum.toString();\n\n        // Add sound related to current enumeration to hash map.\n        soundMap.put(soundKey, hdg.getAssetMgr().manager.get(filePath));\n\n    }\n</code></pre>\n\n<blockquote>\n  <p>Playing a sound...</p>\n</blockquote>\n\n<pre><code>// whichSound = Name of sound to play.  Corresponds to one of the enumerated \nvalues in SoundEnum.\npublic void playSound(HeroineEnum.SoundEnum whichSound)\n{\n\n    // The function plays the passed sound -- matching the enumerated key value to the key in the hash map.\n\n    // Play sound.\n    soundMap.get(whichSound.toString()).play(audioVolume);\n\n}\n</code></pre>\n"}, {"tags": ["java", "class", "oop", "object"], "comments": [{"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1541024184, "post_id": 53092692, "comment_id": 93082083, "body": "Maybe, and ONLY MAYBE, Polish reverse notation."}, {"owner": {"reputation": 50650, "user_id": 3182664, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/2s35X.png?s=128&g=1", "display_name": "Marco13", "link": "https://stackoverflow.com/users/3182664/marco13"}, "edited": false, "score": 0, "creation_date": 1541026360, "post_id": 53092692, "comment_id": 93082750, "body": "An <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> could help. Until then, just a hint: The JScience library already went the extra mile here: <a href=\"http://jscience.org/api/javax/measure/package-summary.html\" rel=\"nofollow noreferrer\">jscience.org/api/javax/measure/package-summary.html</a>"}, {"owner": {"reputation": 7, "user_id": 7847829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f889a43b3a5552f7a5aad1fb9ce5f2c2?s=128&d=identicon&r=PG&f=1", "display_name": "J.Clam", "link": "https://stackoverflow.com/users/7847829/j-clam"}, "reply_to_user": {"reputation": 50650, "user_id": 3182664, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/2s35X.png?s=128&g=1", "display_name": "Marco13", "link": "https://stackoverflow.com/users/3182664/marco13"}, "edited": false, "score": 0, "creation_date": 1541027253, "post_id": 53092692, "comment_id": 93082976, "body": "@Marco13 I would use that, but this is more of me learning from a more barebones perspective and to prepare myself for a course I am taking next semester. This is an old project from about 9 years ago that the professor told me to look at to prepare if I wanted."}, {"owner": {"reputation": 50650, "user_id": 3182664, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/2s35X.png?s=128&g=1", "display_name": "Marco13", "link": "https://stackoverflow.com/users/3182664/marco13"}, "edited": false, "score": 0, "creation_date": 1541065092, "post_id": 53092692, "comment_id": 93092894, "body": "You can go arbitrarily far here. For example, should it be possible to convert a unit like <code>in*in&#47;(lb*in)^2</code> into its &quot;most simple form&quot;? Then you&#39;d basically have to <i>model</i> the units as classes, probably as some sort of <a href=\"https://en.wikipedia.org/wiki/Abstract_syntax_tree\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Abstract_syntax_tree</a> , and apply a simplification..."}], "owner": {"reputation": 7, "user_id": 7847829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f889a43b3a5552f7a5aad1fb9ce5f2c2?s=128&d=identicon&r=PG&f=1", "display_name": "J.Clam", "link": "https://stackoverflow.com/users/7847829/j-clam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541024087, "creation_date": 1541024087, "last_edit_date": 1592644375, "question_id": 53092692, "link": "https://stackoverflow.com/questions/53092692/multiplying-custom-units", "title": "Multiplying Custom Units", "body": "<p>For what I'm doing I am creating a program to multiply and divide measurements. Currently I'm stuck on the multiplication. I have created a class called Measurement that takes a value and a unit so a typical constructor is:</p>\n<blockquote>\n<p>Measurement x = new Measurement(5, &quot;in^2&quot;);</p>\n</blockquote>\n<p>Currently my output is:</p>\n<blockquote>\n<p>Mult: 5.0 in * 3.0 in = 15.0 in^2</p>\n<p>Mult: 5.0 in * 3.0 lb = 15.0 in*lb</p>\n<p>Mult: 4.0 in^5 * 3.0 in^3 = 12.0 in^5*in^3</p>\n</blockquote>\n<p>As you can see, the first three outputs are fine, but whenever I get over an exponent of 4, it cant multiply the two exponents. I also cannot figure out multiplying something along the lines of:</p>\n<blockquote>\n<p>Mult: 5.0 in^2/lb * 3.0 lb = 15 in^2</p>\n</blockquote>\n<p>Here is how I've currently set it up:</p>\n<pre><code>public Measurement mult(Measurement measure){\n        String newUnit=&quot;&quot;;\n        String inUnit = measure.getUnit();\n        double script = 1;\n        double newVal = 0;\n        newVal = measure.getVal()*val;\n        if(inUnit.indexOf(un) &gt; -1){\n            if(un.charAt(un.length()-1) == inUnit.charAt(inUnit.length()-1))\n                newUnit = un+&quot;^2&quot;;\n            else{\n                if (inUnit.contains(&quot;^&quot;)){\n                    int i = inUnit.indexOf(&quot;^&quot;)+1;\n                    script += Double.parseDouble(String.valueOf(inUnit.charAt(i)));\n                }\n                if(un.contains(&quot;^&quot;)){\n                    int j = inUnit.indexOf(&quot;^&quot;)+1;\n\n                    script += Double.parseDouble(String.valueOf(un.charAt(j)));\n                }\n                else\n                    script+=0;\n                System.out.println(script);\n                newUnit = un+&quot;^&quot;+ Integer.toString((int)script);\n            }\n        }\n       else if(inUnit.indexOf(un) == -1)\n            newUnit = un+&quot;*&quot;+inUnit;\n\n        Measurement out = new Measurement(newVal, newUnit);\n        return out;\n</code></pre>\n<p>}</p>\n"}, {"tags": ["java", "regex", "apache-spark", "pyspark"], "comments": [{"owner": {"reputation": 1149, "user_id": 3708175, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/17131040/picture?type=large", "display_name": "sramalingam24", "link": "https://stackoverflow.com/users/3708175/sramalingam24"}, "edited": false, "score": 0, "creation_date": 1541053233, "post_id": 53092684, "comment_id": 93088344, "body": "The regex tester linked captures just left when using javascript, it times out for python"}, {"owner": {"reputation": 1325, "user_id": 10431118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cEMkN.jpg?s=128&g=1", "display_name": "pvy4917", "link": "https://stackoverflow.com/users/10431118/pvy4917"}, "edited": false, "score": 0, "creation_date": 1541082322, "post_id": 53092684, "comment_id": 93101832, "body": "<a href=\"https://stackoverflow.com/questions/43449773/i-want-to-extract-a-certain-number-of-words-surrounding-a-given-word-in-a-long-s\" title=\"i want to extract a certain number of words surrounding a given word in a long s\">stackoverflow.com/questions/43449773/&hellip;</a>"}, {"owner": {"reputation": 61, "user_id": 3635198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c6eb5006f6737d1f1bd0d9ba6804d93?s=128&d=identicon&r=PG&f=1", "display_name": "luvrock", "link": "https://stackoverflow.com/users/3635198/luvrock"}, "reply_to_user": {"reputation": 1149, "user_id": 3708175, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/17131040/picture?type=large", "display_name": "sramalingam24", "link": "https://stackoverflow.com/users/3708175/sramalingam24"}, "edited": false, "score": 0, "creation_date": 1541093878, "post_id": 53092684, "comment_id": 93108317, "body": "@sramalingam24 I&#39;m interested in the full match. I updated the link to reflect the full match as a group. I&#39;m not sure why it times out, I did not have that problem."}, {"owner": {"reputation": 61, "user_id": 3635198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c6eb5006f6737d1f1bd0d9ba6804d93?s=128&d=identicon&r=PG&f=1", "display_name": "luvrock", "link": "https://stackoverflow.com/users/3635198/luvrock"}, "reply_to_user": {"reputation": 1325, "user_id": 10431118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cEMkN.jpg?s=128&g=1", "display_name": "pvy4917", "link": "https://stackoverflow.com/users/10431118/pvy4917"}, "edited": false, "score": 0, "creation_date": 1541094245, "post_id": 53092684, "comment_id": 93108480, "body": "@Prazy that is a cool idea, I had thought of something similar (tokenization then extract adjacent strings), but I was hoping fixing the regex would be a simpler solution that I could integrate into an existing function rather than creating a new one. I will resort to this idea in case no one can help with the regex."}, {"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1541105513, "post_id": 53092684, "comment_id": 93113664, "body": "What does this have to do with Java?"}, {"owner": {"reputation": 61, "user_id": 3635198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c6eb5006f6737d1f1bd0d9ba6804d93?s=128&d=identicon&r=PG&f=1", "display_name": "luvrock", "link": "https://stackoverflow.com/users/3635198/luvrock"}, "edited": false, "score": 0, "creation_date": 1541115494, "post_id": 53092684, "comment_id": 93116804, "body": "Spark runs on the JVM. I have not checked how a Python regex is compiled for Spark, but Presto, for example, compiles to Java regex"}], "owner": {"reputation": 61, "user_id": 3635198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c6eb5006f6737d1f1bd0d9ba6804d93?s=128&d=identicon&r=PG&f=1", "display_name": "luvrock", "link": "https://stackoverflow.com/users/3635198/luvrock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 406, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541105470, "creation_date": 1541024056, "last_edit_date": 1541105470, "question_id": 53092684, "link": "https://stackoverflow.com/questions/53092684/spark-regex-with-non-capturing-group-before-and-after-matches-not-working-as-exp", "title": "Spark regex with non-capturing group before and after matches not working as expected", "body": "<p>I have been breaking my head trying to make this regex work. After much googling and consultation with colleagues, it's still not working as expected.</p>\n\n<p>I have a set of target words (see example of terms in the comment line) that I want to capture, along with the surrounding 3 words to form a snippet string. Below is a function that does so for a string in a PySpark dataframe:</p>\n\n<pre><code>def extract_snippet(df, text_col):\n\n    e = [\"rt\", \"lt\", \"bi\"]\n    before = r\"(?:\\S+\\s+){0,3}\"\n    after = r\"\\s*(?:\\S+\\b\\s*){0,3}\"\n\n    for eye in e:\n        if eye == \"rt\":\n            # terms: right, od, rt, r eye, r_eye\n            p = before + r\"\\b[oO]{1}[dD]{1}\\b|\\b[rR]{1}(?:igh|IGH)?[tT]{1}\\b|\\b[rR]{1}[^a-zA-Z0-9]{0,4}eye{1}\\b\" + after\n        elif eye == \"lt\":\n            # terms: left, os, lt, l eye, l_eye\n            p = before + r\"\\b[oO]{1}[sS]{1}\\b|\\b[lL]{1}(?:ef|EF)?[tT]{1}\\b|\\b[lL]{1}[^a-zA-Z0-9]{0,4}eye{1}\\b\" + after\n        else:\n            # ou, bi, bilat, bilateral, both\n            p = before + r\"\\b[oO]{1}[uU]{1}\\b|\\b(?:bi|BI|Bi){1}(?:lat|LAT|LATERAL|lateral)?\\b|\\b(?:both|BOTH|Both){1}\\b\" + after\n\n        snippet_udf = udf(lambda s: re.findall(p, s), ArrayType(StringType()))\n        df = df.withColumn(eye + \"_snippet\", snippet_udf(col(text_col)))\n\n    return df\n</code></pre>\n\n<p>I need to keep the expression broken in pieces because \"p\" will change depending on the target terms</p>\n\n<p>Here are some examples:</p>\n\n<h3>example 1:</h3>\n\n<p><code>Type 2 diabetes mellitus with moderate nonproliferative diabetic retinopathy with macular edema, left eye  Care Plan:</code></p>\n\n<p>What I expect it to return: </p>\n\n<p><code>'with macular edema, left eye  Care Plan'</code></p>\n\n<p>What I'm getting:</p>\n\n<p><code>'left'</code></p>\n\n<h3>example 2:</h3>\n\n<p><code>Primary open-angle glaucoma, moderate stage  Comments       :  IOP STILL ELEVATED OD Visual Field and ONA reviewed with patient</code></p>\n\n<p>What I expect it to return: </p>\n\n<p><code>'IOP STILL ELEVATED OD Visual Field and '</code></p>\n\n<p>What I'm getting:</p>\n\n<p><code>'IOP STILL ELEVATED OD'</code></p>\n\n<p>These examples work as expected (full match) in the regex tester <a href=\"https://regex101.com/r/8WZXiM/2/\" rel=\"nofollow noreferrer\">here</a>, but not when I apply it to transform a string in a Spark dataframe column.</p>\n\n<p><strong>For some strings like in example 2, the regex seems to work to capture the words before, but not after the target word</strong> (I'm aware that .findall() will only return non-overlapping words, this is not the problem).</p>\n\n<p>I've tried Java regex testers instead of a Python tester like the one in the link but I got the same (correct) output, so I'm lost.</p>\n\n<p>In Presto, this works perfectly:</p>\n\n<pre><code>SELECT regexp_extract_all(col_name, '((?:\\S+\\s+){0,3}(\\b[oO]{1}[sS]{1}\\b|\\b[lL]{1}(ef|EF)?[tT]{1}\\b|\\b[lL]{1}[^a-zA-Z0-9]{0,4}eye{1}\\b)\\s*(?:\\S+\\b\\s*){0,3})') FROM ...\n</code></pre>\n\n<p>The difference among the regex in the pySpark snippet, in the regex tester, and the Presto query is <strong>where parentheses go</strong>. I've played with it though and it hasn't yet solved the problem...</p>\n\n<h3>EDIT: I've added the entire function as well as another example</h3>\n"}, {"tags": ["java", "swing", "graphics", "paintcomponent", "repaint"], "comments": [{"owner": {"reputation": 275558, "user_id": 522444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16b6783e9b99b1199c75761eaf5c0685?s=128&d=identicon&r=PG", "display_name": "Hovercraft Full Of Eels", "link": "https://stackoverflow.com/users/522444/hovercraft-full-of-eels"}, "edited": false, "score": 0, "creation_date": 1541024668, "post_id": 53092658, "comment_id": 93082252, "body": "<code>g.fillRect(0, 0, getWidth(), getHeight())</code>"}, {"owner": {"reputation": 275558, "user_id": 522444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16b6783e9b99b1199c75761eaf5c0685?s=128&d=identicon&r=PG", "display_name": "Hovercraft Full Of Eels", "link": "https://stackoverflow.com/users/522444/hovercraft-full-of-eels"}, "edited": false, "score": 0, "creation_date": 1541024685, "post_id": 53092658, "comment_id": 93082260, "body": "and no need for all those <code>revalidate()</code>s and <code>repaint()</code>s."}, {"owner": {"reputation": 275558, "user_id": 522444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16b6783e9b99b1199c75761eaf5c0685?s=128&d=identicon&r=PG", "display_name": "Hovercraft Full Of Eels", "link": "https://stackoverflow.com/users/522444/hovercraft-full-of-eels"}, "edited": false, "score": 0, "creation_date": 1541024824, "post_id": 53092658, "comment_id": 93082312, "body": "And no need to override paintComponent if all you&#39;re doing is filling the background. A call to <code>setBackground(new Color(0, 128, 0));</code> within the Grid constructor will set it. Of course you might need the paintComponent if you&#39;re going to draw other things -- but if it&#39;s a grid, consider using a grid of JLabels and setting their icons."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 10588294, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FdvPtLrOLW4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAms51o8uJ5bnY3c43_xDn9cPAvLA/mo/photo.jpg?sz=128", "display_name": "vanR", "link": "https://stackoverflow.com/users/10588294/vanr"}, "edited": false, "score": 0, "creation_date": 1541035861, "post_id": 53092860, "comment_id": 93084817, "body": "I can&#39;t believe I didn&#39;t find this, beginner mistake... Thank you!"}], "tags": [], "owner": {"reputation": 275558, "user_id": 522444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16b6783e9b99b1199c75761eaf5c0685?s=128&d=identicon&r=PG", "display_name": "Hovercraft Full Of Eels", "link": "https://stackoverflow.com/users/522444/hovercraft-full-of-eels"}, "is_accepted": true, "score": 3, "last_activity_date": 1541025167, "creation_date": 1541025167, "answer_id": 53092860, "question_id": 53092658, "link": "https://stackoverflow.com/questions/53092658/repaint-component-doesnt-appear-for-a-simple-show/53092860#53092860", "title": "repaint() - component doesn&#39;t appear for a simple show", "body": "<p>This is your problem:</p>\n\n<pre><code>g.fillRect(0, 0, WIDTH, HEIGHT);\n</code></pre>\n\n<p>The WIDTH and HEIGHT values are not what you expect them to be, and in fact they are likely both 0. Instead for safest programming, you need to get the actual width and height via <code>getWidth()</code> and <code>getHeight()</code></p>\n\n<p>No need for those <code>revalidate()</code>s and <code>repaint()</code>s. For example:</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\n\nimport javax.swing.*;\n\npublic class GridTest {\n\n    private static final int WIDTH = 800;\n    private static final int HEIGHT = 600;\n\n    private static void createAndShowGui() {\n\n        Grid mainPanel = new Grid(WIDTH, HEIGHT);\n\n        JFrame frame = new JFrame(\"Grid Test\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(mainPanel);\n        frame.pack();\n        frame.setResizable(false);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; createAndShowGui());\n    }\n}\n</code></pre>\n\n<p></p>\n\n<pre><code>class Grid extends JPanel {\n    private static final long serialVersionUID = 1L;\n    private int prefW;\n    private int prefH;\n\n\n    public Grid(int prefW, int prefH) {\n        this.prefW = prefW;\n        this.prefH = prefH;\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        g.setColor(new Color(0,128,0));\n        g.fillRect(0, 0, getWidth(), getHeight());\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        if (isPreferredSizeSet()) {\n            return super.getPreferredSize();\n        }\n        return new Dimension(prefW, prefH);\n    }\n\n}\n</code></pre>\n\n<p>Also there really is no need to override paintComponent if all you're doing is filling the background. A call to <code>setBackground(new Color(0, 128, 0));</code> within the Grid constructor will set it. Of course you might need the paintComponent if you're going to draw other things -- but if it's a grid, consider using a grid of JLabels and setting their icons.</p>\n"}], "owner": {"reputation": 55, "user_id": 10588294, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FdvPtLrOLW4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAms51o8uJ5bnY3c43_xDn9cPAvLA/mo/photo.jpg?sz=128", "display_name": "vanR", "link": "https://stackoverflow.com/users/10588294/vanr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 53092860, "answer_count": 1, "score": 1, "last_activity_date": 1541034306, "creation_date": 1541023915, "last_edit_date": 1541034306, "question_id": 53092658, "link": "https://stackoverflow.com/questions/53092658/repaint-component-doesnt-appear-for-a-simple-show", "title": "repaint() - component doesn&#39;t appear for a simple show", "body": "<p>I'm trying to code an Othello, and... I'm already stuck with a basic view.</p>\n\n<p>My main class:</p>\n\n<pre><code>public class Othello extends JFrame {\n    private static final long serialVersionUID = 1L;\n\n    public static final int WIDTH = 800;\n    public static final int HEIGHT = 600;\n\n    private Grid grid;\n\n    public Othello() {\n        this.setSize(WIDTH, HEIGHT);\n        this.setTitle(\"Othello\");\n\n        this.grid = new Grid();\n\n        this.setContentPane(this.grid);\n\n        this.grid.revalidate();\n        this.grid.repaint();\n    }\n\n    public void run() {\n        this.setLocationRelativeTo(null);\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        this.setResizable(false);\n        this.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        new Othello().run();\n    }\n}\n</code></pre>\n\n<p>And my <code>JPanel</code> class:</p>\n\n<pre><code>public class Grid extends JPanel {\n    private static final long serialVersionUID = 1L;\n\n    public Grid() {}\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        g.setColor(new Color(0,128,0));\n        g.fillRect(0, 0, WIDTH, HEIGHT);\n    }\n}\n</code></pre>\n\n<p>I don't understand why it doesn't show anything.</p>\n\n<p>The <code>paintComponent</code> is called, but nothing happens, I tried to call <code>revalidate()</code> and <code>repaint()</code> almost everywhere and nothing works.</p>\n\n<p>I've been looking for the solution in different topics for almost 1 hour, and none of the solution I've found worked.</p>\n"}, {"tags": ["java", "multithreading", "rx-java", "reactive-programming"], "answers": [{"comments": [{"owner": {"reputation": 583, "user_id": 832636, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/526539e3fa064e678c7113b9cbc782fe?s=128&d=identicon&r=PG", "display_name": "Don Code", "link": "https://stackoverflow.com/users/832636/don-code"}, "edited": false, "score": 0, "creation_date": 1541097710, "post_id": 53092772, "comment_id": 93110177, "body": "Yeah, but I need to do it in RxJava :\\"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "reply_to_user": {"reputation": 583, "user_id": 832636, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/526539e3fa064e678c7113b9cbc782fe?s=128&d=identicon&r=PG", "display_name": "Don Code", "link": "https://stackoverflow.com/users/832636/don-code"}, "edited": false, "score": 0, "creation_date": 1541098234, "post_id": 53092772, "comment_id": 93110430, "body": "<code>fromIterable</code> was <code>from</code>, <code>flattenAsObservable</code> could be done via <code>toObservable().concatMapIterable(list -&gt; list)</code>."}], "tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": false, "score": 1, "last_activity_date": 1541024564, "creation_date": 1541024564, "answer_id": 53092772, "question_id": 53092649, "link": "https://stackoverflow.com/questions/53092649/what-is-the-most-efficient-way-of-combining-many-singlelisttypes-into-a-sin/53092772#53092772", "title": "What is the most efficient way of combining many Single&lt;List&lt;Type&gt;&gt;&#39;s into a Single&lt;List&lt;Type&gt;&gt;?", "body": "<p>You have to unroll each single, concatenate them and then collect them up again:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Single&lt;List&lt;Apple&gt;&gt; allApples = \n    Observable.fromIterable(appleIdList)\n    .concatMap(appleId -&gt; \n         loadApplesById(appleId)\n         .flattenAsObservable(list -&gt; list)\n    )\n    .toList();\n</code></pre>\n\n<p>You'll need RxJava 2 for this though.</p>\n"}], "owner": {"reputation": 583, "user_id": 832636, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/526539e3fa064e678c7113b9cbc782fe?s=128&d=identicon&r=PG", "display_name": "Don Code", "link": "https://stackoverflow.com/users/832636/don-code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1541024564, "creation_date": 1541023857, "question_id": 53092649, "link": "https://stackoverflow.com/questions/53092649/what-is-the-most-efficient-way-of-combining-many-singlelisttypes-into-a-sin", "title": "What is the most efficient way of combining many Single&lt;List&lt;Type&gt;&gt;&#39;s into a Single&lt;List&lt;Type&gt;&gt;?", "body": "<p>I have a function <code>loadApplesById</code> that accepts an <code>AppleId</code> and returns a <code>Single&lt;List&lt;Apple&gt;&gt;</code>.</p>\n\n<p>In another function, <code>loadApplesByIdList</code> I accept a <code>List&lt;AppleId&gt;</code> as a parameter. And for each element in it I have to call <code>loadApplesById</code>. The <code>loadApplesByIdList</code> will also return a <code>Single&lt;List&lt;Apple&gt;&gt;</code>.</p>\n\n<p>Something like this:</p>\n\n<pre><code>Single&lt;List&lt;Apple&gt; loadApplesById(AppleId appleId)\n{\n    // magic to create and load the apple list.\n    return the Single.just(AppleList);\n}\n\n\nSingle&lt;List&lt;Apple&gt; loadApplesByIdList(List&lt;AppleId&gt; appleIdList)\n{\n    // My question how to create this function (?)\n    // Approach (1)\n    return Observable.from(appleIdList).flatMap(\n        appleId -&gt; this.loadApplesById(id)\n        .toObservable())\n        .reduce(new ArrayList&lt;&gt;(), (List&lt;Apple&gt; a, List&lt;Apple&gt; b)\n            -&gt; { a.addAll(b); return a; }).toSingle();\n\n    // Approach (2)\n    return Observable.from(appleIdList).flatMap(appleId -&gt; loadApplesById(id)\n            .toObservable())\n            .toSingle();\n\n}\n</code></pre>\n\n<p>While both these approaches compile, neither of them works. </p>\n\n<p>It would be a great learning lesson if someone would take the time to elaborate on the different ways that this could be accomplished (with fold, reduce, flatMap, concatMap) etc.</p>\n"}, {"tags": ["java", "arrays", "regex", "split"], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 8685406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58d09472f237ca26af821bc7dae82c4f?s=128&d=identicon&r=PG&f=1", "display_name": "Charles Morin", "link": "https://stackoverflow.com/users/8685406/charles-morin"}, "edited": false, "score": 1, "creation_date": 1541090149, "post_id": 53092664, "comment_id": 93106288, "body": "Thank you it works well. Also thanks for the details, I understand now."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1541023933, "creation_date": 1541023933, "answer_id": 53092664, "question_id": 53092551, "link": "https://stackoverflow.com/questions/53092551/split-string-array-in-java-using-regex/53092664#53092664", "title": "Split string array in Java using regex", "body": "<p>It is easier to match these substrings:</p>\n\n<pre><code>String content = \"aba(2)bb(52)gc(4)d(2)fe(14)f(6)g(8)h(4)5(6)\";\nPattern pattern = Pattern.compile(\"[a-g](?:\\\\(\\\\d+\\\\))?\");\nList&lt;String&gt; res = new ArrayList&lt;&gt;();\nMatcher matcher = pattern.matcher(content);\nwhile (matcher.find()){\n    res.add(matcher.group(0)); \n} \nSystem.out.println(res);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[a, b, a(2), b, b(52), g, c(4), d(2), f, e(14), f(6), g(8)]\n</code></pre>\n\n<p>See the <a href=\"https://ideone.com/D8xSmE\" rel=\"nofollow noreferrer\">Java demo</a> and a <a href=\"https://regex101.com/r/NYx10Q/1\" rel=\"nofollow noreferrer\"><strong>regex demo</strong></a>.</p>\n\n<p><strong>Pattern details</strong></p>\n\n<ul>\n<li><code>[a-g]</code> - a letter from <code>a</code> to <code>g</code></li>\n<li><code>(?:\\(\\d+\\))?</code> - an optional non-capturing group matching 1 or 0 occurrences of\n\n<ul>\n<li><code>\\(</code> - a <code>(</code> char</li>\n<li><code>\\d+</code> - 1+ digits</li>\n<li><code>\\)</code> - a <code>)</code> char.</li>\n</ul></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "is_accepted": false, "score": 0, "last_activity_date": 1541023972, "creation_date": 1541023972, "answer_id": 53092670, "question_id": 53092551, "link": "https://stackoverflow.com/questions/53092551/split-string-array-in-java-using-regex/53092670#53092670", "title": "Split string array in Java using regex", "body": "<p>Split is the wrong approach for this, as it is hard to eliminate wrong entries. </p>\n\n<p>Just \"match\", whatever is valid and process the result array of found matches: </p>\n\n<pre><code>[a-g](?:\\(\\d+\\))?\n</code></pre>\n\n<p><img src=\"https://www.debuggex.com/i/ZF5Nv5Dvd7RXJm_N.png\" alt=\"Regular expression visualization\"></p>\n\n<p><a href=\"https://www.debuggex.com/r/ZF5Nv5Dvd7RXJm_N\" rel=\"nofollow noreferrer\">Debuggex Demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 1304, "user_id": 10402819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e224fe017f519f82dc1f1aaa47ab4206?s=128&d=identicon&r=PG&f=1", "display_name": "mettleap", "link": "https://stackoverflow.com/users/10402819/mettleap"}, "edited": false, "score": 0, "creation_date": 1541024438, "post_id": 53092680, "comment_id": 93082173, "body": "It does match the required pattern ... but this won&#39;t work with split"}, {"owner": {"reputation": 2448, "user_id": 6015339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd2e20a818433354017cd7bd6353a5de?s=128&d=identicon&r=PG&f=1", "display_name": "Glains", "link": "https://stackoverflow.com/users/6015339/glains"}, "reply_to_user": {"reputation": 1304, "user_id": 10402819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e224fe017f519f82dc1f1aaa47ab4206?s=128&d=identicon&r=PG&f=1", "display_name": "mettleap", "link": "https://stackoverflow.com/users/10402819/mettleap"}, "edited": false, "score": 0, "creation_date": 1541024757, "post_id": 53092680, "comment_id": 93082282, "body": "@mettleap You are right, i added more details to describe how i solved the problem. Thanks for pointing out!"}], "tags": [], "owner": {"reputation": 2448, "user_id": 6015339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd2e20a818433354017cd7bd6353a5de?s=128&d=identicon&r=PG&f=1", "display_name": "Glains", "link": "https://stackoverflow.com/users/6015339/glains"}, "is_accepted": false, "score": 0, "last_activity_date": 1541025315, "last_edit_date": 1541025315, "creation_date": 1541024033, "answer_id": 53092680, "question_id": 53092551, "link": "https://stackoverflow.com/questions/53092551/split-string-array-in-java-using-regex/53092680#53092680", "title": "Split string array in Java using regex", "body": "<p>You can try the following regex: <code>[a-g](\\(.*?\\))?</code></p>\n\n<ul>\n<li><code>[a-g]</code>: letters from a to g required</li>\n<li><code>(\\(.*?\\))?</code>: any amout of characters between <code>(</code> and <code>)</code>, matching as as few times as possible</li>\n</ul>\n\n<p>You can view the expected output <a href=\"https://regex101.com/r/Agapxl/1\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>This answer is based upon <code>Pattern</code>, an example:</p>\n\n<pre><code>String input = \"aba(2)bb(52)gc(4)d(2)fe(14)f(6)g(8)h(4)5(6)\";\n\nPattern pattern = Pattern.compile(\"[a-g](?:\\\\(\\\\d+\\\\))?\");\nMatcher matcher = pattern.matcher(input);\nList&lt;String&gt; tokens = new ArrayList&lt;&gt;();\nwhile (matcher.find()) {\n    tokens.add(matcher.group());\n}\n\ntokens.forEach(System.out::println);\n</code></pre>\n\n<p>Resulting output:</p>\n\n<pre><code>a\nb\na(2)\nb\nb(52)\ng\nc(4)\nd(2)\nf\ne(14)\nf(6)\ng(8)\n</code></pre>\n\n<p><strong>Edit:</strong> Using <code>[a-g](?:\\((.*?)\\))?</code> you can also easily extract the inner value of a bracket:</p>\n\n<pre><code>while (matcher.find()) {\n    tokens.add(matcher.group());\n    tokens.add(matcher.group(1)); // the inner value or null if no () are present \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1304, "user_id": 10402819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e224fe017f519f82dc1f1aaa47ab4206?s=128&d=identicon&r=PG&f=1", "display_name": "mettleap", "link": "https://stackoverflow.com/users/10402819/mettleap"}, "is_accepted": false, "score": 1, "last_activity_date": 1541026565, "last_edit_date": 1541026565, "creation_date": 1541025499, "answer_id": 53092914, "question_id": 53092551, "link": "https://stackoverflow.com/questions/53092551/split-string-array-in-java-using-regex/53092914#53092914", "title": "Split string array in Java using regex", "body": "<p>If you want to use the split method only, here is an approach you could follow too,</p>\n\n<pre><code>import java.util.Arrays;\n\npublic class Test \n{\n   public static void main(String[] args)\n   {\n        String content = \"aba(2)bb(52)gc(4)d(2)fe(14)f(6)g(8)h(4)5(6)\";\n        String[] a = content.replaceAll(\"[a-g](\\\\([0-9]*\\\\))?|[a-g]\", \"$0:\").split(\":\");\n        // $0 is the string which matched the regex\n\n        System.out.println(Arrays.toString(a));\n\n   }\n\n}\n</code></pre>\n\n<p>Regex : <code>[a-g](\\\\([0-9]*\\\\))?|[a-g]</code> matches the strings you want to match with (i.e a, b, a(5) and so on)</p>\n\n<p>Using this regex I first replace those strings with their appended versions (appended with :). Later, I split the string using the split method.</p>\n\n<p>Output of the above code is,</p>\n\n<pre><code>[a, b, a(2), b, b(52), g, c(4), d(2), f, e(14), f(6), g(8), h(4)5(6)]\n</code></pre>\n\n<p>NOTE: This approach would only work with a delimiter that is known to not be present in the input string. For example, I chose a colon because I assumed it won't be a part of the input string.</p>\n"}], "owner": {"reputation": 67, "user_id": 8685406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58d09472f237ca26af821bc7dae82c4f?s=128&d=identicon&r=PG&f=1", "display_name": "Charles Morin", "link": "https://stackoverflow.com/users/8685406/charles-morin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 956, "favorite_count": 1, "accepted_answer_id": 53092664, "answer_count": 4, "score": 4, "last_activity_date": 1541026565, "creation_date": 1541023246, "last_edit_date": 1541023999, "question_id": 53092551, "link": "https://stackoverflow.com/questions/53092551/split-string-array-in-java-using-regex", "title": "Split string array in Java using regex", "body": "<p>I'm trying to split this string :</p>\n\n<blockquote>\n  <p>aba(2)bb(52)gc(4)d(2)fe(14)f(6)g(8)h(4)5(6)</p>\n</blockquote>\n\n<p>so it looks like this array :</p>\n\n<blockquote>\n  <p>[ a, b, a(2), b, b(52), g, c(4), d(2), f, e(14), f(6), g(8) ]</p>\n</blockquote>\n\n<p>Here are the rules, it can accept letters <strong>a to g</strong>, it can be a letter alone but if there is parentheses following it, it has to include them and its content. The content of the parentheses <strong>must be a numeric value</strong>.</p>\n\n<p>This is what I tried :</p>\n\n<pre><code>content = \"aba(2)bb(52)gc(4)d(2)fe(14)f(6)g(8)h(4)5(6)\";\n        a = content.split(\"[a-g]|[a-g]\\\\([0-9]*\\\\)\");\n        for (String s:\n             a) {\n            System.out.println(s);\n        }\n</code></pre>\n\n<p>And here's the output</p>\n\n<blockquote>\n  <p>(2)</p>\n  \n  <p>(52)</p>\n  \n  <p>(4) (2)</p>\n  \n  <p>(14) (6) (8)h(4)5(6)</p>\n</blockquote>\n\n<p>Thanks.</p>\n"}, {"tags": ["java", "spring", "class", "serialization", "classloader"], "comments": [{"owner": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "edited": false, "score": 0, "creation_date": 1541023363, "post_id": 53092547, "comment_id": 93081853, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 3503, "user_id": 4259032, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fzRmI.jpg?s=128&g=1", "display_name": "Alain Cruz", "link": "https://stackoverflow.com/users/4259032/alain-cruz"}, "edited": false, "score": 2, "creation_date": 1541043401, "post_id": 53092547, "comment_id": 93086260, "body": "This same issue happened to me once. It was related to spring dev tools. Once I got rid of that dependency, everything worked as expected. If you have that dependency, try removing or check if there is any dependency creating this issue."}, {"owner": {"reputation": 1141, "user_id": 3859625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hdggl.jpg?s=128&g=1", "display_name": "Habib Ad\u0131belli", "link": "https://stackoverflow.com/users/3859625/habib-ad%c4%b1belli"}, "edited": false, "score": 1, "creation_date": 1604954849, "post_id": 53092547, "comment_id": 114500305, "body": "As Alain Said removing dependency below worked for me.                                                           &lt;dependency&gt;                 &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;             &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;         &lt;/dependency&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 5718, "user_id": 10584605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LEgo9.jpg?s=128&g=1", "display_name": "ETO", "link": "https://stackoverflow.com/users/10584605/eto"}, "reply_to_user": {"reputation": 1044, "user_id": 2334771, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LMRel.jpg?s=128&g=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/2334771/arthur"}, "edited": false, "score": 0, "creation_date": 1541038204, "post_id": 53092985, "comment_id": 93085288, "body": "@ArthurDn I updated my answer (added cross-casting workaround)"}], "tags": [], "owner": {"reputation": 5718, "user_id": 10584605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LEgo9.jpg?s=128&g=1", "display_name": "ETO", "link": "https://stackoverflow.com/users/10584605/eto"}, "is_accepted": true, "score": 1, "last_activity_date": 1541031636, "last_edit_date": 1541031636, "creation_date": 1541026091, "answer_id": 53092985, "question_id": 53092547, "link": "https://stackoverflow.com/questions/53092547/instanceof-returns-false-for-same-class-after-serialization/53092985#53092985", "title": "Instanceof returns false for same class after serialization", "body": "<p>In this case you should compare the class names rather then using <code>instanceof</code>. Even if the classes are loaded by different class loaders the canonical names will be the same:</p>\n\n<pre><code>public boolean haveSameCanonicalName(Object object, Class&lt;?&gt; clazz) {\n     String actualClassName = object.getClass().getCanonicalName();\n     String expectedClassName = clazz.getCanonicalName();\n     return actualClassName.equals(expectedClassName);\n}\n</code></pre>\n\n<p>And then you can use it like this:</p>\n\n<pre><code>if (haveSameCanonicalName(user, User.class)) {\n    // Do something here\n}\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>If you still need to cast the object there is a workaround:</p>\n\n<pre><code> public class CrossCastUtils {\n\n    private final ObjectOutputStream oos;\n    private final ObjectInputStream ois;\n\n    public CrossCastUtils() throws IOException {\n        final PipedOutputStream pos = new PipedOutputStream();\n        final PipedInputStream pis = new PipedInputStream(pos);\n        oos = new ObjectOutputStream(pos);\n        ois = new ObjectInputStream(pis);\n    }\n\n    public &lt;T&gt; T cast(Object object) throws IOException, ClassNotFoundException {\n        oos.writeObject(object);\n        oos.flush();\n        return (T) ois.readObject();\n    }\n</code></pre>\n\n<p>Try to run this test:</p>\n\n<pre><code>@Test\npublic void testCrossCast(){\n    Object initial = ... // retrieve it as you did before\n    User result = CrossCastUtils.cast(initial);\n\n    assertFalse(initial instanceof User);\n    assertTrue(result instanceof User);\n}\n</code></pre>\n"}], "owner": {"reputation": 1044, "user_id": 2334771, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LMRel.jpg?s=128&g=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/2334771/arthur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 576, "favorite_count": 0, "accepted_answer_id": 53092985, "answer_count": 1, "score": 0, "last_activity_date": 1541031636, "creation_date": 1541023229, "last_edit_date": 1541027978, "question_id": 53092547, "link": "https://stackoverflow.com/questions/53092547/instanceof-returns-false-for-same-class-after-serialization", "title": "Instanceof returns false for same class after serialization", "body": "<p>Instanceof returns false for same class after org.springframework.security.oauth2.common.util.SerializationUtils fasterxml deserialization in Spring boot application</p>\n\n<pre><code>new ObjectMapper().readValue(serialized, User.class);\n</code></pre>\n\n<p>Class</p>\n\n<pre><code>public class User implements Serializable {//...\n}\n</code></pre>\n\n<p>Because new object getClass().getClassloader() returns different classloader, how to fix this and <strong>casting</strong> issue?</p>\n"}, {"tags": ["java", "dictionary", "treemap"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1541023122, "post_id": 53092495, "comment_id": 93081782, "body": "What programming language are you using?"}, {"owner": {"reputation": 21, "user_id": 9700582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a02ee455a21992454cde7af1e1f80b3?s=128&d=identicon&r=PG&f=1", "display_name": "jtuntalan", "link": "https://stackoverflow.com/users/9700582/jtuntalan"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1541023922, "post_id": 53092495, "comment_id": 93082017, "body": "@BryanOakley oops, Java."}, {"owner": {"reputation": 12012, "user_id": 359035, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/69739f977d9a83ffb1bbdbe236a44680?s=128&d=identicon&r=PG", "display_name": "Bill", "link": "https://stackoverflow.com/users/359035/bill"}, "edited": false, "score": 2, "creation_date": 1541024047, "post_id": 53092495, "comment_id": 93082044, "body": "Sounds like you need to get more specific directions about what that means. Other than running out of memory which isn&#39;t a condition that you typically handle in program logic, there&#39;s no real notion of a Map being full in Java."}, {"owner": {"reputation": 110, "user_id": 3497201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b859772722d23b0a7616b3b16559c24?s=128&d=identicon&r=PG&f=1", "display_name": "billy.mccarthy", "link": "https://stackoverflow.com/users/3497201/billy-mccarthy"}, "edited": false, "score": 1, "creation_date": 1541025663, "post_id": 53092495, "comment_id": 93082539, "body": "Given that TreeMap returns its size as an int I would assume it can be no larger than Integer.MAX_VALUE. Not that I would see anyone putting over 2 billion objects into a tree map."}], "owner": {"reputation": 21, "user_id": 9700582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a02ee455a21992454cde7af1e1f80b3?s=128&d=identicon&r=PG&f=1", "display_name": "jtuntalan", "link": "https://stackoverflow.com/users/9700582/jtuntalan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541023856, "creation_date": 1541022860, "last_edit_date": 1541023856, "question_id": 53092495, "link": "https://stackoverflow.com/questions/53092495/what-does-it-mean-for-a-dictionary-to-be-full-java", "title": "What does it mean for a dictionary to be full? (Java)", "body": "<p>So I'm working on a program that involves the Map interface, specifically TreeMap. Our directions say something about detecting if the \"dictionary is full\". I'm not super familiar with dictionaries, so what exactly does it mean for a dictionary to be full?</p>\n"}, {"tags": ["java", "processing"], "comments": [{"owner": {"reputation": 39281, "user_id": 873165, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Zjzso.jpg?s=128&g=1", "display_name": "Kevin Workman", "link": "https://stackoverflow.com/users/873165/kevin-workman"}, "edited": false, "score": 1, "creation_date": 1541022571, "post_id": 53092426, "comment_id": 93081611, "body": "Please don&#39;t tag your question with all those language tags- you&#39;re going to attract a ton of downvotes. Also please be more specific: what do you want to do when the particles hit the edge of the screen?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4298687"}, "reply_to_user": {"reputation": 39281, "user_id": 873165, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Zjzso.jpg?s=128&g=1", "display_name": "Kevin Workman", "link": "https://stackoverflow.com/users/873165/kevin-workman"}, "edited": false, "score": 0, "creation_date": 1541022766, "post_id": 53092426, "comment_id": 93081665, "body": "Sorry about that..If they bounce back from the edges, that would be great. But somehow, I cant control them after explosion.."}, {"owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "edited": false, "score": 0, "creation_date": 1541023142, "post_id": 53092426, "comment_id": 93081790, "body": "Try <code>if (x+velX &gt; 0 &amp;&amp; x+velX &lt; width &amp;&amp; y+velY &gt; 0 &amp;&amp; y+velY &lt; height) { x+=velX; y+=velY; }</code>"}, {"owner": {"reputation": 39281, "user_id": 873165, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Zjzso.jpg?s=128&g=1", "display_name": "Kevin Workman", "link": "https://stackoverflow.com/users/873165/kevin-workman"}, "edited": false, "score": 0, "creation_date": 1541093769, "post_id": 53092426, "comment_id": 93108257, "body": "Please link between crossposts. This question has also been posted here: <a href=\"https://discourse.processing.org/t/stop-the-explosion/5071\" rel=\"nofollow noreferrer\">discourse.processing.org/t/stop-the-explosion/5071</a>"}], "answers": [{"tags": [], "owner": {"reputation": 39281, "user_id": 873165, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Zjzso.jpg?s=128&g=1", "display_name": "Kevin Workman", "link": "https://stackoverflow.com/users/873165/kevin-workman"}, "is_accepted": false, "score": 1, "last_activity_date": 1541023275, "creation_date": 1541023275, "answer_id": 53092556, "question_id": 53092426, "link": "https://stackoverflow.com/questions/53092426/processing-stop-the-animation/53092556#53092556", "title": "Processing stop the animation", "body": "<p>You can check whether a particle is going outside the bounds of the screen by comparing its <code>x</code> and <code>y</code> values to the screen dimensions. For example:</p>\n\n<pre><code>if(x &lt; 0){\n  // particle is off left edge of screen\n}\nelse if(x &gt; width){\n  // particle is off right edge of screen\n}\n</code></pre>\n\n<p>When you detect one of these conditions, you can do a number of things:</p>\n\n<ul>\n<li>Remove the particle from the array so it stops using system resources after it leaves the screen</li>\n<li>Wrap the value around to the other side of the screen</li>\n<li>Have it bounce off the edge by reversing its velocity</li>\n</ul>\n\n<p>Which approach you take depends on exactly what you want to happen.</p>\n\n<p>Shameless self-promotion: <a href=\"https://happycoding.io/tutorials/processing/collision-detection\" rel=\"nofollow noreferrer\">here</a> is a tutorial on collision detection in Processing, which includes the above approaches.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4298687"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1541023275, "creation_date": 1541022498, "last_edit_date": 1541022582, "question_id": 53092426, "link": "https://stackoverflow.com/questions/53092426/processing-stop-the-animation", "title": "Processing stop the animation", "body": "<p>I have the following code (in Processing Software) which I want to stop the particles before they leave the screen\u2026 \nSo I dont know how to stop them near the edges of the screen\u2026</p>\n\n<p>Please advice\u2026</p>\n\n<p>Thanks</p>\n\n<pre><code>    Particle [] pickles = new Particle [100];\n\n\nvoid setup () {\n\n  size (500, 500);\n  smooth ();\n  for (int i=0; i&lt;pickles.length; i++) {\n    pickles [i] = new Particle ();\n  }\n}\n\n\nvoid draw () {\n  background (0); //clear the background\n\n  for (int i=0; i&lt;pickles.length; i++) {\n    pickles[i].update();\n  }\n}\n\nclass Particle {\n\n  float x;\n  float y;\n\n  float velX ; // speed or velocity\n  float velY;\n\n\n  Particle () {\n    //x and y position to be in middle of screen\n    x = width/2;\n    y = height/2;\n\n    velX = random (-10, 10);\n    velY = random (-10, 10);\n\n} \n\n  void update () {\n\n    x+=velX;\n    y+=velY;\n\n    fill (255);\n    ellipse (x, y, 10, 10);\n  }\n}\n</code></pre>\n"}, {"tags": ["java", "http", "redmine", "redmine-api", "authenticity-token"], "answers": [{"comments": [{"owner": {"reputation": 644, "user_id": 1216656, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d029e3f3e7faaf2b5101b2f3427ff8f8?s=128&d=identicon&r=PG", "display_name": "Agorreca", "link": "https://stackoverflow.com/users/1216656/agorreca"}, "edited": false, "score": 0, "creation_date": 1541422780, "post_id": 53149662, "comment_id": 93200052, "body": "Great! I&#39;m going try that way. I&#39;m using the Redmine API for all the other things that I need to do, but there is no CRUD for Redmine Queries (or other things that I need such as add a version wiki page)"}], "tags": [], "owner": {"reputation": 2453, "user_id": 800965, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fMjbN.jpg?s=128&g=1", "display_name": "Aleksandar Pavi\u0107", "link": "https://stackoverflow.com/users/800965/aleksandar-pavi%c4%87"}, "is_accepted": false, "score": 1, "last_activity_date": 1541400951, "creation_date": 1541400951, "answer_id": 53149662, "question_id": 53092390, "link": "https://stackoverflow.com/questions/53092390/redmine-java-native-update-query-by-script-clone-fiddler-request/53149662#53149662", "title": "Redmine / Java native: Update query by script. Clone Fiddler request", "body": "<p>You should rather try to use Redmine's API to acheive your goal, instead of trying to send html form data to controller.</p>\n\n<p>Redmine login form creates also invisible form data fields, which you can see while inspecting with your browser (F12 usually).</p>\n\n<p>One such, hidden field is authenticity token, and it's generated new, every time form is rendered.</p>\n\n<p><a href=\"https://i.stack.imgur.com/vWS4i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vWS4i.png\" alt=\"enter image description here\"></a></p>\n\n<p>Fiddler probably works, because it's performing basic authentication, as described here:\n<a href=\"http://www.redmine.org/projects/redmine/wiki/Rest_api#Authentication\" rel=\"nofollow noreferrer\">http://www.redmine.org/projects/redmine/wiki/Rest_api#Authentication</a></p>\n\n<p>So in your code, you must remove part of code trying to mimic form data, and use basic authentication instead, like this:</p>\n\n<pre><code>System.setProperty(\"sun.net.http.allowRestrictedHeaders\", \"true\");\nString host = 'redmine.our-domain.com';\nString url = 'http://redmine.our-domain.com/queries/4088';\nString auth = Base64.getEncoder().encodeToString((username+\":\"+password).getBytes(StandardCharsets.UTF_8));  //Java 8 - not sure for 7\n\nHttpURLConnection http = (HttpURLConnection) new URL(url).openConnection();\nhttp.setRequestProperty(\"Authorization\", \"Basic \"+auth);    \nhttp.setRequestMethod('POST');\nhttp.setRequestProperty('Cookie', REDMINE_SESSION_COOKIE);\nhttp.setRequestProperty('Content-Type', 'application/x-www-form-urlencoded');\nhttp.setRequestProperty('Host', host);\nhttp.setRequestProperty('Content-Length', \"${body.length}\");\nhttp.setDoOutput(true);\nhttp.getOutputStream().write(body);\n</code></pre>\n"}], "owner": {"reputation": 644, "user_id": 1216656, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d029e3f3e7faaf2b5101b2f3427ff8f8?s=128&d=identicon&r=PG", "display_name": "Agorreca", "link": "https://stackoverflow.com/users/1216656/agorreca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1541400951, "creation_date": 1541022268, "last_edit_date": 1541024165, "question_id": 53092390, "link": "https://stackoverflow.com/questions/53092390/redmine-java-native-update-query-by-script-clone-fiddler-request", "title": "Redmine / Java native: Update query by script. Clone Fiddler request", "body": "<p>I'm doing a script to update several queries that we use in our project everytime we deploy a sprint.</p>\n\n<p>I'm trying to replicate the same request that I'm testing on Fiddler, that it is working, in the following way:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.setProperty(\"sun.net.http.allowRestrictedHeaders\", \"true\");\nString host = 'redmine.our-domain.com';\nString url = 'http://redmine.our-domain.com/queries/4088';\nString REDMINE_SESSION_COOKIE = \"_redmine_session=BAh7DkkiDHVzZXJfaWQGOgZFRmkvSSIKY3RpbWUGOwBGbCsHmouFWkkiCmF0aW1lBjsARmwrByk211tJIg9zZXNzaW9uX2lkBjsARkkiJTMzZWJkNmI1MzA4MzZkNmMxNGYwNjY1OWQxMDZjZmU3BjsAVEkiEF9jc3JmX3Rva2VuBjsARkkiMVB3bDlCb0F5NFFCbTd3dmdGWGx0VjdEL05WYjhVRGExdFluQmNMbnFZTHM9BjsARkkiCnF1ZXJ5BjsARnsHOgdpZGkC%2BA86D3Byb2plY3RfaWRpAssBSSIWaXNzdWVzX2luZGV4X3NvcnQGOwBGSSIMaWQ6ZGVzYwY7AEZJIg1wZXJfcGFnZQY7AEZpaUkiFWZqbGVzX2luWGV4X3NvcnQGOwBGSSINZm2sZW5hbWUGOwBG--5c961485290b3c98f38de934b939d25cc01e092f\"\nString data = \"_method=put&amp;authenticity_token=Pwl9BoAy4QBm7wvgFXlsV7D%2FNVb8UDa2tYnBcLnqYLs%3D&amp;query%5Bname%5D=Current+sprint+1.75-test+API+0+0+1&amp;query%5Bvisibility%5D=2query%5Bgroup_by%5D=category&amp;f%5B%5D=status_id&amp;op%5Bstatus_id%5D=o&amp;f%5B%5D6=fixed_version_id&amp;v%5Bfixed_version_id%5D%5B%5D=6030&amp;c%5B%5D=tracker&amp;c%5B%5D=status&amp;c%5B%5D=priority&amp;c%5B%5D=subject&amp;c%5B%5D=assigned_to&amp;c%5B%5D=fixed_version&amp;c%5B%5D=start_date&amp;c%5B%5D=due_date&amp;c%5B%5D=estimated_hours&amp;c%5B%5D=done_ratio&amp;c%5B%5D=parent\";\nbyte[] body = data.getBytes(\"UTF-8\");\n\nHttpURLConnection http = (HttpURLConnection) new URL(url).openConnection();\nhttp.setRequestMethod('POST');\nhttp.setRequestProperty('Cookie', REDMINE_SESSION_COOKIE);\nhttp.setRequestProperty('Content-Type', 'application/x-www-form-urlencoded');\nhttp.setRequestProperty('Host', host);\nhttp.setRequestProperty('Content-Length', \"${body.length}\");\nhttp.setDoOutput(true);\nhttp.getOutputStream().write(body);\n</code></pre>\n\n<p><em>Both, data's authenticity_token and session cookie are fakes, but I'm copy-pasting the Fiddler one.\nI'm adding the Host and Content-Length because Fiddler always add them.</em></p>\n\n<p>Fiddler returns a 302 status that it is right, because Redmine redirects the page.\nWith the code above I receive a 422 status (Unprocessable Entity) with this message in the body:\n<strong>Invalid form authenticity token</strong></p>\n\n<p>I've spent 3 days trying to figure out what I'm doing wrong to clone the request. Any clue?</p>\n"}, {"tags": ["java", "android", "unity3d"], "comments": [{"owner": {"reputation": 110, "user_id": 3497201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b859772722d23b0a7616b3b16559c24?s=128&d=identicon&r=PG&f=1", "display_name": "billy.mccarthy", "link": "https://stackoverflow.com/users/3497201/billy-mccarthy"}, "edited": false, "score": 0, "creation_date": 1541022372, "post_id": 53092376, "comment_id": 93081543, "body": "You should post your code as part of the question."}, {"owner": {"reputation": 896, "user_id": 5801049, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2ZrkR.jpg?s=128&g=1", "display_name": "genaray", "link": "https://stackoverflow.com/users/5801049/genaray"}, "reply_to_user": {"reputation": 110, "user_id": 3497201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b859772722d23b0a7616b3b16559c24?s=128&d=identicon&r=PG&f=1", "display_name": "billy.mccarthy", "link": "https://stackoverflow.com/users/3497201/billy-mccarthy"}, "edited": false, "score": 0, "creation_date": 1541022533, "post_id": 53092376, "comment_id": 93081602, "body": "@billy.mccarthy well... This is a general question... If you want i could post about 10k lines of rows but that wont help us either..."}, {"owner": {"reputation": 5560, "user_id": 8870196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N07y8.jpg?s=128&g=1", "display_name": "0xBFE1A8", "link": "https://stackoverflow.com/users/8870196/0xbfe1a8"}, "edited": false, "score": 0, "creation_date": 1541022955, "post_id": 53092376, "comment_id": 93081733, "body": "@generay can you post your Log?"}, {"owner": {"reputation": 110, "user_id": 3497201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b859772722d23b0a7616b3b16559c24?s=128&d=identicon&r=PG&f=1", "display_name": "billy.mccarthy", "link": "https://stackoverflow.com/users/3497201/billy-mccarthy"}, "edited": false, "score": 0, "creation_date": 1541023150, "post_id": 53092376, "comment_id": 93081792, "body": "What version of Unity are you using?"}, {"owner": {"reputation": 896, "user_id": 5801049, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2ZrkR.jpg?s=128&g=1", "display_name": "genaray", "link": "https://stackoverflow.com/users/5801049/genaray"}, "reply_to_user": {"reputation": 110, "user_id": 3497201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b859772722d23b0a7616b3b16559c24?s=128&d=identicon&r=PG&f=1", "display_name": "billy.mccarthy", "link": "https://stackoverflow.com/users/3497201/billy-mccarthy"}, "edited": false, "score": 0, "creation_date": 1541023708, "post_id": 53092376, "comment_id": 93081963, "body": "@billy.mccarthy 2017.1.3f ... That should be fine ... Atleast i only found similar iusses on older versions."}, {"owner": {"reputation": 110, "user_id": 3497201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b859772722d23b0a7616b3b16559c24?s=128&d=identicon&r=PG&f=1", "display_name": "billy.mccarthy", "link": "https://stackoverflow.com/users/3497201/billy-mccarthy"}, "edited": false, "score": 0, "creation_date": 1541024766, "post_id": 53092376, "comment_id": 93082288, "body": "Yeah i&#39;m just trying to scour for a similar issue / known issue but can find much. Have you reported the issue to Unity?"}, {"owner": {"reputation": 696, "user_id": 4236852, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh5.googleusercontent.com/-Jjspd8QfSG4/AAAAAAAAAAI/AAAAAAAAKpU/9CNRA4gDMb4/photo.jpg?sz=128", "display_name": "Emanuel Graf", "link": "https://stackoverflow.com/users/4236852/emanuel-graf"}, "edited": false, "score": 1, "creation_date": 1541031281, "post_id": 53092376, "comment_id": 93083919, "body": "Error Log? Debugging?"}], "answers": [{"tags": [], "owner": {"reputation": 311, "user_id": 10417618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87b6dd5231786dfdaa9bca658a391dbf?s=128&d=identicon&r=PG&f=1", "display_name": "gmaziashvili", "link": "https://stackoverflow.com/users/10417618/gmaziashvili"}, "is_accepted": true, "score": 4, "last_activity_date": 1541056747, "creation_date": 1541056747, "answer_id": 53096736, "question_id": 53092376, "link": "https://stackoverflow.com/questions/53092376/no-splash-screen-game-not-loading-just-black-screen/53096736#53096736", "title": "No splash screen, game not loading, just black screen?", "body": "<p>I would recommend you to see logs on your phone.</p>\n\n<p>Plug your phone to your PC, make sure ADB is on from developer options.</p>\n\n<p>And then in CMD run this command:</p>\n\n<pre><code>adb logcat -s Unity PackageManager dalvikvm DEBUG\n</code></pre>\n\n<p>I hope it helps you.</p>\n"}], "owner": {"reputation": 896, "user_id": 5801049, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2ZrkR.jpg?s=128&g=1", "display_name": "genaray", "link": "https://stackoverflow.com/users/5801049/genaray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 360, "favorite_count": 0, "accepted_answer_id": 53096736, "answer_count": 1, "score": 0, "last_activity_date": 1541061721, "creation_date": 1541022188, "last_edit_date": 1541061721, "question_id": 53092376, "link": "https://stackoverflow.com/questions/53092376/no-splash-screen-game-not-loading-just-black-screen", "title": "No splash screen, game not loading, just black screen?", "body": "<p>Well i noticed a strange bug. I exported my app today and tested it on two phones. </p>\n\n<p>My moto g4 plus ( android 7.0 ) worked fine and the app started with a splash screen, loaded and showed my ingame menu.</p>\n\n<p>My honor 10 ( android 8.1 ) didnt worked fine... On app start the unity splash screen didnt showed up, just a black screen. Even after minutes nothinf happened, my ingame menu never showed up. </p>\n\n<p>So basically i have no idea why this happens... </p>\n\n<p>Did anyone had the same iusses and solved them ? Or does anyone know how to solve this or why this happens ?</p>\n"}, {"tags": ["java", "maven", "visual-studio-code", "war", "incremental-build"], "comments": [{"owner": {"reputation": 4395, "user_id": 1643558, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wGrow.png?s=128&g=1", "display_name": "tgkprog", "link": "https://stackoverflow.com/users/1643558/tgkprog"}, "edited": false, "score": 0, "creation_date": 1541028151, "post_id": 53092349, "comment_id": 93083211, "body": "<a href=\"https://www.reddit.com/r/java/comments/77n6qa/jrebel_rant_alternatives/?sort=confidence\" rel=\"nofollow noreferrer\">reddit.com/r/java/comments/77n6qa/jrebel_rant_alternatives/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 11287, "user_id": 327572, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tSPHs.jpg?s=128&g=1", "display_name": "Rob N", "link": "https://stackoverflow.com/users/327572/rob-n"}, "edited": false, "score": 0, "creation_date": 1541080547, "post_id": 53093237, "comment_id": 93100915, "body": "This looks like it&#39;s beyond what I need. I&#39;d like to reproduce the basic IDE behavior first: compile some .java to .class (without re-compiling <i>all</i> the .java files) and tell Tomcat to redeploy."}], "tags": [], "owner": {"reputation": 4395, "user_id": 1643558, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wGrow.png?s=128&g=1", "display_name": "tgkprog", "link": "https://stackoverflow.com/users/1643558/tgkprog"}, "is_accepted": false, "score": 0, "last_activity_date": 1541182074, "last_edit_date": 1541182074, "creation_date": 1541028200, "answer_id": 53093237, "question_id": 53092349, "link": "https://stackoverflow.com/questions/53092349/can-visual-studio-code-incrementally-compile-a-java-web-app-project/53093237#53093237", "title": "Can Visual Studio Code incrementally compile a Java web app project?", "body": "<p>Edit : nota solution :</p>\n\n<p>From <a href=\"https://www.reddit.com/r/java/comments/77n6qa/jrebel_rant_alternatives/?sort=confidence\" rel=\"nofollow noreferrer\">https://www.reddit.com/r/java/comments/77n6qa/jrebel_rant_alternatives/?sort=confidence</a> </p>\n\n<p>DCEVM and HotswapAgent </p>\n\n<ul>\n<li><p><a href=\"http://dcevm.github.io/\" rel=\"nofollow noreferrer\">http://dcevm.github.io/</a></p></li>\n<li><p><a href=\"http://hotswapagent.org/\" rel=\"nofollow noreferrer\">http://hotswapagent.org/</a></p></li>\n</ul>\n\n<blockquote>\n  <p>I'm not sure how this compares to JRebel as we've never had the budget\n  for such software, but for free, I was very impressed.</p>\n</blockquote>\n"}], "owner": {"reputation": 11287, "user_id": 327572, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tSPHs.jpg?s=128&g=1", "display_name": "Rob N", "link": "https://stackoverflow.com/users/327572/rob-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 972, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1541182074, "creation_date": 1541022051, "question_id": 53092349, "link": "https://stackoverflow.com/questions/53092349/can-visual-studio-code-incrementally-compile-a-java-web-app-project", "title": "Can Visual Studio Code incrementally compile a Java web app project?", "body": "<p>I'm new to Visual Studio Code. I'm trying to use it with an existing Java web app project that uses Maven. I've downloaded the recommended Java extensions like <em>Java Extension Pack</em>, <em>Maven for Java</em>, and <em>Tomcat for Java</em>.</p>\n\n<p>In IntelliJ (my usual IDE), I can go from a small Java edit to refreshed WAR in Tomcat, pretty quickly. If I edit a file and recompile the project, it only works on a few class files, and then updates an exploded WAR directory. Then you have an option with Tomcat to restart, redeploy, or simply reload resources (like JSPs). This process means that for most changes I don't have to wait long to see the results in Tomcat and my browser. </p>\n\n<p>In contrast, all I know how to do in VS Code is run a maven command to package a WAR. It takes too long. Is there something like the IntelliJ process above, where it can use the Maven pom.xml for library info but do incremental/update builds and put the classes in the exploded war?</p>\n"}, {"tags": ["java", "selenium", "parallel-processing", "testng"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10587849, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f20YjlYiBSQ/AAAAAAAAAAI/AAAAAAAAABo/M-uM8d8oZ7s/photo.jpg?sz=128", "display_name": "Ioannis Kozompolis", "link": "https://stackoverflow.com/users/10587849/ioannis-kozompolis"}, "edited": false, "score": 0, "creation_date": 1541062793, "post_id": 53093067, "comment_id": 93091873, "body": "Thank you. I am working on it. I will reply to your comment, soon."}, {"owner": {"reputation": 5091, "user_id": 10474999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9379ef6b63d5d67645354b797d3caa82?s=128&d=identicon&r=PG&f=1", "display_name": "Navarasu", "link": "https://stackoverflow.com/users/10474999/navarasu"}, "reply_to_user": {"reputation": 13, "user_id": 10587849, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f20YjlYiBSQ/AAAAAAAAAAI/AAAAAAAAABo/M-uM8d8oZ7s/photo.jpg?sz=128", "display_name": "Ioannis Kozompolis", "link": "https://stackoverflow.com/users/10587849/ioannis-kozompolis"}, "edited": false, "score": 0, "creation_date": 1541117534, "post_id": 53093067, "comment_id": 93117263, "body": "Do u check that?"}, {"owner": {"reputation": 13, "user_id": 10587849, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f20YjlYiBSQ/AAAAAAAAAAI/AAAAAAAAABo/M-uM8d8oZ7s/photo.jpg?sz=128", "display_name": "Ioannis Kozompolis", "link": "https://stackoverflow.com/users/10587849/ioannis-kozompolis"}, "edited": false, "score": 0, "creation_date": 1541157351, "post_id": 53093067, "comment_id": 93129367, "body": "Yes it works. Thanks you very much. Also i change the design and i am not using the Init class. I am saving the data in ThreadLocal in order the tests from the same thread could use them."}], "tags": [], "owner": {"reputation": 5091, "user_id": 10474999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9379ef6b63d5d67645354b797d3caa82?s=128&d=identicon&r=PG&f=1", "display_name": "Navarasu", "link": "https://stackoverflow.com/users/10474999/navarasu"}, "is_accepted": true, "score": 0, "last_activity_date": 1541027743, "last_edit_date": 1541027743, "creation_date": 1541026693, "answer_id": 53093067, "question_id": 53092271, "link": "https://stackoverflow.com/questions/53092271/testng-execute-parallel-tests-in-suite-file-using-multiple-test-classes/53093067#53093067", "title": "TestNG: Execute parallel tests in suite file using multiple test classes", "body": "<p>Static object will be single for the jvm. For your case, you can store them in ThreadLocal object. Just change your init class.</p>\n\n<pre><code>public static class Init{\n    private static ThreadLocal&lt;WebDriver&gt; WEBDRIVER = new ThreadLocal&lt;WebDriver&gt;();\n\n   public static WebDriver getWebDriver(){\n      WebDriver driver= WEBDRIVER.get();\n      if (driver== null) {\n        driver = new ChromeWebDriver();\n        WEBDRIVER.set(driver);\n      }\n      return driver;\n   }\n\n   @AfterTest\n   public void quit(){\n      getWebDriver().quit();\n  }\n }\n</code></pre>\n\n<p>If you extend register and login class with init as base class. Then  you can simply avoid mentioning init class in suite xml</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 10587849, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f20YjlYiBSQ/AAAAAAAAAAI/AAAAAAAAABo/M-uM8d8oZ7s/photo.jpg?sz=128", "display_name": "Ioannis Kozompolis", "link": "https://stackoverflow.com/users/10587849/ioannis-kozompolis"}, "edited": false, "score": 0, "creation_date": 1541062675, "post_id": 53095584, "comment_id": 93091823, "body": "Yes but if i change it to be no static. I should initialize the webdriver in every test-class. By this way it is not possible to pass the webdriver in the next test-class in order to continue the tests."}, {"owner": {"reputation": 328, "user_id": 8604768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f63290c815857ff00088d3ea9113bfbb?s=128&d=identicon&r=PG&f=1", "display_name": "Waqar Nadir", "link": "https://stackoverflow.com/users/8604768/waqar-nadir"}, "reply_to_user": {"reputation": 13, "user_id": 10587849, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f20YjlYiBSQ/AAAAAAAAAAI/AAAAAAAAABo/M-uM8d8oZ7s/photo.jpg?sz=128", "display_name": "Ioannis Kozompolis", "link": "https://stackoverflow.com/users/10587849/ioannis-kozompolis"}, "edited": false, "score": 0, "creation_date": 1541068152, "post_id": 53095584, "comment_id": 93094372, "body": "you can use previous browser session id to solve this problem"}], "tags": [], "owner": {"reputation": 328, "user_id": 8604768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f63290c815857ff00088d3ea9113bfbb?s=128&d=identicon&r=PG&f=1", "display_name": "Waqar Nadir", "link": "https://stackoverflow.com/users/8604768/waqar-nadir"}, "is_accepted": false, "score": 0, "last_activity_date": 1541049774, "creation_date": 1541049774, "answer_id": 53095584, "question_id": 53092271, "link": "https://stackoverflow.com/questions/53092271/testng-execute-parallel-tests-in-suite-file-using-multiple-test-classes/53095584#53095584", "title": "TestNG: Execute parallel tests in suite file using multiple test classes", "body": "<p>you are using static webdriver in your init class which will ensure that only one instance of webdriver is initiated. </p>\n\n<pre><code>private static WebDriver driver;\n</code></pre>\n\n<p>As you mentioned in question <strong>each test is not running in it respective browser.</strong> you need to change static web driver. Remove static web driver and initiate web driver for each test which will open each test in a new browser.</p>\n"}], "owner": {"reputation": 13, "user_id": 10587849, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f20YjlYiBSQ/AAAAAAAAAAI/AAAAAAAAABo/M-uM8d8oZ7s/photo.jpg?sz=128", "display_name": "Ioannis Kozompolis", "link": "https://stackoverflow.com/users/10587849/ioannis-kozompolis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 788, "favorite_count": 1, "accepted_answer_id": 53093067, "answer_count": 2, "score": 1, "last_activity_date": 1553182302, "creation_date": 1541021735, "last_edit_date": 1541051441, "question_id": 53092271, "link": "https://stackoverflow.com/questions/53092271/testng-execute-parallel-tests-in-suite-file-using-multiple-test-classes", "title": "TestNG: Execute parallel tests in suite file using multiple test classes", "body": "<p>I am trying to run parallel tests configuring a suite file. The tests are for web application using Selenium. The suite file is composed from multiple tests. Every test contains more than one test classes. The first class in every test is used to initialize (@BeforeTest) the WebDriver  and shut down it (@AfterTest). The WebDriver is static in order to pass it to the other classes (The reason is that we need to continue the tests from the point where the last test-class has end).</p>\n\n<p>The tests are successfully running when the suite is configured to run the tests sequentially. But when the suite is configured to run the tests in parallel, all the suite tests are using only the last loaded webdriver and each test is not running in it respective browser.</p>\n\n<p>Do you have any idea how i can overcome this situation?</p>\n\n<p>Check the suite template below:</p>\n\n<pre><code>&lt;suite name=\"Register and Login functionality\" parallel=\"tests\" thread-count=\"2\"&gt;\n    &lt;test name=\"Test-1\"&gt;\n        &lt;parameter name=\"browser\" value=\"chrome\" /&gt;\n        &lt;classes&gt;\n            &lt;class name=\"Init\" /&gt;\n            &lt;class name=\"Register\" /&gt;\n            &lt;class name=\"Login\" /&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n    &lt;test name=\"Test-2\"&gt;\n        &lt;parameter name=\"browser\" value=\"chrome\" /&gt;\n        &lt;classes&gt;\n            &lt;class name=\"Init\" /&gt;\n            &lt;class name=\"Register\" /&gt;\n            &lt;class name=\"Login\" /&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n\n<p>The template from the Init test-class:</p>\n\n<pre><code>public class Init{\n\n    private static WebDriver driver;\n\n    public WebDriver getWebDriver(){\n        return this.driver;\n    }\n\n    @BeforeTest\n    public void setUp(){\n        driver = new ChromeWebDriver();\n    }\n\n    @AfterTest\n    public void quit(){\n        driver.stop();\n    }\n\n}\n</code></pre>\n\n<p>The template from the register test class:</p>\n\n<pre><code>public class Register{\n\n    private WebDriver driver;\n\n    @BeforeClass\n    public void setUp(){\n        driver = Init.getWebDriver();\n    }\n\n    @Test\n    public void test1(){\n        ........\n        ........\n    }\n\n    @Test\n    public void test2(){\n        ........    \n        ........\n    }\n\n}\n</code></pre>\n\n<p>The template from login test-class:</p>\n\n<pre><code>public class Login{\n\n    private WebDriver driver;\n\n    @BeforeClass\n    public void setUp(){\n        driver = Init.getWebDriver();\n    }\n\n    @Test\n    public void test1(){\n        ........\n        ........\n    }\n\n    @Test\n    public void test2(){\n        ........    \n        ........\n    }\n\n}\n</code></pre>\n"}, {"tags": ["java", "java-8"], "comments": [{"owner": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "edited": false, "score": 3, "creation_date": 1541021868, "post_id": 53092262, "comment_id": 93081370, "body": "The task is responsible for exiting gracefully if it receives an InterruptedException or observes its interrupted flag to be true.  If it doesn\u2019t do this, there is nothing you can do to stop it;  it is a rogue thread."}, {"owner": {"reputation": 2353, "user_id": 440732, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/ec3c8b76a17c17cb8f9eafa5af50bfa0?s=128&d=identicon&r=PG", "display_name": "nishant", "link": "https://stackoverflow.com/users/440732/nishant"}, "reply_to_user": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "edited": false, "score": 0, "creation_date": 1541023729, "post_id": 53092262, "comment_id": 93081968, "body": "I checked, the task indeed handles interruption."}], "answers": [{"tags": [], "owner": {"reputation": 496316, "user_id": 57695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/53ee9941b3fefef67175daf212e62d41?s=128&d=identicon&r=PG", "display_name": "Peter Lawrey", "link": "https://stackoverflow.com/users/57695/peter-lawrey"}, "is_accepted": true, "score": 2, "last_activity_date": 1541022125, "creation_date": 1541022125, "answer_id": 53092365, "question_id": 53092262, "link": "https://stackoverflow.com/questions/53092262/kill-a-future-completely-after-some-time/53092365#53092365", "title": "Kill a future completely after some time", "body": "<blockquote>\n  <p>How should I end the task?</p>\n</blockquote>\n\n<p>Run the task is a separate process and kill the process to stop it. There is no safe way to stop a thread in Java, unless the task has been coded to support it.</p>\n\n<blockquote>\n  <p>As the interrupted flag is now set after the task completes, is there a process that resets the flag? </p>\n</blockquote>\n\n<p>Yes, the ExecutorService resets the interrupted flag.</p>\n"}], "owner": {"reputation": 2353, "user_id": 440732, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/ec3c8b76a17c17cb8f9eafa5af50bfa0?s=128&d=identicon&r=PG", "display_name": "nishant", "link": "https://stackoverflow.com/users/440732/nishant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 1, "accepted_answer_id": 53092365, "answer_count": 1, "score": 1, "last_activity_date": 1541022125, "creation_date": 1541021701, "question_id": 53092262, "link": "https://stackoverflow.com/questions/53092262/kill-a-future-completely-after-some-time", "title": "Kill a future completely after some time", "body": "<p>I have a <code>future</code> that does some intensive task. I call that <code>future</code> with a timeout. If it times out, I throw an exception back to client as well as create another <code>scheduledfuture</code> to cancel first <code>future</code> eventually after a while. The idea is to give sometime after initial timeout for <code>future</code> to complete its task, but if it doesn't complete in that time, just kill it.</p>\n\n<p>My code looks like</p>\n\n<pre><code>try {\n    return future.get(5, TimeUnit.SECONDS);\n} catch (TimeoutException) {\n   //create a scheduledfuture here which waits for another 5s\n   // and kill the above future is it is still not done\n   //the callable of scheduledfuture looks like -\n   /*\n   if (!future.isDone()) {\n       future.cancel(true);\n   }\n   */\n}\n</code></pre>\n\n<p>Now two questions here -<br>\n1. The <code>future.cancel(true)</code> will just set the interrupt flag to true. It will not end the task as it is. How should I end the task? Is there a JVM process internally that checks threads for interrupted flag and terminates them if true?<br>\n2. As the interrupted flag is now set, after the task completes, is there a process that resets the flag? Else that thread managed through <code>ExecutorService</code> will fail with <code>InterruptedException</code> when it tries to take up next request which contains a blocking call.</p>\n"}, {"tags": ["java", "android"], "answers": [{"tags": [], "owner": {"reputation": 7532, "user_id": 1753073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c84fc25306e27dd3393559721ba869cd?s=128&d=identicon&r=PG", "display_name": "navylover", "link": "https://stackoverflow.com/users/1753073/navylover"}, "is_accepted": false, "score": 0, "last_activity_date": 1541022936, "creation_date": 1541022936, "answer_id": 53092508, "question_id": 53092239, "link": "https://stackoverflow.com/questions/53092239/attempting-to-create-validation-for-a-number-crashes-when-attempting-to-test/53092508#53092508", "title": "Attempting to create validation for a number, crashes when attempting to test", "body": "<p><code>Double.parseDouble()</code> will raise <code>NumberFormatException</code> exception and make app crash when when you try to parse an empty string.</p>\n\n<p>you checked the input string, but run <code>Double.parseDouble()</code> even it equals empty.</p>\n\n<p>You could do as below:</p>\n\n<pre><code>if (!weightV.isEmpty()){\n    weightEntered = Double.parseDouble(weight.getText().toString());\n    ......\n}else{\n    Toast.makeText(MainActivity.this, \"Weight must be entered! \", Toast.LENGTH_LONG).show();\n    ......\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": false, "score": 0, "last_activity_date": 1541023591, "last_edit_date": 1541023591, "creation_date": 1541023169, "answer_id": 53092535, "question_id": 53092239, "link": "https://stackoverflow.com/questions/53092239/attempting-to-create-validation-for-a-number-crashes-when-attempting-to-test/53092535#53092535", "title": "Attempting to create validation for a number, crashes when attempting to test", "body": "<p>You say:  <em>the validation, when it should instead display the message \"weight must be entered!\", /the program collapses upon itself</em>  <br/>\nSo you put a space <code>\" \"</code> in the EditText and expect to see the Toast.  <br/>\nYou would see the Toast if you change the code:</p>\n\n<pre><code>if (weightV.trim().isEmpty()) {\n    Toast.makeText(MainActivity.this, \"Weight must be entered! \", Toast.LENGTH_LONG).show();\n    return;\n}\n</code></pre>\n\n<p>But without <code>return</code> the code continues to execute and <code>Double.parseDouble(weight.getText().toString())</code> throws an exception because an empty EditText's text is not a valid number.</p>\n"}], "owner": {"reputation": 9, "user_id": 10588229, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Tz5iNMWE88Q/AAAAAAAAAAI/AAAAAAAAAKs/MEXE-C6OQOA/photo.jpg?sz=128", "display_name": "Jaelen Jones", "link": "https://stackoverflow.com/users/10588229/jaelen-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541024504, "creation_date": 1541021566, "last_edit_date": 1541022015, "question_id": 53092239, "link": "https://stackoverflow.com/questions/53092239/attempting-to-create-validation-for-a-number-crashes-when-attempting-to-test", "title": "Attempting to create validation for a number, crashes when attempting to test", "body": "<p>The Title is the best I could explain it. I am attempting to create a validation for a number box in Java, using android studio. However, the validation, when it should instead display the message \"weight must be entered!\", the program collapses upon itself. Any idea what could be wrong? Thanks in advance.</p>\n\n<pre><code>package com.example.student.project8a_medicalcalculator;\n\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.RadioButton;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport java.text.DecimalFormat;\nimport java.util.EmptyStackException;\n\npublic class MainActivity extends AppCompatActivity {\ndouble weightEntered;\ndouble convertedWeight;\nfinal double conversionRate = 2.2;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n\n    getSupportActionBar().setDisplayShowHomeEnabled(true);\n    getSupportActionBar().setLogo(R.mipmap.ic_launcher);\n    getSupportActionBar().setDisplayUseLogoEnabled(true);\n    final EditText weight = (EditText) findViewById(R.id.Weight);\n    final RadioButton lbToKilo = (RadioButton) findViewById(R.id.LbToKilo);\n    final RadioButton kiloToLB = (RadioButton) findViewById(R.id.KiloToLb);\n    final TextView result = (TextView) findViewById(R.id.Results);\n    Button convert = (Button) findViewById(R.id.bnConvert);\n\n    convert.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            String weightV;\n            weightV = weight.getText().toString();\n            if (weightV.equals(\" \"))Toast.makeText(MainActivity.this, \"Weight must be entered! \", Toast.LENGTH_LONG).show();\n\n            weightEntered = Double.parseDouble(weight.getText().toString());\n            DecimalFormat tenth = new DecimalFormat(\"#.#\");\n\n            if (lbToKilo.isChecked()){\n                if (weightEntered &lt;= 500){\n                    convertedWeight = weightEntered / conversionRate;\n                    result.setText(tenth.format(convertedWeight) + \" kilograms\");\n                } else {\n                    Toast.makeText(MainActivity.this, \"Pounds must be less than 500\", Toast.LENGTH_LONG).show();\n                }\n\n            }\n            if (kiloToLB.isChecked()){\n                if (weightEntered &lt;= 225){\n                    convertedWeight = weightEntered * conversionRate;\n                    result.setText(tenth.format(convertedWeight) + \" pounds\");}\n                    else {\n                    Toast.makeText(MainActivity.this, \"Kilos must be less than 225 \", Toast.LENGTH_LONG).show();\n\n                }\n            }\n        }\n    });\n\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["java", "swing", "graphics", "jpanel", "bufferstrategy"], "comments": [{"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 2, "creation_date": 1541021970, "post_id": 53092231, "comment_id": 93081409, "body": "No, no, no a thousand times no. Swing uses a passive rendering engine, you can not replace this with our implementation.  When a component is painted, it&#39;s origin point is translated so that it&#39;s <code>0x0</code> position is the top left position.  In your example, the <code>BufferStrategy</code> belongs to the <code>JFrame</code>, so the <code>Graphics</code> is related to the context of the <code>JFrame</code> - so basically, it&#39;s just a massive mess"}, {"owner": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "edited": false, "score": 1, "creation_date": 1541022306, "post_id": 53092231, "comment_id": 93081523, "body": "What MadProgrammer said.  If you obtain a BufferStrategy from a Frame, you must use it to paint that Frame;  if you obtain a BufferStrategy from a Canvas, you must use it to paint that Canvas.  A BufferStrategy and its Graphics cannot be transferred to other components."}, {"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "reply_to_user": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "edited": false, "score": 0, "creation_date": 1541022515, "post_id": 53092231, "comment_id": 93081594, "body": "@vgr You can pass the <code>Graphic</code>s context from the <code>BufferStrategy</code> to where ever you want, the source of the strategy will simply be used to render the result.  In most cases, this means you should avoid any of the implemented &quot;painting&quot; routes of the components and paint onto the <code>Graphics</code> context in a independent manner - this might be what you were saying and I might have just read it wrong - but your basic gist is correct ;)"}, {"owner": {"reputation": 1556, "user_id": 611716, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/f4i2e.jpg?s=128&g=1", "display_name": "Frecklefoot", "link": "https://stackoverflow.com/users/611716/frecklefoot"}, "edited": false, "score": 0, "creation_date": 1541023373, "post_id": 53092231, "comment_id": 93081856, "body": "That clears up everything! Thanks!"}, {"owner": {"reputation": 50650, "user_id": 3182664, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/2s35X.png?s=128&g=1", "display_name": "Marco13", "link": "https://stackoverflow.com/users/3182664/marco13"}, "reply_to_user": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1541024265, "post_id": 53092231, "comment_id": 93082118, "body": "@MadProgrammer To be fair: Active rendering <b>is</b> possible (when implemented properly). Although in ~20 years of Swing Programming, I never really used it. Some games might have a justification for using it, but when the question is: &quot;Is it necessary (or even just appropriate) for the task in this question?&quot;, then the answer is certainly &quot;No, no, no...&quot;"}, {"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "reply_to_user": {"reputation": 50650, "user_id": 3182664, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/2s35X.png?s=128&g=1", "display_name": "Marco13", "link": "https://stackoverflow.com/users/3182664/marco13"}, "edited": false, "score": 0, "creation_date": 1541025702, "post_id": 53092231, "comment_id": 93082543, "body": "@Marco13 Active rendering is very possible - just not through Swing, which has it&#39;s own painting mechanism.  This is what&#39;s <code>BufferStrategy</code> is for.  It gives YOU control over the painting mechanism. I&#39;ve read many blogs trying to explain how to get Swing and <code>BufferStrategy</code> and I&#39;m yet to see a solution which &quot;just works&quot; and &quot;works well&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "is_accepted": true, "score": 1, "last_activity_date": 1541022379, "last_edit_date": 1592644375, "creation_date": 1541022379, "answer_id": 53092409, "question_id": 53092231, "link": "https://stackoverflow.com/questions/53092231/jpanel-position-whacked-by-bufferstrategy/53092409#53092409", "title": "JPanel position whacked by BufferStrategy", "body": "<p>Swing uses it's own rendering engine, which is a passive implementation.  You're attempting to circumvent this with your own, active, rendering engine, the two are going to butt heads.</p>\n<p>Because the <code>BufferStrategy</code> belongs to the <code>JFrame</code>, it's created within the confines of it, so <code>0x0</code> will be the top left position of the <code>JFrame</code>, not the <code>JPanel</code>.</p>\n<p>Swing's rendering engine will do this translation automatically for you.</p>\n<p>You have two basic choices.</p>\n<ol>\n<li>Don't base the rendering off a <code>JPanel</code> and simply have a &quot;render&quot; class which does this independently (and use a <code>Canvas</code> instead of the <code>JFrame</code> as the bases for the <code>BufferStrategy</code>)</li>\n<li>Use a Swing <code>Timer</code> as the primary rendering engine</li>\n</ol>\n<h1>Swing <code>Timer</code> based example...</h1>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Random;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new ViewPanel());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public static class ViewPanel extends JPanel {\n\n        private static int APP_WIDTH = 600;\n        private static int APP_HEIGHT = 400;\n\n        private static final long serialVersionUID = -8019663913250286271L;\n\n        public ViewPanel() {\n            setBackground(Color.GRAY);\n            Timer timer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    repaint();\n                }\n            });\n            timer.start();\n        }\n\n        public void init() {\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(APP_HEIGHT, APP_HEIGHT);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            render(g);\n        }\n\n        // Where I do the drawing. It's called from the rendering loop in the JFrame\n        public void render(Graphics g) {\n\n            // refresh the background since we're not relying on paintComponent all the time\n            Color bgc = getBackground();\n            g.setColor(bgc);\n            g.fillRect(0, 0, APP_WIDTH, APP_HEIGHT);\n\n            // just paint a moving box\n            drawBox(g);\n\n            // draw a line to prove correctness. In the loop, you can see part of this line is hidden\n            // underneath the title bar\n            g.setColor(Color.red);\n            g.drawLine(0, 0, APP_WIDTH, APP_HEIGHT);\n        }\n\n        protected void drawBox(Graphics g) {\n\n            // get a random color\n            Random ran = new Random();\n            int red = ran.nextInt(255);\n            int grn = ran.nextInt(255);\n            int ble = ran.nextInt(255);\n            Color colour = new Color(red, grn, ble);\n            g.setColor(colour);\n\n            // get a random position        \n            int x = ran.nextInt(APP_WIDTH - 50);\n            int y = ran.nextInt(APP_HEIGHT - 50);\n\n            // draw it\n            g.fillRect(x, y, 50, 50);\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1556, "user_id": 611716, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/f4i2e.jpg?s=128&g=1", "display_name": "Frecklefoot", "link": "https://stackoverflow.com/users/611716/frecklefoot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 53092409, "answer_count": 1, "score": 0, "last_activity_date": 1541035075, "creation_date": 1541021516, "last_edit_date": 1541035075, "question_id": 53092231, "link": "https://stackoverflow.com/questions/53092231/jpanel-position-whacked-by-bufferstrategy", "title": "JPanel position whacked by BufferStrategy", "body": "<p>I have a JFrame to which I add a JPanel. I'm doing some animation, so I implement a BufferStrategy for rendering. I also a rendering loop to keep it rendering while running.</p>\n\n<p>If I run the program like normal, the JPanel renders correctly. Of course, then there's no animation. If I run it with the loop and hte BufferedStrategy, the JPanel extends to the full size of the application, and underneath the title bar of the JFrame. I can't find a good reason for this to be happening, but it's frustrating because I need to do some precise drawing, and can't have some of it hidden underneath the title bar.</p>\n\n<p>I assume it's because I'm not calling <code>super.paintComponent()</code>, but I really shouldn't call it anyway, since I'm rendering on my own, not within the normal Swing pipeline.</p>\n\n<p>Is there some API call I need to make to make the JPanel position itself correctly within my render call?</p>\n\n<pre><code>import java.awt.Graphics;\nimport java.awt.image.BufferStrategy;\nimport javax.swing.JFrame;\n\npublic class MainFrame extends JFrame implements Runnable {\n\n    private static final long serialVersionUID = 2190062312369662956L;\n\n    protected ViewPanel _viewPanel = null;\n\n    public MainFrame() {\n        setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\n\n        createGui();\n    }\n\n    protected void createGui() {\n\n        setSize( 600, 400 );\n        setTitle( \"Exact Positioning\" );\n        setVisible( true );\n        setResizable( false );\n\n        _viewPanel = new ViewPanel();\n        _viewPanel.init();\n\n        // the layout type shouldn't matter since this is the only component in the frame\n        add( _viewPanel );\n    }\n\n    @Override\n    public void run() {\n\n        // setup\n        this.createBufferStrategy( 2 );\n        BufferStrategy buffStrategy = this.getBufferStrategy();\n\n        // render loop\n        while( true ) {\n\n            Graphics g = null;\n            try {\n                g = buffStrategy.getDrawGraphics();\n                _viewPanel.render( g );\n            } finally {\n                g.dispose();\n            }\n            buffStrategy.show();\n\n            // pause a tad\n            try {\n                Thread.sleep( 500 );\n            } catch (InterruptedException e) {\n                // Required catch block\n                e.printStackTrace();\n            } catch (Exception e) {\n                System.out.println( \"Sorry, don't know what happened: \" + e.toString() );\n                e.printStackTrace();\n            }\n        }\n    }\n\n\n    public static void main(String[] args) {\n\n        Thread t1 = new Thread(new MainFrame()); \n        t1.start();\n        // if I start the app this way, the JPanel draws correctly\n//      MainFrame a = new MainFrame(); \n    }\n}\n</code></pre>\n\n<p>The JPanel:</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics;\nimport java.util.Random;\n\nimport javax.swing.JPanel;\n\npublic class ViewPanel extends JPanel {\n\n    private static int APP_WIDTH = 600;\n    private static int APP_HEIGHT = 400;\n\n    private static final long serialVersionUID = -8019663913250286271L;\n\n    public ViewPanel() {\n        setBackground(Color.GRAY);\n    }\n\n    public void init() {\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n\n        super.paintComponent( g );\n\n        render( g );\n    }\n\n    // Where I do the drawing. It's called from the rendering loop in the JFrame\n    public void render( Graphics g ) {\n\n        // refresh the background since we're not relying on paintComponent all the time\n        Color bgc = getBackground();\n        g.setColor( bgc );\n        g.fillRect( 0, 0, APP_WIDTH, APP_HEIGHT );\n\n        // just paint a moving box\n        drawBox( g );\n\n        // draw a line to prove correctness. In the loop, you can see part of this line is hidden\n        // underneath the title bar\n        g.setColor( Color.red );\n        g.drawLine(0, 0, APP_WIDTH, APP_HEIGHT);\n    }\n\n    protected void drawBox( Graphics g ) {\n\n        // get a random color\n        Random ran = new Random();\n        int red = ran.nextInt( 255 );\n        int grn = ran.nextInt( 255 );\n        int ble = ran.nextInt( 255 );\n        Color colour = new Color( red, grn, ble );\n        g.setColor( colour );\n\n        // get a random position        \n        int x = ran.nextInt( APP_WIDTH - 50);\n        int y = ran.nextInt( APP_HEIGHT - 50);\n\n        // draw it\n        g.fillRect( x, y, 50, 50 );\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "apache-spark", "apache-spark-sql"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8453102"}, "edited": false, "score": 0, "creation_date": 1541023281, "post_id": 53092329, "comment_id": 93081828, "body": "It is saying item doesnot exists :("}], "tags": [], "owner": {"reputation": 16, "user_id": 10588266, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/5e68386a212ac8a9828c80375d27d81d?s=128&d=identicon&r=PG", "display_name": "user10588266", "link": "https://stackoverflow.com/users/10588266/user10588266"}, "is_accepted": true, "score": 0, "last_activity_date": 1541044253, "last_edit_date": 1541044253, "creation_date": 1541021982, "answer_id": 53092329, "question_id": 53092205, "link": "https://stackoverflow.com/questions/53092205/getting-result-value-from-dataframe-after-agg/53092329#53092329", "title": "Getting result value from dataframe after agg", "body": "<p>Collect the first row and get it's field</p>\n\n<pre><code> return \"Sum is : \" + df.select(sum(\"val\").alias(\"sum\")).first().getAs(0);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8453102"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 53092329, "answer_count": 1, "score": -2, "last_activity_date": 1550652789, "creation_date": 1541021311, "last_edit_date": 1550652789, "question_id": 53092205, "link": "https://stackoverflow.com/questions/53092205/getting-result-value-from-dataframe-after-agg", "title": "Getting result value from dataframe after agg", "body": "<p>I am doing simple Sum operation on values coming form text file with below code. I want to get result in the java code from dataframe. </p>\n\n<p>How could I do it?</p>\n\n<pre><code> SparkSession sc = jobContext.sparkSession();\n\n    Dataset&lt;Row&gt; df = sc.read().format(\"csv\")\n    .option(\"header\", \"false\") //Since text file doesnt contain any header\n    .load(\"s3://test/input.txt\") //configuring s3 bucket with txt file having numbers on each line\n    .toDF(\"val\"); //assigning column name values\n\n    return \"Sum is : \" + df.select(sum(\"val\"));\n</code></pre>\n\n<p>Gives me <code>Sum is : [Sum(val): double]</code> How do I get result from dataframe?</p>\n"}, {"tags": ["java", "android"], "comments": [{"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1541022019, "post_id": 53092167, "comment_id": 93081429, "body": "Your code does work."}, {"owner": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1541022567, "post_id": 53092167, "comment_id": 93081609, "body": "Did you try <code>Menu.removeItem()</code>?"}, {"owner": {"reputation": 2803, "user_id": 583271, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d1b1fdd6d52e31f3aedafa6a51e0829d?s=128&d=identicon&r=PG", "display_name": "Sharon", "link": "https://stackoverflow.com/users/583271/sharon"}, "edited": false, "score": 0, "creation_date": 1541088367, "post_id": 53092167, "comment_id": 93105310, "body": "Really, forpas?  It doesn&#39;t for me :("}, {"owner": {"reputation": 2803, "user_id": 583271, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d1b1fdd6d52e31f3aedafa6a51e0829d?s=128&d=identicon&r=PG", "display_name": "Sharon", "link": "https://stackoverflow.com/users/583271/sharon"}, "edited": false, "score": 0, "creation_date": 1541088404, "post_id": 53092167, "comment_id": 93105337, "body": "Yes, Jeffrey, but it didn&#39;t seem to do anything.  I could see in the debugger that the item had been removed, but it still showed up when the menu was displayed."}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1541090633, "post_id": 53092167, "comment_id": 93106567, "body": "@Sharon are you serious? You were talking about navigation drawer and you did not bother mention it?"}, {"owner": {"reputation": 2803, "user_id": 583271, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d1b1fdd6d52e31f3aedafa6a51e0829d?s=128&d=identicon&r=PG", "display_name": "Sharon", "link": "https://stackoverflow.com/users/583271/sharon"}, "edited": false, "score": 0, "creation_date": 1541094752, "post_id": 53092167, "comment_id": 93108736, "body": "So sorry - I hadn&#39;t really thought it through and didn&#39;t think it was relevant.  I guess because my code was finding the menu ok, I didn&#39;t think that the menu being in a drawer would affect things. Apologies."}], "answers": [{"comments": [{"owner": {"reputation": 2803, "user_id": 583271, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d1b1fdd6d52e31f3aedafa6a51e0829d?s=128&d=identicon&r=PG", "display_name": "Sharon", "link": "https://stackoverflow.com/users/583271/sharon"}, "edited": false, "score": 0, "creation_date": 1541087820, "post_id": 53092626, "comment_id": 93104991, "body": "Thank you - that&#39;s helpful. I&#39;ve gone for the second option this time, but I wondered how the first one works - how do I override the menu file for a particular flavour?  That&#39;s not one of the options when I create a layout file."}, {"owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "reply_to_user": {"reputation": 2803, "user_id": 583271, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d1b1fdd6d52e31f3aedafa6a51e0829d?s=128&d=identicon&r=PG", "display_name": "Sharon", "link": "https://stackoverflow.com/users/583271/sharon"}, "edited": false, "score": 1, "creation_date": 1541110366, "post_id": 53092626, "comment_id": 93115386, "body": "You can create different menu files with same name in the different packages. For example: free package: <code>src&#47;free&#47;res&#47;menu&#47;your_menu_file</code> and for paid: <code>src&#47;paid&#47;res&#47;menu&#47;your_menu_file</code>. You need to create these folders yourself. It works nicely"}, {"owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "reply_to_user": {"reputation": 2803, "user_id": 583271, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d1b1fdd6d52e31f3aedafa6a51e0829d?s=128&d=identicon&r=PG", "display_name": "Sharon", "link": "https://stackoverflow.com/users/583271/sharon"}, "edited": false, "score": 0, "creation_date": 1541110471, "post_id": 53092626, "comment_id": 93115419, "body": "Or you can override menu file only for one flavor. And by default to do free."}], "tags": [], "owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "is_accepted": false, "score": 1, "last_activity_date": 1541023725, "creation_date": 1541023725, "answer_id": 53092626, "question_id": 53092167, "link": "https://stackoverflow.com/questions/53092167/how-do-i-remove-a-menu-item-on-the-fly/53092626#53092626", "title": "How do I remove a menu item on the fly?", "body": "<p>There are several options:</p>\n\n<ol>\n<li><p>The most convenient option: create 2 different productFlavours in your <code>build.gradle</code> file</p>\n\n<pre><code>productFlavors {\n    free {\n      ...\n    }\n    paid {\n      ...\n    }\n}\n</code></pre>\n\n<p>And then override your menu file without <code>action_acc_upgrade</code> item for paid flavour.</p></li>\n<li><p>If you want change visibility programmatically, try to use <code>onPrepareOptionsMenu</code> instead of <code>onCreateOptionsMenu</code>:</p>\n\n<pre><code>@Override\npublic void onPrepareOptionsMenu(Menu menu) {\n    super.onPrepareOptionsMenu(menu);\n    if(isPaid()) {\n        MenuItem upgrade = menu.findItem(R.id.action_acc_upgrade);\n        upgrade.setEnabled(false);\n        upgrade.setVisible(false);\n    }\n}\n</code></pre>\n\n<p>If you need to change your menu after creation, invoke <code>invalidateOptionsMenu()</code>.</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 2803, "user_id": 583271, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d1b1fdd6d52e31f3aedafa6a51e0829d?s=128&d=identicon&r=PG", "display_name": "Sharon", "link": "https://stackoverflow.com/users/583271/sharon"}, "edited": false, "score": 0, "creation_date": 1541089163, "post_id": 53092665, "comment_id": 93105733, "body": "Thanks.  That link is helpful, I hadn&#39;t found that in the docs. I&#39;ve added in onPrepareOptionsMenu as suggested above, but the menu item is still showing. If I set a breakpoint in onPrepareOptionsMenu, it only gets hit when the Activity initially starts, not when the menu is opened. Does this mean I&#39;m somehow targeting the wrong menu?"}, {"owner": {"reputation": 2803, "user_id": 583271, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d1b1fdd6d52e31f3aedafa6a51e0829d?s=128&d=identicon&r=PG", "display_name": "Sharon", "link": "https://stackoverflow.com/users/583271/sharon"}, "edited": false, "score": 0, "creation_date": 1541090304, "post_id": 53092665, "comment_id": 93106373, "body": "I&#39;m using a NavigationDrawer layout to handle this menu - is that relevant?  I&#39;ve edited my original post to add details."}, {"owner": {"reputation": 3161, "user_id": 10510491, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t4QsPKELpII/AAAAAAAAAAI/AAAAAAAAV14/3oA6QmFw68U/photo.jpg?sz=128", "display_name": "Aaron", "link": "https://stackoverflow.com/users/10510491/aaron"}, "reply_to_user": {"reputation": 2803, "user_id": 583271, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d1b1fdd6d52e31f3aedafa6a51e0829d?s=128&d=identicon&r=PG", "display_name": "Sharon", "link": "https://stackoverflow.com/users/583271/sharon"}, "edited": false, "score": 1, "creation_date": 1541104882, "post_id": 53092665, "comment_id": 93113392, "body": "So it&#39;s the menu in NavigationDrawer? If you want to toggle menu item visibility in  NavigationDrawer, then it will not work for your case, but try @forpas solution."}, {"owner": {"reputation": 2803, "user_id": 583271, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d1b1fdd6d52e31f3aedafa6a51e0829d?s=128&d=identicon&r=PG", "display_name": "Sharon", "link": "https://stackoverflow.com/users/583271/sharon"}, "edited": false, "score": 0, "creation_date": 1541105122, "post_id": 53092665, "comment_id": 93113491, "body": "Thank you. Apologies for the confusion."}], "tags": [], "owner": {"reputation": 3161, "user_id": 10510491, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t4QsPKELpII/AAAAAAAAAAI/AAAAAAAAV14/3oA6QmFw68U/photo.jpg?sz=128", "display_name": "Aaron", "link": "https://stackoverflow.com/users/10510491/aaron"}, "is_accepted": false, "score": 1, "last_activity_date": 1541104611, "last_edit_date": 1541104611, "creation_date": 1541023937, "answer_id": 53092665, "question_id": 53092167, "link": "https://stackoverflow.com/questions/53092167/how-do-i-remove-a-menu-item-on-the-fly/53092665#53092665", "title": "How do I remove a menu item on the fly?", "body": "<p>If it's <em>on the fly</em>, you need to override <code>onPrepareOptionsMenu</code> and call <code>invalidateOptionsMenu</code> if applicable:</p>\n\n<pre><code>@Override public void onPrepareOptionsMenu(Menu menu) {\n    super.onPrepareOptionsMenu(menu);\n    menu.findItem(R.id.action_acc_upgrade).setVisible(!isPaid());\n}\n</code></pre>\n\n<p>See <a href=\"https://developer.android.com/reference/android/app/Activity.html#onPrepareOptionsMenu(android.view.Menu)\" rel=\"nofollow noreferrer\">Activity.onPrepareOptionsMenu</a>:</p>\n\n<blockquote>\n  <p>Prepare the Screen's standard options menu to be displayed. This is\n  called right before the menu is shown, every time it is shown. You can\n  use this method to efficiently enable/disable items or otherwise\n  dynamically modify the contents.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 7532, "user_id": 1753073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c84fc25306e27dd3393559721ba869cd?s=128&d=identicon&r=PG", "display_name": "navylover", "link": "https://stackoverflow.com/users/1753073/navylover"}, "is_accepted": false, "score": 1, "last_activity_date": 1541023982, "creation_date": 1541023982, "answer_id": 53092673, "question_id": 53092167, "link": "https://stackoverflow.com/questions/53092167/how-do-i-remove-a-menu-item-on-the-fly/53092673#53092673", "title": "How do I remove a menu item on the fly?", "body": "<p>You should override <code>onPrepareOptionsMenu</code> like this:</p>\n\n<pre><code>@Override\npublic void onPrepareOptionsMenu(Menu menu) {\n    super.onPrepareOptionsMenu(menu);\n    if(isPaid()) {\n       menu.findItem(R.id.action_settings).setVisible(false);\n    }\n}\n</code></pre>\n\n<p><strong>Notice:</strong>\n    Ensure get right value of isPaid() before <code>onPrepareOptionsMenu</code> callback, such as in <code>onCreate()</code> or <code>onResume()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 1, "last_activity_date": 1541097896, "creation_date": 1541097896, "answer_id": 53107479, "question_id": 53092167, "link": "https://stackoverflow.com/questions/53092167/how-do-i-remove-a-menu-item-on-the-fly/53107479#53107479", "title": "How do I remove a menu item on the fly?", "body": "<p>You can do it in <code>onCreate()</code> of your activity:</p>\n\n<pre><code>NavigationView navigationView = (NavigationView) findViewById(R.id.nav_view);\nMenu navMenu = navigationView.getMenu();\nnavMenu.removeItem(R.id.action_acc_upgrade);\n</code></pre>\n\n<p>replace <code>nav_view</code> with your <code>NavigationView</code>'s id.</p>\n"}], "owner": {"reputation": 2803, "user_id": 583271, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d1b1fdd6d52e31f3aedafa6a51e0829d?s=128&d=identicon&r=PG", "display_name": "Sharon", "link": "https://stackoverflow.com/users/583271/sharon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 53107479, "answer_count": 4, "score": -1, "last_activity_date": 1556891437, "creation_date": 1541021078, "last_edit_date": 1556891437, "question_id": 53092167, "link": "https://stackoverflow.com/questions/53092167/how-do-i-remove-a-menu-item-on-the-fly", "title": "How do I remove a menu item on the fly?", "body": "<p>My Android app has a navigation drawer with a menu.  In the free version of the app, I want to have a menu item to allow the user to Upgrade to the paid version.  Obviously I don't want this in the paid version.</p>\n\n<p>How do I hide the menu item in the paid version?</p>\n\n<p>The menu looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n   &lt;item\n        android:id=\"@+id/action_home\"\n        android:icon=\"@drawable/btn_home\"\n        android:title=\"@string/nav_home\"\n        /&gt;\n    &lt;item\n        android:id=\"@+id/action_acc_upgrade\"\n        android:icon=\"@drawable/ic_star_black\"\n        android:title=\"@string/str_acc_upgrade\" /&gt;\n    &lt;item\n        android:id=\"@+id/action_help\"\n        android:icon=\"@drawable/ic_help_black\"\n        android:title=\"@string/nav_help\"\n        /&gt;\n&lt;/menu&gt;\n</code></pre>\n\n<p>In the activity, I have:</p>\n\n<pre><code>@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    super.onCreateOptionsMenu(menu);\n\n    MenuInflater inflater = this.getMenuInflater();\n    inflater.inflate(R.menu.activity_main_drawer, menu);\n\n    if(isPaid()) {\n        MenuItem upgrade = menu.findItem(R.id.action_acc_upgrade);\n        upgrade.setVisible(false);\n    }\n\n    return true;\n}\n</code></pre>\n\n<p>If I run this through the debugger, it reaches the line <code>if(isPaid())</code> and then evaluates it as true, so goes into the setVisible part. The item still shows up in the menu, though.</p>\n\n<p>I also tried removing the item from the menu instead of hiding it; the debugger shows that the item is removed, but then it still shows up when the menu is displayed.</p>\n\n<p>How can I hide/remove this item?</p>\n\n<h2>Edit</h2>\n\n<p>I'm using a navigation drawer to hold the menu. This is set up in onCreate as follows:</p>\n\n<pre><code>// Set up toolbar\nToolbar toolbar = findViewById(R.id.toolbar);\nsetSupportActionBar(toolbar);\n\n// Set up navigation drawer\nDrawerLayout drawer = findViewById(R.id.drawer_layout);\nActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n        this, drawer, toolbar, R.string.nav_drawer_open, R.string.nav_drawer_close);\ndrawer.addDrawerListener(toggle);\ntoggle.syncState();\n</code></pre>\n\n<p>I suspect that this somehow bypasses onPrepareOptionsMenu etc? Is there a way of adding a listener which is called when the \"open navigation drawer\" button is clicked?  I can only find callbacks for the drawer being opened or closed, and they're called after the drawer has moved - I need to call them before.</p>\n"}, {"tags": ["java", "lambda", "group-by"], "comments": [{"owner": {"reputation": 1969, "user_id": 1283501, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ccddd369227d688fdb62ee65b21a88d2?s=128&d=identicon&r=PG", "display_name": "Wolf359", "link": "https://stackoverflow.com/users/1283501/wolf359"}, "edited": false, "score": 0, "creation_date": 1541021643, "post_id": 53092095, "comment_id": 93081290, "body": "It is a duplicate question indeed. Should I delete it?"}], "answers": [{"tags": [], "owner": {"reputation": 1761, "user_id": 1303158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc7eb6c9daf0c8b62d509d60d9b6dba?s=128&d=identicon&r=PG", "display_name": "Bernie", "link": "https://stackoverflow.com/users/1303158/bernie"}, "is_accepted": true, "score": 2, "last_activity_date": 1541020998, "creation_date": 1541020998, "answer_id": 53092150, "question_id": 53092095, "link": "https://stackoverflow.com/questions/53092095/java-stream-collect-groupingby-and-aggregated-classes/53092150#53092150", "title": "Java Stream.collect groupingBy and aggregated classes", "body": "<pre><code>Map&lt;String, List&lt;BlogPost&gt;&gt; postsPerType = posts.stream()\n  .collect(groupingBy(bp -&gt; bp.getDescription().getType()));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "is_accepted": false, "score": 3, "last_activity_date": 1541021018, "creation_date": 1541021018, "answer_id": 53092155, "question_id": 53092095, "link": "https://stackoverflow.com/questions/53092095/java-stream-collect-groupingby-and-aggregated-classes/53092155#53092155", "title": "Java Stream.collect groupingBy and aggregated classes", "body": "<p>Just create a lambda returning that expression:</p>\n\n<pre><code>groupingBy(p -&gt; p.getDescription().getType())\n</code></pre>\n"}], "owner": {"reputation": 1969, "user_id": 1283501, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ccddd369227d688fdb62ee65b21a88d2?s=128&d=identicon&r=PG", "display_name": "Wolf359", "link": "https://stackoverflow.com/users/1283501/wolf359"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "closed_date": 1541021131, "accepted_answer_id": 53092150, "answer_count": 2, "score": 1, "last_activity_date": 1541021145, "creation_date": 1541020736, "question_id": 53092095, "link": "https://stackoverflow.com/questions/53092095/java-stream-collect-groupingby-and-aggregated-classes", "closed_reason": "Duplicate", "title": "Java Stream.collect groupingBy and aggregated classes", "body": "<p>This code is straightforward :</p>\n\n<pre><code>Map&lt;String, List&lt;BlogPost&gt;&gt; postsPerType = posts.stream()\n  .collect(groupingBy(BlogPost::getType));\n</code></pre>\n\n<p>where BlogPost is :</p>\n\n<pre><code>class BlogPost {\n    String title;\n    String author;\n    String type;\n    int likes;\n    // getter setter\n}\n</code></pre>\n\n<p>What if BlogPost has some other classes as fields and I want to group by one of those fields, e.g. </p>\n\n<pre><code>class BlogPost {\n    String title;\n    String author;\n    Description description;\n    int likes;\n    // getter setter\n}\n\nclass Description {\n    String part1;\n    String type;\n    // getter setter\n}\n</code></pre>\n\n<p>How can I access say </p>\n\n<pre><code>myBlogPost.getDescription().getType()\n</code></pre>\n\n<p>inside a lambda expression?</p>\n\n<p>Pseudo code: </p>\n\n<pre><code>Map&lt;String, List&lt;BlogPost&gt;&gt; postsPerType = posts.stream()\n      .collect(groupingBy(BlogPost::getDescription::getType));\n</code></pre>\n\n<p>edit :\ngroupingBy refers to :</p>\n\n<pre><code>import static java.util.stream.Collectors.groupingBy;\n</code></pre>\n"}, {"tags": ["java", "android", "colors", "textview"], "comments": [{"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 1, "creation_date": 1541021936, "post_id": 53092031, "comment_id": 93081395, "body": "You use a shader in an animation that changes the area shaded.  Be aware that animations like this can be ridiculously performance and memory hungry if you aren&#39;t careful."}, {"owner": {"reputation": 679, "user_id": 9441843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d646d59e80b6c0d4a802586da2dbf7c?s=128&d=identicon&r=PG&f=1", "display_name": "kataroty", "link": "https://stackoverflow.com/users/9441843/kataroty"}, "reply_to_user": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1541033214, "post_id": 53092031, "comment_id": 93084307, "body": "@GabeSechan is there any way to do it without consuming too much permorfmance because I have a lot of other things going on there"}, {"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1541034880, "post_id": 53092031, "comment_id": 93084613, "body": "Preallocating the shaders and just switching between them would cost more memory up front, but save you the time of allocating them constantly which may improve performance."}], "answers": [{"tags": [], "owner": {"reputation": 213, "user_id": 2611537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9041u.jpg?s=128&g=1", "display_name": "N. Matic", "link": "https://stackoverflow.com/users/2611537/n-matic"}, "is_accepted": false, "score": 1, "last_activity_date": 1541035939, "creation_date": 1541035939, "answer_id": 53094078, "question_id": 53092031, "link": "https://stackoverflow.com/questions/53092031/coloring-textview-during-a-certain-time-period-android/53094078#53094078", "title": "Coloring TextView during a certain time period Android", "body": "<p>There is a way to do this optimized, simple, smooth and beautiful: <a href=\"https://developer.android.com/reference/android/graphics/drawable/AnimatedVectorDrawable\" rel=\"nofollow noreferrer\">Vector Animated Drawables (API21+)</a>.</p>\n\n<p>There are a lot of tutorials out there (for example <a href=\"https://www.youtube.com/watch?v=TfiZmzqAMgA\" rel=\"nofollow noreferrer\">this</a> video) that show how you can make beautiful animations. Basically the steps are following: </p>\n\n<ul>\n<li>create two SVG vector images of your text, one with normal color, the other one with\ncolored letters. You can do this easily in Adobe Illustrator for example.</li>\n<li><p>Import both into <a href=\"https://shapeshifter.design\" rel=\"nofollow noreferrer\">shapeshifter.design</a>. </p></li>\n<li><p>Create an animation for the second (colored layer) by your liking. </p></li>\n<li><p>Copy the resulting xml file into your drawables and you're done!</p></li>\n</ul>\n\n<p>Good luck! </p>\n"}, {"tags": [], "owner": {"reputation": 2284, "user_id": 5041124, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh4.googleusercontent.com/-IJhFrfQUyz4/AAAAAAAAAAI/AAAAAAAAVdI/RovG1p3MdQM/photo.jpg?sz=128", "display_name": "Nick Mowen", "link": "https://stackoverflow.com/users/5041124/nick-mowen"}, "is_accepted": false, "score": 1, "last_activity_date": 1541036821, "creation_date": 1541036821, "answer_id": 53094163, "question_id": 53092031, "link": "https://stackoverflow.com/questions/53092031/coloring-textview-during-a-certain-time-period-android/53094163#53094163", "title": "Coloring TextView during a certain time period Android", "body": "<p>You can use a text spannable and <a href=\"https://developer.android.com/reference/android/text/style/ForegroundColorSpan\" rel=\"nofollow noreferrer\">Foreground Color Span</a> and animate one character at a time</p>\n"}, {"comments": [{"owner": {"reputation": 679, "user_id": 9441843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d646d59e80b6c0d4a802586da2dbf7c?s=128&d=identicon&r=PG&f=1", "display_name": "kataroty", "link": "https://stackoverflow.com/users/9441843/kataroty"}, "edited": false, "score": 0, "creation_date": 1541269101, "post_id": 53094249, "comment_id": 93161735, "body": "Do you have a method to calculate the interval the the <code>curentOffsetx</code>? Lets say I want to fill the sentence in 5000ms, then I would do <code>CountDownTimer(5000, Interval)</code> but what is the interval and the <code>currentOffsetx</code> (at the moment it is static 10)?"}, {"owner": {"reputation": 2426, "user_id": 6003394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Nm6mq.png?s=128&g=1", "display_name": "aolphn", "link": "https://stackoverflow.com/users/6003394/aolphn"}, "reply_to_user": {"reputation": 679, "user_id": 9441843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d646d59e80b6c0d4a802586da2dbf7c?s=128&d=identicon&r=PG&f=1", "display_name": "kataroty", "link": "https://stackoverflow.com/users/9441843/kataroty"}, "edited": false, "score": 1, "creation_date": 1541294415, "post_id": 53094249, "comment_id": 93166998, "body": "5000/width,for example,width is 250,then your interval should be 20"}], "tags": [], "owner": {"reputation": 2426, "user_id": 6003394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Nm6mq.png?s=128&g=1", "display_name": "aolphn", "link": "https://stackoverflow.com/users/6003394/aolphn"}, "is_accepted": true, "score": 3, "last_activity_date": 1541037543, "creation_date": 1541037543, "answer_id": 53094249, "question_id": 53092031, "link": "https://stackoverflow.com/questions/53092031/coloring-textview-during-a-certain-time-period-android/53094249#53094249", "title": "Coloring TextView during a certain time period Android", "body": "<p>I'm just creating a self-defined TextView in last year,here is my class</p>\n\n<pre><code>public class AKChangeColorTextView extends TextView {\n    public AKChangeColorTextView(Context context) {\n        this(context,null);\n    }\n    String TAG = \"AKChangeColorTextView\";\n    public AKChangeColorTextView(Context context, AttributeSet attrs) {\n        this(context, attrs,0);\n    }\n\n    RectF mRectF;\n    float mX;\n    float mY;\n    public AKChangeColorTextView(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        mPaint = new Paint();\n        mPaint.setAntiAlias(true);\n        mPaint.setColor(Color.BLUE);\n        PorterDuffXfermode mode = new PorterDuffXfermode(PorterDuff.Mode.SRC_IN);\n        mPaint.setXfermode(mode);\n        float x = 60;\n        float y = 10;\n        mY =    0;\n        mRectF = new RectF(x, y, x + 50, y + 50);\n        mTPaint = getPaint();\n        mX = 0;\n    }\n\n    Paint mPaint;\n    TextPaint mTPaint;\n    Bitmap shadowBitmap ;\n    Rect bounds = new Rect();\n    Canvas textCanvas;\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n//        super.onDraw(canvas);\n        if (shadowBitmap == null) {\n            shadowBitmap = Bitmap.createBitmap(getMeasuredWidth(),getMeasuredHeight(), Bitmap.Config.ARGB_8888);\n        }\n        if (textCanvas == null) {\n            textCanvas = new Canvas(shadowBitmap);\n        }\n        textCanvas.drawColor(Color.TRANSPARENT, PorterDuff.Mode.CLEAR);\n        if (mTPaint == null) {\n            mTPaint = getPaint();\n        }\n        String content  = getText().toString();\n        mTPaint.getTextBounds(content,0,content.length(),bounds);\n        textCanvas.drawText(content,0,bounds.height(),mTPaint);\n        mRectF.set(colorLeft,mY,colorRight,mY+bounds.height()+10);\n        textCanvas.drawRect(mRectF,mPaint);\n        canvas.drawBitmap(shadowBitmap,0,0,null);\n    }\n    float colorLeft;\n    float colorRight;\n    public void setXOffset(float left,float right){\n        colorLeft = left;\n        colorRight = right;\n        invalidate();\n    }\n\n}\n</code></pre>\n\n<p>my demo code:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    val TAG = \"MainActivity\"\n    lateinit var countDownTimer:CountDownTimer\n    var currentOffsetx = 0\n    var textWidth = 0\n    var isIncrease = true\n    lateinit var txt:AKChangeColorTextView\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        setSupportActionBar(toolbar)\n        (findViewById&lt;View&gt;(R.id.tv_hello) as AKChangeColorTextView).apply{\n            txt = this\n        }\n\n        countDownTimer = object:CountDownTimer(300000,200){\n            override fun onFinish() {\n            }\n\n            override fun onTick(millisUntilFinished: Long) {\n                if (textWidth == 0) {\n                    textWidth = txt.width\n                }\n                if (currentOffsetx &lt;= textWidth) {\n                    if (isIncrease) {\n                        currentOffsetx += 10\n                        currentOffsetx = min(currentOffsetx, textWidth)\n                    } else {\n                        currentOffsetx -= 10\n                        currentOffsetx = max(currentOffsetx, 0)\n                    }\n                }\n                if (currentOffsetx == textWidth) {\n                    isIncrease = false\n                }else if (currentOffsetx == 0) {\n                    isIncrease = true\n                }\n                txt.setXOffset(0f,currentOffsetx.toFloat())\n                Log.w(TAG,\"check current tick:$millisUntilFinished,offsetx:$currentOffsetx,txtWidth:$textWidth\")\n            }\n        }\n        countDownTimer.start()\n    }\n\n}\n</code></pre>\n\n<p>my xml layout :</p>\n\n<pre><code>&lt;com.example.administrator.myapplication.AKChangeColorTextView\n            android:id=\"@+id/tv_hello\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"I Found a Love For Aolphn\"\n            android:textColor=\"#000000\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintLeft_toLeftOf=\"parent\"\n            app:layout_constraintRight_toRightOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n</code></pre>\n\n<p>following is effect</p>\n\n<p><a href=\"https://i.stack.imgur.com/leTZ6.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/leTZ6.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 679, "user_id": 9441843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d646d59e80b6c0d4a802586da2dbf7c?s=128&d=identicon&r=PG&f=1", "display_name": "kataroty", "link": "https://stackoverflow.com/users/9441843/kataroty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 1, "accepted_answer_id": 53094249, "answer_count": 3, "score": 1, "last_activity_date": 1541037543, "creation_date": 1541020357, "last_edit_date": 1541025220, "question_id": 53092031, "link": "https://stackoverflow.com/questions/53092031/coloring-textview-during-a-certain-time-period-android", "title": "Coloring TextView during a certain time period Android", "body": "<p>Is there a way to color text in <code>TextView</code> or something else in <code>Android</code> during certain time period. So it would start off with fully white text and then the <code>coloring</code> would move from left to right and fill it up during a certain <code>duration</code>. <br>\nSo for example if the <code>duration</code> would be <code>10</code> then the whole line should be color in <code>10</code> seconds, but it should also move with the same pace.</p>\n\n<p>Which would look something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/k6RwN.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k6RwN.gif\" alt=\"enter image description here\"></a></p>\n\n<p>There is a way to do it on <code>IOS</code> with <code>CATextLayer</code>, but I haven't yet found a way to do it on <code>Android</code>.</p>\n"}, {"tags": ["java", "jboss", "resteasy", "keycloak"], "comments": [{"owner": {"reputation": 2903, "user_id": 688206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad50183d10172f541a3bd685c6f285fd?s=128&d=identicon&r=PG", "display_name": "Dan Hardiker", "link": "https://stackoverflow.com/users/688206/dan-hardiker"}, "edited": false, "score": 0, "creation_date": 1552436775, "post_id": 53091984, "comment_id": 97006678, "body": "See the answer here: <a href=\"https://stackoverflow.com/questions/52610464/java-keycloak-library-fails-in-jar-file\" title=\"java keycloak library fails in jar file\">stackoverflow.com/questions/52610464/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 305, "user_id": 4094353, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Q5kv9kd5n58/AAAAAAAAAAI/AAAAAAAACGk/EqY7r-ms4TE/photo.jpg?sz=128", "display_name": "Melwin Kieffer", "link": "https://stackoverflow.com/users/4094353/melwin-kieffer"}, "is_accepted": false, "score": 1, "last_activity_date": 1607431240, "last_edit_date": 1607431240, "creation_date": 1595872144, "answer_id": 63120791, "question_id": 53091984, "link": "https://stackoverflow.com/questions/53091984/keycloak-admin-client-javax-ws-rs-processingexception-resteasy003215/63120791#63120791", "title": "Keycloak admin client - javax.ws.rs.ProcessingException: RESTEASY003215", "body": "<p>I noticed that during the instantiation of a new <code>Keycloak</code> instance, resteasy is checking <a href=\"https://github.com/resteasy/Resteasy/blob/3.9/resteasy-jaxrs/src/main/java/org/jboss/resteasy/plugins/providers/RegisterBuiltin.java#L60\" rel=\"nofollow noreferrer\">here</a> for the available providers with the help of the current thread. In version <code>3.9.1.Final</code> which is currently used by the last <code>keycloak-admin-client</code> so far (version <code>11.0.0</code>).</p>\n<p>In my specific case we are using <code>keycloak-admin-client</code> in combination with <code>graphql-java</code> and <code>CompletableFuture.supplyAsync</code> for our data loaders. Which implies that in some cases, without further configuration, the current thread is not an instance of <code>Thread</code> but actually <code>ForkJoinWorkerThread</code>. Which apparently breaks the retrieval of the providers.</p>\n<p>I am still a beginner to java so I would be glad if someone could explain why the <a href=\"https://github.com/resteasy/Resteasy/blob/3.9/resteasy-jaxrs/src/main/java/org/jboss/resteasy/plugins/providers/RegisterBuiltin.java#L60\" rel=\"nofollow noreferrer\"><code>registerProviders</code> method</a> does not work with a <code>ForkJoinWorkerThread</code>.</p>\n<p>I learned on <a href=\"https://dzone.com/articles/be-aware-of-forkjoinpoolcommonpool\" rel=\"nofollow noreferrer\">DZone</a> is that JVM sizes the <code>commonPool</code> to two threads when you have more than 2 CPUs available. So I tried and noticed that my app works with 2 CPUs, but I have the same error (RESTEASY003215) with 3 CPUs.</p>\n<p>My current &quot;workaround&quot; is to to use <code>CompletableFuture.completedStage</code> when loading data using the <code>keycloak-admin-client</code>.</p>\n"}], "owner": {"reputation": 96, "user_id": 757600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6fe975fb3e5855da4ae76cd0fd86547?s=128&d=identicon&r=PG", "display_name": "Wyllys", "link": "https://stackoverflow.com/users/757600/wyllys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1036, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1607431240, "creation_date": 1541020078, "question_id": 53091984, "link": "https://stackoverflow.com/questions/53091984/keycloak-admin-client-javax-ws-rs-processingexception-resteasy003215", "title": "Keycloak admin client - javax.ws.rs.ProcessingException: RESTEASY003215", "body": "<p>Im using the Keycloak admin client (version 4.5.0.Final) and am trying to do some simple queries such as looking up a user. The client code is running in a plugin module in another java server, not standalone.  The code looks like this:</p>\n\n<pre><code>    ...\n    try {\n        Keycloak kc = Keycloak.getInstance(URL, REALM, USER, PWD, CLIENT_ID);\n\n        UserRepresentation kcuser = kc.realm(REALM).users().get(USER).toRepresentation();\n\n        trace(String.format(\"Got user: %s\",  kcuser.toString()));\n    } catch (Exception e) {\n        trace(\"Error authenticating: \" + e);\n    }\n    ...\n</code></pre>\n\n<p>It creates the kc instance successfully, but barfs when trying to look up the user. \nThis is the error:</p>\n\n<pre><code>javax.ws.rs.ProcessingException: RESTEASY003215: could not find writer for content-type application/x-www-form-urlencoded type: javax.ws.rs.core.Form$1\nat org.jboss.resteasy.core.interception.ClientWriterInterceptorContext.throwWriterNotFoundException(ClientWriterInterceptorContext.java:40)\nat org.jboss.resteasy.core.interception.AbstractWriterInterceptorContext.getWriter(AbstractWriterInterceptorContext.java:146)\nat org.jboss.resteasy.core.interception.AbstractWriterInterceptorContext.proceed(AbstractWriterInterceptorContext.java:121)\nat org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.writeRequestBody(ClientInvocation.java:394)\nat org.jboss.resteasy.client.jaxrs.engines.ApacheHttpClient4Engine.writeRequestBodyToOutputStream(ApacheHttpClient4Engine.java:666)\nat org.jboss.resteasy.client.jaxrs.engines.ApacheHttpClient4Engine.buildEntity(ApacheHttpClient4Engine.java:631)\nat org.jboss.resteasy.client.jaxrs.engines.ApacheHttpClient4Engine.loadHttpMethod(ApacheHttpClient4Engine.java:509)\nat org.jboss.resteasy.client.jaxrs.engines.ApacheHttpClient4Engine.invoke(ApacheHttpClient4Engine.java:310)\nat org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:439)\nat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invokeSync(ClientInvoker.java:148)\nat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invoke(ClientInvoker.java:112)\nat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientProxy.invoke(ClientProxy.java:76)\nat com.sun.proxy.$Proxy362.grantToken(Unknown Source)\nat org.keycloak.admin.client.token.TokenManager.grantToken(TokenManager.java:89)\nat org.keycloak.admin.client.token.TokenManager.getAccessToken(TokenManager.java:69)\nat org.keycloak.admin.client.token.TokenManager.getAccessTokenString(TokenManager.java:64)\nat org.keycloak.admin.client.resource.BearerAuthFilter.filter(BearerAuthFilter.java:52)\nat org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.filterRequest(ClientInvocation.java:587)\nat org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:436)\nat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invokeSync(ClientInvoker.java:148)\nat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invoke(ClientInvoker.java:112)\nat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientProxy.invoke(ClientProxy.java:76)\nat com.sun.proxy.$Proxy372.toRepresentation(Unknown Source)\n...\n</code></pre>\n\n<p>My pom has the latest dependencies and classpath seems ok, any ideas why this is not working?</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;keycloak.version&gt;4.5.0.Final&lt;/keycloak.version&gt;\n    &lt;resteasy.version&gt;3.6.1.Final&lt;/resteasy.version&gt;\n\n&lt;/properties&gt;\n&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\n        &lt;/dependency&gt;                   \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-jackson2-provider&lt;/artifactId&gt;\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\n        &lt;/dependency&gt;                               \n    &lt;/dependencies&gt;\n</code></pre>\n"}, {"tags": ["java", "mockito", "jakarta-mail", "mime"], "comments": [{"owner": {"reputation": 6274, "user_id": 5962766, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0cfba776466d8668945e9a0b68eadcaf?s=128&d=identicon&r=PG", "display_name": "Justinas Jakavonis", "link": "https://stackoverflow.com/users/5962766/justinas-jakavonis"}, "edited": false, "score": 1, "creation_date": 1550880529, "post_id": 53091945, "comment_id": 96448341, "body": "Check this answer: <a href=\"https://stackoverflow.com/a/54836864/5962766\">stackoverflow.com/a/54836864/5962766</a>"}], "answers": [{"comments": [{"owner": {"reputation": 94, "user_id": 4244225, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/3IQSi.jpg?s=128&g=1", "display_name": "ksliu25", "link": "https://stackoverflow.com/users/4244225/ksliu25"}, "edited": false, "score": 0, "creation_date": 1541081107, "post_id": 53092567, "comment_id": 93101215, "body": "This link worked beautifully, thank you. I guess using a dedicated test tool was the way to go after all, and rather than unit test it definitely <i>did</i> need more pieces."}], "tags": [], "owner": {"reputation": 1761, "user_id": 1303158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc7eb6c9daf0c8b62d509d60d9b6dba?s=128&d=identicon&r=PG", "display_name": "Bernie", "link": "https://stackoverflow.com/users/1303158/bernie"}, "is_accepted": true, "score": 4, "last_activity_date": 1541023335, "creation_date": 1541023335, "answer_id": 53092567, "question_id": 53091945, "link": "https://stackoverflow.com/questions/53091945/proper-way-to-mock-mimemessage/53092567#53092567", "title": "Proper way to mock MIMEMessage?", "body": "<p>It's generally easier to do this kind of testing <a href=\"https://memorynotfound.com/spring-mail-integration-testing-junit-greenmail-example/\" rel=\"nofollow noreferrer\">using an integration test</a>. Emails are often built using a template library such as freemarker, so an integration test is valuable in being able to verify that your template is correct as well.</p>\n\n<p>You could do unit testing by using <a href=\"https://github.com/powermock/powermock\" rel=\"nofollow noreferrer\">PowerMock</a> to create a mock <code>MimeMessageHelper</code>, but PowerMock can sometimes be slow at keeping up with changes to other testing libraries, and such tests often end up brittle and of little value. For example, you could verify that <code>setSubject()</code> was called on <code>mimeMessageHelper</code>, but does that produce the outcome that you really want to test (that the subject is set on <code>message</code>)?</p>\n"}], "owner": {"reputation": 94, "user_id": 4244225, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/3IQSi.jpg?s=128&g=1", "display_name": "ksliu25", "link": "https://stackoverflow.com/users/4244225/ksliu25"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4415, "favorite_count": 0, "accepted_answer_id": 53092567, "answer_count": 1, "score": 2, "last_activity_date": 1541023335, "creation_date": 1541019895, "question_id": 53091945, "link": "https://stackoverflow.com/questions/53091945/proper-way-to-mock-mimemessage", "title": "Proper way to mock MIMEMessage?", "body": "<p>I want to actually verify the fields set on the message, like the body, subject, from, etc\u2026  I\u2019ve tried doing an argument captor as well which didn\u2019t work and when I debug the code, the message is always showing null fields when it gets the javaMailSender.send(message) line.</p>\n\n<p>Are there best practices in mocking MIMEMessage?</p>\n\n<pre><code>//EmailService.java\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.mail.javamail.MimeMessageHelper;\n\nimport javax.mail.MessagingException;\nimport javax.mail.internet.MimeMessage;\n\n@Slf4j\npublic class EmailService {\n    private JavaMailSender javaMailSender;\n\n    @Autowired\n    public EmailService(JavaMailSender javaMailSender) {\n        this.javaMailSender = javaMailSender;\n    }\n\n\n    public void sendEmail() {\n        MimeMessage message = javaMailSender.createMimeMessage();\n        String body = \"&lt;html&gt;\\n\" +\n            \"&lt;p&gt; This the body &lt;/p&gt;\\n\" +\n            \"&lt;br&gt;\\n\";\n        try {\n            MimeMessageHelper mimeMessageHelper = new MimeMessageHelper(message, true);\n            mimeMessageHelper.setSubject(\"subject\");\n            mimeMessageHelper.setTo(\"stack@overflow.com\");\n            mimeMessageHelper.setFrom(\"overflow@stack.com\");\n            mimeMessageHelper.setText(body, true);\n\n            javaMailSender.send(message);\n\n        } catch (MessagingException e) {\n            log.error(\"error\");\n        }`enter code here`\n    }\n}\n</code></pre>\n\n<p>Below is the test</p>\n\n<pre><code>//EmailServiceTest.java\n\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.mockito.ArgumentCaptor;\nimport org.mockito.Mock;\nimport org.springframework.mail.javamail.JavaMailSender;\n\nimport javax.mail.MessagingException;\nimport javax.mail.internet.MimeMessage;\nimport java.io.IOException;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.mockito.Mockito.*;\nimport static org.mockito.MockitoAnnotations.initMocks;\n\n\npublic class EmailServiceTest {\n    private EmailService emailService;\n\n    @Mock\n    private JavaMailSender javaMailSender;\n\n    @Mock\n    private MimeMessage message;\n\n    @Before\n    public void setUp() throws IOException {\n        initMocks(this);\n\n        emailService = new EmailService(javaMailSender);\n    }\n\n    @Test\n    public void sendEmail_sendsEmailWithCorrectContent() throws MessagingException {\n        ArgumentCaptor&lt;MimeMessage&gt; mimeMessageArgumentCaptor = ArgumentCaptor.forClass(MimeMessage.class);\n        when(javaMailSender.createMimeMessage()).thenReturn(message);\n\n        doNothing().when(javaMailSender).send(message);\n\n        emailService.sendEmail();\n\n        verify(javaMailSender, times(1)).send((mimeMessageArgumentCaptor.capture()));\n        assertEquals(\"subject\", mimeMessageArgumentCaptor.getValue().getSubject());\n    }\n\n}\n</code></pre>\n"}, {"tags": ["java", "list", "spring-boot", "jpa"], "answers": [{"tags": [], "owner": {"reputation": 4146, "user_id": 10426557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c481757d70d62f1bb4ba00a3e2e0ff03?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan JOhx", "link": "https://stackoverflow.com/users/10426557/jonathan-johx"}, "is_accepted": false, "score": 0, "last_activity_date": 1541043514, "last_edit_date": 1541043514, "creation_date": 1541043183, "answer_id": 53094874, "question_id": 53091888, "link": "https://stackoverflow.com/questions/53091888/problems-with-list-estructure-jpa/53094874#53094874", "title": "Problems with List estructure JPA", "body": "<p>This behavior is reproduced because when you put fetch type to Lazy Hibernate won't take it strongly persisted. So you need to change to Eager which will be loaded all of the relationships related to a particular object. </p>\n\n<pre><code>    @ManyToOne(fetch = FetchType.EAGER, optional = false)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10586728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645041d0891cb2d4808ca5862084b674?s=128&d=identicon&r=PG&f=1", "display_name": "FelixSotelo", "link": "https://stackoverflow.com/users/10586728/felixsotelo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1541043514, "creation_date": 1541019595, "last_edit_date": 1541021505, "question_id": 53091888, "link": "https://stackoverflow.com/questions/53091888/problems-with-list-estructure-jpa", "title": "Problems with List estructure JPA", "body": "<p>I'm working in a project using spring Boot with JPA and im getting an issue with the findAll method, especially with the structure.</p>\n\n<pre><code>[\n  {\n    \"idProducto\": 5,\n    \"nombreProducto\": \"Perfil madera 2\",\n    \"codProducto\": 556,\n    \"proveedorProducto\": {\n      \"idProveedor\": 1,\n      \"rubro\": \"Maderas y tallados\",\n      \"codProveedor\": 2556\n    },\n    \"tipoProducto\": {\n      \"idTipoPro\": 2,\n      \"descProducto\": \"Maderas\"\n    },\n    \"inventarioProducto\": {\n      \"idInventario\": 5,\n      \"stockInicial\": 990,\n      \"stockCritico\": 200,\n      \"fechaVencimiento\": \"2100-04-23\",\n      \"precioVentaInv\": 20000,\n      \"precioCompraInv\": 10000,\n      \"fechaIngreso\": \"2018-04-23\",\n      \"producto\": 5\n    }\n  },\n  {\n    \"idProducto\": 6,\n    \"nombreProducto\": \"Perfil madera 4inch\",\n    \"codProducto\": 555,\n    \"proveedorProducto\": 1,\n    \"tipoProducto\": 2,\n    \"inventarioProducto\": {\n      \"idInventario\": 6,\n      \"stockInicial\": 9997,\n      \"stockCritico\": 200,\n      \"fechaVencimiento\": \"2100-04-23\",\n      \"precioVentaInv\": 25000,\n      \"precioCompraInv\": 12000,\n      \"fechaIngreso\": \"2018-04-23\",\n      \"producto\": 6\n    }\n  }\n]\n</code></pre>\n\n<p>as you can see the first product have the right structure, but in the second the problem is with the \"tipoProducto\" Object and \"productoProveedor\" Object, of which I only get its id's, and i don't know why im getting this results.</p>\n\n<p>this is my class structure:</p>\n\n<pre><code>public class Producto implements Serializable {\n  @Id\n  @NotNull\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = \"pro_id_producto\")\n  private int idProducto;\n  @NotNull\n  @Size(max = 45, message = \"M\u00e1ximo de 45\")\n  @Column(name = \"pro_nombre_producto\")\n  private String nombreProducto;\n  @NotNull\n  @Column(name = \"pro_codigo_producto\")\n  private int codProducto;\n  @ManyToOne(fetch = FetchType.LAZY,optional = false)\n  @JoinColumn(name = \"pro_us_id_proveedor\", referencedColumnName = \"us_id_persona\")\n  private Proveedor proveedorProducto;\n\n  @ManyToOne(fetch = FetchType.LAZY,optional = false)\n  @JoinColumn(name = \"pro_tp_id_tipo_producto\", referencedColumnName = \"pro_id_tipo_producto\")\n  private TipoProducto tipoProducto;\n\n  @OneToOne(mappedBy = \"producto\",\n      cascade = CascadeType.ALL,\n      fetch = FetchType.LAZY, orphanRemoval = true)\n  private Inventario inventarioProducto;\n// getters and setters omited\n</code></pre>\n\n<p>this is my repo:</p>\n\n<pre><code>@Repository\npublic interface   ProductoRepository extends JpaRepository&lt;Producto,Integer&gt; {\n  Producto getByCodProducto(int codPro);\n  Boolean existsByCodProducto(int codPro);\n\n}\n</code></pre>\n\n<p>and this is my service layer:</p>\n\n<pre><code>@Service\npublic class ProductoService {\n  @Autowired\n  private ProductoRepository productoRepository;\n\n  public List&lt;Producto&gt; getAllProductos(){\n   return productoRepository.findAll();\n  }\n\n  public Producto getProducto(int idPro)throws EntityNotFoundException{\n    Producto producto = productoRepository.getOne(idPro);\n    if (producto == null){\n      throw  new EntityNotFoundException(Producto.class,\"idProducto\", Integer.toString(idPro));\n    }\n    return producto;\n  }\n  public void saveProducto(Producto producto){\n    productoRepository.save(producto);\n  }\n  public Producto getProductoByCod(int codPro) throws  EntityNotFoundException{\n    Producto producto = productoRepository.getByCodProducto(codPro);\n    if (producto == null){\n      throw new EntityNotFoundException(Producto.class,\"codProducto\", Integer.toString(codPro));\n    }\n    return producto;\n  }\n  public boolean deleteProducto(int id)throws EntityNotFoundException{\n    Producto producto = productoRepository.getOne(id);\n    if (producto == null){\n      throw  new EntityNotFoundException(Producto.class,\"idProducto\",Integer.toString(id));\n    }else {\n      productoRepository.deleteById(id);\n      return true;\n    }\n  }\n  public boolean existeProducto(int cod){\n    return productoRepository.existsByCodProducto(cod);\n  }\n</code></pre>\n\n<p>i don't if it's problem with the mapping or something else. any help would be great. because i've being looking everywhere for an answer.\nP.S: i'm a newbie in this world.</p>\n"}, {"tags": ["java", "spring", "hibernate", "hibernate-criteria"], "comments": [{"owner": {"reputation": 396, "user_id": 7177798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47fa2e76a2c2c63077c26a900a6c191a?s=128&d=identicon&r=PG&f=1", "display_name": "fairtrax", "link": "https://stackoverflow.com/users/7177798/fairtrax"}, "edited": false, "score": 2, "creation_date": 1541022911, "post_id": 53091875, "comment_id": 93081717, "body": "maybe .setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY) on your criteria would help?"}, {"owner": {"reputation": 6537, "user_id": 1005607, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/784311347e657bc34c93a6b7cb7d3faf?s=128&d=identicon&r=PG", "display_name": "gene b.", "link": "https://stackoverflow.com/users/1005607/gene-b"}, "reply_to_user": {"reputation": 396, "user_id": 7177798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47fa2e76a2c2c63077c26a900a6c191a?s=128&d=identicon&r=PG&f=1", "display_name": "fairtrax", "link": "https://stackoverflow.com/users/7177798/fairtrax"}, "edited": false, "score": 0, "creation_date": 1541094094, "post_id": 53091875, "comment_id": 93108416, "body": "that worked thanks"}], "owner": {"reputation": 6537, "user_id": 1005607, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/784311347e657bc34c93a6b7cb7d3faf?s=128&d=identicon&r=PG", "display_name": "gene b.", "link": "https://stackoverflow.com/users/1005607/gene-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1546975515, "creation_date": 1541019523, "last_edit_date": 1546975515, "question_id": 53091875, "link": "https://stackoverflow.com/questions/53091875/distinct-results-in-hibernate-criteria-api-inner-join", "title": "Distinct Results in Hibernate Criteria API Inner Join", "body": "<p>I have a <code>Request</code> object which can have multiple <code>Authors</code>. The mapping is defined correctly.</p>\n\n<p>In the Criteria API I define a restriction that does a Join on AUTHORS_T.</p>\n\n<pre><code>Criteria criteriaQuery = session.createCriteria(Request.class);\n\n// Create alias for Authors table\ncriteriaQuery.createAlias(\"Authors\", \"auth\", JoinType.INNER_JOIN);\n\n// Define restriction: LIKE on auth.firstName / auth.LastName\nString authorNameForQuery = \"%\" + searchCriteria.getAuthorName().trim() + \"%\";\nDisjunction firstOrLast = Restrictions.disjunction();\nfirstOrLast.add(Restrictions.ilike(\"auth.lastname\", authorNameForQuery) )\n           .add(Restrictions.ilike(\"auth.firstname\", authorNameForQuery) )\ncriteriaQuery.add(firstOrLast);\n</code></pre>\n\n<p>Resulting SQL:</p>\n\n<pre><code>select ... // one-by-one\n   from requests_t _this \n   inner join authors_t auth_ on this_.ID = auth_.REQUEST_ID\n   where ...\n</code></pre>\n\n<p>Everything works but I get multiple identical Requests back for each Author. </p>\n\n<p>E.g. if <code>RequestID=111</code> has 4 <code>author</code>s, I get 4 results back, but I should only get 1. This is the result of the INNER JOIN.</p>\n\n<p>Is there a way in the Criteria API for me to avoid this and get the Distinct Request objects?</p>\n"}, {"tags": ["java", "arrays", "sorting"], "comments": [{"owner": {"reputation": 33492, "user_id": 7212686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ey8ll.png?s=128&g=1", "display_name": "azro", "link": "https://stackoverflow.com/users/7212686/azro"}, "reply_to_user": {"reputation": 1984, "user_id": 4337151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dD0ri.jpg?s=128&g=1", "display_name": "dehasi", "link": "https://stackoverflow.com/users/4337151/dehasi"}, "edited": false, "score": 1, "creation_date": 1541019651, "post_id": 53091851, "comment_id": 93080568, "body": "@dehasi please delete your comment, This is not how you print an array"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9206222"}, "edited": false, "score": 0, "creation_date": 1541019866, "post_id": 53091889, "comment_id": 93080642, "body": "Why does this print repeating numbers? For ex.: 1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3........"}, {"owner": {"reputation": 33492, "user_id": 7212686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ey8ll.png?s=128&g=1", "display_name": "azro", "link": "https://stackoverflow.com/users/7212686/azro"}, "edited": false, "score": 2, "creation_date": 1541019945, "post_id": 53091889, "comment_id": 93080672, "body": "@tidematic because this is the content of you array, you input 10k element between 1 and 100, this is normal to have a lot of duplicate"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9206222"}, "edited": false, "score": 0, "creation_date": 1541020253, "post_id": 53091889, "comment_id": 93080774, "body": "If I were to do it in reverse order, how would I use Collections.reverseOrder()?"}], "tags": [], "owner": {"reputation": 33492, "user_id": 7212686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ey8ll.png?s=128&g=1", "display_name": "azro", "link": "https://stackoverflow.com/users/7212686/azro"}, "is_accepted": true, "score": 1, "last_activity_date": 1541020553, "last_edit_date": 1541020553, "creation_date": 1541019596, "answer_id": 53091889, "question_id": 53091851, "link": "https://stackoverflow.com/questions/53091851/how-to-output-using-arrays-sort/53091889#53091889", "title": "How to output using Arrays.sort", "body": "<p><a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html#sort(int%5B%5D)\" rel=\"nofollow noreferrer\"><code>Arrays.sort()</code></a> does not have anything related with output, it only <code>sorts</code> an array</p>\n\n<p>Let your loop fill the array, and after that <code>sort</code> and <code>print</code> it with <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html#toString(int%5B%5D)\" rel=\"nofollow noreferrer\"><code>Arrays.toString()</code></a></p>\n\n<pre><code>int arr[] = new int[10000];\nRandom rand = new Random();\n\nfor (int i=0; i&lt;10000; i++){\n    arr[i] = rand.nextInt( 100 ) + 1;\n}\nArrays.sort(arr);\nSystem.out.println(Arrays.toString(arr));\n</code></pre>\n\n<hr>\n\n<p>Reverse order sort : </p>\n\n<ol>\n<li><p>You could use <code>Arrays.sort(arr, Comparator.reverseOrder());</code>, but this requires an array of objects, it would requires a <code>Integer arr[] = new Integer[10000];</code> rather than <code>int</code></p></li>\n<li><p>Use a <code>List&lt;Integer&gt;</code> instead of en array, it would be easier to manipulate</p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nRandom rand = new Random();\nfor (int i = 0; i &lt; 10000; i++) {\n    list.add(rand.nextInt(100) + 1);\n}\nlist.sort(Comparator.reverseOrder());\nSystem.out.println(list);             //[100, 100, 100, 100, 100, 100, 100, 100 ... \n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 389, "user_id": 6444809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CPYif.jpg?s=128&g=1", "display_name": "Mohammed Fathi", "link": "https://stackoverflow.com/users/6444809/mohammed-fathi"}, "is_accepted": false, "score": 1, "last_activity_date": 1541019880, "creation_date": 1541019880, "answer_id": 53091943, "question_id": 53091851, "link": "https://stackoverflow.com/questions/53091851/how-to-output-using-arrays-sort/53091943#53091943", "title": "How to output using Arrays.sort", "body": "<p>you need to put <code>Arrays.sort(arr);</code> outside your for loop and create another loop for printing the array after it had been sorted.\nyour code should be as follows :</p>\n\n<pre><code>import java.util.*;\nimport java.util.Random;\n\npublic class QuestionFour \n{\n    public static void main(String[] args) \n    {\n        int arr[] = new int[10000];\n        Random rand = new Random();\n\n        for (int i=0; i&lt;10000; i++)\n        {\n            arr[i] = rand.nextInt( 100 ) + 1;\n\n        }\n\n        Arrays.sort(arr);\n\n        for (int i = 0; i &lt; arr.length; i++) {\n\n            System.out.println(arr[i]);\n        }\n    }\n\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9206222"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 53091889, "answer_count": 2, "score": 0, "last_activity_date": 1541020553, "creation_date": 1541019435, "question_id": 53091851, "link": "https://stackoverflow.com/questions/53091851/how-to-output-using-arrays-sort", "title": "How to output using Arrays.sort", "body": "<p>I'm trying to print 10,000 random numbers in ascending and descending order using Arrays.sort then output it. If I try it as this, it does not give the right output. </p>\n\n<pre><code>import java.util.*;\nimport java.util.Random;\n\npublic class QuestionFour \n{\n    public static void main(String[] args) \n    {\n        int arr[] = new int[10000];\n        Random rand = new Random();\n\n        for (int i=0; i&lt;10000; i++)\n        {\n            arr[i] = rand.nextInt( 100 ) + 1;\n            Arrays.sort(arr);\n            System.out.println(arr);\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["java", "mysql"], "comments": [{"owner": {"reputation": 311, "user_id": 10166162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZjKRk.jpg?s=128&g=1", "display_name": "rileyjsumner", "link": "https://stackoverflow.com/users/10166162/rileyjsumner"}, "edited": false, "score": 0, "creation_date": 1541018964, "post_id": 53091604, "comment_id": 93080281, "body": "From the note it looks like you can&#39;t create 3 different tables, otherwise could you not just have unused criteria be null/-1?"}, {"owner": {"reputation": 356, "user_id": 2280645, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3df36ae615c403d3ae345b891531dd3f?s=128&d=identicon&r=PG&f=1", "display_name": "SHASHA", "link": "https://stackoverflow.com/users/2280645/shasha"}, "reply_to_user": {"reputation": 311, "user_id": 10166162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZjKRk.jpg?s=128&g=1", "display_name": "rileyjsumner", "link": "https://stackoverflow.com/users/10166162/rileyjsumner"}, "edited": false, "score": 0, "creation_date": 1541019064, "post_id": 53091604, "comment_id": 93080330, "body": "There are no constraints for a solution except that, Im using Java and Mysql. I can create more tables if needed and I can allow the user to add/delete columns."}, {"owner": {"reputation": 32469, "user_id": 1529673, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/O6MQS.jpg?s=128&g=1", "display_name": "Strawberry", "link": "https://stackoverflow.com/users/1529673/strawberry"}, "edited": false, "score": 1, "creation_date": 1541025625, "post_id": 53091604, "comment_id": 93082531, "body": "This screaming for an EAV model. While the model is hard to maintain, sometimes it is the right answer."}, {"owner": {"reputation": 356, "user_id": 2280645, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3df36ae615c403d3ae345b891531dd3f?s=128&d=identicon&r=PG&f=1", "display_name": "SHASHA", "link": "https://stackoverflow.com/users/2280645/shasha"}, "reply_to_user": {"reputation": 32469, "user_id": 1529673, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/O6MQS.jpg?s=128&g=1", "display_name": "Strawberry", "link": "https://stackoverflow.com/users/1529673/strawberry"}, "edited": false, "score": 0, "creation_date": 1541040228, "post_id": 53091604, "comment_id": 93085671, "body": "@Strawberry Please post this as an answer so I can mark as correct and give you points. That solved my problem. I didnt know the EAV model. Thanks a lot :)"}, {"owner": {"reputation": 32469, "user_id": 1529673, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/O6MQS.jpg?s=128&g=1", "display_name": "Strawberry", "link": "https://stackoverflow.com/users/1529673/strawberry"}, "edited": false, "score": 1, "creation_date": 1541059624, "post_id": 53091604, "comment_id": 93090584, "body": "I really don&#39;t need the points. Feel free to answer your own question, and accept that, or just delete."}, {"owner": {"reputation": 356, "user_id": 2280645, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3df36ae615c403d3ae345b891531dd3f?s=128&d=identicon&r=PG&f=1", "display_name": "SHASHA", "link": "https://stackoverflow.com/users/2280645/shasha"}, "reply_to_user": {"reputation": 32469, "user_id": 1529673, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/O6MQS.jpg?s=128&g=1", "display_name": "Strawberry", "link": "https://stackoverflow.com/users/1529673/strawberry"}, "edited": false, "score": 0, "creation_date": 1541083018, "post_id": 53091604, "comment_id": 93102234, "body": "@Strawberry Didnt mean to upset you. I really appreciate your help. Thanks a lot."}, {"owner": {"reputation": 32469, "user_id": 1529673, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/O6MQS.jpg?s=128&g=1", "display_name": "Strawberry", "link": "https://stackoverflow.com/users/1529673/strawberry"}, "edited": false, "score": 1, "creation_date": 1541083507, "post_id": 53091604, "comment_id": 93102500, "body": "I&#39;m not remotely upset. I just don&#39;t feel compelled to answer further."}], "answers": [{"comments": [{"owner": {"reputation": 356, "user_id": 2280645, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3df36ae615c403d3ae345b891531dd3f?s=128&d=identicon&r=PG&f=1", "display_name": "SHASHA", "link": "https://stackoverflow.com/users/2280645/shasha"}, "edited": false, "score": 0, "creation_date": 1541019308, "post_id": 53091803, "comment_id": 93080433, "body": "But How Do I create an Evaluation afterwards? Since in your solution every criteria is a row... Would you exemplify, please?"}, {"owner": {"reputation": 311, "user_id": 10166162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZjKRk.jpg?s=128&g=1", "display_name": "rileyjsumner", "link": "https://stackoverflow.com/users/10166162/rileyjsumner"}, "reply_to_user": {"reputation": 356, "user_id": 2280645, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3df36ae615c403d3ae345b891531dd3f?s=128&d=identicon&r=PG&f=1", "display_name": "SHASHA", "link": "https://stackoverflow.com/users/2280645/shasha"}, "edited": false, "score": 0, "creation_date": 1541019562, "post_id": 53091803, "comment_id": 93080528, "body": "See edits, not entirely sure how your application will work so I can&#39;t give you specifics but there is a generic explanation"}, {"owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "reply_to_user": {"reputation": 356, "user_id": 2280645, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3df36ae615c403d3ae345b891531dd3f?s=128&d=identicon&r=PG&f=1", "display_name": "SHASHA", "link": "https://stackoverflow.com/users/2280645/shasha"}, "edited": false, "score": 0, "creation_date": 1541020195, "post_id": 53091803, "comment_id": 93080758, "body": "@KenobiShan Depends on: How do you evaluate criterias? In a Query, or through some programming language? As your Problem (1) describes: If there are different counts of criterias possible, columns are a bad idea. You need to use rows in order to achieve a <code>0...n</code> relationship between Material and criteria."}, {"owner": {"reputation": 356, "user_id": 2280645, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3df36ae615c403d3ae345b891531dd3f?s=128&d=identicon&r=PG&f=1", "display_name": "SHASHA", "link": "https://stackoverflow.com/users/2280645/shasha"}, "edited": false, "score": 0, "creation_date": 1541020936, "post_id": 53091803, "comment_id": 93081039, "body": "The problem is: in my conception every criteria would be a column of a table of evaluations. I dont understand how Am I supposed to connect a criteria from a row to a column..."}, {"owner": {"reputation": 356, "user_id": 2280645, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3df36ae615c403d3ae345b891531dd3f?s=128&d=identicon&r=PG&f=1", "display_name": "SHASHA", "link": "https://stackoverflow.com/users/2280645/shasha"}, "edited": false, "score": 0, "creation_date": 1541023979, "post_id": 53091803, "comment_id": 93082027, "body": "I made clarifications on the question. Im sorry, I should have explicited that I must save the evaluations with the criteria."}], "tags": [], "owner": {"reputation": 311, "user_id": 10166162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZjKRk.jpg?s=128&g=1", "display_name": "rileyjsumner", "link": "https://stackoverflow.com/users/10166162/rileyjsumner"}, "is_accepted": false, "score": 0, "last_activity_date": 1541019531, "last_edit_date": 1541019531, "creation_date": 1541019201, "answer_id": 53091803, "question_id": 53091604, "link": "https://stackoverflow.com/questions/53091604/situation-where-users-can-add-remove-columns/53091803#53091803", "title": "Situation where Users can add/remove Columns", "body": "<p>Based on your comment then, you should just create a table for criteria, where the user adds a row which specifies what the evaluation criterion is. This will be much safer to add and delete to as you are not altering the actual table properties, but instead manipulating entries</p>\n\n<p><strong>EDIT</strong>: </p>\n\n<p>To use this simply use an <code>INSERT INTO</code> statement, where you insert the values into the columns. </p>\n"}, {"comments": [{"owner": {"reputation": 356, "user_id": 2280645, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3df36ae615c403d3ae345b891531dd3f?s=128&d=identicon&r=PG&f=1", "display_name": "SHASHA", "link": "https://stackoverflow.com/users/2280645/shasha"}, "edited": false, "score": 0, "creation_date": 1541021111, "post_id": 53092159, "comment_id": 93081097, "body": "I see. In my case, the user will use ALL criterias. How do I store the evaluation on the database? I mean. Do I use BLOB or..."}, {"owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "reply_to_user": {"reputation": 356, "user_id": 2280645, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3df36ae615c403d3ae345b891531dd3f?s=128&d=identicon&r=PG&f=1", "display_name": "SHASHA", "link": "https://stackoverflow.com/users/2280645/shasha"}, "edited": false, "score": 0, "creation_date": 1541021244, "post_id": 53092159, "comment_id": 93081141, "body": "@KenobiShan I don&#39;t understand what you mean by <code>store the evaluation</code>? Criterias are stored in the database - evaluation is performed during runtime."}, {"owner": {"reputation": 356, "user_id": 2280645, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3df36ae615c403d3ae345b891531dd3f?s=128&d=identicon&r=PG&f=1", "display_name": "SHASHA", "link": "https://stackoverflow.com/users/2280645/shasha"}, "edited": false, "score": 0, "creation_date": 1541023488, "post_id": 53092159, "comment_id": 93081901, "body": "In my case, I must save the evaluations."}, {"owner": {"reputation": 356, "user_id": 2280645, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3df36ae615c403d3ae345b891531dd3f?s=128&d=identicon&r=PG&f=1", "display_name": "SHASHA", "link": "https://stackoverflow.com/users/2280645/shasha"}, "edited": false, "score": 0, "creation_date": 1541023498, "post_id": 53092159, "comment_id": 93081908, "body": "1 Evaluation has 1..n criterias that must be saved."}, {"owner": {"reputation": 356, "user_id": 2280645, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3df36ae615c403d3ae345b891531dd3f?s=128&d=identicon&r=PG&f=1", "display_name": "SHASHA", "link": "https://stackoverflow.com/users/2280645/shasha"}, "edited": false, "score": 0, "creation_date": 1541024010, "post_id": 53092159, "comment_id": 93082035, "body": "I made clarifications on the question. Im sorry, I should have explicited that I must save the evaluations with the criteria."}], "tags": [], "owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "is_accepted": false, "score": 0, "last_activity_date": 1541021164, "last_edit_date": 1541021164, "creation_date": 1541021029, "answer_id": 53092159, "question_id": 53091604, "link": "https://stackoverflow.com/questions/53091604/situation-where-users-can-add-remove-columns/53092159#53092159", "title": "Situation where Users can add/remove Columns", "body": "<blockquote>\n  <p>But How Do I create an Evaluation afterwards? Since in your solution every criteria is a row... Would you exemplify, please? </p>\n</blockquote>\n\n<p>We have something equal in one of our systems, where the user can define 0 upto infinite criterias for something. </p>\n\n<p>Thus, you need to use rows. </p>\n\n<p>In Detail, A user can attach one or more <code>filters</code> (they are <code>or</code>'d) where each filter can contain one or more <code>criterias</code> (they are <code>and</code>'d)</p>\n\n<p>Evaluation from the code side looks like this. (This is no copy/paste code, but might give you an idea). <code>environmentVariables</code> is basically a map containing the objects properties on which we are trying to apply the filter: </p>\n\n<pre><code>public static boolean evaluate(Filter filter, Map&lt;String, Object&gt; environmentVariables) {\n    for (Criteria criteria : filter.getCriterias()) {\n        if (!evaluateCriteria(criteria, environmentVariables)) {\n            // one missmatch -&gt; false.\n            return false;\n        }\n    }\n\n    // all criterias matched, that filter is true.\n    return true;\n}\n\npublic static boolean evaluateCriteria(Criteria criteria, Map&lt;String, Object&gt; environmentVariables) {\n    if (environmentVariables != null) {\n        if (environmentVariables.containsKey(criteria.getKey())) {\n            return evaluateCriteria(criteria, environmentVariables.get(criteria.getKey()));\n        }\n    }\n    return false;\n}\n\nprivate static boolean evaluateCriteria(Criteria criteria, Object value) {\n    switch (criteria.getOperator()) {\n        case LIKE:\n            if (value != null) {\n                return value.toString().toLowerCase().contains(criteria.getValue().toString().toLowerCase());\n            } else {\n                return false;\n            }\n        //other OperatorTypes\n        case STARTSWITH: // code...\n        case ENDSWITH: // code...\n        case EQUALS: // code...\n        case GREATER_THAN: // code...\n        case GREATER_THAN_EQUAL: // code...\n        case LESSER_THAN: // code...\n        case LESSER_THAN_EQUAL: // code...\n        default:\n          throw new UnsupportedOperationException(criteria.getOperator() + \" is not defined\");\n\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9184394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7001a8d94cfbd877f00a57888bc22acb?s=128&d=identicon&r=PG&f=1", "display_name": "k.Stavrianos", "link": "https://stackoverflow.com/users/9184394/k-stavrianos"}, "is_accepted": false, "score": -2, "last_activity_date": 1541021185, "creation_date": 1541021185, "answer_id": 53092185, "question_id": 53091604, "link": "https://stackoverflow.com/questions/53091604/situation-where-users-can-add-remove-columns/53092185#53092185", "title": "Situation where Users can add/remove Columns", "body": "<p>add the extra table criteria with two foreign features as primary key..two solutions exist the last one as i said and this you have draw</p>\n"}], "owner": {"reputation": 356, "user_id": 2280645, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3df36ae615c403d3ae345b891531dd3f?s=128&d=identicon&r=PG&f=1", "display_name": "SHASHA", "link": "https://stackoverflow.com/users/2280645/shasha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1541024369, "creation_date": 1541018305, "last_edit_date": 1541024369, "question_id": 53091604, "link": "https://stackoverflow.com/questions/53091604/situation-where-users-can-add-remove-columns", "title": "Situation where Users can add/remove Columns", "body": "<h2>Situation Overview</h2>\n\n<p>The current question is about a situation where the software user, the client, wants to make an evaluation of a material. This evaluation can be done with 1 or more criterias that the user can add and remove from a supervisor area of the software. Notice that the evaluation must be saved in the database for future consultation.</p>\n\n<p>Extra information: The software is coded in Java.</p>\n\n<h2>Objective</h2>\n\n<p>Suppose Three tables. Table <code>Material</code>, table <code>Evaluation</code> and Table <code>Criteria</code>.\nNotice that the PK <code>idMaterial</code> is a FK in <code>Evaluation</code>.</p>\n\n<p>The image below illustrates the tables:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2jvh6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2jvh6.png\" alt=\"enter image description here\"></a></p>\n\n<p>These three tables are a simplification of the real tables. The Criteria table name the criteria variable and set its weight for the final score calculted on the evaluation.</p>\n\n<p>In this case, the objective is that the user be able to add and delete criteria.\nWith the criteria defined, he can then create evaluations for the materials.</p>\n\n<p><strong>And use these criterias to save an evaluation on the database.</strong></p>\n\n<p>In other words, I need to store the score given to each user-defined criteria. </p>\n\n<h2>Problem</h2>\n\n<p>From a technical point of view, we notice that:</p>\n\n<ol>\n<li>The software would have to allow the user to delete and add columns. That is a bit tricky since if he deletes 2 columns and adds 1, the code would have to find which column he deleted and delete them only and then just add a single column. That example is tricky in the sense that, if we could just delete all columns and just add the ones he maintained/added would be easier in code.  </li>\n<li>Messing with table columns seems dangerous for the integrity of the table. Especially under unknown connection(?) circumstances.</li>\n</ol>\n\n<p>I'm looking for a better and safer solution.</p>\n\n<p>Any advice is greatly appreciated. I hope I made the question as clear as possible. </p>\n\n<h1>Constraints</h1>\n\n<p>There are no constraints for a solution except that, I'm using Java and MySQL.\nI can create more tables if needed and I can allow the user to add/delete columns.</p>\n"}, {"tags": ["java", "optimization", "configuration", "proguard"], "answers": [{"tags": [], "owner": {"reputation": 6037, "user_id": 294317, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7a4b3c7869cfffcbef13398be79d84cf?s=128&d=identicon&r=PG", "display_name": "Nathan", "link": "https://stackoverflow.com/users/294317/nathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1541018385, "creation_date": 1541018385, "answer_id": 53091625, "question_id": 53091603, "link": "https://stackoverflow.com/questions/53091603/enable-missing-proguard-optimizations/53091625#53091625", "title": "Enable missing Proguard optimizations", "body": "<p><a href=\"https://sourceforge.net/p/proguard/code/ci/default/tree/core/src/proguard/optimize/Optimizer.java\" rel=\"nofollow noreferrer\">Optimizer.java</a> has all of the flags for the optimizations.  The ones missing from the web page are:</p>\n\n<ul>\n<li>class/merging/wrapper</li>\n<li>code/simplification/math</li>\n<li>code/simplification/object</li>\n<li>method/marking/synchronized</li>\n</ul>\n"}], "owner": {"reputation": 6037, "user_id": 294317, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7a4b3c7869cfffcbef13398be79d84cf?s=128&d=identicon&r=PG", "display_name": "Nathan", "link": "https://stackoverflow.com/users/294317/nathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541018385, "creation_date": 1541018296, "question_id": 53091603, "link": "https://stackoverflow.com/questions/53091603/enable-missing-proguard-optimizations", "title": "Enable missing Proguard optimizations", "body": "<p>The <a href=\"https://www.guardsquare.com/en/products/proguard/manual/usage/optimizations\" rel=\"nofollow noreferrer\">optimization page</a> in the Proguard manual lists most of the optimizations.  I specified every optimization listed and the following four optimizations are not enabled.</p>\n\n<pre><code>Number of merged wrapper classes:              0   (disabled)\nNumber of desynchronized methods:              0   (disabled)\nNumber of object peephole optimizations:       0   (disabled)\nNumber of math peephole optimizations:         0   (disabled)\n</code></pre>\n\n<p>How do I explicitly enable these optimizations?</p>\n"}, {"tags": ["java", "data-structures", "tree"], "comments": [{"owner": {"reputation": 859, "user_id": 9448540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TEXpF.png?s=128&g=1", "display_name": "Sophie Roseinsta", "link": "https://stackoverflow.com/users/9448540/sophie-roseinsta"}, "edited": false, "score": 0, "creation_date": 1541018146, "post_id": 53091537, "comment_id": 93079989, "body": "So what is your question?"}, {"owner": {"reputation": 9152, "user_id": 2338547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QT3fG.png?s=128&g=1", "display_name": "markspace", "link": "https://stackoverflow.com/users/2338547/markspace"}, "edited": false, "score": 3, "creation_date": 1541018198, "post_id": 53091537, "comment_id": 93080007, "body": "Show us what code you have written, and please ask a specific question about a problem you are having."}, {"owner": {"reputation": 33492, "user_id": 7212686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ey8ll.png?s=128&g=1", "display_name": "azro", "link": "https://stackoverflow.com/users/7212686/azro"}, "edited": false, "score": 0, "creation_date": 1541018641, "post_id": 53091537, "comment_id": 93080163, "body": "Maybe you should learn more Java before achieving this so"}, {"owner": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "edited": false, "score": 0, "creation_date": 1541023895, "post_id": 53091537, "comment_id": 93082011, "body": "Which part are you having trouble with?"}, {"owner": {"reputation": 15, "user_id": 4842970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Caakn.jpg?s=128&g=1", "display_name": "tarak ammar", "link": "https://stackoverflow.com/users/4842970/tarak-ammar"}, "edited": false, "score": 0, "creation_date": 1541027898, "post_id": 53091537, "comment_id": 93083152, "body": "actually i don&#39;t know how to implement such a data structure."}, {"owner": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "edited": false, "score": 0, "creation_date": 1541034142, "post_id": 53091537, "comment_id": 93084466, "body": "I would highly suggest looking at MinHeap it does something similar"}, {"owner": {"reputation": 363, "user_id": 9225643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/583e7339c5d80b10701f1cf2e8f73bb1?s=128&d=identicon&r=PG&f=1", "display_name": "MrDeal", "link": "https://stackoverflow.com/users/9225643/mrdeal"}, "edited": false, "score": 0, "creation_date": 1541083039, "post_id": 53091537, "comment_id": 93102244, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3522454/java-tree-data-structure\">Java tree data-structure?</a>"}], "owner": {"reputation": 15, "user_id": 4842970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Caakn.jpg?s=128&g=1", "display_name": "tarak ammar", "link": "https://stackoverflow.com/users/4842970/tarak-ammar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 209, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541196984, "creation_date": 1541018034, "last_edit_date": 1541196984, "question_id": 53091537, "link": "https://stackoverflow.com/questions/53091537/tree-data-structure-with-java-nodes", "title": "Tree data structure with java (Nodes)", "body": "<p>I would like to create a new Data Structure with Java using only arrays. It's a tree of Nodes and every Node has as parameters :  </p>\n\n<ul>\n<li><strong>a parent (node)</strong>   </li>\n<li><strong>children (a Array of Nodes)</strong>  </li>\n<li><strong>a letter (Char)</strong>  </li>\n<li><strong>a number (int)</strong>  </li>\n</ul>\n\n<p>Every Node has a method <em>setChild</em> for adding a new Child. I don't know how to code the constructor and the method setChild of this Class Node. I'm very confused with this Data Structure.</p>\n"}, {"tags": ["java", "android"], "answers": [{"tags": [], "owner": {"reputation": 7106, "user_id": 5667051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75d42706031c39c42b9da87a86b95f94?s=128&d=identicon&r=PG&f=1", "display_name": "rm8x", "link": "https://stackoverflow.com/users/5667051/rm8x"}, "is_accepted": false, "score": 0, "last_activity_date": 1541019503, "creation_date": 1541019503, "answer_id": 53091870, "question_id": 53091531, "link": "https://stackoverflow.com/questions/53091531/java-android-eclipse-retrofit-2-0-conversion-to-dalvik-format-failed-unable-to/53091870#53091870", "title": "java android Eclipse retrofit 2.0 Conversion to Dalvik format failed: Unable to execute dex: Multiple dex files define Lretrofit2/Converter", "body": "<p>Your dependencies are clashing -- more than one are trying to include the same thing. Try opening up a terminal and running the gradle <code>dependencies</code> task against your app. It will look something like <code>./gradlew app:dependencies</code>. The output will be your dependency tree. If you're on linux you may want to pipe the result to <code>grep</code> and limit the output to what you care about. </p>\n\n<p>That command is <code>./gradlew app:dependencies | grep 'retrofit'</code></p>\n\n<p>Examine this output and look for elements higher up in the tree including, at lower levels, dependencies that are included already by other elements. When you find the rogue-includer head to your build file where you declare the dependency ie <code>implementation \"com.retrofitincluder.thing:rogue:0.0.0\"</code> and change it to:</p>\n\n<p><code>implementation (\"com.retrofitincluder.thing:rogue:0.0.0\") {\n   exclude group: 'com.retrofit2.and so on', module: 'retrofit'\n}</code></p>\n\n<p>You'll have to figure out the particular dependency and module names on your own but this is the basic process for resolving dependency collisions. Also note you can use <code>exclude module: 'justthemodule'</code> as well. </p>\n"}], "owner": {"reputation": 27, "user_id": 10588055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f299f947f7485dfe117d66af933f824?s=128&d=identicon&r=PG&f=1", "display_name": "tompok", "link": "https://stackoverflow.com/users/10588055/tompok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1541019503, "creation_date": 1541018005, "question_id": 53091531, "link": "https://stackoverflow.com/questions/53091531/java-android-eclipse-retrofit-2-0-conversion-to-dalvik-format-failed-unable-to", "title": "java android Eclipse retrofit 2.0 Conversion to Dalvik format failed: Unable to execute dex: Multiple dex files define Lretrofit2/Converter", "body": "<p>I want to use in project retorfit 2.0 when I build apk in logs I see :</p>\n\n<pre><code>Conversion to Dalvik format failed: Unable to execute dex: Multiple dex files define Lretrofit2/Converter\n</code></pre>\n"}, {"tags": ["java", "urlencode"], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 10356053, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yo_UlXLj1j4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOtmhurjSfULSo32Iw7YRgINR6Sug/mo/photo.jpg?sz=128", "display_name": "ging", "link": "https://stackoverflow.com/users/10356053/ging"}, "edited": false, "score": 0, "creation_date": 1541020809, "post_id": 53091883, "comment_id": 93080991, "body": "no.Thats not what i am trying to encode. you are trying to encode a string which doesnt have already encoded values. In my case the last &#39;=&#39; is already encoded and the &#39;/&#39; remains unencoded.  URLEncoder.encode(&quot;bdvchewcbwj/hbsdwhjkbq%3D&quot;,&quot;UTF-8&quot;); to &quot;bdvchewcbwj%2Fhbsdwhjkbq%3D&quot; is what i need"}, {"owner": {"reputation": 1700, "user_id": 7214142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pkgpt.jpg?s=128&g=1", "display_name": "Yuriy Tsarkov", "link": "https://stackoverflow.com/users/7214142/yuriy-tsarkov"}, "reply_to_user": {"reputation": 113, "user_id": 10356053, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yo_UlXLj1j4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOtmhurjSfULSo32Iw7YRgINR6Sug/mo/photo.jpg?sz=128", "display_name": "ging", "link": "https://stackoverflow.com/users/10356053/ging"}, "edited": false, "score": 0, "creation_date": 1541021178, "post_id": 53091883, "comment_id": 93081123, "body": "It&#39;s completely unclear from the question. &gt;.. <i>the above example</i>: <code>bdvchewcbwj&#47;hbsdwhjkbq=</code>, <i>When i encode the above path param i am expecting the url as</i> :<code>bdvchewcbwj%2Fhbsdwhjkbq%3D</code>, <i>but the result is</i>: <code>bdvchewcbwj&#47;hbsdwhjkb%3D</code>"}, {"owner": {"reputation": 1700, "user_id": 7214142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pkgpt.jpg?s=128&g=1", "display_name": "Yuriy Tsarkov", "link": "https://stackoverflow.com/users/7214142/yuriy-tsarkov"}, "reply_to_user": {"reputation": 113, "user_id": 10356053, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yo_UlXLj1j4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOtmhurjSfULSo32Iw7YRgINR6Sug/mo/photo.jpg?sz=128", "display_name": "ging", "link": "https://stackoverflow.com/users/10356053/ging"}, "edited": false, "score": 0, "creation_date": 1541021564, "post_id": 53091883, "comment_id": 93081270, "body": "<i>In my case the last &#39;=&#39; is already encoded and the &#39;/&#39; remains unencoded</i> how did you achieve that? I think that is a main problem then.  If <code>bdvchewcbwj&#47;hbsdwhjkbq=</code> is a solid param, not the result of a concatenation or something like this, then it should be encoded in full or not encoded at all"}, {"owner": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "reply_to_user": {"reputation": 113, "user_id": 10356053, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yo_UlXLj1j4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOtmhurjSfULSo32Iw7YRgINR6Sug/mo/photo.jpg?sz=128", "display_name": "ging", "link": "https://stackoverflow.com/users/10356053/ging"}, "edited": false, "score": 0, "creation_date": 1541022675, "post_id": 53091883, "comment_id": 93081640, "body": "@ging I\u2019m confused.  Nowhere in your question do you state that you have an input string in which some but not all unsafe characters are URL-encoded."}, {"owner": {"reputation": 113, "user_id": 10356053, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yo_UlXLj1j4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOtmhurjSfULSo32Iw7YRgINR6Sug/mo/photo.jpg?sz=128", "display_name": "ging", "link": "https://stackoverflow.com/users/10356053/ging"}, "reply_to_user": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "edited": false, "score": 0, "creation_date": 1541035400, "post_id": 53091883, "comment_id": 93084729, "body": "@VGR YuriyTsarkov updated the question with expected input and output."}, {"owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "reply_to_user": {"reputation": 113, "user_id": 10356053, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yo_UlXLj1j4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOtmhurjSfULSo32Iw7YRgINR6Sug/mo/photo.jpg?sz=128", "display_name": "ging", "link": "https://stackoverflow.com/users/10356053/ging"}, "edited": false, "score": 0, "creation_date": 1541036221, "post_id": 53091883, "comment_id": 93084893, "body": "@ging you said <i>the param without encoded is</i> <code>bdvchewcbwj&#47;hbsdwhjkbq=</code>, <i>the input is</i> <code>bdvchewcbwj&#47;hbsdwhjkb%3D</code>, and <i>expected output is</i> <code>bdvchewcbwj%2Fhbsdwhjkbq%3D</code>. How did you get from the first one to the second one? What&#39;s wrong with an answer that get you from the first one directly to your expected output skipping the unnecessary middle case?"}, {"owner": {"reputation": 113, "user_id": 10356053, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yo_UlXLj1j4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOtmhurjSfULSo32Iw7YRgINR6Sug/mo/photo.jpg?sz=128", "display_name": "ging", "link": "https://stackoverflow.com/users/10356053/ging"}, "reply_to_user": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "edited": false, "score": 0, "creation_date": 1541036536, "post_id": 53091883, "comment_id": 93084962, "body": "@RickyMo I am just trying to explain there that the decoded string is &quot;bdvchewcbwj/hbsdwhjkbq=&quot; . But when i try to encode in the program i have the string like &quot;bdvchewcbwj/hbsdwhjkb%3D&quot; So when i try to encode this, &#39;/&#39; is successfully encoded but the last &#39;=&#39; is double encoded. I am just trying to eliminate the encoding of already encoded characters."}, {"owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "reply_to_user": {"reputation": 113, "user_id": 10356053, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yo_UlXLj1j4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOtmhurjSfULSo32Iw7YRgINR6Sug/mo/photo.jpg?sz=128", "display_name": "ging", "link": "https://stackoverflow.com/users/10356053/ging"}, "edited": false, "score": 0, "creation_date": 1541036879, "post_id": 53091883, "comment_id": 93085027, "body": "@ging You can just let it double encoded and decode twice when you try to decode. Not sure how did you get the weird partly encoded string in the first place but if you did, this is as best you can do. The source which generates the partly encoded string should be the one responsible to fix the problem."}, {"owner": {"reputation": 113, "user_id": 10356053, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yo_UlXLj1j4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOtmhurjSfULSo32Iw7YRgINR6Sug/mo/photo.jpg?sz=128", "display_name": "ging", "link": "https://stackoverflow.com/users/10356053/ging"}, "reply_to_user": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "edited": false, "score": 0, "creation_date": 1541037134, "post_id": 53091883, "comment_id": 93085072, "body": "@RickyMo I need the whole string just once encoded. So i am looking for library that will just encode the unecoded characters and leaving the characters which are already encoded."}, {"owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "reply_to_user": {"reputation": 113, "user_id": 10356053, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yo_UlXLj1j4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOtmhurjSfULSo32Iw7YRgINR6Sug/mo/photo.jpg?sz=128", "display_name": "ging", "link": "https://stackoverflow.com/users/10356053/ging"}, "edited": false, "score": 0, "creation_date": 1541037208, "post_id": 53091883, "comment_id": 93085086, "body": "@ging You can first decode the input once. Then encode it once."}], "tags": [], "owner": {"reputation": 1700, "user_id": 7214142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pkgpt.jpg?s=128&g=1", "display_name": "Yuriy Tsarkov", "link": "https://stackoverflow.com/users/7214142/yuriy-tsarkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1541019583, "creation_date": 1541019583, "answer_id": 53091883, "question_id": 53091480, "link": "https://stackoverflow.com/questions/53091480/url-encoding-issue-for-path-param-which-has/53091883#53091883", "title": "URL encoding issue for path param which has &#39;/&#39;", "body": "<p>How do you encode a parameter? For me</p>\n\n<pre><code>URLEncoder.encode(\"bdvchewcbwj/hbsdwhjkbq=\",\"UTF-8\");\n</code></pre>\n\n<p>works as expected and the result is </p>\n\n<pre><code>bdvchewcbwj%2Fhbsdwhjkbq%3D\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 10356053, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yo_UlXLj1j4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOtmhurjSfULSo32Iw7YRgINR6Sug/mo/photo.jpg?sz=128", "display_name": "ging", "link": "https://stackoverflow.com/users/10356053/ging"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541035363, "creation_date": 1541017800, "last_edit_date": 1541035363, "question_id": 53091480, "link": "https://stackoverflow.com/questions/53091480/url-encoding-issue-for-path-param-which-has", "title": "URL encoding issue for path param which has &#39;/&#39;", "body": "<p>I have an issue while encoding an URL. My url might contain a path param which can include a slash \"/\". I need to send this path param to an external API. This is always encrypted+Encoded. But i have issues encoding '/'. Everything else is encoding except '/'.</p>\n\n<p>Example:</p>\n\n<pre><code>https://url.com/bdvchewcbwj%2Fhbsdwhjkbq%3D\n</code></pre>\n\n<p>In the above example the path param without encoded is :</p>\n\n<pre><code>bdvchewcbwj/hbsdwhjkbq=\n</code></pre>\n\n<p>When i encode the above path param i am expecting the url as :</p>\n\n<pre><code>https://url.com/bdvchewcbwj%2Fhbsdwhjkbq%3D\n</code></pre>\n\n<p>but the result is :</p>\n\n<pre><code>bdvchewcbwj/hbsdwhjkb%3D\n</code></pre>\n\n<p>Input: </p>\n\n<pre><code>https://url.com/bdvchewcbwj/hbsdwhjkbq%3D\n</code></pre>\n\n<p>Output Expected:</p>\n\n<pre><code>https://url.com/bdvchewcbwj%2Fhbsdwhjkbq%3D\n</code></pre>\n\n<p>I am using okHttp client to create the request. Is there any library that just encodes the unencoded characters leaving already encoded characters?</p>\n"}, {"tags": ["java", "collections"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 10205025, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-drnT6O37XKE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rVkUN5NHTKF3vppbCNEJJ3nQF8tg/mo/photo.jpg?sz=128", "display_name": "Vision Yang", "link": "https://stackoverflow.com/users/10205025/vision-yang"}, "edited": false, "score": 0, "creation_date": 1541019052, "post_id": 53091539, "comment_id": 93080321, "body": "Is that exist an integer object when I pass a primitive int(47) ?"}, {"owner": {"reputation": 496316, "user_id": 57695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/53ee9941b3fefef67175daf212e62d41?s=128&d=identicon&r=PG", "display_name": "Peter Lawrey", "link": "https://stackoverflow.com/users/57695/peter-lawrey"}, "reply_to_user": {"reputation": 105, "user_id": 10205025, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-drnT6O37XKE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rVkUN5NHTKF3vppbCNEJJ3nQF8tg/mo/photo.jpg?sz=128", "display_name": "Vision Yang", "link": "https://stackoverflow.com/users/10205025/vision-yang"}, "edited": false, "score": 0, "creation_date": 1541022215, "post_id": 53091539, "comment_id": 93081498, "body": "@VisionYang addAll only takes references to objects i.e. wrappers, not primitives."}, {"owner": {"reputation": 105, "user_id": 10205025, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-drnT6O37XKE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rVkUN5NHTKF3vppbCNEJJ3nQF8tg/mo/photo.jpg?sz=128", "display_name": "Vision Yang", "link": "https://stackoverflow.com/users/10205025/vision-yang"}, "reply_to_user": {"reputation": 496316, "user_id": 57695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/53ee9941b3fefef67175daf212e62d41?s=128&d=identicon&r=PG", "display_name": "Peter Lawrey", "link": "https://stackoverflow.com/users/57695/peter-lawrey"}, "edited": false, "score": 0, "creation_date": 1541023008, "post_id": 53091539, "comment_id": 93081748, "body": "@PeterLawrey You mean that Integer automatically create an object with 47 when I use the addAll and it references the object included 47?"}], "tags": [], "owner": {"reputation": 2673, "user_id": 1174543, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/65Per.png?s=128&g=1", "display_name": "Steve11235", "link": "https://stackoverflow.com/users/1174543/steve11235"}, "is_accepted": false, "score": 6, "last_activity_date": 1541018044, "creation_date": 1541018044, "answer_id": 53091539, "question_id": 53091478, "link": "https://stackoverflow.com/questions/53091478/why-list-can-remove-a-new-object-that-is-not-instantiated/53091539#53091539", "title": "Why List can remove a new object that is not instantiated", "body": "<p>First, when you pass a primitive int, such as 47, it is \"auto-boxed\" to an Integer with a value of 47. Second, the Integer.equals() method compares the primitive values.</p>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 10205025, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-drnT6O37XKE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rVkUN5NHTKF3vppbCNEJJ3nQF8tg/mo/photo.jpg?sz=128", "display_name": "Vision Yang", "link": "https://stackoverflow.com/users/10205025/vision-yang"}, "edited": false, "score": 0, "creation_date": 1541019384, "post_id": 53091646, "comment_id": 93080467, "body": "But animals.remove(new Animal(&quot;Cat&quot;,15)); isn&#39;t the newly created object different from animal2?   So you can use different objects with the same value to remove the animal2?"}, {"owner": {"reputation": 86, "user_id": 9139738, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Q7iNCOKaA44/AAAAAAAAAAI/AAAAAAAAAA4/2CKTN22NoNs/photo.jpg?sz=128", "display_name": "FileInputStream", "link": "https://stackoverflow.com/users/9139738/fileinputstream"}, "reply_to_user": {"reputation": 105, "user_id": 10205025, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-drnT6O37XKE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rVkUN5NHTKF3vppbCNEJJ3nQF8tg/mo/photo.jpg?sz=128", "display_name": "Vision Yang", "link": "https://stackoverflow.com/users/10205025/vision-yang"}, "edited": false, "score": 0, "creation_date": 1541019760, "post_id": 53091646, "comment_id": 93080616, "body": "I just wanted to show you that you can&#39;t remove an existing object in the ArrayList with a new Object that has no overwritten equals method."}, {"owner": {"reputation": 105, "user_id": 10205025, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-drnT6O37XKE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rVkUN5NHTKF3vppbCNEJJ3nQF8tg/mo/photo.jpg?sz=128", "display_name": "Vision Yang", "link": "https://stackoverflow.com/users/10205025/vision-yang"}, "edited": false, "score": 0, "creation_date": 1541020426, "post_id": 53091646, "comment_id": 93080830, "body": "But why the Integer can?  Its equals method does not return an object.  When I create an Integer object with same value, that object created is that I have passed in the ArrayList, and does integer automatically create an object when I enter this value?"}, {"owner": {"reputation": 86, "user_id": 9139738, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Q7iNCOKaA44/AAAAAAAAAAI/AAAAAAAAAA4/2CKTN22NoNs/photo.jpg?sz=128", "display_name": "FileInputStream", "link": "https://stackoverflow.com/users/9139738/fileinputstream"}, "reply_to_user": {"reputation": 105, "user_id": 10205025, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-drnT6O37XKE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rVkUN5NHTKF3vppbCNEJJ3nQF8tg/mo/photo.jpg?sz=128", "display_name": "Vision Yang", "link": "https://stackoverflow.com/users/10205025/vision-yang"}, "edited": false, "score": 0, "creation_date": 1541020882, "post_id": 53091646, "comment_id": 93081020, "body": "That is because the equals method of the integer is  comparing the number 47 different that my Animal class is comparing the two values &quot;Cat&quot; and 15."}, {"owner": {"reputation": 105, "user_id": 10205025, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-drnT6O37XKE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rVkUN5NHTKF3vppbCNEJJ3nQF8tg/mo/photo.jpg?sz=128", "display_name": "Vision Yang", "link": "https://stackoverflow.com/users/10205025/vision-yang"}, "edited": false, "score": 0, "creation_date": 1541021444, "post_id": 53091646, "comment_id": 93081222, "body": "Yes, you have created two different objects with the same value, so animals.remove(new Animal(&quot;Cat&quot;,15)) would not work. As an Integer, I have passed the value of 47 to ArrayList, and create an new object when I want to remove the value of 47 in the ArrayList, but it works, and aren&#39;t these two different objects?"}, {"owner": {"reputation": 86, "user_id": 9139738, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Q7iNCOKaA44/AAAAAAAAAAI/AAAAAAAAAA4/2CKTN22NoNs/photo.jpg?sz=128", "display_name": "FileInputStream", "link": "https://stackoverflow.com/users/9139738/fileinputstream"}, "reply_to_user": {"reputation": 105, "user_id": 10205025, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-drnT6O37XKE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rVkUN5NHTKF3vppbCNEJJ3nQF8tg/mo/photo.jpg?sz=128", "display_name": "Vision Yang", "link": "https://stackoverflow.com/users/10205025/vision-yang"}, "edited": false, "score": 0, "creation_date": 1541021943, "post_id": 53091646, "comment_id": 93081398, "body": "Yes, the two values are different objects. But the Integer object compares these two values like this:<a href=\"https://hastebin.com/definirehu.java\" rel=\"nofollow noreferrer\">hastebin.com/definirehu.java</a> It compares the actual value, not the object value."}, {"owner": {"reputation": 105, "user_id": 10205025, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-drnT6O37XKE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rVkUN5NHTKF3vppbCNEJJ3nQF8tg/mo/photo.jpg?sz=128", "display_name": "Vision Yang", "link": "https://stackoverflow.com/users/10205025/vision-yang"}, "edited": false, "score": 0, "creation_date": 1541022851, "post_id": 53091646, "comment_id": 93081689, "body": "Yes, Integer compares the actual value. So why do I remove an object with a value of 47 that corresponds to the value of 47 in the ArrayList, and that 47 is not an object but a value?"}, {"owner": {"reputation": 86, "user_id": 9139738, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Q7iNCOKaA44/AAAAAAAAAAI/AAAAAAAAAA4/2CKTN22NoNs/photo.jpg?sz=128", "display_name": "FileInputStream", "link": "https://stackoverflow.com/users/9139738/fileinputstream"}, "reply_to_user": {"reputation": 105, "user_id": 10205025, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-drnT6O37XKE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rVkUN5NHTKF3vppbCNEJJ3nQF8tg/mo/photo.jpg?sz=128", "display_name": "Vision Yang", "link": "https://stackoverflow.com/users/10205025/vision-yang"}, "edited": false, "score": 0, "creation_date": 1541023536, "post_id": 53091646, "comment_id": 93081913, "body": "Because it removes the first object that is equal to 47."}], "tags": [], "owner": {"reputation": 86, "user_id": 9139738, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Q7iNCOKaA44/AAAAAAAAAAI/AAAAAAAAAA4/2CKTN22NoNs/photo.jpg?sz=128", "display_name": "FileInputStream", "link": "https://stackoverflow.com/users/9139738/fileinputstream"}, "is_accepted": false, "score": 0, "last_activity_date": 1541018447, "creation_date": 1541018447, "answer_id": 53091646, "question_id": 53091478, "link": "https://stackoverflow.com/questions/53091478/why-list-can-remove-a-new-object-that-is-not-instantiated/53091646#53091646", "title": "Why List can remove a new object that is not instantiated", "body": "<p>As Steve11235 said, the equals() method compares the two objects.</p>\n\n<pre><code>public class Animal {\n\nString name;\nint live;\n\npublic Animal(String name, int live) {\nthis.name = name;\nthis.live = live;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And now:</p>\n\n<pre><code>Animal animal = new Animal(\"Monkey\",15);\nAnimal animal2 = new Animal(\"Cat\",15);\nList&lt;Animal&gt; animals = new ArrayList&lt;Animal&gt;();\nCollections.addAll(animals, animal,animal2);\nanimals.remove(new Animal(\"Cat\",15);\n</code></pre>\n\n<p>This would not work because the equals method is not comparing the objects, it is only comparing the reference.</p>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 10205025, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-drnT6O37XKE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rVkUN5NHTKF3vppbCNEJJ3nQF8tg/mo/photo.jpg?sz=128", "display_name": "Vision Yang", "link": "https://stackoverflow.com/users/10205025/vision-yang"}, "edited": false, "score": 0, "creation_date": 1541026710, "post_id": 53092568, "comment_id": 93082829, "body": "Thank you, that&#39;s the answer I want. But I have another question, the remove method is that even if the parameter you pass is a different object with the same value, remove can find the object existed with the same value in the ArrayList and delete it according to the value. Is that what it means?"}, {"owner": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "reply_to_user": {"reputation": 105, "user_id": 10205025, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-drnT6O37XKE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rVkUN5NHTKF3vppbCNEJJ3nQF8tg/mo/photo.jpg?sz=128", "display_name": "Vision Yang", "link": "https://stackoverflow.com/users/10205025/vision-yang"}, "edited": false, "score": 0, "creation_date": 1541080602, "post_id": 53092568, "comment_id": 93100945, "body": "Yes.  That is what \u201cfirst object which is equal to this argument\u201d means:  the first element in the List which is considered equal by the <code>equals</code> method is considered a match and is removed.  The same rule applies to the <code>contains</code> method.  in general, Collection classes use the <code>equals</code> method to determine whether an argument and a collection element match."}], "tags": [], "owner": {"reputation": 33440, "user_id": 1831987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=128&d=identicon&r=PG", "display_name": "VGR", "link": "https://stackoverflow.com/users/1831987/vgr"}, "is_accepted": true, "score": 3, "last_activity_date": 1541023346, "creation_date": 1541023346, "answer_id": 53092568, "question_id": 53091478, "link": "https://stackoverflow.com/questions/53091478/why-list-can-remove-a-new-object-that-is-not-instantiated/53092568#53092568", "title": "Why List can remove a new object that is not instantiated", "body": "<p>To expand on what others have said, this code:</p>\n\n<pre><code>Collections.addAll(useCases, 47, 48, 49, 50);\n</code></pre>\n\n<p>is actually shorthand for this:</p>\n\n<pre><code>Collections.addAll(useCases,\n    Integer.valueOf(47),\n    Integer.valueOf(48),\n    Integer.valueOf(49),\n    Integer.valueOf(50));\n</code></pre>\n\n<p>because Lists cannot hold primitives, only objects.  When the compiler automatically translates primitives into their equivalent wrapper class values, we say the compiler \u201cauto-boxes\u201d them.</p>\n\n<p>This line:</p>\n\n<pre><code>useCases.remove(new Integer(47));\n</code></pre>\n\n<p>does not mean \u201cremove only this exact argument.\u201d  It means \u201cremove the first object which is equal to this argument.\u201d</p>\n\n<p><code>new Integer(47)</code> is equal to <code>Integer.valueOf(47)</code>, according to the <code>equals</code> method of the Integer class, so Integer.valueOf(47) is the object which gets removed.</p>\n\n<p>By the way, <code>new Integer</code> is <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html#%3Cinit%3E(int)\" rel=\"nofollow noreferrer\">deprecated</a>.  Integer.valueOf and auto-boxing are its replacement.</p>\n"}], "owner": {"reputation": 105, "user_id": 10205025, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-drnT6O37XKE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rVkUN5NHTKF3vppbCNEJJ3nQF8tg/mo/photo.jpg?sz=128", "display_name": "Vision Yang", "link": "https://stackoverflow.com/users/10205025/vision-yang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 53092568, "answer_count": 3, "score": 1, "last_activity_date": 1541023346, "creation_date": 1541017784, "question_id": 53091478, "link": "https://stackoverflow.com/questions/53091478/why-list-can-remove-a-new-object-that-is-not-instantiated", "title": "Why List can remove a new object that is not instantiated", "body": "<pre><code>List&lt;Integer&gt; useCases = new ArrayList&lt;Integer&gt;();\nCollections.addAll(useCases, 47, 48, 49, 50);\nuseCases.remove(new Integer(47));\n</code></pre>\n\n<p>Why can the integer object of the new instance match the int value of 47 in the useCase?</p>\n\n<p>If instantiates multiple integer types of 47, do they all correspond to the value of 47 in the useCase, and can they all direct the list to remove the value of 47?</p>\n"}, {"tags": ["java", "android"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1541018408, "post_id": 53091469, "comment_id": 93080081, "body": "Don&#39;t call <code>DatabaseAccessClass.getInstance(this)</code> in a field initializer; i.e., in the line you have it now. Move that into your <code>onCreate()</code> override, sometime after the <code>super.onCreate()</code> call."}, {"owner": {"reputation": 21, "user_id": 10249251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fa0473baedf8f238f4626b91073dd0b?s=128&d=identicon&r=PG&f=1", "display_name": "M Asghar", "link": "https://stackoverflow.com/users/10249251/m-asghar"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1541399008, "post_id": 53091469, "comment_id": 93189039, "body": "Thanks Mike M. It was so helpful, I am really grateful"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10249251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fa0473baedf8f238f4626b91073dd0b?s=128&d=identicon&r=PG&f=1", "display_name": "M Asghar", "link": "https://stackoverflow.com/users/10249251/m-asghar"}, "edited": false, "score": 0, "creation_date": 1541399087, "post_id": 53091629, "comment_id": 93189062, "body": "Thanks buddy, for detailed answer, it was really helpful."}], "tags": [], "owner": {"reputation": 16285, "user_id": 4860513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zNzBp.jpg?s=128&g=1", "display_name": "W0rmH0le", "link": "https://stackoverflow.com/users/4860513/w0rmh0le"}, "is_accepted": true, "score": 0, "last_activity_date": 1541018748, "last_edit_date": 1541018748, "creation_date": 1541018392, "answer_id": 53091629, "question_id": 53091469, "link": "https://stackoverflow.com/questions/53091469/sqliteassethelper-nullpointerexception-problem/53091629#53091629", "title": "SQLiteAssetHelper NullPointerException problem", "body": "<p>This line is your problem:</p>\n\n<pre><code>DatabaseAccessClass databaseAccess = DatabaseAccessClass.getInstance(this);\n</code></pre>\n\n<p>You have to update your code as follows:</p>\n\n<pre><code>DatabaseAccessClass databaseAccess;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_activity_name);\n    databaseAccess = DatabaseAccessClass.getInstance(this);\n    ...\n}\n</code></pre>\n\n<p>Also, here:</p>\n\n<pre><code>instance = new DatabaseAccessClass(context);\n</code></pre>\n\n<p>Try to get the application's context.. like:</p>\n\n<pre><code>instance = new DatabaseAccessClass(context.getApplicationContext());\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10249251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fa0473baedf8f238f4626b91073dd0b?s=128&d=identicon&r=PG&f=1", "display_name": "M Asghar", "link": "https://stackoverflow.com/users/10249251/m-asghar"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "closed_date": 1541018422, "accepted_answer_id": 53091629, "answer_count": 1, "score": -1, "last_activity_date": 1541018748, "creation_date": 1541017754, "question_id": 53091469, "link": "https://stackoverflow.com/questions/53091469/sqliteassethelper-nullpointerexception-problem", "closed_reason": "Duplicate", "title": "SQLiteAssetHelper NullPointerException problem", "body": "<p>I am using SqliteAssetHelper to copy my database from assets folder.\nBut I am getting NullPointerException. The strange thing is that it is happening on some devices not on all devices, I never got it on emulator or my test device but I am getting it on my play console crashes reports. Following are the details, please help me thanks in advance. Please note that firsrname and secondname mentioned below are parts of my app id</p>\n\n<p><strong>Stack Trace</strong></p>\n\n<pre><code>java.lang.RuntimeException: \nat android.app.ActivityThread.performLaunchActivity    (ActivityThread.java:2412)\nat android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:2607)\nat android.app.ActivityThread.access$900 (ActivityThread.java:174)\nat android.app.ActivityThread$H.handleMessage (ActivityThread.java:1325)\nat android.os.Handler.dispatchMessage (Handler.java:102)\nat android.os.Looper.loop (Looper.java:146)\nat android.app.ActivityThread.main (ActivityThread.java:5756)\nat java.lang.reflect.Method.invokeNative (Native Method)\nat java.lang.reflect.Method.invoke (Method.java:515)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:1291)\nat com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1107)\nat dalvik.system.NativeStart.main (Native Method)\nCaused by: java.lang.NullPointerException: \nat android.content.ContextWrapper.getApplicationInfo (ContextWrapper.java:165)\nat com.readystatesoftware.sqliteasset.SQLiteAssetHelper.&lt;init&gt; (SQLiteAssetHelper.java:109)\nat com.readystatesoftware.sqliteasset.SQLiteAssetHelper.&lt;init&gt; (SQLiteAssetHelper.java:129)\nat com.firstname.secondname.firstnamesecondname.DatabaseHelperClass.&lt;init&gt; (DatabaseHelperClass.java:24)\nat com.firstname.secondname.firstnamesecondname.DatabaseAccessClass.&lt;init&gt; (DatabaseAccessClass.java:24)\nat com.firstname.secondname.firstnamesecondname.DatabaseAccessClass.getInstance (DatabaseAccessClass.java:35)\nat com.firstname.secondname.firstnamesecondname.ActivityName.&lt;init&gt; (ActivityName.java:29\nat java.lang.Class.newInstanceImpl (Native Method)\nat java.lang.Class.newInstance (Class.java:1208)\nat android.app.Instrumentation.newActivity (Instrumentation.java:1067)\nat android.app.ActivityThread.performLaunchActivity (ActivityThread.java:2403)\n</code></pre>\n\n<p><strong>my project class is</strong> </p>\n\n<pre><code>public class ActivityName extends AppCompatActivity {\n\nCheckBox checkbtn;\nString abc;\nDatabaseAccessClass databaseAccess = DatabaseAccessClass.getInstance(this); //(Please note This is line number 29 in ActivityName)\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_activity_name);\n\n    databaseAccess.open();\n\n    Cursor cname = databaseAccess.getDetails(abc);\n    cname.moveToFirst();\n    String itemname = cname.getString(8);\n    TextView iname = (TextView) findViewById(R.id.inametv);\n    compname.setText(itemname);\n    cname.close();\n\n    //to add the current value to recent table\n    addValueRecent();\n\n    ViewPager viewPager = (ViewPager) findViewById(R.id.maintab);\n    PagerAdapter pagerAdapter = new PagerAdapter(getSupportFragmentManager(),ActivityName.this);\n    viewPager.setAdapter(pagerAdapter);\n\n    TabLayout tabLayout = (TabLayout) findViewById(R.id.tab_layout);\n    tabLayout.setupWithViewPager(viewPager);\n\n    databaseAccess.close();\n}\n\npublic void addValueRecent(){\n\n    databaseAccess.open();\n    databaseAccess.insertValuerecent(abc);\n\n    Cursor getallrecentb = databaseAccess.getAllRecentValues();\n\n    if (getallrecentb.getCount()&gt;20){\n\n        getallrecentb.moveToLast();\n        String id = getallrecentb.getString(0);\n        databaseAccess.deleteValuerecent(id);\n    }\n    getallrecentb.close();\n    databaseAccess.close();\n\n}\n</code></pre>\n\n<p><strong>DatabaseAccessClass Line no 35 is</strong> </p>\n\n<pre><code>public static DatabaseAccessClass getInstance(Context context) {\n    if (instance == null) {\n\n        instance = new DatabaseAccessClass(context);//(this is line no 35 in DatabaseAccessClass)\n    }\n    return instance;\n}\n</code></pre>\n"}, {"tags": ["java", "binary-search-tree"], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 10490789, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-L8CTZ3dv7Oo/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVXuIngTTRz2pGjRkAvW09Hcj-aqg/mo/photo.jpg?sz=128", "display_name": "John Schlachtenhaufen", "link": "https://stackoverflow.com/users/10490789/john-schlachtenhaufen"}, "is_accepted": false, "score": 0, "last_activity_date": 1541018429, "creation_date": 1541018429, "answer_id": 53091644, "question_id": 53091425, "link": "https://stackoverflow.com/questions/53091425/delete-operation-in-a-binary-search-tree/53091644#53091644", "title": "Delete operation in a Binary Search Tree", "body": "<p>It doesn't matter which one you implement. Replacing the deleted node with the rightmost node of the left subtree or the leftmost node of the right subtree will both result in a valid binary search tree.</p>\n\n<p>If you want, you could alternate between them to try and maintain some balance. You could also choose the subtree with the higher height to remove from as well to achieve a similar thing. </p>\n"}], "owner": {"reputation": 11, "user_id": 9077986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90f585f35705c7d69cbfa0c0fb0cb682?s=128&d=identicon&r=PG&f=1", "display_name": "SMOK1N-ACES", "link": "https://stackoverflow.com/users/9077986/smok1n-aces"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1541018429, "creation_date": 1541017484, "last_edit_date": 1541017812, "question_id": 53091425, "link": "https://stackoverflow.com/questions/53091425/delete-operation-in-a-binary-search-tree", "title": "Delete operation in a Binary Search Tree", "body": "<p>I am having to hard code a binary search tree for a class. I somewhat understand the delete method for removing a node but I am getting mixed information as to what I replace it with...</p>\n\n<p>I have been told to use the left-most node in the right subtree OR the rightmost node in the left subtree... Do I replace with the smallest node in right subtree or largest Node in left subtree?</p>\n\n<p>Does it make a difference which one that I use? Should I implement both and have the program alternatively switch off from each one?</p>\n"}, {"tags": ["java", "concurrency", "nio"], "comments": [{"owner": {"reputation": 7720, "user_id": 8921755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dec518adc2024784cc770596a0aa200?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/8921755/ivan"}, "edited": false, "score": 0, "creation_date": 1541017711, "post_id": 53091422, "comment_id": 93079844, "body": "How can java code handle abrupt termination of JVM for example when power is down?"}, {"owner": {"reputation": 1571, "user_id": 1185421, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/riC68.png?s=128&g=1", "display_name": "Seppo420", "link": "https://stackoverflow.com/users/1185421/seppo420"}, "reply_to_user": {"reputation": 7720, "user_id": 8921755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dec518adc2024784cc770596a0aa200?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/8921755/ivan"}, "edited": false, "score": 0, "creation_date": 1541017787, "post_id": 53091422, "comment_id": 93079868, "body": "I mean cases where shutdownhooks get run normally etc."}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1541018931, "post_id": 53091422, "comment_id": 93080266, "body": "I&#39;m not sure this is a JVM-terminates-too-soon issue. Your tests are spawning new, <i>non-daemon</i> threads which means the JVM <i>can&#39;t</i> terminate until those threads die."}, {"owner": {"reputation": 9831, "user_id": 5646962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e957f1b006fd3acb3826e0055e8b5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Kl&#228;ger", "link": "https://stackoverflow.com/users/5646962/thomas-kl%c3%a4ger"}, "edited": false, "score": 0, "creation_date": 1541020875, "post_id": 53091422, "comment_id": 93081017, "body": "There is no synchronization between your <code>read()</code> and <code>write()</code> methods. It can therefore easily happen that you try to read the file just at the moment when <code>Files.write</code> truncated it and before it started to write the bytes."}, {"owner": {"reputation": 1571, "user_id": 1185421, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/riC68.png?s=128&g=1", "display_name": "Seppo420", "link": "https://stackoverflow.com/users/1185421/seppo420"}, "reply_to_user": {"reputation": 9831, "user_id": 5646962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e957f1b006fd3acb3826e0055e8b5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Kl&#228;ger", "link": "https://stackoverflow.com/users/5646962/thomas-kl%c3%a4ger"}, "edited": false, "score": 0, "creation_date": 1541021596, "post_id": 53091422, "comment_id": 93081279, "body": "@ThomasKl&#228;ger  lombok&#39;s @ Synchronized  handles it"}, {"owner": {"reputation": 9831, "user_id": 5646962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e957f1b006fd3acb3826e0055e8b5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Kl&#228;ger", "link": "https://stackoverflow.com/users/5646962/thomas-kl%c3%a4ger"}, "edited": false, "score": 0, "creation_date": 1541021831, "post_id": 53091422, "comment_id": 93081359, "body": "lombok&#39;s @Synchronized does however <b>not</b> synchronize between static methods and instance methods. Static methods synchronize on a static field <code>$LOCK</code>, whereas instance methods synchronize on an instance field <code>$lock</code> -  see the description at <a href=\"https://projectlombok.org/features/Synchronized\" rel=\"nofollow noreferrer\">projectlombok.org/features/Synchronized</a>"}, {"owner": {"reputation": 1571, "user_id": 1185421, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/riC68.png?s=128&g=1", "display_name": "Seppo420", "link": "https://stackoverflow.com/users/1185421/seppo420"}, "reply_to_user": {"reputation": 9831, "user_id": 5646962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e957f1b006fd3acb3826e0055e8b5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Kl&#228;ger", "link": "https://stackoverflow.com/users/5646962/thomas-kl%c3%a4ger"}, "edited": false, "score": 0, "creation_date": 1541021985, "post_id": 53091422, "comment_id": 93081415, "body": "@ThomasKl&#228;ger ah, that was actually some mistake when editing &amp; copypasting the code to here. Issue is fixed now, wasn&#39;t that but ty anyways"}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1541022522, "post_id": 53091422, "comment_id": 93081597, "body": "If adding sleep calls makes your code work then you likely have race conditions. I created my own tests to try and replicate the behavior you&#39;re seeing. It&#39;s only when I comment out the appropriate <code>synchronized</code> blocks that I see any failures."}], "answers": [{"comments": [{"owner": {"reputation": 1571, "user_id": 1185421, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/riC68.png?s=128&g=1", "display_name": "Seppo420", "link": "https://stackoverflow.com/users/1185421/seppo420"}, "edited": false, "score": 0, "creation_date": 1541018628, "post_id": 53091666, "comment_id": 93080157, "body": "I dont want to append tho, I want to replace the file"}, {"owner": {"reputation": 1571, "user_id": 1185421, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/riC68.png?s=128&g=1", "display_name": "Seppo420", "link": "https://stackoverflow.com/users/1185421/seppo420"}, "edited": false, "score": 0, "creation_date": 1541021549, "post_id": 53091666, "comment_id": 93081265, "body": "The file will have &quot;foo&quot; there as it&#39;s written there previous tests unless they screw it up.  I am sure that the threads are <i>not</i> executed in that time."}], "tags": [], "owner": {"reputation": 3851, "user_id": 3204335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176c9587e46ab24fd70f92c1625f9801?s=128&d=identicon&r=PG&f=1", "display_name": "MD Ruhul Amin", "link": "https://stackoverflow.com/users/3204335/md-ruhul-amin"}, "is_accepted": false, "score": 0, "last_activity_date": 1541019336, "last_edit_date": 1541019336, "creation_date": 1541018547, "answer_id": 53091666, "question_id": 53091422, "link": "https://stackoverflow.com/questions/53091422/files-write-ends-up-with-an-empty-file-when-jvm-exits/53091666#53091666", "title": "Files.write ends up with an empty file when JVM exits", "body": "<p>In your test method you are reading the file before writing in it. How you are ensuring that the dummy file will always contain text \"foo\". </p>\n\n<pre><code>assertEquals(dummyText,read(dummyFile));\nspamAndTest();\n</code></pre>\n\n<p>You should write the text in file first and then read if. Check if changing this order could solve your problem.</p>\n\n<pre><code>spamAndTest();\nassertEquals(dummyText,read(dummyFile));\n</code></pre>\n\n<p>Are you sure that all thread executed successfully in between 100ms?</p>\n\n<pre><code>Thread.sleep(100);\nassertEquals(dummyText,read(dummyFile));\n</code></pre>\n\n<p>There could be a possibility a thread just truncate a file and \n at that time <code>assertEquals(dummyText,read(dummyFile));</code> executed. </p>\n"}, {"tags": [], "owner": {"reputation": 1571, "user_id": 1185421, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/riC68.png?s=128&g=1", "display_name": "Seppo420", "link": "https://stackoverflow.com/users/1185421/seppo420"}, "is_accepted": false, "score": 0, "last_activity_date": 1541021448, "creation_date": 1541021448, "answer_id": 53092226, "question_id": 53091422, "link": "https://stackoverflow.com/questions/53091422/files-write-ends-up-with-an-empty-file-when-jvm-exits/53092226#53092226", "title": "Files.write ends up with an empty file when JVM exits", "body": "<p>Managed to finally solve the issue by adding the following shutdown hook</p>\n\n<pre><code>Thread tt= new Thread(\"\"){\n            public void run(){\n                //System.out.println(\"los shutdown hook (fileutils)\");\n                Sleep.millis(100); //to give other hooks time to start saving\n                shutdown=true;\n                while(writing)\n                    System.err.println(\"halting shutdown while write in progress\");\n            }\n        };\n        Runtime.getRuntime().addShutdownHook(tt);\n</code></pre>\n\n<p>and then setting writing=true on start of save method + write=false on end of it + if(shutdown)return;</p>\n"}], "owner": {"reputation": 1571, "user_id": 1185421, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/riC68.png?s=128&g=1", "display_name": "Seppo420", "link": "https://stackoverflow.com/users/1185421/seppo420"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 341, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1541021448, "creation_date": 1541017468, "last_edit_date": 1541018984, "question_id": 53091422, "link": "https://stackoverflow.com/questions/53091422/files-write-ends-up-with-an-empty-file-when-jvm-exits", "title": "Files.write ends up with an empty file when JVM exits", "body": "<p>Gone a looong road to isolate my issue, and managed to pinpoint it to the following tests. Everything works fine when the threads have enough time to finish, but with below setup I end up occasionally with empty files. This happens about 1/15 of the times I run the test. The issue seems to be on write, i.e. the file seems to be actually empty.</p>\n\n<pre><code>import lombok.Synchronized;\nimport org.junit.jupiter.api.Test;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.charset.Charset;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\nclass Test{\n\n    File dummyFile=new File(\"/tmp/foo.txt\"); //initially \"foo\"\n    String dummyText=\"foo\";\n    @Test\n    void test() throws Exception{\n        assertEquals(dummyText,read(dummyFile));\n        spamAndTest();\n\n        for(int i = 0; i&lt; 100 ; i++){\n            spamAndTestInThread(i);\n        }\n        Thread.sleep(100);\n        assertEquals(dummyText,read(dummyFile));\n    }\n\n    @Synchronized\n    public static String read(File f){\n\n\n        Charset charset = Charset.forName(\"UTF-8\");\n        Path p = f.toPath();\n\n        String ret=null;\n        try {\n            ret = new String(Files.readAllBytes(p),charset);\n        } catch(Exception ex) {\n            ExUtils.handle(ex);\n            return null;\n        }\n\n\n\n\n        if(ret.trim().length()==0){\n\n            throw new RuntimeException(\"WTF, empty file:\" +p);\n\n        }\n        return ret;\n\n\n    }\n\n    private void spamAndTestInThread(int i) {\n        Thread tt= new Thread(\"spam\"){\n            public void run(){\n                for(int i = 0; i&lt; 1000 ; i++){\n                    save(dummyFile,dummyText);\n\n                }\n            }\n        };\n        tt.start();\n    }\n\n\n    @Synchronized\n    private void save(File file, String data) {\n\n        Charset charset = Charset.forName(\"UTF-8\");\n\n        try {\n            Files.write(file.toPath(),data.getBytes(charset));\n        } catch (IOException e) {\n            e.printStackTrace()\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>So, all signs point to this being caused by save failing when JVM is terminating. I'm running this on IntelliJ test runner but don't think this is the case as the original issue also happens in production when the JVM is terminated on an unfortunate moment. Also, I don't seem to be able to reproduce this when there's only 1 thread running.</p>\n\n<p>Shouldn't the Files.write be able to handle JVM terminations out of the box? If not, how to handle it?</p>\n\n<p>Using Oracle JDK 8 both locally and in prod.</p>\n\n<p>EDIT: </p>\n\n<p>To clarify, I'm not talking about power outages/JVM crashes but cases where shutdownhooks are run normally. Also good to note that the file is always fully empty, i.e. it does not die in the middle of a write.</p>\n\n<p>EDIT2:</p>\n\n<p>I tried this out with a far longer string and this time got it to cut in the middle &amp; reproduced this with just 2 extra threads. </p>\n\n<p>EDIT3:</p>\n\n<p>Tried adding shutdown hooks and yes they're being run after the test. So, would expect those writes to be able to finish but apparently no.</p>\n"}, {"tags": ["java", "spring", "spring-java-config", "java-annotations"], "answers": [{"comments": [{"owner": {"reputation": 4555, "user_id": 424903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8oHZF.png?s=128&g=1", "display_name": "Gimby", "link": "https://stackoverflow.com/users/424903/gimby"}, "edited": false, "score": 0, "creation_date": 1541089510, "post_id": 53102186, "comment_id": 93105946, "body": "In the old version you were literally passing <code>null</code> as the bean value in the old code, so I&#39;m not so surprised that Spring was angry with you."}], "tags": [], "owner": {"reputation": 526, "user_id": 1351827, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/JmQG7.jpg?s=128&g=1", "display_name": "Patrick Aquilone", "link": "https://stackoverflow.com/users/1351827/patrick-aquilone"}, "is_accepted": true, "score": 0, "last_activity_date": 1541078530, "creation_date": 1541078530, "answer_id": 53102186, "question_id": 53091421, "link": "https://stackoverflow.com/questions/53091421/no-qualifying-bean-when-bean-is-defined/53102186#53102186", "title": "No Qualifying Bean When Bean is Defined", "body": "<p>So we were able to fix this by changing the call to the aggregating reader in the step configuration to send the method/bean of the cursor reader.  We changed this line:</p>\n\n<pre><code>.reader(postDatedAchInAggregatingJdbcItemReader(postDatedAchInReader()))\n</code></pre>\n\n<p>And removed the @Qualifier.  This stopped this error and it does correctly wire everything up.  Feels a bit clunky to me but it works.  I am open to additional solutions if anyone has one.</p>\n"}], "owner": {"reputation": 526, "user_id": 1351827, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/JmQG7.jpg?s=128&g=1", "display_name": "Patrick Aquilone", "link": "https://stackoverflow.com/users/1351827/patrick-aquilone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "accepted_answer_id": 53102186, "answer_count": 1, "score": 1, "last_activity_date": 1541078530, "creation_date": 1541017463, "question_id": 53091421, "link": "https://stackoverflow.com/questions/53091421/no-qualifying-bean-when-bean-is-defined", "title": "No Qualifying Bean When Bean is Defined", "body": "<p>I have been trying to get a setup where I create the PostDatedAchInReader which implements JdbcCursorItemReader and then injected that into the PostDatedAchInAggregatingJdbcItemReader which collects read objects based on a specific criteria and groups them into a list keeping basically all the ach requests groups by client id.  However, I keep getting the no qualifying bean error and yet the bean is here and defined.  I am confused what the problem is or how to fix it.</p>\n\n<p>So I have the following configuration file</p>\n\n<pre><code>@Configuration\npublic class PostDatedAchInBatchConfig extends AbstractCommonBatchJobConfig {\n\n    private static final String ACH_FULFILLMENT_POST_DATED_ACH_IN_STEP1_NAME =\n            \"achFulfillment_postDatedAchInJob_step1_scheduleAchIns\";\n\n    @Autowired\n    DataSource prodDataSource;\n\n    /**\n     * This method defines the Job.\n     *\n     * @return postdatedachinjob\n     *         return the configured job.\n     */\n    @Bean(name = \"achFulfillmentPostDatedAchInJob\")\n    public Job job() throws Exception {\n        mmLogMgr.info(\"AchFulfillmentEmailBatchConfig : job\");\n        return getJobBuilderFactory().get(\"achFulfillmentPostDatedAchInJob\")\n                .listener(postDatedAchInListener())\n                .start(step1())\n                .on(ExitStatus.COMPLETED.getExitCode())\n                .end() // end of TransactionBuilder\n                .end() // end of FlowBuilder\n                .build();\n\n    }\n\n..\n\n    /**\n     * @return postDatedAchInAggregatingJdbcItemReader.\n     */\n    @Bean\n    @Scope(value = \"step\", proxyMode = ScopedProxyMode.DEFAULT)\n    public ItemReader&lt;ArrayList&lt;PostDatedAchIn&gt;&gt; postDatedAchInAggregatingJdbcItemReader(@Qualifier(\"postDatedAchInReader\") final PostDatedAchInReader postDatedAchInReader)\n            throws Exception {\n        PostDatedAchInAggregatingJdbcItemReader postDatedAchInAggregatingJdbcItemReader =\n                new PostDatedAchInAggregatingJdbcItemReader();\n        postDatedAchInAggregatingJdbcItemReader.setDatabaseItemReader(postDatedAchInReader);\n        return postDatedAchInAggregatingJdbcItemReader;\n    }\n\n    @Bean\n    public PostDatedAchInClassifierWriter postDatedAchInClassifierWriter() {\n        Map&lt;String, ItemWriter&lt;PostDatedAchIn&gt;&gt; classMap = new HashMap&lt;String, ItemWriter&lt;PostDatedAchIn&gt;&gt;();\n        classMap.put(\"true\", postDatedAchInCompositeWriterOneTimeFailure());\n        classMap.put(\"false\", postDatedAchInCompositeWriterPosted());\n        PostDatedAchInClassifierWriter classifyWriter = new PostDatedAchInClassifierWriter();\n        classifyWriter.setClassMap(classMap);\n        return classifyWriter;\n    }\n\n\n..\n\n    @Bean(name = \"postDatedAchInReader\")\n    @Scope(value = \"step\", proxyMode = ScopedProxyMode.DEFAULT)\n    public PostDatedAchInReader postDatedAchInReader(@Value(\"#{jobExecutionContext['current.business.date']}\") final String currentBusinessDate) {\n\n        SqlStatementHelper sqlStatementHelper = new SqlStatementHelper(PostDatedAchInConstants.POST_DATED_ACH_IN_PROPERTY_FILE,\n                PostDatedAchInConstants.POST_DATED_ACH_IN_PROPERTY_ALT_FILE);\n        String sqlStatement = sqlStatementHelper.getSqlStatement(PostDatedAchInConstants.RETRIEVE_POST_DATED_ACH_IN);\n\n        ArrayList&lt;String&gt; parameters = new ArrayList&lt;String&gt;();\n        parameters.add(currentBusinessDate);\n        parameters.add(currentBusinessDate);\n        parameters.add(currentBusinessDate);\n\n        ListPreparedStatementSetter preparedStatementSetter = new ListPreparedStatementSetter();\n        preparedStatementSetter.setParameters(parameters);\n\n        PostDatedAchInReader postDatedAchInReader = new PostDatedAchInReader();\n        postDatedAchInReader.setDataSource(prodDataSource);\n        postDatedAchInReader.setSql(sqlStatement);\n        postDatedAchInReader.setRowMapper(new PostDatedAchInRowMapper());\n        postDatedAchInReader.setPreparedStatementSetter(preparedStatementSetter);\n\n        return postDatedAchInReader;\n    }\n\n    /**\n     * This method defines the Steps, it writes 1 record at a time.\n     *\n     * @return postdatedachinjob_step1\n     *\n     */\n    @Bean(name = ACH_FULFILLMENT_POST_DATED_ACH_IN_STEP1_NAME)\n    public Step step1() throws Exception {\n        mmLogMgr.info(ACH_FULFILLMENT_POST_DATED_ACH_IN_STEP1_NAME);\n        return getStepBuilderFactory().get(ACH_FULFILLMENT_POST_DATED_ACH_IN_STEP1_NAME)\n                .&lt;ArrayList&lt;PostDatedAchIn&gt;, ArrayList&lt;PostDatedAchIn&gt;&gt; chunk(AchFulfillmentBatchJobUtil\n                        .getChunkValue(\"postdatedachin\"))\n                .reader(postDatedAchInAggregatingJdbcItemReader(null))\n                .processor(postDatedAchInProcessor())\n                .writer(postDatedAchInClassifierWriter())\n                .build();\n    }\n\n}\n</code></pre>\n\n<p>And when I run the job, I get the following stack trace:</p>\n\n<pre><code>2018-10-31 15:06:45,821 ERROR [o.s.batch.core.step.AbstractStep:AbstractStep.java:execute:229 - main] - Encountered an error executing step achFulfillment_postDatedAchInJob_step1_scheduleAchIns in job achFulfillmentPostDatedAchInJob\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'scopedTarget.postDatedAchInAggregatingJdbcItemReader' defined in com.tdameritrade.ctg.ach.batch.postdatedachinjob.PostDatedAchInBatchConfig: Unsatisfied dependency expressed through method 'postDatedAchInAggregatingJdbcItemReader' parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.tdameritrade.ctg.ach.batch.postdatedachinjob.PostDatedAchInReader' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Qualifier(value=postDatedAchInReader)}\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:467)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$2.getObject(AbstractBeanFactory.java:345)\n    at org.springframework.batch.core.scope.StepScope.get(StepScope.java:113)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:340)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:192)\n    at com.sun.proxy.$Proxy112.read(Unknown Source)\n    at org.springframework.batch.core.step.item.SimpleChunkProvider.doRead(SimpleChunkProvider.java:91)\n    at org.springframework.batch.core.step.item.SimpleChunkProvider.read(SimpleChunkProvider.java:157)\n    at org.springframework.batch.core.step.item.SimpleChunkProvider$1.doInIteration(SimpleChunkProvider.java:116)\n    at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:374)\n    at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\n    at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:144)\n    at org.springframework.batch.core.step.item.SimpleChunkProvider.provide(SimpleChunkProvider.java:110)\n    at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:69)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:406)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:330)\n    at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:133)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:272)\n    at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:81)\n    at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:374)\n    at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\n    at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:144)\n    at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:257)\n    at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:200)\n    at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148)\n    at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:64)\n    at org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:67)\n    at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169)\n    at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144)\n    at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:134)\n    at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:306)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:135)\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:128)\n    at com.tdameritrade.ctg.ach.fulfillment.util.MoneyMovementHelper.getJobExecution(MoneyMovementHelper.java:155)\n    at com.tdameritrade.ctg.ach.fulfillment.util.MoneyMovementHelper.getJobExecution(MoneyMovementHelper.java:136)\n    at com.tdameritrade.ctg.ach.batch.postdatedachinjob.PostDatedAchInBatchConfigTest.testLaunchJob(PostDatedAchInBatchConfigTest.java:32)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.tdameritrade.ctg.ach.batch.postdatedachinjob.PostDatedAchInReader' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Qualifier(value=postDatedAchInReader)}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1493)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1104)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\n    ... 72 common frames omitted\n</code></pre>\n\n<p>I am confused how it says it can not find the bean of the type when it is defined right in the class.</p>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["java", "mysql", "jsp", "jdbc"], "comments": [{"owner": {"reputation": 7720, "user_id": 8921755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dec518adc2024784cc770596a0aa200?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/8921755/ivan"}, "edited": false, "score": 1, "creation_date": 1541017916, "post_id": 53091409, "comment_id": 93079913, "body": "Have you used debugger to check what variable is null?"}, {"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1541018364, "post_id": 53091409, "comment_id": 93080068, "body": "Why the <code>\\n</code> inside this <code>ON DUPLICATE KEY UPDATE    \\n</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 115, "user_id": 5914902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55ca170bf0a4d5754cdb635fe92a3254?s=128&d=identicon&r=PG&f=1", "display_name": "Loyal_Burrito", "link": "https://stackoverflow.com/users/5914902/loyal-burrito"}, "is_accepted": false, "score": 0, "last_activity_date": 1541018751, "creation_date": 1541018751, "answer_id": 53091712, "question_id": 53091409, "link": "https://stackoverflow.com/questions/53091409/upsert-mysql-command-with-jdbc-and-jsp/53091712#53091712", "title": "UPSERT MYSQL command with JDBC and JSP", "body": "<p>The issue is that birthDate was null and the conversion of java.util.Date to java.sql.Date does not take null. So i had to add an if else statement if the birthDate was null</p>\n"}], "owner": {"reputation": 115, "user_id": 5914902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55ca170bf0a4d5754cdb635fe92a3254?s=128&d=identicon&r=PG&f=1", "display_name": "Loyal_Burrito", "link": "https://stackoverflow.com/users/5914902/loyal-burrito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 716, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541041473, "creation_date": 1541017408, "last_edit_date": 1541041473, "question_id": 53091409, "link": "https://stackoverflow.com/questions/53091409/upsert-mysql-command-with-jdbc-and-jsp", "title": "UPSERT MYSQL command with JDBC and JSP", "body": "<p>I want to be able to insert a row and if the primary key is seen to already exist it will just update the row instead to what the user wants. I am able to write the UPSERT command but it is giving me a Null pointer error. I'm not sure why.</p>\n\n<p>This is my code:</p>\n\n<pre><code>  public PreparedStatement updateStudent(String studentId, String studentName, String sex, java.util.Date birthDate, double gpa) throws SQLException\n    {\n        // TODO: Use a PreparedStatement and return it at the end of the method\n        java.sql.Date sd = new java.sql.Date(birthDate.getTime());\n\n        String sql = \"INSERT INTO student (sid, sname, sex, birthDate, gpa)\n                      VALUES(?, ?, ?, ?, ?) ON DUPLICATE KEY UPDATE    \\n\" +\n                      \"sname=?, sex=?, birthDate=?, gpa=?\";\n\n        PreparedStatement pstmt = con.prepareStatement(sql);\n        pstmt.setString(1, studentId);\n        pstmt.setString(2, studentName);\n        pstmt.setString(3, sex);\n        pstmt.setDate(4, sd);\n        pstmt.setDouble(5, gpa);\n        pstmt.setString(6, studentName);\n        pstmt.setString(7, sex);\n        pstmt.setDate(8, sd);\n        pstmt.setDouble(9, gpa);\n        int row = pstmt.executeUpdate();\n        return pstmt;\n    }   \n</code></pre>\n\n<p>This is the error I receive:</p>\n\n<pre><code>Updating student 00567454:\nException in thread \"main\" java.lang.NullPointerException\n    at EnrollJDBC.updateStudent(EnrollJDBC.java:349)\n    at EnrollJDBC.main(EnrollJDBC.java:85)\n</code></pre>\n"}, {"tags": ["java", "spring", "docker", "tomcat"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 10780381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JlfoP.jpg?s=128&g=1", "display_name": "Amila Liyanage", "link": "https://stackoverflow.com/users/10780381/amila-liyanage"}, "is_accepted": false, "score": 1, "last_activity_date": 1561448008, "last_edit_date": 1561448008, "creation_date": 1561401840, "answer_id": 56742233, "question_id": 53091368, "link": "https://stackoverflow.com/questions/53091368/preventing-docker-container-cpu-resets/56742233#56742233", "title": "Preventing Docker Container CPU Resets?", "body": "<p>There is an issue in resource allocation in JVM containers, which occurs as it is referring to the overall system matrices instead of container matrices. In JAVA 7 and 8, JVM ergonomics are applying the systems\u2019 (instance) matrices such as the number of cores and memory instead of docker allocated resources (cores and memory). As a result of that, the JVM initialized a number of parameters based on core count and Memory as below.</p>\n\n<p>JVM memory footprints</p>\n\n<p>-Perm/metaspace</p>\n\n<p>-JIT Bytecode   </p>\n\n<p>-Heap Size (JVM ergonomics \u00bc of instance memory)</p>\n\n<p>CPU</p>\n\n<p>-No. JIT compiler threads</p>\n\n<p>-No. Garbage Collection threads</p>\n\n<p>-No. Thread in the common fork-join pool</p>\n\n<p>Therefore, the containers tend to become unresponsive due to high CPU or terminate the container by OOM kill. The reason for this is the container CGGroups and Namespaces are ignored by JVM in order to limit the Memory and CPU cycles. Therefore, JVM tends to get more resources of instance instead of limiting the separate allocation of docker allocated resources.E</p>\n\n<p>Example</p>\n\n<p>Assume two containers are running on 4 cores instance with 8GB memory. When it comes to the docker initialization point, assume that the docker is with 1GB memory and 2048 CPU cycles as a hard limit. Here, each and every container see 4 cores and those JVM allocate Memory, JIT compilers and GC threads separately according to their stats. However, the JVM will see the overall number of cores on that instance (4) and use that value to initialize the number of default threads that we have seen earlier. Accordingly, the JVM matrices of two containers will be as mentioned below. </p>\n\n<p>-4 * 2 Jit Compiler Threads</p>\n\n<p>-4 * 2 Garbage Collection threads</p>\n\n<p>-2 GB Heap size * 2 (\u00bc of Instance full memory instead of docker allocated memory)</p>\n\n<p>In terms of Memory </p>\n\n<p>As per the above example, the JVM will gradually increase the heap usage as the JVM sees 2GB heap max size, which is a quarter of Instance memory (8GB). Once the memory usage of a container reaches to the Hard limit of 1GB, the container will be terminated by OOM kill.</p>\n\n<p>In terms of CPU</p>\n\n<p>As per the above example, one JVM has initialized with 4 Garbage Collection Threads and 4 JIT compiler. However, the docker allocates only 2048 CPU cycles. Therefore, it leads to high CPU, more context switching and unresponsive container, and finally will terminate the container due to high CPU. </p>\n\n<p>Solution\nBasically, there are two processes namely, CGGroups and Namespaces, which handling that kind of situation on the OS level. However, JAVA 7 and 8 do not accept the CGgroup and Namespaces, but the releases after jdk_1.8.131 are able to enable CGroup limit by JVM parameter (-XX:+UseCGroupMemoryLimitForHeap, -XX:+UnlockExperimentalVMOptions). However, it\u2019s only providing solutions for memory issues but no concern on CPU set issue.</p>\n\n<p>With OpenJDK 9, the JVM will automatically detect CPUsets. Especially in orchestration, it further able to manually overwrite the default parameters for CPU set thread counts as per the count of CPU cycles on the container by using JVM flags (XX:ParallelGCThreads, XX:ConcGCThreads).</p>\n"}], "owner": {"reputation": 3812, "user_id": 1426742, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/GJh68.png?s=128&g=1", "display_name": "Walls", "link": "https://stackoverflow.com/users/1426742/walls"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1561448008, "creation_date": 1541017230, "question_id": 53091368, "link": "https://stackoverflow.com/questions/53091368/preventing-docker-container-cpu-resets", "title": "Preventing Docker Container CPU Resets?", "body": "<p>This is a tricky one and is a little hard to explain but I will give it a shot to see if anyone out there has had a similar issue + fix.</p>\n\n<p><strong>Quick background:</strong><br>\nRunning a large Java Spring App on Tomcat in a Docker container.  Other containers are simple, 1 for a JMS Queue and the other for Mysql.  I run on Windows and have given Docker as much CPU as I have (and memory too).  I have set JAVA_OPTS for Catalina to max out memory as well as memory limits in my docker-compose, but the issue seems to be CPU related.</p>\n\n<p>When the app is idling it normally is sitting around 103% CPU (8 Cores, 800% max).  There is a process we use which (using a Thread Pool) runs some workers to go out and run some code.  On my local host (no docker in between) it runs very fast and flies, spitting out logs at a good clip.</p>\n\n<p><strong>Problem:</strong>\nWhen running in Docker watching <code>docker stats -a</code> I can see the CPU start to ramp up when this process begins.  Meanwhile in the logs, everything is flying by like expected while the CPU grows and grows.  It seems to get close to 700% and then it kind of dies, but it doesn't.  When it hits this threshold I see the CPU drop drastically down to &lt; 5% where it stays for a little while.  At this time logs stop printing, so I assume nothing is happening.  Eventually it will kick back in and go back ~120% and continue its process like nothing happened sometimes respiking to ~400%.</p>\n\n<p><strong>What I am trying</strong></p>\n\n<p>I have played around with the memory settings to no success but it seems more like a CPU issue.  I know Java in Docker is a bit wonky but I have given it all the room I can on my beefy dev box where locally this process runs without a hitch.  I find it odd the CPU spikes then dies, but the container itself doesn't die or reset.  Has anyone seen a similar issue or know some ways to further attack this CPU issue with Docker?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["java", "postgresql", "wildfly"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 10587918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5738e2323ab0704604709b99c5b3d3c?s=128&d=identicon&r=PG&f=1", "display_name": "Lars", "link": "https://stackoverflow.com/users/10587918/lars"}, "edited": false, "score": 0, "creation_date": 1541078151, "post_id": 53099985, "comment_id": 93099596, "body": "This and &quot;META_INF&quot; was it. -.- Thanks and have a nice day!"}], "tags": [], "owner": {"reputation": 833, "user_id": 6487617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a067f48e7ac97e18d79905b7fbc16826?s=128&d=identicon&r=PG&f=1", "display_name": "wirnse", "link": "https://stackoverflow.com/users/6487617/wirnse"}, "is_accepted": true, "score": 0, "last_activity_date": 1541071375, "last_edit_date": 1541071375, "creation_date": 1541070282, "answer_id": 53099985, "question_id": 53091279, "link": "https://stackoverflow.com/questions/53091279/jpa-wildfly-14-and-postgresql/53099985#53099985", "title": "JPA, Wildfly 14 and PostgreSQL", "body": "<p>The <code>name</code> in <code>module.xml</code> has to match the path. (without main)</p>\n\n<p>Change it to <code>&lt;module xmlns=\"urn:jboss:module:1.3\" name=\"org.postgres\"&gt;</code></p>\n\n<p>EDIT:</p>\n\n<p>Also the recommended place to put your modules is directly into $JBOSS_HOME\\modules</p>\n\n<p>So in your case: <code>$JBOSS_HOME\\modules\\org\\postgres\\main\\</code></p>\n"}], "owner": {"reputation": 15, "user_id": 10587918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5738e2323ab0704604709b99c5b3d3c?s=128&d=identicon&r=PG&f=1", "display_name": "Lars", "link": "https://stackoverflow.com/users/10587918/lars"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1167, "favorite_count": 1, "accepted_answer_id": 53099985, "answer_count": 1, "score": 1, "last_activity_date": 1541071375, "creation_date": 1541016815, "last_edit_date": 1541021578, "question_id": 53091279, "link": "https://stackoverflow.com/questions/53091279/jpa-wildfly-14-and-postgresql", "title": "JPA, Wildfly 14 and PostgreSQL", "body": "<p>I'm trying to connect to my PostgreSQL DB with JPA and wildfly 14 as webserver. I followed several tutorials, but I always get: </p>\n\n<blockquote>\n  <p>Can't find a persistence unit named 'test'</p>\n</blockquote>\n\n<p>What I did:</p>\n\n<p>download postgresql-42.2.5.jar and copy it in \"wildfly-14.0.1.Final\\modules\\system\\layers\\base\\org\\postgres\\main\\\"\nmodule.xml in the same dir</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;module xmlns=\"urn:jboss:module:1.3\" name=\"org.postgresql\"&gt;\n    &lt;resources&gt;\n        &lt;resource-root path=\"postgresql-42.2.5.jar\"/&gt;\n        &lt;!-- Make sure this matches the name of the JAR you are installing --&gt;\n    &lt;/resources&gt;\n    &lt;dependencies&gt;\n        &lt;module name=\"javax.api\"/&gt;\n        &lt;module name=\"javax.transaction.api\"/&gt;\n    &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>then modified the standallone-full.xml</p>\n\n<pre><code>&lt;datasource jta=\"true\" jndi-name=\"java:jboss/datasources/test\" pool-name=\"test\" enabled=\"true\" use-ccm=\"true\"&gt;\n  &lt;connection-url&gt;jdbc:postgresql://localhost:5432/test&lt;/connection-url&gt;\n  &lt;driver-class&gt;org.postgresql.Driver&lt;/driver-class&gt;\n  &lt;driver&gt;postgres&lt;/driver&gt;\n  &lt;security&gt;\n      &lt;user-name&gt;postgres&lt;/user-name&gt;\n      &lt;password&gt;8a6rbd7a5c3a3fsavf4rq&lt;/password&gt;\n  &lt;/security&gt;\n</code></pre>\n\n<p></p>\n\n<p>and</p>\n\n<pre><code>&lt;driver name=\"postgres\" module=\"org.postgres\"&gt;\n    &lt;driver-class&gt;org.postgresql.Driver&lt;/driver-class&gt;\n&lt;/driver&gt;\n</code></pre>\n\n<p>now the persistence.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;persistence version=\"2.1\"\n                 xmlns=\"http://xmlns.jcp.org/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n                 xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\"&gt;\n\n        &lt;persistence-unit name=\"test\" transaction-type=\"JTA\"&gt;\n            &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n            &lt;jta-data-source&gt;java:jboss/datasources/test&lt;/jta-data-source&gt;\n            &lt;properties&gt;\n                &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\" /&gt;\n                &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.PostgreSQLDialect\" /&gt;\n            &lt;/properties&gt;    \n        &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>after that, of course, a bit java:</p>\n\n<pre><code>@PersistenceContext(unitName = \"test\")\nprivate EntityManager em;\n</code></pre>\n\n<p>So, that's all I did - but tried more...\nIn the deployment came the error: </p>\n\n<blockquote>\n  <p>WFLYWELD0037: Error injecting persistence unit into CDI managed bean. Can't find a persistence unit named 'test' in deployment ...</p>\n</blockquote>\n\n<p>I have no idea what to do. Did I forgot some maven dependencies?</p>\n\n<p>Help, please.</p>\n"}, {"tags": ["java"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 7906429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/saZjl.jpg?s=128&g=1", "display_name": "Brent R", "link": "https://stackoverflow.com/users/7906429/brent-r"}, "edited": false, "score": 0, "creation_date": 1541242968, "post_id": 53091413, "comment_id": 93154964, "body": "Thanks!! How would I call this in the main? I can&#39;t figure out how to input values for TreeNode type objects in the main. If I put in the value of the node, I get an error that int cannot be converted to TreeNode, or if I put in the one node that I have (tree.root) I don&#39;t get an output. Ex. Input: :System.out.println(&quot;the node after 1 in preorder traversal is &quot;); tree.findNextInPreOrder(tree.root, 2); Output: the node after 1 in preorder traversal is"}, {"owner": {"reputation": 8852, "user_id": 1383240, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/41093f55db0d5feaa0012ed6b5c3ca5c?s=128&d=identicon&r=PG&f=1", "display_name": "NiVeR", "link": "https://stackoverflow.com/users/1383240/niver"}, "reply_to_user": {"reputation": 17, "user_id": 7906429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/saZjl.jpg?s=128&g=1", "display_name": "Brent R", "link": "https://stackoverflow.com/users/7906429/brent-r"}, "edited": false, "score": 0, "creation_date": 1541245693, "post_id": 53091413, "comment_id": 93155613, "body": "Yes, just call it with the root node, and the value you want to search."}, {"owner": {"reputation": 17, "user_id": 7906429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/saZjl.jpg?s=128&g=1", "display_name": "Brent R", "link": "https://stackoverflow.com/users/7906429/brent-r"}, "edited": false, "score": 0, "creation_date": 1541540298, "post_id": 53091413, "comment_id": 93250933, "body": "sorry, I&#39;m not used to how this works. Thanks, I&#39;ve accepted it!"}], "tags": [], "owner": {"reputation": 8852, "user_id": 1383240, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/41093f55db0d5feaa0012ed6b5c3ca5c?s=128&d=identicon&r=PG&f=1", "display_name": "NiVeR", "link": "https://stackoverflow.com/users/1383240/niver"}, "is_accepted": true, "score": 0, "last_activity_date": 1541017427, "creation_date": 1541017427, "answer_id": 53091413, "question_id": 53091276, "link": "https://stackoverflow.com/questions/53091276/java-return-the-node-visited-after-node-x-in-a-pre-order-traversal-of-bt/53091413#53091413", "title": "Java - Return the node visited after node x in a pre-order traversal of BT", "body": "<p>You can basically use the same function for visiting in pre order manner with some modifications:</p>\n\n<pre><code>void findNextInPreOrder(TreeNode node, int key) {\n    if (node == null) {\n        return;\n    }\n    if (node.value == key) {\n       if(node.left != null){\n          System.out.print(\"Next is on left: \" + node.left.value);\n       } else if (node.right != null){\n          System.out.print(\"Next is on right: \" + node.right.value);\n       } else {\n          System.out.print(\"There is no next node.\");\n       }\n    }   \n    findNextInPreOrder(node.left);   /* then recur on left subtree */\n    findNextInPreOrder(node.right);  /* now recur on right subtree */\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17, "user_id": 7906429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/saZjl.jpg?s=128&g=1", "display_name": "Brent R", "link": "https://stackoverflow.com/users/7906429/brent-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1541291544, "creation_date": 1541291544, "answer_id": 53136758, "question_id": 53091276, "link": "https://stackoverflow.com/questions/53091276/java-return-the-node-visited-after-node-x-in-a-pre-order-traversal-of-bt/53136758#53136758", "title": "Java - Return the node visited after node x in a pre-order traversal of BT", "body": "<p>Thank you!! I also added an 'else' statement since that seemed to help me a bit with the implementation:</p>\n\n<pre><code>void findNextInPreOrder(Node node, int key) {\n    if (node == null) {\n        return;\n    }\n    if (node.value == key) {\n        if (node.left != null) {\n            System.out.print(\"Next is on left: \" + node.left.value);\n        } else if (node.right != null) {\n            System.out.print(\"Next is on right: \" + node.right.value);\n        } else {\n            System.out.print(\"There is no next node.\");\n        }\n    } else {\n        findNextInPreOrder(node.left, key);\n        /* then recur on left subtree */\n        findNextInPreOrder(node.right, key);\n        /* now recur on right subtree */\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 7906429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/saZjl.jpg?s=128&g=1", "display_name": "Brent R", "link": "https://stackoverflow.com/users/7906429/brent-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 497, "favorite_count": 0, "accepted_answer_id": 53091413, "answer_count": 2, "score": 0, "last_activity_date": 1541291544, "creation_date": 1541016803, "question_id": 53091276, "link": "https://stackoverflow.com/questions/53091276/java-return-the-node-visited-after-node-x-in-a-pre-order-traversal-of-bt", "title": "Java - Return the node visited after node x in a pre-order traversal of BT", "body": "<p>I am being asked to \"Return the node visited after node x in a pre-order traversal of a binary tree\" in Java for school. I have created a code to list all the nodes in pre-order, but I'm not sure how to print off a single node. </p>\n\n<p>My first class to create the nodes is:</p>\n\n<pre><code>public class TreeNode {\nint value;        // The data in this node.\nTreeNode left;   // Pointer to the left subtree.\nTreeNode right;  // Pointer to the right subtree.\nTreeNode parent; //Pointer to the parent of the node. \n\nTreeNode(int value) {\n    this.value = value;\n    this.right = null;\n    this.left = null;\n    this.parent = null;\n }\n\n public void displayNode() { //Displays the value of the node.\n    System.out.println(value + \" \");\n }\n</code></pre>\n\n<p>I then have the class to build the binary tree. It also prints the whole tree in pre-order:</p>\n\n<pre><code>public class BTree2 {\n\nTreeNode root;                // the first node in the tree\n\npublic boolean isEmpty() // true if no links\n{\n    return root == null;\n}\n\nprivate TreeNode addRecursive(TreeNode current, int value) {\n    if (current == null) {\n        return new TreeNode(value);\n    }\n\n    if (value &lt; current.value) {\n        current.left = addRecursive(current.left, value);\n    } else if (value &gt; current.value) {\n        current.right = addRecursive(current.right, value);\n    } else {\n        // value already exists\n        return current;\n    }\n\n    return current;\n}\n\npublic void add(int value) {\n    root = addRecursive(root, value);\n}\n\n\nvoid printPreorder(TreeNode node) {\n    if (node == null) {\n        return;\n    }\n    System.out.print(node.value + \" \"); /* first print data of node */\n    printPreorder(node.left);   /* then recur on left subtree */\n    printPreorder(node.right);  /* now recur on right subtree */\n}\n\nvoid printPreorder() {\n    printPreorder(root);\n}   \n</code></pre>\n\n<p>This is where I get stuck: how do I print off the node that comes after a particular node, and not just the whole tree? I thought it would be:</p>\n\n<pre><code> public TreeNode findPreorder(int key) // find node with given key  \n{                            // (assumes non-empty tree)  \n    TreeNode current = root;                // start at root  \n\n    while (current.value == key) // while there is a match  \n    {\n        current = current.left;\n\n        if (key &lt; current.value) // go left?  \n        {\n            current = current.right;\n\n        } else {\n            current = current.right; // or go right?  \n        }\n        if (current == null) // if no child,  \n        {\n            return null;                  // didn't find it  \n        }\n    }\n    return current;                     // found it  \n\n}\n</code></pre>\n\n<p>But that's not working. This is my test code in my main:</p>\n\n<pre><code>  public static void main(String[] args) {\n\n    BTree2 tree = new BTree2(); \n\n\n    tree.root = new TreeNode(1); \n    tree.root.left = new TreeNode(2); \n    tree.root.right = new TreeNode(3); \n    tree.root.left.left = new TreeNode(4); \n    tree.root.left.right = new TreeNode(5); \n\n\n    System.out.println(\"Preorder traversal of binary tree is \"); \n    tree.printPreorder(); \n\n    System.out.println(\"the node after 1 is \" + tree.findPreorder(1).value);\n\n} \n</code></pre>\n\n<p>My output is: </p>\n\n<p>Preorder traversal of binary tree is \n1 2 4 5 3 </p>\n\n<p>the node after 1 is 5</p>\n\n<p>Any ideas? Thanks!!</p>\n"}, {"tags": ["java", "httpurlconnection", "apache-httpclient-4.x"], "comments": [{"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 1, "creation_date": 1541016725, "post_id": 53091231, "comment_id": 93079505, "body": "You just have to write request body yourself and write it to outputstream"}, {"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1541016784, "post_id": 53091231, "comment_id": 93079533, "body": "Since you want to parse pages maybe you could use Jsoup for that - it can connect to web resources as well."}, {"owner": {"reputation": 1284, "user_id": 7221628, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0c0050259a038721c8eb2ef7e9996708?s=128&d=identicon&r=PG&f=1", "display_name": "JGlass", "link": "https://stackoverflow.com/users/7221628/jglass"}, "edited": false, "score": 1, "creation_date": 1541019098, "post_id": 53091231, "comment_id": 93080340, "body": "Sounds like you also may need to manually handle the 302 redirect in your code and then navigate to it yourself in code - possible apaches lib is handling that for you?"}, {"owner": {"reputation": 2883, "user_id": 2583765, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5e54eb8bd99cabcd824ddb09367efb4d?s=128&d=identicon&r=PG&f=1", "display_name": "birgersp", "link": "https://stackoverflow.com/users/2583765/birgersp"}, "reply_to_user": {"reputation": 1284, "user_id": 7221628, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0c0050259a038721c8eb2ef7e9996708?s=128&d=identicon&r=PG&f=1", "display_name": "JGlass", "link": "https://stackoverflow.com/users/7221628/jglass"}, "edited": false, "score": 0, "creation_date": 1541060974, "post_id": 53091231, "comment_id": 93091122, "body": "@JGlass I think you&#39;re onto something. But I&#39;m lost on how to handle it with a HttpURLConnection. I tried using <code>postRequest.setInstanceFollowRedirects(false);</code> but then I just get HTML data as the response. In the example with HttpClient I get the JSON data directly."}, {"owner": {"reputation": 1284, "user_id": 7221628, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0c0050259a038721c8eb2ef7e9996708?s=128&d=identicon&r=PG&f=1", "display_name": "JGlass", "link": "https://stackoverflow.com/users/7221628/jglass"}, "edited": false, "score": 0, "creation_date": 1541094756, "post_id": 53091231, "comment_id": 93108738, "body": "Let me know if the answer doesnt work for you and I&#39;ll be happy to look into things further!"}, {"owner": {"reputation": 2948, "user_id": 578855, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/adbx1.jpg?s=128&g=1", "display_name": "muasif80", "link": "https://stackoverflow.com/users/578855/muasif80"}, "edited": false, "score": 0, "creation_date": 1545509025, "post_id": 53091231, "comment_id": 94643277, "body": "Use debugger of your IDE and go into the apache http client code and see what it is doing. Then implement same without httpclient  Secondly, is this a public url that we can try to read data from?"}, {"owner": {"reputation": 669, "user_id": 10388146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LvmNO.jpg?s=128&g=1", "display_name": "kamyar haqqani", "link": "https://stackoverflow.com/users/10388146/kamyar-haqqani"}, "edited": false, "score": 0, "creation_date": 1545532616, "post_id": 53091231, "comment_id": 94647031, "body": "dump the data in the network packet created by HttpClient, and data in the network packet created by httpurlconnection, compare them then force httpurlconnection to generate the same data. if possible post the data generated by both so its easier to identify the problem."}], "answers": [{"comments": [{"owner": {"reputation": 2883, "user_id": 2583765, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5e54eb8bd99cabcd824ddb09367efb4d?s=128&d=identicon&r=PG&f=1", "display_name": "birgersp", "link": "https://stackoverflow.com/users/2583765/birgersp"}, "edited": false, "score": 0, "creation_date": 1544872715, "post_id": 53106725, "comment_id": 94434599, "body": "Thanks @JGlass, but for some reason this does not yield the same result as when using HttpComponents. I&#39;m completely stuck at this. The worst part is I really want to use HttpComponents, but it doesn&#39;t seem to play nice with Android..."}, {"owner": {"reputation": 1284, "user_id": 7221628, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0c0050259a038721c8eb2ef7e9996708?s=128&d=identicon&r=PG&f=1", "display_name": "JGlass", "link": "https://stackoverflow.com/users/7221628/jglass"}, "reply_to_user": {"reputation": 2883, "user_id": 2583765, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5e54eb8bd99cabcd824ddb09367efb4d?s=128&d=identicon&r=PG&f=1", "display_name": "birgersp", "link": "https://stackoverflow.com/users/2583765/birgersp"}, "edited": false, "score": 0, "creation_date": 1545243220, "post_id": 53106725, "comment_id": 94561757, "body": "So is the example code not redirecting for you?  Are the URL&#39;s you have in your code valid URL&#39;s that I could try and get the redirect working for you, e.g. can I use them to test with?"}, {"owner": {"reputation": 2883, "user_id": 2583765, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5e54eb8bd99cabcd824ddb09367efb4d?s=128&d=identicon&r=PG&f=1", "display_name": "birgersp", "link": "https://stackoverflow.com/users/2583765/birgersp"}, "edited": false, "score": 0, "creation_date": 1545554472, "post_id": 53106725, "comment_id": 94649535, "body": "The example code redirects me, but the response (after following the redirect) is not the same as when using HttpClient. The URLs are valid for testing."}], "tags": [], "owner": {"reputation": 1284, "user_id": 7221628, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0c0050259a038721c8eb2ef7e9996708?s=128&d=identicon&r=PG&f=1", "display_name": "JGlass", "link": "https://stackoverflow.com/users/7221628/jglass"}, "is_accepted": false, "score": 3, "last_activity_date": 1541094723, "creation_date": 1541094723, "answer_id": 53106725, "question_id": 53091231, "link": "https://stackoverflow.com/questions/53091231/how-can-i-make-a-post-request-in-the-same-manner-as-apache-httpclient-lib-using/53106725#53106725", "title": "How can I make a POST request in the same manner as Apache HttpClient lib, using HttpURLConnection", "body": "<p>Courtesy of a great programmer resource, e.g. MKYong (you know you've run into his site before ;-))  and I'll go over the gist of it in case the <a href=\"https://www.mkyong.com/java/java-httpurlconnection-follow-redirect-example/\" rel=\"nofollow noreferrer\">link</a> ever goes down.</p>\n\n<p><strong>Gist:</strong></p>\n\n<blockquote>\n  <p>The HttpURLConnection\u2018s follow redirect is just an indicator, in fact it won\u2019t help you to do the \u201creal\u201d http redirection, you still need to handle it manually.\n  <br/>If a server is redirected from the original URL to another URL, the response code should be 301: Moved Permanently or 302: Temporary Redirect. And you can get the new redirected url by reading the \u201cLocation\u201d header of the HTTP response header.</p>\n  \n  <p>For example, access to the normal HTTP twitter website \u2013 <a href=\"http://www.twitter.com\" rel=\"nofollow noreferrer\">http://www.twitter.com</a> , it will auto redirect to the HTTPS twitter website \u2013 <a href=\"https://www.twitter.com\" rel=\"nofollow noreferrer\">https://www.twitter.com</a>.</p>\n</blockquote>\n\n<p><strong>Sample code</strong></p>\n\n<pre><code>package com.mkyong.http;\n\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class HttpRedirectExample {\n\n  public static void main(String[] args) {\n\n    try {\n\n    String url = \"http://www.twitter.com\";\n\n    URL obj = new URL(url);\n    HttpURLConnection conn = (HttpURLConnection) obj.openConnection();\n    conn.setReadTimeout(5000);\n    conn.addRequestProperty(\"Accept-Language\", \"en-US,en;q=0.8\");\n    conn.addRequestProperty(\"User-Agent\", \"Mozilla\");\n    conn.addRequestProperty(\"Referer\", \"google.com\");\n\n    System.out.println(\"Request URL ... \" + url);\n\n    boolean redirect = false;\n\n    // normally, 3xx is redirect\n    int status = conn.getResponseCode();\n    if (status != HttpURLConnection.HTTP_OK) {\n        if (status == HttpURLConnection.HTTP_MOVED_TEMP\n            || status == HttpURLConnection.HTTP_MOVED_PERM\n                || status == HttpURLConnection.HTTP_SEE_OTHER)\n        redirect = true;\n    }\n\n    System.out.println(\"Response Code ... \" + status);\n\n    if (redirect) {\n\n        // get redirect url from \"location\" header field\n        String newUrl = conn.getHeaderField(\"Location\");\n\n        // get the cookie if need, for login\n        String cookies = conn.getHeaderField(\"Set-Cookie\");\n\n        // open the new connnection again\n        conn = (HttpURLConnection) new URL(newUrl).openConnection();\n        conn.setRequestProperty(\"Cookie\", cookies);\n        conn.addRequestProperty(\"Accept-Language\", \"en-US,en;q=0.8\");\n        conn.addRequestProperty(\"User-Agent\", \"Mozilla\");\n        conn.addRequestProperty(\"Referer\", \"google.com\");\n\n        System.out.println(\"Redirect to URL : \" + newUrl);\n\n    }\n\n    BufferedReader in = new BufferedReader(\n                              new InputStreamReader(conn.getInputStream()));\n    String inputLine;\n    StringBuffer html = new StringBuffer();\n\n    while ((inputLine = in.readLine()) != null) {\n        html.append(inputLine);\n    }\n    in.close();\n\n    System.out.println(\"URL Content... \\n\" + html.toString());\n    System.out.println(\"Done\");\n\n    } catch (Exception e) {\n    e.printStackTrace();\n    }\n\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 2883, "user_id": 2583765, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5e54eb8bd99cabcd824ddb09367efb4d?s=128&d=identicon&r=PG&f=1", "display_name": "birgersp", "link": "https://stackoverflow.com/users/2583765/birgersp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 583, "favorite_count": 0, "answer_count": 1, "score": 9, "last_activity_date": 1546518614, "creation_date": 1541016613, "last_edit_date": 1546518614, "question_id": 53091231, "link": "https://stackoverflow.com/questions/53091231/how-can-i-make-a-post-request-in-the-same-manner-as-apache-httpclient-lib-using", "title": "How can I make a POST request in the same manner as Apache HttpClient lib, using HttpURLConnection", "body": "<p>I'm trying to make a POST request to a website. As the response to the POST request, I expect some JSON data.</p>\n\n<p>Using Apache's HttpClient library, I am able to do this without any problems. The response data is JSON so I just parse it.</p>\n\n<pre><code>package com.mydomain.myapp;\n\nimport java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.util.EntityUtils;\n\npublic class MyApp {\n\n    private static String extract(String patternString, String target) {\n\n        Pattern pattern = Pattern.compile(patternString);\n        Matcher matcher = pattern.matcher(target);\n        matcher.find();\n        return matcher.group(1);\n    }\n\n    private String getResponse(InputStream stream) throws Exception {\n\n        BufferedReader in = new BufferedReader(new InputStreamReader(stream));\n        String inputLine;\n        StringBuffer responseStringBuffer = new StringBuffer();\n        while ((inputLine = in.readLine()) != null) {\n            responseStringBuffer.append(inputLine);\n        }\n        in.close();\n        return responseStringBuffer.toString();\n    }\n\n    private final static String BASE_URL = \"https://www.volkswagen-car-net.com\";\n    private final static String BASE_GUEST_URL = \"/portal/en_GB/web/guest/home\";\n\n    private void run() throws Exception {\n\n        CloseableHttpClient client = HttpClients.createDefault();\n        HttpGet httpGet = new HttpGet(BASE_URL + BASE_GUEST_URL);\n        CloseableHttpResponse getResponse = client.execute(httpGet);\n        HttpEntity responseEntity = getResponse.getEntity();\n        String data = getResponse(responseEntity.getContent());\n        EntityUtils.consume(responseEntity);\n\n        String csrf = extract(\"&lt;meta name=\\\"_csrf\\\" content=\\\"(.*)\\\"/&gt;\", data);\n        System.out.println(csrf);\n\n        HttpPost post = new HttpPost(BASE_URL + \"/portal/web/guest/home/-/csrftokenhandling/get-login-url\");\n        post.setHeader(\"Accept\", \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\");\n        post.setHeader(\"User-Agent'\", \"Mozilla/5.0 (Linux; Android 6.0.1; D5803 Build/23.5.A.1.291; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/63.0.3239.111 Mobile Safari/537.36\");\n        post.setHeader(\"Referer\", BASE_URL + \"/portal\");\n        post.setHeader(\"X-CSRF-Token\", csrf);\n\n        CloseableHttpResponse postResponse = client.execute(post);\n        HttpEntity postResponseEntity = postResponse.getEntity();\n        String postData = getResponse(postResponseEntity.getContent());\n        System.out.println(postData);\n        EntityUtils.consume(postResponseEntity);\n        postResponse.close();\n    }\n\n    public static void main(String[] args) throws Exception {\n\n        MyApp myApp = new MyApp();\n        myApp.run();\n    }\n}\n</code></pre>\n\n<p>But I can't use the HttpClient library in my project. I need to be able to do the same thing with \"just\" HttpURLConnection.</p>\n\n<p>But there is some magic going on with the HttpClient library that I cannot fathom. Because the response to my POST request using HttpURLConnection is just a redirect to a different webpage alltogheter.</p>\n\n<p>Can someone point me in the right direction here?</p>\n\n<p>Here's my current HttpURLConnection attempt:</p>\n\n<pre><code>package com.mydomain.myapp;\n\nimport java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class MyApp {\n\n    private static String extract(String patternString, String target) {\n\n        Pattern pattern = Pattern.compile(patternString);\n        Matcher matcher = pattern.matcher(target);\n        matcher.find();\n        return matcher.group(1);\n    }\n\n    private final static String BASE_URL = \"https://www.volkswagen-car-net.com\";\n    private final static String BASE_GUEST_URL = \"/portal/en_GB/web/guest/home\";\n\n    private String getResponse(InputStream stream) throws Exception {\n\n        BufferedReader in = new BufferedReader(new InputStreamReader(stream));\n        String inputLine;\n        StringBuffer responseStringBuffer = new StringBuffer();\n        while ((inputLine = in.readLine()) != null) {\n            responseStringBuffer.append(inputLine);\n        }\n        in.close();\n        return responseStringBuffer.toString();\n    }\n\n    private String getResponse(HttpURLConnection connection) throws Exception {\n        return getResponse(connection.getInputStream());\n    }\n\n    private void run() throws Exception {\n\n        HttpURLConnection getConnection1;\n        URL url = new URL(BASE_URL + BASE_GUEST_URL);\n        getConnection1 = (HttpURLConnection) url.openConnection();\n        getConnection1.setRequestMethod(\"GET\");\n        if (getConnection1.getResponseCode() != HttpURLConnection.HTTP_OK) {\n            throw new Exception(\"Request failed\");\n        }\n\n        String response = getResponse(getConnection1);\n        getConnection1.disconnect();\n\n        String csrf = extract(\"&lt;meta name=\\\"_csrf\\\" content=\\\"(.*)\\\"/&gt;\", response);\n        System.out.println(csrf);\n\n        HttpURLConnection postRequest;\n        URL url2 = new URL(BASE_URL + \"/portal/web/guest/home/-/csrftokenhandling/get-login-url\");\n        postRequest = (HttpURLConnection) url2.openConnection();\n        postRequest.setDoOutput(true);\n        postRequest.setRequestMethod(\"POST\");\n        postRequest.setInstanceFollowRedirects(false);\n\n        postRequest.setRequestProperty(\"Accept\", \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\");\n        postRequest.setRequestProperty(\"User-Agent'\", \"Mozilla/5.0 (Linux; Android 6.0.1; D5803 Build/23.5.A.1.291; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/63.0.3239.111 Mobile Safari/537.36\");\n        postRequest.setRequestProperty(\"Referer\", BASE_URL + \"/portal\");\n        postRequest.setRequestProperty(\"X-CSRF-Token\", csrf);\n\n        postRequest.disconnect();\n    }\n\n    public static void main(String[] args) throws Exception {\n\n        MyApp myApp = new MyApp();\n        myApp.run();\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "sqlite"], "answers": [{"tags": [], "owner": {"reputation": 135, "user_id": 937231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/106ae459f46010873b32e8ad6917cf00?s=128&d=identicon&r=PG", "display_name": "David Hernandez", "link": "https://stackoverflow.com/users/937231/david-hernandez"}, "is_accepted": false, "score": 2, "last_activity_date": 1541016605, "creation_date": 1541016605, "answer_id": 53091228, "question_id": 53091177, "link": "https://stackoverflow.com/questions/53091177/what-is-the-meaning-of-new-string0/53091228#53091228", "title": "What is the meaning of new String[]{&quot;0&quot;}?", "body": "<p><code>new String []{\"0\"}</code> is a String-array-literal with one element: <code>[\"0\"]</code></p>\n"}, {"tags": [], "owner": {"reputation": 16285, "user_id": 4860513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zNzBp.jpg?s=128&g=1", "display_name": "W0rmH0le", "link": "https://stackoverflow.com/users/4860513/w0rmh0le"}, "is_accepted": true, "score": 2, "last_activity_date": 1541018171, "creation_date": 1541018171, "answer_id": 53091569, "question_id": 53091177, "link": "https://stackoverflow.com/questions/53091177/what-is-the-meaning-of-new-string0/53091569#53091569", "title": "What is the meaning of new String[]{&quot;0&quot;}?", "body": "<p>In a query, you can add several conditions so you get only the rows that you want. In your sample, you have:</p>\n\n<pre><code>COLUMN_USER_ID + \" = ?\",\nnew String[]{\"0\"},\n</code></pre>\n\n<p><code>query</code> method will replace every <code>\"?\"</code> character by the selection parameter provided in the next string array (in your sample, the string array is <code>new String[] {\"0\"}</code>).</p>\n\n<p>Note that your filtering the rows only by <code>COLUMN_USER_ID</code>. Since you have only one select condition, you must provide an array with one element only. That is the meaning of <code>new String[] {\"0\"}</code>.</p>\n\n<p>That line is creating and instantiating an array with one element only. That element is <code>\"0\"</code>. It's the same:</p>\n\n<pre><code>String [] selectionArgument = new String[1];\nselectionArgument[0] = \"0\";\n</code></pre>\n\n<p>That parameter is a String array because you can have as many conditions as you want... So, if you want to use two conditions, you have to pass an string array with two elements. Something like:</p>\n\n<pre><code>COLUMN_USER_ID + \" = ?\" + \" AND \" + COLUMN_USER_AGE + \" &gt; ? \",\nnew String[]{\"0\", \"18\"},\n</code></pre>\n\n<p>Note on this sample that you have two <code>\"?\"</code> characters as selection criteria. So, the string array also must be an array with two elements:  <code>\"0\"</code> and <code>\"18\"</code>.</p>\n"}], "owner": {"reputation": 39, "user_id": 3503132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a62fcd7c933e8c8dea870095672c54c?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed", "link": "https://stackoverflow.com/users/3503132/mohamed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 53091569, "answer_count": 2, "score": 0, "last_activity_date": 1541021834, "creation_date": 1541016410, "last_edit_date": 1541021834, "question_id": 53091177, "link": "https://stackoverflow.com/questions/53091177/what-is-the-meaning-of-new-string0", "title": "What is the meaning of new String[]{&quot;0&quot;}?", "body": "<p>I found a method call OrdersCursorToList() take a cursor as parameter and return an object of a Model call Orders </p>\n\n<pre><code> List&lt;Orders&gt; Orderss = OrdersCursorToList(mContext.getContentResolver().query(CONTENT_URI,\n            null,\n            COLUMN_ORDER_IS_CONFIRMED + \" = ? AND \"\n          + COLUMN_USER_ID + \" = ?\",\n            new String[]{\"0\"},\n            COLUMN_ORDER_ID));\n</code></pre>\n\n<p>So what is the meaning of <strong>new String []{\"0\"}</strong> </p>\n"}, {"tags": ["java", "string", "unicode", "utf-8", "windows-1252"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 9158934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f617594af158a47bd9bb36d75eb694ef?s=128&d=identicon&r=PG&f=1", "display_name": "pradystar", "link": "https://stackoverflow.com/users/9158934/pradystar"}, "edited": false, "score": 0, "creation_date": 1541033066, "post_id": 53092008, "comment_id": 93084269, "body": "Thanks for explaining why <code>195</code> is returned on windows. I tired <code>java -Dfile.encoding=UTF-8</code> on Windows but it didn&#39;t work, <code>glyph</code> is still <code>??</code>. Although the flag did change the charset to <code>UTF-8</code>. Also <code>unicode.equals(glyph)</code> should ideally evaluate to <code>true</code> (which is the case on macOS),  but without decoding the raw string bytes using UTF-8 it evaluates to <code>false</code> on Windows."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 15, "user_id": 9158934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f617594af158a47bd9bb36d75eb694ef?s=128&d=identicon&r=PG&f=1", "display_name": "pradystar", "link": "https://stackoverflow.com/users/9158934/pradystar"}, "edited": false, "score": 0, "creation_date": 1541035326, "post_id": 53092008, "comment_id": 93084713, "body": "&quot;<i>I tired <code>java -Dfile.encoding=UTF-8</code> on Windows but it didn&#39;t work, <code>glyph</code> is still <code>??</code></i>&quot; - it shouldn&#39;t be. That means it is still being processed as Windows-1252. Try <code>=UTF8</code> instead of <code>=UTF-8</code>, though <a href=\"https://stackoverflow.com/questions/6031877/\">both should work</a>."}, {"owner": {"reputation": 15, "user_id": 9158934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f617594af158a47bd9bb36d75eb694ef?s=128&d=identicon&r=PG&f=1", "display_name": "pradystar", "link": "https://stackoverflow.com/users/9158934/pradystar"}, "edited": false, "score": 0, "creation_date": 1541041192, "post_id": 53092008, "comment_id": 93085840, "body": "It seems like the character encoding had been cached. See <a href=\"https://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding\" title=\"setting the default java character encoding\">stackoverflow.com/questions/361975/&hellip;</a>. I was able to get it working after setting the flag in environment variable <code>JAVA_TOOL_OPTIONS</code>. Thanks again for the explanation. However, rather than using the flag isn&#39;t it better and safe option to use <code>getBytes</code>"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 15, "user_id": 9158934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f617594af158a47bd9bb36d75eb694ef?s=128&d=identicon&r=PG&f=1", "display_name": "pradystar", "link": "https://stackoverflow.com/users/9158934/pradystar"}, "edited": false, "score": 0, "creation_date": 1541041815, "post_id": 53092008, "comment_id": 93085948, "body": "@pradystar &quot;<i>isn&#39;t it better and safe option to use <code>getBytes</code></i>&quot; - no, because the string contents have already been messed up, risking data loss, as soon as the source file is parsed in the wrong encoding, before you ever have a chance to call <code>getBytes()</code>. Best to tell Java the correct file encoding up front so the string contents are correct to begin with. <code>getBytes()</code> is a hack, not a real solution. If you don&#39;t want to fix the encoding, then you have to use <code>\\u</code> escapes in your literals to avoid the issue altogether."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 0, "last_activity_date": 1541035087, "last_edit_date": 1541035087, "creation_date": 1541020235, "answer_id": 53092008, "question_id": 53091132, "link": "https://stackoverflow.com/questions/53091132/different-codepoints-for-same-character-in-macos-and-windows/53092008#53092008", "title": "Different codepoints for same character in MacOS and Windows", "body": "<p>195 is 0xC3 in hex.</p>\n\n<p>In UTF-8, <code>\u00dc</code> is encoded as bytes <code>0xC3 0x9C</code>.</p>\n\n<p><code>System.getProperty(\"file.encoding\")</code> says the default file encoding on Windows is not UTF-8, but clearly your Java file is actually encoded in UTF-8.  The fact that <code>println()</code> is outputting <code>glyph ??</code> (note 2 <code>?</code>, meaning 2 <code>char</code>s are present), and that you are able to decode the raw string bytes using the UTF-8 <code>Charset</code>, proves this.</p>\n\n<p><code>glyph</code> should have a single <code>char</code> whose value is <code>0x00DC</code>, not 2 <code>char</code>s whose values are <code>0x00C3 0x009C</code>.  <code>getCodepointAt(0)</code> is returning <code>0x00C3</code> (195) on Windows because your Java file is encoded in UTF-8 but is being loaded as if it were encoded in Windows-1252 instead, so the 2 bytes <code>0xC3 0x9C</code> get decoded as characters <code>0x00C3 0x009C</code> instead of as character <code>0x00DC</code>.</p>\n\n<p>You need to specify the actual file encoding when running Java, eg:</p>\n\n<pre><code>java -Dfile.encoding=UTF-8 ...\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 9158934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f617594af158a47bd9bb36d75eb694ef?s=128&d=identicon&r=PG&f=1", "display_name": "pradystar", "link": "https://stackoverflow.com/users/9158934/pradystar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 53092008, "answer_count": 1, "score": 0, "last_activity_date": 1541035087, "creation_date": 1541016165, "question_id": 53091132, "link": "https://stackoverflow.com/questions/53091132/different-codepoints-for-same-character-in-macos-and-windows", "title": "Different codepoints for same character in MacOS and Windows", "body": "<p>I have a small piece of code in which I am checking the codepoint for the the character <code>\u00dc</code>.</p>\n\n<pre><code>Locale lc = Locale.getDefault();\nSystem.out.println(lc.toString());\nSystem.out.println(Charset.defaultCharset());\nSystem.out.println(System.getProperty(\"file.encoding\"));\nString inUnicode = \"\\u00dc\";\nString glyph = \"\u00dc\";\nSystem.out.println(\"inUnicode \" + inUnicode + \" code point \" + inUnicode.codePointAt(0));\nSystem.out.println(\"glyph \" + glyph + \" code point \" + glyph.codePointAt(0));\n</code></pre>\n\n<p>I am getting different value for codepoint when I run this code on MacOS x  and Windows 10, see the output below.</p>\n\n<p>Output on MacOS</p>\n\n<pre><code>en_US\nUTF-8\nUTF-8\ninUnicode \u00dc code point 220\nglyph \u00dc code point 220\n</code></pre>\n\n<p>Output on Windows</p>\n\n<pre><code>en_US\nwindows-1252\nCp1252\nin unicode \u00dc code point 220\nglyph ?? code point 195\n</code></pre>\n\n<p>I checked the codepage for windows-1252 at <a href=\"https://en.wikipedia.org/wiki/Windows-1252#Character_set\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Windows-1252#Character_set</a>, here the codepoint for <code>\u00dc</code> is <code>220</code>. \nFor <code>String glyph = \"\u00dc\";</code> why do I get codepoint as <code>195</code> on Windows? As per my understanding <code>glyph</code> should have been rendered properly and the codepoint should have been <code>220</code> since it is defined in Windows-1252.</p>\n\n<p>If I replace <code>String glyph = \"\u00dc\";</code> with <code>String glyph = new String(\"\u00dc\".getBytes(), Charset.forName(\"UTF-8\"));</code> then <code>glyph</code> is rendered correctly and codepoint value is <code>220</code>.\nIs this the correct and efficient way to standardize behavior of String on any OS irrespective of locale and charset?</p>\n"}, {"tags": ["java", "jar", "shared-libraries", "apache-nifi"], "comments": [{"owner": {"reputation": 18354, "user_id": 1276664, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/873470471a482071b8e085095cf89221?s=128&d=identicon&r=PG", "display_name": "daggett", "link": "https://stackoverflow.com/users/1276664/daggett"}, "edited": false, "score": 2, "creation_date": 1541074028, "post_id": 53091123, "comment_id": 93097366, "body": "Could you confirm that: <code>1:</code> ProcessorA and ProcessorB are located in different nar bundles. <code>2:</code> Each nar contains the shared library in <code>META-INF\\bundled-dependencies</code> but with different version. <code>3:</code> you don&#39;t have the shared library in the <code>nifi&#47;lib</code> folder or somewhere else in classpath."}, {"owner": {"reputation": 31, "user_id": 5869477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JKUQB.png?s=128&g=1", "display_name": "Mike Samons", "link": "https://stackoverflow.com/users/5869477/mike-samons"}, "reply_to_user": {"reputation": 18354, "user_id": 1276664, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/873470471a482071b8e085095cf89221?s=128&d=identicon&r=PG", "display_name": "daggett", "link": "https://stackoverflow.com/users/1276664/daggett"}, "edited": false, "score": 1, "creation_date": 1545233517, "post_id": 53091123, "comment_id": 94556379, "body": "thanks for the reply. after working with this some more, it seems to be that my IDE is not always packing the nars as one would expect. specifically, in netbeans it seems if i use the &quot;build with dependencies&quot; option (goals = &#39;install&#39;) on all the dependencies and then on the processor project itself it seems to get everything in line"}], "owner": {"reputation": 31, "user_id": 5869477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JKUQB.png?s=128&g=1", "display_name": "Mike Samons", "link": "https://stackoverflow.com/users/5869477/mike-samons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1541016099, "creation_date": 1541016099, "question_id": 53091123, "link": "https://stackoverflow.com/questions/53091123/nifi-custom-processors-with-shared-references-use-the-oldest-version", "title": "NiFi custom processors with shared references use the oldest version", "body": "<p>Been working with Nifi for a few months and noticed a dependency pattern that doesn't make sense, hopefully I can describe it clearly in case someone can shed light.</p>\n\n<p>We've been prototyping several related but distinct custom processors, and these processors all use some common jar libraries.</p>\n\n<p>For example, </p>\n\n<p>Processors A and B use Library1</p>\n\n<p>ProcessorA gets developed along with some of the code in Library1, build Library1 and then build ProcessorA for testing on the NiFi server, all is good</p>\n\n<p>ProcessorB gets developed also with some of the code in Library1, and Library1 is rebuilt before building ProcessorB as a deployable nar</p>\n\n<p>Then when testing ProcessorB on the NiFi server (including attaching to the process to step through) we find need to update relevant code in Library1</p>\n\n<p>But, despite this update to the Library, ProcessorB still executes the old Libary code. A specific example was a for loop; it would still initialize int i = 1 after I changed the code to int i = 0.</p>\n\n<p>Only after I did a clean/rebuild of ALL the processors (both A and B) did ProcessorB start recognizing the updated library code.</p>\n\n<p>This is surprising since every processor nar package should have its own copy of the library jar, but it is acting like the earliest version takes precedent.</p>\n\n<p>My question, finally: is this expected behavior when using shared code libraries among nar packages, or is there a better practice for architecting these? Or am I missing some wisdom from from the java/maven realm?</p>\n\n<p>NiFi is v 1.8 but also experienced this in 1.5 </p>\n\n<p>Many TIAs</p>\n"}, {"tags": ["java", "design-patterns"], "comments": [{"owner": {"reputation": 8852, "user_id": 1383240, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/41093f55db0d5feaa0012ed6b5c3ca5c?s=128&d=identicon&r=PG&f=1", "display_name": "NiVeR", "link": "https://stackoverflow.com/users/1383240/niver"}, "edited": false, "score": 1, "creation_date": 1541016177, "post_id": 53091117, "comment_id": 93079251, "body": "where are you using the factory design pattern?"}], "answers": [{"tags": [], "owner": {"reputation": 7920, "user_id": 4040817, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52cdc098ebfbeb386eb8cdf33d125aef?s=128&d=identicon&r=PG&f=1", "display_name": "Little Santi", "link": "https://stackoverflow.com/users/4040817/little-santi"}, "is_accepted": true, "score": 1, "last_activity_date": 1541017295, "last_edit_date": 1541017295, "creation_date": 1541016989, "answer_id": 53091314, "question_id": 53091117, "link": "https://stackoverflow.com/questions/53091117/suggestion-for-java-design-pattern/53091314#53091314", "title": "suggestion for java design pattern", "body": "<p>I see here a chance for three patterns:</p>\n\n<ul>\n<li><p>The <em>facade</em> pattern to model the <code>Restaurant</code> class: It seems that <code>Restaurant</code> should contain its own model and sub-patterns, and that it merely exposes all the methods needed to access them.</p></li>\n<li><p>The <em>command</em> pattern to implement the <code>customerSays</code> method: Most likely, it should privately create an object to model the requested operation.</p></li>\n<li><p>The <em>parser</em> pattern (oh, OK: I don't know if it might be considered a pattern, but still a parser is needed here): This one will take the string argument of <code>customerSays</code>, analyze it char by char, and produce a specific javabean with specific properties.</p></li>\n</ul>\n\n<p>Anyway, you will see it more clear if you start by designing the model of objects and relationships in the most rational way to accomplish the given tests, without paying much attention to the exact method signatures. Then, when you finally got it, design the <code>Restaurant</code> class to group them together, now taking in account the requested method signatures.</p>\n"}], "owner": {"reputation": 107, "user_id": 10587819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a1bc8d1aa6b8d197829e2f203ff652?s=128&d=identicon&r=PG&f=1", "display_name": "hamwac5", "link": "https://stackoverflow.com/users/10587819/hamwac5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 53091314, "answer_count": 1, "score": -1, "last_activity_date": 1541017295, "creation_date": 1541016078, "question_id": 53091117, "link": "https://stackoverflow.com/questions/53091117/suggestion-for-java-design-pattern", "title": "suggestion for java design pattern", "body": "<p>i'm starting using design pattern  in java .now i'm writing a java code that pass all  this tests : </p>\n\n<pre><code>@Test\n    public void createOrder() {\n        final Restaurant restaurant = new Restaurant();\n        final int tableId = restaurant.initTable(4);\n        restaurant.customerSays(tableId, \"Joe: Soup\");\n        restaurant.customerSays(tableId, \"Jim: Same\");\n        restaurant.customerSays(tableId, \"Jack: Chips\");\n        restaurant.customerSays(tableId, \"John: Chips\");\n        assertEquals(\"Soup, Soup, Chips, Chips\",\n                restaurant.createOrder(tableId));\n    }\n\n    @Test\n    public void failedCreationBecauseNotEveryoneOrdered() {\n        final Restaurant restaurant = new Restaurant();\n        final int tableId = restaurant.initTable(4);\n        restaurant.customerSays(tableId, \"Joe: Soup\");\n        restaurant.customerSays(tableId, \"Joe: Spaghetti\");\n        restaurant.customerSays(tableId, \"Jim: Roastbeef\");\n        assertEquals(\"MISSING 2\", restaurant.createOrder(tableId));\n        restaurant.customerSays(tableId, \"Jack: Spaghetti\");\n        restaurant.customerSays(tableId, \"John: Chips\");\n        assertEquals(\"Spaghetti, Roastbeef, Spaghetti, Chips\",\n                restaurant.createOrder(tableId));\n    }\n\n    @Test\n    public void failedCreationBecauseNotEnoughPeopleForADishFor2() {\n\n        final Restaurant restaurant = new Restaurant();\n        final int tableId = restaurant.initTable(4);\n        restaurant.customerSays(tableId, \"Joe: Soup\");\n        restaurant.customerSays(tableId, \"Jim: Same\");\n        restaurant.customerSays(tableId, \"Joe: Fish for 2\");\n        restaurant.customerSays(tableId, \"Jack: Chips\");\n        restaurant.customerSays(tableId, \"John: Chips\");\n        assertEquals(\"MISSING 1 for Fish for 2\",\n                restaurant.createOrder(tableId));\n        restaurant.customerSays(tableId, \"John: Fish for 2\");\n        assertEquals(\"Fish for 2, Soup, Chips, Fish for 2\",\n                restaurant.createOrder(tableId));\n    }\n</code></pre>\n\n<p>i'm starting using the Factory design pattern : </p>\n\n<p><a href=\"https://i.stack.imgur.com/Mffaw.png\" rel=\"nofollow noreferrer\">mydesign</a>\n but i think its not the correct one to use ! any suggestion ?</p>\n"}, {"tags": ["java", "comparator"], "comments": [{"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1541016444, "post_id": 53091107, "comment_id": 93079377, "body": "Why? What&#39;s your actual goal?"}, {"owner": {"reputation": 7720, "user_id": 8921755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dec518adc2024784cc770596a0aa200?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/8921755/ivan"}, "edited": false, "score": 0, "creation_date": 1541016734, "post_id": 53091107, "comment_id": 93079512, "body": "Usually you define <code>compareTo()</code> method in your class which will be used in most cases to sort collections of objects. And then you create separate <code>Comparator</code> classes if you need different sort order in some places."}, {"owner": {"reputation": 115, "user_id": 9242501, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y3TLV.jpg?s=128&g=1", "display_name": "Antonio Alejos", "link": "https://stackoverflow.com/users/9242501/antonio-alejos"}, "edited": false, "score": 0, "creation_date": 1541020600, "post_id": 53091107, "comment_id": 93080895, "body": "so, it would be unnecessary ?  it&#39;s ok by the way i&#39;m doing it? my main goal about this was to use less classes"}], "answers": [{"tags": [], "owner": {"reputation": 2351, "user_id": 10533011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cf679869635f63c1d842fa24604a02?s=128&d=identicon&r=PG&f=1", "display_name": "Donat", "link": "https://stackoverflow.com/users/10533011/donat"}, "is_accepted": false, "score": 1, "last_activity_date": 1541024030, "creation_date": 1541024030, "answer_id": 53092678, "question_id": 53091107, "link": "https://stackoverflow.com/questions/53091107/how-could-i-write-multiple-compareto-methods-in-just-one-class/53092678#53092678", "title": "How could I write multiple &quot;compareTo&quot; methods in just one class?", "body": "<p>I think, you don't want to make a separate class for each sorting order. But it does not work the way you tried. I think, Comparator is a variable with type List of something. Maybe you should try something like this instead:</p>\n\n<pre><code>comparator.sort(comparing(c -&gt; c.referencia));\nSystem.out.println(\"\\nOrdenado por Referencia\");\ncomparator.forEach(System.out::println);\n</code></pre>\n\n<p>The method \"comparing\" here is a static import from the type Comparator of the Java Class Library. This makes you a new comparator without the need of a new named top-level class.</p>\n\n<p>You should start your variable names (here: Comparator) with lowercase letters. This is a general convention in Java.</p>\n"}, {"comments": [{"owner": {"reputation": 115, "user_id": 9242501, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y3TLV.jpg?s=128&g=1", "display_name": "Antonio Alejos", "link": "https://stackoverflow.com/users/9242501/antonio-alejos"}, "edited": false, "score": 0, "creation_date": 1541027432, "post_id": 53092945, "comment_id": 93083029, "body": "thank you!! this is what i was looking for! just one question... what means &#39; :: &#39; ? located right here: Collections.sort(list, MultipleCompareMethods::compareByMonto);"}, {"owner": {"reputation": 50650, "user_id": 3182664, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/2s35X.png?s=128&g=1", "display_name": "Marco13", "link": "https://stackoverflow.com/users/3182664/marco13"}, "reply_to_user": {"reputation": 115, "user_id": 9242501, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y3TLV.jpg?s=128&g=1", "display_name": "Antonio Alejos", "link": "https://stackoverflow.com/users/9242501/antonio-alejos"}, "edited": false, "score": 0, "creation_date": 1541064928, "post_id": 53092945, "comment_id": 93092811, "body": "See <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/&hellip;</a> : The meaning of <code>SomeClass::someMethod</code> can roughly be imagined as &quot;This is an object that contains <b>only</b> a single method - namely, <code>someMethod</code>&quot;. (In your case, this can be imagined as &quot;the comparator object&quot;)"}], "tags": [], "owner": {"reputation": 50650, "user_id": 3182664, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/2s35X.png?s=128&g=1", "display_name": "Marco13", "link": "https://stackoverflow.com/users/3182664/marco13"}, "is_accepted": true, "score": 0, "last_activity_date": 1541025750, "creation_date": 1541025750, "answer_id": 53092945, "question_id": 53091107, "link": "https://stackoverflow.com/questions/53091107/how-could-i-write-multiple-compareto-methods-in-just-one-class/53092945#53092945", "title": "How could I write multiple &quot;compareTo&quot; methods in just one class?", "body": "<p>Instead of creating multiple classes that implement the <code>Comparator</code> interface, you can just create multiple methods that do the comparison. Then, the method itself basically <strong>is</strong> (!) the implementation of the <code>Comparator</code>, and you can just pass it to the <code>Collections#sort</code> method, using a method reference.</p>\n\n<p>Depending on how the comparison will actually take place, an even more concise form would be to use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Comparator#comparing</code></a> methods, as <a href=\"https://stackoverflow.com/a/53092678/3182664\">Donat mentioned in his answer (+1)</a>. Specifically, you could use <code>comparingInt</code> in your example. Both approaches are shown here:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class MultipleCompareMethods\n{\n    public static void main(String[] args)\n    {\n        List&lt;Costos&gt; list = new ArrayList&lt;Costos&gt;();\n\n        list.add(new Costos(1,3));\n        list.add(new Costos(4,5));\n        list.add(new Costos(2,7));\n\n        // Using Method references\n\n        Collections.sort(list, MultipleCompareMethods::compareByReferencia);\n        System.out.println(\"\\nOrdenado por Referencia\");\n        for (int i = 0; i &lt; list.size(); i++)\n            System.out.println(list.get(i));\n\n        Collections.sort(list, MultipleCompareMethods::compareByMonto);\n        System.out.println(\"\\nOrdenado por Monto\");\n        for (int i = 0; i &lt; list.size(); i++)\n            System.out.println(list.get(i));\n\n\n        // Using Comparator#comparingInt:\n\n        Collections.sort(list, Comparator.comparingInt(c -&gt; c.referencia));\n        System.out.println(\"\\nOrdenado por Referencia\");\n        for (int i = 0; i &lt; list.size(); i++)\n            System.out.println(list.get(i));\n\n        Collections.sort(list, Comparator.comparingInt(c -&gt; c.monto));\n        System.out.println(\"\\nOrdenado por Monto\");\n        for (int i = 0; i &lt; list.size(); i++)\n            System.out.println(list.get(i));\n\n    }\n\n    static int compareByReferencia(Costos c0, Costos c1)\n    {\n        return Integer.compare(c0.referencia, c1.referencia);\n    }\n    static int compareByMonto(Costos c0, Costos c1)\n    {\n        return Integer.compare(c0.monto, c1.monto);\n    }\n\n}\n\n\nclass Costos\n{\n    int referencia;\n    int monto;\n\n    Costos(int referencia, int monto)\n    {\n        this.referencia = referencia;\n        this.monto = monto;\n    }\n\n    @Override\n    public String toString()\n    {\n        return \"COSTOS [referencia=\" + referencia + \", monto=\" + monto + \"]\";\n    }\n}\n\n\nclass Costos\n{\n    int referencia;\n    int monto;\n\n    Costos(int referencia, int monto)\n    {\n        this.referencia = referencia;\n        this.monto = monto;\n    }\n\n    @Override\n    public String toString()\n    {\n        return \"COSTOS [referencia=\" + referencia + \", monto=\" + monto + \"]\";\n    }\n}\n</code></pre>\n\n<p>If you offered methods like <code>getReferencia</code> in your class, this could be done even more concisely, again using a method reference:</p>\n\n<pre><code>Collections.sort(list, Comparator.comparingInt(Costos::getReferencia));\n</code></pre>\n\n<p>(Since Java 8, it's hardly ever necessary to actually implement own comparator classes...)</p>\n"}], "owner": {"reputation": 115, "user_id": 9242501, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y3TLV.jpg?s=128&g=1", "display_name": "Antonio Alejos", "link": "https://stackoverflow.com/users/9242501/antonio-alejos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1336, "favorite_count": 0, "accepted_answer_id": 53092945, "answer_count": 2, "score": -1, "last_activity_date": 1541025750, "creation_date": 1541016046, "last_edit_date": 1541016380, "question_id": 53091107, "link": "https://stackoverflow.com/questions/53091107/how-could-i-write-multiple-compareto-methods-in-just-one-class", "title": "How could I write multiple &quot;compareTo&quot; methods in just one class?", "body": "<p>I'm comparing and sorting multiple attribute by two objects, but for that I created different classes to compare those different attributes.</p>\n\n<p>This is in my main class:</p>\n\n<pre><code>Collections.sort(Comparator, new SortByRef());\n        System.out.println(\"\\nOrdenado por Referencia\");\n        for(int i=0; i&lt;Comparator.size(); i++)\n            System.out.println(Comparator.get(i));\n\n\n        Collections.sort(Comparator, new SortByMonto());\n        System.out.println(\"\\nOrdenado por Monto\");\n        for(int i=0; i&lt;Comparator.size(); i++)\n            System.out.println(Comparator.get(i));\n\n        Collections.sort(Comparator, new SortByDes());\n        System.out.println(\"\\nOrdenado por Descripcion\");\n        for(int i=0; i&lt;Comparator.size(); i++)\n            System.out.println(Comparator.get(i));\n\n        Collections.sort(Comparator, new SortByNP());\n        System.out.println(\"\\nOrdenado por Numero de parte\");\n        for(int i=0; i&lt;Comparator.size(); i++)\n            System.out.println(Comparator.get(i));\n</code></pre>\n\n<p>As you can see, in <code>Collections.sort</code>, I created different <code>SortBy...</code>, I mean, different classes for each one.</p>\n\n<p>But I want to create just ONE class to compare all the attributes. How could I do it?</p>\n\n<p>For example, these are my methods I created:</p>\n\n<pre><code>public int compare(COSTOS ref1, COSTOS ref2) {\n        return ref1.referencia - ref2.referencia;}\n\npublic int compare(COSTOS monto1, COSTOS monto2) {\n        return (int) (monto1.monto - monto2.monto);\n    }\n</code></pre>\n"}, {"tags": ["java", "arrays", "reader"], "comments": [{"owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "edited": false, "score": 0, "creation_date": 1541016164, "post_id": 53091065, "comment_id": 93079248, "body": "I think the Javascript tag should be replaced by a Java tag"}, {"owner": {"reputation": 1, "user_id": 10519533, "user_type": "registered", "profile_image": "https://graph.facebook.com/1938461909553080/picture?type=large", "display_name": "Sam Aarnoutse", "link": "https://stackoverflow.com/users/10519533/sam-aarnoutse"}, "reply_to_user": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "edited": false, "score": 0, "creation_date": 1541016293, "post_id": 53091065, "comment_id": 93079306, "body": "Fixed the tag, thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 406, "user_id": 10586599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02793dde76b7a83a0d238885fc23a471?s=128&d=identicon&r=PG&f=1", "display_name": "Amethystx87", "link": "https://stackoverflow.com/users/10586599/amethystx87"}, "is_accepted": false, "score": 0, "last_activity_date": 1541016562, "creation_date": 1541016562, "answer_id": 53091215, "question_id": 53091065, "link": "https://stackoverflow.com/questions/53091065/ask-user-for-command-including-a-filename-confusion/53091215#53091215", "title": "Ask user for command including a filename confusion", "body": "<p>Instead what you can do here is to use the split function to break apart your command like so:</p>\n\n<pre><code>String line = bufferedReader.readLine();\nString command = line.split(\" \")[0];\nString fileName = line.substring(command.length);\n</code></pre>\n\n<p>And that way your fileName will be the rest of the String, and the command just the first element. <code>command</code> should be the command and <code>fileName</code> should be the file's name.</p>\n"}, {"tags": [], "owner": {"reputation": 11024, "user_id": 419705, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/cvuY8.png?s=128&g=1", "display_name": "Roddy of the Frozen Peas", "link": "https://stackoverflow.com/users/419705/roddy-of-the-frozen-peas"}, "is_accepted": false, "score": 0, "last_activity_date": 1541016614, "creation_date": 1541016614, "answer_id": 53091232, "question_id": 53091065, "link": "https://stackoverflow.com/questions/53091065/ask-user-for-command-including-a-filename-confusion/53091232#53091232", "title": "Ask user for command including a filename confusion", "body": "<p>If you get the entire command in one input, you can parse out the first word -- understanding that this is the 'action' -- and then the rest is the filename.</p>\n\n<p>So first you'd get the entire command:</p>\n\n<pre><code>Scanner input=new Scanner(System.in);\nSystem.out.println(\"Please enter command: \");\nString command = input.nextLine();\n</code></pre>\n\n<p>Then you'll want to parse out the action. It will always be the first word.</p>\n\n<pre><code>String action = command.substring(0, command.indexOf(' ')).trim();\nString fileName = command.substring(command.indexOf(' ')).trim();\n</code></pre>\n\n<p>Now you can check what the action is and use the file as needed.</p>\n\n<p>String's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#indexOf-int-\" rel=\"nofollow noreferrer\"><code>indexOf</code></a> method will return the index of the first occurrance of the specified character. So in this case we're using it to get the index of the first space. Note that <code>indexOf</code> will return -1 if the character is not present, so you'll want to trap appropriately for that. (Example scenario: user just enters \"read\" without a filename.)</p>\n"}], "owner": {"reputation": 1, "user_id": 10519533, "user_type": "registered", "profile_image": "https://graph.facebook.com/1938461909553080/picture?type=large", "display_name": "Sam Aarnoutse", "link": "https://stackoverflow.com/users/10519533/sam-aarnoutse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541016614, "creation_date": 1541015878, "last_edit_date": 1541016246, "question_id": 53091065, "link": "https://stackoverflow.com/questions/53091065/ask-user-for-command-including-a-filename-confusion", "title": "Ask user for command including a filename confusion", "body": "<p>In this part of my program I ask the user for a command and a filename. The command can be 'read', 'content' or 'count'. In all the different tasks I need a file. I want the user to type in the console something like:</p>\n\n<pre><code>read Alice's Adventures In Wonderland.txt\n</code></pre>\n\n<p>For some reason I don't get how to implement this in 1 command. Now, I'm first asking the filename and afterwards I ask what to do with it. The following example is the 'read' command which asks for a file and counts all the words in the file:</p>\n\n<pre><code>case \"read\":\n            int nrWords=countAllWords();\n            System.out.println(\"The number of words in this file is: \"+nrWords+\"\\n\");\n            break;\n</code></pre>\n\n<p>.</p>\n\n<pre><code> private static int countAllWords() throws IOException\n  {\n    Scanner input=new Scanner(System.in);\n    System.out.println(\"Please enter file name: \");\n    String fileName=input.nextLine();\n\n    FileInputStream inputStream=new FileInputStream(fileName);\n    BufferedReader bufferedReader=new BufferedReader(new InputStreamReader(inputStream));\n    String line=bufferedReader.readLine();\n    int nrWords=0;\n\n    while(line!=null)\n    {\n      String[] wordsInLine=line.split(\" \");\n      nrWords=nrWords+wordsInLine.length;\n      line=bufferedReader.readLine();\n    }\n    return nrWords;\n  }\n</code></pre>\n\n<p>Can somebody explain how I can fit those 2 commands into one senctence in which my code understands what relates to what?</p>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 63555, "user_id": 1094597, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d42a80b4c1210d697031449b8f86df38?s=128&d=identicon&r=PG", "display_name": "kosa", "link": "https://stackoverflow.com/users/1094597/kosa"}, "edited": false, "score": 2, "creation_date": 1541015838, "post_id": 53091030, "comment_id": 93079102, "body": "double a = a + n;  Is this program compiling at all?"}, {"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1541015876, "post_id": 53091030, "comment_id": 93079115, "body": "Please read &quot;How to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot;. Then use the <a href=\"https://stackoverflow.com/posts/53091030/edit\">edit</a> link to improve your question (do not add more information via comments). Otherwise we are not able to answer your question and help you."}, {"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1541015917, "post_id": 53091030, "comment_id": 93079136, "body": "<code>z&lt;20 || z&gt;0</code> can never be false."}, {"owner": {"reputation": 21, "user_id": 10531030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAoXn.jpg?s=128&g=1", "display_name": "Raphael Eid", "link": "https://stackoverflow.com/users/10531030/raphael-eid"}, "reply_to_user": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1541016005, "post_id": 53091030, "comment_id": 93079167, "body": "@shmosel the dr told us that we should put in while the contradiction of the condition"}, {"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1541016060, "post_id": 53091030, "comment_id": 93079192, "body": "And just for the record as newbies forget so often about that: please consider accepting helpful answers at some point."}, {"owner": {"reputation": 21, "user_id": 10531030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAoXn.jpg?s=128&g=1", "display_name": "Raphael Eid", "link": "https://stackoverflow.com/users/10531030/raphael-eid"}, "reply_to_user": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1541016142, "post_id": 53091030, "comment_id": 93079234, "body": "@ghostcat yeah no problem man, i accept answers from everyone and thank you for you comment"}, {"owner": {"reputation": 21, "user_id": 10531030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAoXn.jpg?s=128&g=1", "display_name": "Raphael Eid", "link": "https://stackoverflow.com/users/10531030/raphael-eid"}, "reply_to_user": {"reputation": 23944, "user_id": 1305969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wlo8z.png?s=128&g=1", "display_name": "zx485", "link": "https://stackoverflow.com/users/1305969/zx485"}, "edited": false, "score": 0, "creation_date": 1541017362, "post_id": 53091030, "comment_id": 93079718, "body": "@zx485 nop, I just didn&#39;t understand how to do it, my still a beginner"}, {"owner": {"reputation": 9567, "user_id": 7916438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8541ff62182bcfd172e116a4e0d2fa58?s=128&d=identicon&r=PG", "display_name": "tevemadar", "link": "https://stackoverflow.com/users/7916438/tevemadar"}, "edited": false, "score": 0, "creation_date": 1541030004, "post_id": 53091030, "comment_id": 93083636, "body": "&#237;Side note: you have a do-while loop, so that bracketed-indented line with the problematic double-attempt is extremely misleading, after fixing, it should be on the same level as the do and the while, without the curly braces."}, {"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1541060589, "post_id": 53091030, "comment_id": 93090979, "body": "By &quot;accept&quot; I mean that you actually <b>mark</b> an answer as accepted (here in the UI, the checkbox on the left hand side of the answer). And no, for the two questions you asked, you didn&#39;t <i>accept</i> an answer yet ;-)"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10531030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAoXn.jpg?s=128&g=1", "display_name": "Raphael Eid", "link": "https://stackoverflow.com/users/10531030/raphael-eid"}, "edited": false, "score": 0, "creation_date": 1541016270, "post_id": 53091083, "comment_id": 93079294, "body": "I thought that was the problem what are you talking about, but the doctor told us that using this, we can calculate note we put in the output, but how to solve it? How to calculate how much he put notes?"}, {"owner": {"reputation": 21, "user_id": 10531030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAoXn.jpg?s=128&g=1", "display_name": "Raphael Eid", "link": "https://stackoverflow.com/users/10531030/raphael-eid"}, "edited": false, "score": 0, "creation_date": 1541016367, "post_id": 53091083, "comment_id": 93079345, "body": "Can i use double a; a += n ?"}, {"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "reply_to_user": {"reputation": 21, "user_id": 10531030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAoXn.jpg?s=128&g=1", "display_name": "Raphael Eid", "link": "https://stackoverflow.com/users/10531030/raphael-eid"}, "edited": false, "score": 0, "creation_date": 1541060593, "post_id": 53091083, "comment_id": 93090982, "body": "What prevents you from trying? Seriously: you don&#39;t learn programming from asking for explanations. You make experiments. And then you quickly find out: when you just write <code>double a</code>; then there will be a compiler error telling you about <code>a</code> not being initialized."}], "tags": [], "owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "is_accepted": false, "score": 1, "last_activity_date": 1541015953, "creation_date": 1541015953, "answer_id": 53091083, "question_id": 53091030, "link": "https://stackoverflow.com/questions/53091030/variable-double-giving-me-error-and-program-is-doing-infinte-loop/53091083#53091083", "title": "variable &quot;double&quot; giving me error, and program is doing infinte loop?", "body": "<p>Simple:</p>\n\n<pre><code>double a = a + n;\n</code></pre>\n\n<p>You can't <strong>define</strong> a variable and initialize it with <strong>itself</strong>.</p>\n\n<p>Meaning: it is not possible to declare <code>a</code>, but also assign a value to <code>a</code> that requires <code>a</code>.</p>\n\n<p>In other words: the code you wrote really makes no sense. Maybe you should simply put: <code>double a = 0</code> somewhere above that statement, and then only do: <code>a = a + n</code> further down.</p>\n\n<p>And of course: also use real names. <code>a</code>, <code>n</code>, those names mean nothing. Use something that tells the human reader about the intent of these variables.</p>\n"}, {"comments": [{"owner": {"reputation": 17061, "user_id": 507738, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7ghSp.jpg?s=128&g=1", "display_name": "MC Emperor", "link": "https://stackoverflow.com/users/507738/mc-emperor"}, "edited": false, "score": 0, "creation_date": 1541070171, "post_id": 53099766, "comment_id": 93095420, "body": "Especially <code>while(...); { }</code> is a tricky one, since an empty statement (<code>;</code>) is infinitely executed if the condition in the <code>while</code> statement is initially <code>true</code>."}, {"owner": {"reputation": 9567, "user_id": 7916438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8541ff62182bcfd172e116a4e0d2fa58?s=128&d=identicon&r=PG", "display_name": "tevemadar", "link": "https://stackoverflow.com/users/7916438/tevemadar"}, "reply_to_user": {"reputation": 17061, "user_id": 507738, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7ghSp.jpg?s=128&g=1", "display_name": "MC Emperor", "link": "https://stackoverflow.com/users/507738/mc-emperor"}, "edited": false, "score": 0, "creation_date": 1541070453, "post_id": 53099766, "comment_id": 93095569, "body": "@MCEmperor yes, first I was looking at that part as OP mentioned having an endless loop somewhere, then I saw it would not touch <code>z</code> even if it was a <code>while</code> loop without the semicolon, and only then I realized it was not a loop at all."}], "tags": [], "owner": {"reputation": 9567, "user_id": 7916438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8541ff62182bcfd172e116a4e0d2fa58?s=128&d=identicon&r=PG", "display_name": "tevemadar", "link": "https://stackoverflow.com/users/7916438/tevemadar"}, "is_accepted": true, "score": 1, "last_activity_date": 1541069473, "creation_date": 1541069473, "answer_id": 53099766, "question_id": 53091030, "link": "https://stackoverflow.com/questions/53091030/variable-double-giving-me-error-and-program-is-doing-infinte-loop/53099766#53099766", "title": "variable &quot;double&quot; giving me error, and program is doing infinte loop?", "body": "<p>Fixes and suggestions:</p>\n\n<ol>\n<li>Variables have to be initialized first (strictly without referring themselves), \"updates\" (referring themselves, the <code>a=a+something</code>, <code>a++</code>, <code>a+=something</code> kind of things) can happen only afterwards</li>\n<li>In Java you usually bring variable declaration and usage close to each other, and remember that you can declare and initialize a variable in a single statement.</li>\n<li>In the case of using a <code>do-while</code> loop, do not bracket+indent lines following the <code>while(...);</code>, such following lines are on the same level as the <code>do-while</code> loop itself</li>\n<li>Whitespace preceding <code>.</code> looks strange, unless you break an expression into several lines</li>\n</ol>\n\n<p>Put them together:</p>\n\n<pre><code>package minmax;\n\nimport java.util.Scanner;\n\npublic class MinMax {\n\n  public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n\n    System.out.println(\"Combien de notes vous avez? \");\n    int x = in.nextInt();\n\n    double a = 0;\n\n    for (int y = 0; y &lt; x; y++) {\n      int z;\n      do {\n        System.out.println(\"Mettez votre note :\");\n        z = in.nextInt();\n      }\n      while (z &lt; 0 || z &gt; 20);\n      a = a + z;\n    }\n\n    System.out.println(\"Votre moyenne est : \" + (a / x));\n  }\n}\n</code></pre>\n\n<p>(Plus <code>a=a+n</code> became <code>a=a+z</code> for the obvious reason of <code>z</code> containing the number from the user, and the comparison directions had to be swapped - assuming that you want numbers between 0...20)</p>\n"}], "owner": {"reputation": 21, "user_id": 10531030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAoXn.jpg?s=128&g=1", "display_name": "Raphael Eid", "link": "https://stackoverflow.com/users/10531030/raphael-eid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 53099766, "answer_count": 2, "score": 0, "last_activity_date": 1541069473, "creation_date": 1541015719, "last_edit_date": 1541016390, "question_id": 53091030, "link": "https://stackoverflow.com/questions/53091030/variable-double-giving-me-error-and-program-is-doing-infinte-loop", "title": "variable &quot;double&quot; giving me error, and program is doing infinte loop?", "body": "<p>I need to ask the user how many times he want to put his notes, then do a loop \n how many times he need to put his note and finally calculate the moyenne, but im putting that double a = a+n; means that it calculate the notes number, and finally in s.o.p, im putting to divide the notes number on how much he asked first.\njava is giving me error, any help?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>package minmax;\n\nimport java.util.Scanner;\n\npublic class MinMax {\n\n  public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n\n    int x, y, z;\n    System.out.println(\"Combien de notes vous avez? \");\n    x = in .nextInt();\n\n    for (y = 0; y &lt; x; y++) {\n      do {\n        System.out.println(\"Mettez votre note :\");\n        z = in .nextInt();\n      }\n      while (z &lt; 20 || z &gt; 0); {\n        double a = a + n;\n      }\n    }\n\n    System.out.println(\"Votre moyenne est : \" + (a / x));\n  }\n}\n</code></pre>\n"}, {"tags": ["java", "dry", "code-reuse"], "comments": [{"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1541015429, "post_id": 53090939, "comment_id": 93078912, "body": "Make static factory method. + <code>Fibonacci</code> is not a class but an interface."}], "answers": [{"comments": [{"owner": {"reputation": 289, "user_id": 10565666, "user_type": "registered", "profile_image": "https://graph.facebook.com/1984187521627914/picture?type=large", "display_name": "Minh Quang Ngo", "link": "https://stackoverflow.com/users/10565666/minh-quang-ngo"}, "edited": false, "score": 2, "creation_date": 1541021012, "post_id": 53090976, "comment_id": 93081070, "body": "Your answers are right, but it made memoized version is slower than the recursive version."}, {"owner": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "reply_to_user": {"reputation": 289, "user_id": 10565666, "user_type": "registered", "profile_image": "https://graph.facebook.com/1984187521627914/picture?type=large", "display_name": "Minh Quang Ngo", "link": "https://stackoverflow.com/users/10565666/minh-quang-ngo"}, "edited": false, "score": 0, "creation_date": 1541029705, "post_id": 53090976, "comment_id": 93083591, "body": "@MinhQuangNgo Why would the memoized version be slower? The cache is being used so already calculated values doesn&#39;t get calculated again."}, {"owner": {"reputation": 149, "user_id": 3884689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eccfec1be347a0241335555a88127902?s=128&d=identicon&r=PG&f=1", "display_name": "eclipz905", "link": "https://stackoverflow.com/users/3884689/eclipz905"}, "edited": false, "score": 2, "creation_date": 1541080142, "post_id": 53090976, "comment_id": 93100705, "body": "@Mureinik SimpleRecursiveFibonacci does not take advantage of the cache. If <code>n</code> is not in the cache, calling the memoized function is the same as calling the simple one, even if <code>n-1</code> and <code>n-2</code> are in the cache. One reason it could be slower is from the overhead of the searching the cache on cache misses."}, {"owner": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "edited": false, "score": 1, "creation_date": 1541093842, "post_id": 53090976, "comment_id": 93108299, "body": "This implementation would only work if the cache was pre-populated - using e.g. <code>var memoized = new MemoizedRecursiveFibonacci(); memoized(100);</code> (which would take <i>ages</i> to calculate. From there on, any calls to <code>memoized.fibonacci(n)</code> for n &lt; 100 would be quick. But that&#39;s not the definition of &quot;memoized&quot;. A proper memoized method should <i>use</i> previously calculated values; therefore it cannot do it by delegating to the simple recursive version. Also, <code>Map.computeIfAbsent</code> cannot be used to implement a memoized fibonacci method."}], "tags": [], "owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "is_accepted": true, "score": 2, "last_activity_date": 1541015491, "creation_date": 1541015491, "answer_id": 53090976, "question_id": 53090939, "link": "https://stackoverflow.com/questions/53090939/how-can-i-remove-duplicated-code-between-classes-without-implements/53090976#53090976", "title": "How can I remove duplicated code between classes without implements?", "body": "<p>The <code>MemorizedRecursiveFibonacci</code> can delegate to a <code>RecursiveFibonacci</code> instance:</p>\n\n<pre><code>public class MemoizedRecursiveFibonacci implements Fibonacci {\n  SimpleRecursiveFibonacci simple = new SimpleRecursiveFibonacci();\n  private Map&lt;Integer, BigInteger&gt; cache = new HashMap&lt;&gt;();\n\n  public BigInteger fibonacci(int n) {\n    if(!cache.containsKey(n)) {\n      BigInteger currentFibonacci = simple.fibonacci(n);\n      cache.put(n, currentFibonacci);\n    }\n\n    return cache.get(n);\n  }\n}\n</code></pre>\n\n<p>Or, even more elegantly, using Java 8's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Map#computeIfAbsent</code></a>:</p>\n\n<pre><code>public class MemoizedRecursiveFibonacci implements Fibonacci {\n  SimpleRecursiveFibonacci simple = new SimpleRecursiveFibonacci();\n  private Map&lt;Integer, BigInteger&gt; cache = new HashMap&lt;&gt;();\n\n  public BigInteger fibonacci(int n) {\n    return cache.computeIfAbsent(n, k -&gt; simple.fibonacci(k));\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 2087498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VQaDT.jpg?s=128&g=1", "display_name": "juicy_cesar", "link": "https://stackoverflow.com/users/2087498/juicy-cesar"}, "is_accepted": false, "score": 1, "last_activity_date": 1541015979, "creation_date": 1541015979, "answer_id": 53091088, "question_id": 53090939, "link": "https://stackoverflow.com/questions/53090939/how-can-i-remove-duplicated-code-between-classes-without-implements/53091088#53091088", "title": "How can I remove duplicated code between classes without implements?", "body": "<p>What about an abstract common parent?\nSomething like this:</p>\n\n<pre><code>public abstract class ParentFibonacci implements Fibonacci {\n    protected BigInteger getFirstValues(int n) {\n        if (n &lt; 2) {\n            return BigInteger.ONE;\n        }\n        return BigInteger.ZERO;\n    }\n}\n</code></pre>\n\n<p>This way your Fibonacci implementation need to implement Fibonacci.fibonacci(int n) and can use parent methods.</p>\n\n<pre><code>public class SimpleRecursiveFibonacci extends ParentFibonacci {\n\n    public BigInteger fibonacci(int n) {\n        if (n &lt; 2) {\n            return getFirstValues();\n        }\n        return fibonacci(n - 2).add(fibonacci(n - 1));\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 289, "user_id": 10565666, "user_type": "registered", "profile_image": "https://graph.facebook.com/1984187521627914/picture?type=large", "display_name": "Minh Quang Ngo", "link": "https://stackoverflow.com/users/10565666/minh-quang-ngo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 1, "accepted_answer_id": 53090976, "answer_count": 2, "score": -1, "last_activity_date": 1541015979, "creation_date": 1541015284, "last_edit_date": 1541015918, "question_id": 53090939, "link": "https://stackoverflow.com/questions/53090939/how-can-i-remove-duplicated-code-between-classes-without-implements", "title": "How can I remove duplicated code between classes without implements?", "body": "<p>I wrote many implementations of a function to compute the Fibonacci number at a given position.</p>\n\n<p><strong>Fibonacci Class</strong>: this class helps me to test each implementation without rewrite same test code. I don't want to add \"<code>fibonacci(n - 2).add(fibonacci(n - 1));</code>\"  here because some implementations do not use it (imperative iteration, functional iteration).</p>\n\n<pre><code>public interface Fibonacci {\n  BigInteger fibonacci(int n);\n\n}\n</code></pre>\n\n<p><strong>RecursiveFibonacci Class</strong></p>\n\n<pre><code>public class SimpleRecursiveFibonacci implements Fibonacci{\n\n  public BigInteger fibonacci(int n) {\n    if(n &lt; 2) {\n      return BigInteger.ONE;             \n    }\n\n    return fibonacci(n - 2).add(fibonacci(n - 1));\n  }\n}\n</code></pre>\n\n<p><strong>and MemorizedRecursiveFibonacci Class</strong></p>\n\n<pre><code>public class MemoizedRecursiveFibonacci implements Fibonacci{\n  private Map&lt;Integer, BigInteger&gt; cache = new HashMap&lt;&gt;();\n\n  public BigInteger fibonacci(int n) {\n    if(n &lt; 2) {\n      return BigInteger.ONE;\n    }\n    if(!cache.containsKey(n)){\n      BigInteger currentFibonacci = fibonacci(n - 2).add(fibonacci(n - 1));\n      cache.put(n, currentFibonacci);\n    }\n\n    return cache.get(n);\n  }\n}\n</code></pre>\n\n<p>As I see, there are some duplicated code in MemorizedRecursiveFibonacci Class</p>\n\n<pre><code> if(n &lt; 2) {\n      return BigInteger.ONE;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>  BigInteger currentFibonacci = fibonacci(n - 2).add(fibonacci(n - 1));\n</code></pre>\n\n<p>How can I keep it DRY? remove duplicated code?</p>\n"}, {"tags": ["java", "recursion", "linked-list"], "comments": [{"owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "edited": false, "score": 0, "creation_date": 1541015132, "post_id": 53090860, "comment_id": 93078764, "body": "Have you tried anything yet? What exactly was the problem?"}], "answers": [{"tags": [], "owner": {"reputation": 624, "user_id": 10023107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GLme.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/10023107/chris"}, "is_accepted": false, "score": 0, "last_activity_date": 1541016408, "creation_date": 1541016408, "answer_id": 53091173, "question_id": 53090860, "link": "https://stackoverflow.com/questions/53090860/recursive-method-deleting-all-occurrences/53091173#53091173", "title": "Recursive method deleting all occurrences", "body": "<p>why should it be recursive?\nas i have not much information, let's just guess the generic type of your list is \"String\"... (could be anything else).</p>\n\n<pre><code>LinkedList&lt;String&gt; removeObjects(LinkedList&lt;String&gt; inputList, String stringToRemove) {\n    LinkedList&lt;String&gt; output = inputList;\n    if (output.contains(stringToRemove)) {\n        output.remove(stringToRemove);\n        return removeObjects(output, stringToRemove);\n    } else return output;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10587810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abd69057f667463e0ae913ba923439d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sara", "link": "https://stackoverflow.com/users/10587810/sara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1541016408, "creation_date": 1541014974, "question_id": 53090860, "link": "https://stackoverflow.com/questions/53090860/recursive-method-deleting-all-occurrences", "title": "Recursive method deleting all occurrences", "body": "<p>How can I create a recursive method that takes Singly linked list and an element as parameters\nthen deletes all occurrences of that element from the list, starting from the current element? </p>\n"}, {"tags": ["java", "swing", "jlist", "defaultlistmodel"], "answers": [{"tags": [], "owner": {"reputation": 306906, "user_id": 131872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0ced8e21d2a761db718acb6362b9225?s=128&d=identicon&r=PG", "display_name": "camickr", "link": "https://stackoverflow.com/users/131872/camickr"}, "is_accepted": true, "score": 4, "last_activity_date": 1541022908, "creation_date": 1541022908, "answer_id": 53092503, "question_id": 53090745, "link": "https://stackoverflow.com/questions/53090745/display-simple-name-of-file-object-in-jlist/53092503#53092503", "title": "Display Simple Name of File Object in JList", "body": "<p>You would do this by creating a custom renderer:</p>\n\n<pre><code>class FileRenderer extends DefaultListCellRenderer\n{\n    public Component getListCellRendererComponent(\n        JList list, Object value, int index, boolean isSelected, boolean cellHasFocus)\n    {\n        super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\n\n        File file = (File)value;\n        setText( file.getName() );\n\n        return this;\n    }\n}\n</code></pre>\n\n<p>Then you set the renderer for the JList using:</p>\n\n<pre><code>list.setCellRenderer( new FileRenderer() );\n</code></pre>\n\n<p>For more information and working examples see the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html#renderer\" rel=\"nofollow noreferrer\">Writing a Custom Cell Renderer</a></p>\n"}], "owner": {"reputation": 53, "user_id": 9035051, "user_type": "registered", "profile_image": "https://graph.facebook.com/2013621728922142/picture?type=large", "display_name": "A BeauTifful Life", "link": "https://stackoverflow.com/users/9035051/a-beautifful-life"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 492, "favorite_count": 0, "accepted_answer_id": 53092503, "answer_count": 1, "score": 0, "last_activity_date": 1541022908, "creation_date": 1541014421, "question_id": 53090745, "link": "https://stackoverflow.com/questions/53090745/display-simple-name-of-file-object-in-jlist", "title": "Display Simple Name of File Object in JList", "body": "<p>When I add a file object into a DefaultListModel, which is used to create a JList, with <code>model.addElement(file)</code>, the displayed text in the JList is the path to the file. But I only want the file name to be displayed. I cannot do <code>model.addElement(file.getName())</code>, however, because I need access to the file object, not just a string, later on. </p>\n\n<p>How can I add a file object to a list/model while displaying only the file name? Thank you!</p>\n"}, {"tags": ["java", "mkv"], "comments": [{"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 1, "creation_date": 1541014336, "post_id": 53090605, "comment_id": 93078354, "body": "Totally not an answer: this is something where Java comes in clumsy and boilerplate. I would rather use some python script here, or hey: a windows powershell script..."}, {"owner": {"reputation": 258, "user_id": 3399253, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zKAkP.gif?s=128&g=1", "display_name": "whitebloodcell", "link": "https://stackoverflow.com/users/3399253/whitebloodcell"}, "reply_to_user": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 1, "creation_date": 1541064071, "post_id": 53090605, "comment_id": 93092408, "body": "Probably would have been better, but I was trying to do it quickly (obviously failed at that) and I don&#39;t know how to write powershell scripts (or Python)."}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 5252939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y7ZaT.jpg?s=128&g=1", "display_name": "thatfellowoveryonder", "link": "https://stackoverflow.com/users/5252939/thatfellowoveryonder"}, "is_accepted": false, "score": 0, "last_activity_date": 1555260804, "creation_date": 1555260804, "answer_id": 55677765, "question_id": 53090605, "link": "https://stackoverflow.com/questions/53090605/how-to-call-mkvmerge-correctly-from-within-a-java-program/55677765#55677765", "title": "How to call mkvmerge correctly from within a Java program?", "body": "<p>I was writing a similar program in Go and ran into the same error.\nApparently the spaces in the arguments (e.g. --language 0:eng) cause this problem. I tried to split those into separate arguments and it seems to work:</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    String mkvmerge = \"C:\\\\Program Files\\\\MKVToolNix\\\\mkvmerge.exe\";\n\n    List&lt;String&gt; command = new ArrayList&lt;String&gt;();\n    command.add(mkvmerge);\n\n    command.add(\"--ui-language\");\n    command.add(\"en\");\n    command.add(\"--output\");\n    command.add(\"D:\\\\Dump\\\\test.mkv\");\n    command.add(\"--language\");\n    command.add(\"0:eng\");\n    command.add(\"--default-track\");\n    command.add(\"0:yes\");\n    command.add(\"--language\");\n    command.add(\"1:eng\");\n    command.add(\"--default-track\");\n    command.add(\"1:yes\");\n    command.add(\"--language\");\n    command.add(\"2:eng\");\n    command.add(\"D:\\\\Dump\\\\Game of Thrones\\\\Game.of.Thrones.S01.1080p.WEB-DL.DD5.1.H.264-SA89[rartv]\\\\Game.of.Thrones.S01E01.Winter.Is.Coming.1080p.WEB-DL.DD5.1.H.264-SA89.mkv\");\n    command.add(\"--sub-charset\");\n    command.add(\"0:UTF-8\");\n    command.add(\"--language\");\n    command.add(\"0:eng\");\n    command.add(\"D:\\\\Dump\\\\Game of Thrones\\\\Game.of.Thrones.S01.1080p.WEB-DL.DD5.1.H.264-SA89[rartv]\\\\Subs\\\\Game.of.Thrones.S01E01.Winter.Is.Coming.1080p.WEB-DL.DD5.1.H.264-SA89.srt\");\n    command.add(\"--track-order\");\n    command.add(\"0:0,0:1,0:2,1:0\");\n\n    ProcessBuilder builder = new ProcessBuilder(command);\n    builder.redirectErrorStream(true);\n    Process process = builder.start();\n\n    BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n    String line = null;\n    while ((line = reader.readLine()) != null) {\n        System.out.println(line);\n    }\n}\n</code></pre>\n\n<p>For some reason this doesn't apply to spaces in paths.\nThis works in Go as well.</p>\n"}], "owner": {"reputation": 258, "user_id": 3399253, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zKAkP.gif?s=128&g=1", "display_name": "whitebloodcell", "link": "https://stackoverflow.com/users/3399253/whitebloodcell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 354, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1555260804, "creation_date": 1541013796, "last_edit_date": 1541064160, "question_id": 53090605, "link": "https://stackoverflow.com/questions/53090605/how-to-call-mkvmerge-correctly-from-within-a-java-program", "title": "How to call mkvmerge correctly from within a Java program?", "body": "<p>I have a few hundred episodes of an anime for which I would like to merge the subtitle and video files I have into one. I decided to write a short Java program to loop through the files and merge them. The video files are named Bleach1.mkv, the subtitles as Bleach1.srt. To avoid any potential issues with spaces the files are saved at the root of my C drive. The code I have written is below. </p>\n\n<p>According to the documentation for mkvmerge, the appropriate command line call would be \"mkvmerge -o remux_Bleach1.mkv Bleach1.mkv Bleach1.srt\". I have confirmed and this does in fact work. I am running the java program from a different folder at the moment, so I used absolute paths for each of the files. </p>\n\n<p>The command in my code prints out as being \"[C:\\Program Files\\MKVToolNix\\mkvmerge.exe, -o C:\\Bleach\\remux_Bleach_1.mkv C:\\Bleach\\Bleach_1.mkv  C:\\Bleach\\Bleach_1.srt]\"</p>\n\n<p>The error message I am getting back from mkvmerge is \"Error: no destination file name was given.\"</p>\n\n<p>I don't understand exactly how the arguments are passed when using ProcessBuilder - what am I doing wrong?</p>\n\n<pre><code>import org.apache.commons.io.FilenameUtils;\n\nimport java.io.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class Main {\n\n    private static String mkvmergePath = \"C:\\\\Program Files\\\\MKVToolNix\\\\mkvmerge.exe\";\n\n    public static void mergeVideoAndSubtitles(final File folder, String videoExtension, String subtitleExtension) {\n        for (final File fileEntry : folder.listFiles()) {\n            if (fileEntry.isDirectory()) {\n                listFilesForFolder(fileEntry, videoExtension, subtitleExtension);\n                // for each mkv file that is found\n            } else if (FilenameUtils.isExtension(fileEntry.getName(), videoExtension)) {\n                String parentFolderPath = fileEntry.getParentFile().getPath();\n                String baseName = FilenameUtils.getBaseName(fileEntry.getName());\n                String outputFileAbsolutePath = parentFolderPath + \"\\\\remux_\" + fileEntry.getName();\n                String inputVideoAbsolutePath = fileEntry.getAbsolutePath();\n                String inputSubtitleAbsolutePath = parentFolderPath + \"\\\\\" + baseName + \".\" + subtitleExtension;\n                String param1 = \"-o \" + outputFileAbsolutePath + \" \" + inputVideoAbsolutePath + \" \" + \n                        inputSubtitleAbsolutePath;\n//                String param2 = \"--default-track \\\"und\\\"\";\n//                String param3 = \"--language 0:und \" + baseName + \".\" + subtitleExtension + \"\\\"\";\n//                System.out.println(param1);\n//                System.out.println(param2);\n//                System.out.println(param3);\n                BufferedReader br = null;\n                String line;\n                try {\n                List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n                list.add(mkvmergePath);\n                list.add(param1);\n\n                ProcessBuilder build = new ProcessBuilder(list);\n                    System.out.println(build.command());\n                                        Process process = build.start();\n\n                    InputStream is = process.getInputStream();\n                    InputStreamReader isr = new InputStreamReader(is);\n                    br = new BufferedReader(isr);\n\n                    while ((line = br.readLine()) != null) {\n                        System.out.println(line);\n                    }\n\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        final File folder = new File(\"C:\\\\Bleach\");\n        mergeVideoAndSubtitles(folder, \"mkv\", \"srt\");\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android"], "comments": [{"owner": {"reputation": 6925, "user_id": 882251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6fcbed75edf82be759579f3fed59ab55?s=128&d=identicon&r=PG&f=1", "display_name": "Darwind", "link": "https://stackoverflow.com/users/882251/darwind"}, "edited": false, "score": 1, "creation_date": 1541013948, "post_id": 53090604, "comment_id": 93078150, "body": "Where are you calling: <code>displayMensaje()</code>?"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 1, "creation_date": 1541013966, "post_id": 53090604, "comment_id": 93078164, "body": "Isn&#39;t displaying anything because you aren&#39;t calling <code>displayMensaje</code> method at all, right? Please responde with @."}, {"owner": {"reputation": 16285, "user_id": 4860513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zNzBp.jpg?s=128&g=1", "display_name": "W0rmH0le", "link": "https://stackoverflow.com/users/4860513/w0rmh0le"}, "edited": false, "score": 2, "creation_date": 1541013973, "post_id": 53090604, "comment_id": 93078167, "body": "Did you add android:onClick=&quot;displayMensaje&quot; to the button at activity_actividad_dos.xml"}, {"owner": {"reputation": 125, "user_id": 5482212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXV72.jpg?s=128&g=1", "display_name": "Dexter Naru", "link": "https://stackoverflow.com/users/5482212/dexter-naru"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 1, "creation_date": 1541014395, "post_id": 53090604, "comment_id": 93078388, "body": "@AlexMamo you&#39;re right. I added that call and it&#180;s functioning perfectly."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1541014812, "post_id": 53090604, "comment_id": 93078604, "body": "@DexterNaru Good to hear that. I just posted an answer to this question."}], "answers": [{"tags": [], "owner": {"reputation": 2989, "user_id": 6140314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2dv2.jpg?s=128&g=1", "display_name": "Mohamed Anees A", "link": "https://stackoverflow.com/users/6140314/mohamed-anees-a"}, "is_accepted": false, "score": 1, "last_activity_date": 1541014134, "creation_date": 1541014134, "answer_id": 53090683, "question_id": 53090604, "link": "https://stackoverflow.com/questions/53090604/message-toast-not-showing/53090683#53090683", "title": "Message (toast) not showing", "body": "<p>You forgot to call displayMensaje() method.</p>\n\n<p>Add this to .xml for corresponding button(As per requirement)</p>\n\n<p>android:onClick=\"displayMensaje\"</p>\n"}, {"comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1541050539, "post_id": 53090802, "comment_id": 93087607, "body": "Knowing that is functioning perfectly, please consider accepting my answer (\u2714\ufe0f) and give a vote-up (\ud83d\udc4d). I&#39;d appreciate it. Thanks!"}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": false, "score": 0, "last_activity_date": 1541014692, "creation_date": 1541014692, "answer_id": 53090802, "question_id": 53090604, "link": "https://stackoverflow.com/questions/53090604/message-toast-not-showing/53090802#53090802", "title": "Message (toast) not showing", "body": "<p>It isn't displaying anything because you aren't calling <code>displayMensaje()</code> method anywhere in your code at all. To solve this, please add a call to this method and your problem will be solved.</p>\n"}], "owner": {"reputation": 125, "user_id": 5482212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXV72.jpg?s=128&g=1", "display_name": "Dexter Naru", "link": "https://stackoverflow.com/users/5482212/dexter-naru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541015162, "creation_date": 1541013793, "question_id": 53090604, "link": "https://stackoverflow.com/questions/53090604/message-toast-not-showing", "title": "Message (toast) not showing", "body": "<p>I have a list of buttons and what I want to do is display some information on press. Here\u00b4s the code:</p>\n\n<pre><code>public class ActividadDos extends AppCompatActivity {\n\n    private Map&lt;CharSequence, String&gt; info = new HashMap();\n\n    private Button btnYogur;\n    private Button btnChocolate;    \n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_actividad_dos);\n\n        btnYogur = (Button) findViewById(R.id.btnYogur);\n        btnChocolate = (Button) findViewById(R.id.btnChocolate);\n\n        info.put(btnYogur.getText(), \"L\u00e1cteos\");\n        info.put(btnChocolate.getText(), \"Grasas, aceites y dulces\");\n    }\n\n    public void displayMensaje(View v) {\n        Button button = (Button) v;\n        String nombre = (String) button.getText();\n\n        String mensaje = \"Clasificaci\u00f3n: \" + info.get(nombre);\n\n        Toast.makeText(ActividadDos.this, mensaje, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n\n<p>It doesn\u00b4t show any errors but when I press the buttons it doesn\u00b4t display the message.\nSimilar code is working on another activity.</p>\n"}, {"tags": ["java", "spring", "server-sent-events", "spring-session", "spring-data-redis"], "answers": [{"tags": [], "owner": {"reputation": 28942, "user_id": 398441, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a8950160c2b3d7d0bf948d8c1f937e7f?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/398441/johan"}, "is_accepted": true, "score": 0, "last_activity_date": 1542198172, "creation_date": 1542198172, "answer_id": 53300167, "question_id": 53090592, "link": "https://stackoverflow.com/questions/53090592/java-lang-classcastexception-in-jetty-when-using-spring-session-with-redis-in-co/53300167#53300167", "title": "java.lang.ClassCastException in Jetty when using Spring Session with Redis in combination with SseEmitter", "body": "<p>This was a <a href=\"https://github.com/eclipse/jetty.project/issues/3044\" rel=\"nofollow noreferrer\">bug</a> in Jetty and fixed in version <code>9.4.13.v20181111</code>.</p>\n"}], "owner": {"reputation": 28942, "user_id": 398441, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a8950160c2b3d7d0bf948d8c1f937e7f?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/398441/johan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 53300167, "answer_count": 1, "score": 0, "last_activity_date": 1542198172, "creation_date": 1541013746, "last_edit_date": 1541014178, "question_id": 53090592, "link": "https://stackoverflow.com/questions/53090592/java-lang-classcastexception-in-jetty-when-using-spring-session-with-redis-in-co", "title": "java.lang.ClassCastException in Jetty when using Spring Session with Redis in combination with SseEmitter", "body": "<p>I'm using Jetty 9.4 (but I've tried 9.2 as well), <code>spring-data-redis</code> 1.8.6 and Spring 4.2. I'm essentially using the default configuration provided by <code>org.springframework.session.data.redis.config.annotation.web.http.RedisHttpSessionConfiguration</code> and everything seems to be working just fine until I add a <code>Controller</code> that has a endpoint that returns <code>org.springframework.web.servlet.mvc.method.annotation.SseEmitter</code>:</p>\n\n<pre><code>@RequestMapping(value = \"sse\", method = RequestMethod.GET)\n@ResponseBody\npublic ResponseEntity&lt;SseEmitter&gt; sse() {\n    SseEmitter emitter = new SseEmitter();\n    emitter.onCompletion(..);\n    emitter.onTimeout(..);\n\n    storeEmitterInHashMap(emitter);\n\n    return ResponseEntity.ok().header(\"Cache-Control\", \"no-store\").body(emitter);\n}\n</code></pre>\n\n<p>What seems to happen is that when there's a connection timeout to the SSE connection after 30s, Spring/Jetty tries to close a listener. But this fails due to a <code>ClassCastException</code> which is printed in the console:</p>\n\n<pre><code>[WARNING] java.lang.ClassCastException: \n    org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper \n    cannot be cast to org.eclipse.jetty.server.session.SessionHandler$SessionIf \n    while invoking onComplete listener\n    org.eclipse.jetty.server.session.SessionHandler$SessionAsyncListener@67e50aa3\n</code></pre>\n\n<p>This happens roughly every 30s. If I navigate to another page which doesn't connect to the SSE endpoint the warning goes away.</p>\n\n<p>Is this something to worry about? What is causing this? How can I fix it?</p>\n"}, {"tags": ["java", "java-home", "linkageerror"], "comments": [{"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 1, "creation_date": 1541014229, "post_id": 53090590, "comment_id": 93078295, "body": "The error suggests you are using Java 10. Which OS (+ version) are you using? I seem to vaguely recall a Linux distribution (don&#39;t know which one) has released Java 10 as if it was Java 11 with the eye on it being the Long Term Support version, so they could update it to real Java 11 once it was released."}, {"owner": {"reputation": 1284, "user_id": 7221628, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0c0050259a038721c8eb2ef7e9996708?s=128&d=identicon&r=PG&f=1", "display_name": "JGlass", "link": "https://stackoverflow.com/users/7221628/jglass"}, "edited": false, "score": 0, "creation_date": 1541019276, "post_id": 53090590, "comment_id": 93080420, "body": "maybe specify the exact path to the javac executable and java app in case the the javac and java are different versions?"}, {"owner": {"reputation": 51, "user_id": 10587729, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kX3ku1Cxjng/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCeYfG6b4InTMOak-IPPl8GTLdgag/mo/photo.jpg?sz=128", "display_name": "Chris Anderson", "link": "https://stackoverflow.com/users/10587729/chris-anderson"}, "reply_to_user": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1541024047, "post_id": 53090590, "comment_id": 93082043, "body": "@MarkRotteveel I&#39;m using Ubuntu 18.04. However I downloaded Java from Oracles website."}, {"owner": {"reputation": 51, "user_id": 10587729, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kX3ku1Cxjng/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCeYfG6b4InTMOak-IPPl8GTLdgag/mo/photo.jpg?sz=128", "display_name": "Chris Anderson", "link": "https://stackoverflow.com/users/10587729/chris-anderson"}, "reply_to_user": {"reputation": 1284, "user_id": 7221628, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0c0050259a038721c8eb2ef7e9996708?s=128&d=identicon&r=PG&f=1", "display_name": "JGlass", "link": "https://stackoverflow.com/users/7221628/jglass"}, "edited": false, "score": 0, "creation_date": 1541024245, "post_id": 53090590, "comment_id": 93082111, "body": "@JGlass Yes that did it! Thanks :)"}], "answers": [{"comments": [{"owner": {"reputation": 1284, "user_id": 7221628, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0c0050259a038721c8eb2ef7e9996708?s=128&d=identicon&r=PG&f=1", "display_name": "JGlass", "link": "https://stackoverflow.com/users/7221628/jglass"}, "edited": false, "score": 0, "creation_date": 1541095909, "post_id": 53092741, "comment_id": 93109317, "body": "Glad it worked for you!  With JBoss, I always hard code the path as it relies on specific java versions and our sys admins can&#39;t always be trusted to not update the java which would wreak havoc in production ;-)"}], "tags": [], "owner": {"reputation": 51, "user_id": 10587729, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kX3ku1Cxjng/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCeYfG6b4InTMOak-IPPl8GTLdgag/mo/photo.jpg?sz=128", "display_name": "Chris Anderson", "link": "https://stackoverflow.com/users/10587729/chris-anderson"}, "is_accepted": true, "score": 2, "last_activity_date": 1541024357, "creation_date": 1541024357, "answer_id": 53092741, "question_id": 53090590, "link": "https://stackoverflow.com/questions/53090590/why-do-i-get-linkageerror-when-only-one-version-of-java-seems-to-be-available/53092741#53092741", "title": "Why do I get LinkageError when only one version of Java seems to be available?", "body": "<p>The problem is that the other downloaded versions of Java are reachable via my PATH variable. So after specifying the full path to the javac and java executables when compiling and executing my program it works.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 14471681, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/62c62df9e0430b36aab0ab6b26cb96f8?s=128&d=identicon&r=PG", "display_name": "sanku", "link": "https://stackoverflow.com/users/14471681/sanku"}, "is_accepted": false, "score": 0, "last_activity_date": 1605076505, "creation_date": 1605076505, "answer_id": 64781576, "question_id": 53090590, "link": "https://stackoverflow.com/questions/53090590/why-do-i-get-linkageerror-when-only-one-version-of-java-seems-to-be-available/64781576#64781576", "title": "Why do I get LinkageError when only one version of Java seems to be available?", "body": "<p>This error also happens when you try to change the content of java .class file.\nbytecode verifier generates this error\neg.</p>\n<p>Error: LinkageError occurred while loading main class Hello\njava.lang.UnsupportedClassVersionError: Hello has been compiled by a more recent version of the Java Runtime (class file version 8251.8224), this version of the Java Runtime only recognizes class file versions up to 59.0</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 14136186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a813d5baf164e90e92d6ec12c91526f?s=128&d=identicon&r=PG&f=1", "display_name": "Giriraj Soni", "link": "https://stackoverflow.com/users/14136186/giriraj-soni"}, "is_accepted": false, "score": 1, "last_activity_date": 1615735596, "last_edit_date": 1615735596, "creation_date": 1615620955, "answer_id": 66611111, "question_id": 53090590, "link": "https://stackoverflow.com/questions/53090590/why-do-i-get-linkageerror-when-only-one-version-of-java-seems-to-be-available/66611111#66611111", "title": "Why do I get LinkageError when only one version of Java seems to be available?", "body": "<p>use with sudo command for update-alternatives --config javac and java. So, you can choose the same version of java for compiler and runtime environment.</p>\n<p>I have also got same error after compiling my java program.\nI have screenshot ----&gt;\n<a href=\"https://i.stack.imgur.com/ExSoy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ExSoy.png\" alt=\"SCREENSHOT\" /></a></p>\n"}], "owner": {"reputation": 51, "user_id": 10587729, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kX3ku1Cxjng/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCeYfG6b4InTMOak-IPPl8GTLdgag/mo/photo.jpg?sz=128", "display_name": "Chris Anderson", "link": "https://stackoverflow.com/users/10587729/chris-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9192, "favorite_count": 2, "accepted_answer_id": 53092741, "answer_count": 3, "score": 3, "last_activity_date": 1615735596, "creation_date": 1541013738, "question_id": 53090590, "link": "https://stackoverflow.com/questions/53090590/why-do-i-get-linkageerror-when-only-one-version-of-java-seems-to-be-available", "title": "Why do I get LinkageError when only one version of Java seems to be available?", "body": "<p>This is my Java environment:</p>\n\n<pre><code>~: java -version\n    java version \"11.0.1\" 2018-10-16 LTS\n    Java(TM) SE Runtime Environment 18.9 (build 11.0.1+13-LTS)\n    Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.1+13-LTS, mixed mode)\n</code></pre>\n\n<p>But when trying to execute a program after compiling it I get the following error:</p>\n\n<pre><code>Error: LinkageError occurred while loading main class ClassName\n    java.lang.UnsupportedClassVersionError: ClassName has been \n    compiled by a more recent version of the Java Runtime \n    (class file version 55.0), this version of the Java Runtime \n    only recognizes class file versions up to 54.0\n</code></pre>\n\n<p>My PATH and JAVA_HOME variables both point to this version of java. I \nhave other versions downloaded but it seems they are not registered in the system: </p>\n\n<pre><code>update-alternatives --display java\njava - auto mode\n  link best version is /usr/lib/jvm/java-11-openjdk-amd64/bin/java\n  link currently points to /usr/lib/jvm/java-11-openjdk-amd64/bin/java\n  link java is /usr/bin/java\n  slave java.1.gz is /usr/share/man/man1/java.1.gz\n/usr/lib/jvm/java-11-openjdk-amd64/bin/java - priority 1101\n  slave java.1.gz: /usr/lib/jvm/java-11-openjdk-amd64/man/man1/java.1.gz\n</code></pre>\n\n<p>So how come the compilation and execution are done with different versions?</p>\n"}, {"tags": ["java", "mysql", "jdbc"], "comments": [{"owner": {"reputation": 830, "user_id": 2123347, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1ed90db74a2683f092babf3396dec802?s=128&d=identicon&r=PG", "display_name": "JHDev", "link": "https://stackoverflow.com/users/2123347/jhdev"}, "edited": false, "score": 0, "creation_date": 1541015399, "post_id": 53090564, "comment_id": 93078897, "body": "your code work fine"}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 0, "creation_date": 1541025880, "post_id": 53090564, "comment_id": 93082594, "body": "FYI, the terribly troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 10019738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67e154588e3b7dccff6933da122ff731?s=128&d=identicon&r=PG&f=1", "display_name": "Satnam123", "link": "https://stackoverflow.com/users/10019738/satnam123"}, "edited": false, "score": 0, "creation_date": 1541047376, "post_id": 53093002, "comment_id": 93086937, "body": "thankyou for your kind-hearted answer, I use LocalDate instead of java.sql.Date but I got the same error i.e. yesterday&#39;s date is stored in the database. I am wondering what is the problem now."}, {"owner": {"reputation": 35, "user_id": 10019738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67e154588e3b7dccff6933da122ff731?s=128&d=identicon&r=PG&f=1", "display_name": "Satnam123", "link": "https://stackoverflow.com/users/10019738/satnam123"}, "edited": false, "score": 0, "creation_date": 1541048503, "post_id": 53093002, "comment_id": 93087163, "body": "Finally, I got my answer. There is no problem in java code, actually this is a bug of MySql [<a href=\"https://bugs.mysql.com/bug.php?id=71084]\" rel=\"nofollow noreferrer\">bugs.mysql.com/bug.php?id=71084]</a>"}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "reply_to_user": {"reputation": 35, "user_id": 10019738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67e154588e3b7dccff6933da122ff731?s=128&d=identicon&r=PG&f=1", "display_name": "Satnam123", "link": "https://stackoverflow.com/users/10019738/satnam123"}, "edited": false, "score": 0, "creation_date": 1541052529, "post_id": 53093002, "comment_id": 93088115, "body": "@Satnam123 I skimmed that bug report. It seems related to time zone issues. You should know that <code>java.sql.Date</code> mentioned at bottom is unfortunately a subclass of <code>java.util.Date</code>. So while it <i>pretends</i> to represent a date-only value, <b><code>java.sql.Date</code> actually is a moment</b>, a date with time-of-day and a time zone adjusted into UTC. So, I&#39;ll repeat my advice: Avoid these <i>terrible awful</i> old date-time classes! Try the modern  approach with <i>java.time</i> classes and the latest JDBC driver and see what happens accessing a SQL <code>DATE</code> column with Java <code>LocalDate</code> class."}], "tags": [], "owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "is_accepted": true, "score": 2, "last_activity_date": 1542024588, "last_edit_date": 1542024588, "creation_date": 1541026227, "answer_id": 53093002, "question_id": 53090564, "link": "https://stackoverflow.com/questions/53090564/java-is-not-storing-accurate-date-to-mysql-database/53093002#53093002", "title": "Java is not storing accurate date to mysql database", "body": "<h1>tl;dr</h1>\n\n<pre><code>myPreparedStatement.setObject(\n    \u2026 ,\n    LocalDate.parse( \"2018-11-20\")\n) ;\n</code></pre>\n\n<h1>Details</h1>\n\n<p>You are using the terribly designed <code>java.sql.Date</code> class. This class unfortunately is a subclass of <code>java.util.Date</code> though the documentation strangely tells us to ignore that fact of inheritance. So while <code>java.sql.Date</code> <em>pretends</em> to represent a date only, it is in fact a moment, a date with a time-of-day set to midnight in some zone and then adjusted to UTC. This is a wretched design, and is one of <em>many</em> reasons to <em>never</em> use the legacy date-time classes. </p>\n\n<p>For a <code>DATE</code> column in SQL, use the modern <code>LocalDate</code> class instead.</p>\n\n<h2><code>LocalDate</code></h2>\n\n<p>The <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> class truly represents a date-only value, without time-of-day and without <a href=\"https://en.wikipedia.org/wiki/Time_zone\" rel=\"nofollow noreferrer\">time zone</a> or <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\">offset-from-UTC</a>.</p>\n\n<p>For database column of a type akin to the SQL-standard <code>DATE</code> type, use the  <code>LocalDate</code> class in Java. </p>\n\n<pre><code>LocalDate ld = LocalDate.parse( \"2018-11-20\" );\n</code></pre>\n\n<h2>JDBC 4.2</h2>\n\n<p>As of JDBC 4.2, we can directly exchange <em>java.time</em> objects with the database.</p>\n\n<pre><code>myPreparedStatement.setObject( \u2026 , ld ) ;\n</code></pre>\n\n<p>Retrieval:</p>\n\n<pre><code>LocalDate ld = myResultSet.getObject( \u2026 , LocalDate.class ) ;\n</code></pre>\n\n<p>With no time zone involved, your retrieved value will be the same <code>2018-11-20</code> that you stored.</p>\n\n<h1>Example app</h1>\n\n<p>Here is a complete example app using the <a href=\"https://en.wikipedia.org/wiki/H2_(DBMS)\" rel=\"nofollow noreferrer\">H2 Database Engine</a>. As a demo, I have it set to write to an in-memory database rather than persisting to actual storage.</p>\n\n<p>We create a database with a single table, with two columns: </p>\n\n<ul>\n<li>a sequential number primary key named <code>pkey_</code></li>\n<li>a <code>DATE</code> column named <code>when_</code></li>\n</ul>\n\n<p>We insert a couple <code>LocalDate</code> objects, and then retrieve the rows to dump to console.</p>\n\n<pre><code>package com.basilbourque.example;\n\nimport java.sql.*;\nimport java.time.LocalDate;\nimport java.util.List;\n\npublic class EventDate {\n    public static void main ( String[] args ) {\n        EventDate app = new EventDate();\n        app.doIt();\n    }\n\n    private void doIt ( ) {\n        final String driverName = \"org.h2.Driver\";\n        final String catalogName = \"event_demo_db\";\n        final String jdbcPath = \"jdbc:h2:mem:\" + catalogName + \";DB_CLOSE_DELAY=-1\";  // Set delay to keep in-memory database even after last connection closed.\n\n        // Verify JDBC driver.\n        try {\n            Class.forName( driverName );\n        } catch ( ClassNotFoundException e ) {\n            e.printStackTrace();\n        }\n\n        // Connect, and create database.\n        try (\n                Connection conn = DriverManager.getConnection( jdbcPath ) ;\n        ) {\n            String sql = null;\n\n            // Create table.\n            try ( Statement stmt = conn.createStatement() ; ) {\n                sql = \"CREATE TABLE \" + \"event_\" + \" ( \\n\" +\n                        \" pkey_ IDENTITY PRIMARY KEY , \\n\" +\n                        \" when_ DATE NOT NULL \\n\" +\n                        \") ; \\n\";\n                System.out.println( \"TRACE - SQL:\\n\" + sql );\n                stmt.execute( sql );\n            }\n            System.out.println( \"TRACE - Created table `event_`.\" );\n\n            // Add rows\n            sql = \"INSERT INTO event_ ( when_ ) \\n\" +\n                    \"VALUES ( ? ) \" +\n                    \"; \";\n\n            List &lt; LocalDate &gt; dates = List.of( LocalDate.parse( \"2018-11-10\" ) , LocalDate.parse( \"2018-12-31\" ) );\n            System.out.println( \"Inserting list of LocalDate objects: \" + dates );\n            try (\n                    PreparedStatement ps = conn.prepareStatement( sql ) ;\n            ) {\n                for ( LocalDate localDate : dates ) {\n                    ps.setObject( 1 , localDate );\n                    ps.executeUpdate();\n                }\n            }\n\n            // Retrieve rows\n             sql = \"SELECT * FROM \" + \"event_\" + \" ;\";\n            try (\n                    Statement stmt = conn.createStatement() ;\n                    ResultSet rs = stmt.executeQuery( sql ) ;\n            ) {\n                while ( rs.next() ) {\n                    int pkey = rs.getInt( \"pkey_\" );\n                    LocalDate when = rs.getObject( \"when_\" , LocalDate.class );\n                    System.out.println( \"Row pkey_: \" + pkey + \" when_: \" + when );\n                }\n            }\n\n\n        } catch ( SQLException e ) {\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n\n<p>When run.</p>\n\n<blockquote>\n  <p>Inserting list of LocalDate objects: [2018-11-10, 2018-12-31]</p>\n  \n  <p>Row pkey_: 1 when_: 2018-11-10</p>\n  \n  <p>Row pkey_: 2 when_: 2018-12-31</p>\n</blockquote>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n\n<ul>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP\u2026</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"}], "owner": {"reputation": 35, "user_id": 10019738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67e154588e3b7dccff6933da122ff731?s=128&d=identicon&r=PG&f=1", "display_name": "Satnam123", "link": "https://stackoverflow.com/users/10019738/satnam123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 851, "favorite_count": 0, "accepted_answer_id": 53093002, "answer_count": 1, "score": 0, "last_activity_date": 1542024588, "creation_date": 1541013627, "question_id": 53090564, "link": "https://stackoverflow.com/questions/53090564/java-is-not-storing-accurate-date-to-mysql-database", "title": "Java is not storing accurate date to mysql database", "body": "<p>I was writing a program to convert string to java.util.Date object and then store the same in the database, the program is running correctly with no errors. But in the MySql the date is not stored correctly, java is storing date which is a yesterday date with respect to date written in the string.\nExample- If I write \"2018-11-10\", it stores \"2018-11-09\".\nMy code-</p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.Date;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\n\npublic class Demo {\n\n    public static void main(String[] args) throws ClassNotFoundException, SQLException {\n        Connection con;\n        Class.forName(\"com.mysql.cj.jdbc.Driver\");\n        Date date = Date.valueOf(\"2018-11-20\"); \n        con = DriverManager.getConnection(\"jdbc:mysql://localhost:9090/ProjectScheduler\", \"root\", \"tiger\");\n        PreparedStatement prepare = con.prepareStatement(\"insert into SchedulerDB(Date) values(?)\");\n        prepare.setDate(1, date);\n        prepare.executeUpdate();\n    }\n}\n</code></pre>\n\n<p>In MySql workbench, I created table as</p>\n\n<pre><code>create table SchedulerDB(Date date)\n</code></pre>\n\n<p>when I run select query to see data in table using </p>\n\n<pre><code>select * from SchedulerDB\n</code></pre>\n\n<p>Then under the column \"Date\" in the table- \"SchedulerDB\", I got 2018-11-19. But I want 2018-11-20 as this is what I wrote in java code. Please help me in solving this problem.</p>\n"}, {"tags": ["java", "android", "geolocation", "location", "android-permissions"], "answers": [{"tags": [], "owner": {"reputation": 6379, "user_id": 14870, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ad45bada162dcb8b95c3508fb849a7cc?s=128&d=identicon&r=PG&f=1", "display_name": "weiyin", "link": "https://stackoverflow.com/users/14870/weiyin"}, "is_accepted": false, "score": 1, "last_activity_date": 1565727313, "creation_date": 1565727313, "answer_id": 57484743, "question_id": 53090545, "link": "https://stackoverflow.com/questions/53090545/why-is-ongeolocationpermissionsshowprompt-being-called-continuously/57484743#57484743", "title": "Why is onGeolocationPermissionsShowPrompt being called continuously?", "body": "<p>This looks like a bug in Android Webview. The endless loop happens if <code>callback.invoke</code> is called asynchronously with granted=false, but does not occur if it is called synchronously inside <code>onGeolocationPermissionsShowPrompt</code>.</p>\n\n<p>My workaround is to save the time when the user denies the geolocation permission. If <code>onGeolocationPermissionsShowPrompt</code> is called again within a small amount of time and <code>checkSelfPermission</code> does not return PERMISSION_GRANTED, run <code>callback.invoke(origin, false, false)</code> and do not re-prompt the user.</p>\n"}], "owner": {"reputation": 1455, "user_id": 5050863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10205087533363171/picture?type=large", "display_name": "sschilli", "link": "https://stackoverflow.com/users/5050863/sschilli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 651, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565727313, "creation_date": 1541013504, "question_id": 53090545, "link": "https://stackoverflow.com/questions/53090545/why-is-ongeolocationpermissionsshowprompt-being-called-continuously", "title": "Why is onGeolocationPermissionsShowPrompt being called continuously?", "body": "<p>I have an app that uses a WebView where sites may request to use the device's geolocation. I have the following in my main activity:</p>\n\n<pre><code>public void onGeolocationPermissionsShowPrompt(final String origin, final GeolocationPermissions.Callback callback) {\n    m_geolocationCallback = null;\n    m_geolocationOrigin = null;\n\n    // If we don't have location permissions, we must request them first\n    if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n        // Show rationale if necessary\n        if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION)) {\n\n            new AlertDialog.Builder(MainActivity.this)\n                    .setMessage(getString(R.string.permission_location_rationale, origin))\n                    .setNeutralButton(android.R.string.ok, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialogInterface, int i) {\n                            m_geolocationOrigin = origin;\n                            m_geolocationCallback = callback;\n                            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, PERMISSIONS_REQUEST_ACCESS_FINE_LOCATION);\n                        }\n                    })\n                    .show();\n        }\n        else {\n            m_geolocationOrigin = origin;\n            m_geolocationCallback = callback;\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, PERMISSIONS_REQUEST_ACCESS_FINE_LOCATION);\n        }\n    }\n    // Otherwise just tell webview that permission has been granted\n    else {\n        callback.invoke(origin, true, false);\n    }\n}\n</code></pre>\n\n<p>To handle the permission request result, <code>MainActivity</code> also has the following:</p>\n\n<pre><code>@Override\npublic void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case PERMISSIONS_REQUEST_ACCESS_FINE_LOCATION:\n            // Permission granted\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                if (m_geolocationCallback != null) {\n                    m_geolocationCallback.invoke(m_geolocationOrigin, true, false);\n                }\n            }\n            // Permission denied\n            else {\n                // In this case, the user checked \"Don't ask again\" and denied permission\n                if (Build.VERSION.SDK_INT &gt;= 23 &amp;&amp; !shouldShowRequestPermissionRationale(permissions[0])) {\n                    Toast.makeText(this, R.string.permission_location_denied, Toast.LENGTH_LONG).show();\n                }\n\n                if (m_geolocationCallback != null) {\n                    m_geolocationCallback.invoke(m_geolocationOrigin, false, false);\n                }\n            }\n            return;\n    }\n}\n</code></pre>\n\n<p>The issue I'm running into is that whenever a site requests to use geolocation and I deny it (resulting in <code>invoke(origin, false false)</code> being called), the <code>onGeolocationPermissionsShowPrompt</code> method is called immediately and I am stuck in a loop of endlessly denying permission to the app.</p>\n\n<p>If I check \"don't ask again\" in the permission request, it works fine, but  I want to be able to ask the user for permission again at a later point in time.</p>\n\n<p>I've tried fixing this by changing my rejection callback invocation to\n<code>m_geolocationCallback.invoke(m_geolocationOrigin, false, true)</code>, but this does not produce the desired effect. This will prevent stop the continuous calls to <code>onGeolocationPermissionsShowPrompt</code>, but it also means that the given origin can no longer use geolocation even if permissions are later enabled, and I found no way to undo this (even by uninstalling/reinstalling the app).</p>\n\n<p>Any ideas on how to get around this issue?</p>\n"}, {"tags": ["java", "android"], "comments": [{"owner": {"reputation": 1467, "user_id": 6698642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd80a09064542c848ba86ff1d9e22025?s=128&d=identicon&r=PG&f=1", "display_name": "TheGamer007", "link": "https://stackoverflow.com/users/6698642/thegamer007"}, "edited": false, "score": 0, "creation_date": 1541015416, "post_id": 53090505, "comment_id": 93078905, "body": "Which API level are you testing this on? On Android Oreo (27) and above, you will need to set a notification channel for it to be visible."}, {"owner": {"reputation": 5, "user_id": 10587652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a28152d21ab315f7fc305a0a249033b?s=128&d=identicon&r=PG&f=1", "display_name": "Shaima", "link": "https://stackoverflow.com/users/10587652/shaima"}, "reply_to_user": {"reputation": 1467, "user_id": 6698642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd80a09064542c848ba86ff1d9e22025?s=128&d=identicon&r=PG&f=1", "display_name": "TheGamer007", "link": "https://stackoverflow.com/users/6698642/thegamer007"}, "edited": false, "score": 0, "creation_date": 1541015768, "post_id": 53090505, "comment_id": 93079066, "body": "@TheGamer007 it is API 26"}, {"owner": {"reputation": 1467, "user_id": 6698642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd80a09064542c848ba86ff1d9e22025?s=128&d=identicon&r=PG&f=1", "display_name": "TheGamer007", "link": "https://stackoverflow.com/users/6698642/thegamer007"}, "edited": false, "score": 0, "creation_date": 1541016412, "post_id": 53090505, "comment_id": 93079362, "body": "Right, Oreo starts at API 26. My bad. Adding an answer."}, {"owner": {"reputation": 5, "user_id": 10587652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a28152d21ab315f7fc305a0a249033b?s=128&d=identicon&r=PG&f=1", "display_name": "Shaima", "link": "https://stackoverflow.com/users/10587652/shaima"}, "reply_to_user": {"reputation": 1467, "user_id": 6698642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd80a09064542c848ba86ff1d9e22025?s=128&d=identicon&r=PG&f=1", "display_name": "TheGamer007", "link": "https://stackoverflow.com/users/6698642/thegamer007"}, "edited": false, "score": 0, "creation_date": 1541017404, "post_id": 53090505, "comment_id": 93079734, "body": "@TheGamer007 you are right I set a channel and it works thank you"}], "answers": [{"tags": [], "owner": {"reputation": 1467, "user_id": 6698642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd80a09064542c848ba86ff1d9e22025?s=128&d=identicon&r=PG&f=1", "display_name": "TheGamer007", "link": "https://stackoverflow.com/users/6698642/thegamer007"}, "is_accepted": true, "score": 0, "last_activity_date": 1541016787, "creation_date": 1541016787, "answer_id": 53091272, "question_id": 53090505, "link": "https://stackoverflow.com/questions/53090505/notification-does-not-appear-how-to-fix-that/53091272#53091272", "title": "Notification does not appear - how to fix that?", "body": "<p>As mentioned in the <a href=\"https://developer.android.com/training/notify-user/channels\" rel=\"nofollow noreferrer\">Create and Manage Notification Channels</a> guide:</p>\n\n<blockquote>\n  <p>If you target Android 8.0 (API level 26) and post a notification without specifying a notification channel, the notification does not appear and the system logs an error.</p>\n</blockquote>\n\n<p>The full instructions are available in the guide, but you essentially need to create a Notification Channel first as follows:</p>\n\n<pre><code>private void createNotificationChannel() {\n    // Create the NotificationChannel, but only on API 26+ because\n    // the NotificationChannel class is new and not in the support library\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        CharSequence name = getString(R.string.channel_name);\n        String description = getString(R.string.channel_description);\n        int importance = NotificationManager.IMPORTANCE_DEFAULT;\n        NotificationChannel channel = new NotificationChannel(CHANNEL_ID, name, importance);\n        channel.setDescription(description);\n        // Register the channel with the system; you can't change the importance\n        // or other notification behaviors after this\n        NotificationManager notificationManager = getSystemService(NotificationManager.class);\n        notificationManager.createNotificationChannel(channel);\n    }\n}\n</code></pre>\n\n<p>After which the same <code>CHANNEL_ID</code> must be passed as the second parameter when creating the <code>NotificationCompat.Builder</code> object. (where you have passed \"id\")</p>\n"}, {"tags": [], "owner": {"reputation": 87, "user_id": 6350648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6ac9f8391e64cad173d60ccba411b24?s=128&d=identicon&r=PG&f=1", "display_name": "Mridul Das", "link": "https://stackoverflow.com/users/6350648/mridul-das"}, "is_accepted": false, "score": 0, "last_activity_date": 1541016892, "creation_date": 1541016892, "answer_id": 53091294, "question_id": 53090505, "link": "https://stackoverflow.com/questions/53090505/notification-does-not-appear-how-to-fix-that/53091294#53091294", "title": "Notification does not appear - how to fix that?", "body": "<p><strong>This might help you out</strong></p>\n\n<p>NotificationCompat.Builder constructor requires that you provide a channel ID. This is required for compatibility with Android 8.0 (API level 26) and higher, but is ignored by older versions.</p>\n\n<p>Before you can deliver the notification on Android 8.0 and higher, you must register your app's notification channel with the system by passing an instance of NotificationChannel to createNotificationChannel(). So the following code is blocked by a condition on the SDK_INT version:</p>\n\n<pre><code>private void createNotificationChannel() {\n// Create the NotificationChannel, but only on API 26+ because\n// the NotificationChannel class is new and not in the support library\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n    CharSequence name = getString(R.string.channel_name);\n    String description = getString(R.string.channel_description);\n    int importance = NotificationManager.IMPORTANCE_DEFAULT;\n    NotificationChannel channel = new NotificationChannel(CHANNEL_ID, name, importance);\n    channel.setDescription(description);\n    // Register the channel with the system; you can't change the importance\n    // or other notification behaviors after this\n    NotificationManager notificationManager = getSystemService(NotificationManager.class);\n    notificationManager.createNotificationChannel(channel);\n}}\n</code></pre>\n\n<p>Every notification should respond to a tap, usually to open an activity in your app that corresponds to the notification. To do so, you must specify a content intent defined with a PendingIntent object and pass it to setContentIntent().</p>\n\n<p>The following snippet shows how to create a basic intent to open an activity when the user taps the notification:</p>\n\n<pre><code>// Create an explicit intent for an Activity in your app\nIntent intent = new Intent(this, AlertDetails.class);\nintent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\nPendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, 0);\n\nNotificationCompat.Builder mBuilder = new NotificationCompat.Builder(this, CHANNEL_ID)\n        .setSmallIcon(R.drawable.notification_icon)\n        .setContentTitle(\"My notification\")\n        .setContentText(\"Hello World!\")\n        .setPriority(NotificationCompat.PRIORITY_DEFAULT)\n        // Set the intent that will fire when the user taps the notification\n        .setContentIntent(pendingIntent)\n        .setAutoCancel(true);\n</code></pre>\n\n<p>Show the notification\nTo make the notification appear, call NotificationManagerCompat.notify(), passing it a unique ID for the notification and the result of NotificationCompat.Builder.build().</p>\n\n<pre><code>NotificationManagerCompat notificationManager = NotificationManagerCompat.from(this);\n\n// notificationId is a unique int for each notification that you must define\nnotificationManager.notify(notificationId, mBuilder.build());\n</code></pre>\n\n<p>Remember to save the notification ID that you pass to NotificationManagerCompat.notify() because you'll need it later if you want to update or remove the notification.</p>\n"}], "owner": {"reputation": 5, "user_id": 10587652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a28152d21ab315f7fc305a0a249033b?s=128&d=identicon&r=PG&f=1", "display_name": "Shaima", "link": "https://stackoverflow.com/users/10587652/shaima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 53091272, "answer_count": 2, "score": -1, "last_activity_date": 1541016892, "creation_date": 1541013309, "last_edit_date": 1541014710, "question_id": 53090505, "link": "https://stackoverflow.com/questions/53090505/notification-does-not-appear-how-to-fix-that", "title": "Notification does not appear - how to fix that?", "body": "<p>so I but a Button and set a listener for it so method sendNotification() below is executed. However once I click the button nothing happen even the catch statement\nNote that the code is written in fragment so I made a variables context and activity then initialize them </p>\n\n<pre><code>  activity= getActivity();\n</code></pre>\n\n<p><code>context= getActivity().getBaseContext();</code></p>\n\n<pre><code> public void sendNotification() {\n    try{\n        NotificationCompat.Builder builder;\n        builder = new NotificationCompat.Builder(context,\"id\");\n       builder.setSmallIcon(R.drawable.ic_launcher_background)\n        .setContentTitle(\"Notifications Example\")\n               .setContentText(\"This is a test notification\");\n\n       Intent notificationIntent = new Intent(context, activity.getClass());\n        PendingIntent contentIntent = PendingIntent.getActivity(context, 0, notificationIntent,\n                PendingIntent.FLAG_UPDATE_CURRENT);\n        builder.setContentIntent(contentIntent);\n\n        // Add as notification\n       NotificationManager manager = (NotificationManager) context.getSystemService(NOTIFICATION_SERVICE);\n        manager.notify(0, builder.build());\n\n}\n                    catch (Exception e){MainActivity.prefConfig.displayToast(\"something is wrong with the method.. \");}\n}\n</code></pre>\n"}, {"tags": ["java", "spring-boot", "slf4j"], "comments": [{"owner": {"reputation": 1700, "user_id": 7214142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pkgpt.jpg?s=128&g=1", "display_name": "Yuriy Tsarkov", "link": "https://stackoverflow.com/users/7214142/yuriy-tsarkov"}, "edited": false, "score": 0, "creation_date": 1541018494, "post_id": 53090503, "comment_id": 93080114, "body": "please share values for <code>${CONSOLE_LOG_PATTERN}</code>, <code>${FILE_LOG_PATTERN}</code> and a <code>catch</code> block of any piece of a code where any log method of the <code>LoggingUtil</code> is invoking"}, {"owner": {"reputation": 1, "user_id": 7993581, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Gr57AQaXWfo/AAAAAAAAAAI/AAAAAAAAFbE/ZZ8ihSI33l4/photo.jpg?sz=128", "display_name": "Sunil Nair", "link": "https://stackoverflow.com/users/7993581/sunil-nair"}, "reply_to_user": {"reputation": 1700, "user_id": 7214142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pkgpt.jpg?s=128&g=1", "display_name": "Yuriy Tsarkov", "link": "https://stackoverflow.com/users/7214142/yuriy-tsarkov"}, "edited": false, "score": 0, "creation_date": 1541022054, "post_id": 53090503, "comment_id": 93081441, "body": "I am including base.xml in my logback.xml which in turn includes the default.xml from Spring framework. Which can be found at : <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot/src/main/resources/org/springframework/boot/logging/logback/defaults.xml\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/master/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 7993581, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Gr57AQaXWfo/AAAAAAAAAAI/AAAAAAAAFbE/ZZ8ihSI33l4/photo.jpg?sz=128", "display_name": "Sunil Nair", "link": "https://stackoverflow.com/users/7993581/sunil-nair"}, "reply_to_user": {"reputation": 1700, "user_id": 7214142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pkgpt.jpg?s=128&g=1", "display_name": "Yuriy Tsarkov", "link": "https://stackoverflow.com/users/7214142/yuriy-tsarkov"}, "edited": false, "score": 0, "creation_date": 1541022376, "post_id": 53090503, "comment_id": 93081544, "body": "Here is a code snippet for the invocation of LoggingUtil method. <code>try { &#47;*Process request - happy path *&#47; LoggingUtil.logInfo(responseMessage, emailRequest, LOGGER); } catch(Exception e) { responseMessage = &quot;Error occurred while processing message.&quot;; LoggingUtil.logError(responseMessage, emailRequest, e, LOGGER); }</code>"}, {"owner": {"reputation": 1, "user_id": 7993581, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Gr57AQaXWfo/AAAAAAAAAAI/AAAAAAAAFbE/ZZ8ihSI33l4/photo.jpg?sz=128", "display_name": "Sunil Nair", "link": "https://stackoverflow.com/users/7993581/sunil-nair"}, "reply_to_user": {"reputation": 1700, "user_id": 7214142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pkgpt.jpg?s=128&g=1", "display_name": "Yuriy Tsarkov", "link": "https://stackoverflow.com/users/7214142/yuriy-tsarkov"}, "edited": false, "score": 0, "creation_date": 1541022586, "post_id": 53090503, "comment_id": 93081615, "body": "Value for console and file patthern:  <code>&lt;property name=&quot;CONSOLE_LOG_PATTERN&quot; value=&quot;${CONSOLE_LOG_PATTERN:-%clr(%d{${LOG_DATEFORMAT_PATTE&zwnj;&#8203;RN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}&quot;&#47;&gt; \t&lt;property name=&quot;FILE_LOG_PATTERN&quot; value=&quot;${FILE_LOG_PATTERN:-%d{${LOG_DATEFORMAT_PATTERN:-yyyy&zwnj;&#8203;-MM-dd HH:mm:ss.SSS}} ${LOG_LEVEL_PATTERN:-%5p} ${PID:- } --- [%t] %-40.40logger{39} : %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}&quot;&#47;&gt;</code>"}, {"owner": {"reputation": 1700, "user_id": 7214142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pkgpt.jpg?s=128&g=1", "display_name": "Yuriy Tsarkov", "link": "https://stackoverflow.com/users/7214142/yuriy-tsarkov"}, "edited": false, "score": 0, "creation_date": 1541026017, "post_id": 53090503, "comment_id": 93082633, "body": "I&#39;ve wasted enough time trying to find out the problem but i didn&#39;t( sorry. Just try to exclude all third party factors like your wrapper, probably some extra configs on the server size and so on. Read <a href=\"https://stackoverflow.com/help/mcve\">this</a> and <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">this</a> - there are some extra info how to debug. Anyway let me know if you&#39;ll find out the reason of the problem!"}], "owner": {"reputation": 1, "user_id": 7993581, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Gr57AQaXWfo/AAAAAAAAAAI/AAAAAAAAFbE/ZZ8ihSI33l4/photo.jpg?sz=128", "display_name": "Sunil Nair", "link": "https://stackoverflow.com/users/7993581/sunil-nair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 891, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541019403, "creation_date": 1541013301, "last_edit_date": 1541019403, "question_id": 53090503, "link": "https://stackoverflow.com/questions/53090503/springboot-logging-stacktrace-in-every-log-statement", "title": "SpringBoot Logging - Stacktrace in every log statement", "body": "<p>I have been developing an emailing service in <strong>SpringBoot</strong> and for logging I am using <strong>slf4j</strong>. The application is working as expected, except for the logging part. While running it on my machine the logging is working perfectly. But once it is deployed on a server, the logging work as expected until an exception occurs. After that each log statement is printed with a \"stacktrace\" element in it. The stacktrace is from the last exception that occurred and doesn't change until the next exception. It doesn't matter if the level of log statement is <strong>INFO</strong>, <strong>WARN</strong> or <strong>ERROR</strong>. It has been quite frustrating since I am not able to reproduce it and neither I have any idea what is causing this issue. I have searched google and stackoverflow but no luck. I am unable to find any posts related to this issue. Following are a few of the logging setting I am using in my application along with log statements.</p>\n\n<p>Logback.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;configuration&gt;\n&lt;include resource=\"org/springframework/boot/logging/logback/base.xml\"/&gt;\n&lt;property name=\"PROJECT_ID\" value=\"email-service-consumer\"/&gt;\n&lt;appender name=\"CONSOLE\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n&lt;encoder&gt;\n&lt;charset&gt;UTF-8&lt;/charset&gt;\n&lt;Pattern&gt;${CONSOLE_LOG_PATTERN}&lt;/Pattern&gt;\n&lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;appender name=\"FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n&lt;file&gt;${CATALINA_HOME}/logs/${PROJECT_ID}_debug.log&lt;/file&gt;\n&lt;append&gt;true&lt;/append&gt;\n&lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;\n&lt;!-- daily rollover. Make sure the path matches the one in the file element or else\nthe rollover logs are placed in the working directory. --&gt;\n&lt;fileNamePattern&gt;${CATALINA_HOME}/logs/${PROJECT_ID}_debug.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n\n&lt;timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;\n&lt;maxFileSize&gt;50MB&lt;/maxFileSize&gt;\n&lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n&lt;!-- keep 30 days' worth of history --&gt;\n&lt;maxHistory&gt;30&lt;/maxHistory&gt;\n&lt;/rollingPolicy&gt;\n\n&lt;encoder&gt;\n&lt;charset&gt;UTF-8&lt;/charset&gt;\n&lt;pattern&gt;${FILE_LOG_PATTERN}&lt;/pattern&gt;\n&lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;appender name=\"SPLUNK_FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n&lt;file&gt;${CATALINA_HOME}/logs/${PROJECT_ID}_splunk.log&lt;/file&gt;\n&lt;append&gt;true&lt;/append&gt;\n&lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;\n&lt;!-- daily rollover. Make sure the path matches the one in the file element or else\nthe rollover logs are placed in the working directory. --&gt;\n&lt;fileNamePattern&gt;${CATALINA_HOME}/logs/${PROJECT_ID}_splunk.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n\n&lt;timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;\n&lt;maxFileSize&gt;5MB&lt;/maxFileSize&gt;\n&lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n&lt;!-- keep 30 days' worth of history --&gt;\n&lt;maxHistory&gt;30&lt;/maxHistory&gt;\n&lt;/rollingPolicy&gt;\n\n&lt;encoder class=\"ch.qos.logback.core.encoder.LayoutWrappingEncoder\"&gt;\n&lt;charset&gt;UTF-8&lt;/charset&gt;\n&lt;layout class=\"com.example.core.logging.CcSplunkLogLayout\" /&gt;\n&lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;appender name=\"ASYNC_DEFAULTS\" class=\"ch.qos.logback.classic.AsyncAppender\"&gt;\n&lt;queueSize&gt;500&lt;/queueSize&gt;\n&lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt;\n&lt;appender-ref ref=\"FILE\"/&gt;\n&lt;appender-ref ref=\"CONSOLE\"/&gt;\n&lt;appender-ref ref=\"SPLUNK_FILE\"/&gt;\n&lt;/appender&gt;\n\n&lt;springProfile name=\"!production\"&gt;\n&lt;logger name=\"com.example\" additivity=\"false\" level=\"INFO\"&gt;\n&lt;appender-ref ref=\"ASYNC_DEFAULTS\"/&gt;\n&lt;/logger&gt;\n&lt;logger name=\"org.hibernate\" additivity=\"false\" level=\"INFO\"&gt;\n&lt;appender-ref ref=\"ASYNC_DEFAULTS\"/&gt;\n&lt;/logger&gt;\n&lt;logger name=\"org.springframework\" additivity=\"false\" level=\"INFO\"&gt;\n&lt;appender-ref ref=\"ASYNC_DEFAULTS\"/&gt;\n&lt;/logger&gt;\n&lt;root level=\"INFO\"&gt;\n&lt;appender-ref ref=\"ASYNC_DEFAULTS\"/&gt;\n&lt;/root&gt;\n&lt;/springProfile&gt;\n\n&lt;springProfile name=\"production\"&gt;\n&lt;logger name=\"com.example\" additivity=\"false\" level=\"INFO\"&gt;\n&lt;appender-ref ref=\"SPLUNK_FILE\"/&gt;\n&lt;/logger&gt;\n&lt;logger name=\"org.hibernate\" additivity=\"false\" level=\"ERROR\"&gt;\n&lt;appender-ref ref=\"SPLUNK_FILE\"/&gt;\n&lt;/logger&gt;\n&lt;logger name=\"org.springframework\" additivity=\"false\" level=\"ERROR\"&gt;\n&lt;appender-ref ref=\"SPLUNK_FILE\"/&gt;\n&lt;/logger&gt;\n&lt;root level=\"ERROR\"&gt;\n&lt;appender-ref ref=\"SPLUNK_FILE\"/&gt;\n&lt;/root&gt;\n&lt;/springProfile&gt;\n\n&lt;springProfile name=\"docker-dev\"&gt;\n&lt;logger name=\"com.example\" additivity=\"false\" level=\"INFO\"&gt;\n&lt;appender-ref ref=\"SPLUNK_FILE\"/&gt;\n&lt;/logger&gt;\n&lt;logger name=\"org.hibernate\" additivity=\"false\" level=\"INFO\"&gt;\n&lt;appender-ref ref=\"FILE\"/&gt;\n&lt;/logger&gt;\n&lt;logger name=\"org.springframework\" additivity=\"false\" level=\"INFO\"&gt;\n&lt;appender-ref ref=\"FILE\"/&gt;\n&lt;/logger&gt;\n&lt;root level=\"TRACE\"&gt;\n&lt;appender-ref ref=\"FILE\"/&gt;\n&lt;/root&gt;\n&lt;/springProfile&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>I also wrote a util Logging class, which contains wrapper methods for different log levels.</p>\n\n<pre><code>public class LoggingUtil {\n\n\n    public static void logWarn(String message, EmailRequest emailRequest, Logger logger) {\n        Map&lt;String, String&gt; identifierMap = getRequestIdentifiers(emailRequest);\n        StringBuffer warnMessage = new StringBuffer(checkPunctuation(message));\n        warnMessage.append(Constants.REQUEST_IDENTIFIERS);\n\n        logger.warn(warnMessage.toString(), identifierMap.get(Constants.ORDERID),\n                identifierMap.get(Constants.TEMPLATENAME),\n                identifierMap.get(Constants.SESSIONID),\n                identifierMap.get(Constants.STOREID));\n    }\n\n    /**\n     * Method to log error messages.\n     * @param message\n     * @param emailRequest\n     * @param\n     */\n    public static void logInfo(String message, EmailRequest emailRequest, Logger logger) {\n        Map&lt;String, String&gt; identifierMap = getRequestIdentifiers(emailRequest);\n        StringBuffer infoMessage = new StringBuffer(checkPunctuation(message));\n\n        infoMessage.append(Constants.REQUEST_IDENTIFIERS);\n\n        logger.info(infoMessage.toString(), identifierMap.get(Constants.ORDERID),\n                identifierMap.get(Constants.TEMPLATENAME),\n                identifierMap.get(Constants.SESSIONID),\n                identifierMap.get(Constants.STOREID));\n    }\n\n    public static void logInfo(String message, KafkaMessage kafkaMessage, Logger logger) {\n        String sessionId = null;\n        String clientOriginationId = null;\n        String eventId = null;\n        String eventName = null;\n        String timeStamp = null;\n\n        StringBuilder stringBuilder = new StringBuilder(checkPunctuation(message));\n        stringBuilder.append(Constants.KAFKA_MESSAGE_IDENTIFIERS);\n\n        if(kafkaMessage != null &amp;&amp; kafkaMessage.getHeader() != null) {\n            Header header = kafkaMessage.getHeader();\n            sessionId = header.getSessionId();\n            clientOriginationId = header.getClientOriginationId();\n            eventId = header.getEventId();\n            eventName = header.getEventName();\n            timeStamp = header.getTimestamp();\n        }\n\n        logger.info(stringBuilder.toString(), sessionId, clientOriginationId, eventId, eventName, timeStamp);\n    }\n\n    /**\n     * Method to log error messages.\n     * @param message\n     * @param emailRequest\n     * @param e\n     */\n    public static void logError(String message, EmailRequest emailRequest, Exception e, Logger logger) {\n        Map&lt;String, String&gt; identifierMap = getRequestIdentifiers(emailRequest);\n\n        StringBuffer errorMessage = new StringBuffer(checkPunctuation(message));\n        errorMessage.append(Constants.REQUEST_IDENTIFIERS);\n\n        logger.error(errorMessage.toString(), identifierMap.get(Constants.ORDERID),\n                identifierMap.get(Constants.TEMPLATENAME),\n                identifierMap.get(Constants.SESSIONID),\n                identifierMap.get(Constants.STOREID), e.getMessage(), e);\n    }\n\n    /**\n     * This method extracts the request identfiers from email request object\n     * @param emailRequest\n     * @return\n     */\n    private static Map&lt;String, String&gt; getRequestIdentifiers(EmailRequest emailRequest) {\n        String templateName = emailRequest != null ? emailRequest.getTemplateName() : null;\n        String orderId = null;\n        String sessionId = null;\n        String storeId = null;\n        if(emailRequest != null &amp;&amp; emailRequest.getEmailVars() != null &amp;&amp; emailRequest.getEmailVars().getTemplateVarsList() != null) {\n            EmailVars emailVars = emailRequest.getEmailVars();\n            orderId = emailVars.getTemplateVariable(Constants.ORDERID);\n            sessionId = emailVars.getTemplateVariable(Constants.SESSIONID);\n            storeId = emailVars.getTemplateVariable(Constants.STOREID);\n        }\n        Map&lt;String, String&gt; identifierMap = new HashMap&lt;String, String&gt;();\n        identifierMap.put(Constants.TEMPLATENAME, templateName);\n        identifierMap.put(Constants.ORDERID, orderId);\n        identifierMap.put(Constants.SESSIONID, sessionId);\n        identifierMap.put(Constants.STOREID, storeId);\n\n        return identifierMap;\n    }\n\n    /**\n     * Method to add '.' to the message\n     * @param message\n     * @return\n     */\n    private static String checkPunctuation(String message) {\n        if(message == null || message.length() == 0 || message.trim().length() == 0) {\n            return \"\";\n        }\n        //Removing any trailing white spaces\n        message = message.trim();\n        StringBuilder stringBuilder = new StringBuilder(message);\n\n        //checking if the message ends with a period '.'\n        if(message.charAt(message.length() - 1) != '.') {\n            stringBuilder.append(\". \");\n        }\n\n        return stringBuilder.toString();\n    }\n}\n</code></pre>\n\n<p>Log statment:</p>\n\n<blockquote>\n  <p>2018-10-31 11:45:33.770000 -0700 LOG_LEVEL=\"INFO\"\n  apiCall=\"com.example.email.service.KafkaConsumer\"\n  stacktrace=\"java.lang.Exception: Invalid to-email-address     at\n  com.example.email.service.KafkaConsumer.handleMessages(KafkaConsumer.java:84)\n    at sun.reflect.GeneratedMethodAccessor134.invoke(Unknown Source)    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)     at\n  org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:181)\n    at\n  org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:114)\n    at\n  org.springframework.cloud.stream.binding.StreamListenerMessageHandler.handleRequestMessage(StreamListenerMessageHandler.java:55)\n    at\n  org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:109)\n    at\n  org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:158)\n    at\n  org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:116)\n    at\n  org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:132)\n    at\n  org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:105)\n    at\n  org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:73)\n    at\n  org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:445)\n    at\n  org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:394)\n    at\n  org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:181)\n    at\n  org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:160)\n    at\n  org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\n    at\n  org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:108)\n    at\n  org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:203)\n    at\n  org.springframework.integration.kafka.inbound.KafkaMessageDrivenChannelAdapter.access$300(KafkaMessageDrivenChannelAdapter.java:70)\n    at\n  org.springframework.integration.kafka.inbound.KafkaMessageDrivenChannelAdapter$IntegrationRecordMessageListener.onMessage(KafkaMessageDrivenChannelAdapter.java:387)\n    at\n  org.springframework.integration.kafka.inbound.KafkaMessageDrivenChannelAdapter$IntegrationRecordMessageListener.onMessage(KafkaMessageDrivenChannelAdapter.java:364)\n    at\n  org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:1071)\n    at\n  org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:1051)\n    at\n  org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:998)\n    at\n  org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:866)\n    at\n  org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:724)\n    at\n  java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)     at\n  java.lang.Thread.run(Thread.java:748)  \" message=\"Time taken to\n  process message is 2265ms.For orderId = 6207168, templateName =\n  TERMS_CONDITIONS, sessionId = 77337650, storeId = 1892. errorMessage =\n  {}\"</p>\n</blockquote>\n\n<p>I suspect that the wrapper method might be the culprit, since I am passing the logger instance from the class where the exception occurred to the wrapper methods. I'm not sure though. Any help is appreciated, thank you in advance.</p>\n"}, {"tags": ["java", "spring", "spring-mvc", "jakarta-ee", "web-applications"], "answers": [{"comments": [{"owner": {"reputation": 2849, "user_id": 10497483, "user_type": "registered", "profile_image": "https://graph.facebook.com/478365672547562/picture?type=large", "display_name": "Himanshu Ahuja", "link": "https://stackoverflow.com/users/10497483/himanshu-ahuja"}, "edited": false, "score": 0, "creation_date": 1541015768, "post_id": 53090552, "comment_id": 93079065, "body": "as a start I am not focusing on creating a robust app rather at first I am just looking for a android app working like it should as a website."}, {"owner": {"reputation": 4783, "user_id": 7561129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SeoPr.png?s=128&g=1", "display_name": "Zeusox", "link": "https://stackoverflow.com/users/7561129/zeusox"}, "reply_to_user": {"reputation": 2849, "user_id": 10497483, "user_type": "registered", "profile_image": "https://graph.facebook.com/478365672547562/picture?type=large", "display_name": "Himanshu Ahuja", "link": "https://stackoverflow.com/users/10497483/himanshu-ahuja"}, "edited": false, "score": 0, "creation_date": 1541016025, "post_id": 53090552, "comment_id": 93079179, "body": "Then you have two options, you use website-to-app converters which literally all they do is make your website open like it would in a browser, which does not look professional and is never smooth. The second is to create some basic layout using a certain framework or language and then get the data through an API... Hope this helps clear up some of your ambiguities..."}, {"owner": {"reputation": 2849, "user_id": 10497483, "user_type": "registered", "profile_image": "https://graph.facebook.com/478365672547562/picture?type=large", "display_name": "Himanshu Ahuja", "link": "https://stackoverflow.com/users/10497483/himanshu-ahuja"}, "edited": false, "score": 1, "creation_date": 1541016153, "post_id": 53090552, "comment_id": 93079237, "body": "yeah i was thinking of the second one through Restful API"}, {"owner": {"reputation": 4783, "user_id": 7561129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SeoPr.png?s=128&g=1", "display_name": "Zeusox", "link": "https://stackoverflow.com/users/7561129/zeusox"}, "reply_to_user": {"reputation": 2849, "user_id": 10497483, "user_type": "registered", "profile_image": "https://graph.facebook.com/478365672547562/picture?type=large", "display_name": "Himanshu Ahuja", "link": "https://stackoverflow.com/users/10497483/himanshu-ahuja"}, "edited": false, "score": 0, "creation_date": 1541016269, "post_id": 53090552, "comment_id": 93079293, "body": "Yes, that is your best option for so many reasons. First and foremost you would learn a lot along the way. Second, your app would look so professional. If you this my answer does clarify your ambiguities, please mark is as a correct answer."}], "tags": [], "owner": {"reputation": 4783, "user_id": 7561129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SeoPr.png?s=128&g=1", "display_name": "Zeusox", "link": "https://stackoverflow.com/users/7561129/zeusox"}, "is_accepted": false, "score": 1, "last_activity_date": 1541013563, "creation_date": 1541013563, "answer_id": 53090552, "question_id": 53090469, "link": "https://stackoverflow.com/questions/53090469/how-to-convert-your-spring-mvc-maven-based-java-project-into-an-app/53090552#53090552", "title": "How to convert your Spring Mvc maven based Java Project into an app", "body": "<p>If your intention is to have a robust app, then you would have to create that from scratch. If the app is going to be for android, you can do that using <strong>Java, Kotlin</strong>... if it is going to be an IOS app then you would have to probably use <strong>SWIFT</strong> for this purpose. You can always use <strong>Google Flutter</strong> to create a beautiful responsive and robust app that would smoothly work on <strong>Android and IOS devises.</strong></p>\n\n<p><strong>Please note</strong>: you would need to connect your app to the same server/database that your spring project connects to so they are both consistent as far as data is concerned....</p>\n"}, {"comments": [{"owner": {"reputation": 4783, "user_id": 7561129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SeoPr.png?s=128&g=1", "display_name": "Zeusox", "link": "https://stackoverflow.com/users/7561129/zeusox"}, "edited": false, "score": 1, "creation_date": 1541014418, "post_id": 53090708, "comment_id": 93078400, "body": "Tools like <a href=\"https://gonative.io/\" rel=\"nofollow noreferrer\">gonative.io</a> do not really create apps. They just give you the ability to access your website through a an app-like web browser, which if that is the case, why not just have your clients open up your website using a web browser to begin with ?"}, {"owner": {"reputation": 2849, "user_id": 10497483, "user_type": "registered", "profile_image": "https://graph.facebook.com/478365672547562/picture?type=large", "display_name": "Himanshu Ahuja", "link": "https://stackoverflow.com/users/10497483/himanshu-ahuja"}, "edited": false, "score": 0, "creation_date": 1541014872, "post_id": 53090708, "comment_id": 93078627, "body": "yeah i have seen many a times instance of website opening as an app view in mobile. For a website i need to convert it to war n then publish it that wont be a problem i think but thinking of an app view would be a great deal"}, {"owner": {"reputation": 2849, "user_id": 10497483, "user_type": "registered", "profile_image": "https://graph.facebook.com/478365672547562/picture?type=large", "display_name": "Himanshu Ahuja", "link": "https://stackoverflow.com/users/10497483/himanshu-ahuja"}, "edited": false, "score": 0, "creation_date": 1541015096, "post_id": 53090708, "comment_id": 93078745, "body": "@bezmax yes the app is jsp based so it has lots of html embedded"}], "tags": [], "owner": {"reputation": 23546, "user_id": 43677, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/24cd20295b27bdbf4d62475f651a9cd0?s=128&d=identicon&r=PG", "display_name": "bezmax", "link": "https://stackoverflow.com/users/43677/bezmax"}, "is_accepted": false, "score": 1, "last_activity_date": 1541014254, "creation_date": 1541014254, "answer_id": 53090708, "question_id": 53090469, "link": "https://stackoverflow.com/questions/53090469/how-to-convert-your-spring-mvc-maven-based-java-project-into-an-app/53090708#53090708", "title": "How to convert your Spring Mvc maven based Java Project into an app", "body": "<p>I assume that your app serves HTML of some sort. I also assume that by \"app\" you mean an app on mobile phones.</p>\n\n<p>You have two options:</p>\n\n<p><strong>Difficult one:</strong> build a client-server architecture by exposing an API (easiest one is REST based) then build a separate Android and iPhone client that connects to your backend.</p>\n\n<p><strong>Easy one:</strong> use a tool like <a href=\"https://gonative.io/\" rel=\"nofollow noreferrer\">https://gonative.io/</a> (not affiliated, just first result by googling \"android webpage into app\"). Those kinds of tools create an app which just loads a browser and opens your page in it.</p>\n\n<p>Usually, the \"easy\" option is frowned upon, but it is MUCH better in terms of time to market.</p>\n"}], "owner": {"reputation": 2849, "user_id": 10497483, "user_type": "registered", "profile_image": "https://graph.facebook.com/478365672547562/picture?type=large", "display_name": "Himanshu Ahuja", "link": "https://stackoverflow.com/users/10497483/himanshu-ahuja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 360, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1542737706, "creation_date": 1541013163, "last_edit_date": 1542737706, "question_id": 53090469, "link": "https://stackoverflow.com/questions/53090469/how-to-convert-your-spring-mvc-maven-based-java-project-into-an-app", "title": "How to convert your Spring Mvc maven based Java Project into an app", "body": "<p>I have an Advance Java based project  prepared on Spring Mvc framework with Hibernate. My requirement is to wrap it up into an app n publish it.\nSo, How should I proceed with it because I have faced many issues even at creating a war of the same.</p>\n"}, {"tags": ["java", "swing"], "comments": [{"owner": {"reputation": 3336, "user_id": 7859515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9dbe73058d23754227cad2f8ad4ff12d?s=128&d=identicon&r=PG&f=1", "display_name": "MyStackRunnethOver", "link": "https://stackoverflow.com/users/7859515/mystackrunnethover"}, "edited": false, "score": 0, "creation_date": 1541013502, "post_id": 53090465, "comment_id": 93077958, "body": "Does it always freeze after the same amount of time? Have you tried using a debugger, or even print statements, to figure out where in the code the freeze is occurring? It would help us answer your question :)"}, {"owner": {"reputation": 1, "user_id": 10587642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ybEpw.jpg?s=128&g=1", "display_name": "LightningFang", "link": "https://stackoverflow.com/users/10587642/lightningfang"}, "reply_to_user": {"reputation": 3336, "user_id": 7859515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9dbe73058d23754227cad2f8ad4ff12d?s=128&d=identicon&r=PG&f=1", "display_name": "MyStackRunnethOver", "link": "https://stackoverflow.com/users/7859515/mystackrunnethover"}, "edited": false, "score": 0, "creation_date": 1541013684, "post_id": 53090465, "comment_id": 93078036, "body": "yes on multiple occasions, and always at the same moment, as this panel code is to be renderd"}, {"owner": {"reputation": 1, "user_id": 10587642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ybEpw.jpg?s=128&g=1", "display_name": "LightningFang", "link": "https://stackoverflow.com/users/10587642/lightningfang"}, "reply_to_user": {"reputation": 3336, "user_id": 7859515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9dbe73058d23754227cad2f8ad4ff12d?s=128&d=identicon&r=PG&f=1", "display_name": "MyStackRunnethOver", "link": "https://stackoverflow.com/users/7859515/mystackrunnethover"}, "edited": false, "score": 0, "creation_date": 1541014107, "post_id": 53090465, "comment_id": 93078231, "body": "just to be sure i went back and checked again, the only thong that wasnt frozen was the while loop"}], "answers": [{"tags": [], "owner": {"reputation": 306906, "user_id": 131872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0ced8e21d2a761db718acb6362b9225?s=128&d=identicon&r=PG", "display_name": "camickr", "link": "https://stackoverflow.com/users/131872/camickr"}, "is_accepted": false, "score": 0, "last_activity_date": 1541023603, "creation_date": 1541023603, "answer_id": 53092605, "question_id": 53090465, "link": "https://stackoverflow.com/questions/53090465/my-project-will-suddenly-freeze-and-i-am-unable-to-stop-the-freeze-from-happenin/53092605#53092605", "title": "My Project will suddenly freeze and i am unable to stop the freeze from happening", "body": "<p>Don't know if this will fix your problem but here are some issues:</p>\n\n<ol>\n<li><p>You are overriding the <code>Paint(...)</code> method. There is no such method. There is a lowercase <code>paint(...)</code> method. However, when using Swing you should be overriding the <code>paintComponent(...)</code> method.</p></li>\n<li><p>A painting method is for just doing painting, not any other processing. You can't control when Swing will invoke the paintComponent() method, so the painting method should just paint the current state of the class, not change the state. So:</p>\n\n<ol>\n<li>Don't do I/O. The method should be efficient. You don't want to keep reading files</li>\n<li>Don't create new objects</li>\n<li>Don't change the properties of your class (ie firstForm, secondForm ...)</li>\n</ol></li>\n<li><p>Don't use a while(...) loop for animation. The animation will occur too fast and you will only see the final result. Instead you should be using a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing Timer</a> to schedule the animation. I see you are using a Timer elsewhere in your code. Don't use 1ms for the Timer. The Timer is not that accurate and will generate too many events. The minimum should be around 16, that will get you 60 frames a second.</p></li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 10587642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ybEpw.jpg?s=128&g=1", "display_name": "LightningFang", "link": "https://stackoverflow.com/users/10587642/lightningfang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541035162, "creation_date": 1541013113, "last_edit_date": 1541035162, "question_id": 53090465, "link": "https://stackoverflow.com/questions/53090465/my-project-will-suddenly-freeze-and-i-am-unable-to-stop-the-freeze-from-happenin", "title": "My Project will suddenly freeze and i am unable to stop the freeze from happening", "body": "<p>i have been recently working on the following, after hitting run and then going through multiple GUI's it will load onto a Panal that runs the game, the problem is, is that it isn't doing what it is supposed to do. below is the code that has been giving me troubles. i have asked my IT teacher for help he isnt sure what is going wrong either.</p>\n\n<pre><code>    package edge;\n\n    import java.awt.Graphics;\n    import java.awt.Graphics2D;\n    import java.awt.Image;\n    import java.awt.event.ActionEvent;\n    import java.awt.event.ActionListener;\n    import java.awt.event.KeyEvent;\n    import java.awt.event.KeyListener;\n    import javax.swing.ImageIcon;\n    import javax.swing.Timer;\n\npublic class Dungeon1 extends javax.swing.JPanel implements ActionListener, KeyListener {\n\n    private static final long serialVersionUID = 1L;\n\n    Timer timer = new Timer(1, this);\n    Player player = new Player();\n    DungeonBackground db = new DungeonBackground(0, 0);\n    Enemy e1 = new Enemy(200, 200);\n\n    /**\n     * Creates new form Dungeon1\n     */\n    public Dungeon1() {\n        initComponents();\n        setSize(1366, 706);\n        timer.start();\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(\"unchecked\")\n    // &lt;editor-fold defaultstate=\"collapsed\" desc=\"Generated Code\"&gt;                          \n    private void initComponents() {\n\n        jLabel1 = new javax.swing.JLabel();\n\n        setBackground(new java.awt.Color(0, 0, 0));\n        setRequestFocusEnabled(false);\n\n        jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource(\"/edge/Dundeon 1 - 1.jpg\"))); // NOI18N\n        jLabel1.setText(\"\\n\");\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);\n        this.setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, 707, Short.MAX_VALUE)\n        );\n    }// &lt;/editor-fold&gt;                        \n\n    public void Paint(Graphics g) {\n        super.paint(g);\n        Graphics2D g2d = (Graphics2D) g;\n\n        ImageIcon img = new ImageIcon(\"Dundeon 1 - 1.jpg\");\n        IMG = img.getImage();\n        g2d.drawImage(IMG, 0, 0, null);\n\n        if (firstform == true &amp;&amp; secondform == false &amp;&amp; thirdform == false) {\n            ImageIcon imageIcon2 = new ImageIcon(\"enemy1.bmp\");\n            g2d.drawImage(imageIcon2.getImage(), e1.getX(), e1.getY(), this);\n        } else if (secondform == true &amp;&amp; firstform == false &amp;&amp; thirdform == false) {\n            ImageIcon imageIcon3 = new ImageIcon(\"enemy1-1.bmp\");\n            g2d.drawImage(imageIcon3.getImage(), e1.getX(), e1.getY(), this);\n            secondform = false;\n            thirdform = true;\n            firstform = false;\n        } else if (thirdform == true &amp;&amp; firstform == false &amp;&amp; secondform == false) {\n            ImageIcon imageIcon4 = new ImageIcon(\"enemy1-2.bmp\");\n            g2d.drawImage(imageIcon4.getImage(), e1.getX(), e1.getY(), this);\n            firstform = true;\n            secondform = false;\n            thirdform = false;\n            RageGUI rg1 = new RageGUI();\n            rg1.setVisible(true);\n        }\n        ImageIcon imageIcon = new ImageIcon(\"characterfinal.jpg\");\n        g2d.drawImage(imageIcon.getImage(), player.getX(), player.getY(), this);\n\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (e1.getX() == (player.getX() + 190) &amp;&amp; e1.getY() == player.getY()\n                || e1.getY() == (player.getY() - 190) &amp;&amp; e1.getX() == player.getX()) {\n            firstform = false;\n            secondform = true;\n        }\n        if (e1.getX() == (player.getX() - 190) &amp;&amp; e1.getY() == player.getY()) {\n            firstform = false;\n            secondform = true;\n        }\n        if (e1.getY() == (player.getY() - 190) &amp;&amp; e1.getX() == player.getX()) {\n            firstform = false;\n            secondform = true;\n        }\n        while (e1isalive == true) {\n            double rdn = Math.random();\n            if (rdn &lt;= 0.25) {\n                e1.MoveSequence1();\n            }\n            if (rdn &lt;= 0.5) {\n                e1.MoveSequence2();\n            }\n            if (rdn &lt;= 0.75) {\n                e1.MoveSequence3();\n            }\n            if (rdn &lt;= 1) {\n                e1.MoveSequence4();\n            }\n\n        }\n        if (player.getX() == 87 &amp;&amp; player.getY() == 81 &amp;&amp; player.getDirection() == 4) {\n            player.MoveLeft();\n            player.MoveDown();\n        }\n        if (player.getX() == 380 &amp;&amp; player.getY() == 500 &amp;&amp; player.getDirection() == 4) {\n            player.MoveLeft();\n        }\n        if (player.getX() == 91 &amp;&amp; player.getY() == 520 &amp;&amp; player.getDirection() == 4) {\n            player.MoveLeft();\n        }\n        if (player.getX() == 85 &amp;&amp; player.getY()== 355 &amp;&amp; player.getDirection() == 4) {\n            player.MoveLeft();\n        } \n        if (player.getX() == 284 &amp;&amp; player.getY() == 399 &amp;&amp; player.getDirection() == 3) {\n            player.MoveRight();\n        }\n        if (player.getX() == 284 &amp;&amp; player.getY() == 399 &amp;&amp; player.getDirection() == 1) {\n            player.MoveDown();\n        }\n        if (player.getX() == 649 &amp;&amp; player.getY() == 515 &amp;&amp; player.getDirection() == 3) {\n            player.MoveRight();\n        }\n        if (player.getX() == 811 &amp;&amp; player.getY() == 243 &amp;&amp; player.getDirection() == 2) {\n            player.MoveUp();\n        }\n        if (player.getX() == 811 &amp;&amp; player.getY() == 243 &amp;&amp; player.getDirection() == 1) {\n            player.MoveDown();\n        }\n        if (player.getX() == 671 &amp;&amp; player.getY() == 365 &amp;&amp; player.getDirection() == 4) {\n            player.MoveLeft();\n        }\n        if (player.getX() == 940 &amp;&amp; player.getY() == 350 &amp;&amp; player.getDirection() == 3) {\n            player.MoveLeft();\n        }\n        if (player.getX() == 812 &amp;&amp; player.getY() == 513 &amp;&amp; player.getDirection() == 1) {\n            player.MoveDown();\n        }\n        if (player.getX() == 140 &amp;&amp; player.getY() == 150 &amp;&amp; player.getDirection() == 4) {\n            player.MoveLeft();\n        }\n        if (player.getX() == 900 &amp;&amp; player.getY() == 600 &amp;&amp; player.getDirection() == 3 ) {\n            player.MoveRight();\n        }\n        if (player.getX() == 1159 &amp;&amp; player.getY() == 461 &amp;&amp; player.getDirection() == 3 ) {\n            player.MoveRight();\n        }\n        if (player.getX() == 660 &amp;&amp; player.getY() == 110 &amp;&amp; player.getDirection() == 4 ) {\n            player.MoveLeft();\n        }\n        if (player.getX() == 995 &amp;&amp; player.getY() == 285 &amp;&amp; player.getDirection() == 1) {\n            player.MoveDown();\n        }\n        if (player.getX() == 1160 &amp;&amp; player.getY() == 120 &amp;&amp; player.getDirection() == 3 ) {\n            player.MoveRight();\n        }\n        if (player.getX() == 393 &amp;&amp; player.getY() == 634 &amp;&amp; player.getDirection() == 4) {\n\n            System.out.println(\"do you want to die???\"\n                    + \" or did you think you found a secret way out of the dungeon??\"\n                    + \" well you are right, you win\");\n            RageQuitGUI rg = new RageQuitGUI() ;\n            rg.setVisible(true) ;\n        }\n        repaint();\n    }\n\n    @Override\n    public void keyTyped(KeyEvent ke) {\n\n    }\n\n    @Override\n    public void keyPressed(KeyEvent ke) {\n         if (ke.getKeyCode() == KeyEvent.VK_W) {\n            player.MoveUp();\n            System.out.println(\"w key has been pressed\");\n        } else if (ke.getKeyCode() == KeyEvent.VK_A) {\n            player.MoveLeft();\n            System.out.println(\"a key has been pressed\");\n        } else if (ke.getKeyCode() == KeyEvent.VK_D) {\n            player.MoveRight();\n            System.out.println(\"d key has been pressed\");\n        } else if (ke.getKeyCode() == KeyEvent.VK_S) {\n            player.MoveDown();\n            System.out.println(\"s key has been pressed\");\n        }\n        if (ke.getKeyCode() == KeyEvent.VK_ALT + KeyEvent.VK_F4) {\n            RageQuitGUI rg = new RageQuitGUI();\n            rg.setVisible(true);\n        }\n    }\n\n    @Override\n    public void keyReleased(KeyEvent ke) {\n\n    }\n    boolean e1isalive = true;\n    boolean firstform = true;\n    boolean secondform = false;\n    boolean thirdform = false;\n    Image IMG;\n//  sometimes the code works and soetimes it doesnt.\n    // Variables declaration - do not modify                     \n    private javax.swing.JLabel jLabel1;\n    // End of variables declaration                   \n}\n</code></pre>\n"}, {"tags": ["java", "spring-boot", "activemq"], "comments": [{"owner": {"reputation": 16275, "user_id": 8381946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YoUh4.jpg?s=128&g=1", "display_name": "Justin Bertram", "link": "https://stackoverflow.com/users/8381946/justin-bertram"}, "edited": false, "score": 0, "creation_date": 1541015260, "post_id": 53090448, "comment_id": 93078829, "body": "Which ActiveMQ broker are you using (&quot;classic&quot; 5.x or Artemis)?  What protocol is the client using?"}, {"owner": {"reputation": 16275, "user_id": 8381946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YoUh4.jpg?s=128&g=1", "display_name": "Justin Bertram", "link": "https://stackoverflow.com/users/8381946/justin-bertram"}, "edited": false, "score": 0, "creation_date": 1541015433, "post_id": 53090448, "comment_id": 93078915, "body": "Also, are you saying you want the two  (i.e. the &quot;main&quot; and the &quot;audit&quot;) consumers to each get a copy the same messages (e.g. publish/subscribe semantics)?"}, {"owner": {"reputation": 15075, "user_id": 710051, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/61ef4641eefbe49d369e99e423248e94?s=128&d=identicon&r=PG&f=1", "display_name": "Makky", "link": "https://stackoverflow.com/users/710051/makky"}, "reply_to_user": {"reputation": 16275, "user_id": 8381946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YoUh4.jpg?s=128&g=1", "display_name": "Justin Bertram", "link": "https://stackoverflow.com/users/8381946/justin-bertram"}, "edited": false, "score": 0, "creation_date": 1541064909, "post_id": 53090448, "comment_id": 93092803, "body": "I am using classic version ."}], "answers": [{"comments": [{"owner": {"reputation": 15075, "user_id": 710051, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/61ef4641eefbe49d369e99e423248e94?s=128&d=identicon&r=PG&f=1", "display_name": "Makky", "link": "https://stackoverflow.com/users/710051/makky"}, "edited": false, "score": 0, "creation_date": 1541065022, "post_id": 53092301, "comment_id": 93092855, "body": "Thanks this will definately fit in."}], "tags": [], "owner": {"reputation": 15533, "user_id": 375722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04770ed0ecf1e91e322484f66c9726ba?s=128&d=identicon&r=PG", "display_name": "Tim Bish", "link": "https://stackoverflow.com/users/375722/tim-bish"}, "is_accepted": true, "score": 3, "last_activity_date": 1541021841, "creation_date": 1541021841, "answer_id": 53092301, "question_id": 53090448, "link": "https://stackoverflow.com/questions/53090448/allow-multiple-consumer-for-the-same-queue/53092301#53092301", "title": "Allow multiple consumer for the same queue", "body": "<p>Sounds like you want something along the lines of a <a href=\"http://activemq.apache.org/mirrored-queues.html\" rel=\"nofollow noreferrer\">Mirrored Queue</a> to be able to subscribe a consumer to and see what data is passing through the Queue.  ActiveMQ supports many such features so a look through the documentation would be a good idea.  </p>\n"}], "owner": {"reputation": 15075, "user_id": 710051, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/61ef4641eefbe49d369e99e423248e94?s=128&d=identicon&r=PG&f=1", "display_name": "Makky", "link": "https://stackoverflow.com/users/710051/makky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 53092301, "answer_count": 1, "score": 0, "last_activity_date": 1541079974, "creation_date": 1541013059, "last_edit_date": 1541079974, "question_id": 53090448, "link": "https://stackoverflow.com/questions/53090448/allow-multiple-consumer-for-the-same-queue", "title": "Allow multiple consumer for the same queue", "body": "<p>Let's say I have a queue <code>FILE_DATA</code>. The main process will read from it and does whatever it has to do, but at the same time I want to have another listener to the same queue for auditing purposes.</p>\n\n<p>Does ActiveMQ 5.x support such things?</p>\n\n<p>I am using SpringBoot.</p>\n"}, {"tags": ["java", "yaml", "okhttp3", "rest-client", "feign"], "answers": [{"tags": [], "owner": {"reputation": 777, "user_id": 9469068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GY6TQ.jpg?s=128&g=1", "display_name": "Kevin Davis", "link": "https://stackoverflow.com/users/9469068/kevin-davis"}, "is_accepted": false, "score": 0, "last_activity_date": 1544837625, "creation_date": 1544837625, "answer_id": 53788841, "question_id": 53090390, "link": "https://stackoverflow.com/questions/53090390/adding-decodeslash-using-feign-requestline/53788841#53788841", "title": "Adding decodeSlash using Feign @RequestLine", "body": "<p><code>decodeSlash</code> can only be set via the <code>@RequestLine</code> annotation.  If you do not have access to the annotation you will need to replace the <code>uri</code> using a <code>RequestInterceptor</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 419, "user_id": 1326662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iytd9.jpg?s=128&g=1", "display_name": "Ralf", "link": "https://stackoverflow.com/users/1326662/ralf"}, "is_accepted": false, "score": 0, "last_activity_date": 1572960541, "creation_date": 1572960541, "answer_id": 58712381, "question_id": 53090390, "link": "https://stackoverflow.com/questions/53090390/adding-decodeslash-using-feign-requestline/58712381#58712381", "title": "Adding decodeSlash using Feign @RequestLine", "body": "<p>If you use the <a href=\"https://github.com/openapitools/openapi-generator\" rel=\"nofollow noreferrer\">openapi-generator</a> you can <a href=\"https://github.com/openapitools/openapi-generator/wiki/FAQ#i-want-to-use-customized-templates-for-java-feign-client-how-can-i-do-that\" rel=\"nofollow noreferrer\">modify the templates</a> (also described <a href=\"https://openapi-generator.tech/docs/templating\" rel=\"nofollow noreferrer\">here</a>) yourself to add the <code>decodeSlash</code> Parameter:</p>\n\n<pre><code>git clone https://github.com/openapitools/openapi-generator\ncd openapi-generator\ngit checkout v4.2.0 # The Version Tag you are actually using\ncd modules/openapi-generator/src/main/resources/Java/libraries/feign/\ncp api.mustache &lt;your_local_project&gt;/src/main/resources/Java/libraries/feign\n</code></pre>\n\n<p>In <code>api.mustache</code> change the 2 appearances of <code>@RequestLine</code>:</p>\n\n<pre><code>- @RequestLine(\"{{httpMethod}} {{{path}}}{{#hasQueryParams}}?{{/hasQueryParams}}{{#queryParams}}{{baseName}}={{=&lt;% %&gt;=}}{&lt;%paramName%&gt;}&lt;%={{ }}=%&gt;{{#hasMore}}&amp;{{/hasMore}}{{/queryParams}}\")\n+ @RequestLine(value=\"{{httpMethod}} {{{path}}}{{#hasQueryParams}}?{{/hasQueryParams}}{{#queryParams}}{{baseName}}={{=&lt;% %&gt;=}}{&lt;%paramName%&gt;}&lt;%={{ }}=%&gt;{{#hasMore}}&amp;{{/hasMore}}{{/queryParams}}\", decodeSlash = false)\n\n- @RequestLine(\"{{httpMethod}} {{{path}}}?{{#queryParams}}{{baseName}}={{=&lt;% %&gt;=}}{&lt;%paramName%&gt;}&lt;%={{ }}=%&gt;{{#hasMore}}&amp;{{/hasMore}}{{/queryParams}}\")\n+ @RequestLine(value=\"{{httpMethod}} {{{path}}}?{{#queryParams}}{{baseName}}={{=&lt;% %&gt;=}}{&lt;%paramName%&gt;}&lt;%={{ }}=%&gt;{{#hasMore}}&amp;{{/hasMore}}{{/queryParams}}\", decodeSlash = false)\n</code></pre>\n\n<p>Using the <code>openapi-generator-maven-plugin</code> add the <code>templateDirectory</code> to the <code>&lt;configuration&gt;</code> block:</p>\n\n<pre><code>&lt;templateDirectory&gt;src/main/resources/Java/libraries/feign&lt;/templateDirectory&gt;\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 8309818, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fcdcbb83659ac1b44c4e4dc1c0ef04e7?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit", "link": "https://stackoverflow.com/users/8309818/rohit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 950, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1572960541, "creation_date": 1541012839, "last_edit_date": 1541533599, "question_id": 53090390, "link": "https://stackoverflow.com/questions/53090390/adding-decodeslash-using-feign-requestline", "title": "Adding decodeSlash using Feign @RequestLine", "body": "<p>I am currently using a YAML file to generate the models and the API clients using the swagger plugin and I am using Feign OkHttpClient to make requests to the API, the problem here is the client encodes the URL but ignores the Slash(es) with this the API call fails. Is there a way to add <code>decodeSlash</code> parameter in the client? Or can this be achieved using an interceptor?</p>\n\n<p>Here is the sample path param where I am running into this issue. <code>QgKuK2DU/0%3D</code> where as it should be <code>QgKuK2DU%2F0%3D</code>  </p>\n"}, {"tags": ["java", "artificial-intelligence", "minimax", "alpha-beta-pruning"], "answers": [{"comments": [{"owner": {"reputation": 11278, "user_id": 845280, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f4a091d03eb138e977a4fabad7ec1c7e?s=128&d=identicon&r=PG", "display_name": "Farzher", "link": "https://stackoverflow.com/users/845280/farzher"}, "edited": false, "score": 0, "creation_date": 1588273196, "post_id": 53098982, "comment_id": 108843268, "body": "my ai was being dumb without &quot;Iterative Deepening&quot; because in future states both players won, and it had 0 clue who won first. now it&#39;s 200 IQ. surprised i didn&#39;t hear of this sooner!"}], "tags": [], "owner": {"reputation": 6797, "user_id": 6735980, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a3f1e216ed8274c085d0dfe11348e6f1?s=128&d=identicon&r=PG", "display_name": "Dennis Soemers", "link": "https://stackoverflow.com/users/6735980/dennis-soemers"}, "is_accepted": true, "score": 4, "last_activity_date": 1541066561, "creation_date": 1541066561, "answer_id": 53098982, "question_id": 53090376, "link": "https://stackoverflow.com/questions/53090376/a-very-interesting-problem-with-the-minimax-algorithm-what-could-cause-this-beh/53098982#53098982", "title": "A very interesting problem with the MiniMax algorithm. What could cause this behaviour?", "body": "<p>Suppose that your Minimax player is in a position where it can prove that it can guarantee a win. There will often be many different ways in which it can still guarantee an eventual win. Some moves may be instant wins, some moves may drag the game out unnecessarily... as long as it's not a really stupid move that suddenly allows the opponent to win (or draw), they are all wins, and they all have the same game-theoretic value (<code>Integer.MAX_VALUE</code> in your code).</p>\n\n<p>Your Minimax algorithm does not distinguish between those moves, and simply plays the one that happens to be the first in your <code>gameState.children</code> list. That may be a fast, shallow win, or it may be a slow, very deep win.</p>\n\n<p>There are two easy ways to make your Minimax algorithm prioritize fast wins over slow wins:</p>\n\n<ol>\n<li>The best option (because it also has many other advantages) is to use <strong>Iterative Deepening</strong>. You can look that up for details, but the basic idea is that you first do a Minimax search with a depth limit of 1, then another one with a depth limit of 2, then with a depth limit of 3, etc. As soon as one of your searches proves a win, you can terminate searching and play that winning move. This will make your algorithm always prefer the shortest wins (because those are found first).</li>\n<li>Alternatively, you can modify your <code>heuristicValue()</code> function to incorporate the search depth. For example, you can return <code>Integer.MAX_VALUE - depth</code> in winning positions. That will make faster wins actually have a slightly larger evaluation.</li>\n</ol>\n"}], "owner": {"reputation": 672, "user_id": 4925616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JUC2x.png?s=128&g=1", "display_name": "Gtomika", "link": "https://stackoverflow.com/users/4925616/gtomika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 552, "favorite_count": 0, "accepted_answer_id": 53098982, "answer_count": 1, "score": 1, "last_activity_date": 1541066561, "creation_date": 1541012792, "question_id": 53090376, "link": "https://stackoverflow.com/questions/53090376/a-very-interesting-problem-with-the-minimax-algorithm-what-could-cause-this-beh", "title": "A very interesting problem with the MiniMax algorithm. What could cause this behaviour?", "body": "<p>I have implemented the MiniMax algorithm (with alpha-beta pruning), however it behaves in an interesting way. My player will create a huge lead, but when it is time to make the final, winning move it does not take that move and just keeps dragging out the game.</p>\n\n<p>Here is my minimax function:</p>\n\n<pre><code>// Game states are represented by Node objects (holds the move and the board in that state)\n//ValueStep is just a pair holding the minimax value and a game move (step) \n\nprivate ValueStep minimax(Node gameState,int depth,int alpha,int beta) {\n\n  //Node.MAXDEPTH is a constant\n  if(depth == Node.MAXDEPTH || gameOver(gameState.board)) {\n      return new ValueStep(gameState.heuristicValue(),gameState.step);\n  }\n\n  //this method definately works. child nodes are created with a move and an \n  //updated board and MAX value\n  //which determines if they are the maximizing or minimizing players game states.\n  gameState.children = gameState.findPossibleStates();\n\n  if(state.MAX) { //maximizing player\n      ValueStep best = null;\n\n      for(Node child: gameState.children) {\n\n          ValueStep vs = new ValueStep(minimax(child,depth+1,alpha,beta).value,child.move);\n\n          //values updated here if needed\n          if(best==null || vs.value &gt; best.value) best = vs;\n\n          if(vs.value &gt; alpha) alpha = vs.value;\n\n          if(alpha &gt;= beta) break;\n      }\n\n      return best;\n\n  } else { //minimizing player\n      ValueStep best = null;\n\n      for(Node child: gameState.children) {\n\n          ValueStep vs = new ValueStep(minimax(child,depth+1,alfa,beta).value,child.move);\n\n          if(best==null || vs.value &lt; best.value) best = vs;\n\n          if(vs.value &lt; beta) beta = vs.value;\n\n          if(alpha &gt;= beta) break;\n      }\n\n      return best;\n  }\n</code></pre>\n\n<p>}</p>\n\n<p>First I thought the problem is with my evaluating function, but if it is, I couldn't find it. In this game both players have a score and my function simply calculates the heuristic value from the score difference. \nHere it is:</p>\n\n<pre><code>public int heuristicValue() {\n\n       //I calculate the score difference here in this state and save it in \n       //the variable scoreDiff. scoreDiff will be positive if I am winning \n       //here, negative if im loosing.\n\n        //\"this\" is a Node object here. If the game is over here, special\n        //heuristic values are returned, depending on who wins (or if its a \n        //draw) \n        if(gameOver(this.board)) {\n            if(scoreDiff&gt;0) {\n                return Integer.MAX_VALUE;  \n            } else if(scoreDiff==0) {\n                return 0;\n            } else {\n                return Integer.MIN_VALUE;\n            }\n        }\n\n        int value = 0;\n        value += 100*scoreDiff; //caluclate the heuristic value using the score differerence. If its high, the value will be high as well \n\n      return value;\n  }\n</code></pre>\n\n<p>I have \"translated\" my code into english, so there may be typos. Im fairly sure the problem is here somewhere, but if you need some other code then I'll update the question. Again, my player can create an advantage, but it won't make the final winning move for some reason.\nI appreciate your help!</p>\n"}, {"tags": ["java", "vert.x"], "comments": [{"owner": {"reputation": 2899, "user_id": 2539472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0475d27157bbb03085abda1ac6446b53?s=128&d=identicon&r=PG", "display_name": "homerman", "link": "https://stackoverflow.com/users/2539472/homerman"}, "edited": false, "score": 0, "creation_date": 1541061617, "post_id": 53090310, "comment_id": 93091378, "body": "is there a stack trace that you could share?"}], "answers": [{"tags": [], "owner": {"reputation": 976, "user_id": 4386547, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-TwUZs2vvLKc/AAAAAAAAAAI/AAAAAAAAlsM/bhW91Yyr_pg/photo.jpg?sz=128", "display_name": "Kishore Tulsiani", "link": "https://stackoverflow.com/users/4386547/kishore-tulsiani"}, "is_accepted": true, "score": 0, "last_activity_date": 1541186115, "creation_date": 1541186115, "answer_id": 53124600, "question_id": 53090310, "link": "https://stackoverflow.com/questions/53090310/error-while-calling-stored-procedure-in-java-vertx/53124600#53124600", "title": "error while calling stored procedure in java vertx", "body": "<p>after adding SQL types in JsonArray it worked.</p>\n\n<pre><code>client.getConnection(connection -&gt; {\nif (connection.succeeded()) {\n  System.out.println(\" Database connection Successful - 1 \");\n  SQLConnection sqlConnection = connection.result();\n  System.out.println(\" Database connection Successful - 2 \" + sqlConnection.toString());\n\n  // SP works without a return value\n  sqlConnection.callWithParams(\"{CALL SYSPROC.F1COR008(?,?,?,?,?,?,?,?)}\",\n    new JsonArray().add(\"01\")\n      .add(3154)\n      .add(\"EN\")\n      .add(\"EML\")\n      .add(\"91\")\n      .addNull()\n      .addNull()\n      .addNull(), new JsonArray().addNull()\n      .addNull()\n      .addNull()\n      .addNull()\n      .addNull()\n      .add(\"CHAR\")\n      .add(\"CHAR\")\n      .add(\"CHAR\"), handler -&gt; {\n      if (handler.succeeded()) {\n        // System.out.println(\" Database handler Successful \");\n        ResultSet resultSet = handler.result();\n        System.out.println(\n          \" Database handler Successful - 3 \" + resultSet.getRows().get(0));\n      }\n    });\n}\n</code></pre>\n\n<p>});</p>\n"}], "owner": {"reputation": 976, "user_id": 4386547, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-TwUZs2vvLKc/AAAAAAAAAAI/AAAAAAAAlsM/bhW91Yyr_pg/photo.jpg?sz=128", "display_name": "Kishore Tulsiani", "link": "https://stackoverflow.com/users/4386547/kishore-tulsiani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "accepted_answer_id": 53124600, "answer_count": 1, "score": -2, "last_activity_date": 1541186130, "creation_date": 1541012493, "last_edit_date": 1541186130, "question_id": 53090310, "link": "https://stackoverflow.com/questions/53090310/error-while-calling-stored-procedure-in-java-vertx", "title": "error while calling stored procedure in java vertx", "body": "<p>I am trying to call a stored procedure using java vert.x framework but getting following exception.</p>\n\n<p>did anyone have experienced it before</p>\n\n<pre><code>No enum constant java.sql.JDBCType.**\n</code></pre>\n"}, {"tags": ["java", "eclipse", "rcp", "e4"], "answers": [{"comments": [{"owner": {"reputation": 323, "user_id": 2998253, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100000270244204/picture?type=large", "display_name": "Bartek Szczypien", "link": "https://stackoverflow.com/users/2998253/bartek-szczypien"}, "edited": false, "score": 0, "creation_date": 1541419215, "post_id": 53091862, "comment_id": 93198288, "body": "Can I get somehow current EPartService and get rid off all this crazy injection which works only if some bindings are linked in application.e4xmi?"}, {"owner": {"reputation": 102407, "user_id": 2670892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4iPV5.png?s=128&g=1", "display_name": "greg-449", "link": "https://stackoverflow.com/users/2670892/greg-449"}, "reply_to_user": {"reputation": 323, "user_id": 2998253, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100000270244204/picture?type=large", "display_name": "Bartek Szczypien", "link": "https://stackoverflow.com/users/2998253/bartek-szczypien"}, "edited": false, "score": 0, "creation_date": 1541419712, "post_id": 53091862, "comment_id": 93198550, "body": "Not sure what you are asking. You can use <code>ContextInjectionFactory</code> to do injection on your own classes."}, {"owner": {"reputation": 323, "user_id": 2998253, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100000270244204/picture?type=large", "display_name": "Bartek Szczypien", "link": "https://stackoverflow.com/users/2998253/bartek-szczypien"}, "edited": false, "score": 0, "creation_date": 1541614363, "post_id": 53091862, "comment_id": 93279350, "body": "As I cant find could You help how to use ContextInjectionFactory with own classes (not connected to application model) without using any of application-model connected objects and get EPartService?"}, {"owner": {"reputation": 102407, "user_id": 2670892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4iPV5.png?s=128&g=1", "display_name": "greg-449", "link": "https://stackoverflow.com/users/2670892/greg-449"}, "reply_to_user": {"reputation": 323, "user_id": 2998253, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100000270244204/picture?type=large", "display_name": "Bartek Szczypien", "link": "https://stackoverflow.com/users/2998253/bartek-szczypien"}, "edited": false, "score": 0, "creation_date": 1541623865, "post_id": 53091862, "comment_id": 93283762, "body": "That is really a new question. You have to use ContextInjectionFactory from something that has the current IEclipseContext. That can be things connected to the application model (parts, command handlers etc.) or created from the LifeCycle class. You can also get the IEclipseContext from things like an MPart."}], "tags": [], "owner": {"reputation": 102407, "user_id": 2670892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4iPV5.png?s=128&g=1", "display_name": "greg-449", "link": "https://stackoverflow.com/users/2670892/greg-449"}, "is_accepted": false, "score": 1, "last_activity_date": 1541019812, "last_edit_date": 1541019812, "creation_date": 1541019491, "answer_id": 53091862, "question_id": 53090264, "link": "https://stackoverflow.com/questions/53090264/how-to-get-bundleclass-that-is-registered-in-application-e4xmi-when-new-mpart-is/53091862#53091862", "title": "How to get bundleclass that is registered in Application.e4xmi when new MPart is created - Eclipse RCP e4", "body": "<p>Call the <code>getObject()</code> method of <code>MPart</code> to get the class created for the part:</p>\n\n<pre><code>MyPartClass partObject = (MyPartClass)lpart.getObject();\n</code></pre>\n\n<p>Note: You should inject the <code>EPartService</code> in to your handler rather than trying to get it via <code>getServiceReference</code>. There are multiple part services and you need to get the correct one.</p>\n"}], "owner": {"reputation": 323, "user_id": 2998253, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100000270244204/picture?type=large", "display_name": "Bartek Szczypien", "link": "https://stackoverflow.com/users/2998253/bartek-szczypien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541019812, "creation_date": 1541012260, "question_id": 53090264, "link": "https://stackoverflow.com/questions/53090264/how-to-get-bundleclass-that-is-registered-in-application-e4xmi-when-new-mpart-is", "title": "How to get bundleclass that is registered in Application.e4xmi when new MPart is created - Eclipse RCP e4", "body": "<p>How to get bundleclass that is registered in Application.e4xmi when new MPart is created dynamically:</p>\n\n<pre><code>EPartService lService = (EPartService)Activator.getContext().getServiceReference(EPartService.class);\n    MPart lPart = lService.showPart(pViewId, PartState.CREATE);\n    //pass some initial parameters to lPart...\n</code></pre>\n\n<p>or how to pass some parameters to the bundleclass of new MPart</p>\n"}, {"tags": ["java", "jax-rs", "batch-processing"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 12398221, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Lkl768eD1QA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd4MgVsLEu-wHMtyULZZZOWFikUDA/photo.jpg?sz=128", "display_name": "Hans Wolffenbuttel", "link": "https://stackoverflow.com/users/12398221/hans-wolffenbuttel"}, "is_accepted": false, "score": 1, "last_activity_date": 1574173610, "creation_date": 1574173610, "answer_id": 58936281, "question_id": 53090256, "link": "https://stackoverflow.com/questions/53090256/failed-to-create-artifact-while-running-batchlet/58936281#58936281", "title": "Failed to create artifact while running batchlet", "body": "<p>alter your beans.xml with  bean-discovery-mode=\"all\" like this</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;beans\n        xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee \n                      http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd\"\n        bean-discovery-mode=\"all\"&gt;\n&lt;/beans&gt;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10587606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/250992526f9c2f463c6f3b0d9bce266d?s=128&d=identicon&r=PG&f=1", "display_name": "JimFromTheOffice", "link": "https://stackoverflow.com/users/10587606/jimfromtheoffice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 480, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1574173610, "creation_date": 1541012219, "question_id": 53090256, "link": "https://stackoverflow.com/questions/53090256/failed-to-create-artifact-while-running-batchlet", "title": "Failed to create artifact while running batchlet", "body": "<p>I get this error while trying to run a batchlet:</p>\n\n<blockquote>\n  <p>16:05:35,807 WARN  [org.jberet] (Batch Thread - 1) JBERET000001: Failed to run batchlet org.jberet.job.model.RefArtifact@2dea3d8a: java.lang.IllegalStateException: JBERET000600: Failed to create artifact with ref name MyBatchlet.  Ensure CDI beans.xml is present and batch.xml, if any, is configured properly.\n      at org.jberet.runtime.context.JobContextImpl.createArtifact(JobContextImpl.java:185)\n      at org.jberet.runtime.runner.AbstractRunner.createArtifact(AbstractRunner.java:156)\n      at org.jberet.runtime.runner.BatchletRunner.run(BatchletRunner.java:66)\n      at org.jberet.runtime.runner.StepExecutionRunner.runBatchletOrChunk(StepExecutionRunner.java:229)\n      at org.jberet.runtime.runner.StepExecutionRunner.run(StepExecutionRunner.java:147)\n      at org.jberet.runtime.runner.CompositeExecutionRunner.runStep(CompositeExecutionRunner.java:164)\n      at org.jberet.runtime.runner.CompositeExecutionRunner.runFromHeadOrRestartPoint(CompositeExecutionRunner.java:88)\n      at org.jberet.runtime.runner.JobExecutionRunner.run(JobExecutionRunner.java:60)\n      at org.wildfly.extension.batch.jberet.impl.BatchEnvironmentService$WildFlyBatchEnvironment$1.run(BatchEnvironmentService.java:243)\n      at org.wildfly.extension.requestcontroller.RequestController$QueuedTask$1.run(RequestController.java:497)\n      at org.jberet.spi.JobExecutor$3.run(JobExecutor.java:161)\n      at org.jberet.spi.JobExecutor$1.run(JobExecutor.java:99)\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n      at java.lang.Thread.run(Thread.java:748)\n      at org.jboss.threads.JBossThread.run(JBossThread.java:320)\n  Caused by: java.lang.IllegalStateException: JBERET000600: Failed to create artifact with ref name MyBatchlet.  Ensure CDI beans.xml is present and batch.xml, if any, is configured properly.\n      at org.jberet.creation.ArtifactFactoryWrapper.getClassFromBatchXmlOrClassLoader(ArtifactFactoryWrapper.java:65)\n      at org.jberet.creation.ArtifactFactoryWrapper.create(ArtifactFactoryWrapper.java:41)\n      at org.jberet.runtime.context.JobContextImpl.createArtifact(JobContextImpl.java:183)\n      ... 15 more\n  Caused by: java.lang.ClassNotFoundException: MyBatchlet from [Module \"deployment.idkwebapp.war:main\" from Service Module Loader]\n      at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:198)\n      at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:363)\n      at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:351)\n      at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:93)\n      at org.jberet.creation.ArtifactFactoryWrapper.getClassFromBatchXmlOrClassLoader(ArtifactFactoryWrapper.java:63)\n      ... 17 more</p>\n</blockquote>\n\n<p>I've created a beans.xml but I still couldn't get it to work...</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\r\n&lt;beans xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/beans_1_0.xsd\"&gt;\r\n&lt;/beans&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here's the batchlet:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>package br.com.idk;\r\n\r\nimport javax.batch.runtime.context.JobContext;\r\nimport javax.batch.runtime.context.StepContext;\r\nimport javax.inject.Inject;\r\n\r\npublic class MyBatchlet {\r\n\r\n\t @Inject JobContext jobContext;\r\n\t @Inject StepContext stepContext;\r\n\r\n\tpublic String process() throws Exception {\r\n\t\t\r\n\t    long executionId = jobContext.getExecutionId();\r\n\t\t\r\n\t    System.out.println(\"I'm a cool batchlet!!!!!!!!!!!!!!!\");\r\n\t    \r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic void stop() throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\t\r\n\t\r\n\t\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here's where I call it:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>package br.com.idk;\r\n\r\nimport java.util.Properties;\r\n\r\nimport javax.batch.operations.JobOperator;\r\nimport javax.batch.runtime.BatchRuntime;\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.Path;\r\n\r\n@Path(\"/hello\")\r\npublic class Resource {\r\n\t\r\n\t@GET\r\n\t@Path(\"testBatch\")\r\n\tpublic Long testBatch() {\r\n\t\tJobOperator jobOperator = BatchRuntime.getJobOperator();\r\n        Properties props = new Properties();\r\n        props.setProperty(\"name\", \"Dude\");\r\n        \r\n        return jobOperator.start(\"simple-batchlet-job\", props);\r\n\t}\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here's the XML for the job:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\r\n&lt;job id=\"simple-batchlet-job\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"&gt;\r\n    &lt;step id=\"myBatchlet\"&gt;\r\n        &lt;batchlet ref=\"MyBatchlet\"/&gt;\r\n    &lt;/step&gt;\r\n&lt;/job&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["java", "spring", "dependency-injection", "inversion-of-control", "guice"], "answers": [{"tags": [], "owner": {"reputation": 40432, "user_id": 1807667, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/976dc9df3ea3d05a18e90f0cd9c29b7a?s=128&d=identicon&r=PG", "display_name": "Ortomala Lokni", "link": "https://stackoverflow.com/users/1807667/ortomala-lokni"}, "is_accepted": false, "score": 1, "last_activity_date": 1541016234, "creation_date": 1541016234, "answer_id": 53091143, "question_id": 53090222, "link": "https://stackoverflow.com/questions/53090222/guice-what-is-the-equivalent-of-spring-autowired-in-guice/53091143#53091143", "title": "Guice - what is the equivalent of Spring Autowired in Guice", "body": "<p>In Guice, there is no direct equivalent of the <code>@Autowired</code> Spring annotation. Dependency injection usage is explained in the <a href=\"https://github.com/google/guice/wiki/GettingStarted\" rel=\"nofollow noreferrer\">Getting started page</a>. </p>\n\n<p>1) You have to annotate the constructor of your service with the <code>@Inject</code> annotation:</p>\n\n<pre><code> @Inject\n  BillingService(CreditCardProcessor processor, \n      TransactionLog transactionLog) {\n    this.processor = processor;\n    this.transactionLog = transactionLog;\n  }\n</code></pre>\n\n<p>2) Then define the bindings between types and implementations in a module:</p>\n\n<pre><code>public class BillingModule extends AbstractModule {\n  @Override \n  protected void configure() {\n\n     /*\n      * This tells Guice that whenever it sees a dependency on a TransactionLog,\n      * it should satisfy the dependency using a DatabaseTransactionLog.\n      */\n    bind(TransactionLog.class).to(DatabaseTransactionLog.class);\n\n     /*\n      * Similarly, this binding tells Guice that when CreditCardProcessor is used in\n      * a dependency, that should be satisfied with a PaypalCreditCardProcessor.\n      */\n    bind(CreditCardProcessor.class).to(PaypalCreditCardProcessor.class);\n  }\n}\n</code></pre>\n\n<p>3) And finally build an injector and use it:</p>\n\n<pre><code> public static void main(String[] args) {\n    /*\n     * Guice.createInjector() takes your Modules, and returns a new Injector\n     * instance. Most applications will call this method exactly once, in their\n     * main() method.\n     */\n    Injector injector = Guice.createInjector(new BillingModule());\n\n    /*\n     * Now that we've got the injector, we can build objects.\n     */\n    BillingService billingService = injector.getInstance(BillingService.class);\n    ...\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 510, "user_id": 4366358, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/150667e8571a5c5bb550b3df8546fc78?s=128&d=identicon&r=PG&f=1", "display_name": "OEH", "link": "https://stackoverflow.com/users/4366358/oeh"}, "edited": false, "score": 0, "creation_date": 1541066694, "post_id": 53093154, "comment_id": 93093682, "body": "Hi, this is very interesting, do you have a concrete example by any chance? I have looked around tutorials but seems all of them wants me to use modules and use it in main methods."}, {"owner": {"reputation": 28043, "user_id": 180719, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/AWsdT.png?s=128&g=1", "display_name": "Olivier Gr&#233;goire", "link": "https://stackoverflow.com/users/180719/olivier-gr%c3%a9goire"}, "reply_to_user": {"reputation": 510, "user_id": 4366358, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/150667e8571a5c5bb550b3df8546fc78?s=128&d=identicon&r=PG&f=1", "display_name": "OEH", "link": "https://stackoverflow.com/users/4366358/oeh"}, "edited": false, "score": 0, "creation_date": 1541074277, "post_id": 53093154, "comment_id": 93097481, "body": "@OEH Here&#39;s your example, as requested."}, {"owner": {"reputation": 510, "user_id": 4366358, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/150667e8571a5c5bb550b3df8546fc78?s=128&d=identicon&r=PG&f=1", "display_name": "OEH", "link": "https://stackoverflow.com/users/4366358/oeh"}, "edited": false, "score": 0, "creation_date": 1541079472, "post_id": 53093154, "comment_id": 93100351, "body": "Thank you for that, I will try this solution this evening! I am using embedded tomcat so I don t have web.xml, however I am sure I can add servlets in tomcat pojo via doing tomcat.addServlet or equivalent, thank you very much!!!!"}], "tags": [], "owner": {"reputation": 28043, "user_id": 180719, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/AWsdT.png?s=128&g=1", "display_name": "Olivier Gr&#233;goire", "link": "https://stackoverflow.com/users/180719/olivier-gr%c3%a9goire"}, "is_accepted": false, "score": 2, "last_activity_date": 1541074248, "last_edit_date": 1541074248, "creation_date": 1541027455, "answer_id": 53093154, "question_id": 53090222, "link": "https://stackoverflow.com/questions/53090222/guice-what-is-the-equivalent-of-spring-autowired-in-guice/53093154#53093154", "title": "Guice - what is the equivalent of Spring Autowired in Guice", "body": "<h1>Yes, <code>@Inject</code> can act as <code>@Autowired</code>... given some conditions.</h1>\n\n<p>Guice doesn't require <code>Module</code>s, though they're very often used. So you can get rid of them if you want to.</p>\n\n<p>If your class is a concrete class, you can directly <code>@Inject</code> it, just like <code>@Autowired</code>, but you also probably have to mark the class <code>@Singleton</code> because the default scope in Guice is not singleton, but a new instance everyone, unlike Spring.</p>\n\n<p>Guice is not Spring, but the most important features of one are present in the other.</p>\n\n<h2>Using Guice with Tomcat</h2>\n\n<p>When you want to use Guice with Tomcat, there is very little configuration to do, but there is still configuration. You will require a <code>Module</code>, but only the servlet.</p>\n\n<p>In your <strong><code>web.xml</code></strong>, add the following:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;listener&gt;\n  &lt;listener-class&gt;path.to.MyGuiceServletConfig&lt;/listener-class&gt;\n&lt;/listener&gt;\n\n&lt;filter&gt;\n  &lt;filter-name&gt;guiceFilter&lt;/filter-name&gt;\n  &lt;filter-class&gt;com.google.inject.servlet.GuiceFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n  &lt;filter-name&gt;guiceFilter&lt;/filter-name&gt;\n  &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p><strong><code>MyGuiceServletConfig.java</code></strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class MyGuiceServletConfig extends GuiceServletContextListener {\n  @Override protected Injector getInjector() {\n    return Guice.createInjector(new ServletModule() {\n      @Override protected void configureServlets() {\n        serve(\"/*\").with(MyServlet.class); // Nothing else is needed.\n      }\n    });\n  }\n}\n</code></pre>\n\n<p><strong><code>MyServlet.java</code></strong></p>\n\n<pre><code>public class MyServlet extends HttpServlet {\n\n  @Inject // Similar to @Autowired\n  private MyService myService;\n\n  @Override public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    resp.getWriter().write(myService.hello(\"Guice\"));\n  }\n}\n</code></pre>\n\n<p>Now you have a choice with <code>MyService</code>: either you make an interface out of it and you have to define, and bind an implementation, or you make a concrete class out of it.</p>\n\n<h3><code>MyService</code> as an interface</h3>\n\n<p><strong><code>MyService.java</code></strong></p>\n\n<pre><code>@ImplementedBy(MyServiceImpl.class) // This says \"hey Guice, the default implementation is MyServiceImpl.\"\npublic interface MyService {\n  String hello(String name);\n}\n</code></pre>\n\n<p><strong><code>MyServiceImpl.java</code></strong></p>\n\n<pre><code>@Singleton // Use the same default scope as Spring\npublic class MyServiceImpl implements MyService {\n  // @Inject dependencies as you wish.\n  public String hello(String name) { return \"Hello, \" + name + \"!\"; }\n}\n</code></pre>\n\n<p>If you want to avoid the <code>@ImplementedBy</code>, you can still use your module above, and add <code>bind(MyService.class).to(MyServiceImpl.class).in(Scopes.SINGLETON);</code>, or write a provider method in the same <code>Module</code>:</p>\n\n<pre><code>@Provides @Singleton MyService provideMyService() {\n  return new MyServiceImpl();\n}\n</code></pre>\n\n<h3><code>MyService</code> as a concrete class</h3>\n\n<p><strong><code>MyService.java</code></strong></p>\n\n<pre><code>@Singleton // Use the same default scope as Spring\npublic class MyService {\n  // @Inject dependencies as you wish.\n  public String hello(String name) { return \"Hello, \" + name + \"!\"; }\n}\n</code></pre>\n"}], "owner": {"reputation": 510, "user_id": 4366358, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/150667e8571a5c5bb550b3df8546fc78?s=128&d=identicon&r=PG&f=1", "display_name": "OEH", "link": "https://stackoverflow.com/users/4366358/oeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2485, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1541074248, "creation_date": 1541012089, "last_edit_date": 1541055081, "question_id": 53090222, "link": "https://stackoverflow.com/questions/53090222/guice-what-is-the-equivalent-of-spring-autowired-in-guice", "title": "Guice - what is the equivalent of Spring Autowired in Guice", "body": "<p>I am trying to use Guice and I am coming from Spring.</p>\n\n<p>I am wondering if <code>@Inject</code> is the equivalent of <code>@Autowired</code> in Spring and if I can use it in web application exactly as I am using it in Spring.</p>\n\n<p>Imagine I have a Facade which depends on a service, in Spring I can define a bean for that service and then when the server starts up I can get the instance of the service inside my facade. </p>\n\n<pre><code>class FacadeImpl{\n  @Autowire Service service;\n  ...\n}\n</code></pre>\n\n<p>Assume that service has a concrete implementation and in Spring will automatically inject it.</p>\n\n<p>Does Guice has a similar approach? can I do something like</p>\n\n<pre><code>class Facade{\n  @Inject Service service;\n}\n</code></pre>\n\n<p>or is it a magic that only spring does?</p>\n\n<p>In my web application, I am starting embedded tomcat and I used google guice modules in such a way</p>\n\n<pre><code>Guice.createInjector(new ConfigurationModule());\n</code></pre>\n\n<p>hoping that this will be enough to \"inject\" whatever is annotated with <code>@Inject</code>.</p>\n\n<p>However, it is not working ( I am not surprised ).\nCan you guys help me to figure out which are the BP to inject dependencies on my Servlets or Facades etc..?</p>\n"}, {"tags": ["java", "android", "android-fragments", "android-recyclerview"], "comments": [{"owner": {"reputation": 262, "user_id": 9332016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xHkZa.jpg?s=128&g=1", "display_name": "teh_raab", "link": "https://stackoverflow.com/users/9332016/teh-raab"}, "edited": false, "score": 0, "creation_date": 1541014785, "post_id": 53090068, "comment_id": 93078580, "body": "Do the same again.. now use an interface from the fragment to the activity. Or have some LiveData set in the fragment that is observed in the activity."}, {"owner": {"reputation": 198, "user_id": 4715901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3636db6904a02295e46642918c6717eb?s=128&d=identicon&r=PG&f=1", "display_name": "trueangle", "link": "https://stackoverflow.com/users/4715901/trueangle"}, "edited": false, "score": 0, "creation_date": 1541015620, "post_id": 53090068, "comment_id": 93079000, "body": "Just create a new listener interface for activity and then access this interface from your fragment (through onAttach or getActivity methods of the Fragment).  Example here <a href=\"https://stackoverflow.com/a/12683615/4715901\">stackoverflow.com/a/12683615/4715901</a>"}], "owner": {"user_type": "does_not_exist", "display_name": "user8156459"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541011420, "creation_date": 1541011420, "question_id": 53090068, "link": "https://stackoverflow.com/questions/53090068/how-to-pass-data-from-recylceradapter-to-mainactivity-through-a-fragment", "title": "How to pass data from RecylcerAdapter to MainActivity through a fragment", "body": "<p>as stated on the question, I am trying to pass data from the RecylerAdapter to the MainActivity, the only problem is when I use interfaces I can only pass it to the Fragment that creates the RecylcerView, any suggestions?</p>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 8503, "user_id": 6485651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2tGDI.png?s=128&g=1", "display_name": "Zephyr", "link": "https://stackoverflow.com/users/6485651/zephyr"}, "edited": false, "score": 0, "creation_date": 1541011541, "post_id": 53090045, "comment_id": 93077157, "body": "Have you tried adding a <code>while</code> loop anywhere yet?"}, {"owner": {"reputation": 8503, "user_id": 6485651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2tGDI.png?s=128&g=1", "display_name": "Zephyr", "link": "https://stackoverflow.com/users/6485651/zephyr"}, "edited": false, "score": 0, "creation_date": 1541012493, "post_id": 53090045, "comment_id": 93077532, "body": "Or just take one of the 4 identical answers :P"}, {"owner": {"reputation": 1782, "user_id": 2308745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6deefe7eb4c5f22991e392cc720fed5?s=128&d=identicon&r=PG", "display_name": "Gatsbimantico", "link": "https://stackoverflow.com/users/2308745/gatsbimantico"}, "edited": false, "score": 0, "creation_date": 1541016737, "post_id": 53090045, "comment_id": 93079515, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/18410035/ways-to-iterate-over-a-list-in-java\">Ways to iterate over a list in Java</a>"}], "answers": [{"tags": [], "owner": {"reputation": 12572, "user_id": 8534008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2af9937cac66f08b6ee6e4219cc0d?s=128&d=identicon&r=PG&f=1", "display_name": "GBlodgett", "link": "https://stackoverflow.com/users/8534008/gblodgett"}, "is_accepted": false, "score": 1, "last_activity_date": 1541012411, "last_edit_date": 1541012411, "creation_date": 1541011529, "answer_id": 53090092, "question_id": 53090045, "link": "https://stackoverflow.com/questions/53090045/write-a-while-loop-to-output-the-integer-values-from-0-up-to-n-exclusive/53090092#53090092", "title": "Write a while loop to output the integer values from 0 up to n exclusive", "body": "<p>You can use the modulus operator to determine if <code>value</code> is a multiple of <code>5</code>, and if so, print a newline:</p>\n\n<pre><code>while (value &lt; n){\n     System.out.print(value + \" \");         \n     if(value %5 == 4) {\n          System.out.println();\n     }\n     value = value + 1;\n}\n</code></pre>\n\n<p><strong><em>Output:</em></strong> (With input of 10)</p>\n\n<pre><code>0 1 2 3 4 \n5 6 7 8 9 \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": false, "score": 0, "last_activity_date": 1541011743, "creation_date": 1541011743, "answer_id": 53090139, "question_id": 53090045, "link": "https://stackoverflow.com/questions/53090045/write-a-while-loop-to-output-the-integer-values-from-0-up-to-n-exclusive/53090139#53090139", "title": "Write a while loop to output the integer values from 0 up to n exclusive", "body": "<p>You just need a <code>System.out.println();</code> after every 5th element:</p>\n\n<pre><code>    while ( value &lt; n){\n        System.out.print( value + \" \");\n        value = value + 1;\n        if (value % 5 == 0)\n            System.out.println();\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3044, "user_id": 10367471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RcvGS.png?s=128&g=1", "display_name": "H&#252;lya", "link": "https://stackoverflow.com/users/10367471/h%c3%bclya"}, "is_accepted": false, "score": 0, "last_activity_date": 1541012493, "last_edit_date": 1541012493, "creation_date": 1541012151, "answer_id": 53090241, "question_id": 53090045, "link": "https://stackoverflow.com/questions/53090045/write-a-while-loop-to-output-the-integer-values-from-0-up-to-n-exclusive/53090241#53090241", "title": "Write a while loop to output the integer values from 0 up to n exclusive", "body": "<p>This one line of code will print five values per line, with values separated by a space: <code>System.out.print(value % 5 == 0 ? \"\\n\" : \" \");</code> </p>\n\n<p><code>\\n</code> is new line character. In <code>print</code> method <code>\\n</code> gives a line break. So if <code>(value % 5 == 0)</code> equals <code>true</code> this line prints a line break, otherwise it prints space.</p>\n\n<p>Thus your <code>while loop</code> should be like this: </p>\n\n<pre><code>while (value &lt; n) {\n    System.out.print(value);\n    value = value + 1;\n    System.out.print(value % 5 == 0 ? \"\\n\" : \" \");\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10507860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0427492eb9af2086676bd7c3e15901ba?s=128&d=identicon&r=PG&f=1", "display_name": "NeedPeaceOfmymind", "link": "https://stackoverflow.com/users/10507860/needpeaceofmymind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1541012694, "creation_date": 1541011324, "last_edit_date": 1541011486, "question_id": 53090045, "link": "https://stackoverflow.com/questions/53090045/write-a-while-loop-to-output-the-integer-values-from-0-up-to-n-exclusive", "title": "Write a while loop to output the integer values from 0 up to n exclusive", "body": "<p>How can I write a while loop to output the integer values from 0 up to n exclusive. </p>\n\n<p>The output should have five values per line, with values separated by a space. I can do it on the same line but, I am confused about the five values per line. Where am I supposed to add while loop to do it?</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class While\n{\n   public static void main( String[] args)\n   {\n      Scanner scan = new Scanner( System.in);\n\n      // constants\n\n      // variables\n      int n;\n      int value;\n\n\n      // program code\n      value = 0;\n      System.out.println( \"Enter an integer \");\n      n = scan.nextInt();\n      if( n &lt;=0){\n         System.out.println( \"Error\");\n      }else\n         while ( value &lt; n){\n         System.out.print( value + \" \");\n         value = value + 1;\n      }\n   }\n}\n</code></pre>\n"}, {"tags": ["java", "arrays", "excel", "apache-poi", "output"], "comments": [{"owner": {"reputation": 42122, "user_id": 3915431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ad2fe8d0c0e72bdbe3623e85a96b9b4?s=128&d=identicon&r=PG&f=1", "display_name": "Axel Richter", "link": "https://stackoverflow.com/users/3915431/axel-richter"}, "edited": false, "score": 0, "creation_date": 1541148229, "post_id": 53090015, "comment_id": 93124844, "body": "See <a href=\"https://stackoverflow.com/questions/51682898/how-do-i-edit-pattern-in-dataformatter/51683823#51683823\" title=\"how do i edit pattern in dataformatter\">stackoverflow.com/questions/51682898/&hellip;</a> for the same problem."}, {"owner": {"reputation": 79, "user_id": 7513615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ded9014fe40642978a58e2f336ef11c0?s=128&d=identicon&r=PG&f=1", "display_name": "Toto D", "link": "https://stackoverflow.com/users/7513615/toto-d"}, "reply_to_user": {"reputation": 42122, "user_id": 3915431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ad2fe8d0c0e72bdbe3623e85a96b9b4?s=128&d=identicon&r=PG&f=1", "display_name": "Axel Richter", "link": "https://stackoverflow.com/users/3915431/axel-richter"}, "edited": false, "score": 0, "creation_date": 1541160172, "post_id": 53090015, "comment_id": 93130697, "body": "I fix one statement but it add some decimal to my numeric value i.e edit @AxelRichter"}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 7513615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ded9014fe40642978a58e2f336ef11c0?s=128&d=identicon&r=PG&f=1", "display_name": "Toto D", "link": "https://stackoverflow.com/users/7513615/toto-d"}, "edited": false, "score": 0, "creation_date": 1541243230, "post_id": 53120696, "comment_id": 93155027, "body": "Many thanks for the explaination, I see better how it works ! ;)"}], "tags": [], "owner": {"reputation": 42122, "user_id": 3915431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ad2fe8d0c0e72bdbe3623e85a96b9b4?s=128&d=identicon&r=PG&f=1", "display_name": "Axel Richter", "link": "https://stackoverflow.com/users/3915431/axel-richter"}, "is_accepted": true, "score": 1, "last_activity_date": 1541170648, "last_edit_date": 1541170648, "creation_date": 1541169840, "answer_id": 53120696, "question_id": 53090015, "link": "https://stackoverflow.com/questions/53090015/wrong-value-number-stored-as-text-apache-poi/53120696#53120696", "title": "Wrong value / Number stored as Text - Apache POI", "body": "<p>When <code>DataFormatter</code> is used there is no need determining the cell types. <code>DataFormatter</code> will always get the values as <code>String</code> and as they are shown in the <code>Excel</code> cells (not in all cases as shown in edit bar). So if the cell shows <code>1,70299E+11</code> then <code>DataFormatter</code> also will get \"1,70299E+11\". If this is not the wanted value, then <code>DataFormatter</code> must be told what else it shall do than interpreting cell formats as <code>Excel</code> will do.</p>\n\n<p>For example the value <code>170299024773</code> will be shown as <code>1,70299E+11</code> in <code>excel</code>cells if cell format <code>General</code> is used. If this is unwanted, then  either the cell format must be changed in <code>Excel</code>. Using number format <code>0</code> for example, what means: show integer values as long this is possible. Or <code>DataFormatter</code> must be told that it shall interpreting cell format <code>General</code> different than <code>Excel</code>.</p>\n\n<p>The following shows how telling <code>DataFormatter</code> that it shall interpreting cell format <code>General</code> as <code>#.###############</code>.</p>\n\n<p>Excel:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YXS3D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YXS3D.png\" alt=\"enter image description here\"></a></p>\n\n<p>Code:</p>\n\n<pre><code>import org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.ss.util.*;\n\nimport java.io.FileInputStream;\n\nclass ExcelDataformatterLikeCalcExample {\n\n public static void main(String[] args) throws Exception {\n\n  Workbook wb  = WorkbookFactory.create(new FileInputStream(\"ExcelExample.xlsx\"));\n\n  DataFormatter df = new DataFormatter();\n\n  df.addFormat(\"General\", new java.text.DecimalFormat(\"#.###############\"));\n\n  Sheet sheet = wb.getSheetAt(0);\n  for (Row row : sheet) {\n   for (Cell cell : row) {\n\n     String value = df.formatCellValue(cell);\n     System.out.println(value);\n\n   }\n  }\n  wb.close();\n\n }\n\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>axel@arichter:~/Dokumente/JAVA/poi/poi-4.0.0$ java -cp .:./*:./lib/*:./ooxml-lib/* ExcelDataformatterLikeCalcExample \n170299024773\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 7513615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ded9014fe40642978a58e2f336ef11c0?s=128&d=identicon&r=PG&f=1", "display_name": "Toto D", "link": "https://stackoverflow.com/users/7513615/toto-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1405, "favorite_count": 0, "accepted_answer_id": 53120696, "answer_count": 1, "score": 0, "last_activity_date": 1541170648, "creation_date": 1541011137, "last_edit_date": 1541160136, "question_id": 53090015, "link": "https://stackoverflow.com/questions/53090015/wrong-value-number-stored-as-text-apache-poi", "title": "Wrong value / Number stored as Text - Apache POI", "body": "<p>I'm working on an application which get data from excel file and output one excel after few operations.\nI got 2 issues, the first one is that one :</p>\n\n<p>On my main excel file, I have this value <code>170299024773</code> and in Excel it's appear like that <code>1.703E+11</code> and then on the output file I get <code>1.70299E+11</code> and the exact value is <code>170299000000</code>. \nSo as you see, it's not the value of the main file. \nMorever, for this cell, I have the error \"Number stored as text\", and then I fix this error from Excel I got <code>1.70E+11</code>.</p>\n\n<p>I saw few tips about the Nember stored a text and in particular DataFormatter but it's doesn't change anything in my case</p>\n\n<p>The code I use to get data of excel sheet to array :</p>\n\n<pre><code>private static String[][] sheetToArray(org.apache.poi.ss.usermodel.Sheet sheet, int nbCol){\n    String[][] tmp = new String[sheet.getLastRowNum()+1][nbCol];\n\n        for (int i = 0; i &lt; sheet.getLastRowNum()+1; i++) { //Config1 to array\n            Row row = sheet.getRow(i);\n            DataFormatter df = new DataFormatter();\n                for (int j = 0; j &lt; nbCol; j++) {\n                    Cell cellC1 = row.getCell(j);\n                     tmp[i][j] = df.formatCellValue(cellC1);\n                }\n            }\n        return tmp;\n    }\n</code></pre>\n\n<p>Many thanks in advance guys...</p>\n\n<p>Edit : I fix the wrong value adding </p>\n\n<pre><code>switch (cellD2.getCellTypeEnum()){\n       case STRING:\n             tmp[i][j] = df.formatCellValue(cellC1);\n             break;\n        case NUMERIC:\n             tmp[i][j] = String.valueOf(cellC1.getNumericCellValue());\n        }\n }\n</code></pre>\n\n<p>But now, I have some decimal value added to my numeric state... To solve it I should use DataFormatter but in that case I will lost the right data </p>\n"}, {"tags": ["java", "mysql", "spring-boot", "spring-data-jpa", "jpql"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3973283"}, "edited": false, "score": 0, "creation_date": 1541012665, "post_id": 53089946, "comment_id": 93077595, "body": "You have a string literal <code>&#39;{\\&quot;key\\&quot; : \\&quot;key1\\&quot;, \\&quot;value\\&quot; : :value}&#39;</code> ... and the parameter is in that, so hence is treated a string literal NOT a parameter. The message tells you exactly that."}], "answers": [{"comments": [{"owner": {"reputation": 45511, "user_id": 12248, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/898befeb0d7117930cd7e94a7cf27663?s=128&d=identicon&r=PG", "display_name": "Julien Hoarau", "link": "https://stackoverflow.com/users/12248/julien-hoarau"}, "edited": false, "score": 0, "creation_date": 1575413928, "post_id": 53089947, "comment_id": 104556958, "body": "Clever hack! Thanks a lot!"}], "tags": [], "owner": {"reputation": 578, "user_id": 1825303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52c332d8c16ca7c8abbebefb604972ad?s=128&d=identicon&r=PG", "display_name": "ADi3ek", "link": "https://stackoverflow.com/users/1825303/adi3ek"}, "is_accepted": false, "score": 2, "last_activity_date": 1541010769, "creation_date": 1541010769, "answer_id": 53089947, "question_id": 53089946, "link": "https://stackoverflow.com/questions/53089946/query-annotation-and-named-parameters-in-quoted-strings/53089947#53089947", "title": "@Query annotation and named parameters in quoted strings", "body": "<p>The only workaround solution I have found so far is by using MySQL string <code>REPLACE()</code> function:</p>\n\n<pre><code>@Query(value=\"SELECT * FROM event WHERE JSON_CONTAINS(ev_data, REPLACE('{\\\"key\\\" : \\\"key1\\\", \\\"value\\\" : \\\"*v*\\\"}','*v*', :value), '$.items')\", nativeQuery=true)\nSet&lt;Event&gt; findAllByItemKey1Value(@Param(\"value\") String value);\n</code></pre>\n\n<p>It's not very elegant but it works for me and similar trick should also work for any named parameters used inside quotes.</p>\n\n<p>Anyway, please let me know if you think this can be done better or more <em>kosher</em>, so to speak ;-)</p>\n"}], "owner": {"reputation": 578, "user_id": 1825303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52c332d8c16ca7c8abbebefb604972ad?s=128&d=identicon&r=PG", "display_name": "ADi3ek", "link": "https://stackoverflow.com/users/1825303/adi3ek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 613, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541019103, "creation_date": 1541010769, "last_edit_date": 1541019103, "question_id": 53089946, "link": "https://stackoverflow.com/questions/53089946/query-annotation-and-named-parameters-in-quoted-strings", "title": "@Query annotation and named parameters in quoted strings", "body": "<p>So, here is the native MySQL query where I want to get all the rows based on JSON key-value pairs (ev_data is <a href=\"https://dev.mysql.com/doc/refman/8.0/en/json.html\" rel=\"nofollow noreferrer\">json type</a> column), and it works just fine:</p>\n\n<pre><code>SELECT * FROM event WHERE JSON_CONTAINS(ev_data, '{\"key\":\"key1\",\"value\":\"val1\"}','$.items')\n</code></pre>\n\n<p>An example of <code>ev_data</code> column content:</p>\n\n<pre><code>{\"items\":[{\"key\":\"key1\",\"value\":\"val1\"},{\"key\":\"key2\",\"value\":\"val2\"}]}\n</code></pre>\n\n<p>Now, I am using Spring Boot's <code>CrudRepository</code> interface and <code>@Query</code> annotation for my custom fetch method as follows:</p>\n\n<pre><code>@Query(value=\"SELECT * FROM event WHERE JSON_CONTAINS(ev_data, '{\\\"key\\\" : \\\"key1\\\", \\\"value\\\" : :value}', '$.items')\", nativeQuery=true)\nSet&lt;Event&gt; findAllByItemKey1Value(@Param(\"value\") String value);\n</code></pre>\n\n<p>This, however, won't work and trigger an exception like:\n<code>java.lang.IllegalArgumentException: Parameter with that name [value] did not exist</code> because, apparently, <strong>you are not allowed to use parameters (named or indexed) inside quoted strings</strong>. Not sure if it's JPA/JPQL or Spring Boot thing but it is a fact.</p>\n"}, {"tags": ["java", "generics"], "comments": [{"owner": {"reputation": 4224, "user_id": 2643110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38d31a44511b2b48dd69e96d05919581?s=128&d=identicon&r=PG&f=1", "display_name": "forgivenson", "link": "https://stackoverflow.com/users/2643110/forgivenson"}, "edited": false, "score": 0, "creation_date": 1541010959, "post_id": 53089884, "comment_id": 93076915, "body": "And I&#39;m guessing you&#39;ll have issues if you do something like <code>numberList.get(i) + &quot;&quot;</code>. You are using the <code>objectList</code> in the loop, so I wouldn&#39;t expect a problem there."}, {"owner": {"reputation": 9772, "user_id": 1786065, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/udTpS.png?s=128&g=1", "display_name": "Rogue", "link": "https://stackoverflow.com/users/1786065/rogue"}, "edited": false, "score": 0, "creation_date": 1541010960, "post_id": 53089884, "comment_id": 93076916, "body": "Gah I can&#39;t think of the proper name for this, but effectively the direction of the bounding is important here. But the type &quot;checking&quot; is done on retrieval, not when you&#39;re inserting into the object list (which would pass the <code>Object</code> type check anyhow)."}, {"owner": {"reputation": 2912, "user_id": 3081206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaKOY.jpg?s=128&g=1", "display_name": "takendarkk", "link": "https://stackoverflow.com/users/3081206/takendarkk"}, "reply_to_user": {"reputation": 9772, "user_id": 1786065, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/udTpS.png?s=128&g=1", "display_name": "Rogue", "link": "https://stackoverflow.com/users/1786065/rogue"}, "edited": false, "score": 0, "creation_date": 1541011053, "post_id": 53089884, "comment_id": 93076956, "body": "@Rogue <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">PECS</a>?"}, {"owner": {"reputation": 2120, "user_id": 5420570, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4ea437b24f9ddf2bcf52604ceae28e4?s=128&d=identicon&r=PG", "display_name": "BladeMight", "link": "https://stackoverflow.com/users/5420570/blademight"}, "edited": false, "score": 0, "creation_date": 1541011067, "post_id": 53089884, "comment_id": 93076961, "body": "Actually <code>super Number</code> = <code>extends Object</code> so it is almost equal to <code>super Object</code>."}, {"owner": {"reputation": 79, "user_id": 4807492, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uvPfX17W7_Q/AAAAAAAAAAI/AAAAAAAAABM/dZ_ArQ2OMEA/photo.jpg?sz=128", "display_name": "Hanaa Aldaly", "link": "https://stackoverflow.com/users/4807492/hanaa-aldaly"}, "edited": false, "score": 0, "creation_date": 1541011091, "post_id": 53089884, "comment_id": 93076973, "body": "no l don&#39;t have issues if l loop on numberList and print numberList.get(i) + &quot;&quot; it give the same result"}, {"owner": {"reputation": 9772, "user_id": 1786065, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/udTpS.png?s=128&g=1", "display_name": "Rogue", "link": "https://stackoverflow.com/users/1786065/rogue"}, "reply_to_user": {"reputation": 2912, "user_id": 3081206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaKOY.jpg?s=128&g=1", "display_name": "takendarkk", "link": "https://stackoverflow.com/users/3081206/takendarkk"}, "edited": false, "score": 0, "creation_date": 1541011097, "post_id": 53089884, "comment_id": 93076975, "body": "@csmckelvey not quite, that&#39;s more with the wildcard bounding. It&#39;s killing me a little bit that I can&#39;t think of it."}, {"owner": {"reputation": 112847, "user_id": 1393766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h0FSp.png?s=128&g=1", "display_name": "Pshemo", "link": "https://stackoverflow.com/users/1393766/pshemo"}, "edited": false, "score": 0, "creation_date": 1541011623, "post_id": 53089884, "comment_id": 93077202, "body": "&quot;why l can do this in this code without any compile error or exception at run-time (referring to list contain String object)&quot; why would you expect error here?"}, {"owner": {"reputation": 79, "user_id": 4807492, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uvPfX17W7_Q/AAAAAAAAAAI/AAAAAAAAABM/dZ_ArQ2OMEA/photo.jpg?sz=128", "display_name": "Hanaa Aldaly", "link": "https://stackoverflow.com/users/4807492/hanaa-aldaly"}, "edited": false, "score": 0, "creation_date": 1541011945, "post_id": 53089884, "comment_id": 93077325, "body": "List&lt;?super Number&gt; refer to string Object  this is not type safe  and generics provide compile time type safe so l expect to generate compile error"}, {"owner": {"reputation": 112847, "user_id": 1393766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h0FSp.png?s=128&g=1", "display_name": "Pshemo", "link": "https://stackoverflow.com/users/1393766/pshemo"}, "edited": false, "score": 2, "creation_date": 1541012106, "post_id": 53089884, "comment_id": 93077390, "body": "<code>List&lt;? super SomeType&gt;</code> only allows you to <b><i>add</i></b> data (see <a href=\"https://stackoverflow.com/q/2723397\">What is PECS (Producer Extends Consumer Super)?</a>). So why would it be not safe to let <code>List&lt;? super Number&gt;</code> to handle <code>List&lt;? super Object&gt;</code>? If we know that <code>List&lt;? super Object&gt;</code> hold lists of Objects then adding Integer to it shouldn&#39;t be a problem because held <code>List&lt;Object&gt;</code> (or List&lt;SuperTypeOfObject&gt; - if was possible) wold be declared to hold Object (which includes its subtypes)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10527814"}, "edited": false, "score": 0, "creation_date": 1541012418, "post_id": 53089884, "comment_id": 93077510, "body": "Here is, I think, a very good explanation: <a href=\"https://stackoverflow.com/questions/3847162/java-generics-super-keyword\" title=\"java generics super keyword\">stackoverflow.com/questions/3847162/java-generics-super-keyw&zwnj;&#8203;ord</a>"}, {"owner": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 1, "creation_date": 1541014481, "post_id": 53089884, "comment_id": 93078427, "body": "Not an exact duplicate, but this question is very closely related: <a href=\"https://stackoverflow.com/questions/44008369/generics-super-a-doesnt-allow-supertypes-of-a-to-be-added-to-the-list\">Generics <code>&lt;? super A&gt;</code> doesn&#39;t allow supertypes of <code>A</code> to be added to the list</a>."}], "answers": [{"tags": [], "owner": {"reputation": 719, "user_id": 2267554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10cfce442a9bd102017c83f29020cbf4?s=128&d=identicon&r=PG", "display_name": "Udaya Shankara Gandhi Thalabat", "link": "https://stackoverflow.com/users/2267554/udaya-shankara-gandhi-thalabat"}, "is_accepted": false, "score": 1, "last_activity_date": 1541011942, "last_edit_date": 1541011942, "creation_date": 1541011902, "answer_id": 53090174, "question_id": 53089884, "link": "https://stackoverflow.com/questions/53089884/why-listsuper-number-can-contain-string/53090174#53090174", "title": "why List&lt;?super Number &gt; can contain String", "body": "<p>This is lower bounded wildcard feature in java generics.</p>\n\n<p>As per Java documentation, a lower bounded wildcard restricts the unknown type to be a specific type or a super type of that type.</p>\n\n<p>Initially you are creating a list with type of Object or super type of Object. As you know in java every class has Object as a superclass. So we can String class as an instance of Object. As your list is allowing type of Object, it can allow type of String also.</p>\n\n<p>Same is the case with <code>List&lt;? super Number&gt; numberList = objectList;</code> but you can't do viceversa.</p>\n\n<p>Refer to get more understanding about Lower bound wildcards:\n<a href=\"https://stackoverflow.com/questions/13623189/java-lower-bound-wildcards\">Java lower bound wildcards</a>\n<a href=\"https://docs.oracle.com/javase/tutorial/java/generics/lowerBounded.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/generics/lowerBounded.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 3, "creation_date": 1541012379, "post_id": 53090183, "comment_id": 93077497, "body": "@aka-one: Because <code>List&lt;? super Number&gt;</code> <b>can be</b> just a <code>List&lt;Object&gt;</code>, but it could also be a <code>List&lt;Number&gt;</code>. The compiler doesn&#39;t know which, so it has to be conservative. If it was a <code>List&lt;Number&gt;</code> then adding an <code>Object</code> to it would break the list, and thus you get a type error."}, {"owner": {"reputation": 79, "user_id": 4807492, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uvPfX17W7_Q/AAAAAAAAAAI/AAAAAAAAABM/dZ_ArQ2OMEA/photo.jpg?sz=128", "display_name": "Hanaa Aldaly", "link": "https://stackoverflow.com/users/4807492/hanaa-aldaly"}, "edited": false, "score": 0, "creation_date": 1541012789, "post_id": 53090183, "comment_id": 93077658, "body": "yes this what l mean  List&lt;? super Number&gt; numberList = objectList  Now the list contains a mix of String + Number although numberList.add(&quot;str&quot;) not allowed"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 4, "creation_date": 1541012799, "post_id": 53090183, "comment_id": 93077664, "body": "@aka-one: There is nothing prohibiting a <code>List&lt;? super Number&gt;</code> from containing Strings. What is prohibited is <i>adding</i> Strings to a list through a <code>List&lt;? super Number&gt;</code> variable."}, {"owner": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 0, "creation_date": 1541012893, "post_id": 53090183, "comment_id": 93077709, "body": "@aka-one: Like I said, there are two types of polymorphism here, and they interact in a confusing way. From the generics perspective, the list does not contain &quot;a mix&quot; of types: it contains exactly <code>Object</code> and only <code>Object</code>. Independently of that mechanism, those <code>Object</code> values could be a mix of subtypes of <code>Object</code>, but that would be equally true if you just had several different local variables all declared as type <code>Object</code>: it has nothing to do with <code>List</code> or with generics at all."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10527814"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1541012957, "post_id": 53090183, "comment_id": 93077732, "body": "@user2357112 That&#39;s the question: why doesn&#39;t allow String, since &lt;? super Number&gt; means Number, Serializable or Object?"}, {"owner": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 3, "creation_date": 1541013139, "post_id": 53090183, "comment_id": 93077806, "body": "@aka-one: I think you misunderstand what the <code>?</code> means in a generic type. It doesn&#39;t mean &quot;any of these types&quot;, it means &quot;exactly one of these types, but I won&#39;t tell you which&quot;. It <i>could</i> be a list of <code>Number</code>, or of <code>Serializable</code>, or of <code>Object</code>. Essentially, <code>List&lt;? super Number&gt;</code> means &quot;a list of some type, I couldn&#39;t tell you what type exactly, but all I know is that it&#39;s safe to <i>add</i> <code>Number</code> to it&quot;. It tells you nothing about what you would get if you were to take something <i>out</i> of the list. That what the &quot;Producer Extends, Consumer Super&quot; rule of thumb means."}, {"owner": {"reputation": 112847, "user_id": 1393766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h0FSp.png?s=128&g=1", "display_name": "Pshemo", "link": "https://stackoverflow.com/users/1393766/pshemo"}, "edited": false, "score": 1, "creation_date": 1541013270, "post_id": 53090183, "comment_id": 93077860, "body": "It is worth to remember that <code>any</code> != <code>all</code>. <code>List&lt;? extends Cat&gt; list</code> means that list can hold <i>any</i> of <code>new List&lt;Cat&gt;()</code> <code>new List&lt;Animal&gt;()</code> <code>new List&lt;Object&gt;()</code>, but at a time it can hold only <i>one</i> of them (and placing Cat into such lists shouldnt be a problem)."}, {"owner": {"reputation": 79, "user_id": 4807492, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uvPfX17W7_Q/AAAAAAAAAAI/AAAAAAAAABM/dZ_ArQ2OMEA/photo.jpg?sz=128", "display_name": "Hanaa Aldaly", "link": "https://stackoverflow.com/users/4807492/hanaa-aldaly"}, "edited": false, "score": 0, "creation_date": 1541013457, "post_id": 53090183, "comment_id": 93077939, "body": "@DanielPryden  if (List&lt;? super Number&gt; contain a String? Because a List&lt;? super Number&gt; can be just a List&lt;Object&gt;, and a List&lt;Object&gt; can contain a String because String is-a Object.) why l can&#39;t do this NumberList.add(&quot;string&quot;);"}, {"owner": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "reply_to_user": {"reputation": 79, "user_id": 4807492, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uvPfX17W7_Q/AAAAAAAAAAI/AAAAAAAAABM/dZ_ArQ2OMEA/photo.jpg?sz=128", "display_name": "Hanaa Aldaly", "link": "https://stackoverflow.com/users/4807492/hanaa-aldaly"}, "edited": false, "score": 0, "creation_date": 1541013593, "post_id": 53090183, "comment_id": 93077999, "body": "@HanaaAldaly: Just because a list could <b>contain</b> a <code>String</code> doesn&#39;t mean that it&#39;s safe to <b>add</b> a <code>String</code> to it. It&#39;s safe to add a <code>String</code> to a <code>List&lt;Object&gt;</code>, but not to a <code>List&lt;Number&gt;</code>. This ambiguity is precisely why the <code>? super</code> syntax exists. If you declared another list as <code>List&lt;? super String&gt;</code>, then you could add strings into that one."}, {"owner": {"reputation": 79, "user_id": 4807492, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uvPfX17W7_Q/AAAAAAAAAAI/AAAAAAAAABM/dZ_ArQ2OMEA/photo.jpg?sz=128", "display_name": "Hanaa Aldaly", "link": "https://stackoverflow.com/users/4807492/hanaa-aldaly"}, "edited": false, "score": 0, "creation_date": 1541013899, "post_id": 53090183, "comment_id": 93078115, "body": "@DanielPryden but generics is compile time type safe and now numberList can refer to object not subclass from Number :(("}, {"owner": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "reply_to_user": {"reputation": 79, "user_id": 4807492, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uvPfX17W7_Q/AAAAAAAAAAI/AAAAAAAAABM/dZ_ArQ2OMEA/photo.jpg?sz=128", "display_name": "Hanaa Aldaly", "link": "https://stackoverflow.com/users/4807492/hanaa-aldaly"}, "edited": false, "score": 0, "creation_date": 1541014153, "post_id": 53090183, "comment_id": 93078254, "body": "@HanaaAldaly: I don&#39;t understand that last comment at all. Are you saying you still don&#39;t understand my explanation of what&#39;s happening, or that you&#39;re disappointed that Java behaves the way it does?"}, {"owner": {"reputation": 112847, "user_id": 1393766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h0FSp.png?s=128&g=1", "display_name": "Pshemo", "link": "https://stackoverflow.com/users/1393766/pshemo"}, "reply_to_user": {"reputation": 79, "user_id": 4807492, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uvPfX17W7_Q/AAAAAAAAAAI/AAAAAAAAABM/dZ_ArQ2OMEA/photo.jpg?sz=128", "display_name": "Hanaa Aldaly", "link": "https://stackoverflow.com/users/4807492/hanaa-aldaly"}, "edited": false, "score": 1, "creation_date": 1541014341, "post_id": 53090183, "comment_id": 93078358, "body": "@HanaaAldaly Maybe this will help a little. Compiler doesn&#39;t <i>know</i> what <i>kind of list</i> exactly <code>numberList</code> will hold. Just like in case <code>void someMethod(List&lt;? super Number&gt; numberList){ numberList.add(...);}</code> it can&#39;t know if we pass to it List&lt;Number&gt; or List&lt;Object&gt;. To make that method safe it needs to allow only instructions which would be valid for all of those types. If user will pass <code>ArrayList&lt;Object&gt;</code> then indeed adding String to it wouldn&#39;t cause any problem to that list, BUT if user will pass as argument <code>List&lt;Number&gt;</code> than adding string to it wouldn&#39;t be safe."}, {"owner": {"reputation": 112847, "user_id": 1393766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h0FSp.png?s=128&g=1", "display_name": "Pshemo", "link": "https://stackoverflow.com/users/1393766/pshemo"}, "reply_to_user": {"reputation": 79, "user_id": 4807492, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uvPfX17W7_Q/AAAAAAAAAAI/AAAAAAAAABM/dZ_ArQ2OMEA/photo.jpg?sz=128", "display_name": "Hanaa Aldaly", "link": "https://stackoverflow.com/users/4807492/hanaa-aldaly"}, "edited": false, "score": 0, "creation_date": 1541014347, "post_id": 53090183, "comment_id": 93078361, "body": "@HanaaAldaly That is why <code>numberList.add(&quot;someString&quot;)</code> can&#39;t be allowed. Only safe type which we can use with <code>someMethod.add(...)</code> which would be supported by all acceptable arguments (List&lt;Number&gt; and List&lt;Object&gt;) is Number itself (which includes its subtypes like in your case Integer)."}, {"owner": {"reputation": 79, "user_id": 4807492, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uvPfX17W7_Q/AAAAAAAAAAI/AAAAAAAAABM/dZ_ArQ2OMEA/photo.jpg?sz=128", "display_name": "Hanaa Aldaly", "link": "https://stackoverflow.com/users/4807492/hanaa-aldaly"}, "edited": false, "score": 0, "creation_date": 1541014495, "post_id": 53090183, "comment_id": 93078434, "body": "@DanielPryden l understand you but what l mean &lt;? super Number&gt; mean l can add only SubClass of Numer add can&#39;t add String to this list  and numberList = objectList;  now numberList contain objects not subclass from Number"}], "tags": [], "owner": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "is_accepted": false, "score": 4, "last_activity_date": 1541011934, "creation_date": 1541011934, "answer_id": 53090183, "question_id": 53089884, "link": "https://stackoverflow.com/questions/53089884/why-listsuper-number-can-contain-string/53090183#53090183", "title": "why List&lt;?super Number &gt; can contain String", "body": "<p>You have two different kinds of polymorphism that are interacting here, in a confusing way.</p>\n\n<p>The key to understanding this is that, in addition to the <em>parametric polymorphism</em> (that is, generics), you also have <em>subtype polymorphism</em>, that is, the classic object-oriented \"is-a\" relationship.</p>\n\n<p>In Java, all objects are subtypes of <code>Object</code>. So a container that can contain <code>Object</code> values can contain any value.</p>\n\n<p>If we rewrite all the generic bounds as just <code>&lt;Object&gt;</code> then the code works the same way, and obviously so:</p>\n\n<pre><code>List&lt;Object&gt; objectList = new ArrayList&lt;&gt;();\nobjectList.add(\"str1\");\n\nList&lt;Object&gt; numberList = objectList;\nnumberList.add(1);\n\nobjectList.add(\"str2\");\nfor (int i = 0; i &lt; objectList.size(); i++) {\n    System.out.println(objectList.get(i) + \"\");\n}\n</code></pre>\n\n<p>Specifically, <code>objectList.get(i) + \"\"</code> gets evaluated into something that calls <code>objectList.get(i).toString()</code>, and since <code>toString()</code> is a method of <code>Object</code>, that will work regardless of the type of objects in <code>objectList</code>.</p>\n\n<p>What won't work is this:</p>\n\n<pre><code>Number number = numberList.get(i);  // error!\n</code></pre>\n\n<p>This is because, despite the misleading name, <code>numberList</code> is not guaranteed to contain only <code>Number</code> objects, and might in fact not contain any <code>Number</code> objects at all!</p>\n\n<p>Let's walk through and see why this must be so.</p>\n\n<p>First we create a list of objects:</p>\n\n<pre><code>List&lt;? super Object&gt; objectList = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>What does that type mean? The type <code>List&lt;? super Object&gt;</code> means \"a list of objects of some type, I can't tell you what type, but I do know that whatever type it is is either <code>Object</code> or a supertype of <code>Object</code>\". We already know that <code>Object</code> is the root of the subtype hierarchy, so this is effectively the same as <code>List&lt;Object&gt;</code>: that is, this object can only contain <code>Object</code> objects.</p>\n\n<p>But... that's not quite right. The list can only contain <code>Object</code> objects, but an <code>Object</code> object can be anything! The actual objects at runtype can be of any type that is a subtype of <code>Object</code> (so, anything other than a primitive), but by putting them into this list, you're losing the ability to tell what kind of objects they are anymore -- they could be anything. That's OK for what the rest of this program does, though, because all it needs to be able to do is call <code>toString()</code> on the objects, and it can do that because they all extend <code>Object</code>.</p>\n\n<p>Now let's look at the other variable declaration:</p>\n\n<pre><code>List&lt;? super Number&gt; numberList = objectList;\n</code></pre>\n\n<p>Again, what does the type <code>List&lt;? super Number&gt;</code> mean? Crucially, it means \"a list of objects of some type, I can't tell you what type it is, but I do know that whatever type it is, it's either <code>Number</code> or some supertype of <code>Number</code>\". Well, on the left hand we have a list of \"<code>Number</code> or some supertype of <code>Number</code>\" and on the right side we have a list of <code>Object</code> -- clearly <code>Object</code> is a supertype of <code>Number</code> and so this list is a list of <code>Object</code>. Everything type checks (and, contrary to my initial comment, without any warnings).</p>\n\n<p>So the question becomes: why can a <code>List&lt;? super Number&gt;</code> contain a <code>String</code>? Because a <code>List&lt;? super Number&gt;</code> can be just a <code>List&lt;Object&gt;</code>, and a <code>List&lt;Object&gt;</code> can contain a <code>String</code> because <code>String</code> is-a <code>Object</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 17681, "user_id": 298029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lcPr5.png?s=128&g=1", "display_name": "fgb", "link": "https://stackoverflow.com/users/298029/fgb"}, "is_accepted": false, "score": 2, "last_activity_date": 1541013884, "last_edit_date": 1541013884, "creation_date": 1541012088, "answer_id": 53090221, "question_id": 53089884, "link": "https://stackoverflow.com/questions/53089884/why-listsuper-number-can-contain-string/53090221#53090221", "title": "why List&lt;?super Number &gt; can contain String", "body": "<p>A reference of type <code>List&lt;? super Number&gt;</code> can refer to either <code>List&lt;Object&gt;</code> or <code>List&lt;Number&gt;</code>. Any operation via this reference need to work with either of these types. You couldn't add a string via the <code>List&lt;? super Number&gt;</code> reference because the operation would only work with one of the possible object types, but you can via the <code>List&lt;? super Object&gt;</code> reference.</p>\n\n<p>A <code>List&lt;? super Object&gt;</code> can only refer to a <code>List&lt;Object&gt;</code>. A <code>List&lt;? super Number&gt;</code> can refer to either a <code>List&lt;Number&gt;</code> or a <code>List&lt;Object&gt;</code>. This is a more general type, which is why the assignment is allowed.</p>\n"}, {"tags": [], "owner": {"reputation": 3226, "user_id": 2928853, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dbIon.png?s=128&g=1", "display_name": "jrook", "link": "https://stackoverflow.com/users/2928853/jrook"}, "is_accepted": true, "score": 1, "last_activity_date": 1541059341, "last_edit_date": 1541059341, "creation_date": 1541058615, "answer_id": 53097111, "question_id": 53089884, "link": "https://stackoverflow.com/questions/53089884/why-listsuper-number-can-contain-string/53097111#53097111", "title": "why List&lt;?super Number &gt; can contain String", "body": "<p>When the compiler sees:</p>\n\n<pre><code>List&lt;? super Number&gt; numberList = objectList;\n</code></pre>\n\n<p>It first <a href=\"http://bayou.io/draft/Capturing_Wildcards.html\" rel=\"nofollow noreferrer\">captures</a> the wildcard. The generic type then becomes Y = X<sub>>Number</sub> (meaning a concrete supertype of Number). So we have:</p>\n\n<pre><code>List&lt;Y&gt; numberList = objectList //with type of List&lt;Object&gt;;\n</code></pre>\n\n<p>Then the compiler determines that <em>Y</em> can be replaced with <em>Object</em>. Therefore, the types are identical and <code>numberList</code> is allowed to point to the same object as <code>objectList</code>.</p>\n\n<p>Then the generated bytecode is passed to the runtime system for execution. As far as the runtime system is concerned, both lists have the type of <code>java.util.ArrayList</code> due to <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">type erasure</a>. Therefore, no runtime exception will be raised when you put strings or other objects in this container.</p>\n\n<p>But I also feel something doesn't feel quite right here. To rephrase your question:</p>\n\n<p><strong><em>What the compiler can do to prevent this situation?</em></strong></p>\n\n<p>Note that the compiler MUST NOT complain during assignment <a href=\"https://www.cs.rice.edu/~javaplt/papers/pppj2004.pdf\" rel=\"nofollow noreferrer\">because</a>:</p>\n\n<blockquote>\n  <p><strong>The Safe Instantiation Principle:</strong> Instantiating a parametric class with types that meet the declared constraints on the parameters should\n  not cause an error.</p>\n</blockquote>\n\n<p>I think this principle applies to assignments too. The assignment does not break any language rule, so the compiler must not raise an error.</p>\n\n<p>So the only place left to save the programmer from disaster is during the <code>add</code> operation. But what can the compiler do there? If it disallows <code>add</code> operation on <code>objectList</code> because of the assignment, that will break other language rules. If it augments <code>add</code> to support adding objects to <code>numberList</code>, that will also violate some other language rules.</p>\n\n<p>I can't think of any straightforward and easy solution that doesn't break a whole lot of things for fixing something that might not even be a problem and the programmer is certainly in a good position to decide about. </p>\n\n<p>The type checker is meant to help the programmer not replace her. Another example of its imperfection:</p>\n\n<pre><code>public static void main(String[] args) {\n    Object m = args;\n    String[] m2 = m; //complains, despite m2 definitely being an String[]\n}\n</code></pre>\n\n<p><em>P.S:</em> I found the above example on SO but unfortunately, I lost the link!</p>\n"}], "owner": {"reputation": 79, "user_id": 4807492, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uvPfX17W7_Q/AAAAAAAAAAI/AAAAAAAAABM/dZ_ArQ2OMEA/photo.jpg?sz=128", "display_name": "Hanaa Aldaly", "link": "https://stackoverflow.com/users/4807492/hanaa-aldaly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 1, "accepted_answer_id": 53097111, "answer_count": 4, "score": 1, "last_activity_date": 1541059341, "creation_date": 1541010515, "last_edit_date": 1541012508, "question_id": 53089884, "link": "https://stackoverflow.com/questions/53089884/why-listsuper-number-can-contain-string", "title": "why List&lt;?super Number &gt; can contain String", "body": "<p>l try to understand wildcard  in generics ,and l have question\nList<code>&lt;? super Number &gt;</code> can refer to any list of object and add any object extends Number into this list but l can't add into it Object not extends number(String)\nbut why l can do this in this code without any compile error or exception at run-time (referring to list contain String object)</p>\n\n<p>edit:what l want to understand that generics provide compile time safe and this not achieved in my example</p>\n\n<pre><code>List &lt;? super Object&gt; objectList = new ArrayList&lt;&gt;();\nobjectList.add(\"str1\");\n\nList&lt;? super Number&gt; numberList = objectList;\nnumberList.add(1);\n\nobjectList.add(\"str2\");\nfor (int i = 0; i &lt; objectList.size(); i++) {\n    System.out.println(objectList.get(i) + \"\");\n} \n</code></pre>\n"}, {"tags": ["java", "gradle", "spring-batch"], "comments": [{"owner": {"reputation": 2251, "user_id": 6650475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3543c7ccbd9324d2bc28abd8bd8d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew S", "link": "https://stackoverflow.com/users/6650475/andrew-s"}, "edited": false, "score": 0, "creation_date": 1541011622, "post_id": 53089841, "comment_id": 93077201, "body": "PaymentPortalNOSQLWriter.write() method is empty."}, {"owner": {"reputation": 35, "user_id": 10208938, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-z3OYmIykduQ/AAAAAAAAAAI/AAAAAAAAAHg/XoERqk9_Azk/photo.jpg?sz=128", "display_name": "Edsel", "link": "https://stackoverflow.com/users/10208938/edsel"}, "reply_to_user": {"reputation": 2251, "user_id": 6650475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3543c7ccbd9324d2bc28abd8bd8d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew S", "link": "https://stackoverflow.com/users/6650475/andrew-s"}, "edited": false, "score": 0, "creation_date": 1541013881, "post_id": 53089841, "comment_id": 93078107, "body": "So It&#39;s actually my Reader that does not not return any of the information that it read"}], "answers": [{"tags": [], "owner": {"reputation": 16703, "user_id": 5019386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b9001fd20c1e089d19f4a1e994bcdc?s=128&d=identicon&r=PG", "display_name": "Mahmoud Ben Hassine", "link": "https://stackoverflow.com/users/5019386/mahmoud-ben-hassine"}, "is_accepted": false, "score": 0, "last_activity_date": 1541144765, "creation_date": 1541144765, "answer_id": 53114550, "question_id": 53089841, "link": "https://stackoverflow.com/questions/53089841/how-do-i-get-the-itemwriter-to-create-the-files/53114550#53114550", "title": "How do I get the itemWriter to create the files?", "body": "<p>I see a small confusion here about I/O so I will try to make it clear.</p>\n\n<p>One of the main features of Spring Batch is declarative I/O. This means that you don't need to write the code to deal with I/O, instead you <em>declare</em> what you want to do and Spring Batch will do the I/O for you. Your <code>Mongowriter</code> bean contains the code to actually write data, but it shouldn't. Since you need to write to a flat file, you can use the <code>FlatFileItemWriter</code>, for example:</p>\n\n<pre><code>@Bean\npublic FlatFileItemWriter&lt;String&gt; flatFileItemWriter() {\n    return new FlatFileItemWriterBuilder&lt;String&gt;()\n            .name(\"flatFileItemWriter\")\n            .resource(new FileSystemResource(\"data.txt\"))\n            .lineAggregator(new PassThroughLineAggregator&lt;&gt;())\n            .build();\n}\n</code></pre>\n\n<p>This configuration code <em>declares</em> the intention of what we need to write and where to write it, but not the actual writing (opening/closing the file, calling the writer, etc) which is handled by Spring Batch. By the way, the issue of your file not being created is due to the <code>open</code> method not being called on your writer with your code example. This should be fixed if your writer is correctly configured as shown above.</p>\n\n<p>The second point is that you probably did this because you want to add <code>[</code> and <code>]</code> around the written items (From seeing <code>writer.write(\"[\");</code> in your code). Another time, there is way to do this declaratively by using the <code>FlatFileHeaderCallback</code> and <code>FlatFileFooterCallback</code> APIs. For example:</p>\n\n<pre><code>@Bean\npublic FlatFileItemWriter&lt;String&gt; flatFileItemWriter() {\n    return new FlatFileItemWriterBuilder&lt;String&gt;()\n            .name(\"flatFileItemWriter\")\n            .resource(new FileSystemResource(\"data.txt\"))\n            .lineAggregator(new PassThroughLineAggregator&lt;&gt;())\n            .headerCallback(writer -&gt; writer.write('['))\n            .footerCallback(writer -&gt; writer.write(']'))\n            .build();\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 35, "user_id": 10208938, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-z3OYmIykduQ/AAAAAAAAAAI/AAAAAAAAAHg/XoERqk9_Azk/photo.jpg?sz=128", "display_name": "Edsel", "link": "https://stackoverflow.com/users/10208938/edsel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1019, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541144765, "creation_date": 1541010322, "last_edit_date": 1541011031, "question_id": 53089841, "link": "https://stackoverflow.com/questions/53089841/how-do-i-get-the-itemwriter-to-create-the-files", "title": "How do I get the itemWriter to create the files?", "body": "<p>My ItemWriter is not writing any files. After debug it stops at ItemProcessor. My project should receive information from the Mongo DB then read it, process it, then create .txt files and store the information in said file. What am I doing wrong or what am I missing?</p>\n\n<p>BatchConfig:</p>\n\n<pre><code>   @Configuration\n   @EnableBatchProcessing\n   public class BatchConfig {\nprivate static final Logger LOG =LoggerFactory.getLogger(BatchConfig.class);\n\n@Autowired\nprivate JobBuilderFactory jobBuilderFactory;\n@Autowired\nprivate StepBuilderFactory stepBuilderFactory;\n\n@Autowired\nprivate PaymentPortalJobListener listener;\n@Autowired\nprivate MongoTemplate mongoTemplate;\n\n@Bean\npublic MongoItemReader&lt;PaymentAudit&gt; mongoReader() throws \nUnexpectedInputException, ParseException {\n    LOG.info(\"Inside Mongo Item Reader Method\");\n    MongoItemReader&lt;PaymentAudit&gt; reader = new MongoItemReader&lt;PaymentAudit&gt; \n ();\n    reader.setTemplate(mongoTemplate);\n    reader.setCollection(\"paymentAudit\");\n    reader.setTargetType((Class&lt;? extends PaymentAudit&gt;) \n    PaymentAudit.class);\n    reader.setFields(\"{rxFname, rxLname}\");\n    reader.setQuery(\"{rxFname, rxLname}\");\n    Map&lt;String, Sort.Direction&gt; sorts = new HashMap&lt;String, Sort.Direction&gt; \n    (1);\n    sorts.put(\"rxFName\", Sort.Direction.ASC);\n    reader.setSort(sorts);\n    return reader;\n  }\n\n @Bean\n public ItemProcessor&lt;PaymentAudit, PaymentAudit&gt; processor() {\n    LOG.info(\"Inside Processor Method\");\n    return new PaymentPortalNOSQLProcessor();\n\n }\n\n@Bean\npublic ItemWriter&lt;PaymentAudit&gt; writer() {\n    LOG.info(\"Inside Writer Method\");\n    return new PaymentPortalNOSQLWriter();\n}\n\n@Bean\nJob job(JobBuilderFactory jbf, StepBuilderFactory sbf, \n PaymentPortalNOSQLProcessor processor,\n        ItemWriter&lt;? super PaymentAudit&gt; writer) {\n\n    Step s1 = sbf.get(\"local\").&lt;PaymentAudit, \n PaymentAudit&gt;chunk(100).reader(mongoReader()).processor(processor)\n            .writer(writer).listener(listener).build();\n\n    return jbf.get(\"etl\").incrementer(new \n  RunIdIncrementer()).start(s1).build();\n}\n\n}\n</code></pre>\n\n<p>PaymentPortalNOSQLWriter:</p>\n\n<pre><code> @Bean\n public FileWriter Mongowriter(){\n    FileWriter writer = null;\n    try {\n        String fullPath =OUTPUT_FILENAME + FILENAME_EXTN;\n        writer = new FileWriter(fullPath);\n        writer.write(\"[\");\n    } catch (IOException e) {\n        LOG.error(\"Exception occured in MongoWriter() :: \n    ApplicationConfiguration\", e);\n    }\n    return writer;\n  }\n\n  @Override\n  public void write(List items) throws Exception {\n\n\n  } \n\n\n }\n</code></pre>\n\n<p>PaymentPortalJobListener</p>\n\n<pre><code> @Autowired\nprivate ApplicationContext appContext;\n\n\n  @Override\n  public void beforeStep(StepExecution stepExecution) {\n      long checkpoint = System.currentTimeMillis();\n    LOG.info(\"ExamResult Job starts at : {} \" , checkpoint / (1_000 * 1.0));\n  }\n\n  @Override\n   public ExitStatus afterStep(StepExecution stepExecution) {\n    if(stepExecution.getStatus() == BatchStatus.COMPLETED){\n        LOG.info(\"ExamResult job completed successfully\");\n        try {\n            FileWriter saveWriter = \n   (FileWriter)appContext.getBean(\"paymentPortalWriter\");\n            saveWriter.write(\"{}\");\n            saveWriter.flush();\n            saveWriter.close();\n        } catch (BeansException | IOException e) {\n            LOG.error(\"Exception occured in afterStep() :: PaymentPortal\", \n   e);\n        }\n    }\n    return stepExecution.getExitStatus();\n}\n}\n</code></pre>\n\n<p>PaymentPortalNOSQLProcessor:</p>\n\n<pre><code>  public class PaymentPortalNOSQLProcessor implements \n ItemProcessor&lt;PaymentAudit, PaymentAudit&gt; {\n private static final Logger LOG = \n LoggerFactory.getLogger(PaymentPortalNOSQLProcessor.class);\n\n@Override\npublic PaymentAudit process(PaymentAudit bean) throws Exception {\n    LOG.debug(\"Processor method\");\n    return bean;\n\n}\n}\n</code></pre>\n\n<p>Gradle Build:</p>\n\n<pre><code>   buildscript {\next {\n    springBootVersion = '2.0.5.RELEASE'\n}\nrepositories {\n    mavenCentral()\n}\ndependencies {\n    classpath(\"org.springframework.boot:spring-boot-gradle- \nplugin:${springBootVersion}\")\n}\n }\n\n apply plugin: 'java'\n apply plugin: 'eclipse'\n apply plugin: 'org.springframework.boot'\n apply plugin: 'io.spring.dependency-management'\n\n group = 'com.example'\n version = '0.0.1-SNAPSHOT'\n sourceCompatibility = 1.8\n\n repositories {\nmavenCentral()\n }\n\n\ndependencies {\ncompile('org.springframework.boot:spring-boot-starter-batch')\ncompile('org.springframework.boot:spring-boot-starter-data-mongodb')\n\n//compile(\"org.hsqldb:hsqldb\")\n\n\n\ncompile('org.springframework.boot:spring-boot-devtools')\ncompileOnly('org.projectlombok:lombok')\ncompile group:'org.springframework.boot', name:'spring-boot-configuration- \n processor'\ntestImplementation('org.springframework.boot:spring-boot-starter-test')\ntestImplementation('org.springframework.batch:spring-batch-test')\n// https://mvnrepository.com/artifact/com.h2database/h2\n//testCompile group: 'com.h2database', name: 'h2', version: '1.4.197'\n\n }\n</code></pre>\n"}, {"tags": ["java", "maven", "pom.xml", "target"], "comments": [{"owner": {"reputation": 26265, "user_id": 927493, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/sxsnm.png?s=128&g=1", "display_name": "J Fabian Meier", "link": "https://stackoverflow.com/users/927493/j-fabian-meier"}, "edited": false, "score": 0, "creation_date": 1541013757, "post_id": 53089838, "comment_id": 93078062, "body": "Where do you want your exe to (finally) go? Be inside the jar?"}, {"owner": {"reputation": 17, "user_id": 5821337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/916981f7e0fa1a77412a78dd1cfbc2e4?s=128&d=identicon&r=PG&f=1", "display_name": "gala_m", "link": "https://stackoverflow.com/users/5821337/gala-m"}, "reply_to_user": {"reputation": 26265, "user_id": 927493, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/sxsnm.png?s=128&g=1", "display_name": "J Fabian Meier", "link": "https://stackoverflow.com/users/927493/j-fabian-meier"}, "edited": false, "score": 0, "creation_date": 1541053852, "post_id": 53089838, "comment_id": 93088548, "body": "Good Question - No, inside the Target-Folder - any advice?"}, {"owner": {"reputation": 26265, "user_id": 927493, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/sxsnm.png?s=128&g=1", "display_name": "J Fabian Meier", "link": "https://stackoverflow.com/users/927493/j-fabian-meier"}, "edited": false, "score": 0, "creation_date": 1541064102, "post_id": 53089838, "comment_id": 93092423, "body": "I mean you probably build the project so that the result is copied/deployed somewhere. The target folder is only a temporary folder (deleted with every clean install)."}, {"owner": {"reputation": 17, "user_id": 5821337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/916981f7e0fa1a77412a78dd1cfbc2e4?s=128&d=identicon&r=PG&f=1", "display_name": "gala_m", "link": "https://stackoverflow.com/users/5821337/gala-m"}, "reply_to_user": {"reputation": 26265, "user_id": 927493, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/sxsnm.png?s=128&g=1", "display_name": "J Fabian Meier", "link": "https://stackoverflow.com/users/927493/j-fabian-meier"}, "edited": false, "score": 0, "creation_date": 1541064368, "post_id": 53089838, "comment_id": 93092551, "body": "I agree, but imagine: Somehow someone wants to clone my git repo, makes a <code>mvn clean install</code> and the person wants to execute the jar file - which is placed in the target-folder. When he starts the jar (<code>java- jar ...</code>) he gets an exception because the &#39;chromedriver.exe&#39; is missing in the target folder, and thats why I want to have the .exe file always in the target folder because without it, the jar won&#39;t be successful"}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 5821337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/916981f7e0fa1a77412a78dd1cfbc2e4?s=128&d=identicon&r=PG&f=1", "display_name": "gala_m", "link": "https://stackoverflow.com/users/5821337/gala-m"}, "edited": false, "score": 0, "creation_date": 1541053983, "post_id": 53089953, "comment_id": 93088594, "body": "Thank you for your answer - unfortunately I tried this out as well but I could not find the .exe file in the target folder after compiling - I had to copy the .exe file by myself (manually)"}], "tags": [], "owner": {"reputation": 4632, "user_id": 1967484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYSto.jpg?s=128&g=1", "display_name": "Deadron", "link": "https://stackoverflow.com/users/1967484/deadron"}, "is_accepted": false, "score": 1, "last_activity_date": 1541010802, "creation_date": 1541010802, "answer_id": 53089953, "question_id": 53089838, "link": "https://stackoverflow.com/questions/53089838/maven-move-executable-exe-into-target-folder-when-compiling/53089953#53089953", "title": "Maven: Move Executable (.exe) into target Folder when Compiling", "body": "<p>Any files placed in src/main/resources will be automatically included in the resulting build(target) folder if you are using the default config.  However, you should only be including files that should be in the resulting jar.</p>\n"}, {"tags": [], "owner": {"reputation": 17, "user_id": 5821337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/916981f7e0fa1a77412a78dd1cfbc2e4?s=128&d=identicon&r=PG&f=1", "display_name": "gala_m", "link": "https://stackoverflow.com/users/5821337/gala-m"}, "is_accepted": true, "score": 0, "last_activity_date": 1541872920, "creation_date": 1541872920, "answer_id": 53241890, "question_id": 53089838, "link": "https://stackoverflow.com/questions/53089838/maven-move-executable-exe-into-target-folder-when-compiling/53241890#53241890", "title": "Maven: Move Executable (.exe) into target Folder when Compiling", "body": "<p>I found an own solution:\nin the pom.xml, include </p>\n\n<pre><code>&lt;resources&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;${project.basedir}&lt;/directory&gt;\n        &lt;targetPath&gt;${project.build.directory}&lt;/targetPath&gt;\n        &lt;includes&gt;\n            &lt;include&gt;chromedriver.exe&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/resource&gt; \n&lt;/resources&gt;\n</code></pre>\n\n<p>under the <code>build</code> tag.</p>\n"}], "owner": {"reputation": 17, "user_id": 5821337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/916981f7e0fa1a77412a78dd1cfbc2e4?s=128&d=identicon&r=PG&f=1", "display_name": "gala_m", "link": "https://stackoverflow.com/users/5821337/gala-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "accepted_answer_id": 53241890, "answer_count": 2, "score": 0, "last_activity_date": 1541872920, "creation_date": 1541010300, "question_id": 53089838, "link": "https://stackoverflow.com/questions/53089838/maven-move-executable-exe-into-target-folder-when-compiling", "title": "Maven: Move Executable (.exe) into target Folder when Compiling", "body": "<p>So I tried differnt things to copy my desired, necesarry .exe file into the target folder when compiling my project.\nI also checked at the Q&amp;A of <a href=\"https://stackoverflow.com/questions/16372374/move-a-text-file-into-target-folder-when-compiling-a-maven-project\">Move a text file into target folder when compiling a Maven project</a> - but it did not help.</p>\n\n<p>So what I want is to copy 'chromedriver.exe' to the target folder when compiling the project (with <code>mvn clean install</code>). I need this .exe to launch my jar file.</p>\n\n<p>Any help is appreciated!</p>\n\n<p><a href=\"https://i.stack.imgur.com/NCL2b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NCL2b.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["java", "customization", "keycloak"], "answers": [{"comments": [{"owner": {"reputation": 318, "user_id": 6998283, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qLz_RJ1TrYY/AAAAAAAAAAI/AAAAAAAAABI/kxKVZJsWHjQ/photo.jpg?sz=128", "display_name": "AlaricB", "link": "https://stackoverflow.com/users/6998283/alaricb"}, "edited": false, "score": 0, "creation_date": 1541695465, "post_id": 53198932, "comment_id": 93312451, "body": "Thank you for this detailed answer !  From Eclipse I imported the pom.xml I added a &quot;Source Folder&quot; in which I created a class <code>CustomOIDCProtocolMapper</code> in a folder / package <code>com.stackoverflow.keycloak.custom</code>  I believe I&#39;m good so far but next step require the \\src\\main\\resources\\META-INF\\services\\ folder.  I don&#39;t find it in the Maven project nor the Keycloak installation folder in which I only find <code>bin</code>  <code>docs</code>  <code>domain</code>  <code>jboss-modules.jar</code>  <code>License.html</code>  <code>LICENSE.txt</code>  <code>modules</code>  <code>standalone</code>  <code>themes</code>  <code>version.txt</code>  <code>welcome-content</code>"}, {"owner": {"reputation": 2190, "user_id": 1578780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2f558bd7c5a4e25299254a14163b9c6?s=128&d=identicon&r=PG", "display_name": "Evil_skunk", "link": "https://stackoverflow.com/users/1578780/evil-skunk"}, "reply_to_user": {"reputation": 318, "user_id": 6998283, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qLz_RJ1TrYY/AAAAAAAAAAI/AAAAAAAAABI/kxKVZJsWHjQ/photo.jpg?sz=128", "display_name": "AlaricB", "link": "https://stackoverflow.com/users/6998283/alaricb"}, "edited": false, "score": 0, "creation_date": 1541696239, "post_id": 53198932, "comment_id": 93312884, "body": "You don&#39;t need to place any File (except .jar) inside keycloak directories. Just create the folderpath in eclipse. Everything is then packaged within the jar. I&#39;ll provide you later my whole eclipse project"}, {"owner": {"reputation": 318, "user_id": 6998283, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qLz_RJ1TrYY/AAAAAAAAAAI/AAAAAAAAABI/kxKVZJsWHjQ/photo.jpg?sz=128", "display_name": "AlaricB", "link": "https://stackoverflow.com/users/6998283/alaricb"}, "edited": false, "score": 0, "creation_date": 1541701036, "post_id": 53198932, "comment_id": 93315266, "body": "Thank you,  I created the folderpath and I&#39;m currently stuck with the error <code>Provider com.stackoverflow.keycloak.custom.CustomOIDCProtocolMapper not found</code> when uploading the jar to keycloak My paths are   <i>/com/stackoverflow/keycloak/custom/CustomOIDCProtocolMapper.&zwnj;&#8203;java</i>   <i>/src/main/resources/META-INF/services/org.keycloak.protocol.&zwnj;&#8203;ProtocolMapper</i> <i>/src/main/resources/META-INF/jboss-deployment-structure.xml</i>  Is there anything wrong ?"}, {"owner": {"reputation": 318, "user_id": 6998283, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qLz_RJ1TrYY/AAAAAAAAAAI/AAAAAAAAABI/kxKVZJsWHjQ/photo.jpg?sz=128", "display_name": "AlaricB", "link": "https://stackoverflow.com/users/6998283/alaricb"}, "edited": false, "score": 0, "creation_date": 1541719760, "post_id": 53198932, "comment_id": 93323111, "body": "I accepted your answers because I&#39;m now able to select this custom mapper in the drop down. I&#39;ll try to understand why the <code>stackoverflowCustomToken</code> claim is not in the generated access token. Thank you for all the help."}, {"owner": {"reputation": 3515, "user_id": 2310401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94e7fdd6b2dc215dd59777be08c744c9?s=128&d=identicon&r=PG", "display_name": "Michael Isvy", "link": "https://stackoverflow.com/users/2310401/michael-isvy"}, "edited": false, "score": 0, "creation_date": 1558579336, "post_id": 53198932, "comment_id": 99150590, "body": "I&#39;ve tried to follow the instructions provided by @Evil_skunk  my project is successfully deployed on JBoss and I can see that it is loaded when starting JBoss.  However, when I go into the Keycloak admin UI I can&#39;t see it. In the admin UI, I&#39;m going into <code>Clients &gt; Account &gt; Mapper &gt; Create</code> and I can&#39;t find my Mapper in the select box called <code>Mapper Type</code>.  Not sure if I&#39;m missing something? My code is here: <a href=\"https://github.com/michaelisvy/keycloak-protocol-mapper/tree/master/\" rel=\"nofollow noreferrer\">github.com/michaelisvy/keycloak-protocol-mapper/tree/master</a>"}, {"owner": {"reputation": 2190, "user_id": 1578780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2f558bd7c5a4e25299254a14163b9c6?s=128&d=identicon&r=PG", "display_name": "Evil_skunk", "link": "https://stackoverflow.com/users/1578780/evil-skunk"}, "reply_to_user": {"reputation": 3515, "user_id": 2310401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94e7fdd6b2dc215dd59777be08c744c9?s=128&d=identicon&r=PG", "display_name": "Michael Isvy", "link": "https://stackoverflow.com/users/2310401/michael-isvy"}, "edited": false, "score": 0, "creation_date": 1558593704, "post_id": 53198932, "comment_id": 99153831, "body": "@MichaelIsvy - I&#39;ve not tested your code, but it looks like your service file (<a href=\"https://github.com/michaelisvy/keycloak-protocol-mapper/blob/master/src/main/resources/META-INF/services/com.acme.DemoProtocolMapper\" rel=\"nofollow noreferrer\">github.com/michaelisvy/keycloak-protocol-mapper/blob/master&zwnj;&#8203;/src/&hellip;</a>) has the wrong name (content is correct !) - rename it too <code>org.keycloak.protocol.ProtocolMapper</code>"}, {"owner": {"reputation": 1207, "user_id": 1623757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b9a2643e8f6f180c64552cad441652?s=128&d=identicon&r=PG", "display_name": "Luis", "link": "https://stackoverflow.com/users/1623757/luis"}, "edited": false, "score": 0, "creation_date": 1588208073, "post_id": 53198932, "comment_id": 108814642, "body": "The <i>this is not fully official supported by keycloak - so interfaces could possible change in later versions</i> comment is spot on. FYI I used the code in <a href=\"https://github.com/mschwartau/keycloak-custom-protocol-mapper-example\" rel=\"nofollow noreferrer\">github.com/mschwartau/keycloak-custom-protocol-mapper-exampl&zwnj;&#8203;e</a> which follows pretty much the same steps and at runtime, Keycloak 8 logs a warning <code>KC-SERVICES0047: ... is implementing the internal SPI protocol-mapper. This SPI is internal and may change without notice </code>"}, {"owner": {"reputation": 1613, "user_id": 901263, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a3eab84559c0ff9bbd71a605b445331b?s=128&d=identicon&r=PG", "display_name": "John Peter Thompson Garc&#233;s", "link": "https://stackoverflow.com/users/901263/john-peter-thompson-garc%c3%a9s"}, "reply_to_user": {"reputation": 1207, "user_id": 1623757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b9a2643e8f6f180c64552cad441652?s=128&d=identicon&r=PG", "display_name": "Luis", "link": "https://stackoverflow.com/users/1623757/luis"}, "edited": false, "score": 0, "creation_date": 1588212092, "post_id": 53198932, "comment_id": 108815581, "body": "@Luis do you have your working code publicly on github?  I tried to follow mschwartau example and I cannot get my custom protocol mapper to show up in the &quot;Add Builtin Protocol Mapper&quot; list.  However, I am on Keycloak 9.0.2."}, {"owner": {"reputation": 1207, "user_id": 1623757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b9a2643e8f6f180c64552cad441652?s=128&d=identicon&r=PG", "display_name": "Luis", "link": "https://stackoverflow.com/users/1623757/luis"}, "reply_to_user": {"reputation": 1613, "user_id": 901263, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a3eab84559c0ff9bbd71a605b445331b?s=128&d=identicon&r=PG", "display_name": "John Peter Thompson Garc&#233;s", "link": "https://stackoverflow.com/users/901263/john-peter-thompson-garc%c3%a9s"}, "edited": false, "score": 0, "creation_date": 1588214631, "post_id": 53198932, "comment_id": 108816093, "body": "@JohnPeterThompsonGarc&#233;s : Sorry, I don&#39;t have the code in github but the process was straightforward after updating the dependencies to Keycloak 8.0.0 and resteasy 3.9.0.Final, fixing a build error and removing the <code>-SNAPSHOT</code> references so I could use the jar from my Keycloak pom.xml (I&#39;m currently running it in maven through spring-boot)"}, {"owner": {"reputation": 1613, "user_id": 901263, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a3eab84559c0ff9bbd71a605b445331b?s=128&d=identicon&r=PG", "display_name": "John Peter Thompson Garc&#233;s", "link": "https://stackoverflow.com/users/901263/john-peter-thompson-garc%c3%a9s"}, "reply_to_user": {"reputation": 1207, "user_id": 1623757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b9a2643e8f6f180c64552cad441652?s=128&d=identicon&r=PG", "display_name": "Luis", "link": "https://stackoverflow.com/users/1623757/luis"}, "edited": false, "score": 0, "creation_date": 1588221742, "post_id": 53198932, "comment_id": 108817634, "body": "@Luis no worries, I found where my mistake was, and I can now use my custom protocol mapper.  Cheers!"}], "tags": [], "owner": {"reputation": 2190, "user_id": 1578780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2f558bd7c5a4e25299254a14163b9c6?s=128&d=identicon&r=PG", "display_name": "Evil_skunk", "link": "https://stackoverflow.com/users/1578780/evil-skunk"}, "is_accepted": true, "score": 18, "last_activity_date": 1541709301, "last_edit_date": 1541709301, "creation_date": 1541630134, "answer_id": 53198932, "question_id": 53089776, "link": "https://stackoverflow.com/questions/53089776/keycloak-add-extra-claims-from-database-external-source-with-custom-protocol-m/53198932#53198932", "title": "Keycloak add extra claims from database / external source with custom protocol mapper", "body": "<p>I hope this step by step guide helps you </p>\n\n<p>I'm using Keycloak 4.5.0 - because I have this newer version installed - but I should not make a big difference. And I implemented a <code>OIDCProtocolMapper</code> in the example.</p>\n\n<p>Just to summarize it - for the quick overview for others - each step is described more detailed later</p>\n\n<ol>\n<li><p>You implement a CustomProtocolMapper class based on\n<code>AbstractOIDCProtocolMapper</code></p></li>\n<li><p>META-INF/services File with the\nname <code>org.keycloak.protocol.ProtocolMapper</code> must be available and\ncontains the name of your mapper</p></li>\n<li><p><code>jboss-deployment-structure.xml</code> need to be available to use\nkeycloak built in classes</p></li>\n<li><p>Jar File is deployed in\n<code>/opt/jboss/keycloak/standalone/deployments/</code></p></li>\n</ol>\n\n<p>Okay now more details :-)</p>\n\n<h2>Create your custom Mapper</h2>\n\n<p>I uploaded you my maven <code>pom.xml</code> (<a href=\"https://pastebin.com/dkbw1SDW\" rel=\"noreferrer\">pom</a>) - just import it into your IDE and all the dependencies should be loaded automatically. The dependencies are just <code>provided</code>  and will be later used from keycloak directly at runtime</p>\n\n<p>Relevant is the <code>keycloak.version</code> property - all keycloak dependencies are currently loaded in version <code>4.5.0.Final</code></p>\n\n<p>Now i created a custom Protocol Mapper Class called <code>CustomOIDCProtocolMapper</code>. Find \"full\" code <a href=\"https://pastebin.com/kz9jpC5V\" rel=\"noreferrer\">here</a></p>\n\n<p>It should extend <code>AbstractOIDCProtocolMapper</code> and need to implement all abstract methods. Maybe you want to have a SAML Protocol Mapper then it's another base class (<code>AbstractSAMLProtocolMapper</code>)</p>\n\n<p>one relevant method is <code>transformAccessToken</code> - here I set a additional Claim to the AccessToken. You need your logic here but yeah - depends on your database, etc. ;-)</p>\n\n<h2>Services File</h2>\n\n<p>The services File is <strong>important</strong> for keycloak to find your custom-Implementation</p>\n\n<p>Place a file with the <strong>fileName</strong> <code>org.keycloak.protocol.ProtocolMapper</code> inside <code>\\src\\main\\resources\\META-INF\\services\\</code> </p>\n\n<p>Inside this file you write to Name of your custom Provider - so keycloak knows that this class is available as Protocol Mapper<br>\nIn my example the file content is just one line</p>\n\n<pre><code>com.stackoverflow.keycloak.custom.CustomOIDCProtocolMapper\n</code></pre>\n\n<h2>Deployment Structure XML</h2>\n\n<p>In your custom mapper you use files from keycloak. In order to use them we need to inform jboss about this dependency. \nTherefore create a file <code>jboss-deployment-structure.xml</code> inside <code>\\src\\main\\resources\\META-INF\\</code> \nContent:</p>\n\n<pre><code>&lt;jboss-deployment-structure&gt;\n    &lt;deployment&gt;\n        &lt;dependencies&gt;\n            &lt;module name=\"org.keycloak.keycloak-services\" /&gt;\n        &lt;/dependencies&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n\n<h2>Build and deploy your Extension</h2>\n\n<p>Build a jar File of your Extension (<code>mvn clean package</code>) - and place the <code>jar</code> in <code>/opt/jboss/keycloak/standalone/deployments/</code> and restart keycloak</p>\n\n<p>In the logfile you should see when it's deployed and (hopefully no) error messages</p>\n\n<p>Now you can use your mapper - In my example I can create a Mapper in keycloak admin ui  and select <code>Stackoverflow Custom Protocol Mapper</code> from dropdown</p>\n\n<p>Just as info - this is not fully official supported by keycloak - so interfaces could possible change in later versions</p>\n\n<p>I hope it's understandable and you will be able to succesfully implement your own mapper</p>\n\n<p>EDIT:\nExported eclipse file structure <a href=\"http://www.filedropper.com/keycloak-customprotocolmapper\" rel=\"noreferrer\">zip</a></p>\n"}, {"tags": [], "owner": {"reputation": 1380, "user_id": 1413297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g71wU.jpg?s=128&g=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/1413297/thomas"}, "is_accepted": false, "score": 1, "last_activity_date": 1596850594, "creation_date": 1596850594, "answer_id": 63311019, "question_id": 53089776, "link": "https://stackoverflow.com/questions/53089776/keycloak-add-extra-claims-from-database-external-source-with-custom-protocol-m/63311019#63311019", "title": "Keycloak add extra claims from database / external source with custom protocol mapper", "body": "<p>I am using a <strong>Custom Protocol Mapper</strong><sup>1</sup> to send an <strong>authenticated</strong><sup>2</sup> <strong>GraphQL query</strong><sup>3</sup> to an external system and put the JSON response data into the user's access token (JWT). It currently runs with Keycloak 10.</p>\n<p>==&gt; You can find the full code in <a href=\"https://github.com/tholst/keycloak-json-graphql-remote-claim\" rel=\"nofollow noreferrer\">this repository</a>.</p>\n<h3>(1) Custom Protocol Mapper</h3>\n<p>As others have noted, your project needs at least 3 files.</p>\n<ol>\n<li>A Java class that implements <code>AbstractOIDCProtocolMapper</code> &amp; its method <code>setClaim</code> (among others).</li>\n<li>A <code>jboss-deployment-structure.xml</code> file that contains the dependencies for deployment.</li>\n<li>An <code>org.keycloak.protocol.ProtocolMapper</code> file that contains the full name of the custom protocol mapper.</li>\n</ol>\n<p>Here is the folder structure:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ tree src/ -A\nsrc/\n\u2514\u2500\u2500 main\n    \u251c\u2500\u2500 java\n    \u2502   \u2514\u2500\u2500 com\n    \u2502       \u2514\u2500\u2500 thohol\n    \u2502           \u2514\u2500\u2500 keycloak\n    \u2502               \u2514\u2500\u2500 JsonGraphQlRemoteClaim.java\n    \u2514\u2500\u2500 resources\n        \u2514\u2500\u2500 META-INF\n            \u251c\u2500\u2500 jboss-deployment-structure.xml\n            \u2514\u2500\u2500 services\n                \u2514\u2500\u2500 org.keycloak.protocol.ProtocolMapper\n\n</code></pre>\n<h3>(2) Authenticated Remote Requests</h3>\n<p>If the <strong>remote endpoint requires authentication</strong>, we can <strong>obtain an Access Token from Keycloak</strong>. The complete flow would look as follows (especially steps 3-6):</p>\n<ol>\n<li>A user sends an authentication request (i.e., &quot;logs in&quot;) to Keycloak. The request is made against a specific Keycloak client, e.g., <code>login-client</code>.</li>\n<li>Because the <code>login-client</code> is configured to use the Custom Protocol Mapper, its code gets executed while the user's authentication request is being processed.</li>\n<li>The Custom Protocol Mapper sends a second authentication request to Keycloak. The request is made against a <em>second</em> Keycloak client (e.g., <code>remote-claims-client</code>) using <code>client_credentials</code> (Client ID + Secret).</li>\n<li>The Custom Protocol Mapper receives an access token for client <code>remote-claims-client</code>.</li>\n<li>The Custom Protocol Mapper sends a request to the remote endpoint. An <code>Authorization: Bearer &lt;access token&gt;</code> header is added to the request headers.</li>\n<li>The remote endpoint receives the request and validates the JWT token. In many cases, access should be restricted further. For example, to only allow tokens minted (&quot;written&quot;) for the corresponding <code>remote-claims-client</code>.</li>\n<li>The remote endpoint returns the custom remote claims data.</li>\n<li>The Custom Protocol Mapper receives the custom remote claims data and puts it into the user's access token.</li>\n<li>Keycloak returns an access token with custom claims to the user.</li>\n</ol>\n<p>Steps 3/4 can be implemented as a simple HTTP POST request in Java (error handling omitted!):</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Call remote service\nHttpClient httpClient = HttpClient.newHttpClient();\nURIBuilder uriBuilder = new URIBuilder(keycloakAuthUrl);\nURI uri = uriBuilder.build();\n\nHttpRequest.Builder builder = HttpRequest.newBuilder().uri(uri);\nString queryBody = &quot;grant_type=client_credentials&amp;client_id=remote-claims-client&amp;client_secret=dfebc62a-e8d7-4ab3-9196-258ddb5684ab&quot;;\nbuilder.POST(HttpRequest.BodyPublishers.ofString(queryBody));\n\n// Build headers\nbuilder.header(HttpHeaders.CONTENT_TYPE , MediaType.APPLICATION_FORM_URLENCODED);\n\n// Call\nHttpResponse&lt;String&gt; response = httpClient.send(builder.build(), HttpResponse.BodyHandlers.ofString());\n\n// Process Response\nJsonNode json = return new ObjectMapper().readTree(response.body());\nString accessToken = json.findValue(&quot;access_token&quot;).asText();\n</code></pre>\n<h3>(3) Using GraphQL Queries for external requests</h3>\n<p>A GraphQL query is essentially an HTTP POST request, with a <code>body</code> like</p>\n<pre><code>{\n    &quot;query&quot;: &quot;query HeroName($episode: Episode) {\n        hero(episode: $episode) {\n            name\n        }\n    }&quot;,\n    &quot;variables&quot;: {\n        &quot;episode&quot; : &quot;JEDI&quot;\n    }\n}\n</code></pre>\n<p>This can be sent from Java like (error handling omitted!):</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpClient httpClient = HttpClient.newHttpClient();\nURIBuilder uriBuilder = new URIBuilder(remoteUrl);\nURI uri = uriBuilder.build();\n\nHttpRequest.Builder builder = HttpRequest.newBuilder().uri(uri);\nString queryBody = &quot;{\n    \\&quot;query\\&quot;: \\&quot;query HeroName($episode: Episode) {\n        hero(episode: $episode) {\n            name\n        }\n    }\\&quot;,\n    \\&quot;variables\\&quot;: {\n        \\&quot;episode\\&quot; : \\&quot;JEDI\\&quot;\n    }\n}&quot;;\nbuilder.POST(HttpRequest.BodyPublishers.ofString(queryBody));\n\n// Build headers\nbuilder.header(HttpHeaders.CONTENT_TYPE , MediaType.APPLICATION_JSON);\nbuilder.header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + accessToken);\n\n// Call\nHttpResponse&lt;String&gt; response = httpClient.send(builder.build(), HttpResponse.BodyHandlers.ofString());\n\n// Process Response and add to token\nJsonNode json = return new ObjectMapper().readTree(response.body());\nclientSessionCtx.setAttribute(&quot;custom_claims&quot;, json);\n</code></pre>\n<h3>Disclaimer</h3>\n<p>I am the owner/author of the linked repository. However, I did not start from scratch but used multiple other repositories as basis/inspiration. See the <a href=\"https://github.com/tholst/keycloak-json-graphql-remote-claim/blob/master/README.md\" rel=\"nofollow noreferrer\">repo's README</a>.</p>\n"}], "owner": {"reputation": 318, "user_id": 6998283, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qLz_RJ1TrYY/AAAAAAAAAAI/AAAAAAAAABI/kxKVZJsWHjQ/photo.jpg?sz=128", "display_name": "AlaricB", "link": "https://stackoverflow.com/users/6998283/alaricb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7093, "favorite_count": 4, "accepted_answer_id": 53198932, "answer_count": 2, "score": 12, "last_activity_date": 1596850594, "creation_date": 1541010017, "last_edit_date": 1541431000, "question_id": 53089776, "link": "https://stackoverflow.com/questions/53089776/keycloak-add-extra-claims-from-database-external-source-with-custom-protocol-m", "title": "Keycloak add extra claims from database / external source with custom protocol mapper", "body": "<p>I've seen those two post that give a solution to this question but they do not provide detailed enough informations about how to do it for non Java developer like me:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/43376233/keycloak-add-extra-claims-from-database-external-source\">Keycloak add extra claims from database / external source</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/50523816/how-to-register-a-custom-protocolmapper-in-keycloak?noredirect=1&amp;lq=1\">How to register a custom ProtocolMapper in Keycloak?</a></p>\n\n<p>Here is a recap of their solutions that could help others if filled with more details.</p>\n\n<p><strong>Process expected</strong> <em><a href=\"https://stackoverflow.com/questions/43376233/keycloak-add-extra-claims-from-database-external-source\">from 1st link</a></em></p>\n\n<blockquote>\n  <ol>\n  <li>User logs in </li>\n  <li>My custom protocol mapper gets called, where I overwrite the transformAccessToken method</li>\n  <li>Here I log in the client where the protocol mapper is in into keycloak, as a service. Here don't forget to use another client ID\n  instead the one you're building the protocol mapper for, you'll enter\n  an endless recursion otherwise.</li>\n  <li>I get the access token into the protocol mapper and I call the rest endpoint of my application to grab the extra claims, which is\n  secured.</li>\n  <li>Get the info returned by the endpoint and add it as extra claims</li>\n  </ol>\n</blockquote>\n\n<p><strong>Steps to achieve it</strong> <em><a href=\"https://stackoverflow.com/questions/50523816/how-to-register-a-custom-protocolmapper-in-keycloak?noredirect=1&amp;lq=1\">from 2nd link</a></em></p>\n\n<blockquote>\n  <p>Implement the ProtocolMapper interface and add the file\n  <em>\"META-INF/services/org.keycloak.protocol.ProtocolMapper\"</em> containing the reference to the class. </p>\n  \n  <p>At this point Keycloak recognizes the new implementation. And you\n  should be able to configure it via the admin console.</p>\n  \n  <p>To add some data to the token add the following interfaces </p>\n  \n  <p><em>org.keycloak.protocol.oidc.mappers.OIDCAccessTokenMapper</em></p>\n  \n  <p>and implement the methods according to the interface</p>\n  \n  <p>Then add the file \"<em>META-INF/jboss-deployment-structure.xml</em>\" with the\n  following content</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;jboss-deployment-structure&gt;\n    &lt;deployment&gt;\n        &lt;dependencies&gt;\n            &lt;module name=\"org.keycloak.keycloak-services\"/&gt;\n        &lt;/dependencies&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n  \n  <p>And after doing all this the custom transformAccessToken() method is called\n  on every request to URL\n  http://:/auth/realms/testrealm/protocol/openid-connect/token</p>\n</blockquote>\n\n<p>After reading this I have a few questions :</p>\n\n<ol>\n<li>How do you \u201dImplement the ProtocolMapper\u201d</li>\n<li>Where do you add the files mentionned earlier ? ( can't see any META-INF/ directory in my Keycloak installation folder )</li>\n<li>How and where do you \u201dadd the following interfaces\u201d</li>\n<li>What does the custom transformAccessToken() looks like</li>\n</ol>\n\n<p>Thank you all for your time. \nLet me know if I miss summarise their answers. </p>\n\n<p><strong>Edit :</strong> </p>\n\n<p>I'm starting a bounty with the hope that someone will be able to give me detailled steps on how to add extra claims from database in Keycloak 3.4.3 ( Detailed enough for a non Java dev )</p>\n\n<p><strong>Edit 2</strong> \nA method descibed here could do the trick but lack details.\n<a href=\"https://stackoverflow.com/questions/46595425/keycloak-create-a-custom-identity-provider-mapper?rq=1\">Keycloak create a custom identity provider mapper</a></p>\n"}, {"tags": ["java", "regex"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 7205932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7aa57b3706b0626d6236bee343653e8?s=128&d=identicon&r=PG&f=1", "display_name": "ZenOctober", "link": "https://stackoverflow.com/users/7205932/zenoctober"}, "edited": false, "score": 1, "creation_date": 1541010751, "post_id": 53089798, "comment_id": 93076818, "body": "Thank you so, so much - exactly what I needed!"}], "tags": [], "owner": {"reputation": 658058, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 3, "last_activity_date": 1541010115, "creation_date": 1541010115, "answer_id": 53089798, "question_id": 53089729, "link": "https://stackoverflow.com/questions/53089729/replace-unknown-number-of-whitespace-with-zeros-regex-java/53089798#53089798", "title": "Replace unknown number of whitespace with zeros [Regex/Java]", "body": "<p>You may use <code>\\G</code> based regex here:</p>\n\n<pre><code>(?&lt;=0|\\G)\\h(?=\\h*\\d)\n</code></pre>\n\n<p>and replace it with:</p>\n\n<pre><code>0\n</code></pre>\n\n<p>In Java code:</p>\n\n<pre><code>str = str.replaceAll(\"(?&lt;=0|\\\\G)\\\\h(?=\\\\h*\\\\d)\", \"0\");\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/XKm9br/1\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n\n<p><strong>RegEx Details:</strong></p>\n\n<ul>\n<li><code>\\G</code> asserts position at the end of the previous match or the start of the string for the first match</li>\n<li><code>(?&lt;=0|\\G)</code>: Make sure we have a zero or end of previous match at previous position</li>\n<li><code>\\h</code>: Match a horizontal whitespace</li>\n<li><code>(?=\\h*\\d)</code>: Make sure we have 0 or more spaces followed by a digit ahead</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 10165054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/413b4ef8f7856ba34b18230b80842741?s=128&d=identicon&r=PG&f=1", "display_name": "M. Goodman", "link": "https://stackoverflow.com/users/10165054/m-goodman"}, "is_accepted": false, "score": 0, "last_activity_date": 1541010278, "creation_date": 1541010278, "answer_id": 53089833, "question_id": 53089729, "link": "https://stackoverflow.com/questions/53089729/replace-unknown-number-of-whitespace-with-zeros-regex-java/53089833#53089833", "title": "Replace unknown number of whitespace with zeros [Regex/Java]", "body": "<p>If this is coming in as a String I'd try the following:</p>\n\n<p>`</p>\n\n<pre><code>String a = \"Dorothy 123456789  0        98765Fashion\";\n\nchar[] chars = a.toCharArray();\n\nfor(int i =0; i&lt;chars.length;i++){\n\n   if(chars[i]==0&amp;&amp;chars[i+1]==' '){\n      chars[i+1]=0;\n   }\n\n}\n</code></pre>\n\n<p>`</p>\n"}, {"tags": [], "owner": {"reputation": 48511, "user_id": 5558072, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-GFXl3bQPSrM/AAAAAAAAAAI/AAAAAAAAARY/Fvg3zPWA3x0/photo.jpg?sz=128", "display_name": "YCF_L", "link": "https://stackoverflow.com/users/5558072/ycf-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1541011240, "last_edit_date": 1592644375, "creation_date": 1541010857, "answer_id": 53089963, "question_id": 53089729, "link": "https://stackoverflow.com/questions/53089729/replace-unknown-number-of-whitespace-with-zeros-regex-java/53089963#53089963", "title": "Replace unknown number of whitespace with zeros [Regex/Java]", "body": "<h2>Java 9+</h2>\n<p>If you are using <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\"><strong>Java 9+</strong></a> you can use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Matcher::replaceAll</code></a> like so :</p>\n<pre><code>newString = Pattern.compile(&quot;0(\\\\s*)\\\\d+&quot;)\n        .matcher(oldString)\n        .replaceAll(g -&gt; g.group(0).replace(&quot; &quot;, &quot;0&quot;)); \n</code></pre>\n<p>Where <code>g.group(0)</code> will catch all the spaces between 0 and a number, then you can just replace each space in this group with 0. (simple and easy).</p>\n<hr />\n<p><strong>Outputs</strong></p>\n<pre><code>Dorothy 123456789  00000000098765Fashion\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 7205932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7aa57b3706b0626d6236bee343653e8?s=128&d=identicon&r=PG&f=1", "display_name": "ZenOctober", "link": "https://stackoverflow.com/users/7205932/zenoctober"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 53089798, "answer_count": 3, "score": 1, "last_activity_date": 1541011240, "creation_date": 1541009812, "question_id": 53089729, "link": "https://stackoverflow.com/questions/53089729/replace-unknown-number-of-whitespace-with-zeros-regex-java", "title": "Replace unknown number of whitespace with zeros [Regex/Java]", "body": "<p>I have the following text:</p>\n\n<pre><code>Dorothy 123456789  0        98765Fashion \n</code></pre>\n\n<p>I need to replace the space between <strong>0</strong> and <strong>98765</strong> with the <em>same amount of 0s</em> so it looks like: </p>\n\n<pre><code>Dorothy 123456789  0000098765Fashion \n</code></pre>\n\n<p>There is a catch:</p>\n\n<ul>\n<li>The exact number of whitespace between 0 and 98765 is unknown. There could be none, there could be many. </li>\n<li>The beginning 0 is a constant but the numbers in 98765 are also changing.</li>\n</ul>\n\n<p>What I have so far only replaces the space between 0 and 98765 with just one single 0 but it doesnt match all the rest of the whitespace with zeros:  </p>\n\n<pre><code>regexExpression = \"(.{7}).(\\\\d{9})(..)0(\\\\s+)(\\\\d+)(.{7})\";\nreplacement = \"$1$2$300$5$6\";\nnewString = oldString.replaceAll(regexExpression, replacement);\n</code></pre>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 166951, "user_id": 1707091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dJrV3.jpg?s=128&g=1", "display_name": "rgettman", "link": "https://stackoverflow.com/users/1707091/rgettman"}, "edited": false, "score": 3, "creation_date": 1541009554, "post_id": 53089653, "comment_id": 93076266, "body": "Place braces around both lines of each <code>if</code> block.  Unlike Python, indenting means nothing to the Java compiler."}, {"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 1, "creation_date": 1541009611, "post_id": 53089653, "comment_id": 93076284, "body": "Or get rid of <code>Integer.toString(T);</code> as it is pointless."}, {"owner": {"reputation": 297, "user_id": 868170, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YpJoU.jpg?s=128&g=1", "display_name": "Michael Bruesch", "link": "https://stackoverflow.com/users/868170/michael-bruesch"}, "edited": false, "score": 0, "creation_date": 1541009731, "post_id": 53089653, "comment_id": 93076344, "body": "This is a perfect example of why I always use brackets, even if only one line of code follows."}, {"owner": {"reputation": 7, "user_id": 10536423, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DnCSsobTiFU/AAAAAAAAAAI/AAAAAAAAAHE/_1aAyDC3eWQ/photo.jpg?sz=128", "display_name": "Shaheer Ahmad", "link": "https://stackoverflow.com/users/10536423/shaheer-ahmad"}, "edited": false, "score": 0, "creation_date": 1541009805, "post_id": 53089653, "comment_id": 93076388, "body": "i check with brackets also it didnt work"}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 10536423, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DnCSsobTiFU/AAAAAAAAAAI/AAAAAAAAAHE/_1aAyDC3eWQ/photo.jpg?sz=128", "display_name": "Shaheer Ahmad", "link": "https://stackoverflow.com/users/10536423/shaheer-ahmad"}, "edited": false, "score": 0, "creation_date": 1541009796, "post_id": 53089669, "comment_id": 93076382, "body": "i check with brackets also it didnt work"}, {"owner": {"reputation": 12572, "user_id": 8534008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2af9937cac66f08b6ee6e4219cc0d?s=128&d=identicon&r=PG&f=1", "display_name": "GBlodgett", "link": "https://stackoverflow.com/users/8534008/gblodgett"}, "reply_to_user": {"reputation": 7, "user_id": 10536423, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DnCSsobTiFU/AAAAAAAAAAI/AAAAAAAAAHE/_1aAyDC3eWQ/photo.jpg?sz=128", "display_name": "Shaheer Ahmad", "link": "https://stackoverflow.com/users/10536423/shaheer-ahmad"}, "edited": false, "score": 0, "creation_date": 1541009893, "post_id": 53089669, "comment_id": 93076429, "body": "@ShaheerAhmad What error are you getting?"}, {"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "reply_to_user": {"reputation": 7, "user_id": 10536423, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DnCSsobTiFU/AAAAAAAAAAI/AAAAAAAAAHE/_1aAyDC3eWQ/photo.jpg?sz=128", "display_name": "Shaheer Ahmad", "link": "https://stackoverflow.com/users/10536423/shaheer-ahmad"}, "edited": false, "score": 1, "creation_date": 1541009928, "post_id": 53089669, "comment_id": 93076447, "body": "@ShaheerAhmad Because it does not handle the case when <code>T</code> is greater than 7."}, {"owner": {"reputation": 7, "user_id": 10536423, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DnCSsobTiFU/AAAAAAAAAAI/AAAAAAAAAHE/_1aAyDC3eWQ/photo.jpg?sz=128", "display_name": "Shaheer Ahmad", "link": "https://stackoverflow.com/users/10536423/shaheer-ahmad"}, "edited": false, "score": 0, "creation_date": 1541010289, "post_id": 53089669, "comment_id": 93076607, "body": "I want to return T (int type) as a String from that function"}, {"owner": {"reputation": 12572, "user_id": 8534008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2af9937cac66f08b6ee6e4219cc0d?s=128&d=identicon&r=PG&f=1", "display_name": "GBlodgett", "link": "https://stackoverflow.com/users/8534008/gblodgett"}, "reply_to_user": {"reputation": 7, "user_id": 10536423, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DnCSsobTiFU/AAAAAAAAAAI/AAAAAAAAAHE/_1aAyDC3eWQ/photo.jpg?sz=128", "display_name": "Shaheer Ahmad", "link": "https://stackoverflow.com/users/10536423/shaheer-ahmad"}, "edited": false, "score": 0, "creation_date": 1541010354, "post_id": 53089669, "comment_id": 93076632, "body": "@ShaheerAhmad Then why do you have the <code>if</code> statements at all? Why not just <code>return Integer.toString(T);</code>?"}, {"owner": {"reputation": 7, "user_id": 10536423, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DnCSsobTiFU/AAAAAAAAAAI/AAAAAAAAAHE/_1aAyDC3eWQ/photo.jpg?sz=128", "display_name": "Shaheer Ahmad", "link": "https://stackoverflow.com/users/10536423/shaheer-ahmad"}, "edited": false, "score": 0, "creation_date": 1541010545, "post_id": 53089669, "comment_id": 93076710, "body": "because i generated random number and if that number is in that condition so it would return it."}, {"owner": {"reputation": 12572, "user_id": 8534008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2af9937cac66f08b6ee6e4219cc0d?s=128&d=identicon&r=PG&f=1", "display_name": "GBlodgett", "link": "https://stackoverflow.com/users/8534008/gblodgett"}, "reply_to_user": {"reputation": 7, "user_id": 10536423, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DnCSsobTiFU/AAAAAAAAAAI/AAAAAAAAAHE/_1aAyDC3eWQ/photo.jpg?sz=128", "display_name": "Shaheer Ahmad", "link": "https://stackoverflow.com/users/10536423/shaheer-ahmad"}, "edited": false, "score": 0, "creation_date": 1541011179, "post_id": 53089669, "comment_id": 93077014, "body": "@ShaheerAhmad You want to return the String representation of <code>T</code> or a <code>String</code> based on the value of <code>T</code>? (i.e. if <code>T</code> is within a range return &quot;Hello&quot;, or within a different range &quot;Goodbye&quot;)"}], "tags": [], "owner": {"reputation": 12572, "user_id": 8534008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2af9937cac66f08b6ee6e4219cc0d?s=128&d=identicon&r=PG&f=1", "display_name": "GBlodgett", "link": "https://stackoverflow.com/users/8534008/gblodgett"}, "is_accepted": true, "score": 1, "last_activity_date": 1541010020, "last_edit_date": 1541010020, "creation_date": 1541009560, "answer_id": 53089669, "question_id": 53089653, "link": "https://stackoverflow.com/questions/53089653/number-generated-randomly-and-problem-here-with-the-2nd-if-statement/53089669#53089669", "title": "Number generated randomly ? and problem here with the 2nd if statement?", "body": "<p>In this block (And the other <code>if</code> block):</p>\n\n<pre><code> if(T &gt;= 1 &amp;&amp; T &lt;= 5)\n    Integer.toString(T);\n    return \"Fast_Plod\";\n</code></pre>\n\n<p>You forgot brackets, so the return is always executed, resulting in the rest of the code in the method being dead code (code that can never be reached). Indentation means nothing in java, so you have to specify that the <code>return</code> statement is within the <code>if</code> block by surrounding it, and all the other lines that should be in the if block, with brackets. Also the lines <code>Integer.toString(T);</code> do nothing. Lastly, <code>T</code> can be a number greater than <code>7</code>, so you must specify a <code>return</code> for this too. </p>\n\n<p>To fix this simply add brackets:</p>\n\n<pre><code>if(T &gt;= 1 &amp;&amp; T &lt;= 5) {\n    return \"Fast_Plod\";\n}\nif(T &gt;= 6 &amp;&amp; T &lt;= 7) {\n    return \"Slow_Plod\";\n}\nelse {\n    return \"\";  //return what you want to return if it's &gt; 7\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 10165054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/413b4ef8f7856ba34b18230b80842741?s=128&d=identicon&r=PG&f=1", "display_name": "M. Goodman", "link": "https://stackoverflow.com/users/10165054/m-goodman"}, "is_accepted": false, "score": 0, "last_activity_date": 1541009720, "creation_date": 1541009720, "answer_id": 53089708, "question_id": 53089653, "link": "https://stackoverflow.com/questions/53089653/number-generated-randomly-and-problem-here-with-the-2nd-if-statement/53089708#53089708", "title": "Number generated randomly ? and problem here with the 2nd if statement?", "body": "<p>To add on to GBlodgett's answer you can get away with not putting brackets around the block to be executed in an <code>if</code> statement if it is only one statement (only one <code>;</code>). Java will execute the first statement after the <code>if</code> and then carry on as if the job is done.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 5945181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/luVSw.jpg?s=128&g=1", "display_name": "Sandy", "link": "https://stackoverflow.com/users/5945181/sandy"}, "is_accepted": false, "score": 0, "last_activity_date": 1541010208, "creation_date": 1541010208, "answer_id": 53089816, "question_id": 53089653, "link": "https://stackoverflow.com/questions/53089653/number-generated-randomly-and-problem-here-with-the-2nd-if-statement/53089816#53089816", "title": "Number generated randomly ? and problem here with the 2nd if statement?", "body": "<pre><code>import java.security.SecureRandom;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        System.out.println(\"T : \" + Tfun());\n    }\n\n    public static String Tfun() {\n        SecureRandom r = new SecureRandom();\n        int T = 1+r.nextInt(10);\n\n        if(T &gt;= 1 &amp;&amp; T &lt;= 5) {\n            Integer.toString(T);\n            return \"Fast_Plod\";\n        }else if(T &gt;= 6 &amp;&amp; T &lt;= 7) {\n            Integer.toString(T);\n            return \"Slow_Plod\";\n        }else {\n            return \"your return value.\";\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 10536423, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DnCSsobTiFU/AAAAAAAAAAI/AAAAAAAAAHE/_1aAyDC3eWQ/photo.jpg?sz=128", "display_name": "Shaheer Ahmad", "link": "https://stackoverflow.com/users/10536423/shaheer-ahmad"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "closed_date": 1541010282, "accepted_answer_id": 53089669, "answer_count": 3, "score": -4, "last_activity_date": 1541010208, "creation_date": 1541009495, "question_id": 53089653, "link": "https://stackoverflow.com/questions/53089653/number-generated-randomly-and-problem-here-with-the-2nd-if-statement", "closed_reason": "Duplicate", "title": "Number generated randomly ? and problem here with the 2nd if statement?", "body": "<p>it is show that error in the 2nd If statement why???</p>\n\n<pre><code>import java.security.SecureRandom;\n\npublic class Test \n{\n   public static void main(String[] args)\n   {\n      System.out.println(\"T : \" + Tfun());\n   }\n\npublic static String Tfun()\n{\n    SecureRandom r = new SecureRandom();\n    int T = 1+r.nextInt(10);\n\n\n    if(T &gt;= 1 &amp;&amp; T &lt;= 5)\n        Integer.toString(T);\n        return \"Fast_Plod\";\n\n    if(T &gt;= 6 &amp;&amp; T &lt;= 7)\n        Integer.toString(T);\n        return \"Slow_Plod\";\n  }\n}\n</code></pre>\n\n<p>how to fix that? what is the problem exactly?</p>\n"}, {"tags": ["java", "multithreading"], "comments": [{"owner": {"reputation": 755, "user_id": 2194661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bcc4e5d191b19943be4bf14b233af25?s=128&d=identicon&r=PG", "display_name": "potato", "link": "https://stackoverflow.com/users/2194661/potato"}, "edited": false, "score": 0, "creation_date": 1541009670, "post_id": 53089643, "comment_id": 93076317, "body": "Do you mean you want to split the work between the threads so each thread capitalizes only part of the string?"}, {"owner": {"reputation": 1741, "user_id": 196175, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/24lth.jpg?s=128&g=1", "display_name": "TheJavaGuy-Ivan Milosavljevi\u0107", "link": "https://stackoverflow.com/users/196175/thejavaguy-ivan-milosavljevi%c4%87"}, "edited": false, "score": 3, "creation_date": 1541009840, "post_id": 53089643, "comment_id": 93076412, "body": "If you want it only once, why are you using 3 threads?"}, {"owner": {"reputation": 755, "user_id": 2194661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bcc4e5d191b19943be4bf14b233af25?s=128&d=identicon&r=PG", "display_name": "potato", "link": "https://stackoverflow.com/users/2194661/potato"}, "edited": false, "score": 0, "creation_date": 1541009879, "post_id": 53089643, "comment_id": 93076424, "body": "Could be for improving performance, if he has a really long string and wants 3 threads working together on capitalizing it."}, {"owner": {"reputation": 133, "user_id": 10341964, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nTdWY1HSoz4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPGvToQ_qQCyNgid8UiajrtEJMxsg/mo/photo.jpg?sz=128", "display_name": "moro_92", "link": "https://stackoverflow.com/users/10341964/moro-92"}, "reply_to_user": {"reputation": 755, "user_id": 2194661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bcc4e5d191b19943be4bf14b233af25?s=128&d=identicon&r=PG", "display_name": "potato", "link": "https://stackoverflow.com/users/2194661/potato"}, "edited": false, "score": 0, "creation_date": 1541010397, "post_id": 53089643, "comment_id": 93076651, "body": "@potato, i want to split the work, yes. For example, t1 capitalizes a, t2 capitalizes c and d and so on..."}, {"owner": {"reputation": 2251, "user_id": 6650475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3543c7ccbd9324d2bc28abd8bd8d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew S", "link": "https://stackoverflow.com/users/6650475/andrew-s"}, "edited": false, "score": 0, "creation_date": 1541010621, "post_id": 53089643, "comment_id": 93076750, "body": "Each thread iterates over all elements of <code>arr</code>.  Consider passing something like a <code>beginIndex</code> and <code>endIndex</code> for each thread so a thread iterates only over a subset of <code>arr</code>."}], "answers": [{"comments": [{"owner": {"reputation": 755, "user_id": 2194661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bcc4e5d191b19943be4bf14b233af25?s=128&d=identicon&r=PG", "display_name": "potato", "link": "https://stackoverflow.com/users/2194661/potato"}, "edited": false, "score": 0, "creation_date": 1541018061, "post_id": 53089930, "comment_id": 93079961, "body": "Using a stream makes the code short and neat but adds overhead which makes it run slower (and uses a lot more memory which is bad for processing very large inputs). I don&#39;t use streams at all when I need to maximize performance."}, {"owner": {"reputation": 496316, "user_id": 57695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/53ee9941b3fefef67175daf212e62d41?s=128&d=identicon&r=PG", "display_name": "Peter Lawrey", "link": "https://stackoverflow.com/users/57695/peter-lawrey"}, "reply_to_user": {"reputation": 755, "user_id": 2194661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bcc4e5d191b19943be4bf14b233af25?s=128&d=identicon&r=PG", "display_name": "potato", "link": "https://stackoverflow.com/users/2194661/potato"}, "edited": false, "score": 1, "creation_date": 1541021944, "post_id": 53089930, "comment_id": 93081399, "body": "@potato streams can be ass efficient as loops and since it re-uses a thread pool, the speed entirely depends on whether this pool has started already or not."}, {"owner": {"reputation": 755, "user_id": 2194661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bcc4e5d191b19943be4bf14b233af25?s=128&d=identicon&r=PG", "display_name": "potato", "link": "https://stackoverflow.com/users/2194661/potato"}, "edited": false, "score": 0, "creation_date": 1541093008, "post_id": 53089930, "comment_id": 93107857, "body": "streams can be just as fast as custom code, but their performance depends on many things that you should consider before deciding if you should use a stream or not, including: 1)) whether a function requires synchronization between threads (with custom code you can avoid or minimize the need for synchronization, which streams aren&#39;t optimized to do). 2)) how much work you perform on the collection (for small tasks like capitalizing chars, the stream will spend most of the time manipulating the input data structure, while custom code can avoid it altogether)."}, {"owner": {"reputation": 755, "user_id": 2194661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bcc4e5d191b19943be4bf14b233af25?s=128&d=identicon&r=PG", "display_name": "potato", "link": "https://stackoverflow.com/users/2194661/potato"}, "edited": false, "score": 0, "creation_date": 1541093044, "post_id": 53089930, "comment_id": 93107876, "body": "you don&#39;t have to take my word for it, do some benchmarking and see for yourself, you can use the code from our answers here for example."}], "tags": [], "owner": {"reputation": 496316, "user_id": 57695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/53ee9941b3fefef67175daf212e62d41?s=128&d=identicon&r=PG", "display_name": "Peter Lawrey", "link": "https://stackoverflow.com/users/57695/peter-lawrey"}, "is_accepted": false, "score": 3, "last_activity_date": 1541011355, "last_edit_date": 1541011355, "creation_date": 1541010714, "answer_id": 53089930, "question_id": 53089643, "link": "https://stackoverflow.com/questions/53089643/java-multithreading-uppercase-string/53089930#53089930", "title": "Java Multithreading Uppercase String", "body": "<p>This will not only be much more complicated but many times slower. However, as an exercise, I suggest using the simplest approach which is to use a parallelStream</p>\n\n<pre><code>String upper = \"abcdef\".chars().parallel()\n        .map(Character::toUpperCase)\n        .mapToObj(c -&gt; Character.toString((char) c))\n        .collect(Collectors.joining());\nSystem.out.println(upper);\n</code></pre>\n\n<p>You might wonder, why is this so much slower? Consider this at a human scale, you could either</p>\n\n<p>a) convert the letters by hand on paper, or</p>\n\n<p>b) you can send three letters to three friends asking them to mail you two letters in uppercase each.</p>\n\n<p>Except it's worse that because the threads have to be started first which takes even longer so really is it</p>\n\n<p>c) find three new friends who are willing answers your letters and then b)</p>\n"}, {"comments": [{"owner": {"reputation": 496316, "user_id": 57695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/53ee9941b3fefef67175daf212e62d41?s=128&d=identicon&r=PG", "display_name": "Peter Lawrey", "link": "https://stackoverflow.com/users/57695/peter-lawrey"}, "edited": false, "score": 0, "creation_date": 1541013589, "post_id": 53090246, "comment_id": 93077997, "body": "Any reason to check if the thread is alive before calling join?"}, {"owner": {"reputation": 755, "user_id": 2194661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bcc4e5d191b19943be4bf14b233af25?s=128&d=identicon&r=PG", "display_name": "potato", "link": "https://stackoverflow.com/users/2194661/potato"}, "reply_to_user": {"reputation": 496316, "user_id": 57695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/53ee9941b3fefef67175daf212e62d41?s=128&d=identicon&r=PG", "display_name": "Peter Lawrey", "link": "https://stackoverflow.com/users/57695/peter-lawrey"}, "edited": false, "score": 0, "creation_date": 1541013845, "post_id": 53090246, "comment_id": 93078094, "body": "To avoid calling <code>join()</code> on a thread that isn&#39;t alive anymore, which would throw an exception. You can&#39;t guarantee that <code>t1</code> will finish executing before <code>t2</code>."}, {"owner": {"reputation": 496316, "user_id": 57695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/53ee9941b3fefef67175daf212e62d41?s=128&d=identicon&r=PG", "display_name": "Peter Lawrey", "link": "https://stackoverflow.com/users/57695/peter-lawrey"}, "edited": false, "score": 0, "creation_date": 1541021817, "post_id": 53090246, "comment_id": 93081351, "body": "@potato You can&#39;t guarantee that the thread won&#39;t stop between checking if it&#39;s alive and calling join, but fortunately it doesn&#39;t matter. join() returns if the thread is dead."}, {"owner": {"reputation": 8756, "user_id": 3795036, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c01d5584e40e3d19507e9a5eaf0bae15?s=128&d=identicon&r=PG", "display_name": "K.Nicholas", "link": "https://stackoverflow.com/users/3795036/k-nicholas"}, "edited": false, "score": 0, "creation_date": 1541029663, "post_id": 53090246, "comment_id": 93083584, "body": "The thing about this is that it&#39;s not really doing multithreading in the sense that each thread is getting the next piece of work in a synchronized fashion. Here each thread has knowledge of the other threads because they are each doing every third character. A proper example would have the Capitalize class providing the next character with synchronized method."}, {"owner": {"reputation": 755, "user_id": 2194661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bcc4e5d191b19943be4bf14b233af25?s=128&d=identicon&r=PG", "display_name": "potato", "link": "https://stackoverflow.com/users/2194661/potato"}, "reply_to_user": {"reputation": 8756, "user_id": 3795036, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c01d5584e40e3d19507e9a5eaf0bae15?s=128&d=identicon&r=PG", "display_name": "K.Nicholas", "link": "https://stackoverflow.com/users/3795036/k-nicholas"}, "edited": false, "score": 0, "creation_date": 1541094106, "post_id": 53090246, "comment_id": 93108422, "body": "@K.Nicholas Fair point, the threads are indeed &quot;aware&quot; of the other threads, but it is required here to avoid synchronization which is bad for performance, if you want the threads working in parallel it isn&#39;t a wise choice to make them &quot;wait in line&quot; to get the next piece of data to process. I edited the code a little so now the number of threads is inputted via the constructor instead of being hard-coded into the thread&#39;s function."}, {"owner": {"reputation": 755, "user_id": 2194661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bcc4e5d191b19943be4bf14b233af25?s=128&d=identicon&r=PG", "display_name": "potato", "link": "https://stackoverflow.com/users/2194661/potato"}, "reply_to_user": {"reputation": 496316, "user_id": 57695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/53ee9941b3fefef67175daf212e62d41?s=128&d=identicon&r=PG", "display_name": "Peter Lawrey", "link": "https://stackoverflow.com/users/57695/peter-lawrey"}, "edited": false, "score": 0, "creation_date": 1541094864, "post_id": 53090246, "comment_id": 93108794, "body": "@PeterLawrey you&#39;re right, my bad, thanks for pointing it out. I corrected the code."}], "tags": [], "owner": {"reputation": 755, "user_id": 2194661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bcc4e5d191b19943be4bf14b233af25?s=128&d=identicon&r=PG", "display_name": "potato", "link": "https://stackoverflow.com/users/2194661/potato"}, "is_accepted": true, "score": 0, "last_activity_date": 1541094737, "last_edit_date": 1541094737, "creation_date": 1541012168, "answer_id": 53090246, "question_id": 53089643, "link": "https://stackoverflow.com/questions/53089643/java-multithreading-uppercase-string/53090246#53090246", "title": "Java Multithreading Uppercase String", "body": "<p>Note: just using <code>String str = \"abcdef\".toUpperCase();</code> is much faster for short strings (on my computer the multithreaded code starts working faster when the string is ~50000 characters long).</p>\n\n<p>The string is split into a char array (<code>chars</code>). Each thread iterates through the array <code>chars</code>, converts one letter to uppercase, and skips 2 letters for the other threads to deal with. When all threads are done, the array is turned back into a <code>String</code>.</p>\n\n<pre><code>public static void main(String args[]) {\n\n    String str = \"abcdef\";\n    System.out.println(str);\n    char[] chars = str.toCharArray();\n\n    Thread t1 = new Thread(new CapitalizeString(chars, 0, 3));\n    Thread t2 = new Thread(new CapitalizeString(chars, 1, 3));\n    Thread t3 = new Thread(new CapitalizeString(chars, 2, 3));\n\n    t1.start();\n    t2.start();\n    t3.start();\n\n    // wait until all threads finish their work\n    try{\n        t1.join();\n        t2.join();\n        t3.join();\n    }catch(InterruptedException e){ }\n\n    // print the result\n    str = String.valueOf(chars);\n    System.out.println(str);\n}\n</code></pre>\n\n<p>class CapitalizeString:</p>\n\n<pre><code>public class CapitalizeString implements Runnable {\n\n    char[] chars;\n    int start;\n    int numThreads;\n\n    public CapitalizeString(char[] chars, int startIndex, int numThreads) {\n        this.chars = chars;\n        this.numThreads = numThreads;\n        start = startIndex;\n    }\n\n    @Override\n    public void run() {\n        for(int x = start; x &lt; chars.length; x += numThreads){\n            chars[x] = Character.toUpperCase(chars[x]);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8756, "user_id": 3795036, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c01d5584e40e3d19507e9a5eaf0bae15?s=128&d=identicon&r=PG", "display_name": "K.Nicholas", "link": "https://stackoverflow.com/users/3795036/k-nicholas"}, "is_accepted": false, "score": 0, "last_activity_date": 1541031349, "last_edit_date": 1541031349, "creation_date": 1541012845, "answer_id": 53090393, "question_id": 53089643, "link": "https://stackoverflow.com/questions/53089643/java-multithreading-uppercase-string/53090393#53090393", "title": "Java Multithreading Uppercase String", "body": "<p>Right, the question was modified after I put a response in the first time and now there is an accepted answer but I just felt like commenting anyway. This might be considered a more complete example because <code>CapitalizeWorker</code> threads are getting work to do from the <code>CapitalizeJob</code> class and putting results back. I think it's a better example because it doesn't depend a specific number of threads but instead is optimized for however many cores your system has. It is also shutting down and waiting for the results in a clean manner. Just my $.02 worth.</p>\n\n<pre><code>private void run() throws InterruptedException {\n    CapitalizeJob capitalizeJob = new CapitalizeJob(\"abcdef\");\n    int processors = Runtime.getRuntime().availableProcessors();\n    ExecutorService executors = Executors.newFixedThreadPool(processors);\n    for ( int t = 0; t &lt; processors; ++t) {\n        executors.execute(new CapitalizeWorker(capitalizeJob));\n    }\n    executors.shutdown(); // this is missing from OP thread example\n    executors.awaitTermination(10, TimeUnit.SECONDS);\n    System.out.println( capitalizeJob.getResult() );\n}\n\npublic class CapitalizeWorker implements Runnable {\n    private CapitalizeJob capitalizeJob;\n    CapitalizeWorker(CapitalizeJob capitalizeJob) {\n        this.capitalizeJob = capitalizeJob;\n    }\n    @Override\n    public void run() {\n        char c;\n        while ( (c = capitalizeJob.getNextChar()) != 0 ) {\n            System.out.println(Thread.currentThread().toString());\n            capitalizeJob.setNextChar(Character.toUpperCase(c));\n        }\n    }\n}\npublic class CapitalizeJob {\n    private char[] arr;\n    private int jobIndex;\n    private char[] result;\n    private int resultIndex;\n\n    public CapitalizeJob(String name) {\n        arr = name.toCharArray();\n        result = new char[arr.length];\n        jobIndex = 0;\n        resultIndex = 0;\n    }\n    public synchronized char getNextChar() {\n        return jobIndex &lt; arr.length ? arr[jobIndex++] : 0 ;\n    }\n    public synchronized void setNextChar(char c) {\n        result[resultIndex++] = c;\n    }\n    public String getResult() {\n        return new String(result);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 10341964, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nTdWY1HSoz4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPGvToQ_qQCyNgid8UiajrtEJMxsg/mo/photo.jpg?sz=128", "display_name": "moro_92", "link": "https://stackoverflow.com/users/10341964/moro-92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 1, "accepted_answer_id": 53090246, "answer_count": 3, "score": 0, "last_activity_date": 1541094737, "creation_date": 1541009468, "last_edit_date": 1541009784, "question_id": 53089643, "link": "https://stackoverflow.com/questions/53089643/java-multithreading-uppercase-string", "title": "Java Multithreading Uppercase String", "body": "<p>I have one string: \"abcdef\", and 3 threads: t1, t2 and t3. I want them to return the string capitalized: \"ABCDEF\" (the order of characters doesn't matter). I managed to capitalize the string 3 times. I want it all to happen only once. This is the main class:</p>\n\n<pre><code>public static void main(String[] args) {\n    Thread t1 = new Thread(new CapitalizeString(\"Thread 1\", \"abcdef\"));\n    Thread t2 = new Thread(new CapitalizeString(\"Thread 2\", \"abcdef\"));\n    Thread t3 = new Thread(new CapitalizeString(\"Thread 3\", \"abcdef\"));\n\n    t1.start();\n    t2.start();\n    t3.start();\n\n}\n</code></pre>\n\n<p>And this is the class used for uppercase:</p>\n\n<pre><code>import java.util.Random;\n\npublic class CapitalizeString implements Runnable {\nString list;\nString nameThread;\n\npublic CapitalizeString(String name, String str) {\n    nameThread = name;\n    list = str;\n}\n\npublic void capitalize() {\n    char[] arr = list.toCharArray();\n\n    for (int i = 0; i &lt; list.length(); i++) {\n        arr[i] = Character.toUpperCase(arr[i]);\n        System.out.println(\"Thread-ul \" + nameThread + \" solved \" + arr[i]);\n    }\n    System.out.print(\"\\n\");\n}\n\n@Override\npublic void run() {\n    try {\n        capitalize();\n    } catch (Exception e) {\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["java", "android"], "answers": [{"tags": [], "owner": {"reputation": 669, "user_id": 10388146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LvmNO.jpg?s=128&g=1", "display_name": "kamyar haqqani", "link": "https://stackoverflow.com/users/10388146/kamyar-haqqani"}, "is_accepted": false, "score": 1, "last_activity_date": 1541014286, "creation_date": 1541014286, "answer_id": 53090716, "question_id": 53089577, "link": "https://stackoverflow.com/questions/53089577/sending-a-file-from-a-device-to-a-computer-does-not-work-file-gets-broken/53090716#53090716", "title": "Sending a file from a device to a computer does not work (File gets broken)", "body": "<p>one thing that is wrong with your server code logic is that you assumed InputStream.(byte[], int, int) will always read as many bytes as you specified in the third parameter, it doesn't (<a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#read(byte[],%20int,%20int)\" rel=\"nofollow noreferrer\">read here</a>).</p>\n\n<p>change this part:</p>\n\n<pre><code>        long bytesRead;\n        do\n        {\n            bytesRead = din.read(bb, 0, bb.length);\n            fos.write(bb,0,bb.length);\n\n        }while(!(bytesRead&lt;1024));\n</code></pre>\n\n<p>to this</p>\n\n<pre><code>        int bytesRead;\n        while((bytesRead=din.read(bb))&gt;-1){\n            fos.write(bb,0,bytesRead);\n        }\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 10254025, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tgWU5HD6zsw/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNUmy-uz36oqmid0uwFnIoc_aQVEQ/mo/photo.jpg?sz=128", "display_name": "FightingPlay", "link": "https://stackoverflow.com/users/10254025/fightingplay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541014286, "creation_date": 1541009193, "last_edit_date": 1541014023, "question_id": 53089577, "link": "https://stackoverflow.com/questions/53089577/sending-a-file-from-a-device-to-a-computer-does-not-work-file-gets-broken", "title": "Sending a file from a device to a computer does not work (File gets broken)", "body": "<p>I'm currently using this code to sent a file from my pc to a other pc.</p>\n\n<p>The reciever:</p>\n\n<pre><code>    String filename = \"\";\n    Socket socket;\n    DataInputStream din;\n    DataOutputStream dout;\n    BufferedReader br;\n    FileOutputStream fos;\n\n    try{\n        ServerSocket serverSocket = new ServerSocket(5000);\n        while(true) {\n            socket = serverSocket.accept();\n\n            din = new DataInputStream(socket.getInputStream());\n            dout = new DataOutputStream(socket.getOutputStream());\n\n            filename = din.readUTF();\n\n            String[] splitname = filename.split(Pattern.quote(\"/\"));\n            String realfile = splitname[splitname.length -1];\n\n            long sz = Long.parseLong(din.readUTF());\n\n            BufferedInputStream get = new BufferedInputStream(socket.getInputStream());\n\n            //Speicherort (Config?)\n            fos = new FileOutputStream(new File(System.getProperty(\"user.home\") + \"/Send/Empfangen/\" + realfile),true);\n\n\n            long u;\n            byte bb[]= new byte [1024];\n            long bytesRead;\n            do\n            {\n                bytesRead = din.read(bb, 0, bb.length);\n                fos.write(bb,0,bb.length);\n\n            }while(!(bytesRead&lt;1024));\n            fos.close();\n            dout.close();\n            socket.close();\n        }\n\n    }catch(Exception ex) {\n        ex.printStackTrace();\n\n    }\n</code></pre>\n\n<p>The sender:</p>\n\n<pre><code>    Socket soc;\n    DataOutputStream dc;\n    PrintWriter pw;\n    String msg = \"\";\n    try{\n        msg = \"test.png\";\n\n        soc = new Socket(\"IP\", 5000);\n\n        dc = new DataOutputStream(soc.getOutputStream());\n\n        //Filename\n        dc.writeUTF(msg);\n        dc.flush();\n\n        File fi = new File(msg);\n\n        long size = (int) fi.length();\n\n        //Size of file\n        dc.writeUTF(Long.toString(size));\n        dc.flush();\n\n        byte[] bytes = new byte[1024];\n        FileInputStream in = new FileInputStream(fi);\n        OutputStream out = soc.getOutputStream();\n\n        int count;\n        while ((count = in.read(bytes)) &gt; 0) {\n            out.write(bytes, 0, count);\n        }\n\n        out.close();\n        in.close();\n        soc.close();\n\n    }catch(Exception ex){\n        ex.printStackTrace();\n    }\n</code></pre>\n\n<p>If I use it like this, I can send any file from my laptop to my desktop pc.\nBut when I copy this code into my app and send a file from my device,\nit gets broken. PDFs are only have half of the text, images only a quarter of its look.</p>\n\n<p>For example a profile picture:\n<a href=\"https://i.stack.imgur.com/IeSXp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IeSXp.png\" alt=\"\"></a></p>\n\n<p>This is what it looks on my phone.\nAfter the I sended it to my computer it looked like this:\n<a href=\"https://i.stack.imgur.com/JlWIO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JlWIO.png\" alt=\"\"></a></p>\n\n<p>So its now totaly broken.</p>\n\n<p>Why does it work from pc to pc, but not from android to pc?\nIs there any way to get this working?</p>\n\n<p>Thanks for answers ;)</p>\n"}, {"tags": ["java", "performance"], "comments": [{"owner": {"reputation": 1304, "user_id": 10402819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e224fe017f519f82dc1f1aaa47ab4206?s=128&d=identicon&r=PG&f=1", "display_name": "mettleap", "link": "https://stackoverflow.com/users/10402819/mettleap"}, "edited": false, "score": 6, "creation_date": 1541009203, "post_id": 53089543, "comment_id": 93076105, "body": "If the list isn&#39;t sorted w.r.t salaries, there is no option but to iterate through the entire list"}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 4, "creation_date": 1541009303, "post_id": 53089543, "comment_id": 93076141, "body": "If you want to do this just once, you have no option but to iterate the entire list. If you want to do this more than once, you have to iterate the entire list at least once; but in that iteration you can build a structure which makes future lookups faster (e.g. sorting, binning etc)."}, {"owner": {"reputation": 45894, "user_id": 271415, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8648256cc53b261c5e1d266380a256fc?s=128&d=identicon&r=PG", "display_name": "jarmod", "link": "https://stackoverflow.com/users/271415/jarmod"}, "edited": false, "score": 0, "creation_date": 1541009505, "post_id": 53089543, "comment_id": 93076240, "body": "A comparator would end up using iteration. You either need the list to be sorted by salary or, better still, maintain a second data structure (or even an in-memory SQL database) that provides references to the employee objects, that is ordered by salary."}, {"owner": {"reputation": 2251, "user_id": 6650475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3543c7ccbd9324d2bc28abd8bd8d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew S", "link": "https://stackoverflow.com/users/6650475/andrew-s"}, "edited": false, "score": 1, "creation_date": 1541009520, "post_id": 53089543, "comment_id": 93076249, "body": "For millions of records use a database with a WHERE clause in the query to filter the selected records."}, {"owner": {"reputation": 26221, "user_id": 7294647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/QFLgL.jpg?s=128&g=1", "display_name": "Jacob G.", "link": "https://stackoverflow.com/users/7294647/jacob-g"}, "edited": false, "score": 1, "creation_date": 1541009523, "post_id": 53089543, "comment_id": 93076250, "body": "&quot;However, if given millions of records then using iteration doesn&#39;t make sense.&quot; - Why not?"}, {"owner": {"reputation": 2601, "user_id": 1271255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ab0265d56be80e8c33f586d8aad6dd1?s=128&d=identicon&r=PG", "display_name": "minus", "link": "https://stackoverflow.com/users/1271255/minus"}, "edited": false, "score": 0, "creation_date": 1541009706, "post_id": 53089543, "comment_id": 93076338, "body": "It much depends on the source of your data, if your source is already a List, then looping over it is possibly the best way, if your source is something else (like a recordset) , you can still use a loop, you just don&#39;t build a list first. If your data is already a stream, then you can use reducing operations."}, {"owner": {"reputation": 9, "user_id": 10587397, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QC3Fdh3e3Wk/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDUeG5hAzdFwZa5KDG_vT1W57JPLg/mo/photo.jpg?sz=128", "display_name": "tppt", "link": "https://stackoverflow.com/users/10587397/tppt"}, "reply_to_user": {"reputation": 1304, "user_id": 10402819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e224fe017f519f82dc1f1aaa47ab4206?s=128&d=identicon&r=PG&f=1", "display_name": "mettleap", "link": "https://stackoverflow.com/users/10402819/mettleap"}, "edited": false, "score": 0, "creation_date": 1541010120, "post_id": 53089543, "comment_id": 93076528, "body": "assuming the list is sorted by salary. what would be the option? @mettleap"}, {"owner": {"reputation": 1304, "user_id": 10402819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e224fe017f519f82dc1f1aaa47ab4206?s=128&d=identicon&r=PG&f=1", "display_name": "mettleap", "link": "https://stackoverflow.com/users/10402819/mettleap"}, "edited": false, "score": 0, "creation_date": 1541010423, "post_id": 53089543, "comment_id": 93076660, "body": "So let&#39;s say the list is sorted in ascending order ... do a binary search to find the first employee having salary less than the range_lower_bound and similarly find the first employee having salary more than range_upper_bound ... Once you have done this in O(log(N)) time, return all employees in between as the answer"}, {"owner": {"reputation": 9, "user_id": 10587397, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QC3Fdh3e3Wk/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDUeG5hAzdFwZa5KDG_vT1W57JPLg/mo/photo.jpg?sz=128", "display_name": "tppt", "link": "https://stackoverflow.com/users/10587397/tppt"}, "reply_to_user": {"reputation": 1304, "user_id": 10402819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e224fe017f519f82dc1f1aaa47ab4206?s=128&d=identicon&r=PG&f=1", "display_name": "mettleap", "link": "https://stackoverflow.com/users/10402819/mettleap"}, "edited": false, "score": 0, "creation_date": 1541011552, "post_id": 53089543, "comment_id": 93077161, "body": "Thank you all! @mettleap binarysearch would do!"}], "owner": {"reputation": 9, "user_id": 10587397, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QC3Fdh3e3Wk/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDUeG5hAzdFwZa5KDG_vT1W57JPLg/mo/photo.jpg?sz=128", "display_name": "tppt", "link": "https://stackoverflow.com/users/10587397/tppt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541009042, "creation_date": 1541009042, "question_id": 53089543, "link": "https://stackoverflow.com/questions/53089543/given-list-of-employees-find-employees-that-has-salary-between-given-range-with", "title": "Given list of Employees, find employees that has salary between given range without iterating over entire list", "body": "<p>Given list of employees:</p>\n\n<pre><code>    [Employee{employeeNumber='1', name='A', age=21, department='CS', salary=2000},\n Employee{employeeNumber='2', name='A', age=21, department='CS', salary=5000}, \n Employee{employeeNumber='3', name='A', age=21, department='CI', salary=3000}, \n Employee{employeeNumber='4', name='A', age=21, department='CI', salary=4000}, \n Employee{employeeNumber='5', name='A', age=21, department='CS', salary=6000}, \n Employee{employeeNumber='6', name='A', age=21, department='CI', salary=7000}]\n\nprivate String employeeNumber;\n    private String name;\n    private int age;\n    private String department;\n    private BigDecimal salary;\n</code></pre>\n\n<p>I am trying to find employees with given range salaries.\nFor Example: if given range is 3000 - 5000 then function should return employees(3, 4, 2).</p>\n\n<p>Now I could do this multiple ways:\n1) using for loop/iteraton\n2) using Stream API</p>\n\n<p>However, if given millions of records then using iteration doesn't make sense.</p>\n\n<p>Any ideas on how it could be done (maybe comparator) without using iterations or stream API??</p>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 1138, "user_id": 3921329, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/00aa1ec225cc6924c5b83c22fa3c2364?s=128&d=identicon&r=PG", "display_name": "Szab", "link": "https://stackoverflow.com/users/3921329/szab"}, "edited": false, "score": 0, "creation_date": 1541009070, "post_id": 53089504, "comment_id": 93076049, "body": "You can probably find an answer here: <a href=\"https://stackoverflow.com/questions/4916735/default-constructor-vs-inline-field-initialization\" title=\"default constructor vs inline field initialization\">stackoverflow.com/questions/4916735/&hellip;</a>"}, {"owner": {"reputation": 141, "user_id": 8581432, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NFOns7zbBFU/AAAAAAAAAAI/AAAAAAAAAjs/QlCWZJiC7mM/photo.jpg?sz=128", "display_name": "Nicol&#225;s Marzano", "link": "https://stackoverflow.com/users/8581432/nicol%c3%a1s-marzano"}, "edited": false, "score": 0, "creation_date": 1541009250, "post_id": 53089504, "comment_id": 93076122, "body": "Ah, there it is. I couldn&#39;t find it when I searched, it definitely is a duplicate question, thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 35013, "user_id": 626853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ILPj4.jpg?s=128&g=1", "display_name": "Aasmund Eldhuset", "link": "https://stackoverflow.com/users/626853/aasmund-eldhuset"}, "is_accepted": true, "score": 1, "last_activity_date": 1541009207, "creation_date": 1541009207, "answer_id": 53089581, "question_id": 53089504, "link": "https://stackoverflow.com/questions/53089504/differences-in-these-two-ways-of-initializing-instance-variables/53089581#53089581", "title": "Differences in these two ways of initializing instance variables?", "body": "<p>The declaration-site initializations are compiled into all the constructors, in the order they appear. So the only difference between the two approaches is that declaration-site initialization gets \"reused\", which (as you point out) is convenient but can also be wasteful. Your second example is equivalent to:</p>\n\n<pre><code>public class Foo {\n    private String bar;\n    private SomeClass bar2;\n\n    public Foo() {\n        this.bar = \"\";\n        this.bar2 = new SomeClass();\n        // other stuff...\n    }\n\n    public Foo(String bar, SomeClass bar2) {\n        this.bar = \"\";\n        this.bar2 = new SomeClass();\n        this.bar = bar;\n        this.bar2 = bar2;\n        // other stuff...\n    }\n}\n</code></pre>\n\n<p>(By the way: please put a space before your <code>{</code>, unless you're at a company with a coding standard that says not to.)</p>\n"}], "owner": {"reputation": 141, "user_id": 8581432, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NFOns7zbBFU/AAAAAAAAAAI/AAAAAAAAAjs/QlCWZJiC7mM/photo.jpg?sz=128", "display_name": "Nicol&#225;s Marzano", "link": "https://stackoverflow.com/users/8581432/nicol%c3%a1s-marzano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 1, "closed_date": 1541009417, "accepted_answer_id": 53089581, "answer_count": 1, "score": 0, "last_activity_date": 1541009207, "creation_date": 1541008905, "question_id": 53089504, "link": "https://stackoverflow.com/questions/53089504/differences-in-these-two-ways-of-initializing-instance-variables", "closed_reason": "Duplicate", "title": "Differences in these two ways of initializing instance variables?", "body": "<p>I just realized I've been initializing instance variables in the following way:</p>\n\n<pre><code>public class Service{\n    private Resource resource;\n\n    public Service(){\n        resource = new Resource();\n        //other stuff...\n    }\n}\n</code></pre>\n\n<p>...out of just being used to it, I guess.</p>\n\n<p>I was wondering if this leads to any differences in instantiation, compilation, or anything I'm not realizing about, with the following way of doing it:</p>\n\n<pre><code>public class Service{\n    private Resource resource = new Resource();\n\n    public Service(){\n        //other stuff...\n    }\n}\n</code></pre>\n\n<p>I do realize that there's an advantage in the first way of doing it in case you might want different \"default\" values, as in the following case:</p>\n\n<pre><code>public class Foo{\n    private String bar;\n    private SomeClass bar2;\n\n    public Foo(){\n        bar = \"\";\n        bar2 = new SomeClass();\n        //other stuff...\n    }\n\n    public Foo(String bar, SomeClass bar2){\n        this.bar = bar;\n        this.bar2 = bar2;\n        //other stuff...\n    }\n}\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>public class Foo{\n    private String bar = \"\";\n    private SomeClass bar2 = new SomeClass();\n\n    public Foo(){\n        //other stuff...\n    }\n\n    public Foo(String bar, SomeClass bar2){\n        this.bar = bar;\n        this.bar2 = bar2;\n        //other stuff...\n    }\n}\n</code></pre>\n\n<p>...since the latter one makes instances of the variables that will get trashed if the parameterized constructor is called, but this is a more \"complex\" case and probably the reason I got used to the former way of initializing instances.</p>\n\n<p>Are there any advantages about either way aside from getting used to one of them for when it really counts?</p>\n"}, {"tags": ["java", "docker", "spring-boot", "apache-kafka", "spring-kafka"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1541031685, "post_id": 53089486, "comment_id": 93084005, "body": "This question is asked rather repeatedly. Please read <a href=\"https://rmoff.net/2018/08/02/kafka-listeners-explained/\" rel=\"nofollow noreferrer\">rmoff.net/2018/08/02/kafka-listeners-explained</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3268, "user_id": 3224238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc3102eb47267f82491395f865825ab9?s=128&d=identicon&r=PG&f=1", "display_name": "Paizo", "link": "https://stackoverflow.com/users/3224238/paizo"}, "edited": false, "score": 0, "creation_date": 1541081809, "post_id": 53093678, "comment_id": 93101555, "body": "in addition to Cricket answer you can then add <code>kafka</code> in your host file and connect to it from out side the docker-compose, given <code>KAFKA_ADVERTISED_LISTENERS=PLAINTEXT:&#47;&#47;kafka:9092</code>, <code>bootstrap-servers: kafka:9092</code> and <code>ports - 9092:9092</code>"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 3268, "user_id": 3224238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc3102eb47267f82491395f865825ab9?s=128&d=identicon&r=PG&f=1", "display_name": "Paizo", "link": "https://stackoverflow.com/users/3224238/paizo"}, "edited": false, "score": 0, "creation_date": 1541090556, "post_id": 53093678, "comment_id": 93106512, "body": "@Paizo Editing the hosts file is a hack, and should be avoided. Correcting the listeners is the correct thing."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 19790, "user_id": 857025, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/wVO8p.png?s=128&g=1", "display_name": "Don Rhummy", "link": "https://stackoverflow.com/users/857025/don-rhummy"}, "edited": false, "score": 0, "creation_date": 1541090732, "post_id": 53093678, "comment_id": 93106629, "body": "@DonRhummy See updated answer. The gist here is that you can&#39;t have the same spring config working inside and outside of Docker"}, {"owner": {"reputation": 19790, "user_id": 857025, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/wVO8p.png?s=128&g=1", "display_name": "Don Rhummy", "link": "https://stackoverflow.com/users/857025/don-rhummy"}, "edited": false, "score": 0, "creation_date": 1541100864, "post_id": 53093678, "comment_id": 93111662, "body": "@cricket_007 I get the error <code>java.lang.IllegalArgumentException: requirement failed: advertised.listeners listener names must be equal to or a subset of the ones defined in listeners. Found PLAINTEXT,PLAINTEXT_HOST. The valid options based on the current configuration are PLAINTEXT</code>"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 19790, "user_id": 857025, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/wVO8p.png?s=128&g=1", "display_name": "Don Rhummy", "link": "https://stackoverflow.com/users/857025/don-rhummy"}, "edited": false, "score": 0, "creation_date": 1541102924, "post_id": 53093678, "comment_id": 93112573, "body": "@DonRhummy Have you defined <code>KAFKA_LISTENER_SECURITY_PROTOCOL_MAP</code>, as mentioned in my answer?"}, {"owner": {"reputation": 19790, "user_id": 857025, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/wVO8p.png?s=128&g=1", "display_name": "Don Rhummy", "link": "https://stackoverflow.com/users/857025/don-rhummy"}, "edited": false, "score": 0, "creation_date": 1541107336, "post_id": 53093678, "comment_id": 93114347, "body": "@cricket_007 yes. I believe the issue is with the bitnami image. Can you try it yourself?"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 19790, "user_id": 857025, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/wVO8p.png?s=128&g=1", "display_name": "Don Rhummy", "link": "https://stackoverflow.com/users/857025/don-rhummy"}, "edited": false, "score": 0, "creation_date": 1541113376, "post_id": 53093678, "comment_id": 93116246, "body": "@DonRhummy Fixed. See updated answer. The consumer seemed to kill the container on the first request, but restarting the container, I saw the messages"}, {"owner": {"reputation": 19790, "user_id": 857025, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/wVO8p.png?s=128&g=1", "display_name": "Don Rhummy", "link": "https://stackoverflow.com/users/857025/don-rhummy"}, "edited": false, "score": 0, "creation_date": 1541116971, "post_id": 53093678, "comment_id": 93117146, "body": "@cricket_007 If you can add <code>ALLOW_PLAINTEXT_LISTENER: &quot;yes&quot;</code> I&#39;ll mark this as the answer. Without that it fails."}], "tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": true, "score": 9, "last_activity_date": 1613066421, "last_edit_date": 1613066421, "creation_date": 1541032091, "answer_id": 53093678, "question_id": 53089486, "link": "https://stackoverflow.com/questions/53089486/unable-to-connect-to-kafka-run-in-container-from-spring-boot-app-run-outside-con/53093678#53093678", "title": "Unable to connect to Kafka run in container from Spring Boot app run outside container", "body": "<blockquote>\n<p>If I run the spring boot from inside a docker container (using one docker compose file), then it does work</p>\n</blockquote>\n<p>It shouldn't work, actually. Kafka isn't running as part of the application, so this section is not pointing at the Kafka container.</p>\n<pre><code>kafka:\n    bootstrap-servers: localhost:9092\n</code></pre>\n<p>It would need to be <code>kafka:9092</code> within the Docker network.</p>\n<blockquote>\n<p>and ... <code>bootstrap-servers: kafka:9092</code> ... still times out</p>\n</blockquote>\n<p>That's because you still have <code>KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:9092</code></p>\n<hr />\n<p>Both inside and outside of Docker network, by specifying <code>KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:9092</code>, you're saying that your clients receive the Kafka bootstrap connection as <code>localhost:9092</code>, which would work outside of the Docker network only because you have made both a port forwarding and your container is running on localhost, however, inside the Docker network, as mentioned, localhost would mean <em>that</em> application container, not the broker.</p>\n<p>The solution would be to create two port mappings via that property, as discussed in length by <a href=\"https://rmoff.net/2018/08/02/kafka-listeners-explained/\" rel=\"nofollow noreferrer\">this blog post</a></p>\n<p>Plus, <a href=\"https://github.com/confluentinc/cp-docker-images/blob/5.0.0-post/examples/cp-all-in-one/docker-compose.yml\" rel=\"nofollow noreferrer\">Confluent provides a fully configured Docker Compose</a> with appropriate mappings that'll work inside and out of Docker</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    ports:\n      - &quot;9092:9092&quot;\n      - &quot;29092:29092&quot;\n    environment:\n      KAFKA_BROKER_ID: 1\n      KAFKA_ZOOKEEPER_CONNECT: 'zookeeper:2181'\n      ALLOW_PLAINTEXT_LISTENER: &quot;yes&quot;\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n      KAFKA_LISTENERS: PLAINTEXT://:9092,PLAINTEXT_HOST://0.0.0.0:29092\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:9092,PLAINTEXT_HOST://localhost:29092\n</code></pre>\n<p>For applications within Docker network, use <code>kafka:9092</code>, for applications outside, use <strong><code>localhost:29092</code></strong></p>\n<p><strong>EDIT</strong> The bitnami config variables have changed. Refer this section of the README</p>\n<p><a href=\"https://github.com/bitnami/bitnami-docker-kafka/blob/master/README.md#accessing-kafka-with-internal-and-external-clients\" rel=\"nofollow noreferrer\">https://github.com/bitnami/bitnami-docker-kafka/blob/master/README.md#accessing-kafka-with-internal-and-external-clients</a></p>\n"}], "owner": {"reputation": 19790, "user_id": 857025, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/wVO8p.png?s=128&g=1", "display_name": "Don Rhummy", "link": "https://stackoverflow.com/users/857025/don-rhummy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3442, "favorite_count": 2, "accepted_answer_id": 53093678, "answer_count": 1, "score": 4, "last_activity_date": 1613066421, "creation_date": 1541008847, "last_edit_date": 1541090790, "question_id": 53089486, "link": "https://stackoverflow.com/questions/53089486/unable-to-connect-to-kafka-run-in-container-from-spring-boot-app-run-outside-con", "title": "Unable to connect to Kafka run in container from Spring Boot app run outside container", "body": "<p>I'm running kafka locally via:</p>\n\n<p>docker-compose.yml</p>\n\n<pre><code>  zookeeper:\n    image: 'bitnami/zookeeper:latest'\n    ports:\n      - 2181:2181\n    environment:\n      - ALLOW_ANONYMOUS_LOGIN=yes\n  kafka:\n    image: 'bitnami/kafka:latest'\n    ports:\n      - 9092:9092\n    environment:\n      - KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181\n      - ALLOW_PLAINTEXT_LISTENER=yes\n      - KAFKA_ADVERTISED_PORT=9092\n      - KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:9092\n</code></pre>\n\n<p>My Spring Boot application is run with:</p>\n\n<p>application.yml:</p>\n\n<pre><code>spring:\n  application:\n    name: testkafka\n  kafka:\n    bootstrap-servers: localhost:9092\n\nserver:\n  port: 8080\n</code></pre>\n\n<p>When I run it and it tries to send to a topic on kafka, I get:</p>\n\n<pre><code>org.springframework.kafka.KafkaException: Reply timed out\n    at org.springframework.kafka.requestreply.ReplyingKafkaTemplate.lambda$sendAndReceive$0(ReplyingKafkaTemplate.java:196) ~[spring-kafka-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.0.10.RELEASE.jar:5.0.10.RELEASE]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n\n<p>If I run the spring boot from inside a docker container (using one docker compose file), then it <em>does</em> work:</p>\n\n<p>Running Both in the Same Compose:</p>\n\n<pre><code>version: \"3.0\"\nservices:\n  service1:\n    build: ./Service\n    ports:\n      - 8080:8080\n      - 5005:5005\n    links:\n      - zookeeper\n      - kafka\n  zookeeper:\n    image: 'bitnami/zookeeper:latest'\n    ports:\n      - 2181:2181\n    environment:\n      - ALLOW_ANONYMOUS_LOGIN=yes\n  kafka:\n    image: 'bitnami/kafka:latest'\n    ports:\n      - 9092:9092\n    environment:\n      - KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181\n      - ALLOW_PLAINTEXT_LISTENER=yes\n      - KAFKA_ADVERTISED_PORT=9092\n      - KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:9092\n</code></pre>\n\n<p>How can I get the kafka container to allow connections from outside itself/docker?</p>\n\n<p><strong>EDIT: Tried these changes:</strong></p>\n\n<pre><code>kafka:\n  image: 'bitnami/kafka:latest'\n  ports:\n    - 9092:9092\n  environment:\n    - KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181\n    - ALLOW_PLAINTEXT_LISTENER=yes\n    - KAFKA_ADVERTISED_PORT=9092\n    - KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://kafka:9092\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>spring:\n  application:\n    name: testkafka\n  kafka:\n    bootstrap-servers: kafka:9092\n\nserver:\n  port: 8080\n</code></pre>\n\n<p>This still times out</p>\n"}, {"tags": ["java", "rx-java"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 1, "creation_date": 1541013432, "post_id": 53089452, "comment_id": 93077932, "body": "Suggested reading: <a href=\"https://github.com/ReactiveX/RxJava#hello-world\" rel=\"nofollow noreferrer\">github.com/ReactiveX/RxJava#hello-world</a>"}], "answers": [{"tags": [], "owner": {"reputation": 9470, "user_id": 925478, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/51c385b62e5fca7e554d61641fc2b15b?s=128&d=identicon&r=PG", "display_name": "Myk Willis", "link": "https://stackoverflow.com/users/925478/myk-willis"}, "is_accepted": true, "score": 1, "last_activity_date": 1541016551, "creation_date": 1541016551, "answer_id": 53091210, "question_id": 53089452, "link": "https://stackoverflow.com/questions/53089452/intercept-and-capture-response-value/53091210#53091210", "title": "Intercept and capture response value", "body": "<p>You could use <a href=\"http://reactivex.io/documentation/operators/map.html\" rel=\"nofollow noreferrer\">map</a>:</p>\n\n<pre><code>User user; \n\npublic Single&lt;User&gt; login(String username, String password) {\n    return userRepository\n               .login(username, password)\n               .map((User u) -&gt; {\n                   user = u;\n                   return u;\n               });\n}\n</code></pre>\n"}], "owner": {"reputation": 28882, "user_id": 785349, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuJeX.jpg?s=128&g=1", "display_name": "quarks", "link": "https://stackoverflow.com/users/785349/quarks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 53091210, "answer_count": 1, "score": 0, "last_activity_date": 1541016551, "creation_date": 1541008732, "question_id": 53089452, "link": "https://stackoverflow.com/questions/53089452/intercept-and-capture-response-value", "title": "Intercept and capture response value", "body": "<p>I have this RxJava code:</p>\n\n<pre><code>User user; \n\npublic Single&lt;User&gt; login(String username, String password) {\n    return userRepository.login(username, password);\n}\n</code></pre>\n\n<p>I want to know how can the response <code>User</code> can be intercepted and assigned in a local variable.</p>\n"}, {"tags": ["java"], "comments": [{"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1541008961, "post_id": 53089439, "comment_id": 93075989, "body": "Note that there is no reason (in this code) to wrap <code>Arrays.asList</code> in <code>new ArrayList&lt;String&gt;(...)</code>. Or even to use <code>Arrays.asList</code>: just use <code>Stream.of(outputPairsArray41)</code>."}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 1, "creation_date": 1541009157, "post_id": 53089439, "comment_id": 93076087, "body": "Also, don&#39;t use raw types: <code>Map&lt;String, List&lt;String&gt;&gt; meOutputs41</code>."}], "answers": [{"tags": [], "owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "is_accepted": true, "score": 3, "last_activity_date": 1541008854, "creation_date": 1541008854, "answer_id": 53089490, "question_id": 53089439, "link": "https://stackoverflow.com/questions/53089439/how-to-ignore-empty-values-in-hashmap/53089490#53089490", "title": "How to ignore empty values in hashmap?", "body": "<p>Add a filter after the map, before the collect:</p>\n\n<pre><code>.map(s -&gt; s.split(\":\",2))\n.filter(arr -&gt; arr.length == 2)  // Add this.\n.collect(groupingBy(...))\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 10520116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d3e20a38cbe53d2709eaf3bb29c88fc?s=128&d=identicon&r=PG&f=1", "display_name": "c.r", "link": "https://stackoverflow.com/users/10520116/c-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 53089490, "answer_count": 1, "score": 2, "last_activity_date": 1541019393, "creation_date": 1541008683, "last_edit_date": 1541019393, "question_id": 53089439, "link": "https://stackoverflow.com/questions/53089439/how-to-ignore-empty-values-in-hashmap", "title": "How to ignore empty values in hashmap?", "body": "<p>I have the following string to put it to a map. </p>\n\n<blockquote>\n  <p>[Name: 4/1, \n           IP address: 000.000.00.01, IsOpticalInstalled: false, IsMPEGOutputActive: true, IsAutoNegotiationOn: true, LinkSpeed: AUTO,\n  , Mirror Of: , DSCP: 0,  sourceIPOrigin: current-ip-address]</p>\n</blockquote>\n\n<pre><code>outputPairs41=outputs41.next().trim();\n        String[] outputPairsArray41=outputPairs41.split(\",\");      \n\n        Map meOutputs41 = Stream.of(outputPairsArray41).map(\n                s -&gt; s.split(\":\",2))\n                .collect(Collectors.groupingBy(s -&gt; s[0],  \n                        Collectors.mapping(s -&gt; s[1], Collectors.toList())));\n</code></pre>\n\n<p>There is a whitespace after LinkSpeed: AUTO which is breaking my code with error ArrayIndexOutOfBoundsException: 1. Is there a way to ignore or add whitespaces as null to map? </p>\n\n<p>I tried using <code>split(\",\",1)/(\",\",2)</code>. It did not work.</p>\n"}, {"tags": ["java", "arrays", "recursion", "sum", "set"], "comments": [{"owner": {"reputation": 192, "user_id": 9853698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94f57bc239db41c5fd801bbc9a3bef30?s=128&d=identicon&r=PG&f=1", "display_name": "Asheesh Sahu", "link": "https://stackoverflow.com/users/9853698/asheesh-sahu"}, "edited": false, "score": 4, "creation_date": 1541008885, "post_id": 53089410, "comment_id": 93075949, "body": "Could you please show the splittable method and you have to edit your code too because of oneSum and twoSum is not declared, moreover I haven&#39;t seen any recursion in this code."}, {"owner": {"reputation": 1072, "user_id": 3488735, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/8DatZ.jpg?s=128&g=1", "display_name": "Gewure", "link": "https://stackoverflow.com/users/3488735/gewure"}, "edited": false, "score": 2, "creation_date": 1541009169, "post_id": 53089410, "comment_id": 93076096, "body": "Hey there. I think your question could be made much more accurate if you asked it this way:  &#180;Recursively determine if a set of numbers contains two subsets that equal in sum&#180;"}, {"owner": {"reputation": 25, "user_id": 10587411, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P70OUHpneF4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBKuO0e9ul6gAJdH57KuublkXCJtQ/mo/photo.jpg?sz=128", "display_name": "agent fedora", "link": "https://stackoverflow.com/users/10587411/agent-fedora"}, "edited": false, "score": 0, "creation_date": 1541010459, "post_id": 53089410, "comment_id": 93076680, "body": "Sorry, the splittable method was re-named canFind (it&#39;s a recursive function, I just forgot to make that change. Will edit the question."}, {"owner": {"reputation": 2014, "user_id": 6895166, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/N5CEX.jpg?s=128&g=1", "display_name": "SamHoque", "link": "https://stackoverflow.com/users/6895166/samhoque"}, "edited": false, "score": 0, "creation_date": 1541010719, "post_id": 53089410, "comment_id": 93076798, "body": "Can you provide example of how you input the code?"}, {"owner": {"reputation": 25, "user_id": 10587411, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P70OUHpneF4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBKuO0e9ul6gAJdH57KuublkXCJtQ/mo/photo.jpg?sz=128", "display_name": "agent fedora", "link": "https://stackoverflow.com/users/10587411/agent-fedora"}, "edited": false, "score": 0, "creation_date": 1541010894, "post_id": 53089410, "comment_id": 93076892, "body": "code is called from a public method with the same name:                             public static boolean canFind(int[] nums) {  \t\treturn canFind(nums, 0, 0, 0); &lt;-- this calls the private canFind method \t}"}, {"owner": {"reputation": 2014, "user_id": 6895166, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/N5CEX.jpg?s=128&g=1", "display_name": "SamHoque", "link": "https://stackoverflow.com/users/6895166/samhoque"}, "edited": false, "score": 0, "creation_date": 1541013486, "post_id": 53089410, "comment_id": 93077952, "body": "What is the output you are looking for here?"}, {"owner": {"reputation": 25, "user_id": 10587411, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P70OUHpneF4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBKuO0e9ul6gAJdH57KuublkXCJtQ/mo/photo.jpg?sz=128", "display_name": "agent fedora", "link": "https://stackoverflow.com/users/10587411/agent-fedora"}, "reply_to_user": {"reputation": 2014, "user_id": 6895166, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/N5CEX.jpg?s=128&g=1", "display_name": "SamHoque", "link": "https://stackoverflow.com/users/6895166/samhoque"}, "edited": false, "score": 0, "creation_date": 1541015738, "post_id": 53089410, "comment_id": 93079050, "body": "@Rab it should just return true or false if it can find a possible solution"}, {"owner": {"reputation": 2014, "user_id": 6895166, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/N5CEX.jpg?s=128&g=1", "display_name": "SamHoque", "link": "https://stackoverflow.com/users/6895166/samhoque"}, "edited": false, "score": 0, "creation_date": 1541015933, "post_id": 53089410, "comment_id": 93079146, "body": "I still don&#39;t get what you are trying to do or what the error you are having."}, {"owner": {"reputation": 25, "user_id": 10587411, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P70OUHpneF4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBKuO0e9ul6gAJdH57KuublkXCJtQ/mo/photo.jpg?sz=128", "display_name": "agent fedora", "link": "https://stackoverflow.com/users/10587411/agent-fedora"}, "reply_to_user": {"reputation": 2014, "user_id": 6895166, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/N5CEX.jpg?s=128&g=1", "display_name": "SamHoque", "link": "https://stackoverflow.com/users/6895166/samhoque"}, "edited": false, "score": 0, "creation_date": 1541016285, "post_id": 53089410, "comment_id": 93079300, "body": "@Rab it&#39;s more that I just can&#39;t find out the algorithm. The idea is to see if there is a sublist of the elements that when added together is equal to the sublist of the remaining values."}, {"owner": {"reputation": 2014, "user_id": 6895166, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/N5CEX.jpg?s=128&g=1", "display_name": "SamHoque", "link": "https://stackoverflow.com/users/6895166/samhoque"}, "edited": false, "score": 0, "creation_date": 1541016436, "post_id": 53089410, "comment_id": 93079373, "body": "Yeah I don&#39;t get what you are trying to say sorry dude."}, {"owner": {"reputation": 25, "user_id": 10587411, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P70OUHpneF4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBKuO0e9ul6gAJdH57KuublkXCJtQ/mo/photo.jpg?sz=128", "display_name": "agent fedora", "link": "https://stackoverflow.com/users/10587411/agent-fedora"}, "reply_to_user": {"reputation": 2014, "user_id": 6895166, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/N5CEX.jpg?s=128&g=1", "display_name": "SamHoque", "link": "https://stackoverflow.com/users/6895166/samhoque"}, "edited": false, "score": 0, "creation_date": 1541016623, "post_id": 53089410, "comment_id": 93079461, "body": "@Rab that&#39;s okay I can&#39;t figure out any good way to word it"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 10587411, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P70OUHpneF4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBKuO0e9ul6gAJdH57KuublkXCJtQ/mo/photo.jpg?sz=128", "display_name": "agent fedora", "link": "https://stackoverflow.com/users/10587411/agent-fedora"}, "edited": false, "score": 0, "creation_date": 1541018380, "post_id": 53091393, "comment_id": 93080073, "body": "Yes, this is exactly what I was looking for. Thank you so much!"}], "tags": [], "owner": {"reputation": 5636, "user_id": 8207228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bea1f01a8f41b0714de4eddc3c93ce8?s=128&d=identicon&r=PG", "display_name": "Ralf Kleberhoff", "link": "https://stackoverflow.com/users/8207228/ralf-kleberhoff"}, "is_accepted": true, "score": 3, "last_activity_date": 1541017367, "creation_date": 1541017367, "answer_id": 53091393, "question_id": 53089410, "link": "https://stackoverflow.com/questions/53089410/recursively-determine-if-a-set-of-numbers-contains-two-subsets-that-equal-in-sum/53091393#53091393", "title": "Recursively determine if a set of numbers contains two subsets that equal in sum", "body": "<p>The idea of the recursive <code>canFind()</code> method is:</p>\n\n<ul>\n<li>If I have processed the numbers up to position <code>index</code>, and have\ncollected two sums <code>sumOne</code> and <code>sumTwo</code> so far, is it possible to\nfind a solution with the remaining numbers?</li>\n</ul>\n\n<p>Before looking at your code in detail, let's clarify the task a little more (if I understand it correctly): For a valid solution, each number has to be counted, either in <code>sumOne</code> or in <code>sumTwo</code>. Skipping a number or counting a number in both sums isn't allowed.</p>\n\n<p>So, at any point in the solution process, you have the choice whether to add the current number in <code>sumOne</code>, or in <code>sumTwo</code>, and that's what you correctly do in the two recursive calls</p>\n\n<pre><code>    canFind(nums, index + 1, sumOne + nums[index], sumTwo)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>    canFind(nums, index + 1, sumOne, sumTwo + nums[index])\n</code></pre>\n\n<p>But there's a problem around the calls. You can't know whether adding the current number to <code>sumOne</code> or <code>sumTwo</code> will be correct for the solution, so you should try both ways and return true if one of them succeeds. Your code adds to <code>sumOne</code> if that's smaller, otherwise to <code>sumTwo</code>. Although this seems plausible, it doesn't necessarily lead to the solution. So, you should change that part to read</p>\n\n<pre><code>    if (canFind(nums, index + 1, sumOne + nums[index], sumTwo)) {\n        // if there's some solution by adding to sumOne, we're finished.\n        return true;\n    } else if (canFind(nums, index + 1, sumOne, sumTwo + nums[index])) {\n        // if there's some solution by adding to sumTwo, we're finished.\n        return true;\n    } else {\n        // if both tries didn't succeed, thre's no solution \n        // starting from the given situation\n        return false;\n    }\n</code></pre>\n\n<p>How long do we have to continue trying numbers? Until we get to the end of the array, as we're not allowed to leave out any number.</p>\n\n<p>And when we reach the end of the array, do we have a solution or not? It's a solution if both sums are equal.</p>\n\n<p>So, before trying the recursive calls, we should check for the end of the array:</p>\n\n<pre><code>    if (index == nums.length) {\n        if (sumOne == sumTwo) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n</code></pre>\n\n<p>Putting it all together:</p>\n\n<pre><code>private static boolean canFind(int[] nums, int index, int sumOne, int sumTwo) {\n    if (index == nums.length) {\n        // if we're at the end of the array, we can compare the sums\n        // to decide whether this is a solution.\n        if (sumOne == sumTwo) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n    if (canFind(nums, index + 1, sumOne + nums[index], sumTwo)) {\n        // if there's some solution by adding to sumOne, we're finished.\n        return true;\n    } else if (canFind(nums, index + 1, sumOne, sumTwo + nums[index])) {\n        // if there's some solution by adding to sumTwo, we're finished.\n        return true;\n    } else {\n        // if both tries didn't succeed, thre's no solution \n        // starting from the given situation\n        return false;\n    }\n}\n</code></pre>\n\n<p>This should basically do the job.</p>\n"}], "owner": {"reputation": 25, "user_id": 10587411, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P70OUHpneF4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBKuO0e9ul6gAJdH57KuublkXCJtQ/mo/photo.jpg?sz=128", "display_name": "agent fedora", "link": "https://stackoverflow.com/users/10587411/agent-fedora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 53091393, "answer_count": 1, "score": 2, "last_activity_date": 1541017367, "creation_date": 1541008607, "last_edit_date": 1541011708, "question_id": 53089410, "link": "https://stackoverflow.com/questions/53089410/recursively-determine-if-a-set-of-numbers-contains-two-subsets-that-equal-in-sum", "title": "Recursively determine if a set of numbers contains two subsets that equal in sum", "body": "<p>I need to figure out how to determine recursively if there is a selection of elements such that the sum of the selected elements is the same as the sum of unselected elements given a list of integers.</p>\n\n<p>So for example the set\n<code>nums = [1,3,5,3]</code> returns <em>true</em> because the subsets can be [3,3] and [1,5] that is both lists add up to 6, so the method should return <em>true</em>. If that subsets aren't present it should return <em>false</em>.</p>\n\n<p>I have the code:</p>\n\n<pre><code>private static boolean canFind(int[] nums, int index, int sumOne, int sumTwo) {\n    if (index == nums.length) {\n        return false;\n    }\n\n    if (oneSum == twoSum) {\n        return true;\n    }\n\n    if (oneSum &lt; twoSum) {\n        return canFind(nums, index + 1, sumOne + nums[index], sumTwo);\n    }\n\n    return canFind(nums, index + 1, sumOne, sumTwo + nums[index]);\n}\n</code></pre>\n\n<p>but I can't figure out why this doesn't work, or even why it would.</p>\n"}, {"tags": ["java", "multithreading", "user-interface", "javafx", "progress-bar"], "comments": [{"owner": {"reputation": 10057, "user_id": 2423906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rkpYv.jpg?s=128&g=1", "display_name": "Sedrick", "link": "https://stackoverflow.com/users/2423906/sedrick"}, "edited": false, "score": 0, "creation_date": 1541022858, "post_id": 53089402, "comment_id": 93081694, "body": "This does not use a <code>ProgessBar</code> but it updates <code>Label</code>. See it this idea works okay for you.  <a href=\"https://stackoverflow.com/questions/51955550/remove-tableview-entries-when-status-change\" title=\"remove tableview entries when status change\">stackoverflow.com/questions/51955550/&hellip;</a>"}, {"owner": {"reputation": 34259, "user_id": 506855, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/1593ecf28b204068027f050329d171b4?s=128&d=identicon&r=PG", "display_name": "Puce", "link": "https://stackoverflow.com/users/506855/puce"}, "edited": false, "score": 0, "creation_date": 1541027668, "post_id": 53089402, "comment_id": 93083089, "body": "Not 100% what your looking for, but in case you don&#39;t find anything else: I&#39;ve implemented a ProgressMonitor which monitors a list of Workers: <a href=\"http://www.drombler.org/drombler-commons/0.13/docs/site/apidocs/org/drombler/commons/fx/scene/control/ProgressMonitor.html\" rel=\"nofollow noreferrer\">drombler.org/drombler-commons/0.13/docs/site/apidocs/org/&hellip;</a> You can cancel each worker individually. It does not provide an aggregated view however."}, {"owner": {"reputation": 34259, "user_id": 506855, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/1593ecf28b204068027f050329d171b4?s=128&d=identicon&r=PG", "display_name": "Puce", "link": "https://stackoverflow.com/users/506855/puce"}, "edited": false, "score": 0, "creation_date": 1541027938, "post_id": 53089402, "comment_id": 93083166, "body": "Hmm, if you can manage to create an aggregated Worker and place it first in the list, ProgressMonitor could be what your looking for."}, {"owner": {"reputation": 10057, "user_id": 2423906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rkpYv.jpg?s=128&g=1", "display_name": "Sedrick", "link": "https://stackoverflow.com/users/2423906/sedrick"}, "edited": false, "score": 0, "creation_date": 1541084524, "post_id": 53089402, "comment_id": 93103078, "body": "Don&#39;t know if this will help. <a href=\"https://gist.github.com/jewelsea/4947946\" rel=\"nofollow noreferrer\">gist.github.com/jewelsea/4947946</a>"}], "answers": [{"comments": [{"owner": {"reputation": 312, "user_id": 4071461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/195116dca64969be94c447d3403dd15f?s=128&d=identicon&r=PG", "display_name": "kasvith", "link": "https://stackoverflow.com/users/4071461/kasvith"}, "edited": false, "score": 0, "creation_date": 1541014210, "post_id": 53090602, "comment_id": 93078288, "body": "is the similar method to track progress from each thread is to use a Map or List of AtomicIntegers ?"}, {"owner": {"reputation": 67076, "user_id": 2991525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497fb92ca5e55e1eee47b1c4c7043586?s=128&d=identicon&r=PG&f=1", "display_name": "fabian", "link": "https://stackoverflow.com/users/2991525/fabian"}, "reply_to_user": {"reputation": 312, "user_id": 4071461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/195116dca64969be94c447d3403dd15f?s=128&d=identicon&r=PG", "display_name": "kasvith", "link": "https://stackoverflow.com/users/4071461/kasvith"}, "edited": false, "score": 0, "creation_date": 1541014722, "post_id": 53090602, "comment_id": 93078549, "body": "You could use a list of updates (immutable key, value pairs and work with that). Note that I edited the answer to use <code>synchronized</code> instead of <code>Atomic...</code> since should allow you to be a bit more flexible with storing the updates..."}, {"owner": {"reputation": 312, "user_id": 4071461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/195116dca64969be94c447d3403dd15f?s=128&d=identicon&r=PG", "display_name": "kasvith", "link": "https://stackoverflow.com/users/4071461/kasvith"}, "edited": false, "score": 0, "creation_date": 1541014984, "post_id": 53090602, "comment_id": 93078686, "body": "My actual task is to parallelize downloads and report downloaded bytes and the speed to the parent task, for download speed i will need to have keep track on threads that finished and also download speed with each thread to get average speed(like in IDM), hope this method would work, thanks for the time"}, {"owner": {"reputation": 67076, "user_id": 2991525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497fb92ca5e55e1eee47b1c4c7043586?s=128&d=identicon&r=PG&f=1", "display_name": "fabian", "link": "https://stackoverflow.com/users/2991525/fabian"}, "reply_to_user": {"reputation": 312, "user_id": 4071461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/195116dca64969be94c447d3403dd15f?s=128&d=identicon&r=PG", "display_name": "kasvith", "link": "https://stackoverflow.com/users/4071461/kasvith"}, "edited": false, "score": 0, "creation_date": 1541068645, "post_id": 53090602, "comment_id": 93094611, "body": "You could call the <code>ProgressReceiver</code> part a simplified observer implementation (you just needed the overall progress). You could very well make a more complicated observer and store the results in a different way, but you need to make sure that <code>Platform.runLater</code> is not used too frequently and that changes done to the data structure storing the info on the background are visible to the JavaFX application thread. (<code>synchronized</code> ensures this in my code snippet.)"}, {"owner": {"reputation": 312, "user_id": 4071461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/195116dca64969be94c447d3403dd15f?s=128&d=identicon&r=PG", "display_name": "kasvith", "link": "https://stackoverflow.com/users/4071461/kasvith"}, "edited": false, "score": 0, "creation_date": 1541232150, "post_id": 53090602, "comment_id": 93152966, "body": "I resolved the problem using a <code>PropertyChangeSupport</code> bean, answer posted in the thread"}], "tags": [], "owner": {"reputation": 67076, "user_id": 2991525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497fb92ca5e55e1eee47b1c4c7043586?s=128&d=identicon&r=PG&f=1", "display_name": "fabian", "link": "https://stackoverflow.com/users/2991525/fabian"}, "is_accepted": false, "score": 2, "last_activity_date": 1541014315, "last_edit_date": 1541014315, "creation_date": 1541013787, "answer_id": 53090602, "question_id": 53089402, "link": "https://stackoverflow.com/questions/53089402/javafx-running-parallel-threads-and-update-overall-progress-to-a-progressbar/53090602#53090602", "title": "JavaFX : Running parallel threads and update overall progress to a ProgressBar", "body": "<p>Depending on the number of tasks running in parallel you may simply use <code>Task</code>s for the <code>Counter</code> logic and update the overall progress from listeners to the <code>progress</code> properties of those tasks.</p>\n\n<p>If too many of those tasks are running in parallel though, this could slow down the JavaFX application thread, since too many <code>Runnable</code>s could be waiting to be executed at once.</p>\n\n<p>You could implement updates based on the progress difference yourself though by using a <code>synchronized</code> statement. The following code starts the updates from the javafx application thread for simplicity, but this logic could be moved to a different thread without causing any issues:</p>\n\n<pre><code>@Override\npublic void start(Stage primaryStage) {\n    ProgressBar progressBar = new ProgressBar();\n\n    int workers = 8;\n\n    ExecutorService executorService = Executors.newFixedThreadPool(workers);\n\n    final int taskCount = 12;\n    final int elementsPerTask = 50;\n    final int elementCount = elementsPerTask * taskCount;\n\n    ProgressReceiver progressReceiver = new ProgressReceiver() {\n\n        private boolean updating = false;\n        private int progress = 0;\n\n        @Override\n        public void acceptProgress(int oldValue, int newValue) {\n            synchronized(this) {\n                progress += newValue - oldValue;\n                if (!updating) {\n                    updating = true;\n                    Platform.runLater(() -&gt; {\n                        synchronized (this) {\n                            updating = false;\n                            progressBar.setProgress(((double) progress) / elementCount);\n                        }\n                    });\n                }\n            }\n        }\n\n    };\n    for (int i = 0; i &lt; taskCount; i++) {\n        int start = elementsPerTask * i;\n        int end = elementsPerTask * (i + 1);\n\n        Counter counter = new Counter(start, end, progressReceiver);\n        executorService.submit(counter);\n    }\n\n    executorService.shutdown();\n\n    StackPane root = new StackPane(progressBar);\n\n    Scene scene = new Scene(root, 300, 300);\n\n    primaryStage.setScene(scene);\n    primaryStage.show();\n}\n</code></pre>\n\n\n\n<pre><code>public interface ProgressReceiver {\n    void acceptProgress(int oldValue, int newValue);\n}\n</code></pre>\n\n\n\n<pre><code>public class Counter implements Runnable {\n\n    private final ProgressReceiver progressReceiver;\n\n    private final int from, to;\n\n    public Counter(int from, int to, ProgressReceiver progressReceiver) {\n        this.from = from;\n        this.to = to;\n        this.progressReceiver = progressReceiver;\n    }\n\n    @Override\n    public void run() {\n        for (int i = from; i &lt; to; i++) {\n            try {\n                Thread.sleep(100);\n            } catch (InterruptedException e) {\n            }\n            int oldProgress = i - from;\n            progressReceiver.acceptProgress(oldProgress, oldProgress + 1);\n        }\n\n        // exit thread with status of success or failure\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 312, "user_id": 4071461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/195116dca64969be94c447d3403dd15f?s=128&d=identicon&r=PG", "display_name": "kasvith", "link": "https://stackoverflow.com/users/4071461/kasvith"}, "is_accepted": true, "score": 1, "last_activity_date": 1541232051, "creation_date": 1541232051, "answer_id": 53129528, "question_id": 53089402, "link": "https://stackoverflow.com/questions/53089402/javafx-running-parallel-threads-and-update-overall-progress-to-a-progressbar/53129528#53129528", "title": "JavaFX : Running parallel threads and update overall progress to a ProgressBar", "body": "<p>I resolved the issue using <code>PropertyChangeSupport</code> class. This provides thread safe properties, also it provide property listeners. More from <a href=\"https://docs.oracle.com/javase/7/docs/api/java/beans/PropertyChangeSupport.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>import java.beans.PropertyChangeListener;\nimport java.beans.PropertyChangeSupport;\n\npublic final class ProgressReporter {\n    private PropertyChangeSupport propertyChangeSupport = new PropertyChangeSupport(this);\n    private int progress = 0;\n\n    public void addPropertyChangeListener(PropertyChangeListener listener) {\n        propertyChangeSupport.addPropertyChangeListener(listener);\n    }\n\n    public void removePropertyChangeListener(PropertyChangeListener listener) {\n        propertyChangeSupport.removePropertyChangeListener(listener);\n    }\n\n    public void accumulateProgress(int progress){\n        this.propertyChangeSupport.firePropertyChange(\"progress\", this.progress, this.progress + progress);\n        this.progress += progress;\n    }\n\n    public int getProgress() {\n        return progress;\n    }\n}\n</code></pre>\n\n<p>Now by listening to the <code>ProgressReporter</code> we can get the progress when new data arrives. Note that <code>firePropertyChange</code> only fires when <strong>old</strong> and <strong>new</strong> values are <strong>different</strong>, otherwise it will not fire an update to listeners.</p>\n\n<p>Now we create the <code>Counter</code> class to use this <code>ProgressReporter</code></p>\n\n<pre><code>public class Counter implements Runnable {\n    private int id, from, to, sleep;\n    private ProgressReporter reporter;\n\n    public Counter(int id, int from, int to, int sleep, ProgressReporter reporter) {\n        this.from = from;\n        this.to = to;\n        this.sleep = sleep;\n        this.id = id;\n        this.reporter = reporter;\n\n        System.out.println(\"Thread #\" + id + \" started delay=\" + sleep);\n    }\n\n    @Override\n    public void run() {\n        for (int i = from; i &lt; to ; i++) {\n            try {\n                Thread.sleep(sleep);\n                reporter.accumulateProgress(1); // this will fire an update to listeners\n            } catch (InterruptedException e){\n\n            }\n        }\n\n        System.out.println(\"Thread #\" + id + \" is completed\");\n    }\n}\n</code></pre>\n\n<p>Now in the Task which initiated by the JavaFX thread implemented like this.</p>\n\n<pre><code>public class MyTask extends Task&lt;Integer&gt; {\n    int iterations;\n    Random random = new Random();\n    ProgressReporter reporter = new ProgressReporter();\n\n    public MyTask(int iterations) {\n        this.iterations = iterations;\n    }\n\n    @Override\n    protected Integer call() throws Exception {\n        // Simply divide work load to each thread\n        int workers = 8;\n        int limit = iterations /workers;\n        int rem = iterations % workers;\n\n        // add a property listener for progress update\n        reporter.addPropertyChangeListener(new PropertyChangeListener() {\n            @Override\n            public void propertyChange(PropertyChangeEvent evt) {\n                updateProgress((int) evt.getNewValue(), iterations);\n            }\n        });\n\n        // Creates a executor\n        ExecutorService executorService = Executors.newCachedThreadPool();\n        for (int i = 0; i &lt; workers; i++) {\n            int start = limit * i;\n            int end = limit * (i + 1);\n            if (i == workers - 1) end += rem;\n\n            Counter counter = new Counter(i ,start, end, random.nextInt(1000), reporter);\n            executorService.submit(counter); // Submit work to be done\n        }\n\n        executorService.shutdown(); // shutdown executor not to accept any more threads\n        while (!executorService.isTerminated()){\n            if (isCancelled()){\n                executorService.shutdownNow(); // stop all the processes immediately\n            }\n        }\n\n        return reporter.getProgress();\n    }\n}\n</code></pre>\n\n<p>Now the usual JavaFX bindings like</p>\n\n<pre><code>progressBar.progressProperty().bind(task.progressProperty())\n</code></pre>\n\n<p>Full source code can be found in <a href=\"https://github.com/kasvith/AggregateParallelTasks\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 312, "user_id": 4071461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/195116dca64969be94c447d3403dd15f?s=128&d=identicon&r=PG", "display_name": "kasvith", "link": "https://stackoverflow.com/users/4071461/kasvith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1264, "favorite_count": 2, "accepted_answer_id": 53129528, "answer_count": 2, "score": 1, "last_activity_date": 1541232051, "creation_date": 1541008557, "question_id": 53089402, "link": "https://stackoverflow.com/questions/53089402/javafx-running-parallel-threads-and-update-overall-progress-to-a-progressbar", "title": "JavaFX : Running parallel threads and update overall progress to a ProgressBar", "body": "<p>I'm in need of <strong>splitting</strong> some workload to threads and <strong>start them parallel</strong> as they are independent. I also want to display overall progress in a ProgressBar with JavaFx. It means progressbar shows the <strong>total work done by each thread so far</strong>. </p>\n\n<p>For sake of simplicity we can take this <code>Counter</code> class as an example</p>\n\n<pre><code>public class Counter implements Runnable {\n    private int from, to;\n\n    public Counter(int from, int to) {\n        this.from = from;\n        this.to = to;\n    }\n\n    @Override\n    public void run() {\n        for (int i = from; i &lt; to ; i++) {\n            // Do some heavy operation\n            // report about progress to the parent\n        }\n\n        // exit thread with status of success or failure\n    }\n}\n</code></pre>\n\n<p>This class takes from, to as boundary conditions. </p>\n\n<p>To not block the UI I use a simple <code>Task</code> class like this</p>\n\n<pre><code>public class MyTask extends Task&lt;Integer&gt; {\n    int iter;\n\n    public MyTask(int iter) {\n        this.iter = iter;\n    }\n\n    @Override\n    protected Integer call() throws Exception {\n        // Simply divide work load to each thread\n        int workers = 8;\n        int limit = iter/workers;\n        int rem = iter % workers;\n\n        // Creates a executor\n        ExecutorService executorService = Executors.newFixedThreadPool(workers);\n        for (int i = 0; i &lt; workers; i++) {\n            int start = limit * i;\n            int end = limit * (i + 1);\n            if (i == workers - 1) end += rem;\n\n            Counter counter = new Counter(start, end);\n            executorService.submit(counter); // Submit work to be done\n        }\n\n        executorService.shutdown(); // start the execution\n\n        // Get their progress, update overall progress to UI\n        // Stop after all threads finished\n    }\n}\n</code></pre>\n\n<p>In the <code>MyTask</code> I want to update the UI as stated in the comments with the overall completion. (i.e. Total count done by each thread).</p>\n\n<p>Is there any method to do this? aggregate the progress of parallel tasks and update overall progress in UI(im not counting on the number of finished threads, it's the each thread's current progress I want to report to the MyTask).</p>\n"}, {"tags": ["java", "class", "formatting", "format", "decimalformat"], "comments": [{"owner": {"reputation": 496316, "user_id": 57695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/53ee9941b3fefef67175daf212e62d41?s=128&d=identicon&r=PG", "display_name": "Peter Lawrey", "link": "https://stackoverflow.com/users/57695/peter-lawrey"}, "edited": false, "score": 1, "creation_date": 1541008545, "post_id": 53089357, "comment_id": 93075771, "body": "The hashes show optional digits. try formatting <code>3.14159265</code>"}, {"owner": {"reputation": 4505, "user_id": 4417306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc90fc44a31eb2bdc442686e75a1a4dd?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4417306/mark"}, "edited": false, "score": 1, "creation_date": 1541008783, "post_id": 53089357, "comment_id": 93075910, "body": "Unless I&#39;m wrong, which is possible, the question is about a format like <i><code>##.###</code></i> where there are parameters to the <b><i>left</i></b> of the <code>.</code>, answers so far have only answered what it means in general."}], "answers": [{"comments": [{"owner": {"reputation": 4505, "user_id": 4417306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc90fc44a31eb2bdc442686e75a1a4dd?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4417306/mark"}, "edited": false, "score": 2, "creation_date": 1541008909, "post_id": 53089414, "comment_id": 93075961, "body": "Unless I&#39;m wrong which is also possible, the question is about what parameters to the <b>left</b> of the decimal will do, not what <code>#</code> means in general."}], "tags": [], "owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "is_accepted": false, "score": 0, "last_activity_date": 1541008612, "creation_date": 1541008612, "answer_id": 53089414, "question_id": 53089357, "link": "https://stackoverflow.com/questions/53089357/in-the-java-class-decimalformat-what-do-the-hashtags-at-the-left-side-of-the-de/53089414#53089414", "title": "In the Java class DecimalFormat, what do the hashtags at the left side of the decimal do?", "body": "<p><code>#</code> formats a digit, but drops zeros. Since your number has two digits after the decimal, the third format character is ignored. If you had a number with four digits after the decimal point, they would have been reduced to three significant digits.</p>\n"}, {"comments": [{"owner": {"reputation": 4505, "user_id": 4417306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc90fc44a31eb2bdc442686e75a1a4dd?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4417306/mark"}, "edited": false, "score": 1, "creation_date": 1541008917, "post_id": 53089423, "comment_id": 93075965, "body": "Unless I&#39;m wrong which is also possible, the question is about what parameters to the <b>left</b> of the decimal will do, not what <code>#</code> means in general."}, {"owner": {"reputation": 67, "user_id": 8083716, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JqpA2b6EhIg/AAAAAAAAAAI/AAAAAAAAAiE/TKSWjSEtfKw/photo.jpg?sz=128", "display_name": "Samuel Quansah", "link": "https://stackoverflow.com/users/8083716/samuel-quansah"}, "edited": false, "score": 0, "creation_date": 1541010138, "post_id": 53089423, "comment_id": 93076531, "body": "I know what the hashtags to the right of the decimal point do, I was asking what the decimal points to the left do."}, {"owner": {"reputation": 4505, "user_id": 4417306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc90fc44a31eb2bdc442686e75a1a4dd?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4417306/mark"}, "reply_to_user": {"reputation": 67, "user_id": 8083716, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JqpA2b6EhIg/AAAAAAAAAAI/AAAAAAAAAiE/TKSWjSEtfKw/photo.jpg?sz=128", "display_name": "Samuel Quansah", "link": "https://stackoverflow.com/users/8083716/samuel-quansah"}, "edited": false, "score": 0, "creation_date": 1541010712, "post_id": 53089423, "comment_id": 93076792, "body": "@SamuelQuansah Please see my answer which covers <code>#</code> to the left of the decimal point."}, {"owner": {"reputation": 67, "user_id": 8083716, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JqpA2b6EhIg/AAAAAAAAAAI/AAAAAAAAAiE/TKSWjSEtfKw/photo.jpg?sz=128", "display_name": "Samuel Quansah", "link": "https://stackoverflow.com/users/8083716/samuel-quansah"}, "reply_to_user": {"reputation": 4505, "user_id": 4417306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc90fc44a31eb2bdc442686e75a1a4dd?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4417306/mark"}, "edited": false, "score": 0, "creation_date": 1541014735, "post_id": 53089423, "comment_id": 93078556, "body": "@Mark will do, was only able to take a quick look since I was in school."}], "tags": [], "owner": {"reputation": 38504, "user_id": 1602555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1sjqZ.jpg?s=128&g=1", "display_name": "Karol Dowbecki", "link": "https://stackoverflow.com/users/1602555/karol-dowbecki"}, "is_accepted": false, "score": 0, "last_activity_date": 1541009008, "last_edit_date": 1541009008, "creation_date": 1541008638, "answer_id": 53089423, "question_id": 53089357, "link": "https://stackoverflow.com/questions/53089357/in-the-java-class-decimalformat-what-do-the-hashtags-at-the-left-side-of-the-de/53089423#53089423", "title": "In the Java class DecimalFormat, what do the hashtags at the left side of the decimal do?", "body": "<p>As per <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">DecimalFormat docs</a> <code>#</code> is used to conditionally show the digit.</p>\n\n<pre><code>Symbol  Location    Localized?  Meaning\n#       Number      Yes         Digit, zero shows as absent\n</code></pre>\n\n<p>Do note that the number of <code>#</code> used matters:</p>\n\n<pre><code>DecimalFormat x = new DecimalFormat(\".###\");\nSystem.out.println(x.format(43.9711111)); // 43.971\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 67, "user_id": 8083716, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JqpA2b6EhIg/AAAAAAAAAAI/AAAAAAAAAiE/TKSWjSEtfKw/photo.jpg?sz=128", "display_name": "Samuel Quansah", "link": "https://stackoverflow.com/users/8083716/samuel-quansah"}, "edited": false, "score": 1, "creation_date": 1541015019, "post_id": 53089672, "comment_id": 93078701, "body": "Thanks for your answer. I would have just been happy with you telling me that the hashtags before the decimal does not do anything practical, but you showed me a case of this working with 0&#39;s. Never knew I could do that with this class."}], "tags": [], "owner": {"reputation": 4505, "user_id": 4417306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc90fc44a31eb2bdc442686e75a1a4dd?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4417306/mark"}, "is_accepted": true, "score": 4, "last_activity_date": 1541010846, "last_edit_date": 1541010846, "creation_date": 1541009572, "answer_id": 53089672, "question_id": 53089357, "link": "https://stackoverflow.com/questions/53089357/in-the-java-class-decimalformat-what-do-the-hashtags-at-the-left-side-of-the-de/53089672#53089672", "title": "In the Java class DecimalFormat, what do the hashtags at the left side of the decimal do?", "body": "<p>Like others have said <code>#</code> formats a digit but drops zeros. </p>\n\n<p>In your example where you apply <code>.###</code> to a double like <code>12.34</code> it <em>would</em> format to <code>12.340</code> but since it drops zeros it does not. </p>\n\n<p>The same happens when you put a <code>#</code> <strong>before</strong> the decimal, for example <code>###.###</code> to format <code>12.34</code> <em>would</em> display <code>012.340</code> but since it drops zeros it displays as <code>12.34</code>.</p>\n\n<p>So a <code>#</code> <strong>before</strong> the decimal will really do nothing.</p>\n\n<p>An example of something useful <strong>before</strong> the decimal, so you can see formats before the decimal <em>can</em> work is <code>0</code> which formats a digit but does <strong>not</strong> drop zeros, and can also be used in the DecimalFormat. A pattern like <code>000.000</code> applied to <code>12.34</code> results in <code>012.340</code>:</p>\n\n<pre><code>double d = 12.34;\nDecimalFormat df = new DecimalFormat(\"000.000\");\nSystem.out.print(df.format(d));\n</code></pre>\n\n<p>Patterns like <code>0</code>, <code>#</code> and more are defined in <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">DecimalFormat</a>.</p>\n"}], "owner": {"reputation": 67, "user_id": 8083716, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JqpA2b6EhIg/AAAAAAAAAAI/AAAAAAAAAiE/TKSWjSEtfKw/photo.jpg?sz=128", "display_name": "Samuel Quansah", "link": "https://stackoverflow.com/users/8083716/samuel-quansah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 598, "favorite_count": 0, "accepted_answer_id": 53089672, "answer_count": 3, "score": 3, "last_activity_date": 1541010846, "creation_date": 1541008390, "last_edit_date": 1541008729, "question_id": 53089357, "link": "https://stackoverflow.com/questions/53089357/in-the-java-class-decimalformat-what-do-the-hashtags-at-the-left-side-of-the-de", "title": "In the Java class DecimalFormat, what do the hashtags at the left side of the decimal do?", "body": "<p>My title of this question I have isn't so great, but hopefully I can explain it more in this post.</p>\n\n<pre><code>import java.io.*;\nimport java.text.*;\npublic class Output {\npublic static void main(String[] args) {\n\n    /*double number = 438.978;\n    /*UpperCase &lt;- naming convention for classes.DecimalFormat x = new DecimalFormat(\"#.#\");\n    System.out.println(x.format(number));*/\n\n    double number = 43.97;\n    DecimalFormat x = new DecimalFormat(\".###\");\n    System.out.println(x.format(number));\n\n  }\n}\n</code></pre>\n\n<p>Don't mind the comments. During my Gr 11 Comp Sci class I asked my teacher if the hashtags on the left of the decimal point(<em>11th line</em>) did anything to the double number, we tried it as a class and we found that it did not change the output of the <em>System.out.println</em> statement.</p>\n\n<pre><code>~/workspace/Java/ $ java Output\n43.97\n</code></pre>\n\n<p>Can someone explain to me the purpose of the parameters to the left of the decimal? Someone programmed it to do something so I was just curious.</p>\n"}]